/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e,t,n,r,i={22:(e,t,n)=>{"use strict";const r=n(2634).v4,i=n(3289),s=function(e,t){if(!(this instanceof s))return new s(e,t);t||(t={}),this.options={reviver:void 0!==t.reviver?t.reviver:null,replacer:void 0!==t.replacer?t.replacer:null,generator:void 0!==t.generator?t.generator:function(){return r()},version:void 0!==t.version?t.version:2,notificationIdNull:"boolean"==typeof t.notificationIdNull&&t.notificationIdNull},this.callServer=e};e.exports=s,s.prototype.request=function(e,t,n,r){const s=this;let o=null;const a=Array.isArray(e)&&"function"==typeof t;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&e&&"object"==typeof e&&"function"==typeof t)r=t,o=e;else{"function"==typeof n&&(r=n,n=void 0);const s="function"==typeof r;try{o=i(e,t,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(e){if(s)return r(e);throw e}if(!s)return o}let c;try{c=JSON.stringify(o,this.options.replacer)}catch(e){return r(e)}return this.callServer(c,function(e,t){s._parseResponse(e,t,r)}),o},s.prototype._parseResponse=function(e,t,n){if(e)return void n(e);if(!t)return n();let r;try{r=JSON.parse(t,this.options.reviver)}catch(e){return n(e)}if(3===n.length){if(Array.isArray(r)){const e=function(e){return void 0!==e.error},t=function(t){return!e(t)};return n(null,r.filter(e),r.filter(t))}return n(null,r.error,r.result)}n(null,r)}},53:(e,t,n)=>{"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.d(t,{$:()=>i})},96:(e,t,n)=>{"use strict";n.d(t,{g:()=>a});class r{constructor(e,t){this.type=e,this.data=t}}var i=n(2184),s=n(1901);const o={type:-1,encode:function(e){return e instanceof Date?function({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=17179869183){if(0===t&&e<=4294967295){const t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e),t}{const n=e/4294967296,r=4294967295&e,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,t<<2|3&n),s.setUint32(4,r),i}}{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,t),(0,s._j)(r,4,e),n}}(function(e){const t=e.getTime(),n=Math.floor(t/1e3),r=1e6*(t-1e3*n),i=Math.floor(r/1e9);return{sec:n+i,nsec:r-1e9*i}}(e)):null},decode:function(e){const t=function(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{const e=t.getUint32(0);return{sec:4294967296*(3&e)+t.getUint32(4),nsec:e>>>2}}case 12:return{sec:(0,s.eN)(t,4),nsec:t.getUint32(0)};default:throw new i.X(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${e.length}`)}}(e);return new Date(1e3*t.sec+t.nsec/1e6)}};class a{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(o)}register({type:e,encode:t,decode:n}){if(e>=0)this.encoders[e]=t,this.decoders[e]=n;else{const r=-1-e;this.builtInEncoders[r]=t,this.builtInDecoders[r]=n}}tryToEncode(e,t){for(let n=0;n<this.builtInEncoders.length;n++){const i=this.builtInEncoders[n];if(null!=i){const s=i(e,t);if(null!=s)return new r(-1-n,s)}}for(let n=0;n<this.encoders.length;n++){const i=this.encoders[n];if(null!=i){const s=i(e,t);if(null!=s)return new r(n,s)}}return e instanceof r?e:null}decode(e,t,n){const i=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return i?i(e,t,n):new r(t,e)}}a.defaultCodec=new a},157:(e,t,n)=>{const r=n(6886),i=n(9953),s=n(9899),o=n(8820),a=n(6421),c=n(7756),l=n(1332),u=n(7518),d=n(4764),h=n(1427),f=n(4565),p=n(208),g=n(9801);function m(e,t,n){const r=e.size,i=f.getEncodedBits(t,n);let s,o;for(s=0;s<15;s++)o=1==(i>>s&1),s<6?e.set(s,8,o,!0):s<8?e.set(s+1,8,o,!0):e.set(r-15+s,8,o,!0),s<8?e.set(8,r-s-1,o,!0):s<9?e.set(8,15-s-1+1,o,!0):e.set(8,15-s-1,o,!0);e.set(r-8,8,1,!0)}function y(e,t,n,i){let f;if(Array.isArray(e))f=g.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");{let r=t;if(!r){const t=g.rawSplit(e);r=h.getBestVersionForData(t,n)}f=g.fromString(e,r||40)}}const y=h.getBestVersionForData(f,n);if(!y)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<y)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+y+".\n")}else t=y;const w=function(e,t,n){const i=new s;n.forEach(function(t){i.put(t.mode.bit,4),i.put(t.getLength(),p.getCharCountIndicator(t.mode,e)),t.write(i)});const o=8*(r.getSymbolTotalCodewords(e)-u.getTotalCodewordsCount(e,t));for(i.getLengthInBits()+4<=o&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);const a=(o-i.getLengthInBits())/8;for(let e=0;e<a;e++)i.put(e%2?17:236,8);return function(e,t,n){const i=r.getSymbolTotalCodewords(t),s=i-u.getTotalCodewordsCount(t,n),o=u.getBlocksCount(t,n),a=o-i%o,c=Math.floor(i/o),l=Math.floor(s/o),h=l+1,f=c-l,p=new d(f);let g=0;const m=new Array(o),y=new Array(o);let w=0;const b=new Uint8Array(e.buffer);for(let e=0;e<o;e++){const t=e<a?l:h;m[e]=b.slice(g,g+t),y[e]=p.encode(m[e]),g+=t,w=Math.max(w,t)}const v=new Uint8Array(i);let x,E,k=0;for(x=0;x<w;x++)for(E=0;E<o;E++)x<m[E].length&&(v[k++]=m[E][x]);for(x=0;x<f;x++)for(E=0;E<o;E++)v[k++]=y[E][x];return v}(i,e,t)}(t,n,f),b=r.getSymbolSize(t),v=new o(b);return function(e,t){const n=e.size,r=c.getPositions(t);for(let t=0;t<r.length;t++){const i=r[t][0],s=r[t][1];for(let t=-1;t<=7;t++)if(!(i+t<=-1||n<=i+t))for(let r=-1;r<=7;r++)s+r<=-1||n<=s+r||(t>=0&&t<=6&&(0===r||6===r)||r>=0&&r<=6&&(0===t||6===t)||t>=2&&t<=4&&r>=2&&r<=4?e.set(i+t,s+r,!0,!0):e.set(i+t,s+r,!1,!0))}}(v,t),function(e){const t=e.size;for(let n=8;n<t-8;n++){const t=n%2==0;e.set(n,6,t,!0),e.set(6,n,t,!0)}}(v),function(e,t){const n=a.getPositions(t);for(let t=0;t<n.length;t++){const r=n[t][0],i=n[t][1];for(let t=-2;t<=2;t++)for(let n=-2;n<=2;n++)-2===t||2===t||-2===n||2===n||0===t&&0===n?e.set(r+t,i+n,!0,!0):e.set(r+t,i+n,!1,!0)}}(v,t),m(v,n,0),t>=7&&function(e,t){const n=e.size,r=h.getEncodedBits(t);let i,s,o;for(let t=0;t<18;t++)i=Math.floor(t/3),s=t%3+n-8-3,o=1==(r>>t&1),e.set(i,s,o,!0),e.set(s,i,o,!0)}(v,t),function(e,t){const n=e.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(6===a&&a--;;){for(let n=0;n<2;n++)if(!e.isReserved(i,a-n)){let r=!1;o<t.length&&(r=1==(t[o]>>>s&1)),e.set(i,a-n,r),s--,-1===s&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}(v,w),isNaN(i)&&(i=l.getBestMask(v,m.bind(null,v,n))),l.applyMask(i,v),m(v,n,i),{modules:v,version:t,errorCorrectionLevel:n,maskPattern:i,segments:f}}t.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");let n,s,o=i.M;return void 0!==t&&(o=i.from(t.errorCorrectionLevel,i.M),n=h.from(t.version),s=l.from(t.maskPattern),t.toSJISFunc&&r.setToSJISFunction(t.toSJISFunc)),y(e,n,o,s)}},159:(e,t,n)=>{"use strict";(r=n(6540))&&"object"==typeof r&&"default"in r&&r.default;var r,i=n(9502),s=new i,o=s.getBrowser(),a=(s.getCPU(),s.getDevice()),c=s.getEngine(),l=s.getOS(),u=s.getUA();var d="mobile",h="tablet",f="Chrome",p="Firefox",g="Opera",m="Yandex",y="Safari",w="Internet Explorer",b="Edge",v="Chromium",x="IE",E="Mobile Safari",k="MIUI Browser",_="Samsung Browser",C="iOS",S="Android",I="Windows Phone",A="Windows",T="Mac OS",P=function(e){return e||(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none")},O=function(){return!("undefined"==typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator)},j=function(e){var t=O();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)},N=function(e){return e.type===d},R=function(e){return e.type===h},$=function(e){var t=e.type;return t===d||t===h},M=function(e){return"smarttv"===e.type},L=function(e){return undefined===e.type},B=function(e){return"wearable"===e.type},U=function(e){return"console"===e.type},D=function(e){return"embedded"===e.type},F=function(e){var t=e.vendor;return P(t)},z=function(e){var t=e.model;return P(t)},W=function(e){var t=e.type;return P(t,"browser")},q=function(e){return e.name===S},H=function(e){return e.name===A},V=function(e){return e.name===T},K=function(e){return e.name===I},G=function(e){return e.name===C},Z=function(e){var t=e.version;return P(t)},Y=function(e){var t=e.name;return P(t)},J=function(e){return e.name===f},Q=function(e){return e.name===p},X=function(e){return e.name===v},ee=function(e){return e.name===b},te=function(e){return e.name===m},ne=function(e){var t=e.name;return t===y||t===E},re=function(e){return e.name===E},ie=function(e){return e.name===g},se=function(e){var t=e.name;return t===w||t===x},oe=function(e){return e.name===k},ae=function(e){return e.name===_},ce=function(e){var t=e.version;return P(t)},le=function(e){var t=e.major;return P(t)},ue=function(e){var t=e.name;return P(t)},de=function(e){var t=e.name;return P(t)},he=function(e){var t=e.version;return P(t)},fe=function(){var e=O(),t=e&&e.userAgent&&e.userAgent.toLowerCase();return"string"==typeof t&&/electron/.test(t)},pe=function(e){return"string"==typeof e&&-1!==e.indexOf("Edg/")},ge=function(){var e=O();return e&&(/iPad|iPhone|iPod/.test(e.platform)||"MacIntel"===e.platform&&e.maxTouchPoints>1)&&!window.MSStream},me=function(){return j("iPad")},ye=function(){return j("iPhone")},we=function(){return j("iPod")},be=function(e){return P(e)};M(a),U(a),B(a),D(a),re(o)||me(),X(o);var ve=$(a)||me(),xe=(N(a),R(a)||me(),L(a),L(a),q(l)),Ee=(K(l),G(l)||me()),ke=(J(o),Q(o)),_e=ne(o);ie(o),se(o),Z(l),Y(l),ce(o),le(o),ue(o),F(a),z(a),de(c),he(c),be(u),ee(o)||pe(u),te(o),W(a),ge(),me(),ye(),we(),fe(),pe(u),ee(o)&&pe(u),H(l),V(l),oe(o),ae(o);t.m0=xe,t.gm=ke,t.un=Ee,t.Fr=ve,t.nr=_e},172:(e,t,n)=>{"use strict";n.d(t,{XX:()=>D,fF:()=>i,h:()=>b,n:()=>b});var r,i,s,o,a,c,l,u,d,h,f={},p=[],g=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,m=Array.isArray;function y(e,t){for(var n in t)e[n]=t[n];return e}function w(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function b(e,t,n){var i,s,o,a={};for(o in t)"key"==o?i=t[o]:"ref"==o?s=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===a[o]&&(a[o]=e.defaultProps[o]);return v(e,a,i,s,null)}function v(e,t,n,r,o){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==o?++s:o,__i:-1,__u:0};return null==o&&null!=i.vnode&&i.vnode(a),a}function x(e){return e.children}function E(e,t){this.props=e,this.context=t}function k(e,t){if(null==t)return e.__?k(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?k(e):null}function _(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return _(e)}}function C(e){(!e.__d&&(e.__d=!0)&&o.push(e)&&!S.__r++||a!==i.debounceRendering)&&((a=i.debounceRendering)||c)(S)}function S(){var e,t,n,r,s,a,c,u;for(o.sort(l);e=o.shift();)e.__d&&(t=o.length,r=void 0,a=(s=(n=e).__v).__e,c=[],u=[],n.__P&&((r=y({},s)).__v=s.__v+1,i.vnode&&i.vnode(r),R(n.__P,r,s,n.__n,n.__P.namespaceURI,32&s.__u?[a]:null,c,null==a?k(s):a,!!(32&s.__u),u),r.__v=s.__v,r.__.__k[r.__i]=r,$(c,r,u),r.__e!=a&&_(r)),o.length>t&&o.sort(l));S.__r=0}function I(e,t,n,r,i,s,o,a,c,l,u){var d,h,g,m,y,w=r&&r.__k||p,b=t.length;for(n.__d=c,A(n,t,w),c=n.__d,d=0;d<b;d++)null!=(g=n.__k[d])&&(h=-1===g.__i?f:w[g.__i]||f,g.__i=d,R(e,g,h,i,s,o,a,c,l,u),m=g.__e,g.ref&&h.ref!=g.ref&&(h.ref&&L(h.ref,null,g),u.push(g.ref,g.__c||m,g)),null==y&&null!=m&&(y=m),65536&g.__u||h.__k===g.__k?c=T(g,c,e):"function"==typeof g.type&&void 0!==g.__d?c=g.__d:m&&(c=m.nextSibling),g.__d=void 0,g.__u&=-196609);n.__d=c,n.__e=y}function A(e,t,n){var r,i,s,o,a,c=t.length,l=n.length,u=l,d=0;for(e.__k=[],r=0;r<c;r++)null!=(i=t[r])&&"boolean"!=typeof i&&"function"!=typeof i?(o=r+d,(i=e.__k[r]="string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?v(null,i,null,null,null):m(i)?v(x,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?v(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=e,i.__b=e.__b+1,s=null,-1!==(a=i.__i=P(i,n,o,u))&&(u--,(s=n[a])&&(s.__u|=131072)),null==s||null===s.__v?(-1==a&&d--,"function"!=typeof i.type&&(i.__u|=65536)):a!==o&&(a==o-1?d--:a==o+1?d++:(a>o?d--:d++,i.__u|=65536))):i=e.__k[r]=null;if(u)for(r=0;r<l;r++)null!=(s=n[r])&&!(131072&s.__u)&&(s.__e==e.__d&&(e.__d=k(s)),B(s,s))}function T(e,t,n){var r,i;if("function"==typeof e.type){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=T(r[i],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=k(e)),n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8===t.nodeType);return t}function P(e,t,n,r){var i=e.key,s=e.type,o=n-1,a=n+1,c=t[n];if(null===c||c&&i==c.key&&s===c.type&&!(131072&c.__u))return n;if(r>(null==c||131072&c.__u?0:1))for(;o>=0||a<t.length;){if(o>=0){if((c=t[o])&&!(131072&c.__u)&&i==c.key&&s===c.type)return o;o--}if(a<t.length){if((c=t[a])&&!(131072&c.__u)&&i==c.key&&s===c.type)return a;a++}}return-1}function O(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||g.test(t)?n:n+"px"}function j(e,t,n,r,i){var s;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||O(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||O(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])s=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||"onFocusOut"===t||"onFocusIn"===t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?r?n.u=r.u:(n.u=u,e.addEventListener(t,s?h:d,s)):e.removeEventListener(t,s?h:d,s);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function N(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.t)t.t=u++;else if(t.t<n.u)return;return n(i.event?i.event(t):t)}}}function R(e,t,n,r,s,o,a,c,l,u){var d,h,f,p,g,w,b,v,k,_,C,S,A,T,P,O,j=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(l=!!(32&n.__u),o=[c=t.__e=n.__e]),(d=i.__b)&&d(t);e:if("function"==typeof j)try{if(v=t.props,k="prototype"in j&&j.prototype.render,_=(d=j.contextType)&&r[d.__c],C=d?_?_.props.value:d.__:r,n.__c?b=(h=t.__c=n.__c).__=h.__E:(k?t.__c=h=new j(v,C):(t.__c=h=new E(v,C),h.constructor=j,h.render=U),_&&_.sub(h),h.props=v,h.state||(h.state={}),h.context=C,h.__n=r,f=h.__d=!0,h.__h=[],h._sb=[]),k&&null==h.__s&&(h.__s=h.state),k&&null!=j.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=y({},h.__s)),y(h.__s,j.getDerivedStateFromProps(v,h.__s))),p=h.props,g=h.state,h.__v=t,f)k&&null==j.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),k&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(k&&null==j.getDerivedStateFromProps&&v!==p&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(v,C),!h.__e&&(null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(v,h.__s,C)||t.__v===n.__v)){for(t.__v!==n.__v&&(h.props=v,h.state=h.__s,h.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(e){e&&(e.__=t)}),S=0;S<h._sb.length;S++)h.__h.push(h._sb[S]);h._sb=[],h.__h.length&&a.push(h);break e}null!=h.componentWillUpdate&&h.componentWillUpdate(v,h.__s,C),k&&null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(p,g,w)})}if(h.context=C,h.props=v,h.__P=e,h.__e=!1,A=i.__r,T=0,k){for(h.state=h.__s,h.__d=!1,A&&A(t),d=h.render(h.props,h.state,h.context),P=0;P<h._sb.length;P++)h.__h.push(h._sb[P]);h._sb=[]}else do{h.__d=!1,A&&A(t),d=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++T<25);h.state=h.__s,null!=h.getChildContext&&(r=y(y({},r),h.getChildContext())),k&&!f&&null!=h.getSnapshotBeforeUpdate&&(w=h.getSnapshotBeforeUpdate(p,g)),I(e,m(O=null!=d&&d.type===x&&null==d.key?d.props.children:d)?O:[O],t,n,r,s,o,a,c,l,u),h.base=t.__e,t.__u&=-161,h.__h.length&&a.push(h),b&&(h.__E=h.__=null)}catch(e){if(t.__v=null,l||null!=o){for(t.__u|=l?160:32;c&&8===c.nodeType&&c.nextSibling;)c=c.nextSibling;o[o.indexOf(c)]=null,t.__e=c}else t.__e=n.__e,t.__k=n.__k;i.__e(e,t,n)}else null==o&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=M(n.__e,t,n,r,s,o,a,l,u);(d=i.diffed)&&d(t)}function $(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)L(n[r],n[++r],n[++r]);i.__c&&i.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){i.__e(e,t.__v)}})}function M(e,t,n,s,o,a,c,l,u){var d,h,p,g,y,b,v,x=n.props,E=t.props,_=t.type;if("svg"===_?o="http://www.w3.org/2000/svg":"math"===_?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),null!=a)for(d=0;d<a.length;d++)if((y=a[d])&&"setAttribute"in y==!!_&&(_?y.localName===_:3===y.nodeType)){e=y,a[d]=null;break}if(null==e){if(null===_)return document.createTextNode(E);e=document.createElementNS(o,_,E.is&&E),l&&(i.__m&&i.__m(t,a),l=!1),a=null}if(null===_)x===E||l&&e.data===E||(e.data=E);else{if(a=a&&r.call(e.childNodes),x=n.props||f,!l&&null!=a)for(x={},d=0;d<e.attributes.length;d++)x[(y=e.attributes[d]).name]=y.value;for(d in x)if(y=x[d],"children"==d);else if("dangerouslySetInnerHTML"==d)p=y;else if(!(d in E)){if("value"==d&&"defaultValue"in E||"checked"==d&&"defaultChecked"in E)continue;j(e,d,null,y,o)}for(d in E)y=E[d],"children"==d?g=y:"dangerouslySetInnerHTML"==d?h=y:"value"==d?b=y:"checked"==d?v=y:l&&"function"!=typeof y||x[d]===y||j(e,d,y,x[d],o);if(h)l||p&&(h.__html===p.__html||h.__html===e.innerHTML)||(e.innerHTML=h.__html),t.__k=[];else if(p&&(e.innerHTML=""),I(e,m(g)?g:[g],t,n,s,"foreignObject"===_?"http://www.w3.org/1999/xhtml":o,a,c,a?a[0]:n.__k&&k(n,0),l,u),null!=a)for(d=a.length;d--;)w(a[d]);l||(d="value","progress"===_&&null==b?e.removeAttribute("value"):void 0!==b&&(b!==e[d]||"progress"===_&&!b||"option"===_&&b!==x[d])&&j(e,d,b,x[d],o),d="checked",void 0!==v&&v!==e[d]&&j(e,d,v,x[d],o))}return e}function L(e,t,n){try{if("function"==typeof e){var r="function"==typeof e.__u;r&&e.__u(),r&&null==t||(e.__u=e(t))}else e.current=t}catch(e){i.__e(e,n)}}function B(e,t,n){var r,s;if(i.unmount&&i.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||L(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){i.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&B(r[s],t,n||"function"!=typeof e.type);n||w(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function U(e,t,n){return this.constructor(e,n)}function D(e,t,n){var s,o,a,c;i.__&&i.__(e,t),o=(s="function"==typeof n)?null:n&&n.__k||t.__k,a=[],c=[],R(t,e=(!s&&n||t).__k=b(x,null,[e]),o||f,f,t.namespaceURI,!s&&n?[n]:o?null:t.firstChild?r.call(t.childNodes):null,a,!s&&n?n:o?o.__e:t.firstChild,s,c),$(a,e,c)}r=p.slice,i={__e:function(e,t,n,r){for(var i,s,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&null!=s.getDerivedStateFromError&&(i.setState(s.getDerivedStateFromError(e)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),o=i.__d),o)return i.__E=i}catch(t){e=t}throw e}},s=0,E.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=y({},this.state),"function"==typeof e&&(e=e(y({},n),this.props)),e&&y(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),C(this))},E.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),C(this))},E.prototype.render=x,o=[],c="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,l=function(e,t){return e.__v.__b-t.__v.__b},S.__r=0,u=0,d=N(!1),h=N(!0)},194:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoneSerializer=void 0,t.NoneSerializer=class{setState(e){}getState(){return null}patch(e){}teardown(){}handshake(e){}}},208:(e,t,n)=>{const r=n(1878),i=n(7044);t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!r.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return i.testNumeric(e)?t.NUMERIC:i.testAlphanumeric(e)?t.ALPHANUMERIC:i.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return n}}},221:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;const r=n(9026);t.toMiliseconds=function(e){return e*r.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/r.ONE_THOUSAND)}},224:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});var r=n(8990),i=n(7610);async function s(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new r.Kc({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||i.uL)(n,"getTransactionReceipt")}},228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,s||e,o),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,o=new Array(s);i<s;i++)o[i]=r[i].fn;return o},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,i,s,o){var a=n?n+e:e;if(!this._events[a])return!1;var c,l,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,s),!0;case 6:return u.fn.call(u.context,t,r,i,s,o),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var h,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,r);break;case 4:u[l].fn.call(u[l].context,t,r,i);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];u[l].fn.apply(u[l].context,c)}}return!0},a.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,i){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||i&&!a.once||r&&a.context!==r||o(this,s);else{for(var c=0,l=[],u=a.length;c<u;c++)(a[c].fn!==t||i&&!a[c].once||r&&a[c].context!==r)&&l.push(a[c]);l.length?this._events[s]=1===l.length?l[0]:l:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},251:(e,t)=>{t.read=function(e,t,n,r,i){var s,o,a=8*i-r-1,c=(1<<a)-1,l=c>>1,u=-7,d=n?i-1:0,h=n?-1:1,f=e[t+d];for(d+=h,s=f&(1<<-u)-1,f>>=-u,u+=a;u>0;s=256*s+e[t+d],d+=h,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=256*o+e[t+d],d+=h,u-=8);if(0===s)s=1-l;else{if(s===c)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),s-=l}return(f?-1:1)*o*Math.pow(2,s-r)},t.write=function(e,t,n,r,i,s){var o,a,c,l=8*s-i-1,u=(1<<l)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:s-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+d>=1?h/c:h*Math.pow(2,1-d))*c>=2&&(o++,c/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(t*c-1)*Math.pow(2,i),o+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[n+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;e[n+f]=255&o,f+=p,o/=256,l-=8);e[n+f-p]|=128*g}},332:(e,t,n)=>{"use strict";n.d(t,{c:()=>l});var r=n(3033);const i=2n**256n-1n;var s=n(4306),o=n(2592),a=n(8990),c=n(9873);function l(e){const{account:t,gasPrice:n,maxFeePerGas:l,maxPriorityFeePerGas:u,to:d}=e,h=t?(0,r.J)(t):void 0;if(h&&!(0,c.P)(h.address))throw new s.M({address:h.address});if(d&&!(0,c.P)(d))throw new s.M({address:d});if(void 0!==n&&(void 0!==l||void 0!==u))throw new a.n3;if(l&&l>i)throw new o.BG({maxFeePerGas:l});if(u&&l&&u>l)throw new o.lN({maxFeePerGas:l,maxPriorityFeePerGas:u})}},432:(e,t,n)=>{"use strict";n.d(t,{Q:()=>w});var r=n(3033),i=n(1344),s=n(7529),o=n(4192),a=n(9436),c=n(9670),l=n(8990);class u extends i.C{constructor(e,{account:t,docsPath:n,chain:r,data:i,gas:s,gasPrice:o,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:f,value:p}){const g=(0,l.aO)({from:t?.address,to:f,value:void 0!==p&&`${(0,a.c)(p)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:s,gasPrice:void 0!==o&&`${(0,c.Q)(o)} gwei`,maxFeePerGas:void 0!==u&&`${(0,c.Q)(u)} gwei`,maxPriorityFeePerGas:void 0!==d&&`${(0,c.Q)(d)} gwei`,nonce:h});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",g].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}var d=n(2592),h=n(1772),f=n(9789),p=n(7671),g=n(5547),m=n(332),y=n(7614);async function w(e,t){const{account:n=e.account,prepare:a=!0}=t,c=n?(0,r.J)(n):void 0,l=Array.isArray(a)?a:"local"!==c?.type?["blobVersionedHashes"]:void 0;try{const{accessList:n,authorizationList:r,blobs:u,blobVersionedHashes:d,blockNumber:h,blockTag:w,data:b,gas:v,gasPrice:x,maxFeePerBlobGas:E,maxFeePerGas:k,maxPriorityFeePerGas:_,nonce:C,value:S,stateOverride:I,...A}=a?await(0,y.ft)(e,{...t,parameters:l}):t,T=("bigint"==typeof h?(0,o.cK)(h):void 0)||w,P=(0,g.yH)(I),O=await(async()=>A.to?A.to:r&&r.length>0?await(0,s.g)({authorization:r[0]}).catch(()=>{throw new i.C("`to` is required. Could not infer from `authorizationList`")}):void 0)();(0,m.c)(t);const j=e.chain?.formatters?.transactionRequest?.format,N=(j||p.Bv)({...(0,f.o)(A,{format:j}),account:c,accessList:n,authorizationList:r,blobs:u,blobVersionedHashes:d,data:b,gas:v,gasPrice:x,maxFeePerBlobGas:E,maxFeePerGas:k,maxPriorityFeePerGas:_,nonce:C,to:O,value:S},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:P?[N,T??e.experimental_blockTag??"latest",P]:T?[N,T]:[N]}))}catch(n){throw function(e,{docsPath:t,...n}){const r=(()=>{const t=(0,h.l)(e,n);return t instanceof d.RM?e:t})();return new u(r,{docsPath:t,...n})}(n,{...t,account:c,chain:e.chain})}}},584:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>s,__asyncDelegator:()=>v,__asyncGenerator:()=>b,__asyncValues:()=>x,__await:()=>w,__awaiter:()=>u,__classPrivateFieldGet:()=>C,__classPrivateFieldSet:()=>S,__createBinding:()=>h,__decorate:()=>a,__exportStar:()=>f,__extends:()=>i,__generator:()=>d,__importDefault:()=>_,__importStar:()=>k,__makeTemplateObject:()=>E,__metadata:()=>l,__param:()=>c,__read:()=>g,__rest:()=>o,__spread:()=>m,__spreadArrays:()=>y,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})}function d(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function h(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function f(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function w(e){return this instanceof w?(this.v=e,this):new w(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){s.push([e,t,n,r])>1||a(e,t)})})}function a(e,t){try{(n=i[e](t)).value instanceof w?Promise.resolve(n.value.v).then(c,l):u(s[0][2],n)}catch(e){u(s[0][3],e)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function v(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:w(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,i,(t=e[n](t)).done,t.value)})}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function S(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},586:(e,t,n)=>{"use strict";n.d(t,{db:()=>s,eV:()=>i});var r=n(6440);function i(e,{dir:t,size:n=32}={}){return"string"==typeof e?s(e,{dir:t,size:n}):function(e,{dir:t,size:n=32}={}){if(null===n)return e;if(e.length>n)throw new r.Fl({size:e.length,targetSize:n,type:"bytes"});const i=new Uint8Array(n);for(let r=0;r<n;r++){const s="right"===t;i[s?r:n-r-1]=e[s?r:e.length-r-1]}return i}(e,{dir:t,size:n})}function s(e,{dir:t,size:n=32}={}){if(null===n)return e;const i=e.replace("0x","");if(i.length>2*n)throw new r.Fl({size:Math.ceil(i.length/2),targetSize:n,type:"hex"});return`0x${i["right"===t?"padEnd":"padStart"](2*n,"0")}`}},601:(e,t,n)=>{"use strict";t.I0=t.DH=t.NX=t.u8=t.cY=void 0,t.av=t.O6=t.w3=t.Wg=void 0;const r=n(8287);function i(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function s(e){return i(e),r.Buffer.from(e.buffer,e.byteOffset,e.length)}class o{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function a(e,t){return t.property?e+"["+t.property+"]":e}class c extends o{isCount(){throw new Error("ExternalLayout is abstract")}}class l extends c{constructor(e,t=0,n){if(!(e instanceof o))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof u||this.layout instanceof d}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}}class u extends o{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readUIntLE(t,this.span)}encode(e,t,n=0){return s(t).writeUIntLE(e,n,this.span),this.span}}class d extends o{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readUIntBE(t,this.span)}encode(e,t,n=0){return s(t).writeUIntBE(e,n,this.span),this.span}}const h=Math.pow(2,32);function f(e){const t=Math.floor(e/h);return{hi32:t,lo32:e-t*h}}function p(e,t){return e*h+t}class g extends o{constructor(e){super(8,e)}decode(e,t=0){const n=s(e),r=n.readUInt32LE(t);return p(n.readUInt32LE(t+4),r)}encode(e,t,n=0){const r=f(e),i=s(t);return i.writeUInt32LE(r.lo32,n),i.writeUInt32LE(r.hi32,n+4),8}}class m extends o{constructor(e){super(8,e)}decode(e,t=0){const n=s(e),r=n.readUInt32LE(t);return p(n.readInt32LE(t+4),r)}encode(e,t,n=0){const r=f(e),i=s(t);return i.writeUInt32LE(r.lo32,n),i.writeInt32LE(r.hi32,n+4),8}}class y extends o{constructor(e,t,n){if(!(e instanceof o))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof c&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(t instanceof c)&&0<e.span&&(r=t*e.span),super(r,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,r=this.count;if(r instanceof c&&(r=r.decode(e,t)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(e,t+n),++i}return n}decode(e,t=0){const n=[];let r=0,i=this.count;for(i instanceof c&&(i=i.decode(e,t));r<i;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),r+=1;return n}encode(e,t,n=0){const r=this.elementLayout,i=e.reduce((e,i)=>e+r.encode(i,t,n+e),0);return this.count instanceof c&&this.count.encode(e.length,t,n),i}}class w extends o{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce((e,t)=>e&&t instanceof o,!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce((e,t)=>e+t.getSpan(),0)}catch(e){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i},0)}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,t=0){i(e);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n=0){const r=n;let i=0,s=0;for(const r of this.fields){let o=r.span;if(s=0<o?o:0,void 0!==r.property){const i=e[r.property];void 0!==i&&(s=r.encode(i,t,n),0>o&&(o=r.getSpan(t,n)))}i=n,n+=o}return i+s-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class b extends o{constructor(e,t){if(!(e instanceof c&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof c||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),s(e).slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof c&&(r=e.length),!(e instanceof Uint8Array&&r===e.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+r+") Uint8Array as src");if(n+r>t.length)throw new RangeError("encoding overruns Uint8Array");const i=s(e);return s(t).write(i.toString("hex"),n,r,"hex"),this.length instanceof c&&this.length.encode(r,t,n),r}}t.cY=(e,t,n)=>new l(e,t,n),t.u8=e=>new u(1,e),t.NX=e=>new u(2,e),t.DH=e=>new u(4,e),t.I0=e=>new g(e),t.Wg=e=>new m(e),t.w3=(e,t,n)=>new w(e,t,n),t.O6=(e,t,n)=>new y(e,t,n),t.av=(e,t)=>new b(e,t)},615:(e,t,n)=>{"use strict";n.d(t,{Ak:()=>c,UT:()=>v,Xf:()=>w,fH:()=>y,hT:()=>m,u0:()=>a});var r=n(1848),i=n(8030);const s=BigInt(0),o=BigInt(1);function a(e,t){const n=t.negate();return e?n:t}function c(e,t){const n=(0,i.pS)(e.Fp,t.map(e=>e.Z));return t.map((t,r)=>e.fromAffine(t.toAffine(n[r])))}function l(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function u(e,t){l(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:(0,r.OG)(e),maxNumber:n,shiftBy:BigInt(e)}}function d(e,t,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:a}=n;let c=Number(e&i),l=e>>a;c>r&&(c-=s,l+=o);const u=t*r;return{nextN:l,offset:u+Math.abs(c)-1,isZero:0===c,isNeg:c<0,isNegF:t%2!=0,offsetF:u}}const h=new WeakMap,f=new WeakMap;function p(e){return f.get(e)||1}function g(e){if(e!==s)throw new Error("invalid wNAF")}class m{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,n=this.ZERO){let r=e;for(;t>s;)t&o&&(n=n.add(r)),r=r.double(),t>>=o;return n}precomputeWindow(e,t){const{windows:n,windowSize:r}=u(t,this.bits),i=[];let s=e,o=s;for(let e=0;e<n;e++){o=s,i.push(o);for(let e=1;e<r;e++)o=o.add(s),i.push(o);s=o.double()}return i}wNAF(e,t,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let r=this.ZERO,i=this.BASE;const s=u(e,this.bits);for(let e=0;e<s.windows;e++){const{nextN:o,offset:c,isZero:l,isNeg:u,isNegF:h,offsetF:f}=d(n,e,s);n=o,l?i=i.add(a(h,t[f])):r=r.add(a(u,t[c]))}return g(n),{p:r,f:i}}wNAFUnsafe(e,t,n,r=this.ZERO){const i=u(e,this.bits);for(let e=0;e<i.windows&&n!==s;e++){const{nextN:s,offset:o,isZero:a,isNeg:c}=d(n,e,i);if(n=s,!a){const e=t[o];r=r.add(c?e.negate():e)}}return g(n),r}getPrecomputes(e,t,n){let r=h.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&("function"==typeof n&&(r=n(r)),h.set(t,r))),r}cached(e,t,n){const r=p(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)}unsafe(e,t,n,r){const i=p(e);return 1===i?this._unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)}createCache(e,t){l(t,this.bits),f.set(e,t),h.delete(e)}hasCache(e){return 1!==p(e)}}function y(e,t,n,r){let i=t,a=e.ZERO,c=e.ZERO;for(;n>s||r>s;)n&o&&(a=a.add(i)),r&o&&(c=c.add(i)),i=i.double(),n>>=o,r>>=o;return{p1:a,p2:c}}function w(e,t,n,i){(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})})(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}(i,t);const s=n.length,o=i.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const a=e.ZERO,c=(0,r.dJ)(BigInt(s));let l=1;c>12?l=c-3:c>4?l=c-2:c>0&&(l=2);const u=(0,r.OG)(l),d=new Array(Number(u)+1).fill(a);let h=a;for(let e=Math.floor((t.BITS-1)/l)*l;e>=0;e-=l){d.fill(a);for(let t=0;t<o;t++){const r=i[t],s=Number(r>>BigInt(e)&u);d[s]=d[s].add(n[t])}let t=a;for(let e=d.length-1,n=a;e>0;e--)n=n.add(d[e]),t=t.add(n);if(h=h.add(t),0!==e)for(let e=0;e<l;e++)h=h.double()}return h}function b(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return(0,i.jr)(t),t}return(0,i.D0)(e,{isLE:n})}function v(e,t,n={},r){if(void 0===r&&(r="edwards"===e),!t||"object"!=typeof t)throw new Error(`expected valid ${e} CURVE object`);for(const e of["p","n","h"]){const n=t[e];if(!("bigint"==typeof n&&n>s))throw new Error(`CURVE.${e} must be positive bigint`)}const i=b(t.p,n.Fp,r),o=b(t.n,n.Fn,r),a=["Gx","Gy","a","weierstrass"===e?"b":"d"];for(const e of a)if(!i.isValid(t[e]))throw new Error(`CURVE.${e} must be valid field element of CURVE.Fp`);return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:i,Fn:o}}},638:(e,t,n)=>{"use strict";n.d(t,{eL:()=>r,sz:()=>i});const r={gwei:9,wei:18},i={ether:-9,wei:9}},651:(e,t,n)=>{"use strict";var r=n(6540),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=r.useSyncExternalStore,o=r.useRef,a=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,u){var d=o(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!a){if(a=!0,s=e,e=r(e),void 0!==u&&h.hasValue){var t=h.value;if(u(t,e))return o=t}return o=e}if(t=o,i(s,e))return t;var n=r(e);return void 0!==u&&u(t,n)?(s=e,t):(s=e,o=n)}var s,o,a=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,u]);var f=s(e,d[0],d[1]);return a(function(){h.hasValue=!0,h.value=f},[f]),l(f),f}},669:(e,t,n)=>{"use strict";async function r(e){return new Promise(t=>setTimeout(t,e))}n.d(t,{u:()=>r})},776:(e,t,n)=>{"use strict";n.d(t,{secp256k1:()=>Se});var r=n(8442),i=n(1454),s=n(2531);const o=BigInt(0),a=BigInt(1);function c(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function l(e){if(!c(e))throw new Error("Uint8Array expected")}function u(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}function d(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function h(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?o:BigInt("0x"+e)}const f="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,p=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function g(e){if(l(e),f)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=p[e[n]];return t}function m(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function y(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(f)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=m(e.charCodeAt(i)),s=m(e.charCodeAt(i+1));if(void 0===n||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+s}return r}function w(e){return h(g(e))}function b(e){return l(e),h(g(Uint8Array.from(e).reverse()))}function v(e,t){return y(e.toString(16).padStart(2*t,"0"))}function x(e,t){return v(e,t).reverse()}function E(e,t,n){let r;if("string"==typeof t)try{r=y(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!c(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function k(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];l(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}const _=e=>"bigint"==typeof e&&o<=e;function C(e,t,n){return _(e)&&_(t)&&_(n)&&t<=e&&e<n}function S(e,t,n,r){if(!C(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}const I=e=>(a<<BigInt(e))-a,A=e=>new Uint8Array(e),T=e=>Uint8Array.from(e),P={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||c(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function O(e,t,n={}){const r=(t,n,r)=>{const i=P[n];if("function"!=typeof i)throw new Error("invalid validator function");const s=e[t];if(!(r&&void 0===s||i(s,e)))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+s)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e}function j(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(void 0!==i)return i;const s=e(n,...r);return t.set(n,s),s}}const N=BigInt(0),R=BigInt(1),$=BigInt(2),M=BigInt(3),L=BigInt(4),B=BigInt(5),U=BigInt(8);function D(e,t){const n=e%t;return n>=N?n:t+n}function F(e,t,n){let r=e;for(;t-- >N;)r*=r,r%=n;return r}function z(e,t){if(e===N)throw new Error("invert: expected non-zero number");if(t<=N)throw new Error("invert: expected positive modulus, got "+t);let n=D(e,t),r=t,i=N,s=R,o=R,a=N;for(;n!==N;){const e=r/n,t=r%n,c=i-o*e,l=s-a*e;r=n,n=t,i=o,s=a,o=c,a=l}if(r!==R)throw new Error("invert: does not exist");return D(i,t)}function W(e,t){const n=(e.ORDER+R)/L,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function q(e,t){const n=(e.ORDER-B)/U,r=e.mul(t,$),i=e.pow(r,n),s=e.mul(t,i),o=e.mul(e.mul(s,$),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}const H=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function V(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),s=e.inv(i);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),s),r}function K(e,t){const n=(e.ORDER-R)/$,r=e.pow(t,n),i=e.eql(r,e.ONE),s=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function G(e,t){void 0!==t&&(0,s.Fe)(t);const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Z(e,t,n=!1,r={}){if(e<=N)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=G(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:I(i),ZERO:N,ONE:R,create:t=>D(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return N<=t&&t<e},is0:e=>e===N,isOdd:e=>(e&R)===R,neg:t=>D(-t,e),eql:(e,t)=>e===t,sqr:t=>D(t*t,e),add:(t,n)=>D(t+n,e),sub:(t,n)=>D(t-n,e),mul:(t,n)=>D(t*n,e),pow:(e,t)=>function(e,t,n){if(n<N)throw new Error("invalid exponent, negatives unsupported");if(n===N)return e.ONE;if(n===R)return t;let r=e.ONE,i=t;for(;n>N;)n&R&&(r=e.mul(r,i)),i=e.sqr(i),n>>=R;return r}(a,e,t),div:(t,n)=>D(t*z(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>z(t,e),sqrt:r.sqrt||(t=>{return o||(o=(n=e)%L===M?W:n%U===B?q:function(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-R,n=0;for(;t%$===N;)t/=$,n++;let r=$;const i=Z(e);for(;1===K(i,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return W;let s=i.pow(r,t);const o=(t+R)/$;return function(e,r){if(e.is0(r))return r;if(1!==K(e,r))throw new Error("Cannot find square root");let i=n,a=e.mul(e.ONE,s),c=e.pow(r,t),l=e.pow(r,o);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,n=e.sqr(c);for(;!e.eql(n,e.ONE);)if(t++,n=e.sqr(n),t===i)throw new Error("Cannot find square root");const r=R<<BigInt(i-t-1),s=e.pow(a,r);i=t,a=e.sqr(s),c=e.mul(c,a),l=e.mul(l,s)}return l}}(n)),o(a,t);var n}),toBytes:e=>n?x(e,s):v(e,s),fromBytes:e=>{if(e.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return n?b(e):w(e)},invertBatch:e=>V(a,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(a)}function Y(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function J(e){const t=Y(e);return t+Math.ceil(t/2)}const Q=BigInt(0),X=BigInt(1);function ee(e,t){const n=t.negate();return e?n:t}function te(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function ne(e,t){te(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:I(e),maxNumber:n,shiftBy:BigInt(e)}}function re(e,t,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(e&i),c=e>>o;a>r&&(a-=s,c+=X);const l=t*r;return{nextN:c,offset:l+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:t%2!=0,offsetF:l}}const ie=new WeakMap,se=new WeakMap;function oe(e){return se.get(e)||1}function ae(e,t,n,r){(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})})(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}(r,t);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const c=e.ZERO,l=function(e){let t;for(t=0;e>o;e>>=a,t+=1);return t}(BigInt(i));let u=1;l>12?u=l-3:l>4?u=l-2:l>0&&(u=2);const d=I(u),h=new Array(Number(d)+1).fill(c);let f=c;for(let e=Math.floor((t.BITS-1)/u)*u;e>=0;e-=u){h.fill(c);for(let t=0;t<s;t++){const i=r[t],s=Number(i>>BigInt(e)&d);h[s]=h[s].add(n[t])}let t=c;for(let e=h.length-1,n=c;e>0;e--)n=n.add(h[e]),t=t.add(n);if(f=f.add(t),0!==e)for(let e=0;e<u;e++)f=f.double()}return f}function ce(e){return O(e.Fp,H.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),O(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...G(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function le(e){void 0!==e.lowS&&u("lowS",e.lowS),void 0!==e.prehash&&u("prehash",e.prehash)}class ue extends Error{constructor(e=""){super(e)}}const de={Err:ue,_tlv:{encode:(e,t)=>{const{Err:n}=de;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=d(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?d(i.length/2|128):"";return d(e)+s+i+t},decode(e,t){const{Err:n}=de;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let s=0;if(128&i){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const o=t.subarray(r,r+e);if(o.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===o[0])throw new n("tlv.decode(long): zero leftmost byte");for(const e of o)s=s<<8|e;if(r+=e,s<128)throw new n("tlv.decode(long): not minimal encoding")}else s=i;const o=t.subarray(r,r+s);if(o.length!==s)throw new n("tlv.decode: wrong value length");return{v:o,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=de;if(e<fe)throw new t("integer: negative integers are not allowed");let n=d(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=de;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return w(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=de,i=E("signature",e),{v:s,l:o}=r.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=de,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}};function he(e,t){return g(v(e,t))}const fe=BigInt(0),pe=BigInt(1),ge=(BigInt(2),BigInt(3)),me=BigInt(4);function ye(e){const t=function(e){const t=ce(e);return O(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r,nByteLength:i,nBitLength:s}=t,o=n.BYTES+1,a=2*n.BYTES+1;function l(e){return D(e,r)}function d(e){return z(e,r)}const{ProjectivePoint:h,normPrivateKeyToScalar:f,weierstrassEquation:p,isWithinCurveOrder:m}=function(e){const t=function(e){const t=ce(e);O(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}(e),{Fp:n}=t,r=Z(t.n,t.nBitLength),i=t.toBytes||((e,t,r)=>{const i=t.toAffine();return k(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),s=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){const{a:r,b:i}=t,s=n.sqr(e),o=n.mul(s,e);return n.add(n.add(o,n.mul(e,r)),i)}function a(e,t){const r=n.sqr(t),i=o(e);return n.eql(r,i)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const l=n.mul(n.pow(t.a,ge),me),d=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(l,d)))throw new Error("bad curve params: a or b");function h(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:s}=t;if(n&&"bigint"!=typeof e){if(c(e)&&(e=g(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*r,"0")}let o;try{o="bigint"==typeof e?e:w(E("private key",e,r))}catch(t){throw new Error("invalid private key, expected hex or "+r+" bytes, got "+typeof e)}return i&&(o=D(o,s)),S("private key",o,pe,s),o}function f(e){if(!(e instanceof y))throw new Error("ProjectivePoint expected")}const p=j((e,t)=>{const{px:r,py:i,pz:s}=e;if(n.eql(s,n.ONE))return{x:r,y:i};const o=e.is0();null==t&&(t=o?n.ONE:n.inv(s));const a=n.mul(r,t),c=n.mul(i,t),l=n.mul(s,t);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw new Error("invZ was invalid");return{x:a,y:c}}),m=j(e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw new Error("bad point: x or y not FE");if(!a(r,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class y{constructor(e,t,r){if(null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof y)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?y.ZERO:new y(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=V(n,e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(y.fromAffine)}static fromHex(e){const t=y.fromAffine(s(E("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return y.BASE.multiply(h(e))}static msm(e,t){return ae(y,r,e,t)}_setWindowSize(e){x.setWindowSize(this,e)}assertValidity(){m(this)}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){f(e);const{px:t,py:r,pz:i}=this,{px:s,py:o,pz:a}=e,c=n.eql(n.mul(t,a),n.mul(s,i)),l=n.eql(n.mul(r,a),n.mul(o,i));return c&&l}negate(){return new y(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,ge),{px:s,py:o,pz:a}=this;let c=n.ZERO,l=n.ZERO,u=n.ZERO,d=n.mul(s,s),h=n.mul(o,o),f=n.mul(a,a),p=n.mul(s,o);return p=n.add(p,p),u=n.mul(s,a),u=n.add(u,u),c=n.mul(e,u),l=n.mul(i,f),l=n.add(c,l),c=n.sub(h,l),l=n.add(h,l),l=n.mul(c,l),c=n.mul(p,c),u=n.mul(i,u),f=n.mul(e,f),p=n.sub(d,f),p=n.mul(e,p),p=n.add(p,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,f),d=n.mul(d,p),l=n.add(l,d),f=n.mul(o,a),f=n.add(f,f),d=n.mul(f,p),c=n.sub(c,d),u=n.mul(f,h),u=n.add(u,u),u=n.add(u,u),new y(c,l,u)}add(e){f(e);const{px:r,py:i,pz:s}=this,{px:o,py:a,pz:c}=e;let l=n.ZERO,u=n.ZERO,d=n.ZERO;const h=t.a,p=n.mul(t.b,ge);let g=n.mul(r,o),m=n.mul(i,a),w=n.mul(s,c),b=n.add(r,i),v=n.add(o,a);b=n.mul(b,v),v=n.add(g,m),b=n.sub(b,v),v=n.add(r,s);let x=n.add(o,c);return v=n.mul(v,x),x=n.add(g,w),v=n.sub(v,x),x=n.add(i,s),l=n.add(a,c),x=n.mul(x,l),l=n.add(m,w),x=n.sub(x,l),d=n.mul(h,v),l=n.mul(p,w),d=n.add(l,d),l=n.sub(m,d),d=n.add(m,d),u=n.mul(l,d),m=n.add(g,g),m=n.add(m,g),w=n.mul(h,w),v=n.mul(p,v),m=n.add(m,w),w=n.sub(g,w),w=n.mul(h,w),v=n.add(v,w),g=n.mul(m,v),u=n.add(u,g),g=n.mul(x,v),l=n.mul(b,l),l=n.sub(l,g),g=n.mul(b,m),d=n.mul(x,d),d=n.add(d,g),new y(l,u,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(y.ZERO)}wNAF(e){return x.wNAFCached(this,e,y.normalizeZ)}multiplyUnsafe(e){const{endo:r,n:i}=t;S("scalar",e,fe,i);const s=y.ZERO;if(e===fe)return s;if(this.is0()||e===pe)return this;if(!r||x.hasPrecomputes(this))return x.wNAFCachedUnsafe(this,e,y.normalizeZ);let{k1neg:o,k1:a,k2neg:c,k2:l}=r.splitScalar(e),u=s,d=s,h=this;for(;a>fe||l>fe;)a&pe&&(u=u.add(h)),l&pe&&(d=d.add(h)),h=h.double(),a>>=pe,l>>=pe;return o&&(u=u.negate()),c&&(d=d.negate()),d=new y(n.mul(d.px,r.beta),d.py,d.pz),u.add(d)}multiply(e){const{endo:r,n:i}=t;let s,o;if(S("scalar",e,pe,i),r){const{k1neg:t,k1:i,k2neg:a,k2:c}=r.splitScalar(e);let{p:l,f:u}=this.wNAF(i),{p:d,f:h}=this.wNAF(c);l=x.constTimeNegate(t,l),d=x.constTimeNegate(a,d),d=new y(n.mul(d.px,r.beta),d.py,d.pz),s=l.add(d),o=u.add(h)}else{const{p:t,f:n}=this.wNAF(e);s=t,o=n}return y.normalizeZ([s,o])[0]}multiplyAndAddUnsafe(e,t,n){const r=y.BASE,i=(e,t)=>t!==fe&&t!==pe&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,n));return s.is0()?void 0:s}toAffine(e){return p(this,e)}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===pe)return!0;if(n)return n(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===pe?this:n?n(y,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return u("isCompressed",e),this.assertValidity(),i(y,this,e)}toHex(e=!0){return u("isCompressed",e),g(this.toRawBytes(e))}}y.BASE=new y(t.Gx,t.Gy,n.ONE),y.ZERO=new y(n.ZERO,n.ONE,n.ZERO);const{endo:b,nBitLength:v}=t,x=(_=y,I=b?Math.ceil(v/2):v,{constTimeNegate:ee,hasPrecomputes:e=>1!==oe(e),unsafeLadder(e,t,n=_.ZERO){let r=e;for(;t>Q;)t&X&&(n=n.add(r)),r=r.double(),t>>=X;return n},precomputeWindow(e,t){const{windows:n,windowSize:r}=ne(t,I),i=[];let s=e,o=s;for(let e=0;e<n;e++){o=s,i.push(o);for(let e=1;e<r;e++)o=o.add(s),i.push(o);s=o.double()}return i},wNAF(e,t,n){let r=_.ZERO,i=_.BASE;const s=ne(e,I);for(let e=0;e<s.windows;e++){const{nextN:o,offset:a,isZero:c,isNeg:l,isNegF:u,offsetF:d}=re(n,e,s);n=o,c?i=i.add(ee(u,t[d])):r=r.add(ee(l,t[a]))}return{p:r,f:i}},wNAFUnsafe(e,t,n,r=_.ZERO){const i=ne(e,I);for(let e=0;e<i.windows&&n!==Q;e++){const{nextN:s,offset:o,isZero:a,isNeg:c}=re(n,e,i);if(n=s,!a){const e=t[o];r=r.add(c?e.negate():e)}}return r},getPrecomputes(e,t,n){let r=ie.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&ie.set(t,n(r))),r},wNAFCached(e,t,n){const r=oe(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const i=oe(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize(e,t){te(t,I),se.set(e,t),ie.delete(e)}});var _,I;return{CURVE:t,ProjectivePoint:y,normPrivateKeyToScalar:h,weierstrassEquation:o,isWithinCurveOrder:function(e){return C(e,pe,t.n)}}}({...t,toBytes(e,t,r){const i=t.toAffine(),s=n.toBytes(i.x),o=k;return u("isCompressed",r),r?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],i=e.subarray(1);if(t!==o||2!==r&&3!==r){if(t===a&&4===r)return{x:n.fromBytes(i.subarray(0,n.BYTES)),y:n.fromBytes(i.subarray(n.BYTES,2*n.BYTES))};throw new Error("invalid Point, expected length of "+o+", or uncompressed "+a+", got "+t)}{const e=w(i);if(!C(e,pe,n.ORDER))throw new Error("Point is not on curve");const t=p(e);let s;try{s=n.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~r)!=((s&pe)===pe)&&(s=n.neg(s)),{x:e,y:s}}}});function _(e){return e>r>>pe}const P=(e,t,n)=>w(e.slice(t,n));class N{constructor(e,t,n){S("r",e,pe,r),S("s",t,pe,r),this.r=e,this.s=t,null!=n&&(this.recovery=n),Object.freeze(this)}static fromCompact(e){const t=i;return e=E("compactSignature",e,2*t),new N(P(e,0,t),P(e,t,2*t))}static fromDER(e){const{r:t,s:n}=de.toSig(E("DER",e));return new N(t,n)}assertValidity(){}addRecoveryBit(e){return new N(this.r,this.s,e)}recoverPublicKey(e){const{r,s:i,recovery:s}=this,o=B(E("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const a=2===s||3===s?r+t.n:r;if(a>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const c=1&s?"03":"02",u=h.fromHex(c+he(a,n.BYTES)),f=d(a),p=l(-o*f),g=l(i*f),m=h.BASE.multiplyAndAddUnsafe(u,p,g);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return _(this.s)}normalizeS(){return this.hasHighS()?new N(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return y(this.toDERHex())}toDERHex(){return de.hexFromSig(this)}toCompactRawBytes(){return y(this.toCompactHex())}toCompactHex(){const e=i;return he(this.r,e)+he(this.s,e)}}const $={isValidPrivateKey(e){try{return f(e),!0}catch(e){return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const e=J(t.n);return function(e,t,n=!1){const r=e.length,i=Y(t),s=J(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=D(n?b(e):w(e),t-R)+R;return n?x(o,i):v(o,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=h.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function M(e){if("bigint"==typeof e)return!1;if(e instanceof h)return!0;const r=E("key",e).length,s=n.BYTES,o=s+1,a=2*s+1;return t.allowedPrivateKeyLengths||i===o?void 0:r===o||r===a}const L=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=w(e),n=8*e.length-s;return n>0?t>>BigInt(n):t},B=t.bits2int_modN||function(e){return l(L(e))},U=I(s);function F(e){return S("num < 2^"+s,e,fe,U),v(e,i)}const W={lowS:t.lowS,prehash:!1},q={lowS:t.lowS,prehash:!1};return h.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return h.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(!0===M(e))throw new Error("first arg must be private key");if(!1===M(t))throw new Error("second arg must be public key");return h.fromHex(t).multiply(f(e)).toRawBytes(n)},sign:function(e,r,i=W){const{seed:s,k2sig:o}=function(e,r,i=W){if(["recovered","canonical"].some(e=>e in i))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:o}=t;let{lowS:a,prehash:c,extraEntropy:u}=i;null==a&&(a=!0),e=E("msgHash",e),le(i),c&&(e=E("prehashed msgHash",s(e)));const p=B(e),g=f(r),y=[F(g),F(p)];if(null!=u&&!1!==u){const e=!0===u?o(n.BYTES):u;y.push(E("extraEntropy",e))}const w=k(...y),b=p;return{seed:w,k2sig:function(e){const t=L(e);if(!m(t))return;const n=d(t),r=h.BASE.multiply(t).toAffine(),i=l(r.x);if(i===fe)return;const s=l(n*l(b+i*g));if(s===fe)return;let o=(r.x===i?0:2)|Number(r.y&pe),c=s;return a&&_(s)&&(c=function(e){return _(e)?l(-e):e}(s),o^=1),new N(i,c,o)}}}(e,r,i),a=t;return function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=A(e),i=A(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...e)=>n(i,r,...e),c=(e=A(0))=>{i=a(T([0]),e),r=a(),0!==e.length&&(i=a(T([1]),e),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return k(...n)};return(e,t)=>{let n;for(o(),c(e);!(n=t(l()));)c();return o(),n}}(a.hash.outputLen,a.nByteLength,a.hmac)(s,o)},verify:function(e,n,r,i=q){const s=e;n=E("msgHash",n),r=E("publicKey",r);const{lowS:o,prehash:a,format:u}=i;if(le(i),"strict"in i)throw new Error("options.strict was renamed to lowS");if(void 0!==u&&"compact"!==u&&"der"!==u)throw new Error("format must be compact or der");const f="string"==typeof s||c(s),p=!f&&!u&&"object"==typeof s&&null!==s&&"bigint"==typeof s.r&&"bigint"==typeof s.s;if(!f&&!p)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let g,m;try{if(p&&(g=new N(s.r,s.s)),f){try{"compact"!==u&&(g=N.fromDER(s))}catch(e){if(!(e instanceof de.Err))throw e}g||"der"===u||(g=N.fromCompact(s))}m=h.fromHex(r)}catch(e){return!1}if(!g)return!1;if(o&&g.hasHighS())return!1;a&&(n=t.hash(n));const{r:y,s:w}=g,b=B(n),v=d(w),x=l(b*v),k=l(y*v),_=h.BASE.multiplyAndAddUnsafe(m,x,k)?.toAffine();return!!_&&l(_.x)===y},ProjectivePoint:h,Signature:N,utils:$}}function we(e){return{hash:e,hmac:(t,...n)=>(0,i.w)(e,t,(0,s.Id)(...n)),randomBytes:s.po}}const be=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ve=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),xe=BigInt(0),Ee=BigInt(1),ke=BigInt(2),_e=(e,t)=>(e+t/ke)/t;const Ce=Z(be,void 0,void 0,{sqrt:function(e){const t=be,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=F(u,n,t)*u%t,h=F(d,n,t)*u%t,f=F(h,ke,t)*l%t,p=F(f,i,t)*f%t,g=F(p,s,t)*p%t,m=F(g,a,t)*g%t,y=F(m,c,t)*m%t,w=F(y,a,t)*g%t,b=F(w,n,t)*u%t,v=F(b,o,t)*p%t,x=F(v,r,t)*l%t,E=F(x,ke,t);if(!Ce.eql(Ce.sqr(E),e))throw new Error("Cannot find square root");return E}}),Se=function(e,t){const n=t=>ye({...e,...we(t)});return{...n(t),create:n}}({a:xe,b:BigInt(7),Fp:Ce,n:ve,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=ve,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Ee*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=_e(s*e,t),c=_e(-r*e,t);let l=D(e-a*n-c*i,t),u=D(-a*r-c*s,t);const d=l>o,h=u>o;if(d&&(l=t-l),h&&(u=t-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},r.sc)},793:e=>{"use strict";function t(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}e.exports=function(e,n,r){var i=r&&r.stringify||t;if("object"==typeof e&&null!==e){var s=n.length+1;if(1===s)return e;var o=new Array(s);o[0]=i(e);for(var a=1;a<s;a++)o[a]=i(n[a]);return o.join(" ")}if("string"!=typeof e)return e;var c=n.length;if(0===c)return e;for(var l="",u=0,d=-1,h=e&&e.length||0,f=0;f<h;){if(37===e.charCodeAt(f)&&f+1<h){switch(d=d>-1?d:0,e.charCodeAt(f+1)){case 100:case 102:if(u>=c)break;if(null==n[u])break;d<f&&(l+=e.slice(d,f)),l+=Number(n[u]),d=f+2,f++;break;case 105:if(u>=c)break;if(null==n[u])break;d<f&&(l+=e.slice(d,f)),l+=Math.floor(Number(n[u])),d=f+2,f++;break;case 79:case 111:case 106:if(u>=c)break;if(void 0===n[u])break;d<f&&(l+=e.slice(d,f));var p=typeof n[u];if("string"===p){l+="'"+n[u]+"'",d=f+2,f++;break}if("function"===p){l+=n[u].name||"<anonymous>",d=f+2,f++;break}l+=i(n[u]),d=f+2,f++;break;case 115:if(u>=c)break;d<f&&(l+=e.slice(d,f)),l+=String(n[u]),d=f+2,f++;break;case 37:d<f&&(l+=e.slice(d,f)),l+="%",d=f+2,f++,u--}++u}++f}return-1===d?e:(d<h&&(l+=e.slice(d)),l)}},796:e=>{"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},829:e=>{function t(e){return(4294967296+e).toString(16).substring(1)}e.exports={normalizeInput:function(e){let t;if(e instanceof Uint8Array)t=e;else{if("string"!=typeof e)throw new Error("Input must be an string, Buffer or Uint8Array");t=(new TextEncoder).encode(e)}return t},toHex:function(e){return Array.prototype.map.call(e,function(e){return(e<16?"0":"")+e.toString(16)}).join("")},debugPrint:function(e,n,r){let i="\n"+e+" = ";for(let s=0;s<n.length;s+=2){if(32===r)i+=t(n[s]).toUpperCase(),i+=" ",i+=t(n[s+1]).toUpperCase();else{if(64!==r)throw new Error("Invalid size "+r);i+=t(n[s+1]).toUpperCase(),i+=t(n[s]).toUpperCase()}s%6==4?i+="\n"+new Array(e.length+4).join(" "):s<n.length-2&&(i+=" ")}console.log(i)},testSpeed:function(e,t,n){let r=(new Date).getTime();const i=new Uint8Array(t);for(let e=0;e<t;e++)i[e]=e%256;const s=(new Date).getTime();console.log("Generated random input in "+(s-r)+"ms"),r=s;for(let s=0;s<n;s++){const n=e(i),s=(new Date).getTime(),o=s-r;r=s,console.log("Hashed in "+o+"ms: "+n.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(o/1e3)*100)/100+" MB PER SECOND")}}}},837:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.utf8Length=t.utf8Read=t.ErrorCode=t.Protocol=void 0,(r=t.Protocol||(t.Protocol={}))[r.HANDSHAKE=9]="HANDSHAKE",r[r.JOIN_ROOM=10]="JOIN_ROOM",r[r.ERROR=11]="ERROR",r[r.LEAVE_ROOM=12]="LEAVE_ROOM",r[r.ROOM_DATA=13]="ROOM_DATA",r[r.ROOM_STATE=14]="ROOM_STATE",r[r.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH",r[r.ROOM_DATA_SCHEMA=16]="ROOM_DATA_SCHEMA",r[r.ROOM_DATA_BYTES=17]="ROOM_DATA_BYTES",(n=t.ErrorCode||(t.ErrorCode={}))[n.MATCHMAKE_NO_HANDLER=4210]="MATCHMAKE_NO_HANDLER",n[n.MATCHMAKE_INVALID_CRITERIA=4211]="MATCHMAKE_INVALID_CRITERIA",n[n.MATCHMAKE_INVALID_ROOM_ID=4212]="MATCHMAKE_INVALID_ROOM_ID",n[n.MATCHMAKE_UNHANDLED=4213]="MATCHMAKE_UNHANDLED",n[n.MATCHMAKE_EXPIRED=4214]="MATCHMAKE_EXPIRED",n[n.AUTH_FAILED=4215]="AUTH_FAILED",n[n.APPLICATION_ERROR=4216]="APPLICATION_ERROR",t.utf8Read=function(e,t){const n=e[t++];for(var r="",i=0,s=t,o=t+n;s<o;s++){var a=e[s];if(128&a)if(192!=(224&a))if(224!=(240&a)){if(240!=(248&a))throw new Error("Invalid byte "+a.toString(16));(i=(7&a)<<18|(63&e[++s])<<12|(63&e[++s])<<6|63&e[++s])>=65536?(i-=65536,r+=String.fromCharCode((i>>>10)+55296,56320+(1023&i))):r+=String.fromCharCode(i)}else r+=String.fromCharCode((15&a)<<12|(63&e[++s])<<6|63&e[++s]);else r+=String.fromCharCode((31&a)<<6|63&e[++s]);else r+=String.fromCharCode(a)}return r},t.utf8Length=function(e=""){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n+1}},911:(e,t,n)=>{"use strict";n.d(t,{X9:()=>o,s7:()=>i,x8:()=>s});var r=n(7847);class i extends r.C{constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class s extends r.C{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class o extends r.C{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}},947:(e,t,n)=>{"use strict";n.d(t,{kF:()=>s});class r{}class i extends r{constructor(){super()}}class s extends i{constructor(e){super()}}},961:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(6221)},1089:(e,t,n)=>{"use strict";var r=n(5606);function i(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function s(){return void 0!==r&&void 0!==r.versions&&void 0!==r.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=i,t.isNode=s,t.isBrowser=function(){return!i()&&!s()}},1163:(e,t,n)=>{"use strict";n.d(t,{I:()=>i,R:()=>r});const r=e=>e,i=e=>e},1204:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSerializer=t.registerSerializer=void 0;const n={};t.registerSerializer=function(e,t){n[e]=t},t.getSerializer=function(e){const t=n[e];if(!t)throw new Error("missing serializer: "+e);return t}},1222:(e,t,n)=>{var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==n.g&&n.g,i=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r=void 0!==e&&e||"undefined"!=typeof self&&self||void 0!==n.g&&n.g||{},i="URLSearchParams"in r,s="Symbol"in r&&"iterator"in Symbol,o="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in r,c="ArrayBuffer"in r;if(c)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&l.indexOf(Object.prototype.toString.call(e))>-1};function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function h(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return s&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function g(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function m(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function y(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function w(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&o&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=w(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=w(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=g(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return g(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(o)return this.blob().then(y);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e,t,n,r,i,s=g(this);if(s)return s;if(this._bodyBlob)return e=this._bodyBlob,n=m(t=new FileReader),i=(r=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?r[1]:"utf-8",t.readAsText(e,i),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=d(e),t=h(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[d(e)]},p.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},p.prototype.set=function(e,t){this.map[d(e)]=h(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),f(e)},p.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),f(e)},p.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),f(e)},s&&(p.prototype[Symbol.iterator]=p.prototype.entries);var v=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function x(e,t){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i,s=(t=t||{}).body;if(e instanceof x){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,s||null==e._bodyInit||(s=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(i=(n=t.method||this.method||"GET").toUpperCase(),v.indexOf(i)>-1?i:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(s),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function E(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function k(e,t){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})},b.call(x.prototype),b.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},k.error=function(){var e=new k(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var _=[301,302,303,307,308];k.redirect=function(e,t){if(-1===_.indexOf(t))throw new RangeError("Invalid status code");return new k(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function C(e,n){return new Promise(function(i,s){var a=new x(e,n);if(a.signal&&a.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;function u(){l.abort()}if(l.onload=function(){var e,t,n={statusText:l.statusText,headers:(e=l.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();try{t.append(r,i)}catch(e){console.warn("Response "+e.message)}}}),t)};0===a.url.indexOf("file://")&&(l.status<200||l.status>599)?n.status=200:n.status=l.status,n.url="responseURL"in l?l.responseURL:n.headers.get("X-Request-URL");var r="response"in l?l.response:l.responseText;setTimeout(function(){i(new k(r,n))},0)},l.onerror=function(){setTimeout(function(){s(new TypeError("Network request failed"))},0)},l.ontimeout=function(){setTimeout(function(){s(new TypeError("Network request timed out"))},0)},l.onabort=function(){setTimeout(function(){s(new t.DOMException("Aborted","AbortError"))},0)},l.open(a.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(a.url),!0),"include"===a.credentials?l.withCredentials=!0:"omit"===a.credentials&&(l.withCredentials=!1),"responseType"in l&&(o?l.responseType="blob":c&&(l.responseType="arraybuffer")),n&&"object"==typeof n.headers&&!(n.headers instanceof p||r.Headers&&n.headers instanceof r.Headers)){var f=[];Object.getOwnPropertyNames(n.headers).forEach(function(e){f.push(d(e)),l.setRequestHeader(e,h(n.headers[e]))}),a.headers.forEach(function(e,t){-1===f.indexOf(t)&&l.setRequestHeader(t,e)})}else a.headers.forEach(function(e,t){l.setRequestHeader(t,e)});a.signal&&(a.signal.addEventListener("abort",u),l.onreadystatechange=function(){4===l.readyState&&a.signal.removeEventListener("abort",u)}),l.send(void 0===a._bodyInit?null:a._bodyInit)})}C.polyfill=!0,r.fetch||(r.fetch=C,r.Headers=p,r.Request=x,r.Response=k),t.Headers=p,t.Request=x,t.Response=k,t.fetch=C,Object.defineProperty(t,"__esModule",{value:!0})}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=r.fetch?r:i;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t},1247:(e,t,n)=>{"use strict";var r=n(5606),i=n(9982),s=n(6540),o=n(961);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function d(e){if(c(e)!==e)throw Error(a(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),x=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy");Symbol.for("react.scope");var I=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var A=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var T=Symbol.iterator;function P(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=T&&e[T]||e["@@iterator"])?e:null}var O=Symbol.for("react.client.reference");function j(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===O?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case y:return"Fragment";case b:return"Profiler";case w:return"StrictMode";case k:return"Suspense";case _:return"SuspenseList";case I:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case m:return"Portal";case x:return e.displayName||"Context";case v:return(e._context.displayName||"Context")+".Consumer";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return j(e(t))}catch(e){}}return null}var N=Array.isArray,R=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},L=[],B=-1;function U(e){return{current:e}}function D(e){0>B||(e.current=L[B],L[B]=null,B--)}function F(e,t){B++,L[B]=e.current,e.current=t}var z,W,q=U(null),H=U(null),V=U(null),K=U(null);function G(e,t){switch(F(V,t),F(H,e),F(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=wd(t=yd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}D(q),F(q,e)}function Z(){D(q),D(H),D(V)}function Y(e){null!==e.memoizedState&&F(K,e);var t=q.current,n=wd(t,e.type);t!==n&&(F(H,e),F(q,n))}function J(e){H.current===e&&(D(q),D(H)),K.current===e&&(D(K),uh._currentValue=M)}function Q(e){if(void 0===z)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||"",W=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+z+e+W}var X=!1;function ee(e,t){if(!e||X)return"";X=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var c=o.split("\n"),l=a.split("\n");for(i=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(1!==r||1!==i)do{if(r--,0>--i||c[r]!==l[i]){var u="\n"+c[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{X=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Q(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return Q(e.type);case 16:return Q("Lazy");case 13:return e.child!==t&&null!==t?Q("Suspense Fallback"):Q("Suspense");case 19:return Q("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return Q("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}var re=Object.prototype.hasOwnProperty,ie=i.unstable_scheduleCallback,se=i.unstable_cancelCallback,oe=i.unstable_shouldYield,ae=i.unstable_requestPaint,ce=i.unstable_now,le=i.unstable_getCurrentPriorityLevel,ue=i.unstable_ImmediatePriority,de=i.unstable_UserBlockingPriority,he=i.unstable_NormalPriority,fe=i.unstable_LowPriority,pe=i.unstable_IdlePriority,ge=i.log,me=i.unstable_setDisableYieldValue,ye=null,we=null;function be(e){if("function"==typeof ge&&me(e),we&&"function"==typeof we.setStrictMode)try{we.setStrictMode(ye,e)}catch(e){}}var ve=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(xe(e)/Ee|0)|0},xe=Math.log,Ee=Math.LN2,ke=256,_e=262144,Ce=4194304;function Se(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ie(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~s)?i=Se(r):0!==(o&=a)?i=Se(o):n||0!==(n=a&~e)&&(i=Se(n)):0!==(a=r&~s)?i=Se(a):0!==o?i=Se(o):n||0!==(n=r&~e)&&(i=Se(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&4194048&n)?t:i}function Ae(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Te(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=Ce;return!(62914560&(Ce<<=1))&&(Ce=4194304),e}function Oe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function je(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ne(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ve(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Re(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ve(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function $e(e,t){var n=t&-t;return 0!==((n=42&n?1:Me(n))&(e.suspendedLanes|t))?0:n}function Me(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Be(){var e=$.p;return 0!==e?e:void 0===(e=window.event)?32:_h(e.type)}function Ue(e,t){var n=$.p;try{return $.p=e,t()}finally{$.p=n}}var De=Math.random().toString(36).slice(2),Fe="__reactFiber$"+De,ze="__reactProps$"+De,We="__reactContainer$"+De,qe="__reactEvents$"+De,He="__reactListeners$"+De,Ve="__reactHandles$"+De,Ke="__reactResources$"+De,Ge="__reactMarker$"+De;function Ze(e){delete e[Fe],delete e[ze],delete e[qe],delete e[He],delete e[Ve]}function Ye(e){var t=e[Fe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[We]||n[Fe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Md(e);null!==e;){if(n=e[Fe])return n;e=Md(e)}return t}n=(e=n).parentNode}return null}function Je(e){if(e=e[Fe]||e[We]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Xe(e){var t=e[Ke];return t||(t=e[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ge]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},at={};function ct(e,t,n){if(i=t,re.call(at,i)||!re.call(ot,i)&&(st.test(i)?at[i]=!0:(ot[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function lt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function gt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function yt(e){return e.replace(mt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function wt(e,t,n,r,i,s,o,a){e.name="",null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?vt(e,o,dt(t)):null!=n?vt(e,o,dt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.name=""+dt(a):e.removeAttribute("name")}function bt(e,t,n,r,i,s,o,a){if(null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.type=s),null!=t||null!=n){if(("submit"===s||"reset"===s)&&null==t)return void ft(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(e.name=o),ft(e)}function vt(e,t,n){"number"===t&&gt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Et(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(N(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function _t(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ct=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Ct.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function It(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&St(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&St(e,s,t[s])}function At(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ot(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jt(){}var Nt=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var $t=null,Mt=null;function Lt(e){var t=Je(e);if(t&&(e=t.stateNode)){var n=e[ze]||null;e:switch(e=t.stateNode,t.type){case"input":if(wt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[ze]||null;if(!i)throw Error(a(90));wt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":Et(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var Bt=!1;function Ut(e,t,n){if(Bt)return e(t,n);Bt=!0;try{return e(t)}finally{if(Bt=!1,(null!==$t||null!==Mt)&&(Xl(),$t&&(t=$t,e=Mt,Mt=$t=null,Lt(t),e)))for(t=0;t<e.length;t++)Lt(e[t])}}function Dt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[ze]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Ft=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),zt=!1;if(Ft)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch(e){zt=!1}var qt=null,Ht=null,Vt=null;function Kt(){if(Vt)return Vt;var e,t,n=Ht,r=n.length,i="value"in qt?qt.value:qt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Vt=i.slice(e,1<t?1-t:void 0)}function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Zt(){return!0}function Yt(){return!1}function Jt(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Zt:Yt,this.isPropagationStopped=Yt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Zt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Zt)},persist:function(){},isPersistent:Zt}),t}var Qt,Xt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Jt(tn),rn=f({},tn,{view:0,detail:0}),sn=Jt(rn),on=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Qt=e.screenX-en.screenX,Xt=e.screenY-en.screenY):Xt=Qt=0,en=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),an=Jt(on),cn=Jt(f({},on,{dataTransfer:0})),ln=Jt(f({},rn,{relatedTarget:0})),un=Jt(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Jt(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Jt(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=gn[e])&&!!t[e]}function yn(){return mn}var wn=Jt(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Jt(f({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Jt(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),xn=Jt(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=Jt(f({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),kn=Jt(f({},tn,{newState:0,oldState:0})),_n=[9,13,27,32],Cn=Ft&&"CompositionEvent"in window,Sn=null;Ft&&"documentMode"in document&&(Sn=document.documentMode);var In=Ft&&"TextEvent"in window&&!Sn,An=Ft&&(!Cn||Sn&&8<Sn&&11>=Sn),Tn=String.fromCharCode(32),Pn=!1;function On(e,t){switch(e){case"keyup":return-1!==_n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Nn=!1,Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function Mn(e,t,n,r){$t?Mt?Mt.push(r):Mt=[r]:$t=r,0<(t=rd(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ln=null,Bn=null;function Un(e){Zu(e,0)}function Dn(e){if(pt(Qe(e)))return e}function Fn(e,t){if("change"===e)return t}var zn=!1;if(Ft){var Wn;if(Ft){var qn="oninput"in document;if(!qn){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),qn="function"==typeof Hn.oninput}Wn=qn}else Wn=!1;zn=Wn&&(!document.documentMode||9<document.documentMode)}function Vn(){Ln&&(Ln.detachEvent("onpropertychange",Kn),Bn=Ln=null)}function Kn(e){if("value"===e.propertyName&&Dn(Bn)){var t=[];Mn(t,Bn,e,Rt(e)),Ut(Un,t)}}function Gn(e,t,n){"focusin"===e?(Vn(),Bn=n,(Ln=t).attachEvent("onpropertychange",Kn)):"focusout"===e&&Vn()}function Zn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Dn(Bn)}function Yn(e,t){if("click"===e)return Dn(t)}function Jn(e,t){if("input"===e||"change"===e)return Dn(t)}var Qn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Xn(e,t){if(Qn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=gt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=gt((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var sr=Ft&&"documentMode"in document&&11>=document.documentMode,or=null,ar=null,cr=null,lr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lr||null==or||or!==gt(r)||(r="selectionStart"in(r=or)&&ir(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},cr&&Xn(cr,r)||(cr=r,0<(r=rd(ar,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},fr={},pr={};function gr(e){if(fr[e])return fr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return fr[e]=n[t];return e}Ft&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var mr=gr("animationend"),yr=gr("animationiteration"),wr=gr("animationstart"),br=gr("transitionrun"),vr=gr("transitionstart"),xr=gr("transitioncancel"),Er=gr("transitionend"),kr=new Map,_r="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){kr.set(e,t),rt(t,[e])}_r.push("scrollEnd");var Sr="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof r&&"function"==typeof r.emit)return void r.emit("uncaughtException",e);console.error(e)},Ir=[],Ar=0,Tr=0;function Pr(){for(var e=Ar,t=Tr=Ar=0;t<e;){var n=Ir[t];Ir[t++]=null;var r=Ir[t];Ir[t++]=null;var i=Ir[t];Ir[t++]=null;var s=Ir[t];if(Ir[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==s&&Rr(n,i,s)}}function Or(e,t,n,r){Ir[Ar++]=e,Ir[Ar++]=t,Ir[Ar++]=n,Ir[Ar++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function jr(e,t,n,r){return Or(e,t,n,r),$r(e)}function Nr(e,t){return Or(e,null,null,t),$r(e)}function Rr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-ve(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function $r(e){if(50<ql)throw ql=0,Hl=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mr={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(e,t,n,r){return new Lr(e,t,n,r)}function Ur(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dr(e,t){var n=e.alternate;return null===n?((n=Br(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zr(e,t,n,r,i,s){var o=0;if(r=e,"function"==typeof e)Ur(e)&&(o=1);else if("string"==typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case I:return(e=Br(31,n,t,i)).elementType=I,e.lanes=s,e;case y:return Wr(n.children,i,s,t);case w:o=8,i|=24;break;case b:return(e=Br(12,n,t,2|i)).elementType=b,e.lanes=s,e;case k:return(e=Br(13,n,t,i)).elementType=k,e.lanes=s,e;case _:return(e=Br(19,n,t,i)).elementType=_,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case x:o=10;break e;case v:o=9;break e;case E:o=11;break e;case C:o=14;break e;case S:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Br(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Wr(e,t,n,r){return(e=Br(7,e,r,t)).lanes=n,e}function qr(e,t,n){return(e=Br(6,e,null,t)).lanes=n,e}function Hr(e){var t=Br(18,null,null,0);return t.stateNode=e,t}function Vr(e,t,n){return(t=Br(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Kr=new WeakMap;function Gr(e,t){if("object"==typeof e&&null!==e){var n=Kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Kr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Zr=[],Yr=0,Jr=null,Qr=0,Xr=[],ei=0,ti=null,ni=1,ri="";function ii(e,t){Zr[Yr++]=Qr,Zr[Yr++]=Jr,Jr=e,Qr=t}function si(e,t,n){Xr[ei++]=ni,Xr[ei++]=ri,Xr[ei++]=ti,ti=e;var r=ni;e=ri;var i=32-ve(r)-1;r&=~(1<<i),n+=1;var s=32-ve(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ni=1<<32-ve(t)+i|n<<i|r,ri=s+e}else ni=1<<s|n<<i|r,ri=e}function oi(e){null!==e.return&&(ii(e,1),si(e,1,0))}function ai(e){for(;e===Jr;)Jr=Zr[--Yr],Zr[Yr]=null,Qr=Zr[--Yr],Zr[Yr]=null;for(;e===ti;)ti=Xr[--ei],Xr[ei]=null,ri=Xr[--ei],Xr[ei]=null,ni=Xr[--ei],Xr[ei]=null}function ci(e,t){Xr[ei++]=ni,Xr[ei++]=ri,Xr[ei++]=ti,ni=t.id,ri=t.overflow,ti=e}var li=null,ui=null,di=!1,hi=null,fi=!1,pi=Error(a(519));function gi(e){throw xi(Gr(Error(a(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pi}function mi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Fe]=e,t[ze]=r,n){case"dialog":Yu("cancel",t),Yu("close",t);break;case"iframe":case"object":case"embed":Yu("load",t);break;case"video":case"audio":for(n=0;n<Ku.length;n++)Yu(Ku[n],t);break;case"source":Yu("error",t);break;case"img":case"image":case"link":Yu("error",t),Yu("load",t);break;case"details":Yu("toggle",t);break;case"input":Yu("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Yu("invalid",t);break;case"textarea":Yu("invalid",t),kt(t,r.value,r.defaultValue,r.children)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ld(t.textContent,n)?(null!=r.popover&&(Yu("beforetoggle",t),Yu("toggle",t)),null!=r.onScroll&&Yu("scroll",t),null!=r.onScrollEnd&&Yu("scrollend",t),null!=r.onClick&&(t.onclick=jt),t=!0):t=!1,t||gi(e,!0)}function yi(e){for(li=e.return;li;)switch(li.tag){case 5:case 31:case 13:return void(fi=!1);case 27:case 3:return void(fi=!0);default:li=li.return}}function wi(e){if(e!==li)return!1;if(!di)return yi(e),di=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bd(e.type,e.memoizedProps)),t=!t),t&&ui&&gi(e),yi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));ui=$d(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));ui=$d(e)}else 27===n?(n=ui,Sd(e.type)?(e=Rd,Rd=null,ui=e):ui=n):ui=li?Nd(e.stateNode.nextSibling):null;return!0}function bi(){ui=li=null,di=!1}function vi(){var e=hi;return null!==e&&(null===Pl?Pl=e:Pl.push.apply(Pl,e),hi=null),e}function xi(e){null===hi?hi=[e]:hi.push(e)}var Ei=U(null),ki=null,_i=null;function Ci(e,t,n){F(Ei,t._currentValue),t._currentValue=n}function Si(e){e._currentValue=Ei.current,D(Ei)}function Ii(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ai(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var o=i.child;s=s.firstContext;e:for(;null!==s;){var c=s;s=i;for(var l=0;l<t.length;l++)if(c.context===t[l]){s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ii(s.return,n,e),r||(o=null);break e}s=c.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),Ii(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Ti(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(524288&i.flags)s=!0;else if(262144&i.flags)break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var c=i.type;Qn(i.pendingProps.value,o.value)||(null!==e?e.push(c):e=[c])}}else if(i===K.current){if(null===(o=i.alternate))throw Error(a(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(uh):e=[uh])}i=i.return}null!==e&&Ai(t,e,n,r),t.flags|=262144}function Pi(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Oi(e){ki=e,_i=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function ji(e){return Ri(ki,e)}function Ni(e,t){return null===ki&&Oi(e),Ri(e,t)}function Ri(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===_i){if(null===e)throw Error(a(308));_i=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _i=_i.next=t;return n}var $i="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Mi=i.unstable_scheduleCallback,Li=i.unstable_NormalPriority,Bi={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ui(){return{controller:new $i,data:new Map,refCount:0}}function Di(e){e.refCount--,0===e.refCount&&Mi(Li,function(){e.controller.abort()})}var Fi=null,zi=0,Wi=0,qi=null;function Hi(){if(0===--zi&&null!==Fi){null!==qi&&(qi.status="fulfilled");var e=Fi;Fi=null,Wi=0,qi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vi=R.S;R.S=function(e,t){Nl=ce(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Fi){var n=Fi=[];zi=0,Wi=zu(),qi={status:"pending",value:void 0,then:function(e){n.push(e)}}}zi++,t.then(Hi,Hi)}(0,t),null!==Vi&&Vi(e,t)};var Ki=U(null);function Gi(){var e=Ki.current;return null!==e?e:pl.pooledCache}function Zi(e,t){F(Ki,null===t?Ki.current:t.pool)}function Yi(){var e=Gi();return null===e?null:{parent:Bi._currentValue,pool:e}}var Ji=Error(a(460)),Qi=Error(a(474)),Xi=Error(a(542)),es={then:function(){}};function ts(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ns(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(jt,jt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e;default:if("string"==typeof t.status)t.then(jt,jt);else{if(null!==(e=pl)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e}throw is=t,Ji}}function rs(e){try{return(0,e._init)(e._payload)}catch(e){if(null!==e&&"object"==typeof e&&"function"==typeof e.then)throw is=e,Ji;throw e}}var is=null;function ss(){if(null===is)throw Error(a(459));var e=is;return is=null,e}function os(e){if(e===Ji||e===Xi)throw Error(a(483))}var as=null,cs=0;function ls(e){var t=cs;return cs+=1,null===as&&(as=[]),ns(as,e,t)}function us(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ds(e,t){if(t.$$typeof===p)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Dr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=qr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===y?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===S&&rs(s)===t.type)?(us(t=i(t,n.props),n),t.return=e,t):(us(t=zr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Wr(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=qr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case g:return us(n=zr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Vr(t,e.mode,n)).return=e,t;case S:return h(e,t=rs(t),n)}if(N(t)||P(t))return(t=Wr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return h(e,ls(t),n);if(t.$$typeof===x)return h(e,Ni(e,t),n);ds(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case g:return n.key===i?l(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case S:return f(e,t,n=rs(n),r)}if(N(n)||P(n))return null!==i?null:d(e,t,n,r,null);if("function"==typeof n.then)return f(e,t,ls(n),r);if(n.$$typeof===x)return f(e,t,Ni(e,n),r);ds(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case g:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return p(e,t,n,r=rs(r),i)}if(N(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return p(e,t,n,ls(r),i);if(r.$$typeof===x)return p(e,t,n,Ni(t,r),i);ds(t,r)}return null}function w(c,l,u,d){if("object"==typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case g:e:{for(var b=u.key;null!==l;){if(l.key===b){if((b=u.type)===y){if(7===l.tag){n(c,l.sibling),(d=i(l,u.props.children)).return=c,c=d;break e}}else if(l.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===S&&rs(b)===l.type){n(c,l.sibling),us(d=i(l,u.props),u),d.return=c,c=d;break e}n(c,l);break}t(c,l),l=l.sibling}u.type===y?((d=Wr(u.props.children,c.mode,d,u.key)).return=c,c=d):(us(d=zr(u.type,u.key,u.props,null,c.mode,d),u),d.return=c,c=d)}return o(c);case m:e:{for(b=u.key;null!==l;){if(l.key===b){if(4===l.tag&&l.stateNode.containerInfo===u.containerInfo&&l.stateNode.implementation===u.implementation){n(c,l.sibling),(d=i(l,u.children||[])).return=c,c=d;break e}n(c,l);break}t(c,l),l=l.sibling}(d=Vr(u,c.mode,d)).return=c,c=d}return o(c);case S:return w(c,l,u=rs(u),d)}if(N(u))return function(i,o,a,c){for(var l=null,u=null,d=o,g=o=0,m=null;null!==d&&g<a.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var y=f(i,d,a[g],c);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(i,d),o=s(y,o,g),null===u?l=y:u.sibling=y,u=y,d=m}if(g===a.length)return n(i,d),di&&ii(i,g),l;if(null===d){for(;g<a.length;g++)null!==(d=h(i,a[g],c))&&(o=s(d,o,g),null===u?l=d:u.sibling=d,u=d);return di&&ii(i,g),l}for(d=r(d);g<a.length;g++)null!==(m=p(d,i,g,a[g],c))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=s(m,o,g),null===u?l=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(i,e)}),di&&ii(i,g),l}(c,l,u,d);if(P(u)){if("function"!=typeof(b=P(u)))throw Error(a(150));return function(i,o,c,l){if(null==c)throw Error(a(151));for(var u=null,d=null,g=o,m=o=0,y=null,w=c.next();null!==g&&!w.done;m++,w=c.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=f(i,g,w.value,l);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(i,g),o=s(b,o,m),null===d?u=b:d.sibling=b,d=b,g=y}if(w.done)return n(i,g),di&&ii(i,m),u;if(null===g){for(;!w.done;m++,w=c.next())null!==(w=h(i,w.value,l))&&(o=s(w,o,m),null===d?u=w:d.sibling=w,d=w);return di&&ii(i,m),u}for(g=r(g);!w.done;m++,w=c.next())null!==(w=p(g,i,m,w.value,l))&&(e&&null!==w.alternate&&g.delete(null===w.key?m:w.key),o=s(w,o,m),null===d?u=w:d.sibling=w,d=w);return e&&g.forEach(function(e){return t(i,e)}),di&&ii(i,m),u}(c,l,u=b.call(u),d)}if("function"==typeof u.then)return w(c,l,ls(u),d);if(u.$$typeof===x)return w(c,l,Ni(c,u),d);ds(c,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==l&&6===l.tag?(n(c,l.sibling),(d=i(l,u)).return=c,c=d):(n(c,l),(d=qr(u,c.mode,d)).return=c,c=d),o(c)):n(c,l)}return function(e,t,n,r){try{cs=0;var i=w(e,t,n,r);return as=null,i}catch(t){if(t===Ji||t===Xi)throw t;var s=Br(29,t,null,e.mode);return s.lanes=r,s.return=e,s}}}var fs=hs(!0),ps=hs(!1),gs=!1;function ms(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ys(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ws(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&fl){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=$r(e),Rr(e,null,n),t}return Or(e,r,t,n),$r(e)}function vs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}function xs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Es=!1;function ks(){if(Es&&null!==qi)throw qi}function _s(e,t,n,r){Es=!1;var i=e.updateQueue;gs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var c=a,l=c.next;c.next=null,null===o?s=l:o.next=l,o=c;var u=e.alternate;null!==u&&(a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c)}if(null!==s){var d=i.baseState;for(o=0,u=l=c=null,a=s;;){var h=-536870913&a.lane,p=h!==a.lane;if(p?(ml&h)===h:(r&h)===h){0!==h&&h===Wi&&(Es=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var g=e,m=a;h=t;var y=n;switch(m.tag){case 1:if("function"==typeof(g=m.payload)){d=g.call(y,d,h);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null==(h="function"==typeof(g=m.payload)?g.call(y,d,h):g))break e;d=f({},d,h);break e;case 2:gs=!0}}null!==(h=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(l=u=p,c=d):u=u.next=p,o|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),_l|=o,e.lanes=o,e.memoizedState=d}}function Cs(e,t){if("function"!=typeof e)throw Error(a(191,e));e.call(t)}function Ss(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Cs(n[e],t)}var Is=U(null),As=U(0);function Ts(e,t){F(As,e=El),F(Is,t),El=e|t.baseLanes}function Ps(){F(As,El),F(Is,Is.current)}function Os(){El=As.current,D(Is),D(As)}var js=U(null),Ns=null;function Rs(e){var t=e.alternate;F(Us,1&Us.current),F(js,e),null===Ns&&(null===t||null!==Is.current||null!==t.memoizedState)&&(Ns=e)}function $s(e){F(Us,Us.current),F(js,e),null===Ns&&(Ns=e)}function Ms(e){22===e.tag?(F(Us,Us.current),F(js,e),null===Ns&&(Ns=e)):Ls()}function Ls(){F(Us,Us.current),F(js,js.current)}function Bs(e){D(js),Ns===e&&(Ns=null),D(Us)}var Us=U(0);function Ds(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Od(n)||jd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fs=0,zs=null,Ws=null,qs=null,Hs=!1,Vs=!1,Ks=!1,Gs=0,Zs=0,Ys=null,Js=0;function Qs(){throw Error(a(321))}function Xs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function eo(e,t,n,r,i,s){return Fs=s,zs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?ma:ya,Ks=!1,s=n(r,i),Ks=!1,Vs&&(s=no(t,n,r,i)),to(e),s}function to(e){R.H=ga;var t=null!==Ws&&null!==Ws.next;if(Fs=0,qs=Ws=zs=null,Hs=!1,Zs=0,Ys=null,t)throw Error(a(300));null===e||Na||null!==(e=e.dependencies)&&Pi(e)&&(Na=!0)}function no(e,t,n,r){zs=e;var i=0;do{if(Vs&&(Ys=null),Zs=0,Vs=!1,25<=i)throw Error(a(301));if(i+=1,qs=Ws=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}R.H=wa,s=t(n,r)}while(Vs);return s}function ro(){var e=R.H,t=e.useState()[0];return t="function"==typeof t.then?lo(t):t,e=e.useState()[0],(null!==Ws?Ws.memoizedState:null)!==e&&(zs.flags|=1024),t}function io(){var e=0!==Gs;return Gs=0,e}function so(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function oo(e){if(Hs){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Hs=!1}Fs=0,qs=Ws=zs=null,Vs=!1,Zs=Gs=0,Ys=null}function ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qs?zs.memoizedState=qs=e:qs=qs.next=e,qs}function co(){if(null===Ws){var e=zs.alternate;e=null!==e?e.memoizedState:null}else e=Ws.next;var t=null===qs?zs.memoizedState:qs.next;if(null!==t)qs=t,Ws=e;else{if(null===e){if(null===zs.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(Ws=e).memoizedState,baseState:Ws.baseState,baseQueue:Ws.baseQueue,queue:Ws.queue,next:null},null===qs?zs.memoizedState=qs=e:qs=qs.next=e}return qs}function lo(e){var t=Zs;return Zs+=1,null===Ys&&(Ys=[]),e=ns(Ys,e,t),t=zs,null===(null===qs?t.memoizedState:qs.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?ma:ya),e}function uo(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return lo(e);if(e.$$typeof===x)return ji(e)}throw Error(a(438,String(e)))}function ho(e){var t=null,n=zs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=zs.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},zs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=A;return t.index++,n}function fo(e,t){return"function"==typeof t?t(e):t}function po(e){return go(co(),Ws,e)}function go(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var c=o=null,l=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ml&h)===h:(Fs&h)===h){var f=u.revertLane;if(0===f)null!==l&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Wi&&(d=!0);else{if((Fs&f)===f){u=u.next,f===Wi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===l?(c=l=h,o=s):l=l.next=h,zs.lanes|=f,_l|=f}h=u.action,Ks&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===l?(c=l=f,o=s):l=l.next=f,zs.lanes|=h,_l|=h;u=u.next}while(null!==u&&u!==t);if(null===l?o=s:l.next=c,!Qn(s,e.memoizedState)&&(Na=!0,d&&null!==(n=qi)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=l,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function mo(e){var t=co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Qn(s,t.memoizedState)||(Na=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function yo(e,t,n){var r=zs,i=co(),s=di;if(s){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Qn((Ws||i).memoizedState,n);if(o&&(i.memoizedState=n,Na=!0),i=i.queue,zo(vo.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==qs&&1&qs.memoizedState.tag){if(r.flags|=2048,Lo(9,{destroy:void 0},bo.bind(null,r,i,n,t),null),null===pl)throw Error(a(349));s||127&Fs||wo(r,t,n)}return n}function wo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=zs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},zs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bo(e,t,n,r){t.value=n,t.getSnapshot=r,xo(t)&&Eo(e)}function vo(e,t,n){return n(function(){xo(t)&&Eo(e)})}function xo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(e){return!0}}function Eo(e){var t=Nr(e,2);null!==t&&Gl(t,0,2)}function ko(e){var t=ao();if("function"==typeof e){var n=e;if(e=n(),Ks){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:e},t}function _o(e,t,n,r){return e.baseState=n,go(e,Ws,"function"==typeof r?r:fo)}function Co(e,t,n,r,i){if(ha(e))throw Error(a(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==R.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,So(t,s)):(s.next=n.next,t.pending=n.next=s)}}function So(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=R.T,o={};R.T=o;try{var a=n(i,r),c=R.S;null!==c&&c(o,a),Io(e,t,a)}catch(n){To(e,t,n)}finally{null!==s&&null!==o.types&&(s.types=o.types),R.T=s}}else try{Io(e,t,s=n(i,r))}catch(n){To(e,t,n)}}function Io(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){Ao(e,t,n)},function(n){return To(e,t,n)}):Ao(e,t,n)}function Ao(e,t,n){t.status="fulfilled",t.value=n,Po(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,So(e,n)))}function To(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Po(t),t=t.next}while(t!==r)}e.action=null}function Po(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Oo(e,t){return t}function jo(e,t){if(di){var n=pl.formState;if(null!==n){e:{var r=zs;if(di){if(ui){t:{for(var i=ui,s=fi;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=Nd(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){ui=Nd(i.nextSibling),r="F!"===i.data;break e}}gi(r)}r=!1}r&&(t=n[0])}}return(n=ao()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:t},n.queue=r,n=la.bind(null,zs,r),r.dispatch=n,r=ko(!1),s=da.bind(null,zs,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ao()).queue=i,n=Co.bind(null,zs,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function No(e){return Ro(co(),Ws,e)}function Ro(e,t,n){if(t=go(e,t,Oo)[0],e=po(fo)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=lo(t)}catch(e){if(e===Ji)throw Xi;throw e}else r=t;var i=(t=co()).queue,s=i.dispatch;return n!==t.memoizedState&&(zs.flags|=2048,Lo(9,{destroy:void 0},$o.bind(null,i,n),null)),[r,s,e]}function $o(e,t){e.action=t}function Mo(e){var t=co(),n=Ws;if(null!==n)return Ro(t,n,e);co(),t=t.memoizedState;var r=(n=co()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Lo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=zs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},zs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return co().memoizedState}function Uo(e,t,n,r){var i=ao();zs.flags|=e,i.memoizedState=Lo(1|t,{destroy:void 0},n,void 0===r?null:r)}function Do(e,t,n,r){var i=co();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==Ws&&null!==r&&Xs(r,Ws.memoizedState.deps)?i.memoizedState=Lo(t,s,n,r):(zs.flags|=e,i.memoizedState=Lo(1|t,s,n,r))}function Fo(e,t){Uo(8390656,8,e,t)}function zo(e,t){Do(2048,8,e,t)}function Wo(e){var t=co().memoizedState;return function(e){zs.flags|=4;var t=zs.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},zs.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&fl)throw Error(a(440));return t.impl.apply(void 0,arguments)}}function qo(e,t){return Do(4,2,e,t)}function Ho(e,t){return Do(4,4,e,t)}function Vo(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Ko(e,t,n){n=null!=n?n.concat([e]):null,Do(4,4,Vo.bind(null,t,e),n)}function Go(){}function Zo(e,t){var n=co();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Xs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=co();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Xs(t,r[1]))return r[0];if(r=e(),Ks){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Jo(e,t,n){return void 0===n||1073741824&Fs&&!(261930&ml)?e.memoizedState=t:(e.memoizedState=n,e=Kl(),zs.lanes|=e,_l|=e,n)}function Qo(e,t,n,r){return Qn(n,t)?n:null!==Is.current?(e=Jo(e,n,r),Qn(e,t)||(Na=!0),e):42&Fs&&(!(1073741824&Fs)||261930&ml)?(e=Kl(),zs.lanes|=e,_l|=e,t):(Na=!0,e.memoizedState=n)}function Xo(e,t,n,r,i){var s=$.p;$.p=0!==s&&8>s?s:8;var o,a,c,l=R.T,u={};R.T=u,da(e,!1,t,n);try{var d=i(),h=R.S;null!==h&&h(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then?ua(e,t,(o=r,a=[],c={status:"pending",value:null,reason:null,then:function(e){a.push(e)}},d.then(function(){c.status="fulfilled",c.value=o;for(var e=0;e<a.length;e++)(0,a[e])(o)},function(e){for(c.status="rejected",c.reason=e,e=0;e<a.length;e++)(0,a[e])(void 0)}),c),Vl()):ua(e,t,r,Vl())}catch(n){ua(e,t,{then:function(){},status:"rejected",reason:n},Vl())}finally{$.p=s,null!==l&&null!==u.types&&(l.types=u.types),R.T=l}}function ea(){}function ta(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=na(e).queue;Xo(e,i,t,M,null===n?ea:function(){return ra(e),n(r)})}function na(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ra(e){var t=na(e);null===t.next&&(t=e.alternate.memoizedState),ua(e,t.next.queue,{},Vl())}function ia(){return ji(uh)}function sa(){return co().memoizedState}function oa(){return co().memoizedState}function aa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Vl(),r=bs(t,e=ws(n),n);return null!==r&&(Gl(r,0,n),vs(r,t,n)),t={cache:Ui()},void(e.payload=t)}t=t.return}}function ca(e,t,n){var r=Vl();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ha(e)?fa(t,n):null!==(n=jr(e,t,n,r))&&(Gl(n,0,r),pa(n,t,r))}function la(e,t,n){ua(e,t,n,Vl())}function ua(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ha(e))fa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Qn(a,o))return Or(e,t,i,0),null===pl&&Pr(),!1}catch(e){}if(null!==(n=jr(e,t,i,r)))return Gl(n,0,r),pa(n,t,r),!0}return!1}function da(e,t,n,r){if(r={lane:2,revertLane:zu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ha(e)){if(t)throw Error(a(479))}else null!==(t=jr(e,n,r,2))&&Gl(t,0,2)}function ha(e){var t=e.alternate;return e===zs||null!==t&&t===zs}function fa(e,t){Vs=Hs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pa(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}var ga={readContext:ji,use:uo,useCallback:Qs,useContext:Qs,useEffect:Qs,useImperativeHandle:Qs,useLayoutEffect:Qs,useInsertionEffect:Qs,useMemo:Qs,useReducer:Qs,useRef:Qs,useState:Qs,useDebugValue:Qs,useDeferredValue:Qs,useTransition:Qs,useSyncExternalStore:Qs,useId:Qs,useHostTransitionStatus:Qs,useFormState:Qs,useActionState:Qs,useOptimistic:Qs,useMemoCache:Qs,useCacheRefresh:Qs};ga.useEffectEvent=Qs;var ma={readContext:ji,use:uo,useCallback:function(e,t){return ao().memoizedState=[e,void 0===t?null:t],e},useContext:ji,useEffect:Fo,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Uo(4194308,4,Vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){Uo(4,2,e,t)},useMemo:function(e,t){var n=ao();t=void 0===t?null:t;var r=e();if(Ks){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ao();if(void 0!==n){var i=n(t);if(Ks){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ca.bind(null,zs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ao().memoizedState=e},useState:function(e){var t=(e=ko(e)).queue,n=la.bind(null,zs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Go,useDeferredValue:function(e,t){return Jo(ao(),e,t)},useTransition:function(){var e=ko(!1);return e=Xo.bind(null,zs,e.queue,!0,!1),ao().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=zs,i=ao();if(di){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===pl)throw Error(a(349));127&ml||wo(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Fo(vo.bind(null,r,s,e),[e]),r.flags|=2048,Lo(9,{destroy:void 0},bo.bind(null,r,s,n,t),null),n},useId:function(){var e=ao(),t=pl.identifierPrefix;if(di){var n=ri;t="_"+t+"R_"+(n=(ni&~(1<<32-ve(ni)-1)).toString(32)+n),0<(n=Gs++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Js++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ia,useFormState:jo,useActionState:jo,useOptimistic:function(e){var t=ao();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=da.bind(null,zs,!0,n),n.dispatch=t,[e,t]},useMemoCache:ho,useCacheRefresh:function(){return ao().memoizedState=aa.bind(null,zs)},useEffectEvent:function(e){var t=ao(),n={impl:e};return t.memoizedState=n,function(){if(2&fl)throw Error(a(440));return n.impl.apply(void 0,arguments)}}},ya={readContext:ji,use:uo,useCallback:Zo,useContext:ji,useEffect:zo,useImperativeHandle:Ko,useInsertionEffect:qo,useLayoutEffect:Ho,useMemo:Yo,useReducer:po,useRef:Bo,useState:function(){return po(fo)},useDebugValue:Go,useDeferredValue:function(e,t){return Qo(co(),Ws.memoizedState,e,t)},useTransition:function(){var e=po(fo)[0],t=co().memoizedState;return["boolean"==typeof e?e:lo(e),t]},useSyncExternalStore:yo,useId:sa,useHostTransitionStatus:ia,useFormState:No,useActionState:No,useOptimistic:function(e,t){return _o(co(),0,e,t)},useMemoCache:ho,useCacheRefresh:oa};ya.useEffectEvent=Wo;var wa={readContext:ji,use:uo,useCallback:Zo,useContext:ji,useEffect:zo,useImperativeHandle:Ko,useInsertionEffect:qo,useLayoutEffect:Ho,useMemo:Yo,useReducer:mo,useRef:Bo,useState:function(){return mo(fo)},useDebugValue:Go,useDeferredValue:function(e,t){var n=co();return null===Ws?Jo(n,e,t):Qo(n,Ws.memoizedState,e,t)},useTransition:function(){var e=mo(fo)[0],t=co().memoizedState;return["boolean"==typeof e?e:lo(e),t]},useSyncExternalStore:yo,useId:sa,useHostTransitionStatus:ia,useFormState:Mo,useActionState:Mo,useOptimistic:function(e,t){var n=co();return null!==Ws?_o(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ho,useCacheRefresh:oa};function ba(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}wa.useEffectEvent=Wo;var va={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Vl(),i=ws(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=bs(e,i,r))&&(Gl(t,0,r),vs(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Vl(),i=ws(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=bs(e,i,r))&&(Gl(t,0,r),vs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Vl(),r=ws(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=bs(e,r,n))&&(Gl(t,0,n),vs(t,e,n))}};function xa(e,t,n,r,i,s,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!(t.prototype&&t.prototype.isPureReactComponent&&Xn(n,r)&&Xn(i,s))}function Ea(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&va.enqueueReplaceState(t,t.state,null)}function ka(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function _a(e){Sr(e)}function Ca(e){console.error(e)}function Sa(e){Sr(e)}function Ia(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Aa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Ta(e,t,n){return(n=ws(n)).tag=3,n.payload={element:null},n.callback=function(){Ia(e,t)},n}function Pa(e){return(e=ws(e)).tag=3,e}function Oa(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){Aa(t,n,r)}}var o=n.stateNode;null!==o&&"function"==typeof o.componentDidCatch&&(e.callback=function(){Aa(t,n,r),"function"!=typeof i&&(null===Ml?Ml=new Set([this]):Ml.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var ja=Error(a(461)),Na=!1;function Ra(e,t,n,r){t.child=null===e?ps(t,null,n,r):fs(t,e.child,n,r)}function $a(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var o={};for(var a in r)"ref"!==a&&(o[a]=r[a])}else o=r;return Oi(t),r=eo(e,t,n,o,s,i),a=io(),null===e||Na?(di&&a&&oi(t),t.flags|=1,Ra(e,t,r,i),t.child):(so(e,t,i),ic(e,t,i))}function Ma(e,t,n,r,i){if(null===e){var s=n.type;return"function"!=typeof s||Ur(s)||void 0!==s.defaultProps||null!==n.compare?((e=zr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,La(e,t,s,r,i))}if(s=e.child,!sc(e,i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(o,r)&&e.ref===t.ref)return ic(e,t,i)}return t.flags|=1,(e=Dr(s,r)).ref=t.ref,e.return=t,t.child=e}function La(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Xn(s,r)&&e.ref===t.ref){if(Na=!1,t.pendingProps=r=s,!sc(e,i))return t.lanes=e.lanes,ic(e,t,i);131072&e.flags&&(Na=!0)}}return qa(e,t,n,r,i)}function Ba(e,t,n,r){var i=r.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(s=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~s}else r=0,t.child=null;return Da(e,t,s,n,r)}if(!(536870912&n))return r=t.lanes=536870912,Da(e,t,null!==s?s.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Zi(0,null!==s?s.cachePool:null),null!==s?Ts(t,s):Ps(),Ms(t)}else null!==s?(Zi(0,s.cachePool),Ts(t,s),Ls(),t.memoizedState=null):(null!==e&&Zi(0,null),Ps(),Ls());return Ra(e,t,i,n),t.child}function Ua(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Da(e,t,n,r,i){var s=Gi();return s=null===s?null:{parent:Bi._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Zi(0,null),Ps(),Ms(t),null!==e&&Ti(e,t,r,!0),t.childLanes=i,null}function Fa(e,t){return(t=Xa({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function za(e,t,n){return fs(t,e.child,null,n),(e=Fa(t,t.pendingProps)).flags|=2,Bs(t),t.memoizedState=null,e}function Wa(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function qa(e,t,n,r,i){return Oi(t),n=eo(e,t,n,r,void 0,i),r=io(),null===e||Na?(di&&r&&oi(t),t.flags|=1,Ra(e,t,n,i),t.child):(so(e,t,i),ic(e,t,i))}function Ha(e,t,n,r,i,s){return Oi(t),t.updateQueue=null,n=no(t,r,n,i),to(e),r=io(),null===e||Na?(di&&r&&oi(t),t.flags|=1,Ra(e,t,n,s),t.child):(so(e,t,s),ic(e,t,s))}function Va(e,t,n,r,i){if(Oi(t),null===t.stateNode){var s=Mr,o=n.contextType;"object"==typeof o&&null!==o&&(s=ji(o)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=va,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},ms(t),o=n.contextType,s.context="object"==typeof o&&null!==o?ji(o):Mr,s.state=t.memoizedState,"function"==typeof(o=n.getDerivedStateFromProps)&&(ba(t,n,o,r),s.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(o=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),o!==s.state&&va.enqueueReplaceState(s,s.state,null),_s(t,r,s,i),ks(),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var a=t.memoizedProps,c=ka(n,a);s.props=c;var l=s.context,u=n.contextType;o=Mr,"object"==typeof u&&null!==u&&(o=ji(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a||l!==o)&&Ea(t,s,r,o),gs=!1;var h=t.memoizedState;s.state=h,_s(t,r,s,i),ks(),l=t.memoizedState,a||h!==l||gs?("function"==typeof d&&(ba(t,n,d,r),l=t.memoizedState),(c=gs||xa(t,n,c,r,h,l,o))?(u||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=o,r=c):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ys(e,t),u=ka(n,o=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,l=n.contextType,c=Mr,"object"==typeof l&&null!==l&&(c=ji(l)),(l="function"==typeof(a=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==d||h!==c)&&Ea(t,s,r,c),gs=!1,h=t.memoizedState,s.state=h,_s(t,r,s,i),ks();var f=t.memoizedState;o!==d||h!==f||gs||null!==e&&null!==e.dependencies&&Pi(e.dependencies)?("function"==typeof a&&(ba(t,n,a,r),f=t.memoizedState),(u=gs||xa(t,n,u,r,h,f,c)||null!==e&&null!==e.dependencies&&Pi(e.dependencies))?(l||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,c),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,c)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=c,r=u):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Wa(e,t),r=!!(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=fs(t,e.child,null,i),t.child=fs(t,null,n,i)):Ra(e,t,n,i),t.memoizedState=s.state,e=t.child):e=ic(e,t,i),e}function Ka(e,t,n,r){return bi(),t.flags|=256,Ra(e,t,n,r),t.child}var Ga={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Za(e){return{baseLanes:e,cachePool:Yi()}}function Ya(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Il),e}function Ja(e,t,n){var r,i=t.pendingProps,s=!1,o=!!(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&!!(2&Us.current)),r&&(s=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(di){if(s?Rs(t):Ls(),(e=ui)?null!==(e=null!==(e=Pd(e,fi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Hr(e)).return=t,t.child=n,li=t,ui=null):e=null,null===e)throw gi(t);return jd(e)?t.lanes=32:t.lanes=536870912,null}var c=i.children;return i=i.fallback,s?(Ls(),c=Xa({mode:"hidden",children:c},s=t.mode),i=Wr(i,s,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(i=t.child).memoizedState=Za(n),i.childLanes=Ya(e,r,n),t.memoizedState=Ga,Ua(null,i)):(Rs(t),Qa(t,c))}var l=e.memoizedState;if(null!==l&&null!==(c=l.dehydrated)){if(o)256&t.flags?(Rs(t),t.flags&=-257,t=ec(e,t,n)):null!==t.memoizedState?(Ls(),t.child=e.child,t.flags|=128,t=null):(Ls(),c=i.fallback,s=t.mode,i=Xa({mode:"visible",children:i.children},s),(c=Wr(c,s,n,null)).flags|=2,i.return=t,c.return=t,i.sibling=c,t.child=i,fs(t,e.child,null,n),(i=t.child).memoizedState=Za(n),i.childLanes=Ya(e,r,n),t.memoizedState=Ga,t=Ua(null,i));else if(Rs(t),jd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,xi({value:i,source:null,stack:null}),t=ec(e,t,n)}else if(Na||Ti(e,t,n,!1),r=0!==(n&e.childLanes),Na||r){if(null!==(r=pl)&&0!==(i=$e(r,n))&&i!==l.retryLane)throw l.retryLane=i,Nr(e,i),Gl(r,0,i),ja;Od(c)||ou(),t=ec(e,t,n)}else Od(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ui=Nd(c.nextSibling),li=t,di=!0,hi=null,fi=!1,null!==e&&ci(t,e),(t=Qa(t,i.children)).flags|=4096);return t}return s?(Ls(),c=i.fallback,s=t.mode,u=(l=e.child).sibling,(i=Dr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?c=Dr(u,c):(c=Wr(c,s,n,null)).flags|=2,c.return=t,i.return=t,i.sibling=c,t.child=i,Ua(null,i),i=t.child,null===(c=e.child.memoizedState)?c=Za(n):(null!==(s=c.cachePool)?(l=Bi._currentValue,s=s.parent!==l?{parent:l,pool:l}:s):s=Yi(),c={baseLanes:c.baseLanes|n,cachePool:s}),i.memoizedState=c,i.childLanes=Ya(e,r,n),t.memoizedState=Ga,Ua(e.child,i)):(Rs(t),e=(n=e.child).sibling,(n=Dr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Qa(e,t){return(t=Xa({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Xa(e,t){return(e=Br(22,e,null,t)).lanes=0,e}function ec(e,t,n){return fs(t,e.child,null,n),(e=Qa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tc(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ii(e.return,t,n)}function nc(e,t,n,r,i,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=s)}function rc(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;r=r.children;var o=Us.current,a=!!(2&o);if(a?(o=1&o|2,t.flags|=128):o&=1,F(Us,o),Ra(e,t,r,n),r=di?Qr:0,!a&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tc(e,n,t);else if(19===e.tag)tc(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ds(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nc(t,!1,i,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ds(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nc(t,!0,n,null,s,r);break;case"together":nc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ic(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),_l|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ti(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sc(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Pi(e))}function oc(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Na=!0;else{if(!(sc(e,n)||128&t.flags))return Na=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),Ci(0,Bi,e.memoizedState.cache),bi();break;case 27:case 5:Y(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:Ci(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,$s(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Rs(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ja(e,t,n):(Rs(t),null!==(e=ic(e,t,n))?e.sibling:null);Rs(t);break;case 19:var i=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Ti(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return rc(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),F(Us,Us.current),r)break;return null;case 22:return t.lanes=0,Ba(e,t,n,t.pendingProps);case 24:Ci(0,Bi,e.memoizedState.cache)}return ic(e,t,n)}(e,t,n);Na=!!(131072&e.flags)}else Na=!1,di&&1048576&t.flags&&si(t,Qr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=rs(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var i=e.$$typeof;if(i===E){t.tag=11,t=$a(null,t,e,r,n);break e}if(i===C){t.tag=14,t=Ma(null,t,e,r,n);break e}}throw t=j(e)||e,Error(a(306,t,""))}Ur(e)?(r=ka(e,r),t.tag=1,t=Va(null,t,e,r,n)):(t.tag=0,t=qa(null,t,e,r,n))}return t;case 0:return qa(e,t,t.type,t.pendingProps,n);case 1:return Va(e,t,r=t.type,i=ka(r,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,ys(e,t),_s(t,r,null,n);var o=t.memoizedState;if(r=o.cache,Ci(0,Bi,r),r!==s.cache&&Ai(t,[Bi],n,!0),ks(),r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ka(e,t,r,n);break e}if(r!==i){xi(i=Gr(Error(a(424)),t)),t=Ka(e,t,r,n);break e}for(e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,ui=Nd(e.firstChild),li=t,di=!0,hi=null,fi=!0,n=ps(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(bi(),r===i){t=ic(e,t,n);break e}Ra(e,t,r,n)}t=t.child}return t;case 26:return Wa(e,t),null===e?(n=Hd(t.type,null,t.pendingProps,null))?t.memoizedState=n:di||(n=t.type,e=t.pendingProps,(r=md(V.current).createElement(n))[Fe]=t,r[ze]=e,hd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Hd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&di&&(r=t.stateNode=Ld(t.type,t.pendingProps,V.current),li=t,fi=!0,i=ui,Sd(t.type)?(Rd=i,ui=Nd(r.firstChild)):ui=i),Ra(e,t,t.pendingProps.children,n),Wa(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&di&&((i=r=ui)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ge])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=Nd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fi))?(t.stateNode=r,li=t,ui=Nd(r.firstChild),fi=!1,i=!0):i=!1),i||gi(t)),Y(t),i=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,bd(i,s)?r=null:null!==o&&bd(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=eo(e,t,ro,null,null,n),uh._currentValue=i),Wa(e,t),Ra(e,t,r,n),t.child;case 6:return null===e&&di&&((e=n=ui)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Nd(e.nextSibling)))return null}return e}(n,t.pendingProps,fi))?(t.stateNode=n,li=t,ui=null,e=!0):e=!1),e||gi(t)),null;case 13:return Ja(e,t,n);case 4:return G(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fs(t,null,r,n):Ra(e,t,r,n),t.child;case 11:return $a(e,t,t.type,t.pendingProps,n);case 7:return Ra(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ra(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ci(0,t.type,r.value),Ra(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Oi(t),r=r(i=ji(i)),t.flags|=1,Ra(e,t,r,n),t.child;case 14:return Ma(e,t,t.type,t.pendingProps,n);case 15:return La(e,t,t.type,t.pendingProps,n);case 19:return rc(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=!!(128&t.flags);if(t.flags&=-129,null===e){if(di){if("hidden"===r.mode)return e=Fa(t,r),t.lanes=536870912,Ua(null,e);if($s(t),(e=ui)?null!==(e=null!==(e=Pd(e,fi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Hr(e)).return=t,t.child=n,li=t,ui=null):e=null,null===e)throw gi(t);return t.lanes=536870912,null}return Fa(t,r)}var s=e.memoizedState;if(null!==s){var o=s.dehydrated;if($s(t),i)if(256&t.flags)t.flags&=-257,t=za(e,t,n);else{if(null===t.memoizedState)throw Error(a(558));t.child=e.child,t.flags|=128,t=null}else if(Na||Ti(e,t,n,!1),i=0!==(n&e.childLanes),Na||i){if(null!==(r=pl)&&0!==(o=$e(r,n))&&o!==s.retryLane)throw s.retryLane=o,Nr(e,o),Gl(r,0,o),ja;ou(),t=za(e,t,n)}else e=s.treeContext,ui=Nd(o.nextSibling),li=t,di=!0,hi=null,fi=!1,null!==e&&ci(t,e),(t=Fa(t,r)).flags|=4096;return t}return(e=Dr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Ba(e,t,n,t.pendingProps);case 24:return Oi(t),r=ji(Bi),null===e?(null===(i=Gi())&&(i=pl,s=Ui(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},ms(t),Ci(0,Bi,i)):(0!==(e.lanes&n)&&(ys(e,t),_s(t,null,null,n),ks()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Ci(0,Bi,r)):(r=s.cache,Ci(0,Bi,r),r!==i.cache&&Ai(t,[Bi],n,!0))),Ra(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function ac(e){e.flags|=4}function cc(e,t,n,r,i){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!ru())throw is=es,Qi;e.flags|=8192}}else e.flags&=-16777217}function lc(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!ih(t)){if(!ru())throw is=es,Qi;e.flags|=8192}}function uc(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,Al|=t)}function dc(e,t){if(!di)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hc(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fc(e,t,n){var r=t.pendingProps;switch(ai(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hc(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Si(Bi),Z(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(wi(t)?ac(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,vi())),hc(t),null;case 26:var i=t.type,s=t.memoizedState;return null===e?(ac(t),null!==s?(hc(t),lc(t,s)):(hc(t),cc(t,i,0,0,n))):s?s!==e.memoizedState?(ac(t),hc(t),lc(t,s)):(hc(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ac(t),hc(t),cc(t,i,0,0,n)),null;case 27:if(J(t),n=V.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ac(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return hc(t),null}e=q.current,wi(t)?mi(t):(e=Ld(i,r,n),t.stateNode=e,ac(t))}return hc(t),null;case 5:if(J(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ac(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return hc(t),null}if(s=q.current,wi(t))mi(t);else{var o=md(V.current);switch(s){case 1:s=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(s=o.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"==typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s="string"==typeof r.is?o.createElement(i,{is:r.is}):o.createElement(i)}}s[Fe]=t,s[ze]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)s.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=s;e:switch(hd(s,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ac(t)}}return hc(t),cc(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ac(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));if(e=V.current,wi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=li))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Fe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ld(e.nodeValue,n)))||gi(t,!0)}else(e=md(e).createTextNode(r))[Fe]=t,t.stateNode=e}return hc(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=wi(t),null!==n){if(null===e){if(!r)throw Error(a(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(a(557));e[Fe]=t}else bi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hc(t),e=!1}else n=vi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Bs(t),t):(Bs(t),null);if(128&t.flags)throw Error(a(558))}return hc(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=wi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Fe]=t}else bi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hc(t),i=!1}else i=vi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Bs(t),t):(Bs(t),null)}return Bs(t),128&t.flags?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),s=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),uc(t,t.updateQueue),hc(t),null);case 4:return Z(),null===e&&Xu(t.stateNode.containerInfo),hc(t),null;case 10:return Si(t.type),hc(t),null;case 19:if(D(Us),null===(r=t.memoizedState))return hc(t),null;if(i=!!(128&t.flags),null===(s=r.rendering))if(i)dc(r,!1);else{if(0!==kl||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(s=Ds(e))){for(t.flags|=128,dc(r,!1),e=s.updateQueue,t.updateQueue=e,uc(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fr(n,e),n=n.sibling;return F(Us,1&Us.current|2),di&&ii(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&ce()>Rl&&(t.flags|=128,i=!0,dc(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Ds(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,uc(t,e),dc(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!di)return hc(t),null}else 2*ce()-r.renderingStartTime>Rl&&536870912!==n&&(t.flags|=128,i=!0,dc(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ce(),e.sibling=null,n=Us.current,F(Us,i?1&n|2:1&n),di&&ii(t,r.treeForkCount),e):(hc(t),null);case 22:case 23:return Bs(t),Os(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(hc(t),6&t.subtreeFlags&&(t.flags|=8192)):hc(t),null!==(n=t.updateQueue)&&uc(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&D(Ki),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Si(Bi),hc(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function pc(e,t){switch(ai(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Si(Bi),Z(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 31:if(null!==t.memoizedState){if(Bs(t),null===t.alternate)throw Error(a(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Bs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return D(Us),null;case 4:return Z(),null;case 10:return Si(t.type),null;case 22:case 23:return Bs(t),Os(),null!==e&&D(Ki),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Si(Bi),null;default:return null}}function gc(e,t){switch(ai(t),t.tag){case 3:Si(Bi),Z();break;case 26:case 27:case 5:J(t);break;case 4:Z();break;case 31:null!==t.memoizedState&&Bs(t);break;case 13:Bs(t);break;case 19:D(Us);break;case 10:Si(t.type);break;case 22:case 23:Bs(t),Os(),null!==e&&D(Ki);break;case 24:Si(Bi)}}function mc(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,o=n.inst;r=s(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){ku(t,t.return,e)}}function yc(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var o=r.inst,a=o.destroy;if(void 0!==a){o.destroy=void 0,i=t;var c=n,l=a;try{l()}catch(e){ku(i,c,e)}}}r=r.next}while(r!==s)}}catch(e){ku(t,t.return,e)}}function wc(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ss(t,n)}catch(t){ku(e,e.return,t)}}}function bc(e,t,n){n.props=ka(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){ku(e,t,n)}}function vc(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(n){ku(e,t,n)}}function xc(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(n){ku(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){ku(e,t,n)}else n.current=null}function Ec(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){ku(e,e.return,t)}}function kc(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,c=null,l=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":l=h;default:r.hasOwnProperty(p)||ud(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":c=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==h&&ud(e,t,f,p,r,h)}}return void wt(e,o,c,l,u,d,s,i);case"select":for(s in p=o=c=f=null,n)if(l=n[s],n.hasOwnProperty(s)&&null!=l)switch(s){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(s)||ud(e,t,s,null,r,l)}for(i in r)if(s=r[i],l=n[i],r.hasOwnProperty(i)&&(null!=s||null!=l))switch(i){case"value":f=s;break;case"defaultValue":c=s;break;case"multiple":o=s;default:s!==l&&ud(e,t,i,s,r,l)}return t=c,n=o,r=p,void(null!=f?xt(e,!!n,f,!1):!!r!=!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(c in p=f=null,n)if(i=n[c],n.hasOwnProperty(c)&&null!=i&&!r.hasOwnProperty(c))switch(c){case"value":case"children":break;default:ud(e,t,c,null,r,i)}for(o in r)if(i=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=i||null!=s))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==s&&ud(e,t,o,i,r,s)}return void Et(e,f,p);case"option":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&("selected"===g?e.selected=!1:ud(e,t,g,null,r,f));for(l in r)f=r[l],p=n[l],!r.hasOwnProperty(l)||f===p||null==f&&null==p||("selected"===l?e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f:ud(e,t,l,f,r,p));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&ud(e,t,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:ud(e,t,u,f,r,p)}return;default:if(At(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&dd(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||dd(e,t,d,f,r,p);return}}for(var w in n)f=n[w],n.hasOwnProperty(w)&&null!=f&&!r.hasOwnProperty(w)&&ud(e,t,w,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||ud(e,t,h,f,r,p)}(r,e.type,n,t),r[ze]=t}catch(t){ku(e,e.return,t)}}function _c(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Sd(e.type)||4===e.tag}function Cc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||_c(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Sd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Sc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=jt));else if(4!==r&&(27===r&&Sd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Sc(e,t,n),e=e.sibling;null!==e;)Sc(e,t,n),e=e.sibling}function Ic(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Sd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Ic(e,t,n),e=e.sibling;null!==e;)Ic(e,t,n),e=e.sibling}function Ac(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);hd(t,r,n),t[Fe]=e,t[ze]=n}catch(t){ku(e,e.return,t)}}var Tc=!1,Pc=!1,Oc=!1,jc="function"==typeof WeakSet?WeakSet:Set,Nc=null;function Rc(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Gc(e,n),4&r&&mc(5,n);break;case 1:if(Gc(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){ku(n,n.return,e)}else{var i=ka(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){ku(n,n.return,e)}}64&r&&wc(n),512&r&&vc(n,n.return);break;case 3:if(Gc(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ss(e,t)}catch(e){ku(n,n.return,e)}}break;case 27:null===t&&4&r&&Ac(n);case 26:case 5:Gc(e,n),null===t&&4&r&&Ec(n),512&r&&vc(n,n.return);break;case 12:Gc(e,n);break;case 31:Gc(e,n),4&r&&Dc(e,n);break;case 13:Gc(e,n),4&r&&Fc(e,n),64&r&&null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Iu.bind(null,n));break;case 22:if(!(r=null!==n.memoizedState||Tc)){t=null!==t&&null!==t.memoizedState||Pc,i=Tc;var s=Pc;Tc=r,(Pc=t)&&!s?Yc(e,n,!!(8772&n.subtreeFlags)):Gc(e,n),Tc=i,Pc=s}break;case 30:break;default:Gc(e,n)}}function $c(e){var t=e.alternate;null!==t&&(e.alternate=null,$c(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&Ze(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Mc=null,Lc=!1;function Bc(e,t,n){for(n=n.child;null!==n;)Uc(e,t,n),n=n.sibling}function Uc(e,t,n){if(we&&"function"==typeof we.onCommitFiberUnmount)try{we.onCommitFiberUnmount(ye,n)}catch(e){}switch(n.tag){case 26:Pc||xc(n,t),Bc(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Pc||xc(n,t);var r=Mc,i=Lc;Sd(n.type)&&(Mc=n.stateNode,Lc=!1),Bc(e,t,n),Bd(n.stateNode),Mc=r,Lc=i;break;case 5:Pc||xc(n,t);case 6:if(r=Mc,i=Lc,Mc=null,Bc(e,t,n),Lc=i,null!==(Mc=r))if(Lc)try{(9===Mc.nodeType?Mc.body:"HTML"===Mc.nodeName?Mc.ownerDocument.body:Mc).removeChild(n.stateNode)}catch(e){ku(n,t,e)}else try{Mc.removeChild(n.stateNode)}catch(e){ku(n,t,e)}break;case 18:null!==Mc&&(Lc?(Id(9===(e=Mc).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),zh(e)):Id(Mc,n.stateNode));break;case 4:r=Mc,i=Lc,Mc=n.stateNode.containerInfo,Lc=!0,Bc(e,t,n),Mc=r,Lc=i;break;case 0:case 11:case 14:case 15:yc(2,n,t),Pc||yc(4,n,t),Bc(e,t,n);break;case 1:Pc||(xc(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&bc(n,t,r)),Bc(e,t,n);break;case 21:Bc(e,t,n);break;case 22:Pc=(r=Pc)||null!==n.memoizedState,Bc(e,t,n),Pc=r;break;default:Bc(e,t,n)}}function Dc(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)){e=e.dehydrated;try{zh(e)}catch(e){ku(t,t.return,e)}}}function Fc(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{zh(e)}catch(e){ku(t,t.return,e)}}function zc(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new jc),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new jc),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Au.bind(null,e,t);t.then(r,r)}})}function Wc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,o=t,c=o;e:for(;null!==c;){switch(c.tag){case 27:if(Sd(c.type)){Mc=c.stateNode,Lc=!1;break e}break;case 5:Mc=c.stateNode,Lc=!1;break e;case 3:case 4:Mc=c.stateNode.containerInfo,Lc=!0;break e}c=c.return}if(null===Mc)throw Error(a(160));Uc(s,o,i),Mc=null,Lc=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Hc(t,e),t=t.sibling}var qc=null;function Hc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Wc(t,e),Vc(e),4&r&&(yc(3,e,e.return),mc(3,e),yc(5,e,e.return));break;case 1:Wc(t,e),Vc(e),512&r&&(Pc||null===n||xc(n,n.return)),64&r&&Tc&&null!==(e=e.updateQueue)&&null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r));break;case 26:var i=qc;if(Wc(t,e),Vc(e),512&r&&(Pc||null===n||xc(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Ge]||s[Fe]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),hd(s,r,n),s[Fe]=e,et(s),r=s;break e;case"link":var o=nh("link","href",i).get(r+(n.href||""));if(o)for(var c=0;c<o.length;c++)if((s=o[c]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(c,1);break t}hd(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(o=nh("meta","content",i).get(r+(n.content||"")))for(c=0;c<o.length;c++)if((s=o[c]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(c,1);break t}hd(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(a(468,r))}s[Fe]=e,et(s),r=s}e.stateNode=r}else rh(i,e.type,e.stateNode);else e.stateNode=Jd(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?rh(i,e.type,e.stateNode):Jd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&kc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Wc(t,e),Vc(e),512&r&&(Pc||null===n||xc(n,n.return)),null!==n&&4&r&&kc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Wc(t,e),Vc(e),512&r&&(Pc||null===n||xc(n,n.return)),32&e.flags){i=e.stateNode;try{_t(i,"")}catch(t){ku(e,e.return,t)}}4&r&&null!=e.stateNode&&kc(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Oc=!0);break;case 6:if(Wc(t,e),Vc(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){ku(e,e.return,t)}}break;case 3:if(th=null,i=qc,qc=Fd(t.containerInfo),Wc(t,e),qc=i,Vc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zh(t.containerInfo)}catch(t){ku(e,e.return,t)}Oc&&(Oc=!1,Kc(e));break;case 4:r=qc,qc=Fd(e.stateNode.containerInfo),Wc(t,e),Vc(e),qc=r;break;case 12:default:Wc(t,e),Vc(e);break;case 31:case 19:Wc(t,e),Vc(e),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,zc(e,r));break;case 13:Wc(t,e),Vc(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(jl=ce()),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,zc(e,r));break;case 22:i=null!==e.memoizedState;var l=null!==n&&null!==n.memoizedState,u=Tc,d=Pc;if(Tc=u||i,Pc=d||l,Wc(t,e),Pc=d,Tc=u,Vc(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||l||Tc||Pc||Zc(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){l=n=t;try{if(s=l.stateNode,i)"function"==typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{c=l.stateNode;var h=l.memoizedProps.style,f=null!=h&&h.hasOwnProperty("display")?h.display:null;c.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(e){ku(l,l.return,e)}}}else if(6===t.tag){if(null===n){l=t;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(e){ku(l,l.return,e)}}}else if(18===t.tag){if(null===n){l=t;try{var p=l.stateNode;i?Ad(p,!0):Ad(l.stateNode,!1)}catch(e){ku(l,l.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&null!==(r=e.updateQueue)&&null!==(n=r.retryQueue)&&(r.retryQueue=null,zc(e,n));case 30:case 21:}}function Vc(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(_c(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var i=n.stateNode;Ic(e,Cc(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(_t(s,""),n.flags&=-33),Ic(e,Cc(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;Sc(e,Cc(e),o);break;default:throw Error(a(161))}}catch(t){ku(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Kc(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Kc(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Gc(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Rc(e,t.alternate,t),t=t.sibling}function Zc(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yc(4,t,t.return),Zc(t);break;case 1:xc(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&bc(t,t.return,n),Zc(t);break;case 27:Bd(t.stateNode);case 26:case 5:xc(t,t.return),Zc(t);break;case 22:null===t.memoizedState&&Zc(t);break;default:Zc(t)}e=e.sibling}}function Yc(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:Yc(i,s,n),mc(4,s);break;case 1:if(Yc(i,s,n),"function"==typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(e){ku(r,r.return,e)}if(null!==(i=(r=s).updateQueue)){var a=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(null!==c)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)Cs(c[i],a)}catch(e){ku(r,r.return,e)}}n&&64&o&&wc(s),vc(s,s.return);break;case 27:Ac(s);case 26:case 5:Yc(i,s,n),n&&null===r&&4&o&&Ec(s),vc(s,s.return);break;case 12:Yc(i,s,n);break;case 31:Yc(i,s,n),n&&4&o&&Dc(i,s);break;case 13:Yc(i,s,n),n&&4&o&&Fc(i,s);break;case 22:null===s.memoizedState&&Yc(i,s,n),vc(s,s.return);break;case 30:break;default:Yc(i,s,n)}t=t.sibling}}function Jc(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Di(n))}function Qc(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Di(e))}function Xc(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)el(e,t,n,r),t=t.sibling}function el(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Xc(e,t,n,r),2048&i&&mc(9,t);break;case 1:case 31:case 13:default:Xc(e,t,n,r);break;case 3:Xc(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Di(e)));break;case 12:if(2048&i){Xc(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,a=s.onPostCommit;"function"==typeof a&&a(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){ku(t,t.return,e)}}else Xc(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,null!==t.memoizedState?2&s._visibility?Xc(e,t,n,r):nl(e,t):2&s._visibility?Xc(e,t,n,r):(s._visibility|=2,tl(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&i&&Jc(o,t);break;case 24:Xc(e,t,n,r),2048&i&&Qc(t.alternate,t)}}function tl(e,t,n,r,i){for(i=i&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,o=t,a=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:tl(s,o,a,c,i),mc(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?tl(s,o,a,c,i):nl(s,o):(u._visibility|=2,tl(s,o,a,c,i)),i&&2048&l&&Jc(o.alternate,o);break;case 24:tl(s,o,a,c,i),i&&2048&l&&Qc(o.alternate,o);break;default:tl(s,o,a,c,i)}t=t.sibling}}function nl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:nl(n,r),2048&i&&Jc(r.alternate,r);break;case 24:nl(n,r),2048&i&&Qc(r.alternate,r);break;default:nl(n,r)}t=t.sibling}}var rl=8192;function il(e,t,n){if(e.subtreeFlags&rl)for(e=e.child;null!==e;)sl(e,t,n),e=e.sibling}function sl(e,t,n){switch(e.tag){case 26:il(e,t,n),e.flags&rl&&null!==e.memoizedState&&function(e,t,n,r){if(!("stylesheet"!==n.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&n.state.loading)){if(null===n.instance){var i=Vd(r.href),s=t.querySelector(Kd(i));if(s)return null!==(t=s._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=oh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void et(s);s=t.ownerDocument||t,r=Gd(r),(i=Ud.get(i))&&Xd(r,i),et(s=s.createElement("link"));var o=s;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),hd(s,"link",r),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=oh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,qc,e.memoizedState,e.memoizedProps);break;case 5:default:il(e,t,n);break;case 3:case 4:var r=qc;qc=Fd(e.stateNode.containerInfo),il(e,t,n),qc=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rl,rl=16777216,il(e,t,n),rl=r):il(e,t,n))}}function ol(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function al(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Nc=r,ul(r,e)}ol(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cl(e),e=e.sibling}function cl(e){switch(e.tag){case 0:case 11:case 15:al(e),2048&e.flags&&yc(9,e,e.return);break;case 3:case 12:default:al(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ll(e)):al(e)}}function ll(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Nc=r,ul(r,e)}ol(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:yc(8,t,t.return),ll(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,ll(t));break;default:ll(t)}e=e.sibling}}function ul(e,t){for(;null!==Nc;){var n=Nc;switch(n.tag){case 0:case 11:case 15:yc(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Di(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Nc=r;else e:for(n=e;null!==Nc;){var i=(r=Nc).sibling,s=r.return;if($c(r),r===n){Nc=null;break e}if(null!==i){i.return=s,Nc=i;break e}Nc=s}}}var dl={getCacheForType:function(e){var t=ji(Bi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ji(Bi).controller.signal}},hl="function"==typeof WeakMap?WeakMap:Map,fl=0,pl=null,gl=null,ml=0,yl=0,wl=null,bl=!1,vl=!1,xl=!1,El=0,kl=0,_l=0,Cl=0,Sl=0,Il=0,Al=0,Tl=null,Pl=null,Ol=!1,jl=0,Nl=0,Rl=1/0,$l=null,Ml=null,Ll=0,Bl=null,Ul=null,Dl=0,Fl=0,zl=null,Wl=null,ql=0,Hl=null;function Vl(){return 2&fl&&0!==ml?ml&-ml:null!==R.T?zu():Be()}function Kl(){if(0===Il)if(536870912&ml&&!di)Il=536870912;else{var e=_e;!(3932160&(_e<<=1))&&(_e=262144),Il=e}return null!==(e=js.current)&&(e.flags|=32),Il}function Gl(e,t,n){(e!==pl||2!==yl&&9!==yl)&&null===e.cancelPendingCommit||(tu(e,0),Ql(e,ml,Il,!1)),je(e,n),2&fl&&e===pl||(e===pl&&(!(2&fl)&&(Cl|=n),4===kl&&Ql(e,ml,Il,!1)),$u(e))}function Zl(e,t,n){if(6&fl)throw Error(a(327));for(var r=!n&&!(127&t)&&0===(t&e.expiredLanes)||Ae(e,t),i=r?function(e,t){var n=fl;fl|=2;var r=iu(),i=su();pl!==e||ml!==t?($l=null,Rl=ce()+500,tu(e,t)):vl=Ae(e,t);e:for(;;)try{if(0!==yl&&null!==gl){t=gl;var s=wl;t:switch(yl){case 1:yl=0,wl=null,hu(e,t,s,1);break;case 2:case 9:if(ts(s)){yl=0,wl=null,du(t);break}t=function(){2!==yl&&9!==yl||pl!==e||(yl=7),$u(e)},s.then(t,t);break e;case 3:yl=7;break e;case 4:yl=5;break e;case 7:ts(s)?(yl=0,wl=null,du(t)):(yl=0,wl=null,hu(e,t,s,7));break;case 5:var o=null;switch(gl.tag){case 26:o=gl.memoizedState;case 5:case 27:var c=gl;if(o?ih(o):c.stateNode.complete){yl=0,wl=null;var l=c.sibling;if(null!==l)gl=l;else{var u=c.return;null!==u?(gl=u,fu(u)):gl=null}break t}}yl=0,wl=null,hu(e,t,s,5);break;case 6:yl=0,wl=null,hu(e,t,s,6);break;case 8:eu(),kl=6;break e;default:throw Error(a(462))}}lu();break}catch(t){nu(e,t)}return _i=ki=null,R.H=r,R.A=i,fl=n,null!==gl?0:(pl=null,ml=0,Pr(),kl)}(e,t):au(e,t,!0),s=r;;){if(0===i){vl&&!r&&Ql(e,t,0,!1);break}if(n=e.current.alternate,!s||Jl(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!=(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var c=e;i=Tl;var l=c.current.memoizedState.isDehydrated;if(l&&(tu(c,o).flags|=256),2!==(o=au(c,o,!1))){if(xl&&!l){c.errorRecoveryDisabledLanes|=s,Cl|=s,i=4;break e}s=Pl,Pl=i,null!==s&&(null===Pl?Pl=s:Pl.push.apply(Pl,s))}i=o}if(s=!1,2!==i)continue}}if(1===i){tu(e,0),Ql(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Ql(r,t,Il,!bl);break e;case 2:Pl=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(i=jl+300-ce())){if(Ql(r,t,Il,!bl),0!==Ie(r,0,!0))break e;Dl=t,r.timeoutHandle=xd(Yl.bind(null,r,n,Pl,$l,Ol,t,Il,Cl,Al,bl,s,"Throttled",-0,0),i)}else Yl(r,n,Pl,$l,Ol,t,Il,Cl,Al,bl,s,null,-0,0)}break}i=au(e,t,!1),s=!1}$u(e)}function Yl(e,t,n,r,i,s,o,a,c,l,u,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||!(16785408&~d)){sl(t,s,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jt});var p=(62914560&s)===s?jl-ce():(4194048&s)===s?Nl-ce():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&ch(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===sh&&(sh=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],s=i.transferSize,o=i.initiatorType,a=i.duration;if(s&&a&&fd(o)){for(o=0,a=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>a)break;var u=c.transferSize,d=c.initiatorType;u&&fd(d)&&(o+=u*((c=c.responseEnd)<a?1:(a-l)/(c-l)))}if(--r,t+=8*(s+o)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(d,p)))return Dl=s,e.cancelPendingCommit=p(gu.bind(null,e,t,s,n,r,i,o,a,c,u,d,null,h,f)),void Ql(e,s,o,!l)}gu(e,t,s,n,r,i,o,a,c)}function Jl(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Qn(s(),i))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ql(e,t,n,r){t&=~Sl,t&=~Cl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-ve(i),o=1<<s;r[s]=-1,i&=~o}0!==n&&Ne(e,n,t)}function Xl(){return!!(6&fl)||(Mu(0,!1),!1)}function eu(){if(null!==gl){if(0===yl)var e=gl.return;else _i=ki=null,oo(e=gl),as=null,cs=0,e=gl;for(;null!==e;)gc(e.alternate,e),e=e.return;gl=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Ed(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Dl=0,eu(),pl=e,gl=n=Dr(e.current,null),ml=t,yl=0,wl=null,bl=!1,vl=Ae(e,t),xl=!1,Al=Il=Sl=Cl=_l=kl=0,Pl=Tl=null,Ol=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-ve(r),s=1<<i;t|=e[i],r&=~s}return El=t,Pr(),n}function nu(e,t){zs=null,R.H=ga,t===Ji||t===Xi?(t=ss(),yl=3):t===Qi?(t=ss(),yl=4):yl=t===ja?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,wl=t,null===gl&&(kl=1,Ia(e,Gr(t,e.current)))}function ru(){var e=js.current;return null===e||((4194048&ml)===ml?null===Ns:!!((62914560&ml)===ml||536870912&ml)&&e===Ns)}function iu(){var e=R.H;return R.H=ga,null===e?ga:e}function su(){var e=R.A;return R.A=dl,e}function ou(){kl=4,bl||(4194048&ml)!==ml&&null!==js.current||(vl=!0),!(134217727&_l)&&!(134217727&Cl)||null===pl||Ql(pl,ml,Il,!1)}function au(e,t,n){var r=fl;fl|=2;var i=iu(),s=su();pl===e&&ml===t||($l=null,tu(e,t)),t=!1;var o=kl;e:for(;;)try{if(0!==yl&&null!==gl){var a=gl,c=wl;switch(yl){case 8:eu(),o=6;break e;case 3:case 2:case 9:case 6:null===js.current&&(t=!0);var l=yl;if(yl=0,wl=null,hu(e,a,c,l),n&&vl){o=0;break e}break;default:l=yl,yl=0,wl=null,hu(e,a,c,l)}}cu(),o=kl;break}catch(t){nu(e,t)}return t&&e.shellSuspendCounter++,_i=ki=null,fl=r,R.H=i,R.A=s,null===gl&&(pl=null,ml=0,Pr()),o}function cu(){for(;null!==gl;)uu(gl)}function lu(){for(;null!==gl&&!oe();)uu(gl)}function uu(e){var t=oc(e.alternate,e,El);e.memoizedProps=e.pendingProps,null===t?fu(e):gl=t}function du(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ha(n,t,t.pendingProps,t.type,void 0,ml);break;case 11:t=Ha(n,t,t.pendingProps,t.type.render,t.ref,ml);break;case 5:oo(t);default:gc(n,t),t=oc(n,t=gl=Fr(t,El),El)}e.memoizedProps=e.pendingProps,null===t?fu(e):gl=t}function hu(e,t,n,r){_i=ki=null,oo(t),as=null,cs=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&Ti(t,n,i,!0),null!==(n=js.current)){switch(n.tag){case 31:case 13:return null===Ns?ou():null===n.alternate&&0===kl&&(kl=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===es?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),_u(e,r,i)),!1;case 22:return n.flags|=65536,r===es?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),_u(e,r,i)),!1}throw Error(a(435,n.tag))}return _u(e,r,i),ou(),!1}if(di)return null!==(t=js.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==pi&&xi(Gr(e=Error(a(422),{cause:r}),n))):(r!==pi&&xi(Gr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Gr(r,n),xs(e,i=Ta(e.stateNode,r,i)),4!==kl&&(kl=2)),!1;var s=Error(a(520),{cause:r});if(s=Gr(s,n),null===Tl?Tl=[s]:Tl.push(s),4!==kl&&(kl=2),null===t)return!0;r=Gr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,xs(n,e=Ta(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===s||"function"!=typeof s.componentDidCatch||null!==Ml&&Ml.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Oa(i=Pa(i),e,n,r),xs(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,ml))return kl=1,Ia(e,Gr(n,e.current)),void(gl=null)}catch(t){if(null!==i)throw gl=i,t;return kl=1,Ia(e,Gr(n,e.current)),void(gl=null)}32768&t.flags?(di||1===r?e=!0:vl||536870912&ml?e=!1:(bl=e=!0,(2===r||9===r||3===r||6===r)&&null!==(r=js.current)&&13===r.tag&&(r.flags|=16384)),pu(t,e)):fu(t)}function fu(e){var t=e;do{if(32768&t.flags)return void pu(t,bl);e=t.return;var n=fc(t.alternate,t,El);if(null!==n)return void(gl=n);if(null!==(t=t.sibling))return void(gl=t);gl=t=e}while(null!==t);0===kl&&(kl=5)}function pu(e,t){do{var n=pc(e.alternate,e);if(null!==n)return n.flags&=32767,void(gl=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gl=e);gl=e=n}while(null!==e);kl=6,gl=null}function gu(e,t,n,r,i,s,o,c,l){e.cancelPendingCommit=null;do{vu()}while(0!==Ll);if(6&fl)throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-ve(n),d=1<<u;a[u]=0,c[u]=-1;var h=l[u];if(null!==h)for(l[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Ne(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(o&~t))}(e,n,s|=Tr,o,c,l),e===pl&&(gl=pl=null,ml=0),Ul=t,Bl=e,Dl=n,Fl=s,zl=i,Wl=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,ie(he,function(){return xu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=R.T,R.T=null,i=$.p,$.p=2,o=fl,fl|=4;try{!function(e,t){if(e=e.containerInfo,pd=yh,ir(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var o=0,c=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(c=o+i),h!==s||0!==r&&3!==h.nodeType||(l=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(c=o),f===s&&++d===r&&(l=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gd={focusedElem:e,selectionRange:n},yh=!1,Nc=t;null!==Nc;)if(e=(t=Nc).child,1028&t.subtreeFlags&&null!==e)e.return=t,Nc=e;else for(;null!==Nc;){switch(s=(t=Nc).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var g=ka(n.type,i);e=r.getSnapshotBeforeUpdate(g,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){ku(n,n.return,e)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Td(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Td(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Nc=e;break}Nc=t.return}}(e,t)}finally{fl=o,$.p=i,R.T=r}}Ll=1,mu(),yu(),wu()}}function mu(){if(1===Ll){Ll=0;var e=Bl,t=Ul,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=R.T,R.T=null;var r=$.p;$.p=2;var i=fl;fl|=4;try{Hc(t,e);var s=gd,o=rr(e.containerInfo),a=s.focusedElem,c=s.selectionRange;if(o!==a&&a&&a.ownerDocument&&nr(a.ownerDocument.documentElement,a)){if(null!==c&&ir(a)){var l=c.start,u=c.end;if(void 0===u&&(u=l),"selectionStart"in a)a.selectionStart=l,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=a.textContent.length,g=Math.min(c.start,p),m=void 0===c.end?g:Math.min(c.end,p);!f.extend&&g>m&&(o=m,m=g,g=o);var y=tr(a,g),w=tr(a,m);if(y&&w&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==w.node||f.focusOffset!==w.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),g>m?(f.addRange(b),f.extend(w.node,w.offset)):(b.setEnd(w.node,w.offset),f.addRange(b))}}}}for(d=[],f=a;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof a.focus&&a.focus(),a=0;a<d.length;a++){var v=d[a];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}yh=!!pd,gd=pd=null}finally{fl=i,$.p=r,R.T=n}}e.current=t,Ll=2}}function yu(){if(2===Ll){Ll=0;var e=Bl,t=Ul,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=R.T,R.T=null;var r=$.p;$.p=2;var i=fl;fl|=4;try{Rc(e,t.alternate,t)}finally{fl=i,$.p=r,R.T=n}}Ll=3}}function wu(){if(4===Ll||3===Ll){Ll=0,ae();var e=Bl,t=Ul,n=Dl,r=Wl;10256&t.subtreeFlags||10256&t.flags?Ll=5:(Ll=0,Ul=Bl=null,bu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Ml=null),Le(n),t=t.stateNode,we&&"function"==typeof we.onCommitFiberRoot)try{we.onCommitFiberRoot(ye,t,void 0,!(128&~t.current.flags))}catch(e){}if(null!==r){t=R.T,i=$.p,$.p=2,R.T=null;try{for(var s=e.onRecoverableError,o=0;o<r.length;o++){var a=r[o];s(a.value,{componentStack:a.stack})}}finally{R.T=t,$.p=i}}3&Dl&&vu(),$u(e),i=e.pendingLanes,261930&n&&42&i?e===Hl?ql++:(ql=0,Hl=e):ql=0,Mu(0,!1)}}function bu(e,t){0===(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,Di(t))}function vu(){return mu(),yu(),wu(),xu()}function xu(){if(5!==Ll)return!1;var e=Bl,t=Fl;Fl=0;var n=Le(Dl),r=R.T,i=$.p;try{$.p=32>n?32:n,R.T=null,n=zl,zl=null;var s=Bl,o=Dl;if(Ll=0,Ul=Bl=null,Dl=0,6&fl)throw Error(a(331));var c=fl;if(fl|=4,cl(s.current),el(s,s.current,o,n),fl=c,Mu(0,!1),we&&"function"==typeof we.onPostCommitFiberRoot)try{we.onPostCommitFiberRoot(ye,s)}catch(e){}return!0}finally{$.p=i,R.T=r,bu(e,t)}}function Eu(e,t,n){t=Gr(n,t),null!==(e=bs(e,t=Ta(e.stateNode,t,2),2))&&(je(e,2),$u(e))}function ku(e,t,n){if(3===e.tag)Eu(e,e,n);else for(;null!==t;){if(3===t.tag){Eu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ml||!Ml.has(r))){e=Gr(n,e),null!==(r=bs(t,n=Pa(2),2))&&(Oa(n,r,t,e),je(r,2),$u(r));break}}t=t.return}}function _u(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(xl=!0,i.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pl===e&&(ml&n)===n&&(4===kl||3===kl&&(62914560&ml)===ml&&300>ce()-jl?!(2&fl)&&tu(e,0):Sl|=n,Al===ml&&(Al=0)),$u(e)}function Su(e,t){0===t&&(t=Pe()),null!==(e=Nr(e,t))&&(je(e,t),$u(e))}function Iu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Su(e,n)}function Au(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),Su(e,n)}var Tu=null,Pu=null,Ou=!1,ju=!1,Nu=!1,Ru=0;function $u(e){e!==Pu&&null===e.next&&(null===Pu?Tu=Pu=e:Pu=Pu.next=e),ju=!0,Ou||(Ou=!0,_d(function(){6&fl?ie(ue,Lu):Bu()}))}function Mu(e,t){if(!Nu&&ju){Nu=!0;do{for(var n=!1,r=Tu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var o=r.suspendedLanes,a=r.pingedLanes;s=(1<<31-ve(42|e)+1)-1,s=201326741&(s&=i&~(o&~a))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Fu(r,s))}else s=ml,!(3&(s=Ie(r,r===pl?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ae(r,s)||(n=!0,Fu(r,s));r=r.next}}while(n);Nu=!1}}function Lu(){Bu()}function Bu(){ju=Ou=!1;var e=0;0!==Ru&&function(){var e=window.event;return e&&"popstate"===e.type?e!==vd&&(vd=e,!0):(vd=null,!1)}()&&(e=Ru);for(var t=ce(),n=null,r=Tu;null!==r;){var i=r.next,s=Uu(r,t);0===s?(r.next=null,null===n?Tu=i:n.next=i,null===i&&(Pu=n)):(n=r,(0!==e||3&s)&&(ju=!0)),r=i}0!==Ll&&5!==Ll||Mu(e,!1),0!==Ru&&(Ru=0)}function Uu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var o=31-ve(s),a=1<<o,c=i[o];-1===c?0!==(a&n)&&0===(a&r)||(i[o]=Te(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}if(n=ml,n=Ie(e,e===(t=pl)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===yl||9===yl)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Ae(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Le(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=Du.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function Du(e,t){if(0!==Ll&&5!==Ll)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(vu()&&e.callbackNode!==n)return null;var r=ml;return 0===(r=Ie(e,e===pl?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Zl(e,r,t),Uu(e,ce()),null!=e.callbackNode&&e.callbackNode===n?Du.bind(null,e):null)}function Fu(e,t){if(vu())return null;Zl(e,t,!0)}function zu(){if(0===Ru){var e=Wi;0===e&&(e=ke,!(261888&(ke<<=1))&&(ke=256)),Ru=e}return Ru}function Wu(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Ot(""+e)}function qu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Hu=0;Hu<_r.length;Hu++){var Vu=_r[Hu];Cr(Vu.toLowerCase(),"on"+(Vu[0].toUpperCase()+Vu.slice(1)))}Cr(mr,"onAnimationEnd"),Cr(yr,"onAnimationIteration"),Cr(wr,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(br,"onTransitionRun"),Cr(vr,"onTransitionStart"),Cr(xr,"onTransitionCancel"),Cr(Er,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ku));function Zu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=l;try{s(i)}catch(e){Sr(e)}i.currentTarget=null,s=c}else for(o=0;o<r.length;o++){if(c=(a=r[o]).instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=l;try{s(i)}catch(e){Sr(e)}i.currentTarget=null,s=c}}}}function Yu(e,t){var n=t[qe];void 0===n&&(n=t[qe]=new Set);var r=e+"__bubble";n.has(r)||(ed(t,e,2,!1),n.add(r))}function Ju(e,t,n){var r=0;t&&(r|=4),ed(n,e,r,t)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function Xu(e){if(!e[Qu]){e[Qu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Gu.has(t)||Ju(t,!1,e),Ju(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Qu]||(t[Qu]=!0,Ju("selectionchange",!1,t))}}function ed(e,t,n,r){switch(_h(t)){case 2:var i=wh;break;case 8:i=bh;break;default:i=vh}n=i.bind(null,t,n,e),i=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function td(e,t,n,r,i){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==a;){if(null===(o=Ye(a)))return;if(5===(l=o.tag)||6===l||26===l||27===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Ut(function(){var r=s,i=Rt(n),o=[];e:{var a=kr.get(e);if(void 0!==a){var l=nn,u=e;switch(e){case"keypress":if(0===Gt(n))break e;case"keydown":case"keyup":l=wn;break;case"focusin":u="focus",l=ln;break;case"focusout":u="blur",l=ln;break;case"beforeblur":case"afterblur":l=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=cn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=vn;break;case mr:case yr:case wr:l=un;break;case Er:l=xn;break;case"scroll":case"scrollend":l=sn;break;case"wheel":l=En;break;case"copy":case"cut":case"paste":l=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=bn;break;case"toggle":case"beforetoggle":l=kn}var d=!!(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==a?a+"Capture":null:a;d=[];for(var p,g=r;null!==g;){var m=g;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===f||null!=(m=Dt(g,f))&&d.push(nd(g,m,p)),h)break;g=g.return}0<d.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:d}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Nt||!(u=n.relatedTarget||n.fromElement)||!Ye(u)&&!u[We])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ye(u):null)&&(h=c(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(l=null,u=r),l!==u)){if(d=an,m="onMouseLeave",f="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,m="onPointerLeave",f="onPointerEnter",g="pointer"),h=null==l?a:Qe(l),p=null==u?a:Qe(u),(a=new d(m,g+"leave",l,n,i)).target=h,a.relatedTarget=p,m=null,Ye(i)===r&&((d=new d(f,g+"enter",u,n,i)).target=p,d.relatedTarget=h,m=d),h=m,l&&u)e:{for(d=id,g=u,p=0,m=f=l;m;m=d(m))p++;m=0;for(var y=g;y;y=d(y))m++;for(;0<p-m;)f=d(f),p--;for(;0<m-p;)g=d(g),m--;for(;p--;){if(f===g||null!==g&&f===g.alternate){d=f;break e}f=d(f),g=d(g)}d=null}else d=null;null!==l&&sd(o,a,l,d,!1),null!==u&&null!==h&&sd(o,h,u,d,!0)}if("select"===(l=(a=r?Qe(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var w=Fn;else if($n(a))if(zn)w=Jn;else{w=Zn;var b=Gn}else!(l=a.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&At(r.elementType)&&(w=Fn):w=Yn;switch(w&&(w=w(e,r))?Mn(o,w,n,i):(b&&b(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&vt(a,"number",a.value)),b=r?Qe(r):window,e){case"focusin":($n(b)||"true"===b.contentEditable)&&(or=b,ar=r,cr=null);break;case"focusout":cr=ar=or=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,ur(o,n,i);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":ur(o,n,i)}var v;if(Cn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Nn?On(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(An&&"ko"!==n.locale&&(Nn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Nn&&(v=Kt()):(Ht="value"in(qt=i)?qt.value:qt.textContent,Nn=!0)),0<(b=rd(r,x)).length&&(x=new hn(x,e,null,n,i),o.push({event:x,listeners:b}),(v||null!==(v=jn(n)))&&(x.data=v))),(v=In?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Pn=!0,Tn);case"textInput":return(e=t.data)===Tn&&Pn?null:e;default:return null}}(e,n):function(e,t){if(Nn)return"compositionend"===e||!Cn&&On(e,t)?(e=Kt(),Vt=Ht=qt=null,Nn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(x=rd(r,"onBeforeInput")).length&&(b=new hn("onBeforeInput","beforeinput",null,n,i),o.push({event:b,listeners:x}),b.data=v),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Wu((i[ze]||null).action),o=r.submitter;o&&null!==(t=(t=o[ze]||null)?Wu(t.formAction):o.getAttribute("formAction"))&&(s=t,o=null);var a=new nn("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Ru){var e=o?qu(i,o):new FormData(i);ta(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"==typeof s&&(a.preventDefault(),e=o?qu(i,o):new FormData(i),ta(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(o,e,r,n,i)}Zu(o,t)})}function nd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rd(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Dt(e,n))&&r.unshift(nd(e,i,s)),null!=(i=Dt(e,t))&&r.push(nd(e,i,s))),3===e.tag)return r;e=e.return}return[]}function id(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function sd(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(a=a.tag,null!==c&&c===r)break;5!==a&&26!==a&&27!==a||null===l||(c=l,i?null!=(l=Dt(n,s))&&o.unshift(nd(n,l,c)):i||null!=(l=Dt(n,s))&&o.push(nd(n,l,c))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var od=/\r\n?/g,ad=/\u0000|\uFFFD/g;function cd(e){return("string"==typeof e?e:""+e).replace(od,"\n").replace(ad,"")}function ld(e,t){return t=cd(t),cd(e)===t}function ud(e,t,n,r,i,s){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||_t(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&_t(e,""+r);break;case"className":lt(e,"class",r);break;case"tabIndex":lt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":lt(e,n,r);break;case"style":It(e,r,s);break;case"data":if("object"!==t){lt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Ot(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof s&&("formAction"===n?("input"!==t&&ud(e,t,"name",i.name,i,null),ud(e,t,"formEncType",i.formEncType,i,null),ud(e,t,"formMethod",i.formMethod,i,null),ud(e,t,"formTarget",i.formTarget,i,null)):(ud(e,t,"encType",i.encType,i,null),ud(e,t,"method",i.method,i,null),ud(e,t,"target",i.target,i,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Ot(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=jt);break;case"onScroll":null!=r&&Yu("scroll",e);break;case"onScrollEnd":null!=r&&Yu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=Ot(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Yu("beforetoggle",e),Yu("toggle",e),ct(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ct(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ct(e,n=Tt.get(n)||n,r)}}function dd(e,t,n,r,i,s){switch(n){case"style":It(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"==typeof r?_t(e,r):("number"==typeof r||"bigint"==typeof r)&&_t(e,""+r);break;case"onScroll":null!=r&&Yu("scroll",e);break;case"onScrollEnd":null!=r&&Yu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=jt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"==typeof(s=null!=(s=e[ze]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):ct(e,n,r):("function"!=typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function hd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yu("error",e),Yu("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ud(e,t,r,o,n,null)}}return s&&ud(e,t,"srcSet",n.srcSet,n,null),void(i&&ud(e,t,"src",n.src,n,null));case"input":Yu("invalid",e);var c=r=o=s=null,l=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":s=d;break;case"type":o=d;break;case"checked":l=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":c=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:ud(e,t,i,d,n,null)}}return void bt(e,r,c,l,u,o,s,!1);case"select":for(s in Yu("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(c=n[s]))switch(s){case"value":r=c;break;case"defaultValue":o=c;break;case"multiple":i=c;default:ud(e,t,s,c,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?xt(e,!!i,t,!1):null!=n&&xt(e,!!i,n,!0));case"textarea":for(o in Yu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(c=n[o]))switch(o){case"value":i=c;break;case"defaultValue":s=c;break;case"children":r=c;break;case"dangerouslySetInnerHTML":if(null!=c)throw Error(a(91));break;default:ud(e,t,o,c,n,null)}return void kt(e,i,s,r);case"option":for(l in n)n.hasOwnProperty(l)&&null!=(i=n[l])&&("selected"===l?e.selected=i&&"function"!=typeof i&&"symbol"!=typeof i:ud(e,t,l,i,n,null));return;case"dialog":Yu("beforetoggle",e),Yu("toggle",e),Yu("cancel",e),Yu("close",e);break;case"iframe":case"object":Yu("load",e);break;case"video":case"audio":for(i=0;i<Ku.length;i++)Yu(Ku[i],e);break;case"image":Yu("error",e),Yu("load",e);break;case"details":Yu("toggle",e);break;case"embed":case"source":case"link":Yu("error",e),Yu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ud(e,t,u,i,n,null)}return;default:if(At(t)){for(d in n)n.hasOwnProperty(d)&&void 0!==(i=n[d])&&dd(e,t,d,i,n,void 0);return}}for(c in n)n.hasOwnProperty(c)&&null!=(i=n[c])&&ud(e,t,c,i,n,null)}function fd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var pd=null,gd=null;function md(e){return 9===e.nodeType?e:e.ownerDocument}function yd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bd(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var vd=null,xd="function"==typeof setTimeout?setTimeout:void 0,Ed="function"==typeof clearTimeout?clearTimeout:void 0,kd="function"==typeof Promise?Promise:void 0,_d="function"==typeof queueMicrotask?queueMicrotask:void 0!==kd?function(e){return kd.resolve(null).then(e).catch(Cd)}:xd;function Cd(e){setTimeout(function(){throw e})}function Sd(e){return"head"===e}function Id(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void zh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Bd(e.ownerDocument.documentElement);else if("head"===n){Bd(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var o=s.nextSibling,a=s.nodeName;s[Ge]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}else"body"===n&&Bd(e.ownerDocument.body);n=i}while(n);zh(t)}function Ad(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Td(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Td(n),Ze(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Pd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Nd(e.nextSibling)))return null}return e}function Od(e){return"$?"===e.data||"$~"===e.data}function jd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Nd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Rd=null;function $d(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Nd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Md(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Ld(e,t,n){switch(t=md(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function Bd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ze(e)}var Ud=new Map,Dd=new Set;function Fd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var zd=$.d;$.d={f:function(){var e=zd.f(),t=Xl();return e||t},r:function(e){var t=Je(e);null!==t&&5===t.tag&&"form"===t.type?ra(t):zd.r(e)},D:function(e){zd.D(e),qd("dns-prefetch",e,null)},C:function(e,t){zd.C(e,t),qd("preconnect",e,t)},L:function(e,t,n){zd.L(e,t,n);var r=Wd;if(r&&e&&t){var i='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+yt(n.imageSizes)+'"]')):i+='[href="'+yt(e)+'"]';var s=i;switch(t){case"style":s=Vd(e);break;case"script":s=Zd(e)}Ud.has(s)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Ud.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Kd(s))||"script"===t&&r.querySelector(Yd(s))||(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){zd.m(e,t);var n=Wd;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Zd(e)}if(!Ud.has(s)&&(e=f({rel:"modulepreload",href:e},t),Ud.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Yd(s)))return}hd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){zd.X(e,t);var n=Wd;if(n&&e){var r=Xe(n).hoistableScripts,i=Zd(e),s=r.get(i);s||((s=n.querySelector(Yd(i)))||(e=f({src:e,async:!0},t),(t=Ud.get(i))&&eh(e,t),et(s=n.createElement("script")),hd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){zd.S(e,t,n);var r=Wd;if(r&&e){var i=Xe(r).hoistableStyles,s=Vd(e);t=t||"default";var o=i.get(s);if(!o){var a={loading:0,preload:null};if(o=r.querySelector(Kd(s)))a.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ud.get(s))&&Xd(e,n);var c=o=r.createElement("link");et(c),hd(c,"link",e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener("load",function(){a.loading|=1}),c.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Qd(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:a},i.set(s,o)}}},M:function(e,t){zd.M(e,t);var n=Wd;if(n&&e){var r=Xe(n).hoistableScripts,i=Zd(e),s=r.get(i);s||((s=n.querySelector(Yd(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=Ud.get(i))&&eh(e,t),et(s=n.createElement("script")),hd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var Wd="undefined"==typeof document?null:document;function qd(e,t,n){var r=Wd;if(r&&"string"==typeof t&&t){var i=yt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),Dd.has(i)||(Dd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Hd(e,t,n,r){var i,s,o,c,l=(l=V.current)?Fd(l):null;if(!l)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Vd(n.href),(r=(n=Xe(l).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Vd(n.href);var u=Xe(l).hoistableStyles,d=u.get(e);if(d||(l=l.ownerDocument||l,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=l.querySelector(Kd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Ud.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ud.set(e,n),u||(i=l,s=e,o=n,c=d.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),hd(s,"link",o),et(s),i.head.appendChild(s))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Zd(n),(r=(n=Xe(l).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Vd(e){return'href="'+yt(e)+'"'}function Kd(e){return'link[rel="stylesheet"]['+e+"]"}function Gd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Zd(e){return'[src="'+yt(e)+'"]'}function Yd(e){return"script[async]"+e}function Jd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),hd(r,"style",i),Qd(r,n.precedence,e),t.instance=r;case"stylesheet":i=Vd(n.href);var s=e.querySelector(Kd(i));if(s)return t.state.loading|=4,t.instance=s,et(s),s;r=Gd(n),(i=Ud.get(i))&&Xd(r,i),et(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),hd(s,"link",r),t.state.loading|=4,Qd(s,n.precedence,e),t.instance=s;case"script":return s=Zd(n.src),(i=e.querySelector(Yd(s)))?(t.instance=i,et(i),i):(r=n,(i=Ud.get(s))&&eh(r=f({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),hd(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Qd(r,n.precedence,e));return t.instance}function Qd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,o=0;o<r.length;o++){var a=r[o];if(a.dataset.precedence===t)s=a;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Xd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var th=null;function nh(e,t,n){if(null===th){var r=new Map,i=th=new Map;i.set(n,r)}else(r=(i=th).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Ge]||s[Fe]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var o=s.getAttribute(t)||"";o=e+o;var a=r.get(o);a?a.push(s):r.set(o,[s])}}return r}function rh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ih(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var sh=0;function oh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ah=null;function ch(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ah=new Map,t.forEach(lh,e),ah=null,oh.call(e))}function lh(e,t){if(!(4&t.state.loading)){var n=ah.get(e);if(n)var r=n.get(null);else{n=new Map,ah.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var o=i[s];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(s=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=oh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var uh={$$typeof:x,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function dh(e,t,n,r,i,s,o,a,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oe(0),this.hiddenUpdates=Oe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function hh(e,t,n,r,i,s){i=function(e){return e?e=Mr:Mr}(i),null===r.context?r.context=i:r.pendingContext=i,(r=ws(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=bs(e,r,t))&&(Gl(n,0,t),vs(n,e,t))}function fh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ph(e,t){fh(e,t),(e=e.alternate)&&fh(e,t)}function gh(e){if(13===e.tag||31===e.tag){var t=Nr(e,67108864);null!==t&&Gl(t,0,67108864),ph(e,67108864)}}function mh(e){if(13===e.tag||31===e.tag){var t=Vl(),n=Nr(e,t=Me(t));null!==n&&Gl(n,0,t),ph(e,t)}}var yh=!0;function wh(e,t,n,r){var i=R.T;R.T=null;var s=$.p;try{$.p=2,vh(e,t,n,r)}finally{$.p=s,R.T=i}}function bh(e,t,n,r){var i=R.T;R.T=null;var s=$.p;try{$.p=8,vh(e,t,n,r)}finally{$.p=s,R.T=i}}function vh(e,t,n,r){if(yh){var i=xh(r);if(null===i)td(e,t,r,Eh,n),Nh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Sh=Rh(Sh,e,t,n,r,i),!0;case"dragenter":return Ih=Rh(Ih,e,t,n,r,i),!0;case"mouseover":return Ah=Rh(Ah,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Th.set(s,Rh(Th.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ph.set(s,Rh(Ph.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Nh(e,r),4&t&&-1<jh.indexOf(e)){for(;null!==i;){var s=Je(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var o=Se(s.pendingLanes);if(0!==o){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var c=1<<31-ve(o);a.entanglements[1]|=c,o&=~c}$u(s),!(6&fl)&&(Rl=ce()+500,Mu(0,!1))}}break;case 31:case 13:null!==(a=Nr(s,2))&&Gl(a,0,2),Xl(),ph(s,2)}if(null===(s=xh(r))&&td(e,t,r,Eh,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else td(e,t,r,null,n)}}function xh(e){return kh(e=Rt(e))}var Eh=null;function kh(e){if(Eh=null,null!==(e=Ye(e))){var t=c(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=l(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Eh=e,null}function _h(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Ch=!1,Sh=null,Ih=null,Ah=null,Th=new Map,Ph=new Map,Oh=[],jh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nh(e,t){switch(e){case"focusin":case"focusout":Sh=null;break;case"dragenter":case"dragleave":Ih=null;break;case"mouseover":case"mouseout":Ah=null;break;case"pointerover":case"pointerout":Th.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ph.delete(t.pointerId)}}function Rh(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&null!==(t=Je(t))&&gh(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function $h(e){var t=Ye(e.target);if(null!==t){var n=c(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=l(n)))return e.blockedOn=t,void Ue(e.priority,function(){mh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Ue(e.priority,function(){mh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=xh(e.nativeEvent);if(null!==n)return null!==(t=Je(n))&&gh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Nt=r,n.target.dispatchEvent(r),Nt=null,t.shift()}return!0}function Lh(e,t,n){Mh(e)&&n.delete(t)}function Bh(){Ch=!1,null!==Sh&&Mh(Sh)&&(Sh=null),null!==Ih&&Mh(Ih)&&(Ih=null),null!==Ah&&Mh(Ah)&&(Ah=null),Th.forEach(Lh),Ph.forEach(Lh)}function Uh(e,t){e.blockedOn===t&&(e.blockedOn=null,Ch||(Ch=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bh)))}var Dh=null;function Fh(e){Dh!==e&&(Dh=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Dh===e&&(Dh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!=typeof r){if(null===kh(r||n))continue;break}var s=Je(n);null!==s&&(e.splice(t,3),t-=3,ta(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function zh(e){function t(t){return Uh(t,e)}null!==Sh&&Uh(Sh,e),null!==Ih&&Uh(Ih,e),null!==Ah&&Uh(Ah,e),Th.forEach(t),Ph.forEach(t);for(var n=0;n<Oh.length;n++){var r=Oh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Oh.length&&null===(n=Oh[0]).blockedOn;)$h(n),null===n.blockedOn&&Oh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],o=i[ze]||null;if("function"==typeof s)o||Fh(n);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(i=s,o=s[ze]||null)a=o.formAction;else if(null!==kh(i))continue}else a=o.action;"function"==typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Fh(n)}}}function Wh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function qh(e){this._internalRoot=e}function Hh(e){this._internalRoot=e}Hh.prototype.render=qh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));hh(t.current,Vl(),e,t,null,null)},Hh.prototype.unmount=qh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hh(e.current,2,null,e,null,null),Xl(),t[We]=null}},Hh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Be();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Oh.length&&0!==t&&t<Oh[n].priority;n++);Oh.splice(n,0,e),0===n&&$h(e)}};var Vh=s.version;if("19.2.0"!==Vh)throw Error(a(527,Vh,"19.2.0"));$.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=c(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return d(i),e;if(s===r)return d(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),null===(e=null!==e?h(e):null)?null:e.stateNode};var Kh={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gh.isDisabled&&Gh.supportsFiber)try{ye=Gh.inject(Kh),we=Gh}catch(e){}}t.createRoot=function(e,t){if(!(n=e)||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(a(299));var n,r=!1,i="",s=_a,o=Ca,c=Sa;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(c=t.onRecoverableError)),t=function(e,t,n,r,i,s,o,a,c,l,u,d){return e=new dh(e,t,n,o,c,l,u,d,a),t=1,!0===s&&(t|=24),s=Br(3,null,null,t),e.current=s,s.stateNode=e,(t=Ui()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},ms(s),e}(e,1,!1,null,0,r,i,null,s,o,c,Wh),e[We]=t.current,Xu(e),new qh(t)}},1277:(e,t,n)=>{"use strict";n.d(t,{X:()=>s});var r=n(1344);class i extends r.C{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function s(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new i({value:e});let[n,r="0"]=e.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),0===t)1===Math.round(Number(`.${r}`))&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[e,i,s]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],o=Math.round(Number(`${i}.${s}`));r=o>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${o}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${s?"-":""}${n}${r}`)}},1295:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const r="#__bigint";function i(e,t,n){return JSON.stringify(e,(e,n)=>"function"==typeof t?t(e,n):"bigint"==typeof n?n.toString()+r:n,n)}},1332:(e,t)=>{t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function n(e,n,r){switch(e){case t.Patterns.PATTERN000:return(n+r)%2==0;case t.Patterns.PATTERN001:return n%2==0;case t.Patterns.PATTERN010:return r%3==0;case t.Patterns.PATTERN011:return(n+r)%3==0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case t.Patterns.PATTERN101:return n*r%2+n*r%3==0;case t.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case t.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){const t=e.size;let n=0,r=0,i=0,s=null,o=null;for(let a=0;a<t;a++){r=i=0,s=o=null;for(let c=0;c<t;c++){let t=e.get(a,c);t===s?r++:(r>=5&&(n+=r-5+3),s=t,r=1),t=e.get(c,a),t===o?i++:(i>=5&&(n+=i-5+3),o=t,i=1)}r>=5&&(n+=r-5+3),i>=5&&(n+=i-5+3)}return n},t.getPenaltyN2=function(e){const t=e.size;let n=0;for(let r=0;r<t-1;r++)for(let i=0;i<t-1;i++){const t=e.get(r,i)+e.get(r,i+1)+e.get(r+1,i)+e.get(r+1,i+1);4!==t&&0!==t||n++}return 3*n},t.getPenaltyN3=function(e){const t=e.size;let n=0,r=0,i=0;for(let s=0;s<t;s++){r=i=0;for(let o=0;o<t;o++)r=r<<1&2047|e.get(s,o),o>=10&&(1488===r||93===r)&&n++,i=i<<1&2047|e.get(o,s),o>=10&&(1488===i||93===i)&&n++}return 40*n},t.getPenaltyN4=function(e){let t=0;const n=e.data.length;for(let r=0;r<n;r++)t+=e.data[r];return 10*Math.abs(Math.ceil(100*t/n/5)-10)},t.applyMask=function(e,t){const r=t.size;for(let i=0;i<r;i++)for(let s=0;s<r;s++)t.isReserved(s,i)||t.xor(s,i,n(e,s,i))},t.getBestMask=function(e,n){const r=Object.keys(t.Patterns).length;let i=0,s=1/0;for(let o=0;o<r;o++){n(o),t.applyMask(o,e);const r=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(o,e),r<s&&(s=r,i=o)}return i}},1333:e=>{e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},1344:(e,t,n)=>{"use strict";n.d(t,{C:()=>o});const r="2.38.6";let i=({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,s=`viem@${r}`;class o extends Error{constructor(e,t={}){const n=t.cause instanceof o?t.cause.details:t.cause?.message?t.cause.message:t.details,a=t.cause instanceof o&&t.cause.docsPath||t.docsPath,c=i?.({...t,docsPath:a});super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...c?[`Docs: ${c}`]:[],...n?[`Details: ${n}`]:[],...s?[`Version: ${s}`]:[]].join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=a,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=r}walk(e){return a(this,e)}}function a(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e&&void 0!==e.cause?a(e.cause,t):t?null:e}},1362:(e,t,n)=>{"use strict";n.d(t,{v:()=>w});var r=n(3033),i=n(4337),s=n(1344),o=n(7529),a=n(3190),c=n(8358),l=n(9789),u=n(7671),d=n(3692),h=n(6447),f=n(332),p=n(9798),g=n(7614),m=n(8498);const y=new h.A(128);async function w(e,t){const{account:n=e.account,chain:h=e.chain,accessList:w,authorizationList:b,blobs:v,data:x,gas:E,gasPrice:k,maxFeePerBlobGas:_,maxFeePerGas:C,maxPriorityFeePerGas:S,nonce:I,type:A,value:T,...P}=t;if(void 0===n)throw new i.T({docsPath:"/docs/actions/wallet/sendTransaction"});const O=n?(0,r.J)(n):null;try{(0,f.c)(t);const n=await(async()=>t.to?t.to:null!==t.to&&b&&b.length>0?await(0,o.g)({authorization:b[0]}).catch(()=>{throw new s.C("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if("json-rpc"===O?.type||null===O){let t;null!==h&&(t=await(0,d.T)(e,p.T,"getChainId")({}),(0,a.v)({currentChainId:t,chain:h}));const r=e.chain?.formatters?.transactionRequest?.format,i=(r||u.Bv)({...(0,l.o)(P,{format:r}),accessList:w,account:O,authorizationList:b,blobs:v,chainId:t,data:x,gas:E,gasPrice:k,maxFeePerBlobGas:_,maxFeePerGas:C,maxPriorityFeePerGas:S,nonce:I,to:n,type:A,value:T},"sendTransaction"),s=y.get(e.uid),o=s?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:o,params:[i]},{retryCount:0})}catch(t){if(!1===s)throw t;const n=t;if("InvalidInputRpcError"===n.name||"InvalidParamsRpcError"===n.name||"MethodNotFoundRpcError"===n.name||"MethodNotSupportedRpcError"===n.name)return await e.request({method:"wallet_sendTransaction",params:[i]},{retryCount:0}).then(t=>(y.set(e.uid,!0),t)).catch(t=>{const r=t;if("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name)throw y.set(e.uid,!1),n;throw r});throw n}}if("local"===O?.type){const t=await(0,d.T)(e,g.ft,"prepareTransactionRequest")({account:O,accessList:w,authorizationList:b,blobs:v,chain:h,data:x,gas:E,gasPrice:k,maxFeePerBlobGas:_,maxFeePerGas:C,maxPriorityFeePerGas:S,nonce:I,nonceManager:O.nonceManager,parameters:[...g.MM,"sidecars"],type:A,value:T,...P,to:n}),r=h?.serializers?.transaction,i=await O.signTransaction(t,{serializer:r});return await(0,d.T)(e,m.L,"sendRawTransaction")({serializedTransaction:i})}if("smart"===O?.type)throw new i.Z({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new i.Z({docsPath:"/docs/actions/wallet/sendTransaction",type:O?.type})}catch(e){if(e instanceof i.Z)throw e;throw(0,c.p)(e,{...t,account:O,chain:t.chain||void 0})}}},1427:(e,t,n)=>{const r=n(6886),i=n(7518),s=n(9953),o=n(208),a=n(1878),c=r.getBCHDigit(7973);function l(e,t){return o.getCharCountIndicator(e,t)+4}function u(e,t){let n=0;return e.forEach(function(e){const r=l(e.mode,t);n+=r+e.getBitsLength()}),n}t.from=function(e,t){return a.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,n){if(!a.isValid(e))throw new Error("Invalid QR Code version");void 0===n&&(n=o.BYTE);const s=8*(r.getSymbolTotalCodewords(e)-i.getTotalCodewordsCount(e,t));if(n===o.MIXED)return s;const c=s-l(n,e);switch(n){case o.NUMERIC:return Math.floor(c/10*3);case o.ALPHANUMERIC:return Math.floor(c/11*2);case o.KANJI:return Math.floor(c/13);case o.BYTE:default:return Math.floor(c/8)}},t.getBestVersionForData=function(e,n){let r;const i=s.from(n,s.M);if(Array.isArray(e)){if(e.length>1)return function(e,n){for(let r=1;r<=40;r++)if(u(e,r)<=t.getCapacity(r,n,o.MIXED))return r}(e,i);if(0===e.length)return 1;r=e[0]}else r=e;return function(e,n,r){for(let i=1;i<=40;i++)if(n<=t.getCapacity(i,r,e))return i}(r.mode,r.getLength(),i)},t.getEncodedBits=function(e){if(!a.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;r.getBCHDigit(t)-c>=0;)t^=7973<<r.getBCHDigit(t)-c;return e<<12|t}},1433:(e,t,n)=>{const r=n(208),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function s(e){this.mode=r.ALPHANUMERIC,this.data=e}s.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=45*i.indexOf(this.data[t]);n+=i.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},e.exports=s},1454:(e,t,n)=>{"use strict";n.d(t,{w:()=>s});var r=n(2531);class i extends r.Vw{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,r.sd)(e);const n=(0,r.ZJ)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),(0,r.uH)(s)}update(e){return(0,r.CC)(this),this.iHash.update(e),this}digestInto(e){(0,r.CC)(this),(0,r.DO)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=r,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const s=(e,t,n)=>new i(e,t).update(n).digest();s.create=(e,t)=>new i(e,t)},1468:(e,t,n)=>{"use strict";function r(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):function(e){return e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer}(e)?new Uint8Array(e):Uint8Array.from(e)}n.d(t,{C:()=>r})},1477:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.HTTP=void 0;const o=n(2438),a=s(n(1790));t.HTTP=class{constructor(e,t={}){this.client=e,this.headers=t}get(e,t={}){return this.request("get",e,t)}post(e,t={}){return this.request("post",e,t)}del(e,t={}){return this.request("del",e,t)}put(e,t={}){return this.request("put",e,t)}request(e,t,n={}){return a[e](this.client.getHttpEndpoint(t),this.getOptions(n)).catch(e=>{var t;const n=e.statusCode,r=(null===(t=e.data)||void 0===t?void 0:t.error)||e.statusMessage||e.message;if(!n&&!r)throw e;throw new o.ServerError(n,r)})}getOptions(e){return e.headers=Object.assign({},this.headers,e.headers),this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),"undefined"!=typeof cc&&cc.sys&&cc.sys.isNative||(e.withCredentials=!0),e}}},1565:(e,t,n)=>{"use strict";n.d(t,{B:()=>i});var r=n(4051);function i(e){return"function"===e.type?`function ${e.name}(${(0,r.Q)(e.inputs)})${e.stateMutability&&"nonpayable"!==e.stateMutability?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${(0,r.Q)(e.outputs)})`:""}`:"event"===e.type?`event ${e.name}(${(0,r.Q)(e.inputs)})`:"error"===e.type?`error ${e.name}(${(0,r.Q)(e.inputs)})`:"constructor"===e.type?`constructor(${(0,r.Q)(e.inputs)})${"payable"===e.stateMutability?" payable":""}`:"fallback"===e.type?"fallback() external"+("payable"===e.stateMutability?" payable":""):"receive() external payable"}},1569:(e,t,n)=>{"use strict";n.d(t,{k:()=>l});var r=n(4706),i=n(2040);const s=e=>(0,i.S)((0,r.ZJ)(e));var o=n(1565),a=n(1344);const c=e=>function(e){let t=!0,n="",r=0,i="",s=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),"("===a&&r++,")"===a&&r--,t)if(0!==r)" "!==a?(i+=a,n+=a):","!==e[o-1]&&","!==n&&",("!==n&&(n="",t=!1);else if(" "===a&&["event","function",""].includes(i))i="";else if(i+=a,")"===a){s=!0;break}}if(!s)throw new a.C("Unable to normalize signature.");return i}("string"==typeof e?e:(0,o.B)(e));function l(e){return t=c(e),s(t);var t}},1591:e=>{"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},1595:(e,t,n)=>{"use strict";function r(e){const t=e.length;let n=0,r=0;for(;r<t;){let i=e.charCodeAt(r++);if(4294967168&i)if(4294965248&i){if(i>=55296&&i<=56319&&r<t){const t=e.charCodeAt(r);56320==(64512&t)&&(++r,i=((1023&i)<<10)+(1023&t)+65536)}n+=4294901760&i?4:3}else n+=2;else n++}return n}n.d(t,{Zf:()=>c,_u:()=>d,dS:()=>r,yi:()=>o});const i=new TextEncoder,s=50;function o(e,t,n){e.length>s?function(e,t,n){i.encodeInto(e,t.subarray(n))}(e,t,n):function(e,t,n){const r=e.length;let i=n,s=0;for(;s<r;){let n=e.charCodeAt(s++);if(4294967168&n){if(4294965248&n){if(n>=55296&&n<=56319&&s<r){const t=e.charCodeAt(s);56320==(64512&t)&&(++s,n=((1023&n)<<10)+(1023&t)+65536)}4294901760&n?(t[i++]=n>>18&7|240,t[i++]=n>>12&63|128,t[i++]=n>>6&63|128):(t[i++]=n>>12&15|224,t[i++]=n>>6&63|128)}else t[i++]=n>>6&31|192;t[i++]=63&n|128}else t[i++]=n}}(e,t,n)}const a=4096;function c(e,t,n){let r=t;const i=r+n,s=[];let o="";for(;r<i;){const t=e[r++];if(128&t)if(192==(224&t)){const n=63&e[r++];s.push((31&t)<<6|n)}else if(224==(240&t)){const n=63&e[r++],i=63&e[r++];s.push((31&t)<<12|n<<6|i)}else if(240==(248&t)){let n=(7&t)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++];n>65535&&(n-=65536,s.push(n>>>10&1023|55296),n=56320|1023&n),s.push(n)}else s.push(t);else s.push(t);s.length>=a&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const l=new TextDecoder,u=200;function d(e,t,n){return n>u?function(e,t,n){const r=e.subarray(t,t+n);return l.decode(r)}(e,t,n):c(e,t,n)}},1622:(e,t,n)=>{"use strict";n.d(t,{N:()=>l,b:()=>c});var r=n(7250),i=n(6675),s=n(3692),o=n(5603),a=n(5242);async function c(e,t){return l(e,t)}async function l(e,t){const{block:n,chain:c=e.chain,request:l}=t||{};try{const t=c?.fees?.maxPriorityFeePerGas??c?.fees?.defaultPriorityFee;if("function"==typeof t){const r=n||await(0,s.T)(e,o.g,"getBlock")({}),i=await t({block:r,client:e,request:l});if(null===i)throw new Error;return i}if(void 0!==t)return t;const r=await e.request({method:"eth_maxPriorityFeePerGas"});return(0,i.uU)(r)}catch{const[t,i]=await Promise.all([n?Promise.resolve(n):(0,s.T)(e,o.g,"getBlock")({}),(0,s.T)(e,a.L,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new r.pw;const c=i-t.baseFeePerGas;return c<0n?0n:c}}},1630:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});class r extends Error{constructor(e,t={}){const n=(()=>{if(t.cause instanceof r){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})(),i=t.cause instanceof r&&t.cause.docsPath||t.docsPath,s=`https://oxlib.sh${i??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...n||i?["",n?`Details: ${n}`:void 0,i?`See: ${s}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=n,this.docs=s,this.docsPath=i,this.shortMessage=e}walk(e){return i(this,e)}}function i(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e&&e.cause?i(e.cause,t):t?null:e}},1772:(e,t,n)=>{"use strict";n.d(t,{l:()=>s});var r=n(1344),i=n(2592);function s(e,t){const n=(e.details||"").toLowerCase(),s=e instanceof r.C?e.walk(e=>e?.code===i.A7.code):e;return s instanceof r.C?new i.A7({cause:e,message:s.details}):i.A7.nodeMessage.test(n)?new i.A7({cause:e,message:e.details}):i.BG.nodeMessage.test(n)?new i.BG({cause:e,maxFeePerGas:t?.maxFeePerGas}):i.jj.nodeMessage.test(n)?new i.jj({cause:e,maxFeePerGas:t?.maxFeePerGas}):i.K0.nodeMessage.test(n)?new i.K0({cause:e,nonce:t?.nonce}):i.Oh.nodeMessage.test(n)?new i.Oh({cause:e,nonce:t?.nonce}):i.vW.nodeMessage.test(n)?new i.vW({cause:e,nonce:t?.nonce}):i.k5.nodeMessage.test(n)?new i.k5({cause:e}):i.lY.nodeMessage.test(n)?new i.lY({cause:e,gas:t?.gas}):i.Fo.nodeMessage.test(n)?new i.Fo({cause:e,gas:t?.gas}):i.uC.nodeMessage.test(n)?new i.uC({cause:e}):i.lN.nodeMessage.test(n)?new i.lN({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new i.RM({cause:e})}},1790:(e,t,n)=>{"use strict";function r(e,t){t.headers=e.headers||{},t.statusMessage=e.statusText,t.statusCode=e.status,t.data=e.response}function i(e,t,n){return new Promise(function(i,s){n=n||{};var o,a,c,l=new XMLHttpRequest,u=n.body,d=n.headers||{};for(o in n.timeout&&(l.timeout=n.timeout),l.ontimeout=l.onerror=function(e){e.timeout="timeout"==e.type,s(e)},l.open(e,t.href||t),l.onload=function(){for(c=l.getAllResponseHeaders().trim().split(/[\r\n]+/),r(l,l);a=c.shift();)a=a.split(": "),l.headers[a.shift().toLowerCase()]=a.join(": ");if((a=l.headers["content-type"])&&~a.indexOf("application/json"))try{l.data=JSON.parse(l.data,n.reviver)}catch(e){return r(l,e),s(e)}(l.status>=400?s:i)(l)},typeof FormData<"u"&&u instanceof FormData||u&&"object"==typeof u&&(d["content-type"]="application/json",u=JSON.stringify(u)),l.withCredentials=!!n.withCredentials,d)l.setRequestHeader(o,d[o]);l.send(u)})}n.r(t),n.d(t,{del:()=>c,get:()=>s,patch:()=>a,post:()=>o,put:()=>l,send:()=>i});var s=i.bind(i,"GET"),o=i.bind(i,"POST"),a=i.bind(i,"PATCH"),c=i.bind(i,"DELETE"),l=i.bind(i,"PUT")},1843:(e,t,n)=>{const r=n(829);function i(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function s(e,t,n,r,i,s){l[e]=l[e]+l[t]+i,l[r]=o(l[r]^l[e],16),l[n]=l[n]+l[r],l[t]=o(l[t]^l[n],12),l[e]=l[e]+l[t]+s,l[r]=o(l[r]^l[e],8),l[n]=l[n]+l[r],l[t]=o(l[t]^l[n],7)}function o(e,t){return e>>>t^e<<32-t}const a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),l=new Uint32Array(16),u=new Uint32Array(16);function d(e,t){let n=0;for(n=0;n<8;n++)l[n]=e.h[n],l[n+8]=a[n];for(l[12]^=e.t,l[13]^=e.t/4294967296,t&&(l[14]=~l[14]),n=0;n<16;n++)u[n]=i(e.b,4*n);for(n=0;n<10;n++)s(0,4,8,12,u[c[16*n+0]],u[c[16*n+1]]),s(1,5,9,13,u[c[16*n+2]],u[c[16*n+3]]),s(2,6,10,14,u[c[16*n+4]],u[c[16*n+5]]),s(3,7,11,15,u[c[16*n+6]],u[c[16*n+7]]),s(0,5,10,15,u[c[16*n+8]],u[c[16*n+9]]),s(1,6,11,12,u[c[16*n+10]],u[c[16*n+11]]),s(2,7,8,13,u[c[16*n+12]],u[c[16*n+13]]),s(3,4,9,14,u[c[16*n+14]],u[c[16*n+15]]);for(n=0;n<8;n++)e.h[n]^=l[n]^l[n+8]}function h(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=t?t.length:0;if(t&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(a),b:new Uint8Array(64),c:0,t:0,outlen:e};return r.h[0]^=16842752^n<<8^e,n>0&&(f(r,t),r.c=64),r}function f(e,t){for(let n=0;n<t.length;n++)64===e.c&&(e.t+=e.c,d(e,!1),e.c=0),e.b[e.c++]=t[n]}function p(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;d(e,!0);const t=new Uint8Array(e.outlen);for(let n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n)&255;return t}function g(e,t,n){n=n||32,e=r.normalizeInput(e);const i=h(n,t);return f(i,e),p(i)}e.exports={blake2s:g,blake2sHex:function(e,t,n){const i=g(e,t,n);return r.toHex(i)},blake2sInit:h,blake2sUpdate:f,blake2sFinal:p}},1848:(e,t,n)=>{"use strict";n.d(t,{DS:()=>E,OG:()=>v,Ph:()=>u,SJ:()=>k,aK:()=>w,d6:()=>o,dJ:()=>b,eV:()=>a,ex:()=>g,fg:()=>x,lX:()=>d,lq:()=>h,nC:()=>m,qj:()=>p,x:()=>_,z:()=>f,zW:()=>c});var r=n(2531);const i=BigInt(0),s=BigInt(1);function o(e,t=""){if("boolean"!=typeof e)throw new Error((t&&`"${t}"`)+"expected boolean, got type="+typeof e);return e}function a(e,t,n=""){const i=(0,r.aY)(e),s=e?.length,o=void 0!==t;if(!i||o&&s!==t)throw new Error((n&&`"${n}" `)+"expected Uint8Array"+(o?` of length ${t}`:"")+", got "+(i?`length=${s}`:"type="+typeof e));return e}function c(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function l(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?i:BigInt("0x"+e)}function u(e){return l((0,r.My)(e))}function d(e){return(0,r.DO)(e),l((0,r.My)(Uint8Array.from(e).reverse()))}function h(e,t){return(0,r.aT)(e.toString(16).padStart(2*t,"0"))}function f(e,t){return h(e,t).reverse()}function p(e,t,n){let i;if("string"==typeof t)try{i=(0,r.aT)(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!(0,r.aY)(t))throw new Error(e+" must be hex string or Uint8Array");i=Uint8Array.from(t)}const s=i.length;if("number"==typeof n&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return i}function g(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}function m(e){return Uint8Array.from(e)}const y=e=>"bigint"==typeof e&&i<=e;function w(e,t,n,r){if(!function(e,t,n){return y(e)&&y(t)&&y(n)&&t<=e&&e<n}(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function b(e){let t;for(t=0;e>i;e>>=s,t+=1);return t}const v=e=>(s<<BigInt(e))-s;function x(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");const i=e=>new Uint8Array(e),s=e=>Uint8Array.of(e);let o=i(e),a=i(e),c=0;const l=()=>{o.fill(1),a.fill(0),c=0},u=(...e)=>n(a,o,...e),d=(e=i(0))=>{a=u(s(0),e),o=u(),0!==e.length&&(a=u(s(1),e),o=u())},h=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){o=u();const t=o.slice();n.push(t),e+=o.length}return(0,r.Id)(...n)};return(e,t)=>{let n;for(l(),d(e);!(n=t(h()));)d();return l(),n}}function E(e,t,n={}){if(!e||"object"!=typeof e)throw new Error("expected valid options object");function r(t,n,r){const i=e[t];if(r&&void 0===i)return;const s=typeof i;if(s!==n||null===i)throw new Error(`param "${t}" is invalid: expected ${n}, got ${s}`)}Object.entries(t).forEach(([e,t])=>r(e,t,!1)),Object.entries(n).forEach(([e,t])=>r(e,t,!0))}const k=()=>{throw new Error("not implemented")};function _(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(void 0!==i)return i;const s=e(n,...r);return t.set(n,s),s}}},1861:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},1878:(e,t)=>{t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},1901:(e,t,n)=>{"use strict";n.d(t,{Hn:()=>a,X3:()=>i,_j:()=>s,eN:()=>o,f7:()=>r});const r=4294967295;function i(e,t,n){const r=n/4294967296,i=n;e.setUint32(t,r),e.setUint32(t+4,i)}function s(e,t,n){const r=Math.floor(n/4294967296),i=n;e.setUint32(t,r),e.setUint32(t+4,i)}function o(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}function a(e,t){return 4294967296*e.getUint32(t)+e.getUint32(t+4)}},1965:(e,t,n)=>{"use strict";n.d(t,{n:()=>y});var r=n(7372),i=n(4569),s=n(5834),o=n(5182),a=n(3577),c=n(8583),l=n(4317),u=n(6675),d=n(4192);function h(e,t={}){void 0!==t.size&&(0,u.Sl)(e,{size:t.size});const n=(0,d.My)(e,t);return(0,u.uU)(n,t)}function f(e,t={}){let n=e;if(void 0!==t.size&&((0,u.Sl)(n,{size:t.size}),n=(0,c.B)(n)),n.length>1||n[0]>1)throw new l.xO(n);return Boolean(n[0])}function p(e,t={}){void 0!==t.size&&(0,u.Sl)(e,{size:t.size});const n=(0,d.My)(e,t);return(0,u.ME)(n,t)}var g=n(4706),m=n(4531);function y(e,t){const n="string"==typeof t?(0,g.aT)(t):t,i=(0,s.l)(n);if(0===(0,o.E)(n)&&e.length>0)throw new r.O;if((0,o.E)(t)&&(0,o.E)(t)<32)throw new r.Iy({data:"string"==typeof t?t:(0,d.My)(t),params:e,size:(0,o.E)(t)});let a=0;const c=[];for(let t=0;t<e.length;++t){const n=e[t];i.setPosition(a);const[r,s]=w(i,n,{staticPosition:0});a+=s,c.push(r)}return c}function w(e,t,{staticPosition:n}){const s=(0,m.k)(t.type);if(s){const[r,i]=s;return function(e,t,{length:n,staticPosition:r}){if(!n){const n=r+p(e.readBytes(v)),i=n+b;e.setPosition(n);const s=p(e.readBytes(b)),o=x(t);let a=0;const c=[];for(let n=0;n<s;++n){e.setPosition(i+(o?32*n:a));const[r,s]=w(e,t,{staticPosition:i});a+=s,c.push(r)}return e.setPosition(r+32),[c,32]}if(x(t)){const i=r+p(e.readBytes(v)),s=[];for(let r=0;r<n;++r){e.setPosition(i+32*r);const[n]=w(e,t,{staticPosition:i});s.push(n)}return e.setPosition(r+32),[s,32]}let i=0;const s=[];for(let o=0;o<n;++o){const[n,o]=w(e,t,{staticPosition:r+i});i+=o,s.push(n)}return[s,i]}(e,{...t,type:i},{length:r,staticPosition:n})}if("tuple"===t.type)return function(e,t,{staticPosition:n}){const r=0===t.components.length||t.components.some(({name:e})=>!e),i=r?[]:{};let s=0;if(x(t)){const o=n+p(e.readBytes(v));for(let n=0;n<t.components.length;++n){const a=t.components[n];e.setPosition(o+s);const[c,l]=w(e,a,{staticPosition:o});s+=l,i[r?n:a?.name]=c}return e.setPosition(n+32),[i,32]}for(let o=0;o<t.components.length;++o){const a=t.components[o],[c,l]=w(e,a,{staticPosition:n});i[r?o:a?.name]=c,s+=l}return[i,s]}(e,t,{staticPosition:n});if("address"===t.type)return function(e){const t=e.readBytes(32);return[(0,i.o)((0,d.My)((0,a.A1)(t,-20))),32]}(e);if("bool"===t.type)return function(e){return[f(e.readBytes(32),{size:32}),32]}(e);if(t.type.startsWith("bytes"))return function(e,t,{staticPosition:n}){const[r,i]=t.type.split("bytes");if(!i){const t=p(e.readBytes(32));e.setPosition(n+t);const r=p(e.readBytes(32));if(0===r)return e.setPosition(n+32),["0x",32];const i=e.readBytes(r);return e.setPosition(n+32),[(0,d.My)(i),32]}return[(0,d.My)(e.readBytes(Number.parseInt(i,10),32)),32]}(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return function(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),i=e.readBytes(32);return[r>48?h(i,{signed:n}):p(i,{signed:n}),32]}(e,t);if("string"===t.type)return function(e,{staticPosition:t}){const n=t+p(e.readBytes(32));e.setPosition(n);const r=p(e.readBytes(32));if(0===r)return e.setPosition(t+32),["",32];const i=e.readBytes(r,32),s=function(e,t={}){let n=e;return void 0!==t.size&&((0,u.Sl)(n,{size:t.size}),n=(0,c.B)(n,{dir:"right"})),(new TextDecoder).decode(n)}((0,c.B)(i));return e.setPosition(t+32),[s,32]}(e,{staticPosition:n});throw new r.j(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const b=32,v=32;function x(e){const{type:t}=e;if("string"===t)return!0;if("bytes"===t)return!0;if(t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(x);const n=(0,m.k)(e.type);return!(!n||!x({...e,type:n[1]}))}},1989:(e,t,n)=>{"use strict";n.d(t,{O:()=>l,_:()=>c});var r=n(7250),i=n(3692),s=n(1622),o=n(5603),a=n(5242);async function c(e,t){return l(e,t)}async function l(e,t){const{block:n,chain:c=e.chain,request:l,type:u="eip1559"}=t||{},d=await(async()=>"function"==typeof c?.fees?.baseFeeMultiplier?c.fees.baseFeeMultiplier({block:n,client:e,request:l}):c?.fees?.baseFeeMultiplier??1.2)();if(d<1)throw new r.sM;const h=10**(d.toString().split(".")[1]?.length??0),f=e=>e*BigInt(Math.ceil(d*h))/BigInt(h),p=n||await(0,i.T)(e,o.g,"getBlock")({});if("function"==typeof c?.fees?.estimateFeesPerGas){const t=await c.fees.estimateFeesPerGas({block:n,client:e,multiply:f,request:l,type:u});if(null!==t)return t}if("eip1559"===u){if("bigint"!=typeof p.baseFeePerGas)throw new r.pw;const t="bigint"==typeof l?.maxPriorityFeePerGas?l.maxPriorityFeePerGas:await(0,s.N)(e,{block:p,chain:c,request:l}),n=f(p.baseFeePerGas);return{maxFeePerGas:l?.maxFeePerGas??n+t,maxPriorityFeePerGas:t}}return{gasPrice:l?.gasPrice??f(await(0,i.T)(e,a.L,"getGasPrice")({}))}}},2010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(584).__exportStar(n(3093),t)},2040:(e,t,n)=>{"use strict";n.d(t,{S:()=>a});var r=n(7238),i=n(6394),s=n(4706),o=n(4192);function a(e,t){const n=t||"hex",a=(0,r.lY)((0,i.q)(e,{strict:!1})?(0,s.ZJ)(e):e);return"bytes"===n?a:(0,o.nj)(a)}},2063:(e,t,n)=>{"use strict";t.g=void 0;const r=n(8196);t.g=function(){let e,t;try{e=r.getDocumentOrThrow(),t=r.getLocationOrThrow()}catch(e){return null}function n(...t){const n=e.getElementsByTagName("meta");for(let e=0;e<n.length;e++){const r=n[e],i=["itemprop","property","name"].map(e=>r.getAttribute(e)).filter(e=>!!e&&t.includes(e));if(i.length&&i){const e=r.getAttribute("content");if(e)return e}}return""}const i=function(){let t=n("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:n("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){const n=e.getElementsByTagName("link"),r=[];for(let e=0;e<n.length;e++){const i=n[e],s=i.getAttribute("rel");if(s&&s.toLowerCase().indexOf("icon")>-1){const e=i.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let n=t.protocol+"//"+t.host;if(0===e.indexOf("/"))n+=e;else{const r=t.pathname.split("/");r.pop(),n+=r.join("/")+"/"+e}r.push(n)}else if(0===e.indexOf("//")){const n=t.protocol+e;r.push(n)}else r.push(e)}}return r}(),name:i}}},2069:(e,t,n)=>{"use strict";n.d(t,{e:()=>d});var r=n(9655),i=n(8860),s=n(6684),o=n(911),a=n(7847);class c extends a.C{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}var l=n(9571),u=n(2324);function d(e){const t={},n=e.length;for(let r=0;r<n;r++){const n=e[r];if(!(0,l.WL)(n))continue;const i=(0,l.FO)(n);if(!i)throw new o.s7({signature:n,type:"struct"});const s=i.properties.split(";"),a=[],c=s.length;for(let e=0;e<c;e++){const t=s[e].trim();if(!t)continue;const n=(0,u.Pj)(t,{type:"struct"});a.push(n)}if(!a.length)throw new o.X9({signature:n});t[i.name]=a}const r={},i=Object.entries(t),s=i.length;for(let e=0;e<s;e++){const[n,s]=i[e];r[n]=f(s,t)}return r}const h=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function f(e,t,n=new Set){const o=[],a=e.length;for(let l=0;l<a;l++){const a=e[l];if(r.wj.test(a.type))o.push(a);else{const e=(0,r.Yv)(h,a.type);if(!e?.type)throw new s.nx({abiParameter:a});const{array:l,type:d}=e;if(d in t){if(n.has(d))throw new c({type:d});o.push({...a,type:`tuple${l??""}`,components:f(t[d]??[],t,new Set([...n,d]))})}else{if(!(0,u._o)(d))throw new i.zz({type:d});o.push(a)}}}return o}},2167:(e,t,n)=>{"use strict";n.d(t,{u:()=>s});var r=n(9091);const i=new Map;function s({fn:e,id:t,shouldSplitBatch:n,wait:s=0,sort:o}){const a=async()=>{const t=l();c();const n=t.map(({args:e})=>e);0!==n.length&&e(n).then(e=>{o&&Array.isArray(e)&&e.sort(o);for(let n=0;n<t.length;n++){const{resolve:r}=t[n];r?.([e[n],e])}}).catch(e=>{for(let n=0;n<t.length;n++){const{reject:r}=t[n];r?.(e)}})},c=()=>i.delete(t),l=()=>i.get(t)||[],u=e=>i.set(t,[...l(),e]);return{flush:c,async schedule(e){const{promise:t,resolve:i,reject:o}=(0,r.Y)(),c=n?.([...l().map(({args:e})=>e),e]);return c&&a(),l().length>0?(u({args:e,resolve:i,reject:o}),t):(u({args:e,resolve:i,reject:o}),setTimeout(a,s),t)}}}},2184:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});class r extends Error{constructor(e){super(e);const t=Object.create(r.prototype);Object.setPrototypeOf(this,t),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:r.name})}}},2305:(e,t,n)=>{"use strict";n.d(t,{l:()=>s});var r=n(2864),i=n(2602);function s(e){const{key:t="public",name:n="Public Client"}=e;return(0,r.U)({...e,key:t,name:n,type:"publicClient"}).extend(i.$)}},2318:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toBig=t.shrSL=t.shrSH=t.rotrSL=t.rotrSH=t.rotrBL=t.rotrBH=t.rotr32L=t.rotr32H=t.rotlSL=t.rotlSH=t.rotlBL=t.rotlBH=t.add5L=t.add5H=t.add4L=t.add4H=t.add3L=t.add3H=void 0,t.add=b,t.fromBig=i,t.split=s;const n=BigInt(2**32-1),r=BigInt(32);function i(e,t=!1){return t?{h:Number(e&n),l:Number(e>>r&n)}:{h:0|Number(e>>r&n),l:0|Number(e&n)}}function s(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:n,l:a}=i(e[o],t);[r[o],s[o]]=[n,a]}return[r,s]}const o=(e,t)=>BigInt(e>>>0)<<r|BigInt(t>>>0);t.toBig=o;const a=(e,t,n)=>e>>>n;t.shrSH=a;const c=(e,t,n)=>e<<32-n|t>>>n;t.shrSL=c;const l=(e,t,n)=>e>>>n|t<<32-n;t.rotrSH=l;const u=(e,t,n)=>e<<32-n|t>>>n;t.rotrSL=u;const d=(e,t,n)=>e<<64-n|t>>>n-32;t.rotrBH=d;const h=(e,t,n)=>e>>>n-32|t<<64-n;t.rotrBL=h;const f=(e,t)=>t;t.rotr32H=f;const p=(e,t)=>e;t.rotr32L=p;const g=(e,t,n)=>e<<n|t>>>32-n;t.rotlSH=g;const m=(e,t,n)=>t<<n|e>>>32-n;t.rotlSL=m;const y=(e,t,n)=>t<<n-32|e>>>64-n;t.rotlBH=y;const w=(e,t,n)=>e<<n-32|t>>>64-n;function b(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}t.rotlBL=w;const v=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0);t.add3L=v;const x=(e,t,n,r)=>t+n+r+(e/2**32|0)|0;t.add3H=x;const E=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0);t.add4L=E;const k=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0;t.add4H=k;const _=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0);t.add5L=_;const C=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0;t.add5H=C;const S={fromBig:i,split:s,toBig:o,shrSH:a,shrSL:c,rotrSH:l,rotrSL:u,rotrBH:d,rotrBL:h,rotr32H:f,rotr32L:p,rotlSH:g,rotlSL:m,rotlBH:y,rotlBL:w,add:b,add3L:v,add3H:x,add4L:E,add4H:k,add5H:C,add5L:_};t.default=S},2324:(e,t,n)=>{"use strict";n.d(t,{_o:()=>y,Pj:()=>g,uT:()=>d,NV:()=>m});var r=n(9655),i=n(8860),s=n(6684),o=n(911),a=n(7847);class c extends a.C{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}const l=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);var u=n(9571);function d(e,t={}){if((0,u.Ji)(e))return function(e,t={}){const n=(0,u.ej)(e);if(!n)throw new o.s7({signature:e,type:"function"});const r=m(n.parameters),i=[],s=r.length;for(let e=0;e<s;e++)i.push(g(r[e],{modifiers:u.v7,structs:t,type:"function"}));const a=[];if(n.returns){const e=m(n.returns),r=e.length;for(let n=0;n<r;n++)a.push(g(e[n],{modifiers:u.v7,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:a}}(e,t);if((0,u.Rv)(e))return function(e,t={}){const n=(0,u.iB)(e);if(!n)throw new o.s7({signature:e,type:"event"});const r=m(n.parameters),i=[],s=r.length;for(let e=0;e<s;e++)i.push(g(r[e],{modifiers:u.fC,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:i}}(e,t);if((0,u.pc)(e))return function(e,t={}){const n=(0,u.kz)(e);if(!n)throw new o.s7({signature:e,type:"error"});const r=m(n.parameters),i=[],s=r.length;for(let e=0;e<s;e++)i.push(g(r[e],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:i}}(e,t);if((0,u.l9)(e))return function(e,t={}){const n=(0,u.Yo)(e);if(!n)throw new o.s7({signature:e,type:"constructor"});const r=m(n.parameters),i=[],s=r.length;for(let e=0;e<s;e++)i.push(g(r[e],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}(e,t);if((0,u.v8)(e))return function(e){const t=(0,u.If)(e);if(!t)throw new o.s7({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}(e);if((0,u.sP)(e))return{type:"receive",stateMutability:"payable"};throw new o.x8({signature:e})}const h=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,f=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,p=/^u?int$/;function g(e,t){const n=function(e,t,n){let r="";if(n)for(const e of Object.entries(n)){if(!e)continue;let t="";for(const n of e[1])t+=`[${n.type}${n.name?`:${n.name}`:""}]`;r+=`(${e[0]}{${t}})`}return t?`${t}:${e}${r}`:e}(e,t?.type,t?.structs);if(l.has(n))return l.get(n);const o=r.wj.test(e),a=(0,r.Yv)(o?f:h,e);if(!a)throw new s.dV({param:e});if(a.name&&function(e){return"address"===e||"bool"===e||"function"===e||"string"===e||"tuple"===e||r.BD.test(e)||r.Ge.test(e)||w.test(e)}(a.name))throw new s.zd({param:e,name:a.name});const c=a.name?{name:a.name}:{},d="indexed"===a.modifier?{indexed:!0}:{},b=t?.structs??{};let v,x={};if(o){v="tuple";const e=m(a.type),t=[],n=e.length;for(let r=0;r<n;r++)t.push(g(e[r],{structs:b}));x={components:t}}else if(a.type in b)v="tuple",x={components:b[a.type]};else if(p.test(a.type))v=`${a.type}256`;else if("address payable"===a.type)v="address";else if(v=a.type,"struct"!==t?.type&&!y(v))throw new i.UG({type:v});if(a.modifier){if(!t?.modifiers?.has?.(a.modifier))throw new s.NO({param:e,type:t?.type,modifier:a.modifier});if(u.v7.has(a.modifier)&&!function(e,t){return t||"bytes"===e||"string"===e||"tuple"===e}(v,!!a.array))throw new s.Pj({param:e,type:t?.type,modifier:a.modifier})}const E={type:`${v}${a.array??""}`,...c,...d,...x};return l.set(n,E),E}function m(e,t=[],n="",r=0){const i=e.trim().length;for(let s=0;s<i;s++){const i=e[s],o=e.slice(s+1);switch(i){case",":return 0===r?m(o,[...t,n.trim()]):m(o,t,`${n}${i}`,r);case"(":return m(o,t,`${n}${i}`,r+1);case")":return m(o,t,`${n}${i}`,r-1);default:return m(o,t,`${n}${i}`,r)}}if(""===n)return t;if(0!==r)throw new c({current:n,depth:r});return t.push(n.trim()),t}function y(e){return"address"===e||"bool"===e||"function"===e||"string"===e||r.BD.test(e)||r.Ge.test(e)}const w=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/},2341:e=>{"use strict";e.exports=function e(t){if("number"==typeof t&&isNaN(t))throw new Error("NaN is not allowed");if("number"==typeof t&&!isFinite(t))throw new Error("Infinity is not allowed");return null===t||"object"!=typeof t?JSON.stringify(t):t.toJSON instanceof Function?e(t.toJSON()):Array.isArray(t)?`[${t.reduce((t,n,r)=>`${t}${0===r?"":","}${e(void 0===n||"symbol"==typeof n?null:n)}`,"")}]`:`{${Object.keys(t).sort().reduce((n,r)=>void 0===t[r]||"symbol"==typeof t[r]?n:`${n}${0===n.length?"":","}${e(r)}:${e(t[r])}`,"")}}`}},2350:(e,t,n)=>{"use strict";n.d(t,{j:()=>l});var r=n(7372),i=n(1344),s=n(8863),o=n(6595),a=n(7513);const c=3;function l(e,{abi:t,address:n,args:l,docsPath:u,functionName:d,sender:h}){const f=e instanceof s.$S?e:e instanceof i.C?e.walk(e=>"data"in e)||e.walk():{},{code:p,data:g,details:m,message:y,shortMessage:w}=f,b=e instanceof r.O?new s.rR({functionName:d}):[c,a.bq.code].includes(p)&&(g||m||y||w)?new s.M({abi:t,data:"object"==typeof g?g.data:g,functionName:d,message:f instanceof o.J8?m:w??y}):e;return new s.bG(b,{abi:t,args:l,contractAddress:n,docsPath:u,functionName:d,sender:h})}},2427:(e,t,n)=>{"use strict";n.d(t,{L:()=>d});var r=n(6595),i=n(1344);class s extends i.C{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}var o=n(2167),a=n(8463);function c(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const l=c();var u=n(5592);function d(e,t={}){const{batch:n,fetchFn:i,fetchOptions:c,key:d="http",methods:h,name:f="HTTP JSON-RPC",onFetchRequest:p,onFetchResponse:g,retryDelay:m,raw:y}=t;return({chain:w,retryCount:b,timeout:v})=>{const{batchSize:x=1e3,wait:E=0}="object"==typeof n?n:{},k=t.retryCount??b,_=v??t.timeout??1e4,C=e||w?.rpcUrls.default.http[0];if(!C)throw new s;const S=function(e,t={}){return{async request(n){const{body:i,fetchFn:s=t.fetchFn??fetch,onRequest:o=t.onRequest,onResponse:c=t.onResponse,timeout:u=t.timeout??1e4}=n,d={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:h,method:f,signal:p}=d;try{const t=await function(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():s(t)},n)),i(await e({signal:a?.signal||null}))}catch(e){"AbortError"===e?.name&&s(t),s(e)}finally{clearTimeout(o)}})()})}(async({signal:t})=>{const n={...d,body:Array.isArray(i)?(0,a.A)(i.map(e=>({jsonrpc:"2.0",id:e.id??l.take(),...e}))):(0,a.A)({jsonrpc:"2.0",id:i.id??l.take(),...i}),headers:{"Content-Type":"application/json",...h},method:f||"POST",signal:p||(u>0?t:null)},r=new Request(e,n),c=await(o?.(r,n))??{...n,url:e};return await s(c.url??e,c)},{errorInstance:new r.MU({body:i,url:e}),timeout:u,signal:!0});let n;if(c&&await c(t),t.headers.get("Content-Type")?.startsWith("application/json"))n=await t.json();else{n=await t.text();try{n=JSON.parse(n||"{}")}catch(e){if(t.ok)throw e;n={error:n}}}if(!t.ok)throw new r.Ci({body:i,details:(0,a.A)(n.error)||t.statusText,headers:t.headers,status:t.status,url:e});return n}catch(t){if(t instanceof r.Ci)throw t;if(t instanceof r.MU)throw t;throw new r.Ci({body:i,cause:t,url:e})}}}}(C,{fetchFn:i,fetchOptions:c,onRequest:p,onResponse:g,timeout:_});return(0,u.o)({key:d,methods:h,name:f,async request({method:e,params:t}){const i={method:e,params:t},{schedule:s}=(0,o.u)({id:C,wait:E,shouldSplitBatch:e=>e.length>x,fn:e=>S.request({body:e}),sort:(e,t)=>e.id-t.id}),[{error:a,result:c}]=await(async e=>n?s(e):[await S.request({body:e})])(i);if(y)return{error:a,result:c};if(a)throw new r.J8({body:i,error:a,url:C});return c},retryCount:k,retryDelay:m,timeout:_,type:"http"},{fetchOptions:c,url:C})}}},2438:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ServerError=t.CloseCode=void 0,(n=t.CloseCode||(t.CloseCode={}))[n.CONSENTED=4e3]="CONSENTED",n[n.DEVMODE_RESTART=4010]="DEVMODE_RESTART";class r extends Error{constructor(e,t){super(t),this.name="ServerError",this.code=e}}t.ServerError=r},2493:(e,t,n)=>{const r=n(4156),i=n(1843);e.exports={blake2b:r.blake2b,blake2bHex:r.blake2bHex,blake2bInit:r.blake2bInit,blake2bUpdate:r.blake2bUpdate,blake2bFinal:r.blake2bFinal,blake2s:i.blake2s,blake2sHex:i.blake2sHex,blake2sInit:i.blake2sInit,blake2sUpdate:i.blake2sUpdate,blake2sFinal:i.blake2sFinal}},2513:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSignal=t.EventEmitter=void 0;class n{constructor(){this.handlers=[]}register(e,t=!1){return this.handlers.push(e),this}invoke(...e){this.handlers.forEach(t=>t.apply(this,e))}invokeAsync(...e){return Promise.all(this.handlers.map(t=>t.apply(this,e)))}remove(e){const t=this.handlers.indexOf(e);this.handlers[t]=this.handlers[this.handlers.length-1],this.handlers.pop()}clear(){this.handlers=[]}}t.EventEmitter=n,t.createSignal=function(){const e=new n;function t(t){return e.register(t,null===this)}return t.once=t=>{const n=function(...r){t.apply(this,r),e.remove(n)};e.register(n)},t.remove=t=>e.remove(t),t.invoke=(...t)=>e.invoke(...t),t.invokeAsync=(...t)=>e.invokeAsync(...t),t.clear=()=>e.clear(),t}},2531:(e,t,n)=>{"use strict";n.d(t,{Vw:()=>C,DO:()=>o,CC:()=>c,sd:()=>a,Fe:()=>s,Ht:()=>l,My:()=>w,uH:()=>d,Id:()=>_,qj:()=>S,O8:()=>h,aT:()=>x,aY:()=>i,po:()=>I,Ow:()=>f,fd:()=>g,ZJ:()=>k,DH:()=>u,AI:()=>E});const r="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function i(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function s(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function o(e,...t){if(!i(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function a(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");s(e.outputLen),s(e.blockLen)}function c(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function l(e,t){o(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function u(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function d(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function h(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function f(e,t){return e<<32-t|e>>>t}function p(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const g=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])()?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=p(e[t]);return e},m=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),y=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function w(e){if(o(e),m)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=y[e[n]];return t}const b={_0:48,_9:57,A:65,F:70,a:97,f:102};function v(e){return e>=b._0&&e<=b._9?e-b._0:e>=b.A&&e<=b.F?e-(b.A-10):e>=b.a&&e<=b.f?e-(b.a-10):void 0}function x(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(m)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=v(e.charCodeAt(i)),s=v(e.charCodeAt(i+1));if(void 0===n||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+s}return r}function E(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}function k(e){return"string"==typeof e&&(e=E(e)),o(e),e}function _(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];o(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}class C{}function S(e){const t=t=>e().update(k(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function I(e=32){if(r&&"function"==typeof r.getRandomValues)return r.getRandomValues(new Uint8Array(e));if(r&&"function"==typeof r.randomBytes)return Uint8Array.from(r.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}},2579:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(2040);const i="Ethereum Signed Message:\n";var s=n(5419),o=n(5182),a=n(4192);function c(e,t){return(0,r.S)(function(e){const t="string"==typeof e?(0,a.i3)(e):"string"==typeof e.raw?e.raw:(0,a.My)(e.raw),n=(0,a.i3)(`${i}${(0,o.E)(t)}`);return(0,s.xW)([n,t])}(e),t)}},2589:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});var r=n(4306),i=n(9873);function s(e,t){if(!(0,i.P)(e,{strict:!1}))throw new r.M({address:e});if(!(0,i.P)(t,{strict:!1}))throw new r.M({address:t});return e.toLowerCase()===t.toLowerCase()}},2592:(e,t,n)=>{"use strict";n.d(t,{A7:()=>s,BG:()=>o,Fo:()=>f,K0:()=>c,Oh:()=>l,RM:()=>m,jj:()=>a,k5:()=>d,lN:()=>g,lY:()=>h,uC:()=>p,vW:()=>u});var r=n(9670),i=n(1344);class s extends i.C{constructor({cause:e,message:t}={}){const n=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(s,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(s,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class o extends i.C{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,r.Q)(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class a extends i.C{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,r.Q)(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class c extends i.C{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class l extends i.C{constructor({cause:e,nonce:t}={}){super([`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class u extends i.C{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(u,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class d extends i.C{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join("\n"),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class h extends i.C{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(h,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class f extends i.C{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class p extends i.C{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(p,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class g extends i.C{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${(0,r.Q)(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${(0,r.Q)(n)} gwei`:""}).`].join("\n"),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(g,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class m extends i.C{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}},2599:(e,t,n)=>{"use strict";n.d(t,{V:()=>s});var r=n(3577),i=n(1569);const s=e=>(0,r.di)((0,i.k)(e),0,4)},2602:(e,t,n)=>{"use strict";n.d(t,{$:()=>qn});var r=n(4823),i=n(6652),s=n(8503),o=n(9985),a=n(8583),c=n(4192),l=n(1344),u=n(8863);function d(e){if(!(e instanceof l.C))return!1;const t=e.walk(e=>e instanceof u.M);return t instanceof u.M&&("HttpError"===t.data?.errorName||"ResolverError"===t.data?.errorName||"ResolverNotContract"===t.data?.errorName||"ResolverNotFound"===t.data?.errorName||"ReverseAddressMismatch"===t.data?.errorName||"UnsupportedResolverProfile"===t.data?.errorName)}var h=n(4002),f=n(5419),p=n(4706),g=n(2040),m=n(6394);function y(e){if(66!==e.length)return null;if(0!==e.indexOf("["))return null;if(65!==e.indexOf("]"))return null;const t=`0x${e.slice(1,65)}`;return(0,m.q)(t)?t:null}function w(e){let t=new Uint8Array(32).fill(0);if(!e)return(0,c.My)(t);const n=e.split(".");for(let e=n.length-1;e>=0;e-=1){const r=y(n[e]),i=r?(0,p.ZJ)(r):(0,g.S)((0,p.Af)(n[e]),"bytes");t=(0,g.S)((0,f.xW)([t,i]),"bytes")}return(0,c.My)(t)}function b(e){return`[${e.slice(2)}]`}function v(e){const t=new Uint8Array(32).fill(0);return e?y(e)||(0,g.S)((0,p.Af)(e)):(0,c.My)(t)}function x(e){const t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);const n=new Uint8Array((0,p.Af)(t).byteLength+2);let r=0;const i=t.split(".");for(let e=0;e<i.length;e++){let t=(0,p.Af)(i[e]);t.byteLength>255&&(t=(0,p.Af)(b(v(i[e])))),n[r]=t.length,n.set(t,r+1),r+=t.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}var E=n(3692),k=n(6724);class _ extends l.C{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class C extends l.C{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class S extends l.C{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class I extends l.C{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}l.C;const A=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,T=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,P=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,O=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;function j(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function N({uri:e,gatewayUrls:t}){const n=P.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=j(t?.ipfs,"https://ipfs.io"),i=j(t?.arweave,"https://arweave.net"),s=e.match(A),{protocol:o,subpath:a,target:c,subtarget:l=""}=s?.groups||{},u="ipns:/"===o||"ipns/"===a,d="ipfs:/"===o||"ipfs/"===a||T.test(e);if(e.startsWith("http")&&!u&&!d){let n=e;return t?.arweave&&(n=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:n,isOnChain:!1,isEncoded:!1}}if((u||d)&&c)return{uri:`${r}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if("ar:/"===o&&c)return{uri:`${i}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let h=e.replace(O,"");if(h.startsWith("<svg")&&(h=`data:image/svg+xml;base64,${btoa(h)}`),h.startsWith("data:")||h.startsWith("{"))return{uri:h,isOnChain:!0,isEncoded:!1};throw new S({uri:e})}function R(e){if("object"!=typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new _({data:e});return e.image||e.image_url||e.image_data}async function $({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=N({uri:t,gatewayUrls:e});if(r)return n;const i=await async function(e){try{const t=await fetch(e,{method:"HEAD"});if(200===t.status){const e=t.headers.get("content-type");return e?.startsWith("image/")}return!1}catch(t){return("object"!=typeof t||void 0===t.response)&&!!Object.hasOwn(globalThis,"Image")&&new Promise(t=>{const n=new Image;n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},n.src=e})}}(n);if(i)return n;throw new S({uri:t})}async function M(e,t){const{blockNumber:n,blockTag:a,key:l,name:u,gatewayUrls:f,strict:p}=t,{chain:g}=e,m=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!g)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,o.M)({blockNumber:n,chain:g,contract:"ensUniversalResolver"})})(),y=g?.ensTlds;if(y&&!y.some(e=>u.endsWith(e)))return null;try{const t={address:m,abi:r.Ag,args:[(0,c.nj)(x(u)),(0,s.p)({abi:r.SJ,functionName:"text",args:[w(u),l]}),f??[h.J]],functionName:"resolveWithGateways",blockNumber:n,blockTag:a},o=(0,E.T)(e,k.J,"readContract"),d=await o(t);if("0x"===d[0])return null;const p=(0,i.e)({abi:r.SJ,functionName:"text",data:d[0]});return""===p?null:p}catch(e){if(p)throw e;if(d(e))return null;throw e}}var L=n(4271),B=n(3033),U=n(8684),D=n(9789),F=n(7671),z=n(332);async function W(e,t){const{account:n=e.account,blockNumber:r,blockTag:i="latest",blobs:s,data:o,gas:a,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,to:f,value:p,...g}=t,m=n?(0,B.J)(n):void 0;try{(0,z.c)(t);const n=("bigint"==typeof r?(0,c.cK)(r):void 0)||i,y=e.chain?.formatters?.transactionRequest?.format,w=(y||F.Bv)({...(0,D.o)(g,{format:y}),account:m,blobs:s,data:o,gas:a,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,to:f,value:p},"createAccessList"),b=await e.request({method:"eth_createAccessList",params:[w,n]});return{accessList:b.accessList,gasUsed:BigInt(b.gasUsed)}}catch(n){throw(0,U.d)(n,{...t,account:m,chain:e.chain})}}function q(e,{method:t}){const n={};return"fallback"===e.transport.type&&e.transport.onResponse?.(({method:e,response:r,status:i,transport:s})=>{"success"===i&&t===e&&(n[r]=s.request)}),t=>n[t]||e.request}var H=n(7372);class V extends l.C{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}var K=n(9777),G=n(4531),Z=n(5167),Y=n(4586);const J="/docs/contract/encodeEventTopics";function Q(e){const{abi:t,eventName:n,args:r}=e;let i=t[0];if(n){const e=(0,Y.iY)({abi:t,name:n});if(!e)throw new H.M_(n,{docsPath:J});i=e}if("event"!==i.type)throw new H.M_(void 0,{docsPath:J});const s=(0,Z.B)(i),o=(0,K.h)(s);let a=[];if(r&&"inputs"in i){const e=i.inputs?.filter(e=>"indexed"in e&&e.indexed),t=Array.isArray(r)?r:Object.values(r).length>0?e?.map(e=>r[e.name])??[]:[];t.length>0&&(a=e?.map((e,n)=>Array.isArray(t[n])?t[n].map((r,i)=>X({param:e,value:t[n][i]})):void 0!==t[n]&&null!==t[n]?X({param:e,value:t[n]}):null)??[])}return[o,...a]}function X({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return(0,g.S)((0,p.ZJ)(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new V(e.type);return(0,G.h)([e],[t])}async function ee(e,t){const{address:n,abi:r,args:i,eventName:s,fromBlock:o,strict:a,toBlock:l}=t,u=q(e,{method:"eth_newFilter"}),d=s?Q({abi:r,args:i,eventName:s}):void 0,h=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:"bigint"==typeof o?(0,c.cK)(o):o,toBlock:"bigint"==typeof l?(0,c.cK)(l):l,topics:d}]});return{abi:r,args:i,eventName:s,id:h,request:u(h),strict:Boolean(a),type:"event"}}async function te(e,{address:t,args:n,event:r,events:i,fromBlock:s,strict:o,toBlock:a}={}){const l=i??(r?[r]:void 0),u=q(e,{method:"eth_newFilter"});let d=[];if(l){const e=l.flatMap(e=>Q({abi:[e],eventName:e.name,args:n}));d=[e],r&&(d=d[0])}const h=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof s?(0,c.cK)(s):s,toBlock:"bigint"==typeof a?(0,c.cK)(a):a,...d.length?{topics:d}:{}}]});return{abi:l,args:n,eventName:r?r.name:void 0,fromBlock:s,id:h,request:u(h),strict:Boolean(o),toBlock:a,type:"event"}}async function ne(e){const t=q(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}var re=n(2350),ie=n(432),se=n(1989),oe=n(1622),ae=n(5603),ce=n(5639),le=n(6675),ue=n(9798),de=n(7309),he=n(2589),fe=n(9483);function pe(e){const{abi:t,args:n,logs:r,strict:i=!0}=e,s=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(e=>{try{const r=t.find(t=>"event"===t.type&&e.topics[0]===(0,K.h)(t));if(!r)return null;const o=(0,fe.j)({...e,abi:[r],strict:i});return s&&!s.includes(o.eventName)?null:function(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function i(e,t,n){try{return"address"===e.type?(0,he.h)(t,n):"string"===e.type||"bytes"===e.type?(0,g.S)((0,p.ZJ)(t))===n:t===n}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((e,r)=>{if(null==e)return!0;const s=n[r];return!!s&&(Array.isArray(e)?e:[e]).some(e=>i(s,e,t[r]))}):"object"==typeof t&&!Array.isArray(t)&&"object"==typeof r&&!Array.isArray(r)&&Object.entries(r).every(([e,r])=>{if(null==r)return!0;const s=n.find(t=>t.name===e);return!!s&&(Array.isArray(r)?r:[r]).some(n=>i(s,n,t[e]))})}({args:o.args,inputs:r.inputs,matchArgs:n})?{...o,...e}:null}catch(t){let n,r;if(t instanceof H.kE)return null;if(t instanceof H.fo||t instanceof H.l3){if(i)return null;n=t.abiItem.name,r=t.abiItem.inputs?.some(e=>!("name"in e&&e.name))}return{...e,args:r?[]:{},eventName:n}}}).filter(Boolean)}var ge=n(7070);async function me(e,{address:t,blockHash:n,fromBlock:r,toBlock:i,event:s,events:o,args:a,strict:l}={}){const u=l??!1,d=o??(s?[s]:void 0);let h,f=[];if(d){const e=d.flatMap(e=>Q({abi:[e],eventName:e.name,args:o?void 0:a}));f=[e],s&&(f=f[0])}h=n?await e.request({method:"eth_getLogs",params:[{address:t,topics:f,blockHash:n}]}):await e.request({method:"eth_getLogs",params:[{address:t,topics:f,fromBlock:"bigint"==typeof r?(0,c.cK)(r):r,toBlock:"bigint"==typeof i?(0,c.cK)(i):i}]});const p=h.map(e=>(0,ge.e)(e));return d?pe({abi:d,args:a,logs:p,strict:u}):p}async function ye(e,t){const{abi:n,address:r,args:i,blockHash:s,eventName:o,fromBlock:a,toBlock:c,strict:l}=t,u=o?(0,Y.iY)({abi:n,name:o}):void 0,d=u?void 0:n.filter(e=>"event"===e.type);return(0,E.T)(e,me,"getLogs")({address:r,args:i,blockHash:s,event:u,events:d,fromBlock:a,toBlock:c,strict:l})}class we extends l.C{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}const be=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function ve(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if("string"==typeof r[0])return r;const i=r.map(e=>(0,ge.e)(e));return"abi"in t&&t.abi?pe({abi:t.abi,logs:i,strict:n}):i}var xe=n(5242);var Ee=n(3742),ke=n(7755),_e=n(224),Ce=n(5945),Se=n(4102),Ie=n(2592),Ae=n(1772),Te=n(5385),Pe=n(5547);async function Oe(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:o,returnFullTransactions:a,traceTransfers:l,validation:d}=t;try{const t=[];for(const e of o){const n=e.blockOverrides?Se.J(e.blockOverrides):void 0,r=e.calls.map(e=>{const t=e,n=t.account?(0,B.J)(t.account):void 0,r=t.abi?(0,s.p)(t):t.data,i={...t,account:n,data:t.dataSuffix?(0,f.xW)([r||"0x",t.dataSuffix]):r,from:t.from??n?.address};return(0,z.c)(i),(0,F.Bv)(i)}),i=e.stateOverrides?(0,Pe.yH)(e.stateOverrides):void 0;t.push({blockOverrides:n,calls:r,stateOverrides:i})}const h=("bigint"==typeof n?(0,c.cK)(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:t,returnFullTransactions:a,traceTransfers:l,validation:d},h]})).map((e,t)=>({...(0,Te.$)(e),calls:e.calls.map((e,n)=>{const{abi:r,args:s,functionName:a,to:c}=o[t].calls[n],l=e.error?.data??e.returnData,d=BigInt(e.gasUsed),h=e.logs?.map(e=>(0,ge.e)(e)),f="0x1"===e.status?"success":"failure",p=r&&"success"===f&&"0x"!==l?(0,i.e)({abi:r,data:l,functionName:a}):null,g=(()=>{if("success"===f)return;let t;return"0x"===e.error?.data?t=new H.O:e.error&&(t=new u.$S(e.error)),t?(0,re.j)(t,{abi:r??[],address:c??"0x",args:s,functionName:a??"<unknown>"}):void 0})();return{data:l,gasUsed:d,logs:h,status:f,..."success"===f?{result:p}:{error:g}}})}))}catch(e){const t=e,n=(0,Ae.l)(t,{});if(n instanceof Ie.RM)throw t;throw n}}var je=n(8860),Ne=n(9571),Re=n(2069),$e=n(2324);var Me=n(1565),Le=n(1630),Be=n(7238),Ue=n(9516);function De(e,t){if(Ze(e)>t)throw new nt({givenSize:Ze(e),maxSize:t})}const Fe={zero:48,nine:57,A:65,F:70,a:97,f:102};function ze(e){return e>=Fe.zero&&e<=Fe.nine?e-Fe.zero:e>=Fe.A&&e<=Fe.F?e-(Fe.A-10):e>=Fe.a&&e<=Fe.f?e-(Fe.a-10):void 0}function We(e,t={}){const{dir:n="left"}=t;let r=e,i=0;for(let e=0;e<r.length-1&&"0"===r["left"===n?e:r.length-e-1].toString();e++)i++;return r="left"===n?r.slice(i):r.slice(0,r.length-i),r}var qe=n(8298),He=n(1295);const Ve=new TextDecoder,Ke=new TextEncoder;function Ge(e,t={}){const{size:n}=t;let r=e;n&&(qe.Sl(e,n),r=Ue.M7(e,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let e=0,t=0;e<s;e++){const n=ze(i.charCodeAt(t++)),r=ze(i.charCodeAt(t++));if(void 0===n||void 0===r)throw new Le.C(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);o[e]=16*n+r}return o}function Ze(e){return e.length}function Ye(e,t,n,r={}){const{strict:i}=r;!function(e,t){if("number"==typeof t&&t>0&&t>Ze(e)-1)throw new rt({offset:t,position:"start",size:Ze(e)})}(e,t);const s=e.slice(t,n);return i&&function(e,t,n){if("number"==typeof t&&"number"==typeof n&&Ze(e)!==n-t)throw new rt({offset:n,position:"end",size:Ze(e)})}(s,t,n),s}function Je(e,t={}){const{size:n}=t;void 0!==n&&De(e,n);const r=Ue.uK(e,t);return Ue.Dg(r,t)}function Qe(e,t={}){const{size:n}=t;let r=e;if(void 0!==n&&(De(r,n),r=et(r)),r.length>1||r[0]>1)throw new tt(r);return Boolean(r[0])}function Xe(e,t={}){const{size:n}=t;void 0!==n&&De(e,n);const r=Ue.uK(e,t);return Ue.Ro(r,t)}function et(e){return We(e,{dir:"left"})}class tt extends Le.C{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}Le.C;class nt extends Le.C{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class rt extends Le.C{constructor({offset:e,position:t,size:n}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}}class it extends Le.C{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function st(e,t={}){const{as:n=("string"==typeof e?"Hex":"Bytes")}=t,r=(0,Be.lY)(function(e){return e instanceof Uint8Array?e:"string"==typeof e?Ge(e):function(e){return e instanceof Uint8Array?e:new Uint8Array(e)}(e)}(e));return"Bytes"===n?r:Ue.uK(r)}class ot extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}}const at={checksum:new ot(8192)}.checksum,ct=/^0x[a-fA-F0-9]{40}$/;function lt(e,t={}){const{strict:n=!0}=t;if(!ct.test(e))throw new ht({address:e,cause:new ft});if(n){if(e.toLowerCase()===e)return;if(ut(e)!==e)throw new ht({address:e,cause:new pt})}}function ut(e){if(at.has(e))return at.get(e);lt(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=st(function(e,t={}){const{size:n}=t,r=Ke.encode(e);return"number"==typeof n?(De(r,n),function(e,t){return function(e,t={}){const{dir:n,size:r=32}=t;if(0===r)return e;if(e.length>r)throw new it({size:e.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let t=0;t<r;t++){const s="right"===n;i[s?t:r-t-1]=e[s?t:e.length-t-1]}return i}(e,{dir:"right",size:t})}(r,n)):r}(t),{as:"Bytes"}),r=t.split("");for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&r[e]&&(r[e]=r[e].toUpperCase()),(15&n[e>>1])>=8&&r[e+1]&&(r[e+1]=r[e+1].toUpperCase());const i=`0x${r.join("")}`;return at.set(e,i),i}function dt(e,t={}){const{strict:n=!0}=t??{};try{return lt(e,{strict:n}),!0}catch{return!1}}class ht extends Le.C{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class ft extends Le.C{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class pt extends Le.C{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function gt(e){let t=!0,n="",r=0,i="",s=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),"("===a&&r++,")"===a&&r--,t)if(0!==r)" "!==a?(i+=a,n+=a):","!==e[o-1]&&","!==n&&",("!==n&&(n="",t=!1);else if(" "===a&&["event","function","error",""].includes(i))i="";else if(i+=a,")"===a){s=!0;break}}if(!s)throw new Le.C("Unable to normalize signature.");return i}function mt(e,t){const n=typeof e,r=t.type;switch(r){case"address":return dt(e,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:return"tuple"===r&&"components"in t?Object.values(t.components).every((t,n)=>mt(Object.values(e)[n],t)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?"number"===n||"bigint"===n:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?"string"===n||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)&&Array.isArray(e)&&e.every(e=>mt(e,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")}))}}function yt(e,t,n){for(const r in e){const i=e[r],s=t[r];if("tuple"===i.type&&"tuple"===s.type&&"components"in i&&"components"in s)return yt(i.components,s.components,n[r]);const o=[i.type,s.type];if((()=>!(!o.includes("address")||!o.includes("bytes20"))||(o.includes("address")&&o.includes("string")||!(!o.includes("address")||!o.includes("bytes")))&&dt(n[r],{strict:!1}))())return o}}function wt(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||"string"==typeof e?function(e){let t;if("string"==typeof e)t=(0,$e.uT)(e);else{const n=(0,Re.e)(e),r=e.length;for(let i=0;i<r;i++){const r=e[i];if(!(0,Ne.WL)(r)){t=(0,$e.uT)(r,n);break}}}if(!t)throw new je.xo({signature:e});return t}(e):e;return{...r,...n?{hash:xt(r)}:{}}}function bt(e,t,n){const{args:r=[],prepare:i=!0}=n??{},s=Ue.tf(t,{strict:!1}),o=e.filter(e=>s?"function"===e.type||"error"===e.type?vt(e)===Ue.di(t,0,4):"event"===e.type&&xt(e)===t:"name"in e&&e.name===t);if(0===o.length)throw new kt({name:t});if(1===o.length)return{...o[0],...i?{hash:xt(o[0])}:{}};let a;for(const e of o){if(!("inputs"in e))continue;if(!r||0===r.length){if(!e.inputs||0===e.inputs.length)return{...e,...i?{hash:xt(e)}:{}};continue}if(!e.inputs)continue;if(0===e.inputs.length)continue;if(e.inputs.length!==r.length)continue;const t=r.every((t,n)=>{const r="inputs"in e&&e.inputs[n];return!!r&&mt(t,r)});if(t){if(a&&"inputs"in a&&a.inputs){const t=yt(e.inputs,a.inputs,r);if(t)throw new Et({abiItem:e,type:t[0]},{abiItem:a,type:t[1]})}a=e}}const c=(()=>{if(a)return a;const[e,...t]=o;return{...e,overloads:t}})();if(!c)throw new kt({name:t});return{...c,...i?{hash:xt(c)}:{}}}function vt(...e){const t=(()=>{if(Array.isArray(e[0])){const[t,n]=e;return bt(t,n)}return e[0]})();return Ue.di(xt(t),0,4)}function xt(...e){const t=(()=>{if(Array.isArray(e[0])){const[t,n]=e;return bt(t,n)}return e[0]})();return"string"!=typeof t&&"hash"in t&&t.hash?t.hash:st(Ue.sH(function(...e){const t=(()=>{if(Array.isArray(e[0])){const[t,n]=e;return bt(t,n)}return e[0]})();return gt("string"==typeof t?t:Me.B(t))}(t)))}class Et extends Le.C{constructor(e,t){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${gt(Me.B(e.abiItem))}\`, and`,`\`${t.type}\` in \`${gt(Me.B(t.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class kt extends Le.C{constructor({name:e,data:t,type:n="item"}){super(`ABI ${n}${e?` with name "${e}"`:t?` with data "${t}"`:""} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}Le.C;var _t=n(6684);var Ct=n(4051);const St=/^(.*)\[([0-9]*)\]$/,It=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,At=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Tt=2n**256n-1n;function Pt(e,t,n){const{checksumAddress:r,staticPosition:i}=n,s=$t(t.type);if(s){const[n,o]=s;return function(e,t,n){const{checksumAddress:r,length:i,staticPosition:s}=n;if(!i){const n=s+Xe(e.readBytes(jt)),i=n+Ot;e.setPosition(n);const o=Xe(e.readBytes(Ot)),a=Mt(t);let c=0;const l=[];for(let n=0;n<o;++n){e.setPosition(i+(a?32*n:c));const[s,o]=Pt(e,t,{checksumAddress:r,staticPosition:i});c+=o,l.push(s)}return e.setPosition(s+32),[l,32]}if(Mt(t)){const n=s+Xe(e.readBytes(jt)),o=[];for(let s=0;s<i;++s){e.setPosition(n+32*s);const[i]=Pt(e,t,{checksumAddress:r,staticPosition:n});o.push(i)}return e.setPosition(s+32),[o,32]}let o=0;const a=[];for(let n=0;n<i;++n){const[n,i]=Pt(e,t,{checksumAddress:r,staticPosition:s+o});o+=i,a.push(n)}return[a,o]}(e,{...t,type:o},{checksumAddress:r,length:n,staticPosition:i})}if("tuple"===t.type)return function(e,t,n){const{checksumAddress:r,staticPosition:i}=n,s=0===t.components.length||t.components.some(({name:e})=>!e),o=s?[]:{};let a=0;if(Mt(t)){const n=i+Xe(e.readBytes(jt));for(let i=0;i<t.components.length;++i){const c=t.components[i];e.setPosition(n+a);const[l,u]=Pt(e,c,{checksumAddress:r,staticPosition:n});a+=u,o[s?i:c?.name]=l}return e.setPosition(i+32),[o,32]}for(let n=0;n<t.components.length;++n){const c=t.components[n],[l,u]=Pt(e,c,{checksumAddress:r,staticPosition:i});o[s?n:c?.name]=l,a+=u}return[o,a]}(e,t,{checksumAddress:r,staticPosition:i});if("address"===t.type)return function(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(i=Ue.uK(Ye(r,-20)),n?ut(i):i),32];var i}(e,{checksum:r});if("bool"===t.type)return function(e){return[Qe(e.readBytes(32),{size:32}),32]}(e);if(t.type.startsWith("bytes"))return function(e,t,{staticPosition:n}){const[r,i]=t.type.split("bytes");if(!i){const t=Xe(e.readBytes(32));e.setPosition(n+t);const r=Xe(e.readBytes(32));if(0===r)return e.setPosition(n+32),["0x",32];const i=e.readBytes(r);return e.setPosition(n+32),[Ue.uK(i),32]}return[Ue.uK(e.readBytes(Number.parseInt(i,10),32)),32]}(e,t,{staticPosition:i});if(t.type.startsWith("uint")||t.type.startsWith("int"))return function(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),i=e.readBytes(32);return[r>48?Je(i,{signed:n}):Xe(i,{signed:n}),32]}(e,t);if("string"===t.type)return function(e,{staticPosition:t}){const n=t+Xe(e.readBytes(32));e.setPosition(n);const r=Xe(e.readBytes(32));if(0===r)return e.setPosition(t+32),["",32];const i=function(e,t={}){const{size:n}=t;let r=e;return void 0!==n&&(De(r,n),r=We(r,{dir:"right"})),Ve.decode(r)}(et(e.readBytes(r,32)));return e.setPosition(t+32),[i,32]}(e,{staticPosition:i});throw new Yt(t.type)}const Ot=32,jt=32;function Nt({checksumAddress:e=!1,parameter:t,value:n}){const r=t,i=$t(r.type);if(i){const[t,s]=i;return function(e,t){const{checksumAddress:n,length:r,parameter:i}=t,s=null===r;if(!Array.isArray(e))throw new Zt(e);if(!s&&e.length!==r)throw new Vt({expectedLength:r,givenLength:e.length,type:`${i.type}[${r}]`});let o=!1;const a=[];for(let t=0;t<e.length;t++){const r=Nt({checksumAddress:n,parameter:i,value:e[t]});r.dynamic&&(o=!0),a.push(r)}if(s||o){const e=Rt(a);if(s){const t=Ue.oB(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Ue.xW(t,e):t}}if(o)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:Ue.xW(...a.map(({encoded:e})=>e))}}(n,{checksumAddress:e,length:t,parameter:{...r,type:s}})}if("tuple"===r.type)return function(e,t){const{checksumAddress:n,parameter:r}=t;let i=!1;const s=[];for(let t=0;t<r.components.length;t++){const o=r.components[t],a=Nt({checksumAddress:n,parameter:o,value:e[Array.isArray(e)?t:o.name]});s.push(a),a.dynamic&&(i=!0)}return{dynamic:i,encoded:i?Rt(s):Ue.xW(...s.map(({encoded:e})=>e))}}(n,{checksumAddress:e,parameter:r});if("address"===r.type)return function(e,t){const{checksum:n=!1}=t;return lt(e,{strict:n}),{dynamic:!1,encoded:Ue.Ho(e.toLowerCase())}}(n,{checksum:e});if("bool"===r.type)return function(e){if("boolean"!=typeof e)throw new Le.C(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ue.Ho(Ue.xb(e))}}(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const e=r.type.startsWith("int"),[,,t="256"]=At.exec(r.type)??[];return function(e,{signed:t,size:n}){if("number"==typeof n){const r=2n**(BigInt(n)-(t?1n:0n))-1n,i=t?-r-1n:0n;if(e>r||e<i)throw new Ue.Ty({max:r.toString(),min:i.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:Ue.oB(e,{size:32,signed:t})}}(n,{signed:e,size:Number(t)})}if(r.type.startsWith("bytes"))return function(e,{type:t}){const[,n]=t.split("bytes"),r=Ue.Ej(e);if(!n){let t=e;return r%32!=0&&(t=Ue.M7(t,32*Math.ceil((e.length-2)/2/32))),{dynamic:!0,encoded:Ue.xW(Ue.Ho(Ue.oB(r,{size:32})),t)}}if(r!==Number.parseInt(n,10))throw new Kt({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ue.M7(e)}}(n,{type:r.type});if("string"===r.type)return function(e){const t=Ue.sH(e),n=Math.ceil(Ue.Ej(t)/32),r=[];for(let e=0;e<n;e++)r.push(Ue.M7(Ue.di(t,32*e,32*(e+1))));return{dynamic:!0,encoded:Ue.xW(Ue.M7(Ue.oB(Ue.Ej(t),{size:32})),...r)}}(n);throw new Yt(r.type)}function Rt(e){let t=0;for(let n=0;n<e.length;n++){const{dynamic:r,encoded:i}=e[n];t+=r?32:Ue.Ej(i)}const n=[],r=[];let i=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?(n.push(Ue.oB(t+i,{size:32})),r.push(a),i+=Ue.Ej(a)):n.push(a)}return Ue.xW(...n,...r)}function $t(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Mt(e){const{type:t}=e;if("string"===t)return!0;if("bytes"===t)return!0;if(t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(Mt);const n=$t(e.type);return!(!n||!Mt({...e,type:n[1]}))}const Lt={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Dt({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Ut({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Bt({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Bt({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};class Bt extends Le.C{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class Ut extends Le.C{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class Dt extends Le.C{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function Ft(e,t,n){const{checksumAddress:r=!1}=n??{};if(e.length!==t.length)throw new Gt({expectedLength:e.length,givenLength:t.length});const i=function({checksumAddress:e,parameters:t,values:n}){const r=[];for(let i=0;i<t.length;i++)r.push(Nt({checksumAddress:e,parameter:t[i],value:n[i]}));return r}({checksumAddress:r,parameters:e,values:t}),s=Rt(i);return 0===s.length?"0x":s}function zt(e,t){if(e.length!==t.length)throw new Gt({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const i=e[r],s=t[r];n.push(zt.encode(i,s))}return Ue.xW(...n)}function Wt(e){return Array.isArray(e)&&"string"==typeof e[0]||"string"==typeof e?function(e){const t=[];if("string"==typeof e){const n=(0,$e.NV)(e),r=n.length;for(let e=0;e<r;e++)t.push((0,$e.Pj)(n[e],{modifiers:Ne.Dv}))}else{const n=(0,Re.e)(e),r=e.length;for(let i=0;i<r;i++){const r=e[i];if((0,Ne.WL)(r))continue;const s=(0,$e.NV)(r),o=s.length;for(let e=0;e<o;e++)t.push((0,$e.Pj)(s[e],{modifiers:Ne.Dv,structs:n}))}}if(0===t.length)throw new _t.A9({params:e});return t}(e):e}!function(e){e.encode=function e(t,n,r=!1){if("address"===t){const e=n;return lt(e),Ue.Ho(e.toLowerCase(),r?32:0)}if("string"===t)return Ue.sH(n);if("bytes"===t)return n;if("bool"===t)return Ue.Ho(Ue.xb(n),r?32:1);const i=t.match(At);if(i){const[e,t,s="256"]=i,o=Number.parseInt(s,10)/8;return Ue.oB(n,{size:r?32:o,signed:"int"===t})}const s=t.match(It);if(s){const[e,t]=s;if(Number.parseInt(t,10)!==(n.length-2)/2)throw new Kt({expectedSize:Number.parseInt(t,10),value:n});return Ue.M7(n,r?32:0)}const o=t.match(St);if(o&&Array.isArray(n)){const[t,r]=o,i=[];for(let t=0;t<n.length;t++)i.push(e(r,n[t],!0));return 0===i.length?"0x":Ue.xW(...i)}throw new Yt(t)}}(zt||(zt={}));class qt extends Le.C{constructor({data:e,parameters:t,size:n}){super(`Data size of ${n} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Ct.Q(t)})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class Ht extends Le.C{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Vt extends Le.C{constructor({expectedLength:e,givenLength:t,type:n}){super(`Array length mismatch for type \`${n}\`. Expected: \`${e}\`. Given: \`${t}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Kt extends Le.C{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${Ue.Ej(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Gt extends Le.C{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${t}`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Zt extends Le.C{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Yt extends Le.C{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function Jt(e){const t=e.find(e=>"constructor"===e.type);if(!t)throw new kt({name:"constructor"});return t}function Qt(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[t,n,r]=e;return[en(t,n,{args:r}),r]}const[t,n]=e;return[t,n]})(),{overloads:r}=t,i=r?en([t,...r],t.name,{args:n}):t,s=vt(i),o=n.length>0?Ft(i.inputs,n):void 0;return o?Ue.xW(s,o):s}function Xt(e,t={}){return wt(e,t)}function en(e,t,n){const r=bt(e,t,n);if("function"!==r.type)throw new kt({name:t,type:"function"});return r}const tn="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",nn="0x0000000000000000000000000000000000000000",rn="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function sn(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}const on="0x6492649264926492649264926492649264926492649264926492649264926492";class an extends Le.C{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function cn(e,t={}){const{recovered:n}=t;if(void 0===e.r)throw new hn({signature:e});if(void 0===e.s)throw new hn({signature:e});if(n&&void 0===e.yParity)throw new hn({signature:e});if(e.r<0n||e.r>Tt)throw new fn({value:e.r});if(e.s<0n||e.s>Tt)throw new pn({value:e.s});if("number"==typeof e.yParity&&0!==e.yParity&&1!==e.yParity)throw new gn({value:e.yParity})}function ln(e){if(130!==e.length&&132!==e.length)throw new dn({signature:e});const t=BigInt(Ue.di(e,0,32)),n=BigInt(Ue.di(e,32,64)),r=(()=>{const t=Number(`0x${e.slice(130)}`);if(!Number.isNaN(t))try{return un(t)}catch{throw new gn({value:t})}})();return void 0===r?{r:t,s:n}:{r:t,s:n,yParity:r}}function un(e){if(0===e||27===e)return 0;if(1===e||28===e)return 1;if(e>=35)return e%2==0?1:0;throw new mn({value:e})}class dn extends Le.C{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Ue.Ej(Ue.HT(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class hn extends Le.C{constructor({signature:e}){super(`Signature \`${He.A(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class fn extends Le.C{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class pn extends Le.C{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class gn extends Le.C{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class mn extends Le.C{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function yn(e,t={}){return"string"==typeof e.chainId?function(e){const{address:t,chainId:n,nonce:r}=e,i=function(e){if(void 0!==e.r&&void 0!==e.s)return function(e){const t="string"==typeof e?ln(e):e instanceof Uint8Array?function(e){return ln(Ue.uK(e))}(e):"string"==typeof e.r?function(e){const t=(()=>{const t=e.v?Number(e.v):void 0;let n=e.yParity?Number(e.yParity):void 0;if("number"==typeof t&&"number"!=typeof n&&(n=un(t)),"number"!=typeof n)throw new gn({value:e.yParity});return n})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}(e):e.v?function(e){return{r:e.r,s:e.s,yParity:un(e.v)}}(e):{r:e.r,s:e.s,...void 0!==e.yParity?{yParity:e.yParity}:{}};return cn(t),t}(e)}(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...i}}(e):{...e,...t.signature}}const wn="0x8010801080108010801080108010801080108010801080108010801080108010",bn=Wt("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function vn(e){if("string"==typeof e){if(Ue.di(e,-32)!==wn)throw new En(e)}else cn(e.authorization)}function xn(e){vn(e);const t=Ue.Ro(Ue.di(e,-64,-32)),n=Ue.di(e,-t-64,-64),r=Ue.di(e,0,-t-64),[i,s,o]=function(e,t,n={}){const{as:r="Array",checksumAddress:i=!1}=n,s="string"==typeof t?Ge(t):t,o=function(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Lt);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}(s);if(0===Ze(s)&&e.length>0)throw new Ht;if(Ze(s)&&Ze(s)<32)throw new qt({data:"string"==typeof t?t:Ue.uK(t),parameters:e,size:Ze(s)});let a=0;const c="Array"===r?[]:{};for(let t=0;t<e.length;++t){const n=e[t];o.setPosition(a);const[s,l]=Pt(o,n,{checksumAddress:i,staticPosition:0});a+=l,"Array"===r?c.push(s):c[n.name??t]=s}return c}(bn,n);return{authorization:yn({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:r,...o&&"0x"!==o?{data:o,to:s}:{}}}class En extends Le.C{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}var kn=n(5842),_n=n(4569),Cn=n(7529),Sn=n(8367),In=n(776);async function An(e,t){const{address:n,hash:i,erc6492VerifierAddress:o=t.universalSignatureVerifierAddress??e.chain?.contracts?.erc6492Verifier?.address,multicallAddress:a=t.multicallAddress??e.chain?.contracts?.multicall3?.address}=t,l=(()=>{const e=t.signature;return(0,m.q)(e)?e:"object"==typeof e&&"r"in e&&"s"in e?function({r:e,s:t,to:n="hex",v:r,yParity:i}){const s=(()=>{if(0===i||1===i)return i;if(r&&(27n===r||28n===r||r>=35n))return r%2n==0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new In.secp256k1.Signature((0,le.uU)(e),(0,le.uU)(t)).toCompactHex()}${0===s?"1b":"1c"}`;return"hex"===n?o:(0,p.aT)(o)}(e):(0,c.My)(e)})();try{return function(e){try{return vn(e),!0}catch{return!1}}(l)?await async function(e,t){const{address:n,blockNumber:i,blockTag:o,hash:a,multicallAddress:l}=t,{authorization:d,data:h,signature:p,to:g}=xn(t.signature);if(await(0,de.Q)(e,{address:n,blockNumber:i,blockTag:o})===(0,f.aP)(["0xef0100",d.address]))return await async function(e,t){const{address:n,blockNumber:i,blockTag:s,hash:o,signature:a}=t;if((await(0,E.T)(e,k.J,"readContract")({address:n,abi:r.UW,args:[o,a],blockNumber:i,blockTag:s,functionName:"isValidSignature"}).catch(e=>{if(e instanceof u.bG)throw new Tn;throw e})).startsWith("0x1626ba7e"))return!0;throw new Tn}(e,{address:n,blockNumber:i,blockTag:o,hash:a,signature:p});const m={address:d.address,chainId:Number(d.chainId),nonce:Number(d.nonce),r:(0,c.cK)(d.r,{size:32}),s:(0,c.cK)(d.s,{size:32}),yParity:d.yParity},y=await async function({address:e,authorization:t,signature:n}){return(0,he.h)((0,_n.b)(e),await(0,Cn.g)({authorization:t,signature:n}))}({address:n,authorization:m});if(!y)throw new Tn;const w=await(0,E.T)(e,k.J,"readContract")({...l?{address:l}:{code:Ce.Ez},authorizationList:[m],abi:r.v2,blockNumber:i,blockTag:"pending",functionName:"aggregate3",args:[[...h?[{allowFailure:!0,target:g??n,callData:h}]:[],{allowFailure:!0,target:n,callData:(0,s.p)({abi:r.UW,functionName:"isValidSignature",args:[a,p]})}]]}),b=w[w.length-1]?.returnData;if(b?.startsWith("0x1626ba7e"))return!0;throw new Tn}(e,{...t,multicallAddress:a,signature:l}):await async function(e,t){const{address:n,factory:i,factoryData:o,hash:a,signature:c,verifierAddress:l,...d}=t,h=await(async()=>i||o?function(e){try{return function(e){if(Ue.di(e,-32)!==on)throw new an(e)}(e),!0}catch{return!1}}(c)?c:function(e){const{data:t,signature:n,to:r}=e;return Ue.xW(Ft(Wt("address, bytes, bytes"),[r,t,n]),on)}({data:o,signature:c,to:i}):c)(),f=l?{to:l,data:(0,s.p)({abi:r.E5,functionName:"isValidSig",args:[n,a,h]}),...d}:{data:(0,kn.m)({abi:r.E5,args:[n,a,h],bytecode:Ce.fT}),...d},{data:p}=await(0,E.T)(e,L.T,"call")(f).catch(e=>{if(e instanceof u.zX)throw new Tn;throw e});if((0,le.Nx)(p??"0x0"))return!0;throw new Tn}(e,{...t,verifierAddress:o,signature:l})}catch(e){try{if((0,he.h)((0,_n.b)(n),await(0,Sn.x)({hash:i,signature:l})))return!0}catch{}if(e instanceof Tn)return!1;throw e}}class Tn extends Error{}var Pn=n(2579),On=n(4427),jn=n(6488),Nn=n(3255),Rn=n(9726),$n=n(5213),Mn=n(8463),Ln=n(7513);const Bn=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Un=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;var Dn=n(9873);var Fn=n(7614),zn=n(8498),Wn=n(9497);function qn(e){return{call:t=>(0,L.T)(e,t),createAccessList:t=>W(e,t),createBlockFilter:()=>async function(e){const t=q(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}(e),createContractEventFilter:t=>ee(e,t),createEventFilter:t=>te(e,t),createPendingTransactionFilter:()=>ne(e),estimateContractGas:t=>async function(e,t){const{abi:n,address:r,args:i,functionName:o,dataSuffix:a,...c}=t,l=(0,s.p)({abi:n,args:i,functionName:o});try{return await(0,E.T)(e,ie.Q,"estimateGas")({data:`${l}${a?a.replace("0x",""):""}`,to:r,...c})}catch(e){const t=c.account?(0,B.J)(c.account):void 0;throw(0,re.j)(e,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:t?.address})}}(e,t),estimateGas:t=>(0,ie.Q)(e,t),getBalance:t=>async function(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const i="bigint"==typeof n?(0,c.cK)(n):void 0,s=await e.request({method:"eth_getBalance",params:[t,i||r]});return BigInt(s)}(e,t),getBlobBaseFee:()=>async function(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}(e),getBlock:t=>(0,ae.g)(e,t),getBlockNumber:t=>(0,ce.G)(e,t),getBlockTransactionCount:t=>async function(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const i=void 0!==n?(0,c.cK)(n):void 0;let s;return s=t?await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):await e.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:Boolean(i)}),(0,le.ME)(s)}(e,t),getBytecode:t=>(0,de.Q)(e,t),getChainId:()=>(0,ue.T)(e),getCode:t=>(0,de.Q)(e,t),getContractEvents:t=>ye(e,t),getEip712Domain:t=>async function(e,t){const{address:n,factory:r,factoryData:i}=t;try{const[t,s,o,a,c,l,u]=await(0,E.T)(e,k.J,"readContract")({abi:be,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:s,version:o,chainId:Number(a),verifyingContract:c,salt:l},extensions:u,fields:t}}catch(e){const t=e;if("ContractFunctionExecutionError"===t.name&&"ContractFunctionZeroDataError"===t.cause.name)throw new we({address:n});throw t}}(e,t),getEnsAddress:t=>async function(e,t){const{blockNumber:n,blockTag:l,coinType:u,name:f,gatewayUrls:p,strict:g}=t,{chain:m}=e,y=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!m)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,o.M)({blockNumber:n,chain:m,contract:"ensUniversalResolver"})})(),b=m?.ensTlds;if(b&&!b.some(e=>f.endsWith(e)))return null;const v=null!=u?[w(f),BigInt(u)]:[w(f)];try{const t=(0,s.p)({abi:r.Rm,functionName:"addr",args:v}),o={address:y,abi:r.Ag,functionName:"resolveWithGateways",args:[(0,c.nj)(x(f)),t,p??[h.J]],blockNumber:n,blockTag:l},u=(0,E.T)(e,k.J,"readContract"),d=await u(o);if("0x"===d[0])return null;const g=(0,i.e)({abi:r.Rm,args:v,functionName:"addr",data:d[0]});return"0x"===g||"0x00"===(0,a.B)(g)?null:g}catch(e){if(g)throw e;if(d(e))return null;throw e}}(e,t),getEnsAvatar:t=>async function(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const c=await(0,E.T)(e,M,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!c)return null;try{return await async function(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?async function(e,{gatewayUrls:t,record:n}){const r=function(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=t.split("/"),[s,o]=n.split(":"),[a,c]=r.split(":");if(!s||"eip155"!==s.toLowerCase())throw new C({reason:"Only EIP-155 supported"});if(!o)throw new C({reason:"Chain ID not found"});if(!c)throw new C({reason:"Contract address not found"});if(!i)throw new C({reason:"Token ID not found"});if(!a)throw new C({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:i}}(n),i=await async function(e,{nft:t}){if("erc721"===t.namespace)return(0,k.J)(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if("erc1155"===t.namespace)return(0,k.J)(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new I({namespace:t.namespace})}(e,{nft:r}),{uri:s,isOnChain:o,isEncoded:a}=N({uri:i,gatewayUrls:t});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const e=a?atob(s.replace("data:application/json;base64,","")):s;return $({uri:R(JSON.parse(e)),gatewayUrls:t})}let c=r.tokenID;return"erc1155"===r.namespace&&(c=c.replace("0x","").padStart(64,"0")),async function({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(e=>e.json());return await $({gatewayUrls:e,uri:R(n)})}catch{throw new S({uri:t})}}({gatewayUrls:t,uri:s.replace(/(?:0x)?{id}/,c)})}(e,{gatewayUrls:t,record:n}):$({uri:n,gatewayUrls:t})}(e,{record:c,gatewayUrls:r})}catch{return null}}(e,t),getEnsName:t=>async function(e,t){const{address:n,blockNumber:i,blockTag:s,coinType:a=60n,gatewayUrls:c,strict:l}=t,{chain:u}=e,f=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!u)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,o.M)({blockNumber:i,chain:u,contract:"ensUniversalResolver"})})();try{const t={address:f,abi:r.oX,args:[n,a,c??[h.J]],functionName:"reverseWithGateways",blockNumber:i,blockTag:s},o=(0,E.T)(e,k.J,"readContract"),[l]=await o(t);return l||null}catch(e){if(l)throw e;if(d(e))return null;throw e}}(e,t),getEnsResolver:t=>async function(e,t){const{blockNumber:n,blockTag:r,name:i}=t,{chain:s}=e,a=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,o.M)({blockNumber:n,chain:s,contract:"ensUniversalResolver"})})(),l=s?.ensTlds;if(l&&!l.some(e=>i.endsWith(e)))throw new Error(`${i} is not a valid ENS TLD (${l?.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);const[u]=await(0,E.T)(e,k.J,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,c.nj)(x(i))],blockNumber:n,blockTag:r});return u}(e,t),getEnsText:t=>M(e,t),getFeeHistory:t=>async function(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const s="bigint"==typeof n?(0,c.cK)(n):void 0;return{baseFeePerGas:(o=await e.request({method:"eth_feeHistory",params:[(0,c.cK)(t),s||r,i]},{dedupe:Boolean(s)})).baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:o.gasUsedRatio,oldestBlock:BigInt(o.oldestBlock),reward:o.reward?.map(e=>e.map(e=>BigInt(e)))};var o}(e,t),estimateFeesPerGas:t=>(0,se._)(e,t),getFilterChanges:e=>ve(0,e),getFilterLogs:e=>async function(e,{filter:t}){const n=t.strict??!1,r=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(e=>(0,ge.e)(e));return t.abi?pe({abi:t.abi,logs:r,strict:n}):r}(0,e),getGasPrice:()=>(0,xe.L)(e),getLogs:t=>me(e,t),getProof:t=>async function(e,{address:t,blockNumber:n,blockTag:r,storageKeys:i}){const s=r??"latest",o=void 0!==n?(0,c.cK)(n):void 0;return a=await e.request({method:"eth_getProof",params:[t,i,o||s]}),{...a,balance:a.balance?BigInt(a.balance):void 0,nonce:a.nonce?(0,le.ME)(a.nonce):void 0,storageProof:a.storageProof?(l=a.storageProof,l.map(e=>({...e,value:BigInt(e.value)}))):void 0};var a,l}(e,t),estimateMaxPriorityFeePerGas:t=>(0,oe.b)(e,t),getStorageAt:t=>async function(e,{address:t,blockNumber:n,blockTag:r="latest",slot:i}){const s=void 0!==n?(0,c.cK)(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,i,s||r]})}(e,t),getTransaction:t=>(0,Ee.x)(e,t),getTransactionConfirmations:t=>async function(e,{hash:t,transactionReceipt:n}){const[r,i]=await Promise.all([(0,E.T)(e,ce.G,"getBlockNumber")({}),t?(0,E.T)(e,Ee.x,"getTransaction")({hash:t}):void 0]),s=n?.blockNumber||i?.blockNumber;return s?r-s+1n:0n}(e,t),getTransactionCount:t=>(0,ke.y)(e,t),getTransactionReceipt:t=>(0,_e.h)(e,t),multicall:t=>async function(e,t){const{account:n,authorizationList:a,allowFailure:c=!0,blockNumber:d,blockOverrides:h,blockTag:f,stateOverride:p}=t,g=t.contracts,{batchSize:m=t.batchSize??1024,deployless:y=t.deployless??!1}="object"==typeof e.batch?.multicall?e.batch.multicall:{},w=(()=>{if(t.multicallAddress)return t.multicallAddress;if(y)return null;if(e.chain)return(0,o.M)({blockNumber:d,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),b=[[]];let v=0,x=0;for(let e=0;e<g.length;e++){const{abi:t,address:r,args:i,functionName:o}=g[e];try{const e=(0,s.p)({abi:t,args:i,functionName:o});x+=(e.length-2)/2,m>0&&x>m&&b[v].length>0&&(v++,x=(e.length-2)/2,b[v]=[]),b[v]=[...b[v],{allowFailure:!0,callData:e,target:r}]}catch(e){const s=(0,re.j)(e,{abi:t,address:r,args:i,docsPath:"/docs/contract/multicall",functionName:o,sender:n});if(!c)throw s;b[v]=[...b[v],{allowFailure:!0,callData:"0x",target:r}]}}const _=await Promise.allSettled(b.map(t=>(0,E.T)(e,k.J,"readContract")({...null===w?{code:Ce.Ez}:{address:w},abi:r.v2,account:n,args:[t],authorizationList:a,blockNumber:d,blockOverrides:h,blockTag:f,functionName:"aggregate3",stateOverride:p}))),C=[];for(let e=0;e<_.length;e++){const t=_[e];if("rejected"===t.status){if(!c)throw t.reason;for(let n=0;n<b[e].length;n++)C.push({status:"failure",error:t.reason,result:void 0});continue}const n=t.value;for(let t=0;t<n.length;t++){const{returnData:r,success:s}=n[t],{callData:o}=b[e][t],{abi:a,address:l,functionName:d,args:h}=g[C.length];try{if("0x"===o)throw new H.O;if(!s)throw new u.$S({data:r});const e=(0,i.e)({abi:a,args:h,data:r,functionName:d});C.push(c?{result:e,status:"success"}:e)}catch(e){const t=(0,re.j)(e,{abi:a,address:l,args:h,docsPath:"/docs/contract/multicall",functionName:d});if(!c)throw t;C.push({error:t,result:void 0,status:"failure"})}}}if(C.length!==g.length)throw new l.C("multicall results mismatch");return C}(e,t),prepareTransactionRequest:t=>(0,Fn.ft)(e,t),readContract:t=>(0,k.J)(e,t),sendRawTransaction:t=>(0,zn.L)(e,t),sendRawTransactionSync:t=>(0,Wn.s)(e,t),simulate:t=>Oe(e,t),simulateBlocks:t=>Oe(e,t),simulateCalls:t=>async function(e,t){const{blockNumber:n,blockTag:r,calls:i,stateOverrides:o,traceAssetChanges:a,traceTransfers:c,validation:u}=t,d=t.account?(0,B.J)(t.account):void 0;if(a&&!d)throw new l.C("`account` is required when `traceAssetChanges` is true");const h=d?function(...e){const[t,n]=(()=>{if(Array.isArray(e[0])){const[t,n]=e;return[Jt(t),n]}return e})(),{bytecode:r,args:i}=n;return Ue.xW(r,t.inputs?.length&&i?.length?Ft(t.inputs,i):"0x")}(wt("constructor(bytes, bytes)"),{bytecode:Ce.LX,args:[rn,Qt(Xt("function getBalance(address)"),[d.address])]}):void 0,f=a?await Promise.all(t.calls.map(async t=>{if(!t.data&&!t.abi)return;const{accessList:n}=await W(e,{account:d.address,...t,data:t.abi?(0,s.p)(t):t.data});return n.map(({address:e,storageKeys:t})=>t.length>0?e:null)})).then(e=>e.flat().filter(Boolean)):[],p=await Oe(e,{blockNumber:n,blockTag:r,blocks:[...a?[{calls:[{data:h}],stateOverrides:o},{calls:f.map((e,t)=>({abi:[Xt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[d.address],to:e,from:nn,nonce:t})),stateOverrides:[{address:nn,nonce:0}]}]:[],{calls:[...i,{}].map(e=>({...e,from:d?.address})),stateOverrides:o},...a?[{calls:[{data:h}]},{calls:f.map((e,t)=>({abi:[Xt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[d.address],to:e,from:nn,nonce:t})),stateOverrides:[{address:nn,nonce:0}]},{calls:f.map((e,t)=>({to:e,abi:[Xt("function decimals() returns (uint256)")],functionName:"decimals",from:nn,nonce:t})),stateOverrides:[{address:nn,nonce:0}]},{calls:f.map((e,t)=>({to:e,abi:[Xt("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:nn,nonce:t})),stateOverrides:[{address:nn,nonce:0}]},{calls:f.map((e,t)=>({to:e,abi:[Xt("function symbol() returns (string)")],functionName:"symbol",from:nn,nonce:t})),stateOverrides:[{address:nn,nonce:0}]}]:[]],traceTransfers:c,validation:u}),g=a?p[2]:p[0],[m,y,,w,b,v,x,E]=a?p:[],{calls:k,..._}=g,C=k.slice(0,-1)??[],S=[...m?.calls??[],...y?.calls??[]].map(e=>"success"===e.status?(0,le.uU)(e.data):null),I=[...w?.calls??[],...b?.calls??[]].map(e=>"success"===e.status?(0,le.uU)(e.data):null),A=(v?.calls??[]).map(e=>"success"===e.status?e.result:null),T=(E?.calls??[]).map(e=>"success"===e.status?e.result:null),P=(x?.calls??[]).map(e=>"success"===e.status?e.result:null),O=[];for(const[e,t]of I.entries()){const n=S[e];if("bigint"!=typeof t)continue;if("bigint"!=typeof n)continue;const r=A[e-1],i=T[e-1],s=P[e-1],o=(()=>0===e?{address:tn,decimals:18,symbol:"ETH"}:{address:f[e-1],decimals:s||r?Number(r??1):void 0,symbol:i??void 0})();O.some(e=>e.token.address===o.address)||O.push({token:o,value:{pre:n,post:t,diff:t-n}})}return{assetChanges:O,block:_,results:C}}(e,t),simulateContract:t=>async function(e,t){const{abi:n,address:r,args:o,dataSuffix:a,functionName:c,...l}=t,u=l.account?(0,B.J)(l.account):e.account,d=(0,s.p)({abi:n,args:o,functionName:c});try{const{data:s}=await(0,E.T)(e,L.T,"call")({batch:!1,data:`${d}${a?a.replace("0x",""):""}`,to:r,...l,account:u});return{result:(0,i.e)({abi:n,args:o,functionName:c,data:s||"0x"}),request:{abi:n.filter(e=>"name"in e&&e.name===t.functionName),address:r,args:o,dataSuffix:a,functionName:c,...l,account:u}}}catch(e){throw(0,re.j)(e,{abi:n,address:r,args:o,docsPath:"/docs/contract/simulateContract",functionName:c,sender:u?.address})}}(e,t),verifyHash:t=>An(e,t),verifyMessage:t=>async function(e,{address:t,message:n,factory:r,factoryData:i,signature:s,...o}){return An(e,{address:t,factory:r,factoryData:i,hash:(0,Pn.A)(n),signature:s,...o})}(e,t),verifySiweMessage:t=>async function(e,t){const{address:n,domain:r,message:i,nonce:s,scheme:o,signature:a,time:c=new Date,...l}=t,u=function(e){const{scheme:t,statement:n,...r}=e.match(Bn)?.groups??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:c,...l}=e.match(Un)?.groups??{},u=e.split("Resources:")[1]?.split("\n- ").slice(1);return{...r,...l,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...u?{resources:u}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}(i);if(!u.address)return!1;if(!function(e){const{address:t,domain:n,message:r,nonce:i,scheme:s,time:o=new Date}=e;if(n&&r.domain!==n)return!1;if(i&&r.nonce!==i)return!1;if(s&&r.scheme!==s)return!1;if(r.expirationTime&&o>=r.expirationTime)return!1;if(r.notBefore&&o<r.notBefore)return!1;try{if(!r.address)return!1;if(!(0,Dn.P)(r.address,{strict:!1}))return!1;if(t&&!(0,he.h)(r.address,t))return!1}catch{return!1}return!0}({address:n,domain:r,message:u,nonce:s,scheme:o,time:c}))return!1;const d=(0,Pn.A)(i);return An(e,{address:u.address,hash:d,signature:a,...l})}(e,t),verifyTypedData:t=>async function(e,t){const{address:n,factory:r,factoryData:i,signature:s,message:o,primaryType:a,types:c,domain:l,...u}=t;return An(e,{address:n,factory:r,factoryData:i,hash:(0,On.Zh)({message:o,primaryType:a,types:c,domain:l}),signature:s,...u})}(e,t),uninstallFilter:e=>sn(0,e),waitForTransactionReceipt:t=>(0,jn.n)(e,t),watchBlocks:t=>function(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:s,includeTransactions:o,poll:a,pollingInterval:c=e.pollingInterval}){const l=void 0!==a?a:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type),u=o??!1;let d;return l?(()=>{const o=(0,Mn.A)(["watchBlocks",e.uid,t,n,r,u,c]);return(0,Rn.lB)(o,{onBlock:i,onError:s},i=>(0,$n.w)(async()=>{try{const r=await(0,E.T)(e,ae.g,"getBlock")({blockTag:t,includeTransactions:u});if(null!==r.number&&null!=d?.number){if(r.number===d.number)return;if(r.number-d.number>1&&n)for(let t=d?.number+1n;t<r.number;t++){const n=await(0,E.T)(e,ae.g,"getBlock")({blockNumber:t,includeTransactions:u});i.onBlock(n,d),d=n}}(null==d?.number||"pending"===t&&null==r?.number||null!==r.number&&r.number>d.number)&&(i.onBlock(r,d),d=r)}catch(e){i.onError?.(e)}},{emitOnBegin:r,interval:c}))})():(()=>{let n=!0,o=!0,a=()=>n=!1;return(async()=>{try{r&&(0,E.T)(e,ae.g,"getBlock")({blockTag:t,includeTransactions:u}).then(e=>{n&&o&&(i(e,void 0),o=!1)}).catch(s);const c=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:l}=await c.subscribe({params:["newHeads"],async onData(t){if(!n)return;const r=await(0,E.T)(e,ae.g,"getBlock")({blockNumber:t.result?.number,includeTransactions:u}).catch(()=>{});n&&(i(r,d),o=!1,d=r)},onError(e){s?.(e)}});a=l,n||a()}catch(e){s?.(e)}})(),()=>a()})()}(e,t),watchBlockNumber:t=>(0,Nn.q)(e,t),watchContractEvent:t=>function(e,t){const{abi:n,address:r,args:i,batch:s=!0,eventName:o,fromBlock:a,onError:c,onLogs:l,poll:u,pollingInterval:d=e.pollingInterval,strict:h}=t;return(void 0!==u?u:"bigint"==typeof a||"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type))?(()=>{const t=h??!1,u=(0,Mn.A)(["watchContractEvent",r,i,s,e.uid,o,d,t,a]);return(0,Rn.lB)(u,{onLogs:l,onError:c},c=>{let l,u;void 0!==a&&(l=a-1n);let h=!1;const f=(0,$n.w)(async()=>{if(h)try{let a;if(u)a=await(0,E.T)(e,ve,"getFilterChanges")({filter:u});else{const s=await(0,E.T)(e,ce.G,"getBlockNumber")({});a=l&&l<s?await(0,E.T)(e,ye,"getContractEvents")({abi:n,address:r,args:i,eventName:o,fromBlock:l+1n,toBlock:s,strict:t}):[],l=s}if(0===a.length)return;if(s)c.onLogs(a);else for(const e of a)c.onLogs([e])}catch(e){u&&e instanceof Ln.Di&&(h=!1),c.onError?.(e)}else{try{u=await(0,E.T)(e,ee,"createContractEventFilter")({abi:n,address:r,args:i,eventName:o,strict:t,fromBlock:a})}catch{}h=!0}},{emitOnBegin:!0,interval:d});return async()=>{u&&await(0,E.T)(e,sn,"uninstallFilter")({filter:u}),f()}})})():(()=>{const t=h??!1,a=(0,Mn.A)(["watchContractEvent",r,i,s,e.uid,o,d,t]);let u=!0,f=()=>u=!1;return(0,Rn.lB)(a,{onLogs:l,onError:c},t=>((async()=>{try{const s=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),a=o?Q({abi:n,eventName:o,args:i}):[],{unsubscribe:c}=await s.subscribe({params:["logs",{address:r,topics:a}],onData(e){if(!u)return;const r=e.result;try{const{eventName:e,args:i}=(0,fe.j)({abi:n,data:r.data,topics:r.topics,strict:h}),s=(0,ge.e)(r,{args:i,eventName:e});t.onLogs([s])}catch(e){let n,i;if(e instanceof H.fo||e instanceof H.l3){if(h)return;n=e.abiItem.name,i=e.abiItem.inputs?.some(e=>!("name"in e&&e.name))}const s=(0,ge.e)(r,{args:i?[]:{},eventName:n});t.onLogs([s])}},onError(e){t.onError?.(e)}});f=c,u||f()}catch(e){c?.(e)}})(),()=>f()))})()}(e,t),watchEvent:t=>function(e,{address:t,args:n,batch:r=!0,event:i,events:s,fromBlock:o,onError:a,onLogs:c,poll:l,pollingInterval:u=e.pollingInterval,strict:d}){const h=void 0!==l?l:"bigint"==typeof o||"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type),f=d??!1;return h?(()=>{const l=(0,Mn.A)(["watchEvent",t,n,r,e.uid,i,u,o]);return(0,Rn.lB)(l,{onLogs:c,onError:a},a=>{let c,l;void 0!==o&&(c=o-1n);let d=!1;const h=(0,$n.w)(async()=>{if(d)try{let o;if(l)o=await(0,E.T)(e,ve,"getFilterChanges")({filter:l});else{const r=await(0,E.T)(e,ce.G,"getBlockNumber")({});o=c&&c!==r?await(0,E.T)(e,me,"getLogs")({address:t,args:n,event:i,events:s,fromBlock:c+1n,toBlock:r}):[],c=r}if(0===o.length)return;if(r)a.onLogs(o);else for(const e of o)a.onLogs([e])}catch(e){l&&e instanceof Ln.Di&&(d=!1),a.onError?.(e)}else{try{l=await(0,E.T)(e,te,"createEventFilter")({address:t,args:n,event:i,events:s,strict:f,fromBlock:o})}catch{}d=!0}},{emitOnBegin:!0,interval:u});return async()=>{l&&await(0,E.T)(e,sn,"uninstallFilter")({filter:l}),h()}})})():(()=>{let r=!0,o=()=>r=!1;return(async()=>{try{const l=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),u=s??(i?[i]:void 0);let h=[];if(u){const e=u.flatMap(e=>Q({abi:[e],eventName:e.name,args:n}));h=[e],i&&(h=h[0])}const{unsubscribe:p}=await l.subscribe({params:["logs",{address:t,topics:h}],onData(e){if(!r)return;const t=e.result;try{const{eventName:e,args:n}=(0,fe.j)({abi:u??[],data:t.data,topics:t.topics,strict:f}),r=(0,ge.e)(t,{args:n,eventName:e});c([r])}catch(e){let n,r;if(e instanceof H.fo||e instanceof H.l3){if(d)return;n=e.abiItem.name,r=e.abiItem.inputs?.some(e=>!("name"in e&&e.name))}const i=(0,ge.e)(t,{args:r?[]:{},eventName:n});c([i])}},onError(e){a?.(e)}});o=p,r||o()}catch(e){a?.(e)}})(),()=>o()})()}(e,t),watchPendingTransactions:t=>function(e,{batch:t=!0,onError:n,onTransactions:r,poll:i,pollingInterval:s=e.pollingInterval}){return(void 0!==i?i:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type)?(()=>{const i=(0,Mn.A)(["watchPendingTransactions",e.uid,t,s]);return(0,Rn.lB)(i,{onTransactions:r,onError:n},n=>{let r;const i=(0,$n.w)(async()=>{try{if(!r)try{return void(r=await(0,E.T)(e,ne,"createPendingTransactionFilter")({}))}catch(e){throw i(),e}const s=await(0,E.T)(e,ve,"getFilterChanges")({filter:r});if(0===s.length)return;if(t)n.onTransactions(s);else for(const e of s)n.onTransactions([e])}catch(e){n.onError?.(e)}},{emitOnBegin:!0,interval:s});return async()=>{r&&await(0,E.T)(e,sn,"uninstallFilter")({filter:r}),i()}})})():(()=>{let t=!0,i=()=>t=!1;return(async()=>{try{const{unsubscribe:s}=await e.transport.subscribe({params:["newPendingTransactions"],onData(e){if(!t)return;const n=e.result;r([n])},onError(e){n?.(e)}});i=s,t||i()}catch(e){n?.(e)}})(),()=>i()})()}(e,t)}}},2634:(e,t,n)=>{"use strict";n.d(t,{v4:()=>r.A});var r=n(4011)},2650:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Room=void 0;const o=s(n(4654)),a=n(4033),c=n(837),l=n(1204),u=n(7850),d=n(2513),h=n(7118),f=n(2438);class p{constructor(e,t){this.onStateChange=(0,d.createSignal)(),this.onError=(0,d.createSignal)(),this.onLeave=(0,d.createSignal)(),this.onJoin=(0,d.createSignal)(),this.hasJoined=!1,this.onMessageHandlers=(0,u.createNanoEvents)(),this.roomId=null,this.name=e,t&&(this.serializer=new((0,l.getSerializer)("schema")),this.rootSchema=t,this.serializer.state=new t),this.onError((e,t)=>{var n;return null===(n=console.warn)||void 0===n?void 0:n.call(console,`colyseus.js - onError => (${e}) ${t}`)}),this.onLeave(()=>this.removeAllListeners())}get id(){return this.roomId}connect(e,t,n=this,r){const i=new a.Connection;n.connection=i,i.events.onmessage=p.prototype.onMessageCallback.bind(n),i.events.onclose=function(e){var r;if(!n.hasJoined)return null===(r=console.warn)||void 0===r||r.call(console,`Room connection was closed unexpectedly (${e.code}): ${e.reason}`),void n.onError.invoke(e.code,e.reason);e.code===f.CloseCode.DEVMODE_RESTART&&t?t():(n.onLeave.invoke(e.code,e.reason),n.destroy())},i.events.onerror=function(e){var t;null===(t=console.warn)||void 0===t||t.call(console,`Room, onError (${e.code}): ${e.reason}`),n.onError.invoke(e.code,e.reason)},i.connect(e,r)}leave(e=!0){return new Promise(t=>{this.onLeave(e=>t(e)),this.connection?e?this.connection.send([c.Protocol.LEAVE_ROOM]):this.connection.close():this.onLeave.invoke(f.CloseCode.CONSENTED)})}onMessage(e,t){return this.onMessageHandlers.on(this.getMessageHandlerKey(e),t)}send(e,t){const n=[c.Protocol.ROOM_DATA];let r;if("string"==typeof e?h.encode.string(n,e):h.encode.number(n,e),void 0!==t){const e=o.encode(t);r=new Uint8Array(n.length+e.byteLength),r.set(new Uint8Array(n),0),r.set(new Uint8Array(e),n.length)}else r=new Uint8Array(n);this.connection.send(r.buffer)}sendBytes(e,t){const n=[c.Protocol.ROOM_DATA_BYTES];let r;"string"==typeof e?h.encode.string(n,e):h.encode.number(n,e),r=new Uint8Array(n.length+(t.byteLength||t.length)),r.set(new Uint8Array(n),0),r.set(new Uint8Array(t),n.length),this.connection.send(r.buffer)}get state(){return this.serializer.getState()}removeAllListeners(){this.onJoin.clear(),this.onStateChange.clear(),this.onError.clear(),this.onLeave.clear(),this.onMessageHandlers.events={}}onMessageCallback(e){const t=Array.from(new Uint8Array(e.data)),n=t[0];if(n===c.Protocol.JOIN_ROOM){let e=1;const n=(0,c.utf8Read)(t,e);if(e+=(0,c.utf8Length)(n),this.serializerId=(0,c.utf8Read)(t,e),e+=(0,c.utf8Length)(this.serializerId),!this.serializer){const e=(0,l.getSerializer)(this.serializerId);this.serializer=new e}t.length>e&&this.serializer.handshake&&this.serializer.handshake(t,{offset:e}),this.reconnectionToken=`${this.roomId}:${n}`,this.hasJoined=!0,this.onJoin.invoke(),this.connection.send([c.Protocol.JOIN_ROOM])}else if(n===c.Protocol.ERROR){const e={offset:1},n=h.decode.number(t,e),r=h.decode.string(t,e);this.onError.invoke(n,r)}else if(n===c.Protocol.LEAVE_ROOM)this.leave();else if(n===c.Protocol.ROOM_DATA_SCHEMA){const e={offset:1},n=this.serializer.getState().constructor._context.get(h.decode.number(t,e)),r=new n;r.decode(t,e),this.dispatchMessage(n,r)}else if(n===c.Protocol.ROOM_STATE)t.shift(),this.setState(t);else if(n===c.Protocol.ROOM_STATE_PATCH)t.shift(),this.patch(t);else if(n===c.Protocol.ROOM_DATA){const n={offset:1},r=h.decode.stringCheck(t,n)?h.decode.string(t,n):h.decode.number(t,n),i=t.length>n.offset?o.decode(e.data,n.offset):void 0;this.dispatchMessage(r,i)}else if(n===c.Protocol.ROOM_DATA_BYTES){const e={offset:1},n=h.decode.stringCheck(t,e)?h.decode.string(t,e):h.decode.number(t,e);this.dispatchMessage(n,new Uint8Array(t.slice(e.offset)))}}setState(e){this.serializer.setState(e),this.onStateChange.invoke(this.serializer.getState())}patch(e){this.serializer.patch(e),this.onStateChange.invoke(this.serializer.getState())}dispatchMessage(e,t){var n;const r=this.getMessageHandlerKey(e);this.onMessageHandlers.events[r]?this.onMessageHandlers.emit(r,t):this.onMessageHandlers.events["*"]?this.onMessageHandlers.emit("*",e,t):null===(n=console.warn)||void 0===n||n.call(console,`colyseus.js: onMessage() not registered for type '${e}'.`)}destroy(){this.serializer&&this.serializer.teardown()}getMessageHandlerKey(e){switch(typeof e){case"function":return`$${e._typeid}`;case"string":return e;case"number":return`i${e}`;default:throw new Error("invalid message type.")}}}t.Room=p},2726:(e,t)=>{function n(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");const n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});const t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:r,scale:r?4:i,margin:t,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,n){const r=t.getScale(e,n);return Math.floor((e+2*n.margin)*r)},t.qrToImageData=function(e,n,r){const i=n.modules.size,s=n.modules.data,o=t.getScale(i,r),a=Math.floor((i+2*r.margin)*o),c=r.margin*o,l=[r.color.light,r.color.dark];for(let t=0;t<a;t++)for(let n=0;n<a;n++){let u=4*(t*a+n),d=r.color.light;t>=c&&n>=c&&t<a-c&&n<a-c&&(d=l[s[Math.floor((t-c)/o)*i+Math.floor((n-c)/o)]?1:0]),e[u++]=d.r,e[u++]=d.g,e[u++]=d.b,e[u]=d.a}}},2731:(e,t)=>{const n=new Uint8Array(512),r=new Uint8Array(256);!function(){let e=1;for(let t=0;t<255;t++)n[t]=e,r[e]=t,e<<=1,256&e&&(e^=285);for(let e=255;e<512;e++)n[e]=n[e-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return r[e]},t.exp=function(e){return n[e]},t.mul=function(e,t){return 0===e||0===t?0:n[r[e]+r[t]]}},2755:function(e,t,n){"use strict";var r=n(8287).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;const l=c(n(9404)),u=c(n(6763)),d=a(n(4281)),h=new("function"!=typeof TextDecoder?d.TextDecoder:TextDecoder)("utf-8",{fatal:!0});t.baseEncode=function(e){return"string"==typeof e&&(e=r.from(e,"utf8")),u.default.encode(r.from(e))},t.baseDecode=function(e){return r.from(u.default.decode(e))};const f=1024;class p extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}t.BorshError=p;class g{constructor(){this.buf=r.alloc(f),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=r.concat([this.buf,r.alloc(f)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(r.from(new l.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(r.from(new l.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(r.from(new l.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(r.from(new l.default(e).toArray("le",64)))}writeBuffer(e){this.buf=r.concat([r.from(this.buf.subarray(0,this.length)),e,r.alloc(f)]),this.length+=e.length}writeString(e){this.maybeResize();const t=r.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(r.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),t(n)}toArray(){return this.buf.subarray(0,this.length)}}function m(e,t,n){const r=n.value;n.value=function(...e){try{return r.apply(this,e)}catch(e){if(e instanceof RangeError){const t=e.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(t)>=0)throw new p("Reached the end of buffer when deserializing")}throw e}}}t.BinaryWriter=g;class y{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new l.default(e,"le")}readU128(){const e=this.readBuffer(16);return new l.default(e,"le")}readU256(){const e=this.readBuffer(32);return new l.default(e,"le")}readU512(){const e=this.readBuffer(64);return new l.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new p(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return h.decode(t)}catch(e){throw new p(`Error decoding UTF-8 string: ${e}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),n=Array();for(let r=0;r<t;++r)n.push(e());return n}}function w(e){return e.charAt(0).toUpperCase()+e.slice(1)}function b(e,t,n,r,i){try{if("string"==typeof r)i[`write${w(r)}`](n);else if(r instanceof Array)if("number"==typeof r[0]){if(n.length!==r[0])throw new p(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(2===r.length&&"number"==typeof r[1]){if(n.length!==r[1])throw new p(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let t=0;t<r[1];t++)b(e,null,n[t],r[0],i)}else i.writeArray(n,n=>{b(e,t,n,r[0],i)});else if(void 0!==r.kind)switch(r.kind){case"option":null==n?i.writeU8(0):(i.writeU8(1),b(e,t,n,r.type,i));break;case"map":i.writeU32(n.size),n.forEach((n,s)=>{b(e,t,s,r.key,i),b(e,t,n,r.value,i)});break;default:throw new p(`FieldType ${r} unrecognized`)}else v(e,n,i)}catch(e){throw e instanceof p&&e.addToFieldPath(t),e}}function v(e,t,n){if("function"==typeof t.borshSerialize)return void t.borshSerialize(n);const r=e.get(t.constructor);if(!r)throw new p(`Class ${t.constructor.name} is missing in schema`);if("struct"===r.kind)r.fields.map(([r,i])=>{b(e,r,t[r],i,n)});else{if("enum"!==r.kind)throw new p(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`);{const i=t[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){n.writeU8(s),b(e,o,t[o],a,n);break}}}}}function x(e,t,n,r){try{if("string"==typeof n)return r[`read${w(n)}`]();if(n instanceof Array){if("number"==typeof n[0])return r.readFixedArray(n[0]);if("number"==typeof n[1]){const t=[];for(let i=0;i<n[1];i++)t.push(x(e,null,n[0],r));return t}return r.readArray(()=>x(e,t,n[0],r))}if("option"===n.kind)return r.readU8()?x(e,t,n.type,r):void 0;if("map"===n.kind){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const s=x(e,t,n.key,r),o=x(e,t,n.value,r);i.set(s,o)}return i}return E(e,n,r)}catch(e){throw e instanceof p&&e.addToFieldPath(t),e}}function E(e,t,n){if("function"==typeof t.borshDeserialize)return t.borshDeserialize(n);const r=e.get(t);if(!r)throw new p(`Class ${t.name} is missing in schema`);if("struct"===r.kind){const r={};for(const[i,s]of e.get(t).fields)r[i]=x(e,i,s,n);return new t(r)}if("enum"===r.kind){const i=n.readU8();if(i>=r.values.length)throw new p(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=x(e,s,o,n);return new t({[s]:a})}throw new p(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}o([m],y.prototype,"readU8",null),o([m],y.prototype,"readU16",null),o([m],y.prototype,"readU32",null),o([m],y.prototype,"readU64",null),o([m],y.prototype,"readU128",null),o([m],y.prototype,"readU256",null),o([m],y.prototype,"readU512",null),o([m],y.prototype,"readString",null),o([m],y.prototype,"readFixedArray",null),o([m],y.prototype,"readArray",null),t.BinaryReader=y,t.serialize=function(e,t,n=g){const r=new n;return v(e,t,r),r.toArray()},t.deserialize=function(e,t,n,r=y){const i=new r(n),s=E(e,t,i);if(i.offset<n.length)throw new p(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return s},t.deserializeUnchecked=function(e,t,n,r=y){return E(e,t,new r(n))}},2831:function(e,t,n){"use strict";var r,i,s,o,a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})},c=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},l=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};Object.defineProperty(t,"__esModule",{value:!0}),t.Auth=void 0;const u=n(4724),d=n(7850);t.Auth=class{constructor(e){this.http=e,this.settings={path:"/auth",key:"colyseus-auth-token"},r.set(this,!1),i.set(this,void 0),s.set(this,void 0),o.set(this,(0,d.createNanoEvents)()),(0,u.getItem)(this.settings.key,e=>this.token=e)}set token(e){this.http.authToken=e}get token(){return this.http.authToken}onChange(e){const t=c(this,o,"f").on("change",e);return c(this,r,"f")||l(this,i,new Promise((e,t)=>{this.getUserData().then(e=>{this.emitChange(Object.assign(Object.assign({},e),{token:this.token}))}).catch(e=>{this.emitChange({user:null,token:void 0})}).finally(()=>{e()})}),"f"),l(this,r,!0,"f"),t}getUserData(){return a(this,void 0,void 0,function*(){if(this.token)return(yield this.http.get(`${this.settings.path}/userdata`)).data;throw new Error("missing auth.token")})}registerWithEmailAndPassword(e,t,n){return a(this,void 0,void 0,function*(){const r=(yield this.http.post(`${this.settings.path}/register`,{body:{email:e,password:t,options:n}})).data;return this.emitChange(r),r})}signInWithEmailAndPassword(e,t){return a(this,void 0,void 0,function*(){const n=(yield this.http.post(`${this.settings.path}/login`,{body:{email:e,password:t}})).data;return this.emitChange(n),n})}signInAnonymously(e){return a(this,void 0,void 0,function*(){const t=(yield this.http.post(`${this.settings.path}/anonymous`,{body:{options:e}})).data;return this.emitChange(t),t})}sendPasswordResetEmail(e){return a(this,void 0,void 0,function*(){return(yield this.http.post(`${this.settings.path}/forgot-password`,{body:{email:e}})).data})}signInWithProvider(e,t={}){return a(this,void 0,void 0,function*(){return new Promise((n,r)=>{const i=t.width||480,o=t.height||768,a=this.token?`?token=${this.token}`:"",u=`Login with ${e[0].toUpperCase()+e.substring(1)}`,d=this.http.client.getHttpEndpoint(`${t.prefix||`${this.settings.path}/provider`}/${e}${a}`),h=screen.width/2-i/2,f=screen.height/2-o/2;l(this,s,window.open(d,u,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+i+", height="+o+", top="+f+", left="+h),"f");const p=e=>{void 0===e.data.user&&void 0===e.data.token||(clearInterval(g),c(this,s,"f").close(),l(this,s,void 0,"f"),window.removeEventListener("message",p),void 0!==e.data.error?r(e.data.error):(n(e.data),this.emitChange(e.data)))},g=setInterval(()=>{c(this,s,"f")&&!c(this,s,"f").closed||(l(this,s,void 0,"f"),r("cancelled"),window.removeEventListener("message",p))},200);window.addEventListener("message",p)})})}signOut(){return a(this,void 0,void 0,function*(){this.emitChange({user:null,token:null})})}emitChange(e){void 0!==e.token&&(this.token=e.token,null===e.token?(0,u.removeItem)(this.settings.key):(0,u.setItem)(this.settings.key,e.token)),c(this,o,"f").emit("change",e)}},r=new WeakMap,i=new WeakMap,s=new WeakMap,o=new WeakMap},2833:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var s=Object.keys(e),o=Object.keys(t);if(s.length!==o.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),c=0;c<s.length;c++){var l=s[c];if(!a(l))return!1;var u=e[l],d=t[l];if(!1===(i=n?n.call(r,u,d,l):void 0)||void 0===i&&u!==d)return!1}return!0}},2861:(e,t,n)=>{var r=n(8287),i=r.Buffer;function s(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(s(r,t),t.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},2864:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});var r=n(3033),i=n(3204);function s(e){const{batch:t,chain:n,ccipRead:s,key:o="base",name:a="Base Client",type:c="base"}=e,l=e.experimental_blockTag??("number"==typeof n?.experimental_preconfirmationTime?"pending":void 0),u=n?.blockTime??12e3,d=Math.min(Math.max(Math.floor(u/2),500),4e3),h=e.pollingInterval??d,f=e.cacheTime??h,p=e.account?(0,r.J)(e.account):void 0,{config:g,request:m,value:y}=e.transport({chain:n,pollingInterval:h}),w={account:p,batch:t,cacheTime:f,ccipRead:s,chain:n,key:o,name:a,pollingInterval:h,request:m,transport:{...g,...y},type:c,uid:(0,i.L)(),...l?{experimental_blockTag:l}:{}};return Object.assign(w,{extend:function e(t){return n=>{const r=n(t);for(const e in w)delete r[e];const i={...t,...r};return Object.assign(i,{extend:e(i)})}}(w)})}},2955:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shake256=t.shake128=t.keccak_512=t.keccak_384=t.keccak_256=t.keccak_224=t.sha3_512=t.sha3_384=t.sha3_256=t.sha3_224=t.Keccak=void 0,t.keccakP=b;const r=n(2318),i=n(9175),s=BigInt(0),o=BigInt(1),a=BigInt(2),c=BigInt(7),l=BigInt(256),u=BigInt(113),d=[],h=[],f=[];for(let e=0,t=o,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],d.push(2*(5*r+n)),h.push((e+1)*(e+2)/2%64);let i=s;for(let e=0;e<7;e++)t=(t<<o^(t>>c)*u)%l,t&a&&(i^=o<<(o<<BigInt(e))-o);f.push(i)}const p=(0,r.split)(f,!0),g=p[0],m=p[1],y=(e,t,n)=>n>32?(0,r.rotlBH)(e,t,n):(0,r.rotlSH)(e,t,n),w=(e,t,n)=>n>32?(0,r.rotlBL)(e,t,n):(0,r.rotlSL)(e,t,n);function b(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,i=(t+2)%10,s=n[i],o=n[i+1],a=y(s,o,1)^n[r],c=w(s,o,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=a,e[t+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=h[n],s=y(t,i,r),o=w(t,i,r),a=d[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=g[r],e[1]^=m[r]}(0,i.clean)(n)}class v extends i.Hash{constructor(e,t,n,r=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=s,(0,i.anumber)(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,i.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,i.swap32IfBE)(this.state32),b(this.state32,this.rounds),(0,i.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(e){(0,i.aexists)(this),e=(0,i.toBytes)(e),(0,i.abytes)(e);const{blockLen:t,state:n}=this,r=e.length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){(0,i.aexists)(this,!1),(0,i.abytes)(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,i.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,i.aoutput)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,i.clean)(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new v(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}t.Keccak=v;const x=(e,t,n)=>(0,i.createHasher)(()=>new v(t,e,n));t.sha3_224=x(6,144,28),t.sha3_256=x(6,136,32),t.sha3_384=x(6,104,48),t.sha3_512=x(6,72,64),t.keccak_224=x(1,144,28),t.keccak_256=x(1,136,32),t.keccak_384=x(1,104,48),t.keccak_512=x(1,72,64);const E=(e,t,n)=>(0,i.createXOFer)((r={})=>new v(t,e,void 0===r.dkLen?n:r.dkLen,!0));t.shake128=E(31,168,16),t.shake256=E(31,136,32)},2978:(e,t,n)=>{var r=n(8287).Buffer;const i=n(4548);function s(e){return e.startsWith("int[")?"int256"+e.slice(3):"int"===e?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):"uint"===e?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):"fixed"===e?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):"ufixed"===e?"ufixed128x128":e}function o(e){return Number.parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function a(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[Number.parseInt(t[1],10),Number.parseInt(t[2],10)]}function c(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?""===t[2]?"dynamic":Number.parseInt(t[2],10):null}function l(e){var t=typeof e;if("string"===t||"number"===t)return BigInt(e);if("bigint"===t)return e;throw new Error("Argument is not a number")}function u(e,t){var n,s,d,h;if("address"===e)return u("uint160",l(t));if("bool"===e)return u("uint8",t?1:0);if("string"===e)return u("bytes",new r(t,"utf8"));if(function(e){return e.lastIndexOf("]")===e.length-1}(e)){if(void 0===t.length)throw new Error("Not an array?");if("dynamic"!==(n=c(e))&&0!==n&&t.length>n)throw new Error("Elements exceed array size: "+n);for(h in d=[],e=e.slice(0,e.lastIndexOf("[")),"string"==typeof t&&(t=JSON.parse(t)),t)d.push(u(e,t[h]));if("dynamic"===n){var f=u("uint256",t.length);d.unshift(f)}return r.concat(d)}if("bytes"===e)return t=new r(t),d=r.concat([u("uint256",t.length),t]),t.length%32!=0&&(d=r.concat([d,i.zeros(32-t.length%32)])),d;if(e.startsWith("bytes")){if((n=o(e))<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return i.setLengthRight(t,32)}if(e.startsWith("uint")){if((n=o(e))%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);s=l(t);const r=i.bitLengthFromBigInt(s);if(r>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+r);if(s<0)throw new Error("Supplied uint is negative");return i.bufferBEFromBigInt(s,32)}if(e.startsWith("int")){if((n=o(e))%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);s=l(t);const r=i.bitLengthFromBigInt(s);if(r>n)throw new Error("Supplied int exceeds width: "+n+" vs "+r);const a=i.twosFromBigInt(s,256);return i.bufferBEFromBigInt(a,32)}if(e.startsWith("ufixed")){if(n=a(e),(s=l(t))<0)throw new Error("Supplied ufixed is negative");return u("uint256",s*BigInt(2)**BigInt(n[1]))}if(e.startsWith("fixed"))return n=a(e),u("int256",l(t)*BigInt(2)**BigInt(n[1]));throw new Error("Unsupported or invalid type: "+e)}function d(e){return"string"===e||"bytes"===e||"dynamic"===c(e)}function h(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var n,a,c=[],u=0;u<e.length;u++){var d=s(e[u]),h=t[u];if("bytes"===d)c.push(h);else if("string"===d)c.push(new r(h,"utf8"));else if("bool"===d)c.push(new r(h?"01":"00","hex"));else if("address"===d)c.push(i.setLength(h,20));else if(d.startsWith("bytes")){if((n=o(d))<1||n>32)throw new Error("Invalid bytes<N> width: "+n);c.push(i.setLengthRight(h,n))}else if(d.startsWith("uint")){if((n=o(d))%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);a=l(h);const e=i.bitLengthFromBigInt(a);if(e>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+e);c.push(i.bufferBEFromBigInt(a,n/8))}else{if(!d.startsWith("int"))throw new Error("Unsupported or invalid type: "+d);{if((n=o(d))%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);a=l(h);const e=i.bitLengthFromBigInt(a);if(e>n)throw new Error("Supplied int exceeds width: "+n+" vs "+e);const t=i.twosFromBigInt(a,n);c.push(i.bufferBEFromBigInt(t,n/8))}}}return r.concat(c)}e.exports={rawEncode:function(e,t){var n=[],i=[],o=32*e.length;for(var a in e){var c=s(e[a]),l=u(c,t[a]);d(c)?(n.push(u("uint256",o)),i.push(l),o+=l.length):n.push(l)}return r.concat(n.concat(i))},solidityPack:h,soliditySHA3:function(e,t){return i.keccak(h(e,t))}}},2985:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}},3033:(e,t,n)=>{"use strict";function r(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}n.d(t,{J:()=>r})},3054:(e,t,n)=>{"use strict";const r=n(793);e.exports=d;const i=function(){function e(e){return void 0!==e&&e}try{return"undefined"!=typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{},s={mapHttpRequest:y,mapHttpResponse:y,wrapRequestSerializer:w,wrapResponseSerializer:w,wrapErrorSerializer:w,req:y,res:y,err:g,errWithCause:g};function o(e,t){return"silent"===e?1/0:t.levels.values[e]}const a=Symbol("pino.logFuncs"),c=Symbol("pino.hierarchy"),l={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function u(e,t){const n={logger:t,parent:e[c]};t[c]=n}function d(e){(e=e||{}).browser=e.browser||{};const t=e.browser.transmit;if(t&&"function"!=typeof t.send)throw Error("pino: transmit option must have a send function");const n=e.browser.write||i;e.browser.write&&(e.browser.asObject=!0);const r=e.serializers||{},s=function(e,t){return Array.isArray(e)?e.filter(function(e){return"!stdSerializers.err"!==e}):!0===e&&Object.keys(t)}(e.browser.serialize,r);let c=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(c=!1);const g=Object.keys(e.customLevels||{}),y=["error","fatal","warn","info","debug","trace"].concat(g);"function"==typeof n&&y.forEach(function(e){n[e]=n}),(!1===e.enabled||e.browser.disabled)&&(e.level="silent");const w=e.level||"info",v=Object.create(n);v.log||(v.log=b),function(e,t,n){const r={};t.forEach(e=>{r[e]=n[e]?n[e]:i[e]||i[l[e]||"log"]||b}),e[a]=r}(v,y,n),u({},v),Object.defineProperty(v,"levelVal",{get:function(){return o(this.level,this)}}),Object.defineProperty(v,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,h(this,x,v,"error"),h(this,x,v,"fatal"),h(this,x,v,"warn"),h(this,x,v,"info"),h(this,x,v,"debug"),h(this,x,v,"trace"),g.forEach(e=>{h(this,x,v,e)})}});const x={transmit:t,serialize:s,asObject:e.browser.asObject,asObjectBindingsOnly:e.browser.asObjectBindingsOnly,formatters:e.browser.formatters,levels:y,timestamp:m(e),messageKey:e.messageKey||"msg",onChild:e.onChild||b};function E(n,i,o){if(!i)throw new Error("missing bindings for child Pino");o=o||{},s&&i.serializers&&(o.serializers=i.serializers);const a=o.serializers;if(s&&a){var c=Object.assign({},r,a),l=!0===e.browser.serialize?Object.keys(c):s;delete i.serializers,f([i],l,c,this._stdErrSerialize)}function d(e){this._childLevel=1+(0|e._childLevel),this.bindings=i,c&&(this.serializers=c,this._serialize=l),t&&(this._logEvent=p([].concat(e._logEvent.bindings,i)))}d.prototype=this;const h=new d(this);return u(this,h),h.child=function(...e){return E.call(this,n,...e)},h.level=o.level||this.level,n.onChild(h),h}return v.levels=function(e){const t=e.customLevels||{};return{values:Object.assign({},d.levels.values,t),labels:Object.assign({},d.levels.labels,function(e){const t={};return Object.keys(e).forEach(function(n){t[e[n]]=n}),t}(t))}}(e),v.level=w,v.isLevelEnabled=function(e){return!!this.levels.values[e]&&this.levels.values[e]>=this.levels.values[this.level]},v.setMaxListeners=v.getMaxListeners=v.emit=v.addListener=v.on=v.prependListener=v.once=v.prependOnceListener=v.removeListener=v.removeAllListeners=v.listeners=v.listenerCount=v.eventNames=v.write=v.flush=b,v.serializers=r,v._serialize=s,v._stdErrSerialize=c,v.child=function(...e){return E.call(this,x,...e)},t&&(v._logEvent=p()),v}function h(e,t,n,s){if(Object.defineProperty(e,s,{value:o(e.level,n)>o(s,n)?b:n[a][s],writable:!0,enumerable:!0,configurable:!0}),e[s]===b){if(!t.transmit)return;const r=o(t.transmit.level||e.level,n);if(o(s,n)<r)return}e[s]=function(e,t,n,s){return c=e[a][s],function(){const a=t.timestamp(),l=new Array(arguments.length),u=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var d=0;d<l.length;d++)l[d]=arguments[d];var h=!1;if(t.serialize&&(f(l,this._serialize,this.serializers,this._stdErrSerialize),h=!0),t.asObject||t.formatters?c.call(u,...function(e,t,n,i,s){const{level:o,log:a=e=>e}=s.formatters||{},c=n.slice();let l=c[0];const u={};let d=1+(0|e._childLevel);if(d<1&&(d=1),i&&(u.time=i),o){const n=o(t,e.levels.values[t]);Object.assign(u,n)}else u.level=e.levels.values[t];if(s.asObjectBindingsOnly){if(null!==l&&"object"==typeof l)for(;d--&&"object"==typeof c[0];)Object.assign(u,c.shift());return[a(u),...c]}if(null!==l&&"object"==typeof l){for(;d--&&"object"==typeof c[0];)Object.assign(u,c.shift());l=c.length?r(c.shift(),c):void 0}else"string"==typeof l&&(l=r(c.shift(),c));return void 0!==l&&(u[s.messageKey]=l),[a(u)]}(this,s,l,a,t)):c.apply(u,l),t.transmit){const r=t.transmit.level||e._level,i=o(r,n),c=o(s,n);if(c<i)return;!function(e,t,n,r=!1){const i=t.send,s=t.ts,o=t.methodLevel,a=t.methodValue,c=t.val,l=e._logEvent.bindings;r||f(n,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=s,e._logEvent.messages=n.filter(function(e){return-1===l.indexOf(e)}),e._logEvent.level.label=o,e._logEvent.level.value=a,i(o,e._logEvent,c),e._logEvent=p(l)}(this,{ts:a,methodLevel:s,methodValue:c,transmitLevel:r,transmitValue:n.levels.values[t.transmit.level||e._level],send:t.transmit.send,val:o(e._level,n)},l,h)}};var c}(e,t,n,s);const l=function(e){const t=[];e.bindings&&t.push(e.bindings);let n=e[c];for(;n.parent;)n=n.parent,n.logger.bindings&&t.push(n.logger.bindings);return t.reverse()}(e);0!==l.length&&(e[s]=function(e,t){return function(){return t.apply(this,[...e,...arguments])}}(l,e[s]))}function f(e,t,n,r){for(const i in e)if(r&&e[i]instanceof Error)e[i]=d.stdSerializers.err(e[i]);else if("object"==typeof e[i]&&!Array.isArray(e[i])&&t)for(const r in e[i])t.indexOf(r)>-1&&r in n&&(e[i][r]=n[r](e[i][r]))}function p(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function g(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const n in e)void 0===t[n]&&(t[n]=e[n]);return t}function m(e){return"function"==typeof e.timestamp?e.timestamp:!1===e.timestamp?v:x}function y(){return{}}function w(e){return e}function b(){}function v(){return!1}function x(){return Date.now()}d.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},d.stdSerializers=s,d.stdTimeFunctions=Object.assign({},{nullTime:v,epochTime:x,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}}),e.exports.default=d,e.exports.pino=d},3093:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0,t.IWatch=class{}},3190:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var r=n(8703);function i({chain:e,currentChainId:t}){if(!e)throw new r.jF;if(t!==e.id)throw new r.EH({chain:e,currentChainId:t})}},3204:(e,t,n)=>{"use strict";n.d(t,{L:()=>o});const r=256;let i,s=r;function o(e=11){if(!i||s+e>2*r){i="",s=0;for(let e=0;e<r;e++)i+=(256+256*Math.random()|0).toString(16).substring(1)}return i.substring(s,s+++e)}},3228:(e,t,n)=>{"use strict";n.d(t,{CG:()=>r});const r={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}}},3255:(e,t,n)=>{"use strict";n.d(t,{q:()=>l});var r=n(6675),i=n(3692),s=n(9726),o=n(5213),a=n(8463),c=n(5639);function l(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:l,onError:u,poll:d,pollingInterval:h=e.pollingInterval}){let f;return(void 0!==d?d:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type))?(()=>{const r=(0,a.A)(["watchBlockNumber",e.uid,t,n,h]);return(0,s.lB)(r,{onBlockNumber:l,onError:u},r=>(0,o.w)(async()=>{try{const t=await(0,i.T)(e,c.G,"getBlockNumber")({cacheTime:0});if(void 0!==f){if(t===f)return;if(t-f>1&&n)for(let e=f+1n;e<t;e++)r.onBlockNumber(e,f),f=e}(void 0===f||t>f)&&(r.onBlockNumber(t,f),f=t)}catch(e){r.onError?.(e)}},{emitOnBegin:t,interval:h}))})():(()=>{const i=(0,a.A)(["watchBlockNumber",e.uid,t,n]);return(0,s.lB)(i,{onBlockNumber:l,onError:u},t=>{let n=!0,i=()=>n=!1;return(async()=>{try{const s=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:o}=await s.subscribe({params:["newHeads"],onData(e){if(!n)return;const i=(0,r.uU)(e.result?.number);t.onBlockNumber(i,f),f=i},onError(e){t.onError?.(e)}});i=o,n||i()}catch(e){u?.(e)}})(),()=>i()})})()}},3289:(e,t,n)=>{"use strict";const r=n(2634).v4;e.exports=function(e,t,n,i){if("string"!=typeof e)throw new TypeError(e+" must be a string");const s="number"==typeof(i=i||{}).version?i.version:2;if(1!==s&&2!==s)throw new TypeError(s+" must be 1 or 2");const o={method:e};if(2===s&&(o.jsonrpc="2.0"),t){if("object"!=typeof t&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");o.params=t}if(void 0===n){const e="function"==typeof i.generator?i.generator:function(){return r()};o.id=e(o,i)}else 2===s&&null===n?i.notificationIdNull&&(o.id=null):o.id=n;return o}},3318:function(e){e.exports=function(){"use strict";function e(e){return Number.isInteger(e)&&e>=0}function t(e){this.name="ArgumentError",this.message=e}return function(n,r){if(r=r||{},"function"!=typeof n)throw new t("fetch must be a function");if("object"!=typeof r)throw new t("defaults must be an object");if(void 0!==r.retries&&!e(r.retries))throw new t("retries must be a positive integer");if(void 0!==r.retryDelay&&!e(r.retryDelay)&&"function"!=typeof r.retryDelay)throw new t("retryDelay must be a positive integer or a function returning a positive integer");if(void 0!==r.retryOn&&!Array.isArray(r.retryOn)&&"function"!=typeof r.retryOn)throw new t("retryOn property expects an array or function");return r=Object.assign({retries:3,retryDelay:1e3,retryOn:[]},r),function(i,s){var o=r.retries,a=r.retryDelay,c=r.retryOn;if(s&&void 0!==s.retries){if(!e(s.retries))throw new t("retries must be a positive integer");o=s.retries}if(s&&void 0!==s.retryDelay){if(!e(s.retryDelay)&&"function"!=typeof s.retryDelay)throw new t("retryDelay must be a positive integer or a function returning a positive integer");a=s.retryDelay}if(s&&s.retryOn){if(!Array.isArray(s.retryOn)&&"function"!=typeof s.retryOn)throw new t("retryOn property expects an array or function");c=s.retryOn}return new Promise(function(e,t){var r=function(r){var a="undefined"!=typeof Request&&i instanceof Request?i.clone():i;n(a,s).then(function(n){if(Array.isArray(c)&&-1===c.indexOf(n.status))e(n);else if("function"==typeof c)try{return Promise.resolve(c(r,null,n)).then(function(t){t?l(r,null,n):e(n)}).catch(t)}catch(e){t(e)}else r<o?l(r,null,n):e(n)}).catch(function(e){if("function"==typeof c)try{Promise.resolve(c(r,e,null)).then(function(n){n?l(r,e,null):t(e)}).catch(function(e){t(e)})}catch(e){t(e)}else r<o?l(r,e,null):t(e)})};function l(e,t,n){var i="function"==typeof a?a(e,t,n):a;setTimeout(function(){r(++e)},i)}r(0)})}}}()},3360:(e,t,n)=>{"use strict";n.d(t,{Fo:()=>Re});var r={};n.r(r),n.d(r,{identity:()=>S});var i={};n.r(i),n.d(i,{base2:()=>I});var s={};n.r(s),n.d(s,{base8:()=>A});var o={};n.r(o),n.d(o,{base10:()=>T});var a={};n.r(a),n.d(a,{base16:()=>P,base16upper:()=>O});var c={};n.r(c),n.d(c,{base32:()=>j,base32hex:()=>M,base32hexpad:()=>B,base32hexpadupper:()=>U,base32hexupper:()=>L,base32pad:()=>R,base32padupper:()=>$,base32upper:()=>N,base32z:()=>D});var l={};n.r(l),n.d(l,{base36:()=>F,base36upper:()=>z});var u={};n.r(u),n.d(u,{base58btc:()=>W,base58flickr:()=>q});var d={};n.r(d),n.d(d,{base64:()=>H,base64pad:()=>V,base64url:()=>K,base64urlpad:()=>G});var h={};n.r(h),n.d(h,{base256emoji:()=>Q});var f={};n.r(f),n.d(f,{sha256:()=>ve,sha512:()=>xe});var p={};n.r(p),n.d(p,{identity:()=>ke});var g={};n.r(g),n.d(g,{code:()=>Ce,decode:()=>Ie,encode:()=>Se,name:()=>_e});var m={};n.r(m),n.d(m,{code:()=>Oe,decode:()=>Ne,encode:()=>je,name:()=>Pe});const y=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class w{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class b{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return x(this,e)}}class v{constructor(e){this.decoders=e}or(e){return x(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const x=(e,t)=>new v({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class E{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new w(e,t,n),this.decoder=new b(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const k=({name:e,prefix:t,encode:n,decode:r})=>new E(e,t,n,r),_=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==n[o])throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var d=0,h=s-1;(0!==u||d<i)&&-1!==h;h--,d++)u+=a*o[h]>>>0,o[h]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(r+(s-f)),g=r;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,s=t.length;i!==s&&0===t[i];)i++,n++;for(var o=(s-i)*u+1>>>0,l=new Uint8Array(o);i!==s;){for(var d=t[i],h=0,f=o-1;(0!==d||h<r)&&-1!==f;f--,h++)d+=256*l[f]>>>0,l[f]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");r=h,i++}for(var p=o-r;p!==o&&0===l[p];)p++;for(var g=c.repeat(n);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:d,decode:function(e){var n=d(e);if(n)return n;throw new Error(`Non-${t} character`)}}}(n,t);return k({prefix:e,name:t,encode:r,decode:e=>y(i(e))})},C=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>k({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let s="",o=0,a=0;for(let r=0;r<e.length;++r)for(a=a<<8|e[r],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s})(e,r,n),decode:t=>((e,t,n,r)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let t=0;t<s;++t){const s=i[e[t]];if(void 0===s)throw new SyntaxError(`Non-${r} character`);c=c<<n|s,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(t,r,n,e)}),S=k({prefix:"\0",name:"identity",encode:e=>{return t=e,(new TextDecoder).decode(t);var t},decode:e=>(e=>(new TextEncoder).encode(e))(e)}),I=C({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),A=C({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),T=_({prefix:"9",name:"base10",alphabet:"0123456789"}),P=C({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),O=C({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),j=C({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),N=C({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),R=C({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),$=C({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),M=C({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),L=C({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),B=C({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),U=C({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),D=C({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),F=_({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),z=_({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),W=_({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),q=_({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),H=C({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),V=C({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),K=C({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),G=C({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Z=Array.from(""),Y=Z.reduce((e,t,n)=>(e[n]=t,e),[]),J=Z.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]),Q=k({prefix:"",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+Y[t],"")},decode:function(e){const t=[];for(const n of e){const e=J[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var X=128,ee=-128,te=Math.pow(2,31),ne=Math.pow(2,7),re=Math.pow(2,14),ie=Math.pow(2,21),se=Math.pow(2,28),oe=Math.pow(2,35),ae=Math.pow(2,42),ce=Math.pow(2,49),le=Math.pow(2,56),ue=Math.pow(2,63);const de=function e(t,n,r){n=n||[];for(var i=r=r||0;t>=te;)n[r++]=255&t|X,t/=128;for(;t&ee;)n[r++]=255&t|X,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},he=function(e){return e<ne?1:e<re?2:e<ie?3:e<se?4:e<oe?5:e<ae?6:e<ce?7:e<le?8:e<ue?9:10},fe=(e,t,n=0)=>(de(e,t,n),t),pe=e=>he(e),ge=(e,t)=>{const n=t.byteLength,r=pe(e),i=r+pe(n),s=new Uint8Array(i+n);return fe(e,s,0),fe(n,s,r),s.set(t,i),new me(e,n,t,s)};class me{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const ye=({name:e,code:t,encode:n})=>new we(e,t,n);class we{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?ge(this.code,t):t.then(e=>ge(this.code,e))}throw Error("Unknown type, must be binary type")}}const be=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),ve=ye({name:"sha2-256",code:18,encode:be("SHA-256")}),xe=ye({name:"sha2-512",code:19,encode:be("SHA-512")}),Ee=y,ke={code:0,name:"identity",encode:Ee,digest:e=>ge(0,Ee(e))},_e="raw",Ce=85,Se=e=>y(e),Ie=e=>y(e),Ae=new TextEncoder,Te=new TextDecoder,Pe="json",Oe=512,je=e=>Ae.encode(JSON.stringify(e)),Ne=e=>JSON.parse(Te.decode(e));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const Re={...r,...i,...s,...o,...a,...c,...l,...u,...d,...h}},3531:(e,t,n)=>{"use strict";n.d(t,{BH:()=>f,vB:()=>h,yM:()=>p});var r=n(3033),i=n(1344),s=n(7513),o=n(8503),a=n(5419),c=n(6675),l=n(4192),u=n(8358),d=n(1362);const h="0x5792579257925792579257925792579257925792579257925792579257925792",f=(0,l.cK)(0,{size:32});async function p(e,t){const{account:n=e.account,capabilities:p,chain:g=e.chain,experimental_fallback:m,experimental_fallbackDelay:y=32,forceAtomic:w=!1,id:b,version:v="2.0.0"}=t,x=n?(0,r.J)(n):null,E=t.calls.map(e=>{const t=e,n=t.abi?(0,o.p)({abi:t.abi,functionName:t.functionName,args:t.args}):t.data;return{data:t.dataSuffix&&n?(0,a.xW)([n,t.dataSuffix]):n,to:t.to,value:t.value?(0,l.cK)(t.value):void 0}});try{const t=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:w,calls:E,capabilities:p,chainId:(0,l.cK)(g.id),from:x?.address,id:b,version:v}]},{retryCount:0});return"string"==typeof t?{id:t}:t}catch(n){const r=n;if(m&&("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name||"UnknownRpcError"===r.name||r.details.toLowerCase().includes("does not exist / is not available")||r.details.toLowerCase().includes("missing or invalid. request()")||r.details.toLowerCase().includes("did not match any variant of untagged enum")||r.details.toLowerCase().includes("account upgraded to unsupported contract")||r.details.toLowerCase().includes("eip-7702 not supported")||r.details.toLowerCase().includes("unsupported wc_ method")||r.details.toLowerCase().includes("feature toggled misconfigured")||r.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(p&&Object.values(p).some(e=>!e.optional)){const e="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new s.L5(new i.C(e,{details:e}))}if(w&&E.length>1){const e="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new s.jz(new i.C(e,{details:e}))}const t=[];for(const n of E){const r=(0,d.v)(e,{account:x,chain:g,data:n.data,to:n.to,value:n.value?(0,c.uU)(n.value):void 0});t.push(r),y>0&&await new Promise(e=>setTimeout(e,y))}const n=await Promise.allSettled(t);if(n.every(e=>"rejected"===e.status))throw n[0].reason;const r=n.map(e=>"fulfilled"===e.status?e.value:f);return{id:(0,a.xW)([...r,(0,l.cK)(g.id,{size:32}),h])}}throw(0,u.p)(n,{...t,account:x,chain:t.chain})}}},3532:(e,t,n)=>{"use strict";n.d(t,{VH:()=>l,li:()=>c});var r=n(7007),i=n(8900),s=n(4556);class o extends s.H{constructor(e){super()}}const a=i.FIVE_SECONDS,c={pulse:"heartbeat_pulse"};class l extends o{constructor(e){super(e),this.events=new r.EventEmitter,this.interval=a,this.interval=e?.interval||a}static async init(e){const t=new l(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,i.toMiliseconds)(this.interval))}pulse(){this.events.emit(c.pulse)}}},3554:(e,t,n)=>{"use strict";n.d(t,{h:()=>o,j:()=>s});const r=e=>JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString()+"n":t),i=e=>{const t=e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(t,(e,t)=>"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t)};function s(e){if("string"!=typeof e)throw new Error("Cannot safe json parse value of type "+typeof e);try{return i(e)}catch(t){return e}}function o(e){return"string"==typeof e?e:r(e)||""}},3577:(e,t,n)=>{"use strict";n.d(t,{A1:()=>l,di:()=>o,iN:()=>u});var r=n(6440),i=n(6394),s=n(5182);function o(e,t,n,{strict:r}={}){return(0,i.q)(e,{strict:!1})?u(e,t,n,{strict:r}):l(e,t,n,{strict:r})}function a(e,t){if("number"==typeof t&&t>0&&t>(0,s.E)(e)-1)throw new r.ii({offset:t,position:"start",size:(0,s.E)(e)})}function c(e,t,n){if("number"==typeof t&&"number"==typeof n&&(0,s.E)(e)!==n-t)throw new r.ii({offset:n,position:"end",size:(0,s.E)(e)})}function l(e,t,n,{strict:r}={}){a(e,t);const i=e.slice(t,n);return r&&c(i,t,n),i}function u(e,t,n,{strict:r}={}){a(e,t);const i=`0x${e.replace("0x","").slice(2*(t??0),2*(n??e.length))}`;return r&&c(i,t,n),i}},3606:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var r=n(9571),i=n(2069),s=n(2324);function o(e){const t=(0,i.e)(e),n=[],o=e.length;for(let i=0;i<o;i++){const o=e[i];(0,r.WL)(o)||n.push((0,s.uT)(o,t))}return n}},3692:(e,t,n)=>{"use strict";function r(e,t,n){const r=e[t.name];if("function"==typeof r)return r;const i=e[n];return"function"==typeof i?i:n=>t(e,n)}n.d(t,{T:()=>r})},3742:(e,t,n)=>{"use strict";n.d(t,{x:()=>o});var r=n(8990),i=n(4192),s=n(5948);async function o(e,{blockHash:t,blockNumber:n,blockTag:o,hash:a,index:c}){const l=o||"latest",u=void 0!==n?(0,i.cK)(n):void 0;let d=null;if(a?d=await e.request({method:"eth_getTransactionByHash",params:[a]},{dedupe:!0}):t?d=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,(0,i.cK)(c)]},{dedupe:!0}):(u||l)&&(d=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||l,(0,i.cK)(c)]},{dedupe:Boolean(u)})),!d)throw new r.Kz({blockHash:t,blockNumber:n,blockTag:l,hash:a,index:c});return(e.chain?.formatters?.transaction?.format||s.uP)(d,"getTransaction")}},4002:(e,t,n)=>{"use strict";n.d(t,{X:()=>m,J:()=>g});var r=n(4823),i=n(4453),s=n(4705),o=n(7372),a=n(5419),c=n(2599),l=n(4531),u=n(5167),d=n(4586);const h="/docs/contract/encodeErrorResult";function f(e){const{abi:t,errorName:n,args:r}=e;let i=t[0];if(n){const e=(0,d.iY)({abi:t,args:r,name:n});if(!e)throw new o.yy(n,{docsPath:h});i=e}if("error"!==i.type)throw new o.yy(void 0,{docsPath:h});const s=(0,u.B)(i),f=(0,c.V)(s);let p="0x";if(r&&r.length>0){if(!i.inputs)throw new o.ZP(i.name,{docsPath:h});p=(0,l.h)(i.inputs,r)}return(0,a.aP)([f,p])}const p="/docs/contract/encodeFunctionResult",g="x-batch-gateway:true";async function m(e){const{data:t,ccipRequest:n}=e,{args:[a]}=(0,s.J)({abi:r.b2,data:t}),c=[],u=[];return await Promise.all(a.map(async(e,t)=>{try{u[t]=e.urls.includes(g)?await m({data:e.data,ccipRequest:n}):await n(e),c[t]=!1}catch(e){c[t]=!0,u[t]="HttpRequestError"===(s=e).name&&s.status?f({abi:r.b2,errorName:"HttpError",args:[s.status,s.shortMessage]}):f({abi:[i.Mc],errorName:"Error",args:["shortMessage"in s?s.shortMessage:s.message]})}var s})),function(e){const{abi:t,functionName:n,result:r}=e;let i=t[0];if(n){const e=(0,d.iY)({abi:t,name:n});if(!e)throw new o.Iz(n,{docsPath:p});i=e}if("function"!==i.type)throw new o.Iz(void 0,{docsPath:p});if(!i.outputs)throw new o.MR(i.name,{docsPath:p});const s=(()=>{if(0===i.outputs.length)return[];if(1===i.outputs.length)return[r];if(Array.isArray(r))return r;throw new o.dm(r)})();return(0,l.h)(i.outputs,s)}({abi:r.b2,functionName:"query",result:[c,u]})}},4011:(e,t,n)=>{"use strict";var r;n.d(t,{A:()=>u});var i=new Uint8Array(16);function s(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}const o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var a=[],c=0;c<256;++c)a.push((c+256).toString(16).substr(1));const l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&o.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},u=function(e,t,n){var r=(e=e||{}).random||(e.rng||s)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return l(r)}},4033:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Connection=void 0;const r=n(9611);t.Connection=class{constructor(){this.events={},this.transport=new r.WebSocketTransport(this.events)}send(e){this.transport.send(e)}connect(e,t){this.transport.connect(e,t)}close(e,t){this.transport.close(e,t)}get isOpen(){return this.transport.isOpen}}},4051:(e,t,n)=>{"use strict";n.d(t,{Q:()=>o});var r=n(9655);const i=/^tuple(?<array>(\[(\d*)\])*)$/;function s(e){let t=e.type;if(i.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let r=0;r<n;r++)t+=s(e.components[r]),r<n-1&&(t+=", ");const o=(0,r.Yv)(i,e.type);return t+=`)${o?.array??""}`,s({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function o(e){let t="";const n=e.length;for(let r=0;r<n;r++)t+=s(e[r]),r!==n-1&&(t+=", ");return t}},4102:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var r=n(9516);function i(e){return{address:e.address,amount:r.oB(e.amount),index:r.oB(e.index),validatorIndex:r.oB(e.validatorIndex)}}function s(e){return{..."bigint"==typeof e.baseFeePerGas&&{baseFeePerGas:r.oB(e.baseFeePerGas)},..."bigint"==typeof e.blobBaseFee&&{blobBaseFee:r.oB(e.blobBaseFee)},..."string"==typeof e.feeRecipient&&{feeRecipient:e.feeRecipient},..."bigint"==typeof e.gasLimit&&{gasLimit:r.oB(e.gasLimit)},..."bigint"==typeof e.number&&{number:r.oB(e.number)},..."bigint"==typeof e.prevRandao&&{prevRandao:r.oB(e.prevRandao)},..."bigint"==typeof e.time&&{time:r.oB(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(i)}}}},4156:(e,t,n)=>{const r=n(829);function i(e,t,n){const r=e[t]+e[n];let i=e[t+1]+e[n+1];r>=4294967296&&i++,e[t]=r,e[t+1]=i}function s(e,t,n,r){let i=e[t]+n;n<0&&(i+=4294967296);let s=e[t+1]+r;i>=4294967296&&s++,e[t]=i,e[t+1]=s}function o(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function a(e,t,n,r,o,a){const c=d[o],l=d[o+1],h=d[a],f=d[a+1];i(u,e,t),s(u,e,c,l);let p=u[r]^u[e],g=u[r+1]^u[e+1];u[r]=g,u[r+1]=p,i(u,n,r),p=u[t]^u[n],g=u[t+1]^u[n+1],u[t]=p>>>24^g<<8,u[t+1]=g>>>24^p<<8,i(u,e,t),s(u,e,h,f),p=u[r]^u[e],g=u[r+1]^u[e+1],u[r]=p>>>16^g<<16,u[r+1]=g>>>16^p<<16,i(u,n,r),p=u[t]^u[n],g=u[t+1]^u[n+1],u[t]=g>>>31^p<<1,u[t+1]=p>>>31^g<<1}const c=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),l=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(e){return 2*e})),u=new Uint32Array(32),d=new Uint32Array(32);function h(e,t){let n=0;for(n=0;n<16;n++)u[n]=e.h[n],u[n+16]=c[n];for(u[24]=u[24]^e.t,u[25]=u[25]^e.t/4294967296,t&&(u[28]=~u[28],u[29]=~u[29]),n=0;n<32;n++)d[n]=o(e.b,4*n);for(n=0;n<12;n++)a(0,8,16,24,l[16*n+0],l[16*n+1]),a(2,10,18,26,l[16*n+2],l[16*n+3]),a(4,12,20,28,l[16*n+4],l[16*n+5]),a(6,14,22,30,l[16*n+6],l[16*n+7]),a(0,10,20,30,l[16*n+8],l[16*n+9]),a(2,12,22,24,l[16*n+10],l[16*n+11]),a(4,14,16,26,l[16*n+12],l[16*n+13]),a(6,8,18,28,l[16*n+14],l[16*n+15]);for(n=0;n<16;n++)e.h[n]=e.h[n]^u[n]^u[n+16]}const f=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function p(e,t,n,r){if(0===e||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&16!==n.length)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&16!==r.length)throw new Error("Illegal personal, expected Uint8Array with length is 16");const i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};f.fill(0),f[0]=e,t&&(f[1]=t.length),f[2]=1,f[3]=1,n&&f.set(n,32),r&&f.set(r,48);for(let e=0;e<16;e++)i.h[e]=c[e]^o(f,4*e);return t&&(g(i,t),i.c=128),i}function g(e,t){for(let n=0;n<t.length;n++)128===e.c&&(e.t+=e.c,h(e,!1),e.c=0),e.b[e.c++]=t[n]}function m(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;h(e,!0);const t=new Uint8Array(e.outlen);for(let n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n);return t}function y(e,t,n,i,s){n=n||64,e=r.normalizeInput(e),i&&(i=r.normalizeInput(i)),s&&(s=r.normalizeInput(s));const o=p(n,t,i,s);return g(o,e),m(o)}e.exports={blake2b:y,blake2bHex:function(e,t,n,i,s){const o=y(e,t,n,i,s);return r.toHex(o)},blake2bInit:p,blake2bUpdate:g,blake2bFinal:m}},4192:(e,t,n)=>{"use strict";n.d(t,{$P:()=>c,My:()=>l,cK:()=>u,i3:()=>h,nj:()=>a});var r=n(4317),i=n(586),s=n(6675);const o=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function a(e,t={}){return"number"==typeof e||"bigint"==typeof e?u(e,t):"string"==typeof e?h(e,t):"boolean"==typeof e?c(e,t):l(e,t)}function c(e,t={}){const n=`0x${Number(e)}`;return"number"==typeof t.size?((0,s.Sl)(n,{size:t.size}),(0,i.eV)(n,{size:t.size})):n}function l(e,t={}){let n="";for(let t=0;t<e.length;t++)n+=o[e[t]];const r=`0x${n}`;return"number"==typeof t.size?((0,s.Sl)(r,{size:t.size}),(0,i.eV)(r,{dir:"right",size:t.size})):r}function u(e,t={}){const{signed:n,size:s}=t,o=BigInt(e);let a;s?a=n?(1n<<8n*BigInt(s)-1n)-1n:2n**(8n*BigInt(s))-1n:"number"==typeof e&&(a=BigInt(Number.MAX_SAFE_INTEGER));const c="bigint"==typeof a&&n?-a-1n:0;if(a&&o>a||o<c){const t="bigint"==typeof e?"n":"";throw new r.Ty({max:a?`${a}${t}`:void 0,min:`${c}${t}`,signed:n,size:s,value:`${e}${t}`})}const l=`0x${(n&&o<0?(1n<<BigInt(8*s))+BigInt(o):o).toString(16)}`;return s?(0,i.eV)(l,{size:s}):l}const d=new TextEncoder;function h(e,t={}){return l(d.encode(e),t)}},4254:(e,t,n)=>{"use strict";n.d(t,{h:()=>l});var r=n(3033),i=n(4337),s=n(2589),o=n(3692),a=n(9798),c=n(7755);async function l(e,t){const{account:n=e.account,chainId:l,nonce:u}=t;if(!n)throw new i.T({docsPath:"/docs/eip7702/prepareAuthorization"});const d=(0,r.J)(n),h=(()=>{if(t.executor)return"self"===t.executor?t.executor:(0,r.J)(t.executor)})(),f={address:t.contractAddress??t.address,chainId:l,nonce:u};return void 0===f.chainId&&(f.chainId=e.chain?.id??await(0,o.T)(e,a.T,"getChainId")({})),void 0===f.nonce&&(f.nonce=await(0,o.T)(e,c.y,"getTransactionCount")({address:d.address,blockTag:"pending"}),("self"===h||h?.address&&(0,s.h)(h.address,d.address))&&(f.nonce+=1)),f}},4259:(e,t,n)=>{"use strict";n.d(t,{l:()=>i});var r=n(1344);class i extends r.C{constructor({blockHash:e,blockNumber:t}){let n="Block";e&&(n=`Block at hash "${e}"`),t&&(n=`Block at number "${t}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}}},4271:(e,t,n)=>{"use strict";n.d(t,{T:()=>k});var r=n(3606),i=n(4102),s=n(3033),o=n(4823);const a="0x82ad56cb";var c=n(5945),l=n(1344),u=n(8703),d=n(8863),h=n(6652),f=n(5842),p=n(8503),g=n(9985),m=n(4192),y=n(8684),w=n(9789),b=n(7671),v=n(2167),x=n(5547),E=n(332);async function k(e,t){const{account:k=e.account,authorizationList:C,batch:S=Boolean(e.batch?.multicall),blockNumber:I,blockTag:A=e.experimental_blockTag??"latest",accessList:T,blobs:P,blockOverrides:O,code:j,data:N,factory:R,factoryData:$,gas:M,gasPrice:L,maxFeePerBlobGas:B,maxFeePerGas:U,maxPriorityFeePerGas:D,nonce:F,to:z,value:W,stateOverride:q,...H}=t,V=k?(0,s.J)(k):void 0;if(j&&(R||$))throw new l.C("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(j&&z)throw new l.C("Cannot provide both `code` & `to` as parameters.");const K=j&&N,G=R&&$&&z&&N,Z=K||G,Y=K?_({code:j,data:N}):G?function(e){const{data:t,factory:n,factoryData:i,to:s}=e;return(0,f.m)({abi:(0,r.U)(["constructor(address, bytes, address, bytes)"]),bytecode:c.WN,args:[s,t,n,i]})}({data:N,factory:R,factoryData:$,to:z}):N;try{(0,E.c)(t);const n=("bigint"==typeof I?(0,m.cK)(I):void 0)||A,r=O?i.J(O):void 0,s=(0,x.yH)(q),l=e.chain?.formatters?.transactionRequest?.format,f=(l||b.Bv)({...(0,w.o)(H,{format:l}),accessList:T,account:V,authorizationList:C,blobs:P,data:Y,gas:M,gasPrice:L,maxFeePerBlobGas:B,maxFeePerGas:U,maxPriorityFeePerGas:D,nonce:F,to:Z?void 0:z,value:W},"call");if(S&&function({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(a)||!n||Object.values(r).filter(e=>void 0!==e).length>0)}({request:f})&&!s&&!r)try{return await async function(e,t){const{batchSize:n=1024,deployless:r=!1,wait:i=0}="object"==typeof e.batch?.multicall?e.batch.multicall:{},{blockNumber:s,blockTag:a=e.experimental_blockTag??"latest",data:l,to:f}=t,y=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return(0,g.M)({blockNumber:s,chain:e.chain,contract:"multicall3"});throw new u.YE})(),w=("bigint"==typeof s?(0,m.cK)(s):void 0)||a,{schedule:b}=(0,v.u)({id:`${e.uid}.${w}`,wait:i,shouldSplitBatch(e){const t=e.reduce((e,{data:t})=>e+(t.length-2),0);return t>2*n},fn:async t=>{const n=t.map(e=>({allowFailure:!0,callData:e.data,target:e.to})),r=(0,p.p)({abi:o.v2,args:[n],functionName:"aggregate3"}),i=await e.request({method:"eth_call",params:[{...null===y?{data:_({code:c.Ez,data:r})}:{to:y,data:r}},w]});return(0,h.e)({abi:o.v2,args:[n],functionName:"aggregate3",data:i||"0x"})}}),[{returnData:x,success:E}]=await b({data:l,to:f});if(!E)throw new d.$S({data:x});return"0x"===x?{data:void 0}:{data:x}}(e,{...f,blockNumber:I,blockTag:A})}catch(e){if(!(e instanceof u.YE||e instanceof u.rj))throw e}const y=(()=>{const e=[f,n];return s&&r?[...e,s,r]:s?[...e,s]:r?[...e,{},r]:e})(),k=await e.request({method:"eth_call",params:y});return"0x"===k?{data:void 0}:{data:k}}catch(r){const i=function(e){if(!(e instanceof l.C))return;const t=e.walk();return"object"==typeof t?.data?t.data?.data:t.data}(r),{offchainLookup:s,offchainLookupSignature:o}=await n.e(9721).then(n.bind(n,9721));if(!1!==e.ccipRead&&i?.slice(0,10)===o&&z)return{data:await s(e,{data:i,to:z})};if(Z&&"0x101bb98d"===i?.slice(0,10))throw new d.Po({factory:R});throw(0,y.d)(r,{...t,account:V,chain:e.chain})}}function _(e){const{code:t,data:n}=e;return(0,f.m)({abi:(0,r.U)(["constructor(bytes, bytes)"]),bytecode:c.LX,args:[t,n]})}},4281:(e,t)=>{"use strict";function n(e,t,n){return t<=e&&e<=n}function r(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function i(e){this.tokens=[].slice.call(e)}i.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var s=-1;function o(e,t){if(e)throw TypeError("Decoder error");return t||65533}var a="utf-8";function c(e,t){if(!(this instanceof c))return new c(e,t);if((e=void 0!==e?String(e).toLowerCase():a)!==a)throw new Error("Encoding not supported. Only utf-8 is supported");t=r(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function l(e,t){if(!(this instanceof l))return new l(e,t);if((e=void 0!==e?String(e).toLowerCase():a)!==a)throw new Error("Encoding not supported. Only utf-8 is supported");t=r(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function u(e){var t=e.fatal,r=0,i=0,a=0,c=128,l=191;this.handler=function(e,u){if(-1===u&&0!==a)return a=0,o(t);if(-1===u)return s;if(0===a){if(n(u,0,127))return u;if(n(u,194,223))a=1,r=u-192;else if(n(u,224,239))224===u&&(c=160),237===u&&(l=159),a=2,r=u-224;else{if(!n(u,240,244))return o(t);240===u&&(c=144),244===u&&(l=143),a=3,r=u-240}return r<<=6*a,null}if(!n(u,c,l))return r=a=i=0,c=128,l=191,e.prepend(u),o(t);if(c=128,l=191,r+=u-128<<6*(a-(i+=1)),i!==a)return null;var d=r;return r=a=i=0,d}}function d(e){e.fatal,this.handler=function(e,t){if(-1===t)return s;if(n(t,0,127))return t;var r,i;n(t,128,2047)?(r=1,i=192):n(t,2048,65535)?(r=2,i=224):n(t,65536,1114111)&&(r=3,i=240);for(var o=[(t>>6*r)+i];r>0;){var a=t>>6*(r-1);o.push(128|63&a),r-=1}return o}}c.prototype={decode:function(e,t){var n;n="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=r(t),this._streaming||(this._decoder=new u({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var o,a=new i(n),c=[];!a.endOfStream()&&(o=this._decoder.handler(a,a.read()))!==s;)null!==o&&(Array.isArray(o)?c.push.apply(c,o):c.push(o));if(!this._streaming){do{if((o=this._decoder.handler(a,a.read()))===s)break;null!==o&&(Array.isArray(o)?c.push.apply(c,o):c.push(o))}while(!a.endOfStream());this._decoder=null}return c.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===c[0]?(this._BOMseen=!0,c.shift()):this._BOMseen=!0)),function(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return t}(c)}},l.prototype={encode:function(e,t){e=e?String(e):"",t=r(t),this._streaming||(this._encoder=new d(this._options)),this._streaming=Boolean(t.stream);for(var n,o=[],a=new i(function(e){for(var t=String(e),n=t.length,r=0,i=[];r<n;){var s=t.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=e.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=1023&s,c=1023&o;i.push(65536+(a<<10)+c),r+=1}else i.push(65533)}r+=1}return i}(e));!a.endOfStream()&&(n=this._encoder.handler(a,a.read()))!==s;)Array.isArray(n)?o.push.apply(o,n):o.push(n);if(!this._streaming){for(;(n=this._encoder.handler(a,a.read()))!==s;)Array.isArray(n)?o.push.apply(o,n):o.push(n);this._encoder=null}return new Uint8Array(o)}},t.TextEncoder=l,t.TextDecoder=c},4306:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(1344);class i extends r.C{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}},4317:(e,t,n)=>{"use strict";n.d(t,{H2:()=>o,Ty:()=>i,u:()=>a,xO:()=>s});var r=n(1344);class i extends r.C{constructor({max:e,min:t,signed:n,size:r,value:i}){super(`Number "${i}" is not in safe ${r?`${8*r}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class s extends r.C{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class o extends r.C{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}r.C;class a extends r.C{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}},4337:(e,t,n)=>{"use strict";n.d(t,{T:()=>i,Z:()=>s});var r=n(1344);class i extends r.C{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join("\n"),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class s extends r.C{constructor({docsPath:e,metaMessages:t,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:e,metaMessages:t,name:"AccountTypeNotSupportedError"})}}},4357:(e,t,n)=>{const r=n(208);function i(e){this.mode=r.NUMERIC,this.data=e.toString()}i.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);const i=this.data.length-t;i>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,3*i+1))},e.exports=i},4365:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(7007),i=n(3554),s=n(9031);const o=e=>e.split("?")[0],a=typeof WebSocket<"u"?WebSocket:typeof n.g<"u"&&typeof n.g.WebSocket<"u"?n.g.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:n(796);class c{constructor(e){if(this.url=e,this.events=new r.EventEmitter,this.registering=!1,!(0,s.isWsUrl)(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{typeof this.socket>"u"?t(new Error("Connection already closed")):(this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close())})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send((0,i.h)(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!(0,s.isWsUrl)(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(new Error("WebSocket connection is missing or invalid"));e(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,r)=>{const i=(0,s.isReactNative)()?void 0:{rejectUnauthorized:!(0,s.isLocalhostUrl)(e)},o=new a(e,[],i);typeof WebSocket<"u"||typeof n.g<"u"&&typeof n.g.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"?o.onerror=e=>{const t=e;r(this.emitError(t.error))}:o.on("error",e=>{r(this.emitError(e))}),o.onopen=()=>{this.onOpen(o),t(o)}})}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?(0,i.j)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),r=n.message||n.toString(),i=(0,s.formatJsonRpcError)(e,r);this.events.emit("payload",i)}parseError(e,t=this.url){return(0,s.parseConnectionError)(e,o(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){const t=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${o(this.url)}`));return this.events.emit("register_error",t),t}}},4410:(e,t,n)=>{"use strict";n.d(t,{Uf:()=>u,XW:()=>d,fO:()=>c,jf:()=>l,zR:()=>a});const r="PARSE_ERROR",i="INVALID_REQUEST",s="METHOD_NOT_FOUND",o="INVALID_PARAMS",a="INTERNAL_ERROR",c="SERVER_ERROR",l=[-32700,-32600,-32601,-32602,-32603],u={[r]:{code:-32700,message:"Parse error"},[i]:{code:-32600,message:"Invalid Request"},[s]:{code:-32601,message:"Method not found"},[o]:{code:-32602,message:"Invalid params"},[a]:{code:-32603,message:"Internal error"},[c]:{code:-32e3,message:"Server error"}},d=c},4427:(e,t,n)=>{"use strict";n.d(t,{Zh:()=>c});var r=n(4531),i=n(5419),s=n(4192),o=n(2040),a=n(8864);function c(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:(0,a.H4)({domain:t}),...e.types};(0,a.$$)({domain:t,message:n,primaryType:r,types:s});const c=["0x1901"];return t&&c.push(function({domain:e,types:t}){return l({data:e,primaryType:"EIP712Domain",types:t})}({domain:t,types:s})),"EIP712Domain"!==r&&c.push(l({data:n,primaryType:r,types:s})),(0,o.S)((0,i.xW)(c))}function l({data:e,primaryType:t,types:n}){const r=u({data:e,primaryType:t,types:n});return(0,o.S)(r)}function u({data:e,primaryType:t,types:n}){const i=[{type:"bytes32"}],s=[d({primaryType:t,types:n})];for(const r of n[t]){const[t,o]=f({types:n,name:r.name,type:r.type,value:e[r.name]});i.push(t),s.push(o)}return(0,r.h)(i,s)}function d({primaryType:e,types:t}){const n=(0,s.nj)(function({primaryType:e,types:t}){let n="";const r=h({primaryType:e,types:t});r.delete(e);const i=[e,...Array.from(r).sort()];for(const e of i)n+=`${e}(${t[e].map(({name:e,type:t})=>`${t} ${e}`).join(",")})`;return n}({primaryType:e,types:t}));return(0,o.S)(n)}function h({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),i=r?.[0];if(n.has(i)||void 0===t[i])return n;n.add(i);for(const e of t[i])h({primaryType:e.type,types:t},n);return n}function f({types:e,name:t,type:n,value:i}){if(void 0!==e[n])return[{type:"bytes32"},(0,o.S)(u({data:i,primaryType:n,types:e}))];if("bytes"===n)return i="0x"+((i.length%2?"0":"")+i.slice(2)),[{type:"bytes32"},(0,o.S)(i)];if("string"===n)return[{type:"bytes32"},(0,o.S)((0,s.nj)(i))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),a=i.map(n=>f({name:t,type:s,types:e,value:n}));return[{type:"bytes32"},(0,o.S)((0,r.h)(a.map(([e])=>e),a.map(([,e])=>e)))]}return[{type:n},i]}},4453:(e,t,n)=>{"use strict";n.d(t,{J9:()=>s,Mc:()=>i,fD:()=>r});const r={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},i={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},s={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}},4477:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,c=e[a],l=a+1,u=e[l];if(0>s(c,n))l<i&&0>s(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[a]=n,r=a);else{if(!(l<i&&0>s(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,y=!1,w="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function E(e){if(m=!1,x(e),!g)if(null!==r(l))g=!0,_||(_=!0,k());else{var t=r(u);null!==t&&j(E,t.startTime-e)}}var k,_=!1,C=-1,S=5,I=-1;function A(){return!(!y&&t.unstable_now()-I<S)}function T(){if(y=!1,_){var e=t.unstable_now();I=e;var n=!0;try{e:{g=!1,m&&(m=!1,b(C),C=-1),p=!0;var s=f;try{t:{for(x(e),h=r(l);null!==h&&!(h.expirationTime>e&&A());){var o=h.callback;if("function"==typeof o){h.callback=null,f=h.priorityLevel;var a=o(h.expirationTime<=e);if(e=t.unstable_now(),"function"==typeof a){h.callback=a,x(e),n=!0;break t}h===r(l)&&i(l),x(e)}else i(l);h=r(l)}if(null!==h)n=!0;else{var c=r(u);null!==c&&j(E,c.startTime-e),n=!1}}break e}finally{h=null,f=s,p=!1}n=void 0}}finally{n?k():_=!1}}}if("function"==typeof v)k=function(){v(T)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=T,k=function(){O.postMessage(null)}}else k=function(){w(T,0)};function j(e,n){C=w(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?o+s:o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(l)&&e===r(u)&&(m?(b(C),C=-1):m=!0,j(E,s-o))):(e.sortIndex=a,n(l,e),g||p||(g=!0,_||(_=!0,k()))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},4486:(e,t,n)=>{"use strict";n.d(t,{A:()=>i,b:()=>r});var r=n(228);const i=r},4531:(e,t,n)=>{"use strict";n.d(t,{h:()=>p,k:()=>y});var r=n(7372),i=n(4306),s=n(1344),o=n(4317),a=n(9873),c=n(5419),l=n(586),u=n(5182),d=n(3577),h=n(4192),f=n(8213);function p(e,t){if(e.length!==t.length)throw new r.YE({expectedLength:e.length,givenLength:t.length});const n=function({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(g({param:e[r],value:t[r]}));return n}({params:e,values:t}),i=m(n);return 0===i.length?"0x":i}function g({param:e,value:t}){const n=y(e.type);if(n){const[i,s]=n;return function(e,{length:t,param:n}){const i=null===t;if(!Array.isArray(e))throw new r.dm(e);if(!i&&e.length!==t)throw new r.Nc({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let t=0;t<e.length;t++){const r=g({param:n,value:e[t]});r.dynamic&&(s=!0),o.push(r)}if(i||s){const e=m(o);if(i){const t=(0,h.cK)(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?(0,c.xW)([t,e]):t}}if(s)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:(0,c.xW)(o.map(({encoded:e})=>e))}}(t,{length:i,param:{...e,type:s}})}if("tuple"===e.type)return function(e,{param:t}){let n=!1;const r=[];for(let i=0;i<t.components.length;i++){const s=t.components[i],o=g({param:s,value:e[Array.isArray(e)?i:s.name]});r.push(o),o.dynamic&&(n=!0)}return{dynamic:n,encoded:n?m(r):(0,c.xW)(r.map(({encoded:e})=>e))}}(t,{param:e});if("address"===e.type)return function(e){if(!(0,a.P)(e))throw new i.M({address:e});return{dynamic:!1,encoded:(0,l.db)(e.toLowerCase())}}(t);if("bool"===e.type)return function(e){if("boolean"!=typeof e)throw new s.C(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:(0,l.db)((0,h.$P)(e))}}(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const n=e.type.startsWith("int"),[,,r="256"]=f.Ge.exec(e.type)??[];return function(e,{signed:t,size:n=256}){if("number"==typeof n){const r=2n**(BigInt(n)-(t?1n:0n))-1n,i=t?-r-1n:0n;if(e>r||e<i)throw new o.Ty({max:r.toString(),min:i.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:(0,h.cK)(e,{size:32,signed:t})}}(t,{signed:n,size:Number(r)})}if(e.type.startsWith("bytes"))return function(e,{param:t}){const[,n]=t.type.split("bytes"),i=(0,u.E)(e);if(!n){let t=e;return i%32!=0&&(t=(0,l.db)(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:(0,c.xW)([(0,l.db)((0,h.cK)(i,{size:32})),t])}}if(i!==Number.parseInt(n,10))throw new r.gH({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:(0,l.db)(e,{dir:"right"})}}(t,{param:e});if("string"===e.type)return function(e){const t=(0,h.i3)(e),n=Math.ceil((0,u.E)(t)/32),r=[];for(let e=0;e<n;e++)r.push((0,l.db)((0,d.di)(t,32*e,32*(e+1)),{dir:"right"}));return{dynamic:!0,encoded:(0,c.xW)([(0,l.db)((0,h.cK)((0,u.E)(t),{size:32})),...r])}}(t);throw new r.nK(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function m(e){let t=0;for(let n=0;n<e.length;n++){const{dynamic:r,encoded:i}=e[n];t+=r?32:(0,u.E)(i)}const n=[],r=[];let i=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?(n.push((0,h.cK)(t+i,{size:32})),r.push(a),i+=(0,u.E)(a)):n.push(a)}return(0,c.xW)([...n,...r])}function y(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}},4548:(e,t,n)=>{var r=n(8287).Buffer;const{keccak_256:i}=n(2955);function s(e){return r.allocUnsafe(e).fill(0)}function o(e,t){let n=e.toString(16);n.length%2!=0&&(n="0"+n);const i=n.match(/.{1,2}/g).map(e=>parseInt(e,16));for(;i.length<t;)i.unshift(0);return r.from(i)}function a(e,t,n){const r=s(t);return e=c(e),n?e.length<t?(e.copy(r),r):e.slice(0,t):e.length<t?(e.copy(r,t-e.length),r):e.slice(-t)}function c(e){if(!r.isBuffer(e))if(Array.isArray(e))e=r.from(e);else if("string"==typeof e)e=l(e)?r.from((t=u(e)).length%2?"0"+t:t,"hex"):r.from(e);else if("number"==typeof e)e=intToBuffer(e);else if(null==e)e=r.allocUnsafe(0);else if("bigint"==typeof e)e=o(e);else{if(!e.toArray)throw new Error("invalid type");e=r.from(e.toArray())}var t;return e}function l(e){return"string"==typeof e&&e.match(/^0x[0-9A-Fa-f]*$/)}function u(e){return"string"==typeof e&&e.startsWith("0x")?e.slice(2):e}e.exports={zeros:s,setLength:a,setLengthRight:function(e,t){return a(e,t,!0)},isHexString:l,stripHexPrefix:u,toBuffer:c,bufferToHex:function(e){return"0x"+(e=c(e)).toString("hex")},keccak:function(e,t){if(e=c(e),t||(t=256),256!==t)throw new Error("unsupported");return r.from(i(new Uint8Array(e)))},bitLengthFromBigInt:function(e){return e.toString(2).length},bufferBEFromBigInt:o,twosFromBigInt:function(e,t){let n;return n=e<0n?1n+(~e&(1n<<BigInt(t))-1n):e,n&=(1n<<BigInt(t))-1n,n}}},4551:(e,t,n)=>{"use strict";n.d(t,{s:()=>E});var r=n(1454),i=n(2531),s=n(1848),o=n(615),a=n(8030);const c=(e,t)=>(e+(e>=0?t:-t)/g)/t;function l(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function u(e,t){const n={};for(let r of Object.keys(t))n[r]=void 0===e[r]?t[r]:e[r];return(0,s.d6)(n.lowS,"lowS"),(0,s.d6)(n.prehash,"prehash"),void 0!==n.format&&l(n.format),n}class d extends Error{constructor(e=""){super(e)}}const h={Err:d,_tlv:{encode:(e,t)=>{const{Err:n}=h;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=(0,s.zW)(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?(0,s.zW)(i.length/2|128):"";return(0,s.zW)(e)+o+i+t},decode(e,t){const{Err:n}=h;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let s=0;if(128&i){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const o=t.subarray(r,r+e);if(o.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===o[0])throw new n("tlv.decode(long): zero leftmost byte");for(const e of o)s=s<<8|e;if(r+=e,s<128)throw new n("tlv.decode(long): not minimal encoding")}else s=i;const o=t.subarray(r,r+s);if(o.length!==s)throw new n("tlv.decode: wrong value length");return{v:o,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=h;if(e<f)throw new t("integer: negative integers are not allowed");let n=(0,s.zW)(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=h;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return(0,s.Ph)(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=h,i=(0,s.qj)("signature",e),{v:o,l:a}=r.decode(48,i);if(a.length)throw new t("invalid signature: left bytes after parsing");const{v:c,l}=r.decode(2,o),{v:u,l:d}=r.decode(2,l);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=h,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}},f=BigInt(0),p=BigInt(1),g=BigInt(2),m=BigInt(3),y=BigInt(4);function w(e,t){const{BYTES:n}=e;let r;if("bigint"==typeof t)r=t;else{let i=(0,s.qj)("private key",t);try{r=e.fromBytes(i)}catch(e){throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function b(e){return Uint8Array.of(e?2:3)}function v(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function x(e){const{CURVE:t,curveOpts:n,hash:d,ecdsaOpts:x}=function(e){const{CURVE:t,curveOpts:n}=function(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(e=>Math.ceil(e/2)))):void 0;return{CURVE:t,curveOpts:{Fp:n,Fn:(0,a.D0)(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes}}}(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}(e);return function(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,(0,a.LH)(n.Fn.ORDER,n.Fn.BITS))})}(e,function(e,t,n={}){(0,i.sd)(t),(0,s.DS)(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const o=n.randomBytes||i.po,c=n.hmac||((e,...n)=>(0,r.w)(t,e,(0,i.Id)(...n))),{Fp:d,Fn:m}=e,{ORDER:y,BITS:x}=m,{keygen:E,getPublicKey:k,getSharedSecret:_,utils:C,lengths:S}=function(e,t={}){const{Fn:n}=e,r=t.randomBytes||i.po,o=Object.assign(v(e.Fp,n),{seed:(0,a.Tp)(n.ORDER)});function c(e){try{return!!w(n,e)}catch(e){return!1}}function l(e=r(o.seed)){return(0,a.qy)((0,s.eV)(e,o.seed,"seed"),n.ORDER)}function u(t,r=!0){return e.BASE.multiply(w(n,t)).toBytes(r)}function d(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;const{secretKey:r,publicKey:i,publicKeyUncompressed:a}=o;if(n.allowedLengths||r===i)return;const c=(0,s.qj)("key",t).length;return c===i||c===a}const h={isValidSecretKey:c,isValidPublicKey:function(t,n){const{publicKey:r,publicKeyUncompressed:i}=o;try{const s=t.length;return!(!0===n&&s!==r||!1===n&&s!==i||!e.fromBytes(t))}catch(e){return!1}},randomSecretKey:l,isValidPrivateKey:c,randomPrivateKey:l,normPrivateKeyToScalar:e=>w(n,e),precompute:(t=8,n=e.BASE)=>n.precompute(t,!1)};return Object.freeze({getPublicKey:u,getSharedSecret:function(t,r,i=!0){if(!0===d(t))throw new Error("first arg must be private key");if(!1===d(r))throw new Error("second arg must be public key");const s=w(n,t);return e.fromHex(r).multiply(s).toBytes(i)},keygen:function(e){const t=l(e);return{secretKey:t,publicKey:u(t)}},Point:e,utils:h,lengths:o})}(e,n),I={prehash:!1,lowS:"boolean"==typeof n.lowS&&n.lowS,format:void 0,extraEntropy:!1},A="compact";function T(e){return e>y>>p}function P(e,t){if(!m.isValidNot0(t))throw new Error(`invalid signature ${e}: out of range 1..Point.Fn.ORDER`);return t}class O{constructor(e,t,n){this.r=P("r",e),this.s=P("s",t),null!=n&&(this.recovery=n),Object.freeze(this)}static fromBytes(e,t=A){let n;if(function(e,t){l(t);const n=S.signature,r="compact"===t?n:"recovered"===t?n+1:void 0;(0,s.eV)(e,r,`${t} signature`)}(e,t),"der"===t){const{r:t,s:n}=h.toSig((0,s.eV)(e));return new O(t,n)}"recovered"===t&&(n=e[0],t="compact",e=e.subarray(1));const r=m.BYTES,i=e.subarray(0,r),o=e.subarray(r,2*r);return new O(m.fromBytes(i),m.fromBytes(o),n)}static fromHex(e,t){return this.fromBytes((0,i.aT)(e),t)}addRecoveryBit(e){return new O(this.r,this.s,e)}recoverPublicKey(t){const n=d.ORDER,{r,s:o,recovery:a}=this;if(null==a||![0,1,2,3].includes(a))throw new Error("recovery id invalid");if(y*g<n&&a>1)throw new Error("recovery id is ambiguous for h>1 curve");const c=2===a||3===a?r+y:r;if(!d.isValid(c))throw new Error("recovery id 2 or 3 invalid");const l=d.toBytes(c),u=e.fromBytes((0,i.Id)(b(!(1&a)),l)),h=m.inv(c),f=N((0,s.qj)("msgHash",t)),p=m.create(-f*h),w=m.create(o*h),v=e.BASE.multiplyUnsafe(p).add(u.multiplyUnsafe(w));if(v.is0())throw new Error("point at infinify");return v.assertValidity(),v}hasHighS(){return T(this.s)}toBytes(e=A){if(l(e),"der"===e)return(0,i.aT)(h.hexFromSig(this));const t=m.toBytes(this.r),n=m.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw new Error("recovery bit must be present");return(0,i.Id)(Uint8Array.of(this.recovery),t,n)}return(0,i.Id)(t,n)}toHex(e){return(0,i.My)(this.toBytes(e))}assertValidity(){}static fromCompact(e){return O.fromBytes((0,s.qj)("sig",e),"compact")}static fromDER(e){return O.fromBytes((0,s.qj)("sig",e),"der")}normalizeS(){return this.hasHighS()?new O(this.r,m.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return(0,i.My)(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return(0,i.My)(this.toBytes("compact"))}}const j=n.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=(0,s.Ph)(e),n=8*e.length-x;return n>0?t>>BigInt(n):t},N=n.bits2int_modN||function(e){return m.create(j(e))},R=(0,s.OG)(x);function $(e){return(0,s.aK)("num < 2^"+x,e,f,R),m.toBytes(e)}function M(e,n){return(0,s.eV)(e,void 0,"message"),n?(0,s.eV)(t(e),void 0,"prehashed message"):e}return Object.freeze({keygen:E,getPublicKey:k,getSharedSecret:_,utils:C,lengths:S,Point:e,sign:function(n,r,a={}){n=(0,s.qj)("message",n);const{seed:l,k2sig:d}=function(t,n,r){if(["recovered","canonical"].some(e=>e in r))throw new Error("sign() legacy options not supported");const{lowS:a,prehash:c,extraEntropy:l}=u(r,I);t=M(t,c);const d=N(t),h=w(m,n),g=[$(h),$(d)];if(null!=l&&!1!==l){const e=!0===l?o(S.secretKey):l;g.push((0,s.qj)("extraEntropy",e))}const y=(0,i.Id)(...g),b=d;return{seed:y,k2sig:function(t){const n=j(t);if(!m.isValidNot0(n))return;const r=m.inv(n),i=e.BASE.multiply(n).toAffine(),s=m.create(i.x);if(s===f)return;const o=m.create(r*m.create(b+s*h));if(o===f)return;let c=(i.x===s?0:2)|Number(i.y&p),l=o;return a&&T(o)&&(l=m.neg(o),c^=1),new O(s,l,c)}}}(n,r,a);return(0,s.fg)(t.outputLen,m.BYTES,c)(l,d)},verify:function(t,n,r,o={}){const{lowS:a,prehash:c,format:l}=u(o,I);if(r=(0,s.qj)("publicKey",r),n=M((0,s.qj)("message",n),c),"strict"in o)throw new Error("options.strict was renamed to lowS");const d=void 0===l?function(e){let t;const n="string"==typeof e||(0,i.aY)(e),r=!n&&null!==e&&"object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!n&&!r)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(r)t=new O(e.r,e.s);else if(n){try{t=O.fromBytes((0,s.qj)("sig",e),"der")}catch(e){if(!(e instanceof h.Err))throw e}if(!t)try{t=O.fromBytes((0,s.qj)("sig",e),"compact")}catch(e){return!1}}return t||!1}(t):O.fromBytes((0,s.qj)("sig",t),l);if(!1===d)return!1;try{const t=e.fromBytes(r);if(a&&d.hasHighS())return!1;const{r:i,s}=d,o=N(n),c=m.inv(s),l=m.create(o*c),u=m.create(i*c),h=e.BASE.multiplyUnsafe(l).add(t.multiplyUnsafe(u));return!h.is0()&&m.create(h.x)===i}catch(e){return!1}},recoverPublicKey:function(e,t,n={}){const{prehash:r}=u(n,I);return t=M(t,r),O.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:O,hash:t})}(function(e,t={}){const n=(0,o.UT)("weierstrass",e,t),{Fp:r,Fn:a}=n;let l=n.CURVE;const{h:u,n:d}=l;(0,s.DS)(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:h}=t;if(h&&(!r.is0(l.a)||"bigint"!=typeof h.beta||!Array.isArray(h.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const g=v(r,a);function x(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const E=t.toBytes||function(e,t,n){const{x:o,y:a}=t.toAffine(),c=r.toBytes(o);if((0,s.d6)(n,"isCompressed"),n){x();const e=!r.isOdd(a);return(0,i.Id)(b(e),c)}return(0,i.Id)(Uint8Array.of(4),c,r.toBytes(a))},k=t.fromBytes||function(e){(0,s.eV)(e,void 0,"Point");const{publicKey:t,publicKeyUncompressed:n}=g,i=e.length,o=e[0],a=e.subarray(1);if(i!==t||2!==o&&3!==o){if(i===n&&4===o){const e=r.BYTES,t=r.fromBytes(a.subarray(0,e)),n=r.fromBytes(a.subarray(e,2*e));if(!C(t,n))throw new Error("bad point: is not on curve");return{x:t,y:n}}throw new Error(`bad point: got length ${i}, expected compressed=${t} or uncompressed=${n}`)}{const e=r.fromBytes(a);if(!r.isValid(e))throw new Error("bad point: is not on curve, wrong x");const t=_(e);let n;try{n=r.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("bad point: is not on curve, sqrt error"+t)}return x(),!(1&~o)!==r.isOdd(n)&&(n=r.neg(n)),{x:e,y:n}}};function _(e){const t=r.sqr(e),n=r.mul(t,e);return r.add(r.add(n,r.mul(e,l.a)),l.b)}function C(e,t){const n=r.sqr(t),i=_(e);return r.eql(n,i)}if(!C(l.Gx,l.Gy))throw new Error("bad curve params: generator point");const S=r.mul(r.pow(l.a,m),y),I=r.mul(r.sqr(l.b),BigInt(27));if(r.is0(r.add(S,I)))throw new Error("bad curve params: a or b");function A(e,t,n=!1){if(!r.isValid(t)||n&&r.is0(t))throw new Error(`bad point coordinate ${e}`);return t}function T(e){if(!(e instanceof R))throw new Error("ProjectivePoint expected")}function P(e){if(!h||!h.basises)throw new Error("no endo");return function(e,t,n){const[[r,i],[o,a]]=t,l=c(a*e,n),u=c(-i*e,n);let d=e-l*r-u*o,h=-l*i-u*a;const g=d<f,m=h<f;g&&(d=-d),m&&(h=-h);const y=(0,s.OG)(Math.ceil((0,s.dJ)(n)/2))+p;if(d<f||d>=y||h<f||h>=y)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:g,k1:d,k2neg:m,k2:h}}(e,h.basises,a.ORDER)}const O=(0,s.x)((e,t)=>{const{X:n,Y:i,Z:s}=e;if(r.eql(s,r.ONE))return{x:n,y:i};const o=e.is0();null==t&&(t=o?r.ONE:r.inv(s));const a=r.mul(n,t),c=r.mul(i,t),l=r.mul(s,t);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw new Error("invZ was invalid");return{x:a,y:c}}),j=(0,s.x)(e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.Y))return;throw new Error("bad point: ZERO")}const{x:n,y:i}=e.toAffine();if(!r.isValid(n)||!r.isValid(i))throw new Error("bad point: x or y not field elements");if(!C(n,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function N(e,t,n,i,s){return n=new R(r.mul(n.X,e),n.Y,n.Z),t=(0,o.u0)(i,t),n=(0,o.u0)(s,n),t.add(n)}class R{constructor(e,t,n){this.X=A("x",e),this.Y=A("y",t,!0),this.Z=A("z",n),Object.freeze(this)}static CURVE(){return l}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof R)throw new Error("projective point not allowed");return r.is0(t)&&r.is0(n)?R.ZERO:new R(t,n,r.ONE)}static fromBytes(e){const t=R.fromAffine(k((0,s.eV)(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return R.fromBytes((0,s.qj)("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return M.createCache(this,e),t||this.multiply(m),this}assertValidity(){j(this)}hasEvenY(){const{y:e}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(e)}equals(e){T(e);const{X:t,Y:n,Z:i}=this,{X:s,Y:o,Z:a}=e,c=r.eql(r.mul(t,a),r.mul(s,i)),l=r.eql(r.mul(n,a),r.mul(o,i));return c&&l}negate(){return new R(this.X,r.neg(this.Y),this.Z)}double(){const{a:e,b:t}=l,n=r.mul(t,m),{X:i,Y:s,Z:o}=this;let a=r.ZERO,c=r.ZERO,u=r.ZERO,d=r.mul(i,i),h=r.mul(s,s),f=r.mul(o,o),p=r.mul(i,s);return p=r.add(p,p),u=r.mul(i,o),u=r.add(u,u),a=r.mul(e,u),c=r.mul(n,f),c=r.add(a,c),a=r.sub(h,c),c=r.add(h,c),c=r.mul(a,c),a=r.mul(p,a),u=r.mul(n,u),f=r.mul(e,f),p=r.sub(d,f),p=r.mul(e,p),p=r.add(p,u),u=r.add(d,d),d=r.add(u,d),d=r.add(d,f),d=r.mul(d,p),c=r.add(c,d),f=r.mul(s,o),f=r.add(f,f),d=r.mul(f,p),a=r.sub(a,d),u=r.mul(f,h),u=r.add(u,u),u=r.add(u,u),new R(a,c,u)}add(e){T(e);const{X:t,Y:n,Z:i}=this,{X:s,Y:o,Z:a}=e;let c=r.ZERO,u=r.ZERO,d=r.ZERO;const h=l.a,f=r.mul(l.b,m);let p=r.mul(t,s),g=r.mul(n,o),y=r.mul(i,a),w=r.add(t,n),b=r.add(s,o);w=r.mul(w,b),b=r.add(p,g),w=r.sub(w,b),b=r.add(t,i);let v=r.add(s,a);return b=r.mul(b,v),v=r.add(p,y),b=r.sub(b,v),v=r.add(n,i),c=r.add(o,a),v=r.mul(v,c),c=r.add(g,y),v=r.sub(v,c),d=r.mul(h,b),c=r.mul(f,y),d=r.add(c,d),c=r.sub(g,d),d=r.add(g,d),u=r.mul(c,d),g=r.add(p,p),g=r.add(g,p),y=r.mul(h,y),b=r.mul(f,b),g=r.add(g,y),y=r.sub(p,y),y=r.mul(h,y),b=r.add(b,y),p=r.mul(g,b),u=r.add(u,p),p=r.mul(v,b),c=r.mul(w,c),c=r.sub(c,p),p=r.mul(w,g),d=r.mul(v,d),d=r.add(d,p),new R(c,u,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(R.ZERO)}multiply(e){const{endo:n}=t;if(!a.isValidNot0(e))throw new Error("invalid scalar: out of range");let r,i;const s=e=>M.cached(this,e,e=>(0,o.Ak)(R,e));if(n){const{k1neg:t,k1:o,k2neg:a,k2:c}=P(e),{p:l,f:u}=s(o),{p:d,f:h}=s(c);i=u.add(h),r=N(n.beta,l,d,t,a)}else{const{p:t,f:n}=s(e);r=t,i=n}return(0,o.Ak)(R,[r,i])[0]}multiplyUnsafe(e){const{endo:n}=t,r=this;if(!a.isValid(e))throw new Error("invalid scalar: out of range");if(e===f||r.is0())return R.ZERO;if(e===p)return r;if(M.hasCache(this))return this.multiply(e);if(n){const{k1neg:t,k1:i,k2neg:s,k2:a}=P(e),{p1:c,p2:l}=(0,o.fH)(R,r,i,a);return N(n.beta,c,l,t,s)}return M.unsafe(r,e)}multiplyAndAddUnsafe(e,t,n){const r=this.multiplyUnsafe(t).add(e.multiplyUnsafe(n));return r.is0()?void 0:r}toAffine(e){return O(this,e)}isTorsionFree(){const{isTorsionFree:e}=t;return u===p||(e?e(R,this):M.unsafe(this,d).is0())}clearCofactor(){const{clearCofactor:e}=t;return u===p?this:e?e(R,this):this.multiplyUnsafe(u)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}toBytes(e=!0){return(0,s.d6)(e,"isCompressed"),this.assertValidity(),E(R,this,e)}toHex(e=!0){return(0,i.My)(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(e=!0){return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return(0,o.Ak)(R,e)}static msm(e,t){return(0,o.Xf)(R,a,e,t)}static fromPrivateKey(e){return R.BASE.multiply(w(a,e))}}R.BASE=new R(l.Gx,l.Gy,r.ONE),R.ZERO=new R(r.ZERO,r.ONE,r.ZERO),R.Fp=r,R.Fn=a;const $=a.BITS,M=new o.hT(R,t.endo?Math.ceil($/2):$);return R.BASE.precompute(8),R}(t,n),d,x))}function E(e,t){const n=t=>x({...e,hash:t});return{...n(t),create:n}}},4556:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});class r{}},4565:(e,t,n)=>{const r=n(6886),i=r.getBCHDigit(1335);t.getEncodedBits=function(e,t){const n=e.bit<<3|t;let s=n<<10;for(;r.getBCHDigit(s)-i>=0;)s^=1335<<r.getBCHDigit(s)-i;return 21522^(n<<10|s)}},4569:(e,t,n)=>{"use strict";n.d(t,{b:()=>u,o:()=>l});var r=n(4306),i=n(4706),s=n(2040),o=n(6447),a=n(9873);const c=new o.A(8192);function l(e,t){if(c.has(`${e}.${t}`))return c.get(`${e}.${t}`);const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=(0,s.S)((0,i.Af)(n),"bytes"),o=(t?n.substring(`${t}0x`.length):n).split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&o[e]&&(o[e]=o[e].toUpperCase()),(15&r[e>>1])>=8&&o[e+1]&&(o[e+1]=o[e+1].toUpperCase());const a=`0x${o.join("")}`;return c.set(`${e}.${t}`,a),a}function u(e,t){if(!(0,a.P)(e,{strict:!1}))throw new r.M({address:e});return l(e,t)}},4586:(e,t,n)=>{"use strict";n.d(t,{iY:()=>c});var r=n(7372),i=n(6394),s=n(9873),o=n(9777),a=n(2599);function c(e){const{abi:t,args:n=[],name:s}=e,c=(0,i.q)(s,{strict:!1}),d=t.filter(e=>c?"function"===e.type?(0,a.V)(e)===s:"event"===e.type&&(0,o.h)(e)===s:"name"in e&&e.name===s);if(0===d.length)return;if(1===d.length)return d[0];let h;for(const e of d)if("inputs"in e)if(n&&0!==n.length){if(e.inputs&&0!==e.inputs.length&&e.inputs.length===n.length&&n.every((t,n)=>{const r="inputs"in e&&e.inputs[n];return!!r&&l(t,r)})){if(h&&"inputs"in h&&h.inputs){const t=u(e.inputs,h.inputs,n);if(t)throw new r.nM({abiItem:e,type:t[0]},{abiItem:h,type:t[1]})}h=e}}else if(!e.inputs||0===e.inputs.length)return e;return h||d[0]}function l(e,t){const n=typeof e,r=t.type;switch(r){case"address":return(0,s.P)(e,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:return"tuple"===r&&"components"in t?Object.values(t.components).every((t,n)=>l(Object.values(e)[n],t)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?"number"===n||"bigint"===n:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?"string"===n||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)&&Array.isArray(e)&&e.every(e=>l(e,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")}))}}function u(e,t,n){for(const r in e){const i=e[r],o=t[r];if("tuple"===i.type&&"tuple"===o.type&&"components"in i&&"components"in o)return u(i.components,o.components,n[r]);const a=[i.type,o.type];if((()=>!(!a.includes("address")||!a.includes("bytes20"))||(a.includes("address")&&a.includes("string")||!(!a.includes("address")||!a.includes("bytes")))&&(0,s.P)(n[r],{strict:!1}))())return a}}},4654:(e,t)=>{"use strict";function n(e,t){if(this._offset=t,e instanceof ArrayBuffer)this._buffer=e,this._view=new DataView(this._buffer);else{if(!ArrayBuffer.isView(e))throw new Error("Invalid argument");this._buffer=e.buffer,this._view=new DataView(this._buffer,e.byteOffset,e.byteLength)}}function r(e,t,n){for(var r=0,i=0,s=n.length;i<s;i++)(r=n.charCodeAt(i))<128?e.setUint8(t++,r):r<2048?(e.setUint8(t++,192|r>>6),e.setUint8(t++,128|63&r)):r<55296||r>=57344?(e.setUint8(t++,224|r>>12),e.setUint8(t++,128|r>>6&63),e.setUint8(t++,128|63&r)):(i++,r=65536+((1023&r)<<10|1023&n.charCodeAt(i)),e.setUint8(t++,240|r>>18),e.setUint8(t++,128|r>>12&63),e.setUint8(t++,128|r>>6&63),e.setUint8(t++,128|63&r))}function i(e,t,n){var r=typeof n,s=0,o=0,a=0,c=0,l=0,u=0;if("string"===r){if(l=function(e){for(var t=0,n=0,r=0,i=e.length;r<i;r++)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(n),l<32)e.push(160|l),u=1;else if(l<256)e.push(217,l),u=2;else if(l<65536)e.push(218,l>>8,l),u=3;else{if(!(l<4294967296))throw new Error("String too long");e.push(219,l>>24,l>>16,l>>8,l),u=5}return t.push({_str:n,_length:l,_offset:e.length}),u+l}if("number"===r)return Math.floor(n)===n&&isFinite(n)?n>=0?n<128?(e.push(n),1):n<256?(e.push(204,n),2):n<65536?(e.push(205,n>>8,n),3):n<4294967296?(e.push(206,n>>24,n>>16,n>>8,n),5):(a=n/Math.pow(2,32)|0,c=n>>>0,e.push(207,a>>24,a>>16,a>>8,a,c>>24,c>>16,c>>8,c),9):n>=-32?(e.push(n),1):n>=-128?(e.push(208,n),2):n>=-32768?(e.push(209,n>>8,n),3):n>=-2147483648?(e.push(210,n>>24,n>>16,n>>8,n),5):(a=Math.floor(n/Math.pow(2,32)),c=n>>>0,e.push(211,a>>24,a>>16,a>>8,a,c>>24,c>>16,c>>8,c),9):(e.push(203),t.push({_float:n,_length:8,_offset:e.length}),9);if("object"===r){if(null===n)return e.push(192),1;if(Array.isArray(n)){if((l=n.length)<16)e.push(144|l),u=1;else if(l<65536)e.push(220,l>>8,l),u=3;else{if(!(l<4294967296))throw new Error("Array too large");e.push(221,l>>24,l>>16,l>>8,l),u=5}for(s=0;s<l;s++)u+=i(e,t,n[s]);return u}if(n instanceof Date){var d=n.getTime(),h=Math.floor(d/1e3),f=1e6*(d-1e3*h);return h>=0&&f>=0&&h<=17179869183?0===f&&h<=4294967295?(e.push(214,255,h>>24,h>>16,h>>8,h),6):(a=h/4294967296,c=4294967295&h,e.push(215,255,f>>22,f>>14,f>>6,a,c>>24,c>>16,c>>8,c),10):(a=Math.floor(h/4294967296),c=h>>>0,e.push(199,12,255,f>>24,f>>16,f>>8,f,a>>24,a>>16,a>>8,a,c>>24,c>>16,c>>8,c),15)}if(n instanceof ArrayBuffer){if((l=n.byteLength)<256)e.push(196,l),u=2;else if(l<65536)e.push(197,l>>8,l),u=3;else{if(!(l<4294967296))throw new Error("Buffer too large");e.push(198,l>>24,l>>16,l>>8,l),u=5}return t.push({_bin:n,_length:l,_offset:e.length}),u+l}if("function"==typeof n.toJSON)return i(e,t,n.toJSON());var p=[],g="",m=Object.keys(n);for(s=0,o=m.length;s<o;s++)void 0!==n[g=m[s]]&&"function"!=typeof n[g]&&p.push(g);if((l=p.length)<16)e.push(128|l),u=1;else if(l<65536)e.push(222,l>>8,l),u=3;else{if(!(l<4294967296))throw new Error("Object too large");e.push(223,l>>24,l>>16,l>>8,l),u=5}for(s=0;s<l;s++)u+=i(e,t,g=p[s]),u+=i(e,t,n[g]);return u}if("boolean"===r)return e.push(n?195:194),1;if("undefined"===r)return e.push(192),1;if("function"==typeof n.toJSON)return i(e,t,n.toJSON());throw new Error("Could not encode")}Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0,n.prototype._array=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=this._parse();return t},n.prototype._map=function(e){for(var t={},n=0;n<e;n++)t[this._parse()]=this._parse();return t},n.prototype._str=function(e){var t=function(e,t,n){for(var r="",i=0,s=t,o=t+n;s<o;s++){var a=e.getUint8(s);if(128&a)if(192!=(224&a))if(224!=(240&a)){if(240!=(248&a))throw new Error("Invalid byte "+a.toString(16));(i=(7&a)<<18|(63&e.getUint8(++s))<<12|(63&e.getUint8(++s))<<6|63&e.getUint8(++s))>=65536?(i-=65536,r+=String.fromCharCode((i>>>10)+55296,56320+(1023&i))):r+=String.fromCharCode(i)}else r+=String.fromCharCode((15&a)<<12|(63&e.getUint8(++s))<<6|63&e.getUint8(++s));else r+=String.fromCharCode((31&a)<<6|63&e.getUint8(++s));else r+=String.fromCharCode(a)}return r}(this._view,this._offset,e);return this._offset+=e,t},n.prototype._bin=function(e){var t=this._buffer.slice(this._offset,this._offset+e);return this._offset+=e,t},n.prototype._parse=function(){var e,t=this._view.getUint8(this._offset++),n=0,r=0,i=0,s=0;if(t<192)return t<128?t:t<144?this._map(15&t):t<160?this._array(15&t):this._str(31&t);if(t>223)return-1*(255-t+1);switch(t){case 192:return null;case 194:return!1;case 195:return!0;case 196:return n=this._view.getUint8(this._offset),this._offset+=1,this._bin(n);case 197:return n=this._view.getUint16(this._offset),this._offset+=2,this._bin(n);case 198:return n=this._view.getUint32(this._offset),this._offset+=4,this._bin(n);case 199:if(n=this._view.getUint8(this._offset),r=this._view.getInt8(this._offset+1),this._offset+=2,-1===r){var o=this._view.getUint32(this._offset);return i=this._view.getInt32(this._offset+4),s=this._view.getUint32(this._offset+8),this._offset+=12,new Date(1e3*(4294967296*i+s)+o/1e6)}return[r,this._bin(n)];case 200:return n=this._view.getUint16(this._offset),r=this._view.getInt8(this._offset+2),this._offset+=3,[r,this._bin(n)];case 201:return n=this._view.getUint32(this._offset),r=this._view.getInt8(this._offset+4),this._offset+=5,[r,this._bin(n)];case 202:return e=this._view.getFloat32(this._offset),this._offset+=4,e;case 203:return e=this._view.getFloat64(this._offset),this._offset+=8,e;case 204:return e=this._view.getUint8(this._offset),this._offset+=1,e;case 205:return e=this._view.getUint16(this._offset),this._offset+=2,e;case 206:return e=this._view.getUint32(this._offset),this._offset+=4,e;case 207:return i=this._view.getUint32(this._offset)*Math.pow(2,32),s=this._view.getUint32(this._offset+4),this._offset+=8,i+s;case 208:return e=this._view.getInt8(this._offset),this._offset+=1,e;case 209:return e=this._view.getInt16(this._offset),this._offset+=2,e;case 210:return e=this._view.getInt32(this._offset),this._offset+=4,e;case 211:return i=this._view.getInt32(this._offset)*Math.pow(2,32),s=this._view.getUint32(this._offset+4),this._offset+=8,i+s;case 212:return r=this._view.getInt8(this._offset),this._offset+=1,0===r?void(this._offset+=1):[r,this._bin(1)];case 213:return r=this._view.getInt8(this._offset),this._offset+=1,[r,this._bin(2)];case 214:return r=this._view.getInt8(this._offset),this._offset+=1,-1===r?(e=this._view.getUint32(this._offset),this._offset+=4,new Date(1e3*e)):[r,this._bin(4)];case 215:return r=this._view.getInt8(this._offset),this._offset+=1,0===r?(i=this._view.getInt32(this._offset)*Math.pow(2,32),s=this._view.getUint32(this._offset+4),this._offset+=8,new Date(i+s)):-1===r?(i=this._view.getUint32(this._offset),s=this._view.getUint32(this._offset+4),this._offset+=8,new Date(1e3*(4294967296*(3&i)+s)+(i>>>2)/1e6)):[r,this._bin(8)];case 216:return r=this._view.getInt8(this._offset),this._offset+=1,[r,this._bin(16)];case 217:return n=this._view.getUint8(this._offset),this._offset+=1,this._str(n);case 218:return n=this._view.getUint16(this._offset),this._offset+=2,this._str(n);case 219:return n=this._view.getUint32(this._offset),this._offset+=4,this._str(n);case 220:return n=this._view.getUint16(this._offset),this._offset+=2,this._array(n);case 221:return n=this._view.getUint32(this._offset),this._offset+=4,this._array(n);case 222:return n=this._view.getUint16(this._offset),this._offset+=2,this._map(n);case 223:return n=this._view.getUint32(this._offset),this._offset+=4,this._map(n)}throw new Error("Could not parse")},t.decode=function(e,t=0){var r=new n(e,t),i=r._parse();if(r._offset!==e.byteLength)throw new Error(e.byteLength-r._offset+" trailing bytes");return i},t.encode=function(e){var t=[],n=[],s=i(t,n,e),o=new ArrayBuffer(s),a=new DataView(o),c=0,l=0,u=-1;n.length>0&&(u=n[0]._offset);for(var d,h=0,f=0,p=0,g=t.length;p<g;p++)if(a.setUint8(l+p,t[p]),p+1===u){if(h=(d=n[c])._length,f=l+u,d._bin)for(var m=new Uint8Array(d._bin),y=0;y<h;y++)a.setUint8(f+y,m[y]);else d._str?r(a,f,d._str):void 0!==d._float&&a.setFloat64(f,d._float);l+=h,n[++c]&&(u=n[c]._offset)}return o}},4705:(e,t,n)=>{"use strict";n.d(t,{J:()=>c});var r=n(7372),i=n(3577),s=n(2599),o=n(1965),a=n(5167);function c(e){const{abi:t,data:n}=e,c=(0,i.di)(n,0,4),l=t.find(e=>"function"===e.type&&c===(0,s.V)((0,a.B)(e)));if(!l)throw new r.EB(c,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:l.name,args:"inputs"in l&&l.inputs&&l.inputs.length>0?(0,o.n)(l.inputs,(0,i.di)(n,4)):void 0}}},4706:(e,t,n)=>{"use strict";n.d(t,{Af:()=>f,ZJ:()=>l,aT:()=>h});var r=n(1344),i=n(6394),s=n(586),o=n(6675),a=n(4192);const c=new TextEncoder;function l(e,t={}){return"number"==typeof e||"bigint"==typeof e?function(e,t){return h((0,a.cK)(e,t))}(e,t):"boolean"==typeof e?function(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),"number"==typeof t.size?((0,o.Sl)(n,{size:t.size}),(0,s.eV)(n,{size:t.size})):n}(e,t):(0,i.q)(e)?h(e,t):f(e,t)}const u={zero:48,nine:57,A:65,F:70,a:97,f:102};function d(e){return e>=u.zero&&e<=u.nine?e-u.zero:e>=u.A&&e<=u.F?e-(u.A-10):e>=u.a&&e<=u.f?e-(u.a-10):void 0}function h(e,t={}){let n=e;t.size&&((0,o.Sl)(n,{size:t.size}),n=(0,s.eV)(n,{dir:"right",size:t.size}));let i=n.slice(2);i.length%2&&(i=`0${i}`);const a=i.length/2,c=new Uint8Array(a);for(let e=0,t=0;e<a;e++){const n=d(i.charCodeAt(t++)),s=d(i.charCodeAt(t++));if(void 0===n||void 0===s)throw new r.C(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);c[e]=16*n+s}return c}function f(e,t={}){const n=c.encode(e);return"number"==typeof t.size?((0,o.Sl)(n,{size:t.size}),(0,s.eV)(n,{dir:"right",size:t.size})):n}},4713:(e,t,n)=>{const r=n(2731);t.mul=function(e,t){const n=new Uint8Array(e.length+t.length-1);for(let i=0;i<e.length;i++)for(let s=0;s<t.length;s++)n[i+s]^=r.mul(e[i],t[s]);return n},t.mod=function(e,t){let n=new Uint8Array(e);for(;n.length-t.length>=0;){const e=n[0];for(let i=0;i<t.length;i++)n[i]^=r.mul(t[i],e);let i=0;for(;i<n.length&&0===n[i];)i++;n=n.slice(i)}return n},t.generateECPolynomial=function(e){let n=new Uint8Array([1]);for(let i=0;i<e;i++)n=t.mul(n,new Uint8Array([1,r.exp(i)]));return n}},4724:(e,t)=>{"use strict";let n;function r(){if(!n)try{n="undefined"!=typeof cc&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:window.localStorage}catch(e){}return n||(n={cache:{},setItem:function(e,t){this.cache[e]=t},getItem:function(e){this.cache[e]},removeItem:function(e){delete this.cache[e]}}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.getItem=t.removeItem=t.setItem=void 0,t.setItem=function(e,t){r().setItem(e,t)},t.removeItem=function(e){r().removeItem(e)},t.getItem=function(e,t){const n=r().getItem(e);"undefined"!=typeof Promise&&n instanceof Promise?n.then(e=>t(e)):t(n)}},4764:(e,t,n)=>{const r=n(4713);function i(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(e){this.degree=e,this.genPoly=r.generateECPolynomial(this.degree)},i.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const n=r.mod(t,this.genPoly),i=this.degree-n.length;if(i>0){const e=new Uint8Array(this.degree);return e.set(n,i),e}return n},e.exports=i},4823:(e,t,n)=>{"use strict";n.d(t,{Ag:()=>o,E5:()=>d,Rm:()=>l,SJ:()=>c,UW:()=>u,b2:()=>i,oX:()=>a,v2:()=>r,xw:()=>h});const r=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],i=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],s=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],o=[...s,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],a=[...s,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],c=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],l=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],u=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],d=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],h=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}]},4848:(e,t,n)=>{"use strict";e.exports=n(9698)},4861:(e,t,n)=>{const r=n(208),i=n(6886);function s(e){this.mode=r.KANJI,this.data=e}s.getBitsLength=function(e){return 13*e},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=i.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}},e.exports=s},5145:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},5167:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,B:()=>i});var r=n(7372);function i(e,{includeName:t=!1}={}){if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new r.d_(e.type);return`${e.name}(${s(e.inputs,{includeName:t})})`}function s(e,{includeName:t=!1}={}){return e?e.map(e=>function(e,{includeName:t}){return e.type.startsWith("tuple")?`(${s(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}(e,{includeName:t})).join(t?", ":","):""}},5182:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var r=n(6394);function i(e){return(0,r.q)(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}},5213:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});var r=n(669);function i(e,{emitOnBegin:t,initialWaitTime:n,interval:i}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await(n?.(a))??i;await(0,r.u)(c);const l=async()=>{s&&(await e({unpoll:o}),await(0,r.u)(i),l())};l()})(),o}},5218:function(e,t,n){"use strict";var r,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.Client=t.MatchMakeError=void 0;const s=n(2438),o=n(2650),a=n(1477),c=n(2831),l=n(8998);class u extends Error{constructor(e,t){super(e),this.code=t,Object.setPrototypeOf(this,u.prototype)}}t.MatchMakeError=u;const d="undefined"!=typeof window&&void 0!==(null===(r=null===window||void 0===window?void 0:window.location)||void 0===r?void 0:r.hostname)?`${window.location.protocol.replace("http","ws")}//${window.location.hostname}${window.location.port&&`:${window.location.port}`}`:"ws://127.0.0.1:2567";t.Client=class{constructor(e=d,t){var n,r;if("string"==typeof e){const t=e.startsWith("/")?new URL(e,d):new URL(e),n="https:"===t.protocol||"wss:"===t.protocol,r=Number(t.port||(n?443:80));this.settings={hostname:t.hostname,pathname:t.pathname,port:r,secure:n}}else void 0===e.port&&(e.port=e.secure?443:80),void 0===e.pathname&&(e.pathname=""),this.settings=e;this.settings.pathname.endsWith("/")&&(this.settings.pathname=this.settings.pathname.slice(0,-1)),this.http=new a.HTTP(this,(null==t?void 0:t.headers)||{}),this.auth=new c.Auth(this.http),this.urlBuilder=null==t?void 0:t.urlBuilder,!this.urlBuilder&&"undefined"!=typeof window&&(null===(r=null===(n=null===window||void 0===window?void 0:window.location)||void 0===n?void 0:n.hostname)||void 0===r?void 0:r.includes("discordsays.com"))&&(this.urlBuilder=l.discordURLBuilder,console.log("Colyseus SDK: Discord Embedded SDK detected. Using custom URL builder."))}joinOrCreate(e,t={},n){return i(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("joinOrCreate",e,t,n)})}create(e,t={},n){return i(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("create",e,t,n)})}join(e,t={},n){return i(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("join",e,t,n)})}joinById(e,t={},n){return i(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("joinById",e,t,n)})}reconnect(e,t){return i(this,void 0,void 0,function*(){if("string"==typeof e&&"string"==typeof t)throw new Error("DEPRECATED: .reconnect() now only accepts 'reconnectionToken' as argument.\nYou can get this token from previously connected `room.reconnectionToken`");const[n,r]=e.split(":");if(!n||!r)throw new Error("Invalid reconnection token format.\nThe format should be roomId:reconnectionToken");return yield this.createMatchMakeRequest("reconnect",n,{reconnectionToken:r},t)})}getAvailableRooms(e=""){return i(this,void 0,void 0,function*(){return(yield this.http.get(`matchmake/${e}`,{headers:{Accept:"application/json"}})).data})}consumeSeatReservation(e,t,n){return i(this,void 0,void 0,function*(){const r=this.createRoom(e.room.name,t);r.roomId=e.room.roomId,r.sessionId=e.sessionId;const o={sessionId:r.sessionId};e.reconnectionToken&&(o.reconnectionToken=e.reconnectionToken);const a=n||r;return r.connect(this.buildEndpoint(e.room,o),e.devMode&&(()=>i(this,void 0,void 0,function*(){console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} Re-establishing connection with room id '${r.roomId}'...`);let n=0;const s=()=>i(this,void 0,void 0,function*(){n++;try{yield this.consumeSeatReservation(e,t,a),console.info(`[Colyseus devMode]: ${String.fromCodePoint(9989)} Successfully re-established connection with room '${r.roomId}'`)}catch(e){n<8?(console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} retrying... (${n} out of 8)`),setTimeout(s,2e3)):console.info(`[Colyseus devMode]: ${String.fromCodePoint(10060)} Failed to reconnect. Is your server running? Please check server logs.`)}});setTimeout(s,2e3)})),a,this.http.headers),new Promise((e,t)=>{const n=(e,n)=>t(new s.ServerError(e,n));a.onError.once(n),a.onJoin.once(()=>{a.onError.remove(n),e(a)})})})}createMatchMakeRequest(e,t,n={},r,s){return i(this,void 0,void 0,function*(){const i=(yield this.http.post(`matchmake/${e}/${t}`,{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)})).data;if(i.error)throw new u(i.error,i.code);return"reconnect"===e&&(i.reconnectionToken=n.reconnectionToken),yield this.consumeSeatReservation(i,r,s)})}createRoom(e,t){return new o.Room(e,t)}buildEndpoint(e,t={}){const n=[];for(const e in t)t.hasOwnProperty(e)&&n.push(`${e}=${t[e]}`);let r=this.settings.secure?"wss://":"ws://";e.publicAddress?r+=`${e.publicAddress}`:r+=`${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}`;const i=`${r}/${e.processId}/${e.roomId}?${n.join("&")}`;return this.urlBuilder?this.urlBuilder(new URL(i)):i}getHttpEndpoint(e=""){const t=e.startsWith("/")?e:`/${e}`,n=`${this.settings.secure?"https":"http"}://${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}${t}`;return this.urlBuilder?this.urlBuilder(new URL(n)):n}getEndpointPort(){return 80!==this.settings.port&&443!==this.settings.port?`:${this.settings.port}`:""}}},5242:(e,t,n)=>{"use strict";async function r(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}n.d(t,{L:()=>r})},5338:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(1247)},5364:(e,t,n)=>{"use strict";var r=n(2861).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==t[o])throw new TypeError(s+" is ambiguous");t[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return r.alloc(0);for(var n=0,i=0,s=0;e[n]===c;)i++,n++;for(var o=(e.length-n)*l+1>>>0,u=new Uint8Array(o);n<e.length;){var d=e.charCodeAt(n);if(d>255)return;var h=t[d];if(255===h)return;for(var f=0,p=o-1;(0!==h||f<s)&&-1!==p;p--,f++)h+=a*u[p]>>>0,u[p]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");s=f,n++}for(var g=o-s;g!==o&&0===u[g];)g++;var m=r.allocUnsafe(i+(o-g));m.fill(0,0,i);for(var y=i;g!==o;)m[y++]=u[g++];return m}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var n=0,i=0,s=0,o=t.length;s!==o&&0===t[s];)s++,n++;for(var l=(o-s)*u+1>>>0,d=new Uint8Array(l);s!==o;){for(var h=t[s],f=0,p=l-1;(0!==h||f<i)&&-1!==p;p--,f++)h+=256*d[p]>>>0,d[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");i=f,s++}for(var g=l-i;g!==l&&0===d[g];)g++;for(var m=c.repeat(n);g<l;++g)m+=e.charAt(d[g]);return m},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},5385:(e,t,n)=>{"use strict";n.d(t,{$:()=>i});var r=n(5948);function i(e,t){const n=(e.transactions??[]).map(e=>"string"==typeof e?e:(0,r.uP)(e));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}},5419:(e,t,n)=>{"use strict";function r(e){return"string"==typeof e[0]?i(e):function(e){let t=0;for(const n of e)t+=n.length;const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(e)}function i(e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}n.d(t,{aP:()=>i,xW:()=>r})},5462:(e,t,n)=>{"use strict";n.d(t,{W:()=>l});var r=n(4453),i=n(7372),s=n(3577),o=n(2599),a=n(1965),c=n(5167);function l(e){const{abi:t,data:n}=e,l=(0,s.di)(n,0,4);if("0x"===l)throw new i.O;const u=[...t||[],r.Mc,r.J9].find(e=>"error"===e.type&&l===(0,o.V)((0,c.B)(e)));if(!u)throw new i.Wq(l,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:u,args:"inputs"in u&&u.inputs&&u.inputs.length>0?(0,a.n)(u.inputs,(0,s.di)(n,4)):void 0,errorName:u.name}}},5547:(e,t,n)=>{"use strict";n.d(t,{yH:()=>u});var r=n(4306),i=n(6440),s=n(6883),o=n(9873),a=n(4192);function c(e){if(e&&0!==e.length)return e.reduce((e,{slot:t,value:n})=>{if(66!==t.length)throw new i.NV({size:t.length,targetSize:66,type:"hex"});if(66!==n.length)throw new i.NV({size:n.length,targetSize:66,type:"hex"});return e[t]=n,e},{})}function l(e){const{balance:t,nonce:n,state:r,stateDiff:i,code:o}=e,l={};if(void 0!==o&&(l.code=o),void 0!==t&&(l.balance=(0,a.cK)(t)),void 0!==n&&(l.nonce=(0,a.cK)(n)),void 0!==r&&(l.state=c(r)),void 0!==i){if(l.state)throw new s.ft;l.stateDiff=c(i)}return l}function u(e){if(!e)return;const t={};for(const{address:n,...i}of e){if(!(0,o.P)(n,{strict:!1}))throw new r.M({address:n});if(t[n])throw new s.Hi({address:n});t[n]=l(i)}return t}},5554:()=>{ArrayBuffer.isView||(ArrayBuffer.isView=e=>null!==e&&"object"==typeof e&&e.buffer instanceof ArrayBuffer),"undefined"==typeof globalThis&&"undefined"!=typeof window&&(window.globalThis=window)},5592:(e,t,n)=>{"use strict";n.d(t,{o:()=>h});var r=n(1344),i=n(6595),s=n(7513),o=n(4192);const a=new(n(6447).A)(8192);var c=n(9910),l=n(8463);function u(e,t={}){return async(n,u={})=>{const{dedupe:d=!1,methods:h,retryDelay:f=150,retryCount:p=3,uid:g}={...t,...u},{method:m}=n;if(h?.exclude?.includes(m))throw new s.ab(new Error("method not supported"),{method:m});if(h?.include&&!h.include.includes(m))throw new s.ab(new Error("method not supported"),{method:m});return function(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(a.get(n))return a.get(n);const r=e().finally(()=>a.delete(n));return a.set(n,r),r}(()=>(0,c.b)(async()=>{try{return await e(n)}catch(e){const t=e;switch(t.code){case s.XU.code:throw new s.XU(t);case s.CL.code:throw new s.CL(t);case s.Gi.code:throw new s.Gi(t,{method:n.method});case s.D5.code:throw new s.D5(t);case s.bq.code:throw new s.bq(t);case s.Di.code:throw new s.Di(t);case s.hA.code:throw new s.hA(t);case s.qZ.code:throw new s.qZ(t);case s.YW.code:throw new s.YW(t);case s.ab.code:throw new s.ab(t,{method:n.method});case s.s0.code:throw new s.s0(t);case s.xQ.code:throw new s.xQ(t);case s.vx.code:throw new s.vx(t);case s.sV.code:throw new s.sV(t);case s.Sf.code:throw new s.Sf(t);case s.RV.code:throw new s.RV(t);case s.xq.code:throw new s.xq(t);case s.ch.code:throw new s.ch(t);case s.L5.code:throw new s.L5(t);case s.WT.code:throw new s.WT(t);case s.hl.code:throw new s.hl(t);case s.cg.code:throw new s.cg(t);case s.uL.code:throw new s.uL(t);case s.G1.code:throw new s.G1(t);case s.jz.code:throw new s.jz(t);case 5e3:throw new s.vx(t);default:if(e instanceof r.C)throw e;throw new s.MI(t)}}},{delay:({count:e,error:t})=>{if(t&&t instanceof i.Ci){const e=t?.headers?.get("Retry-After");if(e?.match(/\d/))return 1e3*Number.parseInt(e,10)}return(1<<e)*f},retryCount:p,shouldRetry:({error:e})=>function(e){return"code"in e&&"number"==typeof e.code?-1===e.code||e.code===s.s0.code||e.code===s.bq.code:!(e instanceof i.Ci&&e.status)||(403===e.status||408===e.status||413===e.status||429===e.status||500===e.status||502===e.status||503===e.status||504===e.status)}(e)}),{enabled:d,id:d?(0,o.i3)(`${g}.${(0,l.A)(n)}`):void 0})}}var d=n(3204);function h({key:e,methods:t,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){return{config:{key:e,methods:t,name:n,request:r,retryCount:i,retryDelay:s,timeout:o,type:a},request:u(r,{methods:t,retryCount:i,retryDelay:s,uid:(0,d.L)()}),value:c}}},5603:(e,t,n)=>{"use strict";n.d(t,{g:()=>o});var r=n(4259),i=n(4192),s=n(5385);async function o(e,{blockHash:t,blockNumber:n,blockTag:o=e.experimental_blockTag??"latest",includeTransactions:a}={}){const c=a??!1,l=void 0!==n?(0,i.cK)(n):void 0;let u=null;if(u=t?await e.request({method:"eth_getBlockByHash",params:[t,c]},{dedupe:!0}):await e.request({method:"eth_getBlockByNumber",params:[l||o,c]},{dedupe:Boolean(l)}),!u)throw new r.l({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||s.$)(u,"getBlock")}},5606:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var a,c=[],l=!1,u=-1;function d(){l&&a&&(l=!1,a.length?c=a.concat(c):u=-1,c.length&&h())}function h(){if(!l){var e=o(d);l=!0;for(var t=c.length;t;){for(a=c,c=[];++u<t;)a&&a[u].run();u=-1,t=c.length}a=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||l||o(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},5639:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});const r=new Map,i=new Map;const s=e=>`blockNumber.${e}`;async function o(e,{cacheTime:t=e.cacheTime}={}){const n=await async function(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const s=function(e){const t=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:n=>t.set(e,n)}),n=t(e,r),s=t(e,i);return{clear:()=>{n.clear(),s.clear()},promise:n,response:s}}(t),o=s.response.get();if(o&&n>0&&Date.now()-o.created.getTime()<n)return o.data;let a=s.promise.get();a||(a=e(),s.promise.set(a));try{const e=await a;return s.response.set({created:new Date,data:e}),e}finally{s.promise.clear()}}(()=>e.request({method:"eth_blockNumber"}),{cacheKey:s(e.uid),cacheTime:t});return BigInt(n)}},5682:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8186);r.__exportStar(n(7173),t),r.__exportStar(n(1089),t)},5704:(e,t,n)=>{"use strict";n.d(t,{c:()=>h});var r=n(1344);class i extends r.C{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}var s=n(3692),o=n(9726),a=n(5213),c=n(9091),l=n(9910),u=n(8463),d=n(7729);async function h(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:h=({statusCode:e})=>200===e||e>=300,retryCount:p=4,retryDelay:g=({count:e})=>200*(1<<e),timeout:m=6e4,throwOnFailure:y=!1}=t,w=(0,u.A)(["waitForCallsStatus",e.uid,n]),{promise:b,resolve:v,reject:x}=(0,c.Y)();let E;const k=(0,o.lB)(w,{resolve:v,reject:x},t=>{const o=(0,a.w)(async()=>{const r=e=>{clearTimeout(E),o(),e(),k()};try{const o=await(0,l.b)(async()=>{const t=await(0,s.T)(e,d.k,"getCallsStatus")({id:n});if(y&&"failure"===t.status)throw new i(t);return t},{retryCount:p,delay:g});if(!h(o))return;r(()=>t.resolve(o))}catch(e){r(()=>t.reject(e))}},{interval:r,emitOnBegin:!0});return o});return E=m?setTimeout(()=>{k(),clearTimeout(E),x(new f({id:n}))},m):void 0,await b}class f extends r.C{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}},5822:(e,t,n)=>{const r=n(9049),i=n(208);function s(e){this.mode=i.BYTE,"string"==typeof e&&(e=r(e)),this.data=new Uint8Array(e)}s.getBitsLength=function(e){return 8*e},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},e.exports=s},5834:(e,t,n)=>{"use strict";n.d(t,{l:()=>s});var r=n(8146);const i={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new r.hX({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new r.SK({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new r.B4({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new r.B4({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function s(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(i);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}},5842:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var r=n(7372),i=n(5419),s=n(4531);const o="/docs/contract/encodeDeployData";function a(e){const{abi:t,args:n,bytecode:a}=e;if(!n||0===n.length)return a;const c=t.find(e=>"type"in e&&"constructor"===e.type);if(!c)throw new r.YW({docsPath:o});if(!("inputs"in c))throw new r.YF({docsPath:o});if(!c.inputs||0===c.inputs.length)throw new r.YF({docsPath:o});const l=(0,s.h)(c.inputs,n);return(0,i.aP)([a,l])}},5845:(e,t,n)=>{"use strict";n.d(t,{eF:()=>a,mE:()=>i,rI:()=>o,vG:()=>s});var r=n(4410);function i(e){return r.jf.includes(e)}function s(e){return Object.keys(r.Uf).includes(e)?r.Uf[e]:r.Uf[r.XW]}function o(e){return Object.values(r.Uf).find(t=>t.code===e)||r.Uf[r.XW]}function a(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${t}`):e}},5945:(e,t,n)=>{"use strict";n.d(t,{Ez:()=>o,LX:()=>r,WN:()=>i,fT:()=>s});const r="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",i="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",s="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",o="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033"},5948:(e,t,n)=>{"use strict";n.d(t,{b4:()=>i,uP:()=>s});var r=n(6675);const i={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function s(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?(0,r.ME)(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?(0,r.ME)(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?i[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=e.authorizationList.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof n.v){if(0n===n.v||27n===n.v)return 0;if(1n===n.v||28n===n.v)return 1;if(n.v>=35n)return n.v%2n==0n?1:0}})(),"legacy"===n.type&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),"eip2930"===n.type&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),"eip1559"===n.type&&delete n.maxFeePerBlobGas,n}},5994:(e,t,n)=>{"use strict";n.d(t,{J0:()=>w,Kr:()=>v,vJ:()=>b});var r,i,s,o,a=n(172),c=0,l=[],u=a.fF,d=u.__b,h=u.__r,f=u.diffed,p=u.__c,g=u.unmount,m=u.__;function y(e,t){u.__h&&u.__h(i,e,c||t),c=0;var n=i.__H||(i.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function w(e){return c=1,function(e,t){var n=y(r++,2);if(n.t=e,!n.__c&&(n.__=[I(void 0,t),function(e){var t=n.__N?n.__N[0]:n.__[0],r=n.t(t,e);t!==r&&(n.__N=[r,n.__[1]],n.__c.setState({}))}],n.__c=i,!i.u)){var s=function(e,t,r){if(!n.__c.__H)return!0;var i=n.__c.__H.__.filter(function(e){return!!e.__c});if(i.every(function(e){return!e.__N}))return!o||o.call(this,e,t,r);var s=!1;return i.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(s=!0)}}),!(!s&&n.__c.props===e)&&(!o||o.call(this,e,t,r))};i.u=!0;var o=i.shouldComponentUpdate,a=i.componentWillUpdate;i.componentWillUpdate=function(e,t,n){if(this.__e){var r=o;o=void 0,s(e,t,n),o=r}a&&a.call(this,e,t,n)},i.shouldComponentUpdate=s}return n.__N||n.__}(I,e)}function b(e,t){var n=y(r++,3);!u.__s&&S(n.__H,t)&&(n.__=e,n.i=t,i.__H.__h.push(n))}function v(e,t){var n=y(r++,7);return S(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function x(){for(var e;e=l.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(_),e.__H.__h.forEach(C),e.__H.__h=[]}catch(t){e.__H.__h=[],u.__e(t,e.__v)}}u.__b=function(e){i=null,d&&d(e)},u.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),m&&m(e,t)},u.__r=function(e){h&&h(e),r=0;var t=(i=e.__c).__H;t&&(s===i?(t.__h=[],i.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.i=e.__N=void 0})):(t.__h.forEach(_),t.__h.forEach(C),t.__h=[],r=0)),s=i},u.diffed=function(e){f&&f(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==l.push(t)&&o===u.requestAnimationFrame||((o=u.requestAnimationFrame)||k)(x)),t.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.i=void 0})),s=i=null},u.__c=function(e,t){t.some(function(e){try{e.__h.forEach(_),e.__h=e.__h.filter(function(e){return!e.__||C(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],u.__e(n,e.__v)}}),p&&p(e,t)},u.unmount=function(e){g&&g(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{_(e)}catch(e){t=e}}),n.__H=void 0,t&&u.__e(t,n.__v))};var E="function"==typeof requestAnimationFrame;function k(e){var t,n=function(){clearTimeout(r),E&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);E&&(t=requestAnimationFrame(n))}function _(e){var t=i,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),i=t}function C(e){var t=i;e.__c=e.__(),i=t}function S(e,t){return!e||e.length!==t.length||t.some(function(t,n){return t!==e[n]})}function I(e,t){return"function"==typeof t?t(e):t}},6118:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a});const r=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,i=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,s=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function o(e,t){if(!("__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t))return t;!function(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}(e)}function a(e,t={}){if("string"!=typeof e)return e;if('"'===e[0]&&'"'===e[e.length-1]&&-1===e.indexOf("\\"))return e.slice(1,-1);const n=e.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!s.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(r.test(e)||i.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,o)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}},6221:(e,t,n)=>{"use strict";var r=n(6540);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal"),c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=c.T,n=o.p;try{if(c.T=null,o.p=2,e)return e()}finally{c.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"==typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,r=l(n,t.crossOrigin),i="string"==typeof t.integrity?t.integrity:void 0,s="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=l(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,r=l(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=l(t.as,t.crossOrigin);o.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return c.H.useFormState(e,t,n)},t.useFormStatus=function(){return c.H.useHostTransitionStatus()},t.version="19.2.0"},6320:e=>{"use strict";var t={single_source_shortest_paths:function(e,n,r){var i={},s={};s[n]=0;var o,a,c,l,u,d,h,f=t.PriorityQueue.make();for(f.push(n,0);!f.empty();)for(c in a=(o=f.pop()).value,l=o.cost,u=e[a]||{})u.hasOwnProperty(c)&&(d=l+u[c],h=s[c],(void 0===s[c]||h>d)&&(s[c]=d,f.push(c,d),i[c]=a));if(void 0!==r&&void 0===s[r]){var p=["Could not find a path from ",n," to ",r,"."].join("");throw new Error(p)}return i},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(e,n,r){var i=t.single_source_shortest_paths(e,n,r);return t.extract_shortest_path_from_predecessor_list(i,r)},PriorityQueue:{make:function(e){var n,r=t.PriorityQueue,i={};for(n in e=e||{},r)r.hasOwnProperty(n)&&(i[n]=r[n]);return i.queue=[],i.sorter=e.sorter||r.default_sorter,i},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t},6384:(e,t,n)=>{"use strict";n.d(t,{A:()=>I});var r=n(6118),i=n(8287).Buffer;function s(e,...t){try{return(n=e(...t))&&"function"==typeof n.then?n:Promise.resolve(n)}catch(e){return Promise.reject(e)}var n}function o(e){if(function(e){const t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"==typeof e.toJSON)return o(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const a="base64:";function c(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function l(...e){return c(e.join(":"))}function u(e){return(e=c(e))?e+":":""}const d=()=>{const e=new Map;return{name:"memory",getInstance:()=>e,hasItem:t=>e.has(t),getItem:t=>e.get(t)??null,getItemRaw:t=>e.get(t)??null,setItem(t,n){e.set(t,n)},setItemRaw(t,n){e.set(t,n)},removeItem(t){e.delete(t)},getKeys:()=>[...e.keys()],clear(){e.clear()},dispose(){e.clear()}}};function h(e={}){const t={mounts:{"":e.driver||d()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=e=>{for(const n of t.mountpoints)if(e.startsWith(n))return{base:n,relativeKey:e.slice(n.length),driver:t.mounts[n]};return{base:"",relativeKey:e,driver:t.mounts[""]}},h=(e,n)=>t.mountpoints.filter(t=>t.startsWith(e)||n&&e.startsWith(t)).map(n=>({relativeBase:e.length>n.length?e.slice(n.length):void 0,mountpoint:n,driver:t.mounts[n]})),g=(e,n)=>{if(t.watching){n=c(n);for(const r of t.watchListeners)r(e,n)}},m=async()=>{if(t.watching){for(const e in t.unwatch)await t.unwatch[e]();t.unwatch={},t.watching=!1}},y=(e,t,r)=>{const i=new Map,s=e=>{let t=i.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},i.set(e.base,t)),t};for(const r of e){const e="string"==typeof r,i=c(e?r:r.key),o=e?void 0:r.value,a=e||!r.options?t:{...t,...r.options},l=n(i);s(l).items.push({key:i,value:o,relativeKey:l.relativeKey,options:a})}return Promise.all([...i.values()].map(e=>r(e))).then(e=>e.flat())},w={hasItem(e,t={}){e=c(e);const{relativeKey:r,driver:i}=n(e);return s(i.hasItem,r,t)},getItem(e,t={}){e=c(e);const{relativeKey:i,driver:o}=n(e);return s(o.getItem,i,t).then(e=>(0,r.Ay)(e))},getItems:(e,t={})=>y(e,t,e=>e.driver.getItems?s(e.driver.getItems,e.items.map(e=>({key:e.relativeKey,options:e.options})),t).then(t=>t.map(t=>({key:l(e.base,t.key),value:(0,r.Ay)(t.value)}))):Promise.all(e.items.map(t=>s(e.driver.getItem,t.relativeKey,t.options).then(e=>({key:t.key,value:(0,r.Ay)(e)}))))),getItemRaw(e,t={}){e=c(e);const{relativeKey:r,driver:o}=n(e);return o.getItemRaw?s(o.getItemRaw,r,t):s(o.getItem,r,t).then(e=>function(e){return"string"!=typeof e?e:e.startsWith(a)?(t=e.slice(7),globalThis.Buffer?i.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))):e;var t}(e))},async setItem(e,t,r={}){if(void 0===t)return w.removeItem(e);e=c(e);const{relativeKey:i,driver:a}=n(e);a.setItem&&(await s(a.setItem,i,o(t),r),a.watch||g("update",e))},async setItems(e,t){await y(e,t,async e=>{if(e.driver.setItems)return s(e.driver.setItems,e.items.map(e=>({key:e.relativeKey,value:o(e.value),options:e.options})),t);e.driver.setItem&&await Promise.all(e.items.map(t=>s(e.driver.setItem,t.relativeKey,o(t.value),t.options)))})},async setItemRaw(e,t,r={}){if(void 0===t)return w.removeItem(e,r);e=c(e);const{relativeKey:o,driver:l}=n(e);if(l.setItemRaw)await s(l.setItemRaw,o,t,r);else{if(!l.setItem)return;await s(l.setItem,o,function(e){return"string"==typeof e?e:a+(t=e,globalThis.Buffer?i.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t)));var t}(t),r)}l.watch||g("update",e)},async removeItem(e,t={}){"boolean"==typeof t&&(t={removeMeta:t}),e=c(e);const{relativeKey:r,driver:i}=n(e);i.removeItem&&(await s(i.removeItem,r,t),(t.removeMeta||t.removeMata)&&await s(i.removeItem,r+"$",t),i.watch||g("remove",e))},async getMeta(e,t={}){"boolean"==typeof t&&(t={nativeOnly:t}),e=c(e);const{relativeKey:i,driver:o}=n(e),a=Object.create(null);if(o.getMeta&&Object.assign(a,await s(o.getMeta,i,t)),!t.nativeOnly){const e=await s(o.getItem,i+"$",t).then(e=>(0,r.Ay)(e));e&&"object"==typeof e&&("string"==typeof e.atime&&(e.atime=new Date(e.atime)),"string"==typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(a,e))}return a},setMeta(e,t,n={}){return this.setItem(e+"$",t,n)},removeMeta(e,t={}){return this.removeItem(e+"$",t)},async getKeys(e,t={}){e=u(e);const n=h(e,!0);let r=[];const i=[];let o=!0;for(const e of n){e.driver.flags?.maxDepth||(o=!1);const n=await s(e.driver.getKeys,e.relativeBase,t);for(const t of n){const n=e.mountpoint+c(t);r.some(e=>n.startsWith(e))||i.push(n)}r=[e.mountpoint,...r.filter(t=>!t.startsWith(e.mountpoint))]}const a=void 0!==t.maxDepth&&!o;return i.filter(n=>(!a||function(e,t){if(void 0===t)return!0;let n=0,r=e.indexOf(":");for(;r>-1;)n++,r=e.indexOf(":",r+1);return n<=t}(n,t.maxDepth))&&function(e,t){return t?e.startsWith(t)&&"$"!==e[e.length-1]:"$"!==e[e.length-1]}(n,e))},async clear(e,t={}){e=u(e),await Promise.all(h(e,!1).map(async e=>{if(e.driver.clear)return s(e.driver.clear,e.relativeBase,t);if(e.driver.removeItem){const n=await e.driver.getKeys(e.relativeBase||"",t);return Promise.all(n.map(n=>e.driver.removeItem(n,t)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(e=>p(e)))},watch:async e=>(await(async()=>{if(!t.watching){t.watching=!0;for(const e in t.mounts)t.unwatch[e]=await f(t.mounts[e],g,e)}})(),t.watchListeners.push(e),async()=>{t.watchListeners=t.watchListeners.filter(t=>t!==e),0===t.watchListeners.length&&await m()}),async unwatch(){t.watchListeners=[],await m()},mount(e,n){if((e=u(e))&&t.mounts[e])throw new Error(`already mounted at ${e}`);return e&&(t.mountpoints.push(e),t.mountpoints.sort((e,t)=>t.length-e.length)),t.mounts[e]=n,t.watching&&Promise.resolve(f(n,g,e)).then(n=>{t.unwatch[e]=n}).catch(console.error),w},async unmount(e,n=!0){(e=u(e))&&t.mounts[e]&&(t.watching&&e in t.unwatch&&(t.unwatch[e]?.(),delete t.unwatch[e]),n&&await p(t.mounts[e]),t.mountpoints=t.mountpoints.filter(t=>t!==e),delete t.mounts[e])},getMount(e=""){e=c(e)+":";const t=n(e);return{driver:t.driver,base:t.base}},getMounts:(e="",t={})=>(e=c(e),h(e,t.parents).map(e=>({driver:e.driver,base:e.mountpoint}))),keys:(e,t={})=>w.getKeys(e,t),get:(e,t={})=>w.getItem(e,t),set:(e,t,n={})=>w.setItem(e,t,n),has:(e,t={})=>w.hasItem(e,t),del:(e,t={})=>w.removeItem(e,t),remove:(e,t={})=>w.removeItem(e,t)};return w}function f(e,t,n){return e.watch?e.watch((e,r)=>t(e,n+r)):()=>{}}async function p(e){"function"==typeof e.dispose&&await s(e.dispose)}function g(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function m(e,t){let n;return(r,i)=>(()=>{if(n)return n;const r=indexedDB.open(e);return r.onupgradeneeded=()=>r.result.createObjectStore(t),n=g(r),n.then(e=>{e.onclose=()=>n=void 0},()=>{}),n})().then(e=>i(e.transaction(t,r).objectStore(t)))}let y;function w(){return y||(y=m("keyval-store","keyval")),y}function b(e,t=w()){return t("readonly",t=>g(t.get(e)))}var v=n(3554),x=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",n=e=>t+e;let r;return e.dbName&&e.storeName&&(r=m(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await b(n(e),r)>"u"),getItem:async e=>await b(n(e),r)??null,setItem:(e,t)=>function(e,t,n=w()){return n("readwrite",n=>(n.put(t,e),g(n.transaction)))}(n(e),t,r),removeItem:e=>function(e,t=w()){return t("readwrite",t=>(t.delete(e),g(t.transaction)))}(n(e),r),getKeys:()=>function(e=w()){return e("readonly",e=>{if(e.getAllKeys)return g(e.getAllKeys());const t=[];return function(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},g(e.transaction)}(e,e=>t.push(e.key)).then(()=>t)})}(r),clear:()=>function(e=w()){return e("readwrite",e=>(e.clear(),g(e.transaction)))}(r)}};class E{constructor(){this.indexedDb=h({driver:x({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,(0,v.h)(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var k=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof n.g<"u"?n.g:typeof self<"u"?self:{},_={exports:{}};function C(e){var t;return[e[0],(0,v.j)(null!=(t=e[1])?t:"")]}!function(){let e;function t(){}e=t,e.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){const e=this;Object.keys(e).forEach(function(t){e[t]=void 0,delete e[t]})},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof k<"u"&&k.localStorage?_.exports=k.localStorage:typeof window<"u"&&window.localStorage?_.exports=window.localStorage:_.exports=new t}();class S{constructor(){this.localStorage=_.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(C)}async getItem(e){const t=this.localStorage.getItem(e);if(null!==t)return(0,v.j)(t)}async setItem(e,t){this.localStorage.setItem(e,(0,v.h)(t))}async removeItem(e){this.localStorage.removeItem(e)}}class I{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};const e=new S;this.storage=e;try{(async(e,t,n)=>{const r="wc_storage_version",i=await t.getItem(r);if(i&&i>=1)return void n(t);const s=await e.getKeys();if(!s.length)return void n(t);const o=[];for(;s.length;){const n=s.shift();if(!n)continue;const r=n.toLowerCase();if(r.includes("wc@")||r.includes("walletconnect")||r.includes("wc_")||r.includes("wallet_connect")){const r=await e.getItem(n);await t.setItem(n,r),o.push(n)}}await t.setItem(r,1),n(t),(async(e,t)=>{t.length&&t.forEach(async t=>{await e.removeItem(t)})})(e,o)})(e,new E,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}}},6394:(e,t,n)=>{"use strict";function r(e,{strict:t=!0}={}){return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}n.d(t,{q:()=>r})},6421:(e,t,n)=>{const r=n(6886).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];const t=Math.floor(e/7)+2,n=r(e),i=145===n?26:2*Math.ceil((n-13)/(2*t-2)),s=[n-7];for(let e=1;e<t-1;e++)s[e]=s[e-1]-i;return s.push(6),s.reverse()},t.getPositions=function(e){const n=[],r=t.getRowColCoords(e),i=r.length;for(let e=0;e<i;e++)for(let t=0;t<i;t++)0===e&&0===t||0===e&&t===i-1||e===i-1&&0===t||n.push([r[e],r[t]]);return n}},6440:(e,t,n)=>{"use strict";n.d(t,{Fl:()=>s,NV:()=>o,ii:()=>i});var r=n(1344);class i extends r.C{constructor({offset:e,position:t,size:n}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}}class s extends r.C{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}class o extends r.C{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${t} ${n} long, but is ${e} ${n} long.`,{name:"InvalidBytesLengthError"})}}},6447:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});class r extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}}},6488:(e,t,n)=>{"use strict";n.d(t,{n:()=>p});var r=n(4259),i=n(8990),s=n(3692),o=n(9726),a=n(9091),c=n(9910),l=n(8463),u=n(5603),d=n(3742),h=n(224),f=n(3255);async function p(e,t){const{checkReplacement:n=!0,confirmations:p=1,hash:g,onReplaced:m,retryCount:y=6,retryDelay:w=({count:e})=>200*(1<<e),timeout:b=18e4}=t,v=(0,l.A)(["waitForTransactionReceipt",e.uid,g]),x=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let E,k,_,C,S,I=!1;const{promise:A,resolve:T,reject:P}=(0,a.Y)(),O=b?setTimeout(()=>{S?.(),C?.(),P(new i.WA({hash:g}))},b):void 0;return C=(0,o.lB)(v,{onReplaced:m,resolve:T,reject:P},async t=>{if(_=await(0,s.T)(e,h.h,"getTransactionReceipt")({hash:g}).catch(()=>{}),_&&p<=1)return clearTimeout(O),t.resolve(_),void C?.();S=(0,s.T)(e,f.q,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:x,async onBlockNumber(o){const a=e=>{clearTimeout(O),S?.(),e(),C?.()};let l=o;if(!I)try{if(_){if(p>1&&(!_.blockNumber||l-_.blockNumber+1n<p))return;return void a(()=>t.resolve(_))}if(n&&!E&&(I=!0,await(0,c.b)(async()=>{E=await(0,s.T)(e,d.x,"getTransaction")({hash:g}),E.blockNumber&&(l=E.blockNumber)},{delay:w,retryCount:y}),I=!1),_=await(0,s.T)(e,h.h,"getTransactionReceipt")({hash:g}),p>1&&(!_.blockNumber||l-_.blockNumber+1n<p))return;a(()=>t.resolve(_))}catch(n){if(n instanceof i.Kz||n instanceof i.Kc){if(!E)return void(I=!1);try{k=E,I=!0;const n=await(0,c.b)(()=>(0,s.T)(e,u.g,"getBlock")({blockNumber:l,includeTransactions:!0}),{delay:w,retryCount:y,shouldRetry:({error:e})=>e instanceof r.l});I=!1;const i=n.transactions.find(({from:e,nonce:t})=>e===k.from&&t===k.nonce);if(!i)return;if(_=await(0,s.T)(e,h.h,"getTransactionReceipt")({hash:i.hash}),p>1&&(!_.blockNumber||l-_.blockNumber+1n<p))return;let o="replaced";i.to===k.to&&i.value===k.value&&i.input===k.input?o="repriced":i.from===i.to&&0n===i.value&&(o="cancelled"),a(()=>{t.onReplaced?.({reason:o,replacedTransaction:k,transaction:i,transactionReceipt:_}),t.resolve(_)})}catch(e){a(()=>t.reject(e))}}else a(()=>t.reject(n))}}})}),A}},6532:(e,t,n)=>{var r=n(8287).Buffer;const i=n(4548),s=n(2978),o={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},a={encodeData(e,t,n,o=!0){const a=["bytes32"],c=[this.hashType(e,n)];if(o){const l=(e,t,a)=>{if(void 0!==n[t])return["bytes32",null==a?"0x0000000000000000000000000000000000000000000000000000000000000000":i.keccak(this.encodeData(t,a,n,o))];if(void 0===a)throw new Error(`missing value for field ${e} of type ${t}`);if("bytes"===t)return["bytes32",i.keccak(a)];if("string"===t)return"string"==typeof a&&(a=r.from(a,"utf8")),["bytes32",i.keccak(a)];if(t.lastIndexOf("]")===t.length-1){const n=t.slice(0,t.lastIndexOf("[")),r=a.map(t=>l(e,n,t));return["bytes32",i.keccak(s.rawEncode(r.map(([e])=>e),r.map(([,e])=>e)))]}return[t,a]};for(const r of n[e]){const[e,n]=l(r.name,r.type,t[r.name]);a.push(e),c.push(n)}}else for(const s of n[e]){let e=t[s.name];if(void 0!==e)if("bytes"===s.type)a.push("bytes32"),e=i.keccak(e),c.push(e);else if("string"===s.type)a.push("bytes32"),"string"==typeof e&&(e=r.from(e,"utf8")),e=i.keccak(e),c.push(e);else if(void 0!==n[s.type])a.push("bytes32"),e=i.keccak(this.encodeData(s.type,e,n,o)),c.push(e);else{if(s.type.lastIndexOf("]")===s.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");a.push(s.type),c.push(e)}}return s.rawEncode(a,c)},encodeType(e,t){let n="",r=this.findTypeDependencies(e,t).filter(t=>t!==e);r=[e].concat(r.sort());for(const e of r){if(!t[e])throw new Error("No type definition specified: "+e);n+=e+"("+t[e].map(({name:e,type:t})=>t+" "+e).join(",")+")"}return n},findTypeDependencies(e,t,n=[]){if(e=e.match(/^\w*/)[0],n.includes(e)||void 0===t[e])return n;n.push(e);for(const r of t[e])for(const e of this.findTypeDependencies(r.type,t,n))!n.includes(e)&&n.push(e);return n},hashStruct(e,t,n,r=!0){return i.keccak(this.encodeData(e,t,n,r))},hashType(e,t){return i.keccak(this.encodeType(e,t))},sanitizeData(e){const t={};for(const n in o.properties)e[n]&&(t[n]=e[n]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){const n=this.sanitizeData(e),s=[r.from("1901","hex")];return s.push(this.hashStruct("EIP712Domain",n.domain,n.types,t)),"EIP712Domain"!==n.primaryType&&s.push(this.hashStruct(n.primaryType,n.message,n.types,t)),i.keccak(r.concat(s))}};e.exports={TYPED_MESSAGE_SCHEMA:o,TypedDataUtils:a,hashForSignTypedDataLegacy:function(e){return function(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!e.length)throw t;const n=e.map(function(e){return"bytes"===e.type?i.toBuffer(e.value):e.value}),r=e.map(function(e){return e.type}),o=e.map(function(e){if(!e.name)throw t;return e.type+" "+e.name});return s.soliditySHA3(["bytes32","bytes32"],[s.soliditySHA3(new Array(e.length).fill("string"),o),s.soliditySHA3(r,n)])}(e.data)},hashForSignTypedData_v3:function(e){return a.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return a.hash(e.data)}}},6540:(e,t,n)=>{"use strict";e.exports=n(9869)},6595:(e,t,n)=>{"use strict";n.d(t,{Ci:()=>o,J8:()=>a,MU:()=>c});var r=n(8463),i=n(1344),s=n(1163);class o extends i.C{constructor({body:e,cause:t,details:n,headers:i,status:o,url:a}){super("HTTP request failed.",{cause:t,details:n,metaMessages:[o&&`Status: ${o}`,`URL: ${(0,s.I)(a)}`,e&&`Request body: ${(0,r.A)(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=o,this.url=a}}i.C;class a extends i.C{constructor({body:e,error:t,url:n}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${(0,s.I)(n)}`,`Request body: ${(0,r.A)(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data}}i.C;class c extends i.C{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${(0,s.I)(t)}`,`Request body: ${(0,r.A)(e)}`],name:"TimeoutError"})}}},6647:(e,t,n)=>{"use strict";n.d(t,{A:()=>w,V:()=>w});var r=n(7007),i=n(1222),s=n.n(i),o=n(3554),a=n(9031),c=Object.defineProperty,l=Object.defineProperties,u=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))h.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))f.call(t,n)&&p(e,n,t[n]);return e},m=(e,t)=>l(e,u(t));const y={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class w{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new r.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,a.isHttpUrl)(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const t=(0,o.h)(e),n=await(await s()(this.url,m(g({},y),{body:t}))).json();this.onPayload({data:n})}catch(t){this.onError(e.id,t)}}async register(e=this.url){if(!(0,a.isHttpUrl)(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return t(new Error("HTTP connection is missing or invalid"));e()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const t=(0,o.h)({id:1,jsonrpc:"2.0",method:"test",params:[]});await s()(e,m(g({},y),{body:t}))}this.onOpen()}catch(e){const t=this.parseError(e);throw this.events.emit("register_error",t),this.onClose(),t}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?(0,o.j)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),r=n.message||n.toString(),i=(0,a.formatJsonRpcError)(e,r);this.events.emit("payload",i)}parseError(e,t=this.url){return(0,a.parseConnectionError)(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}},6652:(e,t,n)=>{"use strict";n.d(t,{e:()=>a});var r=n(7372),i=n(1965),s=n(4586);const o="/docs/contract/decodeFunctionResult";function a(e){const{abi:t,args:n,functionName:a,data:c}=e;let l=t[0];if(a){const e=(0,s.iY)({abi:t,args:n,name:a});if(!e)throw new r.Iz(a,{docsPath:o});l=e}if("function"!==l.type)throw new r.Iz(void 0,{docsPath:o});if(!l.outputs)throw new r.MR(l.name,{docsPath:o});const u=(0,i.n)(l.outputs,c);return u&&u.length>1?u:u&&1===u.length?u[0]:void 0}},6668:(e,t,n)=>{"use strict";n.d(t,{ER:()=>s,Im:()=>c,dZ:()=>l,eX:()=>o,e_:()=>a});var r=n(5845),i=n(4410);function s(e=3){return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function o(e=6){return BigInt(s(e))}function a(e,t,n){return{id:n||s(),jsonrpc:"2.0",method:e,params:t}}function c(e,t){return{id:e,jsonrpc:"2.0",result:t}}function l(e,t,n){return{id:e,jsonrpc:"2.0",error:u(t,n)}}function u(e,t){return void 0===e?(0,r.vG)(i.zR):("string"==typeof e&&(e=Object.assign(Object.assign({},(0,r.vG)(i.fO)),{message:e})),void 0!==t&&(e.data=t),(0,r.mE)(e.code)&&(e=(0,r.rI)(e.code)),e)}},6675:(e,t,n)=>{"use strict";n.d(t,{IQ:()=>d,ME:()=>u,Nx:()=>l,Sl:()=>a,uU:()=>c});var r=n(4317),i=n(5182),s=n(8583),o=n(4706);function a(e,{size:t}){if((0,i.E)(e)>t)throw new r.u({givenSize:(0,i.E)(e),maxSize:t})}function c(e,t={}){const{signed:n}=t;t.size&&a(e,{size:t.size});const r=BigInt(e);if(!n)return r;const i=(e.length-2)/2;return r<=(1n<<8n*BigInt(i)-1n)-1n?r:r-BigInt(`0x${"f".padStart(2*i,"f")}`)-1n}function l(e,t={}){let n=e;if(t.size&&(a(n,{size:t.size}),n=(0,s.B)(n)),"0x00"===(0,s.B)(n))return!1;if("0x01"===(0,s.B)(n))return!0;throw new r.H2(n)}function u(e,t={}){return Number(c(e,t))}function d(e,t={}){let n=(0,o.aT)(e);return t.size&&(a(n,{size:t.size}),n=(0,s.B)(n,{dir:"right"})),(new TextDecoder).decode(n)}},6684:(e,t,n)=>{"use strict";n.d(t,{A9:()=>i,NO:()=>a,Pj:()=>c,dV:()=>s,nx:()=>l,zd:()=>o});var r=n(7847);r.C;class i extends r.C{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class s extends r.C{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class o extends r.C{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class a extends r.C{constructor({param:e,type:t,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class c extends r.C{constructor({param:e,type:t,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class l extends r.C{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}},6724:(e,t,n)=>{"use strict";n.d(t,{J:()=>c});var r=n(6652),i=n(8503),s=n(2350),o=n(3692),a=n(4271);async function c(e,t){const{abi:n,address:c,args:l,functionName:u,...d}=t,h=(0,i.p)({abi:n,args:l,functionName:u});try{const{data:t}=await(0,o.T)(e,a.T,"call")({...d,data:h,to:c});return(0,r.e)({abi:n,args:l,functionName:u,data:t||"0x"})}catch(e){throw(0,s.j)(e,{abi:n,address:c,args:l,docsPath:"/docs/contract/readContract",functionName:u})}}},6756:(e,t,n)=>{const r=n(2726);function i(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function s(e,t,n){let r=e+t;return void 0!==n&&(r+=" "+n),r}t.render=function(e,t,n){const o=r.getOptions(t),a=e.modules.size,c=e.modules.data,l=a+2*o.margin,u=o.color.light.a?"<path "+i(o.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",d="<path "+i(o.color.dark,"stroke")+' d="'+function(e,t,n){let r="",i=0,o=!1,a=0;for(let c=0;c<e.length;c++){const l=Math.floor(c%t),u=Math.floor(c/t);l||o||(o=!0),e[c]?(a++,c>0&&l>0&&e[c-1]||(r+=o?s("M",l+n,.5+u+n):s("m",i,0),i=0,o=!1),l+1<t&&e[c+1]||(r+=s("h",a),a=0)):i++}return r}(c,a,o.margin)+'"/>',h='viewBox="0 0 '+l+" "+l+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+h+' shape-rendering="crispEdges">'+u+d+"</svg>\n";return"function"==typeof n&&n(null,f),f}},6763:(e,t,n)=>{var r=n(5364);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},6883:(e,t,n)=>{"use strict";n.d(t,{Hi:()=>i,ft:()=>s,uj:()=>a});var r=n(1344);class i extends r.C{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class s extends r.C{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function o(e){return e.reduce((e,{slot:t,value:n})=>`${e}        ${t}: ${n}\n`,"")}function a(e){return e.reduce((e,{address:t,...n})=>{let r=`${e}    ${t}:\n`;return n.nonce&&(r+=`      nonce: ${n.nonce}\n`),n.balance&&(r+=`      balance: ${n.balance}\n`),n.code&&(r+=`      code: ${n.code}\n`),n.state&&(r+="      state:\n",r+=o(n.state)),n.stateDiff&&(r+="      stateDiff:\n",r+=o(n.stateDiff)),r},"  State Override:\n").slice(0,-1)}},6886:(e,t)=>{let n;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return r[e]},t.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},t.isKanjiModeEnabled=function(){return void 0!==n},t.toSJIS=function(e){return n(e)}},7007:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,s),r(n)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,s,{once:!0}),"error"!==t&&function(e,t){"function"==typeof e.on&&g(e,"error",t,{once:!0})}(e,i)})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,s,o,l;if(a(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),void 0===o)o=s[t]=n,++e._eventsCount;else if("function"==typeof o?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=c(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(s){r.once&&e.removeEventListener(t,i),n(s)})}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var l=c.length,u=p(c,l);for(n=0;n<l;++n)r(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){return a(t),this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,s,o;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},7017:(e,t,n)=>{"use strict";function r(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function i(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?r(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function s(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));const n=i(t);let s=0;for(const t of e)n.set(t,s),s+=t.length;return r(n)}n.d(t,{xW:()=>s,sH:()=>d,dI:()=>h});var o=n(3360);function a(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const c=a("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),l=a("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{const t=i((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),u={utf8:c,"utf-8":c,hex:o.Fo.base16,latin1:l,ascii:l,binary:l,...o.Fo};function d(e,t="utf8"){const n=u[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):r(globalThis.Buffer.from(e,"utf-8"))}function h(e,t="utf8"){const n=u[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}},7044:(e,t)=>{const n="[0-9]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const i="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+")(?:.|[\r\n]))+";t.KANJI=new RegExp(r,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(i,"g"),t.NUMERIC=new RegExp(n,"g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const s=new RegExp("^"+r+"$"),o=new RegExp("^"+n+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return s.test(e)},t.testNumeric=function(e){return o.test(e)},t.testAlphanumeric=function(e){return a.test(e)}},7070:(e,t,n)=>{"use strict";function r(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}n.d(t,{e:()=>r})},7118:function(e,t){!function(e){"use strict";var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)};function n(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function r(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function i(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var s,o=255;e.OPERATION=void 0,(s=e.OPERATION||(e.OPERATION={}))[s.ADD=128]="ADD",s[s.REPLACE=0]="REPLACE",s[s.DELETE=64]="DELETE",s[s.DELETE_AND_ADD=192]="DELETE_AND_ADD",s[s.TOUCH=1]="TOUCH",s[s.CLEAR=10]="CLEAR";var a=function(){function t(e,t,n){this.changed=!1,this.changes=new Map,this.allChanges=new Set,this.caches={},this.currentCustomOperation=0,this.ref=e,this.setParent(t,n)}return t.prototype.setParent=function(e,t,n){var r=this;if(this.indexes||(this.indexes=this.ref instanceof le?this.ref._definition.indexes:{}),this.parent=e,this.parentIndex=n,t)if(this.root=t,this.ref instanceof le){var i=this.ref._definition;for(var s in i.schema){var o=this.ref[s];if(o&&o.$changes){var a=i.indexes[s];o.$changes.setParent(this.ref,t,a)}}}else"object"==typeof this.ref&&this.ref.forEach(function(e,t){if(e instanceof le){var n=e.$changes,i=r.ref.$changes.indexes[t];n.setParent(r.ref,r.root,i)}})},t.prototype.operation=function(e){this.changes.set(--this.currentCustomOperation,e)},t.prototype.change=function(t,n){void 0===n&&(n=e.OPERATION.ADD);var r="number"==typeof t?t:this.indexes[t];this.assertValidIndex(r,t);var i=this.changes.get(r);i&&i.op!==e.OPERATION.DELETE&&i.op!==e.OPERATION.TOUCH||this.changes.set(r,{op:i&&i.op===e.OPERATION.DELETE?e.OPERATION.DELETE_AND_ADD:n,index:r}),this.allChanges.add(r),this.changed=!0,this.touchParents()},t.prototype.touch=function(t){var n="number"==typeof t?t:this.indexes[t];this.assertValidIndex(n,t),this.changes.has(n)||this.changes.set(n,{op:e.OPERATION.TOUCH,index:n}),this.allChanges.add(n),this.touchParents()},t.prototype.touchParents=function(){this.parent&&this.parent.$changes.touch(this.parentIndex)},t.prototype.getType=function(e){if(this.ref._definition)return(t=this.ref._definition).schema[t.fieldsByIndex[e]];var t,n=(t=this.parent._definition).schema[t.fieldsByIndex[this.parentIndex]];return Object.values(n)[0]},t.prototype.getChildrenFilter=function(){var e=this.parent._definition.childFilters;return e&&e[this.parentIndex]},t.prototype.getValue=function(e){return this.ref.getByIndex(e)},t.prototype.delete=function(t){var n="number"==typeof t?t:this.indexes[t];if(void 0!==n){var r=this.getValue(n);this.changes.set(n,{op:e.OPERATION.DELETE,index:n}),this.allChanges.delete(n),delete this.caches[n],r&&r.$changes&&(r.$changes.parent=void 0),this.changed=!0,this.touchParents()}else console.warn("@colyseus/schema ".concat(this.ref.constructor.name,": trying to delete non-existing index: ").concat(t," (").concat(n,")"))},t.prototype.discard=function(t,n){var r=this;void 0===t&&(t=!1),void 0===n&&(n=!1),this.ref instanceof le||this.changes.forEach(function(t){if(t.op===e.OPERATION.DELETE){var n=r.ref.getIndex(t.index);delete r.indexes[n]}}),this.changes.clear(),this.changed=t,n&&this.allChanges.clear(),this.currentCustomOperation=0},t.prototype.discardAll=function(){var e=this;this.changes.forEach(function(t){var n=e.getValue(t.index);n&&n.$changes&&n.$changes.discardAll()}),this.discard()},t.prototype.cache=function(e,t){this.caches[e]=t},t.prototype.clone=function(){return new t(this.ref,this.parent,this.root)},t.prototype.ensureRefId=function(){void 0===this.refId&&(this.refId=this.root.getNextUniqueId())},t.prototype.assertValidIndex=function(e,t){if(void 0===e)throw new Error('ChangeTree: missing index for field "'.concat(t,'"'))},t}();function c(e,t,n,r){return e[t]||(e[t]=[]),e[t].push(n),null==r||r.forEach(function(e,t){return n(e,t)}),function(){return u(e[t],e[t].indexOf(n))}}function l(t){var n=this,r="string"!=typeof this.$changes.getType();this.$items.forEach(function(i,s){t.push({refId:n.$changes.refId,op:e.OPERATION.DELETE,field:s,value:void 0,previousValue:i}),r&&n.$changes.root.removeRef(i.$changes.refId)})}function u(e,t){if(-1===t||t>=e.length)return!1;for(var n=e.length-1,r=t;r<n;r++)e[r]=e[r+1];return e.length=n,!0}var d=function(e,t){var n=e.toString(),r=t.toString();return n<r?-1:n>r?1:0};var h=function(){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.$changes=new a(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,this.push.apply(this,e)}return t.prototype.onAdd=function(t,n){return void 0===n&&(n=!0),c(this.$callbacks||(this.$callbacks={}),e.OPERATION.ADD,t,n?this.$items:void 0)},t.prototype.onRemove=function(t){return c(this.$callbacks||(this.$callbacks={}),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return c(this.$callbacks||(this.$callbacks={}),e.OPERATION.REPLACE,t)},t.is=function(e){return Array.isArray(e)||void 0!==e.array},Object.defineProperty(t.prototype,"length",{get:function(){return this.$items.size},set:function(e){0===e?this.clear():this.splice(e,this.length-e)},enumerable:!1,configurable:!0}),t.prototype.push=function(){for(var e,t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach(function(n){e=t.$refId++,t.setAt(e,n)}),e},t.prototype.pop=function(){var e=Array.from(this.$indexes.values()).pop();if(void 0!==e){this.$changes.delete(e),this.$indexes.delete(e);var t=this.$items.get(e);return this.$items.delete(e),t}},t.prototype.at=function(e){if((e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length)){var t=Array.from(this.$items.keys())[e];return this.$items.get(t)}},t.prototype.setAt=function(t,n){var r,i;if(null!=n){if(this.$items.get(t)!==n){void 0!==n.$changes&&n.$changes.setParent(this,this.$changes.root,t);var s=null!==(i=null===(r=this.$changes.indexes[t])||void 0===r?void 0:r.op)&&void 0!==i?i:e.OPERATION.ADD;this.$changes.indexes[t]=t,this.$indexes.set(t,t),this.$items.set(t,n),this.$changes.change(t,s)}}else console.error("ArraySchema items cannot be null nor undefined; Use `deleteAt(index)` instead.")},t.prototype.deleteAt=function(e){var t=Array.from(this.$items.keys())[e];return void 0!==t&&this.$deleteAt(t)},t.prototype.$deleteAt=function(e){return this.$changes.delete(e),this.$indexes.delete(e),this.$items.delete(e)},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&l.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.concat=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new(t.bind.apply(t,i([void 0],(e=Array.from(this.$items.values())).concat.apply(e,n),!1)))},t.prototype.join=function(e){return Array.from(this.$items.values()).join(e)},t.prototype.reverse=function(){var e=this,t=Array.from(this.$items.keys());return Array.from(this.$items.values()).reverse().forEach(function(n,r){e.setAt(t[r],n)}),this},t.prototype.shift=function(){var e=Array.from(this.$items.keys()).shift();if(void 0!==e){var t=this.$items.get(e);return this.$deleteAt(e),t}},t.prototype.slice=function(e,n){var r=new t;return r.push.apply(r,Array.from(this.$items.values()).slice(e,n)),r},t.prototype.sort=function(e){var t=this;void 0===e&&(e=d);var n=Array.from(this.$items.keys());return Array.from(this.$items.values()).sort(e).forEach(function(e,r){t.setAt(n[r],e)}),this},t.prototype.splice=function(e,t){void 0===t&&(t=this.length-e);for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];for(var i=Array.from(this.$items.keys()),s=[],o=e;o<e+t;o++)s.push(this.$items.get(i[o])),this.$deleteAt(i[o]);for(o=0;o<n.length;o++)this.setAt(e+o,n[o]);return s},t.prototype.unshift=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.length,i=t.length,s=Array.from(this.$items.values());return t.forEach(function(t,n){e.setAt(n,t)}),s.forEach(function(t,n){e.setAt(i+n,t)}),r+i},t.prototype.indexOf=function(e,t){return Array.from(this.$items.values()).indexOf(e,t)},t.prototype.lastIndexOf=function(e,t){return void 0===t&&(t=this.length-1),Array.from(this.$items.values()).lastIndexOf(e,t)},t.prototype.every=function(e,t){return Array.from(this.$items.values()).every(e,t)},t.prototype.some=function(e,t){return Array.from(this.$items.values()).some(e,t)},t.prototype.forEach=function(e,t){Array.from(this.$items.values()).forEach(e,t)},t.prototype.map=function(e,t){return Array.from(this.$items.values()).map(e,t)},t.prototype.filter=function(e,t){return Array.from(this.$items.values()).filter(e,t)},t.prototype.reduce=function(e,t){return Array.prototype.reduce.apply(Array.from(this.$items.values()),arguments)},t.prototype.reduceRight=function(e,t){return Array.prototype.reduceRight.apply(Array.from(this.$items.values()),arguments)},t.prototype.find=function(e,t){return Array.from(this.$items.values()).find(e,t)},t.prototype.findIndex=function(e,t){return Array.from(this.$items.values()).findIndex(e,t)},t.prototype.fill=function(e,t,n){throw new Error("ArraySchema#fill() not implemented")},t.prototype.copyWithin=function(e,t,n){throw new Error("ArraySchema#copyWithin() not implemented")},t.prototype.toString=function(){return this.$items.toString()},t.prototype.toLocaleString=function(){return this.$items.toLocaleString()},t.prototype[Symbol.iterator]=function(){return Array.from(this.$items.values())[Symbol.iterator]()},Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.entries=function(){return this.$items.entries()},t.prototype.keys=function(){return this.$items.keys()},t.prototype.values=function(){return this.$items.values()},t.prototype.includes=function(e,t){return Array.from(this.$items.values()).includes(e,t)},t.prototype.flatMap=function(e,t){throw new Error("ArraySchema#flatMap() is not supported.")},t.prototype.flat=function(e){throw new Error("ArraySchema#flat() is not supported.")},t.prototype.findLast=function(){var e=Array.from(this.$items.values());return e.findLast.apply(e,arguments)},t.prototype.findLastIndex=function(){var e=Array.from(this.$items.values());return e.findLastIndex.apply(e,arguments)},t.prototype.with=function(e,n){var r=Array.from(this.$items.values());return r[e]=n,new(t.bind.apply(t,i([void 0],r,!1)))},t.prototype.toReversed=function(){return Array.from(this.$items.values()).reverse()},t.prototype.toSorted=function(e){return Array.from(this.$items.values()).sort(e)},t.prototype.toSpliced=function(e,t){var n=Array.from(this.$items.values());return n.toSpliced.apply(n,arguments)},t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){return this.toArray().map(function(e){return"function"==typeof e.toJSON?e.toJSON():e})},t.prototype.clone=function(e){return e?new(t.bind.apply(t,i([void 0],Array.from(this.$items.values()),!1))):new(t.bind.apply(t,i([void 0],this.map(function(e){return e.$changes?e.clone():e}),!1)))},t}();var f=function(){function t(e){var n=this;if(this.$changes=new a(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e)if(e instanceof Map||e instanceof t)e.forEach(function(e,t){return n.set(t,e)});else for(var r in e)this.set(r,e[r])}return t.prototype.onAdd=function(t,n){return void 0===n&&(n=!0),c(this.$callbacks||(this.$callbacks={}),e.OPERATION.ADD,t,n?this.$items:void 0)},t.prototype.onRemove=function(t){return c(this.$callbacks||(this.$callbacks={}),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return c(this.$callbacks||(this.$callbacks={}),e.OPERATION.REPLACE,t)},t.is=function(e){return void 0!==e.map},t.prototype[Symbol.iterator]=function(){return this.$items[Symbol.iterator]()},Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return this.$items[Symbol.toStringTag]},enumerable:!1,configurable:!0}),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.set=function(t,n){if(null==n)throw new Error("MapSchema#set('".concat(t,"', ").concat(n,"): trying to set ").concat(n," value on '").concat(t,"'."));t=t.toString();var r=void 0!==this.$changes.indexes[t],i=r?this.$changes.indexes[t]:this.$refId++,s=r?e.OPERATION.REPLACE:e.OPERATION.ADD,o=void 0!==n.$changes;if(o&&n.$changes.setParent(this,this.$changes.root,i),r){if(!o&&this.$items.get(t)===n)return;o&&this.$items.get(t)!==n&&(s=e.OPERATION.ADD)}else this.$changes.indexes[t]=i,this.$indexes.set(i,t);return this.$items.set(t,n),this.$changes.change(t,s),this},t.prototype.get=function(e){return this.$items.get(e)},t.prototype.delete=function(e){return this.$changes.delete(e.toString()),this.$items.delete(e)},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&l.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){return this.$items.has(e)},t.prototype.forEach=function(e){this.$items.forEach(e)},t.prototype.entries=function(){return this.$items.entries()},t.prototype.keys=function(){return this.$items.keys()},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toJSON=function(){var e={};return this.forEach(function(t,n){e[n]="function"==typeof t.toJSON?t.toJSON():t}),e},t.prototype.clone=function(e){var n;return e?n=Object.assign(new t,this):(n=new t,this.forEach(function(e,t){e.$changes?n.set(t,e.clone()):n.set(t,e)})),n},t}(),p={};function g(e,t){p[e]=t}function m(e){return p[e]}var y=function(){function e(){this.indexes={},this.fieldsByIndex={},this.deprecated={},this.descriptors={}}return e.create=function(t){var n=new e;return n.schema=Object.assign({},t&&t.schema||{}),n.indexes=Object.assign({},t&&t.indexes||{}),n.fieldsByIndex=Object.assign({},t&&t.fieldsByIndex||{}),n.descriptors=Object.assign({},t&&t.descriptors||{}),n.deprecated=Object.assign({},t&&t.deprecated||{}),n},e.prototype.addField=function(e,t){var n=this.getNextFieldIndex();this.fieldsByIndex[n]=e,this.indexes[e]=n,this.schema[e]=Array.isArray(t)?{array:t[0]}:t},e.prototype.hasField=function(e){return void 0!==this.indexes[e]},e.prototype.addFilter=function(e,t){return this.filters||(this.filters={},this.indexesWithFilters=[]),this.filters[this.indexes[e]]=t,this.indexesWithFilters.push(this.indexes[e]),!0},e.prototype.addChildrenFilter=function(e,t){var n=this.indexes[e],r=this.schema[e];if(m(Object.keys(r)[0]))return this.childFilters||(this.childFilters={}),this.childFilters[n]=t,!0;console.warn("@filterChildren: field '".concat(e,"' can't have children. Ignoring filter."))},e.prototype.getChildrenFilter=function(e){return this.childFilters&&this.childFilters[this.indexes[e]]},e.prototype.getNextFieldIndex=function(){return Object.keys(this.schema||{}).length},e}();var w=function(){function e(){this.types={},this.schemas=new Map,this.useFilters=!1}return e.prototype.has=function(e){return this.schemas.has(e)},e.prototype.get=function(e){return this.types[e]},e.prototype.add=function(e,t){void 0===t&&(t=this.schemas.size),e._definition=y.create(e._definition),e._typeid=t,this.types[t]=e,this.schemas.set(e,t)},e.create=function(t){return void 0===t&&(t={}),function(n){return t.context||(t.context=new e),v(n,t)}},e}(),b=new w;function v(e,t){return void 0===t&&(t={}),function(n,r){var s=t.context||b,o=n.constructor;if(o._context=s,!e)throw new Error("".concat(o.name,': @type() reference provided for "').concat(r,"\" is undefined. Make sure you don't have any circular dependencies."));s.has(o)||s.add(o);var a=o._definition;if(a.addField(r,e),a.descriptors[r]){if(a.deprecated[r])return;try{throw new Error("@colyseus/schema: Duplicate '".concat(r,"' definition on '").concat(o.name,"'.\nCheck @type() annotation"))}catch(e){var c=e.stack.split("\n")[4].trim();throw new Error("".concat(e.message," ").concat(c))}}var l=h.is(e),u=!l&&f.is(e);if("string"!=typeof e&&!le.is(e)){var d=Object.values(e)[0];"string"==typeof d||s.has(d)||s.add(d)}if(t.manual)a.descriptors[r]={enumerable:!0,configurable:!0,writable:!0};else{var p="_".concat(r);a.descriptors[p]={enumerable:!1,configurable:!1,writable:!0},a.descriptors[r]={get:function(){return this[p]},set:function(e){e!==this[p]&&(null!=e?(!l||e instanceof h||(e=new(h.bind.apply(h,i([void 0],e,!1)))),!u||e instanceof f||(e=new f(e)),void 0===e.$proxy&&(u?e=function(e){return e.$proxy=!0,new Proxy(e,{get:function(e,t){return"symbol"!=typeof t&&void 0===e[t]?e.get(t):e[t]},set:function(e,t,n){return"symbol"!=typeof t&&-1===t.indexOf("$")&&"onAdd"!==t&&"onRemove"!==t&&"onChange"!==t?e.set(t,n):e[t]=n,!0},deleteProperty:function(e,t){return e.delete(t),!0}})}(e):l&&(e=function(e){return e.$proxy=!0,new Proxy(e,{get:function(e,t){return"symbol"==typeof t||isNaN(t)?e[t]:e.at(t)},set:function(e,t,n){if("symbol"==typeof t||isNaN(t))e[t]=n;else{var r=Array.from(e.$items.keys()),i=parseInt(r[t]||t);null==n?e.deleteAt(i):e.setAt(i,n)}return!0},deleteProperty:function(e,t){return"number"==typeof t?e.deleteAt(t):delete e[t],!0},has:function(e,t){return"symbol"==typeof t||isNaN(Number(t))?Reflect.has(e,t):e.$items.has(Number(t))}})}(e))),this.$changes.change(r),e.$changes&&e.$changes.setParent(this,this.$changes.root,this._definition.indexes[r])):void 0!==this[p]&&this.$changes.delete(r),this[p]=e)},enumerable:!0,configurable:!0}}}}function x(e,t,n){for(var r=0,i=0,s=n.length;i<s;i++)(r=n.charCodeAt(i))<128?e[t++]=r:r<2048?(e[t++]=192|r>>6,e[t++]=128|63&r):r<55296||r>=57344?(e[t++]=224|r>>12,e[t++]=128|r>>6&63,e[t++]=128|63&r):(i++,r=65536+((1023&r)<<10|1023&n.charCodeAt(i)),e[t++]=240|r>>18,e[t++]=128|r>>12&63,e[t++]=128|r>>6&63,e[t++]=128|63&r)}function E(e,t){e.push(255&t)}function k(e,t){e.push(255&t)}function _(e,t){e.push(255&t),e.push(t>>8&255)}function C(e,t){e.push(255&t),e.push(t>>8&255)}function S(e,t){e.push(255&t),e.push(t>>8&255),e.push(t>>16&255),e.push(t>>24&255)}function I(e,t){var n=t>>24,r=t>>16,i=t>>8,s=t;e.push(255&s),e.push(255&i),e.push(255&r),e.push(255&n)}function A(e,t){var n=Math.floor(t/Math.pow(2,32));I(e,t>>>0),I(e,n)}function T(e,t){var n=t/Math.pow(2,32)|0;I(e,t>>>0),I(e,n)}var P=new Int32Array(2),O=new Float32Array(P.buffer),j=new Float64Array(P.buffer);function N(e,t){O[0]=t,S(e,P[0])}function R(e,t){j[0]=t,S(e,P[0]),S(e,P[1])}function $(e,t){t||(t="");var n=function(e){for(var t=0,n=0,r=0,i=e.length;r<i;r++)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t),r=0;if(n<32)e.push(160|n),r=1;else if(n<256)e.push(217),k(e,n),r=2;else if(n<65536)e.push(218),C(e,n),r=3;else{if(!(n<4294967296))throw new Error("String too long");e.push(219),I(e,n),r=5}return x(e,e.length,t),r+n}function M(e,t){return isNaN(t)?M(e,0):isFinite(t)?t!==(0|t)?(e.push(203),R(e,t),9):t>=0?t<128?(k(e,t),1):t<256?(e.push(204),k(e,t),2):t<65536?(e.push(205),C(e,t),3):t<4294967296?(e.push(206),I(e,t),5):(e.push(207),T(e,t),9):t>=-32?(e.push(224|t+32),1):t>=-128?(e.push(208),E(e,t),2):t>=-32768?(e.push(209),_(e,t),3):t>=-2147483648?(e.push(210),S(e,t),5):(e.push(211),A(e,t),9):M(e,t>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER)}var L=Object.freeze({__proto__:null,boolean:function(e,t){return k(e,t?1:0)},float32:function(e,t){N(e,t)},float64:function(e,t){R(e,t)},int16:_,int32:S,int64:A,int8:E,number:M,string:$,uint16:C,uint32:I,uint64:T,uint8:k,utf8Write:x,writeFloat32:N,writeFloat64:R});function B(e,t){return U(e,t)<<24>>24}function U(e,t){return e[t.offset++]}function D(e,t){return F(e,t)<<16>>16}function F(e,t){return e[t.offset++]|e[t.offset++]<<8}function z(e,t){return e[t.offset++]|e[t.offset++]<<8|e[t.offset++]<<16|e[t.offset++]<<24}function W(e,t){return z(e,t)>>>0}function q(e,t){var n=W(e,t);return z(e,t)*Math.pow(2,32)+n}function H(e,t){var n=W(e,t);return W(e,t)*Math.pow(2,32)+n}var V=new Int32Array(2),K=new Float32Array(V.buffer),G=new Float64Array(V.buffer);function Z(e,t){return V[0]=z(e,t),K[0]}function Y(e,t){return V[0]=z(e,t),V[1]=z(e,t),G[0]}function J(e,t){var n,r=e[t.offset++];r<192?n=31&r:217===r?n=U(e,t):218===r?n=F(e,t):219===r&&(n=W(e,t));var i=function(e,t,n){for(var r="",i=0,s=t,o=t+n;s<o;s++){var a=e[s];128&a?192!=(224&a)?224!=(240&a)?240!=(248&a)?console.error("Invalid byte "+a.toString(16)):(i=(7&a)<<18|(63&e[++s])<<12|(63&e[++s])<<6|63&e[++s])>=65536?(i-=65536,r+=String.fromCharCode((i>>>10)+55296,56320+(1023&i))):r+=String.fromCharCode(i):r+=String.fromCharCode((15&a)<<12|(63&e[++s])<<6|63&e[++s]):r+=String.fromCharCode((31&a)<<6|63&e[++s]):r+=String.fromCharCode(a)}return r}(e,t.offset,n);return t.offset+=n,i}function Q(e,t){var n=e[t.offset++];return n<128?n:202===n?Z(e,t):203===n?Y(e,t):204===n?U(e,t):205===n?F(e,t):206===n?W(e,t):207===n?H(e,t):208===n?B(e,t):209===n?D(e,t):210===n?z(e,t):211===n?q(e,t):n>223?-1*(255-n+1):void 0}function X(e,t){return e[t.offset-1]===o&&(e[t.offset]<128||e[t.offset]>=202&&e[t.offset]<=211)}var ee=Object.freeze({__proto__:null,arrayCheck:function(e,t){return e[t.offset]<160},boolean:function(e,t){return U(e,t)>0},float32:function(e,t){return Z(e,t)},float64:function(e,t){return Y(e,t)},int16:D,int32:z,int64:q,int8:B,number:Q,numberCheck:function(e,t){var n=e[t.offset];return n<128||n>=202&&n<=211},readFloat32:Z,readFloat64:Y,string:J,stringCheck:function(e,t){var n=e[t.offset];return n<192&&n>160||217===n||218===n||219===n},switchStructureCheck:X,uint16:F,uint32:W,uint64:H,uint8:U}),te=function(){function t(e){var t=this;this.$changes=new a(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e&&e.forEach(function(e){return t.add(e)})}return t.prototype.onAdd=function(t,n){return void 0===n&&(n=!0),c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.ADD,t,n?this.$items:void 0)},t.prototype.onRemove=function(t){return c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.REPLACE,t)},t.is=function(e){return void 0!==e.collection},t.prototype.add=function(e){var t=this.$refId++;return void 0!==e.$changes&&e.$changes.setParent(this,this.$changes.root,t),this.$changes.indexes[t]=t,this.$indexes.set(t,t),this.$items.set(t,e),this.$changes.change(t),t},t.prototype.at=function(e){var t=Array.from(this.$items.keys())[e];return this.$items.get(t)},t.prototype.entries=function(){return this.$items.entries()},t.prototype.delete=function(e){for(var t,n,r=this.$items.entries();(n=r.next())&&!n.done;)if(e===n.value[1]){t=n.value[0];break}return void 0!==t&&(this.$changes.delete(t),this.$indexes.delete(t),this.$items.delete(t))},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&l.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){return Array.from(this.$items.values()).some(function(t){return t===e})},t.prototype.forEach=function(e){var t=this;this.$items.forEach(function(n,r,i){return e(n,r,t)})},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){var e=[];return this.forEach(function(t,n){e.push("function"==typeof t.toJSON?t.toJSON():t)}),e},t.prototype.clone=function(e){var n;return e?n=Object.assign(new t,this):(n=new t,this.forEach(function(e){e.$changes?n.add(e.clone()):n.add(e)})),n},t}(),ne=function(){function t(e){var t=this;this.$changes=new a(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e&&e.forEach(function(e){return t.add(e)})}return t.prototype.onAdd=function(t,n){return void 0===n&&(n=!0),c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.ADD,t,n?this.$items:void 0)},t.prototype.onRemove=function(t){return c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.DELETE,t)},t.prototype.onChange=function(t){return c(this.$callbacks||(this.$callbacks=[]),e.OPERATION.REPLACE,t)},t.is=function(e){return void 0!==e.set},t.prototype.add=function(t){var n,r;if(this.has(t))return!1;var i=this.$refId++;void 0!==t.$changes&&t.$changes.setParent(this,this.$changes.root,i);var s=null!==(r=null===(n=this.$changes.indexes[i])||void 0===n?void 0:n.op)&&void 0!==r?r:e.OPERATION.ADD;return this.$changes.indexes[i]=i,this.$indexes.set(i,i),this.$items.set(i,t),this.$changes.change(i,s),i},t.prototype.entries=function(){return this.$items.entries()},t.prototype.delete=function(e){for(var t,n,r=this.$items.entries();(n=r.next())&&!n.done;)if(e===n.value[1]){t=n.value[0];break}return void 0!==t&&(this.$changes.delete(t),this.$indexes.delete(t),this.$items.delete(t))},t.prototype.clear=function(t){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&l.call(this,t),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){for(var t,n=this.$items.values(),r=!1;(t=n.next())&&!t.done;)if(e===t.value){r=!0;break}return r},t.prototype.forEach=function(e){var t=this;this.$items.forEach(function(n,r,i){return e(n,r,t)})},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){var e=[];return this.forEach(function(t,n){e.push("function"==typeof t.toJSON?t.toJSON():t)}),e},t.prototype.clone=function(e){var n;return e?n=Object.assign(new t,this):(n=new t,this.forEach(function(e){e.$changes?n.add(e.clone()):n.add(e)})),n},t}(),re=function(){function e(){this.refIds=new WeakSet,this.containerIndexes=new WeakMap}return e.prototype.addRefId=function(e){this.refIds.has(e)||(this.refIds.add(e),this.containerIndexes.set(e,new Set))},e.get=function(t){return void 0===t.$filterState&&(t.$filterState=new e),t.$filterState},e}(),ie=function(){function e(){this.refs=new Map,this.refCounts={},this.deletedRefs=new Set,this.nextUniqueId=0}return e.prototype.getNextUniqueId=function(){return this.nextUniqueId++},e.prototype.addRef=function(e,t,n){void 0===n&&(n=!0),this.refs.set(e,t),n&&(this.refCounts[e]=(this.refCounts[e]||0)+1)},e.prototype.removeRef=function(e){var t=this.refCounts[e];void 0!==t?0!==t?(this.refCounts[e]=t-1,this.deletedRefs.add(e)):console.warn("trying to remove reference ".concat(e," with 0 refCount")):console.warn("trying to remove reference ".concat(e," that doesn't exist"))},e.prototype.clearRefs=function(){this.refs.clear(),this.deletedRefs.clear(),this.refCounts={}},e.prototype.garbageCollectDeletedRefs=function(){var e=this;this.deletedRefs.forEach(function(t){if(!(e.refCounts[t]>0)){var n=e.refs.get(t);if(n instanceof le)for(var r in n._definition.schema)"string"!=typeof n._definition.schema[r]&&n[r]&&n[r].$changes&&e.removeRef(n[r].$changes.refId);else{var i=n.$changes.parent._definition,s=i.schema[i.fieldsByIndex[n.$changes.parentIndex]];"function"==typeof Object.values(s)[0]&&Array.from(n.values()).forEach(function(t){return e.removeRef(t.$changes.refId)})}e.refs.delete(t),delete e.refCounts[t]}}),this.deletedRefs.clear()},e}(),se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(Error);function oe(e,t,n,r){if(!(e instanceof t))throw new se("a '".concat(t.name,"' was expected, but '").concat(e.constructor.name,"' was provided in ").concat(n.constructor.name,"#").concat(r))}function ae(e,t,n,r,i){!function(e,t,n,r){var i,s=!1;switch(t){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":i="number",isNaN(e)&&console.log('trying to encode "NaN" in '.concat(n.constructor.name,"#").concat(r));break;case"string":i="string",s=!0;break;case"boolean":return}if(typeof e!==i&&(!s||s&&null!==e)){var o="'".concat(JSON.stringify(e),"'").concat(e&&e.constructor&&" (".concat(e.constructor.name,")")||"");throw new se("a '".concat(i,"' was expected, but ").concat(o," was provided in ").concat(n.constructor.name,"#").concat(r))}}(n,e,r,i);var s=L[e];if(!s)throw new se("a '".concat(e,"' was expected, but ").concat(n," was provided in ").concat(r.constructor.name,"#").concat(i));s(t,n)}function ce(e,t,n){return ee[e](t,n)}var le=function(){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Object.defineProperties(this,{$changes:{value:new a(this,void 0,new ie),enumerable:!1,writable:!0},$callbacks:{value:void 0,enumerable:!1,writable:!0}});var n=this._definition.descriptors;n&&Object.defineProperties(this,n),e[0]&&this.assign(e[0])}return t.onError=function(e){console.error(e)},t.is=function(e){return e._definition&&void 0!==e._definition.schema},t.prototype.onChange=function(t){return c(this.$callbacks||(this.$callbacks={}),e.OPERATION.REPLACE,t)},t.prototype.onRemove=function(t){return c(this.$callbacks||(this.$callbacks={}),e.OPERATION.DELETE,t)},t.prototype.assign=function(e){return Object.assign(this,e),this},Object.defineProperty(t.prototype,"_definition",{get:function(){return this.constructor._definition},enumerable:!1,configurable:!0}),t.prototype.setDirty=function(e,t){this.$changes.change(e,t)},t.prototype.listen=function(e,t,n){var r=this;return void 0===n&&(n=!0),this.$callbacks||(this.$callbacks={}),this.$callbacks[e]||(this.$callbacks[e]=[]),this.$callbacks[e].push(t),n&&void 0!==this[e]&&t(this[e],void 0),function(){return u(r.$callbacks[e],r.$callbacks[e].indexOf(t))}},t.prototype.decode=function(n,r,i){void 0===r&&(r={offset:0}),void 0===i&&(i=this);var s=[],a=this.$changes.root,c=n.length,l=0;for(a.refs.set(l,this);r.offset<c;){var u=n[r.offset++];if(u!=o){var d=i.$changes,p=void 0!==i._definition,g=p?u>>6<<6:u;if(g!==e.OPERATION.CLEAR){var y=p?u%(g||255):Q(n,r),w=p?i._definition.fieldsByIndex[y]:"",b=d.getType(y),v=void 0,x=void 0,E=void 0;if(p?x=i["_".concat(w)]:(x=i.getByIndex(y),(g&e.OPERATION.ADD)===e.OPERATION.ADD?(E=i instanceof f?J(n,r):y,i.setIndex(y,E)):E=i.getIndex(y)),(g&e.OPERATION.DELETE)===e.OPERATION.DELETE&&(g!==e.OPERATION.DELETE_AND_ADD&&i.deleteByIndex(y),x&&x.$changes&&a.removeRef(x.$changes.refId),v=null),void 0!==w){if(g===e.OPERATION.DELETE);else if(t.is(b)){var k=Q(n,r);if(v=a.refs.get(k),g!==e.OPERATION.REPLACE){var _=this.getSchemaType(n,r,b);v||((v=this.createTypeInstance(_)).$changes.refId=k,x&&(v.$callbacks=x.$callbacks,x.$changes.refId&&k!==x.$changes.refId&&a.removeRef(x.$changes.refId))),a.addRef(k,v,v!==x)}}else if("string"==typeof b)v=ce(b,n,r);else{var C=m(Object.keys(b)[0]),S=Q(n,r),I=a.refs.has(S)?x||a.refs.get(S):new C.constructor;if((v=I.clone(!0)).$changes.refId=S,x&&(v.$callbacks=x.$callbacks,x.$changes.refId&&S!==x.$changes.refId)){a.removeRef(x.$changes.refId);for(var A=x.entries(),T=void 0;(T=A.next())&&!T.done;){var P=T.value,O=P[0],j=P[1];s.push({refId:S,op:e.OPERATION.DELETE,field:O,value:void 0,previousValue:j})}}a.addRef(S,v,I!==x)}if(null!=v)if(v.$changes&&v.$changes.setParent(d.ref,d.root,y),i instanceof t)i[w]=v;else if(i instanceof f)O=E,i.$items.set(O,v),i.$changes.allChanges.add(y);else if(i instanceof h)i.setAt(y,v);else if(i instanceof te){var N=i.add(v);i.setIndex(y,N)}else i instanceof ne&&!1!==(N=i.add(v))&&i.setIndex(y,N);x!==v&&s.push({refId:l,op:g,field:w,dynamicIndex:E,value:v,previousValue:x})}else{console.warn("@colyseus/schema: definition mismatch");for(var R={offset:r.offset};r.offset<c&&(!X(n,r)||(R.offset=r.offset+1,!a.refs.has(Q(n,R))));)r.offset++}}else i.clear(s)}else{l=Q(n,r);var $=a.refs.get(l);if(!$)throw new Error('"refId" not found: '.concat(l));i=$}}return this._triggerChanges(s),a.garbageCollectDeletedRefs(),s},t.prototype.encode=function(n,r,i){void 0===n&&(n=!1),void 0===r&&(r=[]),void 0===i&&(i=!1);for(var s=this.$changes,a=new WeakSet,c=[s],l=1,u=0;u<l;u++){var d=c[u],h=d.ref,p=h instanceof t;d.ensureRefId(),a.add(d),d!==s&&(d.changed||n)&&(k(r,o),M(r,d.refId));for(var g=n?Array.from(d.allChanges):Array.from(d.changes.values()),y=0,w=g.length;y<w;y++){var b=n?{op:e.OPERATION.ADD,index:g[y]}:g[y],v=b.index,x=p?h._definition.fieldsByIndex&&h._definition.fieldsByIndex[v]:v,E=r.length;if(b.op!==e.OPERATION.TOUCH)if(p)k(r,v|b.op);else{if(k(r,b.op),b.op===e.OPERATION.CLEAR)continue;M(r,v)}if(p||(b.op&e.OPERATION.ADD)!=e.OPERATION.ADD||h instanceof f&&$(r,d.ref.$indexes.get(v)),b.op!==e.OPERATION.DELETE){var _=d.getType(v),C=d.getValue(v);if(C&&C.$changes&&!a.has(C.$changes)&&(c.push(C.$changes),C.$changes.ensureRefId(),l++),b.op!==e.OPERATION.TOUCH){if(t.is(_))oe(C,_,h,x),M(r,C.$changes.refId),(b.op&e.OPERATION.ADD)===e.OPERATION.ADD&&this.tryEncodeTypeId(r,_,C.constructor);else if("string"==typeof _)ae(_,r,C,h,x);else{var S=m(Object.keys(_)[0]);oe(h["_".concat(x)],S.constructor,h,x),M(r,C.$changes.refId)}i&&d.cache(v,r.slice(E))}}}n||i||d.discard()}return r},t.prototype.encodeAll=function(e){return this.encode(!0,[],e)},t.prototype.applyFilters=function(n,r){var i,s;void 0===r&&(r=!1);for(var a=this,c=new Set,l=re.get(n),u=[this.$changes],d=1,h=[],p=function(p){var g=u[p];if(c.has(g.refId))return"continue";var m=g.ref,y=m instanceof t;k(h,o),M(h,g.refId);var w=l.refIds.has(g),b=r||!w;l.addRefId(g);var v=l.containerIndexes.get(g),x=b?Array.from(g.allChanges):Array.from(g.changes.values());!r&&y&&m._definition.indexesWithFilters&&m._definition.indexesWithFilters.forEach(function(t){!v.has(t)&&g.allChanges.has(t)&&(b?x.push(t):x.push({op:e.OPERATION.ADD,index:t}))});for(var E=0,_=x.length;E<_;E++){var C=b?{op:e.OPERATION.ADD,index:x[E]}:x[E];if(C.op!==e.OPERATION.CLEAR){var S=C.index;if(C.op!==e.OPERATION.DELETE){var I=g.getValue(S),A=g.getType(S);if(y){if((T=m._definition.filters&&m._definition.filters[S])&&!T.call(m,n,I,a)){I&&I.$changes&&c.add(I.$changes.refId);continue}}else{var T,P=g.parent;if((T=g.getChildrenFilter())&&!T.call(P,n,m.$indexes.get(S),I,a)){I&&I.$changes&&c.add(I.$changes.refId);continue}}if(I.$changes&&(u.push(I.$changes),d++),C.op!==e.OPERATION.TOUCH)if(C.op===e.OPERATION.ADD||y)h.push.apply(h,null!==(i=g.caches[S])&&void 0!==i?i:[]),v.add(S);else if(v.has(S))h.push.apply(h,null!==(s=g.caches[S])&&void 0!==s?s:[]);else{if(v.add(S),k(h,e.OPERATION.ADD),M(h,S),m instanceof f){var O=g.ref.$indexes.get(S);$(h,O)}I.$changes?M(h,I.$changes.refId):L[A](h,I)}else I.$changes&&!y&&(k(h,e.OPERATION.ADD),M(h,S),m instanceof f&&(O=g.ref.$indexes.get(S),$(h,O)),M(h,I.$changes.refId))}else y?k(h,C.op|S):(k(h,C.op),M(h,S))}else k(h,C.op)}},g=0;g<d;g++)p(g);return h},t.prototype.clone=function(){var e,t=new this.constructor,n=this._definition.schema;for(var r in n)"object"==typeof this[r]&&"function"==typeof(null===(e=this[r])||void 0===e?void 0:e.clone)?t[r]=this[r].clone():t[r]=this[r];return t},t.prototype.toJSON=function(){var e=this._definition.schema,t=this._definition.deprecated,n={};for(var r in e)t[r]||null===this[r]||void 0===this[r]||(n[r]="function"==typeof this[r].toJSON?this[r].toJSON():this["_".concat(r)]);return n},t.prototype.discardAllChanges=function(){this.$changes.discardAll()},t.prototype.getByIndex=function(e){return this[this._definition.fieldsByIndex[e]]},t.prototype.deleteByIndex=function(e){this[this._definition.fieldsByIndex[e]]=void 0},t.prototype.tryEncodeTypeId=function(e,t,n){t._typeid!==n._typeid&&(k(e,213),M(e,n._typeid))},t.prototype.getSchemaType=function(e,t,n){var r;return 213===e[t.offset]&&(t.offset++,r=this.constructor._context.get(Q(e,t))),r||n},t.prototype.createTypeInstance=function(e){var t=new e;return t.$changes.root=this.$changes.root,t},t.prototype._triggerChanges=function(n){for(var r,i,s,o,a,c,l,u,d,h=new Set,f=this.$changes.root.refs,p=function(p){var g=n[p],m=g.refId,y=f.get(m),w=y.$callbacks;if((g.op&e.OPERATION.DELETE)===e.OPERATION.DELETE&&g.previousValue instanceof t&&(null===(i=null===(r=g.previousValue.$callbacks)||void 0===r?void 0:r[e.OPERATION.DELETE])||void 0===i||i.forEach(function(e){return e()})),!w)return"continue";if(y instanceof t){if(!h.has(m))try{null===(s=null==w?void 0:w[e.OPERATION.REPLACE])||void 0===s||s.forEach(function(e){return e()})}catch(e){t.onError(e)}try{w.hasOwnProperty(g.field)&&(null===(o=w[g.field])||void 0===o||o.forEach(function(e){return e(g.value,g.previousValue)}))}catch(e){t.onError(e)}}else g.op===e.OPERATION.ADD&&void 0===g.previousValue?null===(a=w[e.OPERATION.ADD])||void 0===a||a.forEach(function(e){var t;return e(g.value,null!==(t=g.dynamicIndex)&&void 0!==t?t:g.field)}):g.op===e.OPERATION.DELETE?void 0!==g.previousValue&&(null===(c=w[e.OPERATION.DELETE])||void 0===c||c.forEach(function(e){var t;return e(g.previousValue,null!==(t=g.dynamicIndex)&&void 0!==t?t:g.field)})):g.op===e.OPERATION.DELETE_AND_ADD&&(void 0!==g.previousValue&&(null===(l=w[e.OPERATION.DELETE])||void 0===l||l.forEach(function(e){var t;return e(g.previousValue,null!==(t=g.dynamicIndex)&&void 0!==t?t:g.field)})),null===(u=w[e.OPERATION.ADD])||void 0===u||u.forEach(function(e){var t;return e(g.value,null!==(t=g.dynamicIndex)&&void 0!==t?t:g.field)})),g.value!==g.previousValue&&(null===(d=w[e.OPERATION.REPLACE])||void 0===d||d.forEach(function(e){var t;return e(g.value,null!==(t=g.dynamicIndex)&&void 0!==t?t:g.field)}));h.add(m)},g=0;g<n.length;g++)p(g)},t._definition=y.create(),t}();var ue={context:new w},de=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),r([v("string",ue)],t.prototype,"name",void 0),r([v("string",ue)],t.prototype,"type",void 0),r([v("number",ue)],t.prototype,"referencedType",void 0),t}(le),he=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fields=new h,t}return n(t,e),r([v("number",ue)],t.prototype,"id",void 0),r([v([de],ue)],t.prototype,"fields",void 0),t}(le),fe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.types=new h,t}return n(t,e),t.encode=function(e){var n,r=e.constructor,i=new t;i.rootType=r._typeid;var s=function(e,t){for(var n in t){var r=new de;r.name=n;var s=void 0;if("string"==typeof t[n])s=t[n];else{var o=t[n],a=void 0;le.is(o)?(s="ref",a=t[n]):"string"==typeof o[s=Object.keys(o)[0]]?s+=":"+o[s]:a=o[s],r.referencedType=a?a._typeid:-1}r.type=s,e.fields.push(r)}i.types.push(e)},o=null===(n=r._context)||void 0===n?void 0:n.types;for(var a in o){var c=new he;c.id=Number(a),s(c,o[a]._definition.schema)}return i.encodeAll()},t.decode=function(e,r){var i=new w,s=new t;s.decode(e,r);var o=s.types.reduce(function(e,t){var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(le),s=t.id;return e[s]=r,i.add(r,s),e},{});s.types.forEach(function(e){var t=o[e.id];e.fields.forEach(function(e){var n;if(void 0!==e.referencedType){var r=e.type,s=o[e.referencedType];if(!s){var a=e.type.split(":");r=a[0],s=a[1]}"ref"===r?v(s,{context:i})(t.prototype,e.name):v(((n={})[r]=s,n),{context:i})(t.prototype,e.name)}else v(e.type,{context:i})(t.prototype,e.name)})});var a=o[s.rootType],c=new a;for(var l in a._definition.schema){var u=a._definition.schema[l];"string"!=typeof u&&(c[l]="function"==typeof u?new u:new(m(Object.keys(u)[0]).constructor))}return c},r([v([he],ue)],t.prototype,"types",void 0),r([v("number",ue)],t.prototype,"rootType",void 0),t}(le);g("map",{constructor:f}),g("array",{constructor:h}),g("set",{constructor:ne}),g("collection",{constructor:te}),e.ArraySchema=h,e.CollectionSchema=te,e.Context=w,e.MapSchema=f,e.Reflection=fe,e.ReflectionField=de,e.ReflectionType=he,e.Schema=le,e.SchemaDefinition=y,e.SetSchema=ne,e.decode=ee,e.defineTypes=function(e,t,n){for(var r in void 0===n&&(n={}),n.context||(n.context=e._context||n.context||b),t)v(t[r],n)(e.prototype,r);return e},e.deprecated=function(e){return void 0===e&&(e=!0),function(t,n){var r=t.constructor._definition;r.deprecated[n]=!0,e&&(r.descriptors[n]={get:function(){throw new Error("".concat(n," is deprecated."))},set:function(e){},enumerable:!1,configurable:!0})}},e.dumpChanges=function(e){for(var t=[e.$changes],n={},r=n,i=function(e){var n=t[e];n.changes.forEach(function(e){var t=n.ref,i=e.index,s=t._definition?t._definition.fieldsByIndex[i]:t.$indexes.get(i);r[s]=n.getValue(i)})},s=0;s<1;s++)i(s);return n},e.encode=L,e.filter=function(e){return function(t,n){var r=t.constructor;r._definition.addFilter(n,e)&&(r._context.useFilters=!0)}},e.filterChildren=function(e){return function(t,n){var r=t.constructor;r._definition.addChildrenFilter(n,e)&&(r._context.useFilters=!0)}},e.hasFilter=function(e){return e._context&&e._context.useFilters},e.registerType=g,e.type=v}(t)},7135:(e,t,n)=>{"use strict";function r(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[i,s]=[n.slice(0,n.length-t),n.slice(n.length-t)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}n.d(t,{J:()=>r})},7173:(e,t,n)=>{"use strict";function r(){return(null===n.g||void 0===n.g?void 0:n.g.crypto)||(null===n.g||void 0===n.g?void 0:n.g.msCrypto)||{}}function i(){const e=r();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=r,t.getSubtleCrypto=i,t.isBrowserCryptoAvailable=function(){return!!r()&&!!i()}},7182:(e,t,n)=>{"use strict";n.d(t,{A1:()=>a,q$:()=>o,z:()=>c});const r="^https?:",i="^wss?:";function s(e,t){const n=function(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return void 0!==n&&new RegExp(t).test(n)}function o(e){return s(e,r)}function a(e){return s(e,i)}function c(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}},7219:e=>{"use strict";var t,n=(t=[{name:"lowercase",re:/[a-z]/,length:26},{name:"uppercase",re:/[A-Z]/,length:26},{name:"numbers",re:/[0-9]/,length:10},{name:"symbols",re:/[^a-zA-Z0-9]/,length:33}],function(e){return t.reduce(function(t,n){return t+(n.re.test(e)?n.length:0)},0)});e.exports=function(e){return e?(t=n(e),r=e.length,Math.round(r*Math.log(t)/Math.LN2)):0;var t,r}},7238:(e,t,n)=>{"use strict";n.d(t,{lY:()=>v});var r=n(9271),i=n(2531);const s=BigInt(0),o=BigInt(1),a=BigInt(2),c=BigInt(7),l=BigInt(256),u=BigInt(113),d=[],h=[],f=[];for(let e=0,t=o,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],d.push(2*(5*r+n)),h.push((e+1)*(e+2)/2%64);let i=s;for(let e=0;e<7;e++)t=(t<<o^(t>>c)*u)%l,t&a&&(i^=o<<(o<<BigInt(e))-o);f.push(i)}const p=(0,r.lD)(f,!0),g=p[0],m=p[1],y=(e,t,n)=>n>32?(0,r.WM)(e,t,n):(0,r.P5)(e,t,n),w=(e,t,n)=>n>32?(0,r.im)(e,t,n):(0,r.B4)(e,t,n);class b extends i.Vw{constructor(e,t,n,r=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=s,(0,i.Fe)(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,i.DH)(this.state)}clone(){return this._cloneInto()}keccak(){(0,i.fd)(this.state32),function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,i=(t+2)%10,s=n[i],o=n[i+1],a=y(s,o,1)^n[r],c=w(s,o,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=a,e[t+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=h[n],s=y(t,i,r),o=w(t,i,r),a=d[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=g[r],e[1]^=m[r]}(0,i.uH)(n)}(this.state32,this.rounds),(0,i.fd)(this.state32),this.posOut=0,this.pos=0}update(e){(0,i.CC)(this),e=(0,i.ZJ)(e),(0,i.DO)(e);const{blockLen:t,state:n}=this,r=e.length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){(0,i.CC)(this,!1),(0,i.DO)(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,i.Fe)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,i.Ht)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,i.uH)(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new b(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const v=(()=>{return e=1,t=136,n=32,(0,i.qj)(()=>new b(t,e,n));var e,t,n})()},7250:(e,t,n)=>{"use strict";n.d(t,{RR:()=>a,pw:()=>o,sM:()=>s});var r=n(9670),i=n(1344);class s extends i.C{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class o extends i.C{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class a extends i.C{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,r.Q)(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}},7309:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i});var r=n(4192);async function i(e,{address:t,blockNumber:n,blockTag:i="latest"}){const s=void 0!==n?(0,r.cK)(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||i]},{dedupe:Boolean(s)});if("0x"!==o)return o}},7324:(e,t,n)=>{"use strict";function r(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function i(e,...t){if(!r(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function s(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every(e=>"string"==typeof e):t.every(e=>Number.isSafeInteger(e))))}function o(e){if("function"!=typeof e)throw new Error("function expected");return!0}function a(e,t){if("string"!=typeof t)throw new Error(`${e}: string expected`);return!0}function c(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function l(e){if(!Array.isArray(e))throw new Error("array expected")}function u(e,t){if(!s(!0,t))throw new Error(`${e}: array of strings expected`)}function d(e,t){if(!s(!1,t))throw new Error(`${e}: array of numbers expected`)}function h(...e){const t=e=>e,n=(e,t)=>n=>e(t(n));return{encode:e.map(e=>e.encode).reduceRight(n,t),decode:e.map(e=>e.decode).reduce(n,t)}}function f(e){const t="string"==typeof e?e.split(""):e,n=t.length;u("alphabet",t);const r=new Map(t.map((e,t)=>[e,t]));return{encode:r=>(l(r),r.map(r=>{if(!Number.isSafeInteger(r)||r<0||r>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${r}". Allowed: ${e}`);return t[r]})),decode:t=>(l(t),t.map(t=>{a("alphabet.decode",t);const n=r.get(t);if(void 0===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}function p(e=""){return a("join",e),{encode:t=>(u("join.decode",t),t.join(e)),decode:t=>(a("join.decode",t),t.split(e))}}function g(e,t="="){return c(e),a("padding",t),{encode(n){for(u("padding.encode",n);n.length*e%8;)n.push(t);return n},decode(n){u("padding.decode",n);let r=n.length;if(r*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if((r-1)*e%8==0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}function m(e){return o(e),{encode:e=>e,decode:t=>e(t)}}function y(e,t,n){if(t<2)throw new Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: invalid to=${n}, base cannot be less than 2`);if(l(e),!e.length)return[];let r=0;const i=[],s=Array.from(e,e=>{if(c(e),e<0||e>=t)throw new Error(`invalid integer: ${e}`);return e}),o=s.length;for(;;){let e=0,a=!0;for(let i=r;i<o;i++){const o=s[i],c=t*e,l=c+o;if(!Number.isSafeInteger(l)||c/t!==e||l-o!==c)throw new Error("convertRadix: carry overflow");const u=l/n;e=l%n;const d=Math.floor(u);if(s[i]=d,!Number.isSafeInteger(d)||d*n+e!==l)throw new Error("convertRadix: carry overflow");a&&(d?a=!1:r=i)}if(i.push(e),a)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}n.d(t,{K3:()=>I,RG:()=>_,tw:()=>T});const w=(e,t)=>0===t?e:w(t,e%t),b=(e,t)=>e+(t-w(e,t)),v=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function x(e,t,n,r){if(l(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(b(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${b(t,n)}`);let i=0,s=0;const o=v[t],a=v[n]-1,u=[];for(const r of e){if(c(r),r>=o)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(i=i<<t|r,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=n;s-=n)u.push((i>>s-n&a)>>>0);const e=v[s];if(void 0===e)throw new Error("invalid carry");i&=e-1}if(i=i<<n-s&a,!r&&s>=t)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&u.push(i>>>0),u}function E(e,t=!1){if(c(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(b(8,e)>32||b(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!r(n))throw new Error("radix2.encode input should be Uint8Array");return x(Array.from(n),8,e,!t)},decode:n=>(d("radix2.decode",n),Uint8Array.from(x(n,e,8,t)))}}function k(e){return o(e),function(...t){try{return e.apply(null,t)}catch(e){}}}h(E(4),f("0123456789ABCDEF"),p(""));const _=h(E(5),f("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),g(5),p("")),C=(h(E(5),f("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),p("")),h(E(5),f("0123456789ABCDEFGHIJKLMNOPQRSTUV"),g(5),p("")),h(E(5),f("0123456789ABCDEFGHIJKLMNOPQRSTUV"),p("")),h(E(5),f("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),p(""),m(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),(()=>"function"==typeof Uint8Array.from([]).toBase64&&"function"==typeof Uint8Array.fromBase64)()),S=(e,t)=>{a("base64",e);const n=t?/^[A-Za-z0-9=_-]+$/:/^[A-Za-z0-9=+/]+$/,r=t?"base64url":"base64";if(e.length>0&&!n.test(e))throw new Error("invalid base64");return Uint8Array.fromBase64(e,{alphabet:r,lastChunkHandling:"strict"})},I=C?{encode:e=>(i(e),e.toBase64()),decode:e=>S(e,!1)}:h(E(6),f("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),g(6),p("")),A=(h(E(6),f("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),p("")),C||h(E(6),f("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),g(6),p("")),h(E(6),f("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),p("")),e=>{return h((c(t=58),{encode:e=>{if(!r(e))throw new Error("radix.encode input should be Uint8Array");return y(Array.from(e),256,t)},decode:e=>(d("radix.decode",e),Uint8Array.from(y(e,t,256)))}),f(e),p(""));var t}),T=A("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),P=(A("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),A("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),h(f("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),p(""))),O=[996825010,642813549,513874426,1027748829,705979059];function j(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<O.length;e++)1==(t>>e&1)&&(n^=O[e]);return n}function N(e,t,n=1){const r=e.length;let i=1;for(let t=0;t<r;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);i=j(i)^n>>5}i=j(i);for(let t=0;t<r;t++)i=j(i)^31&e.charCodeAt(t);for(let e of t)i=j(i)^e;for(let e=0;e<6;e++)i=j(i);return i^=n,P.encode(x([i%v[30]],30,5,!1))}function R(e){const t="bech32"===e?1:734539939,n=E(5),i=n.decode,s=n.encode,o=k(i);function c(e,n,i=90){a("bech32.encode prefix",e),r(n)&&(n=Array.from(n)),d("bech32.encode",n);const s=e.length;if(0===s)throw new TypeError(`Invalid prefix length ${s}`);const o=s+7+n.length;if(!1!==i&&o>i)throw new TypeError(`Length ${o} exceeds limit ${i}`);const c=e.toLowerCase(),l=N(c,n,t);return`${c}1${P.encode(n)}${l}`}function l(e,n=90){a("bech32.decode input",e);const r=e.length;if(r<8||!1!==n&&r>n)throw new TypeError(`invalid string length: ${r} (${e}). Expected (8..${n})`);const i=e.toLowerCase();if(e!==i&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const s=i.lastIndexOf("1");if(0===s||-1===s)throw new Error('Letter "1" must be present between prefix and data only');const o=i.slice(0,s),c=i.slice(s+1);if(c.length<6)throw new Error("Data must be at least 6 characters long");const l=P.decode(c).slice(0,-6),u=N(o,l,t);if(!c.endsWith(u))throw new Error(`Invalid checksum in ${e}: expected "${u}"`);return{prefix:o,words:l}}return{encode:c,decode:l,encodeFromBytes:function(e,t){return c(e,s(t))},decodeToBytes:function(e){const{prefix:t,words:n}=l(e,!1);return{prefix:t,words:n,bytes:i(n)}},decodeUnsafe:k(l),fromWords:i,fromWordsUnsafe:o,toWords:s}}R("bech32"),R("bech32m");(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)()||h(E(4),f("0123456789abcdef"),p(""),m(e=>{if("string"!=typeof e||e.length%2!=0)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}))},7372:(e,t,n)=>{"use strict";n.d(t,{BI:()=>k,EB:()=>x,Iy:()=>c,Iz:()=>b,MR:()=>v,M_:()=>w,Nc:()=>u,O:()=>l,Wl:()=>P,Wq:()=>g,YE:()=>h,YF:()=>a,YW:()=>o,ZP:()=>f,_z:()=>m,d_:()=>T,dm:()=>A,fo:()=>_,gH:()=>d,j:()=>I,kE:()=>y,l3:()=>C,nK:()=>S,nM:()=>E,yy:()=>p});var r=n(5167),i=n(5182),s=n(1344);class o extends s.C{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join("\n"),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class a extends s.C{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join("\n"),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}s.C;class c extends s.C{constructor({data:e,params:t,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join("\n"),{metaMessages:[`Params: (${(0,r.A)(t,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=n}}class l extends s.C{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class u extends s.C{constructor({expectedLength:e,givenLength:t,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${t}`].join("\n"),{name:"AbiEncodingArrayLengthMismatchError"})}}class d extends s.C{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${(0,i.E)(t)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class h extends s.C{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${t}`].join("\n"),{name:"AbiEncodingLengthMismatchError"})}}class f extends s.C{constructor(e,{docsPath:t}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join("\n"),{docsPath:t,name:"AbiErrorInputsNotFoundError"})}}class p extends s.C{constructor(e,{docsPath:t}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join("\n"),{docsPath:t,name:"AbiErrorNotFoundError"})}}class g extends s.C{constructor(e,{docsPath:t}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class m extends s.C{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class y extends s.C{constructor(e,{docsPath:t}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t,name:"AbiEventSignatureNotFoundError"})}}class w extends s.C{constructor(e,{docsPath:t}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join("\n"),{docsPath:t,name:"AbiEventNotFoundError"})}}class b extends s.C{constructor(e,{docsPath:t}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t,name:"AbiFunctionNotFoundError"})}}class v extends s.C{constructor(e,{docsPath:t}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t,name:"AbiFunctionOutputsNotFoundError"})}}class x extends s.C{constructor(e,{docsPath:t}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t,name:"AbiFunctionSignatureNotFoundError"})}}class E extends s.C{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${(0,r.B)(e.abiItem)}\`, and`,`\`${t.type}\` in \`${(0,r.B)(t.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class k extends s.C{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`,{name:"BytesSizeMismatchError"})}}class _ extends s.C{constructor({abiItem:e,data:t,params:n,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join("\n"),{metaMessages:[`Params: (${(0,r.A)(n,{includeName:!0})})`,`Data:   ${t} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=t,this.params=n,this.size=i}}class C extends s.C{constructor({abiItem:e,param:t}){super([`Expected a topic for indexed event parameter${t.name?` "${t.name}"`:""} on event "${(0,r.B)(e,{includeName:!0})}".`].join("\n"),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class S extends s.C{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t,name:"InvalidAbiEncodingType"})}}class I extends s.C{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t,name:"InvalidAbiDecodingType"})}}class A extends s.C{constructor(e){super([`Value "${e}" is not a valid array.`].join("\n"),{name:"InvalidArrayError"})}}class T extends s.C{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join("\n"),{name:"InvalidDefinitionTypeError"})}}class P extends s.C{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}},7513:(e,t,n)=>{"use strict";n.d(t,{CL:()=>c,D5:()=>u,Di:()=>h,G1:()=>P,Gi:()=>l,L5:()=>C,MI:()=>j,RV:()=>E,Sf:()=>x,WT:()=>S,XU:()=>a,YW:()=>g,ab:()=>m,bq:()=>d,cg:()=>A,ch:()=>_,hA:()=>f,hl:()=>I,jz:()=>O,qZ:()=>p,s0:()=>y,sV:()=>v,uL:()=>T,vx:()=>b,xQ:()=>w,xq:()=>k});var r=n(1344),i=n(6595);class s extends r.C{constructor(e,{code:t,docsPath:n,metaMessages:r,name:s,shortMessage:o}){super(o,{cause:e,docsPath:n,metaMessages:r||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof i.J8?e.code:t??-1}}class o extends s{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class a extends s{constructor(e){super(e,{code:a.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(a,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class c extends s{constructor(e){super(e,{code:c.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(c,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class l extends s{constructor(e,{method:t}={}){super(e,{code:l.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty(l,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class u extends s{constructor(e){super(e,{code:u.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join("\n")})}}Object.defineProperty(u,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class d extends s{constructor(e){super(e,{code:d.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(d,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class h extends s{constructor(e){super(e,{code:h.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join("\n")})}}Object.defineProperty(h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class f extends s{constructor(e){super(e,{code:f.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(f,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class p extends s{constructor(e){super(e,{code:p.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class g extends s{constructor(e){super(e,{code:g.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(g,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class m extends s{constructor(e,{method:t}={}){super(e,{code:m.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}}Object.defineProperty(m,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class y extends s{constructor(e){super(e,{code:y.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class w extends s{constructor(e){super(e,{code:w.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(w,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class b extends o{constructor(e){super(e,{code:b.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(b,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class v extends o{constructor(e){super(e,{code:v.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(v,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class x extends o{constructor(e,{method:t}={}){super(e,{code:x.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(x,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class E extends o{constructor(e){super(e,{code:E.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(E,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class k extends o{constructor(e){super(e,{code:k.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(k,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class _ extends o{constructor(e){super(e,{code:_.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(_,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class C extends o{constructor(e){super(e,{code:C.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(C,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class S extends o{constructor(e){super(e,{code:S.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(S,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class I extends o{constructor(e){super(e,{code:I.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(I,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class A extends o{constructor(e){super(e,{code:A.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(A,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class T extends o{constructor(e){super(e,{code:T.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(T,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class P extends o{constructor(e){super(e,{code:P.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(P,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class O extends o{constructor(e){super(e,{code:O.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(O,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class j extends s{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}},7518:(e,t,n)=>{const r=n(9953),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],s=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case r.L:return i[4*(e-1)+0];case r.M:return i[4*(e-1)+1];case r.Q:return i[4*(e-1)+2];case r.H:return i[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case r.L:return s[4*(e-1)+0];case r.M:return s[4*(e-1)+1];case r.Q:return s[4*(e-1)+2];case r.H:return s[4*(e-1)+3];default:return}}},7526:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,s=a(e),o=s[0],c=s[1],l=new i(function(e,t,n){return 3*(t+n)/4-n}(0,o,c)),u=0,d=c>0?o-4:o;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===c&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[u++]=255&t),1===c&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,s=[],o=16383,a=0,c=r-i;a<c;a+=o)s.push(l(e,a,a+o>c?c:a+o));return 1===i?(t=e[r-1],s.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],s.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),s.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)n[o]=s[o],r[s.charCodeAt(o)]=o;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function l(e,t,n){for(var r,i=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(c(r));return i.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},7529:(e,t,n)=>{"use strict";n.d(t,{g:()=>p});var r=n(8367),i=n(5419),s=n(4706),o=n(4192),a=n(1344),c=n(5834);function l(e,t="hex"){const n=u(e),r=(0,c.l)(new Uint8Array(n.length));return n.encode(r),"hex"===t?(0,o.My)(r.bytes):r.bytes}function u(e){return Array.isArray(e)?function(e){const t=e.reduce((e,t)=>e+t.length,0),n=d(t);return{length:t<=55?1+t:1+n+t,encode(r){t<=55?r.pushByte(192+t):(r.pushByte(247+n),1===n?r.pushUint8(t):2===n?r.pushUint16(t):3===n?r.pushUint24(t):r.pushUint32(t));for(const{encode:t}of e)t(r)}}}(e.map(e=>u(e))):function(e){const t="string"==typeof e?(0,s.aT)(e):e,n=d(t.length);return{length:1===t.length&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(e){1===t.length&&t[0]<128?e.pushBytes(t):t.length<=55?(e.pushByte(128+t.length),e.pushBytes(t)):(e.pushByte(183+n),1===n?e.pushUint8(t.length):2===n?e.pushUint16(t.length):3===n?e.pushUint24(t.length):e.pushUint32(t.length),e.pushBytes(t))}}}(e)}function d(e){if(e<256)return 1;if(e<65536)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new a.C("Length is too large.")}var h=n(2040);function f(e){const{chainId:t,nonce:n,to:r}=e,a=e.contractAddress??e.address,c=(0,h.S)((0,i.aP)(["0x05",l([t?(0,o.cK)(t):"0x",a,n?(0,o.cK)(n):"0x"])]));return"bytes"===r?(0,s.aT)(c):c}async function p(e){const{authorization:t,signature:n}=e;return(0,r.x)({hash:f(t),signature:n??t})}},7583:(e,t,n)=>{const r=n(1333),i=n(157),s=n(7899),o=n(6756);function a(e,t,n,s,o){const a=[].slice.call(arguments,1),c=a.length,l="function"==typeof a[c-1];if(!l&&!r())throw new Error("Callback required as last argument");if(!l){if(c<1)throw new Error("Too few arguments provided");return 1===c?(n=t,t=s=void 0):2!==c||t.getContext||(s=n,n=t,t=void 0),new Promise(function(r,o){try{const o=i.create(n,s);r(e(o,t,s))}catch(e){o(e)}})}if(c<2)throw new Error("Too few arguments provided");2===c?(o=n,n=t,t=s=void 0):3===c&&(t.getContext&&void 0===o?(o=s,s=void 0):(o=s,s=n,n=t,t=void 0));try{const r=i.create(n,s);o(null,e(r,t,s))}catch(e){o(e)}}t.create=i.create,t.toCanvas=a.bind(null,s.render),t.toDataURL=a.bind(null,s.renderToDataURL),t.toString=a.bind(null,function(e,t,n){return o.render(e,n)})},7610:(e,t,n)=>{"use strict";n.d(t,{Lj:()=>o,uL:()=>a});var r=n(6675),i=n(7070),s=n(5948);const o={"0x0":"reverted","0x1":"success"};function a(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(e=>(0,i.e)(e)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?(0,r.ME)(e.transactionIndex):null,status:e.status?o[e.status]:null,type:e.type?s.b4[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}},7614:(e,t,n)=>{"use strict";n.d(t,{MM:()=>T,ft:()=>O});var r=n(3033),i=n(1989),s=n(432),o=n(5603),a=n(7755),c=n(7250),l=n(4706),u=n(4192);function d(e){const{kzg:t}=e,n=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),r="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,l.aT)(e)):e.blobs,i=[];for(const e of r)i.push(Uint8Array.from(t.blobToKzgCommitment(e)));return"bytes"===n?i:i.map(e=>(0,u.My)(e))}function h(e){const{kzg:t}=e,n=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),r="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,l.aT)(e)):e.blobs,i="string"==typeof e.commitments[0]?e.commitments.map(e=>(0,l.aT)(e)):e.commitments,s=[];for(let e=0;e<r.length;e++){const n=r[e],o=i[e];s.push(Uint8Array.from(t.computeBlobKzgProof(n,o)))}return"bytes"===n?s:s.map(e=>(0,u.My)(e))}var f=n(8226),p=n(6394);function g(e){const{commitment:t,version:n=1}=e,r=e.to??("string"==typeof t?"hex":"bytes"),i=function(e){const t=(0,f.sc)((0,p.q)(e,{strict:!1})?(0,l.ZJ)(e):e);return t}(t);return i.set([n],0),"bytes"===r?i:(0,u.My)(i)}const m=32,y=4096,w=m*y,b=6*w-1-1*y*6;var v=n(1344);class x extends v.C{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}}class E extends v.C{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}v.C,v.C;var k=n(5834),_=n(5182);var C=n(3692),S=n(332),I=n(8990),A=n(9798);const T=["blobVersionedHashes","chainId","fees","gas","nonce","type"],P=new Map;async function O(e,t){const{account:n=e.account,blobs:f,chain:p,gas:v,kzg:O,nonce:j,nonceManager:N,parameters:R=T,type:$}=t,M=n?(0,r.J)(n):n,L={...t,...M?{from:M?.address}:{}};let B,U;async function D(){return B||(B=await(0,C.T)(e,o.g,"getBlock")({blockTag:"latest"}),B)}async function F(){if(U)return U;if(p)return p.id;if(void 0!==t.chainId)return t.chainId;const n=await(0,C.T)(e,A.T,"getChainId")({});return U=n,U}if(R.includes("nonce")&&void 0===j&&M)if(N){const t=await F();L.nonce=await N.consume({address:M.address,chainId:t,client:e})}else L.nonce=await(0,C.T)(e,a.y,"getTransactionCount")({address:M.address,blockTag:"pending"});if((R.includes("blobVersionedHashes")||R.includes("sidecars"))&&f&&O){const e=d({blobs:f,kzg:O});if(R.includes("blobVersionedHashes")){const t=function(e){const{commitments:t,version:n}=e,r=e.to??("string"==typeof t[0]?"hex":"bytes"),i=[];for(const e of t)i.push(g({commitment:e,to:r,version:n}));return i}({commitments:e,to:"hex"});L.blobVersionedHashes=t}if(R.includes("sidecars")){const t=function(e){const{data:t,kzg:n,to:r}=e,i=e.blobs??function(e){const t=e.to??("string"==typeof e.data?"hex":"bytes"),n="string"==typeof e.data?(0,l.aT)(e.data):e.data,r=(0,_.E)(n);if(!r)throw new E;if(r>b)throw new x({maxSize:b,size:r});const i=[];let s=!0,o=0;for(;s;){const e=(0,k.l)(new Uint8Array(w));let t=0;for(;t<y;){const r=n.slice(o,o+(m-1));if(e.pushByte(0),e.pushBytes(r),r.length<31){e.pushByte(128),s=!1;break}t++,o+=31}i.push(e)}return"bytes"===t?i.map(e=>e.bytes):i.map(e=>(0,u.My)(e.bytes))}({data:t,to:r}),s=e.commitments??d({blobs:i,kzg:n,to:r}),o=e.proofs??h({blobs:i,commitments:s,kzg:n,to:r}),a=[];for(let e=0;e<i.length;e++)a.push({blob:i[e],commitment:s[e],proof:o[e]});return a}({blobs:f,commitments:e,proofs:h({blobs:f,commitments:e,kzg:O}),to:"hex"});L.sidecars=t}}if(R.includes("chainId")&&(L.chainId=await F()),(R.includes("fees")||R.includes("type"))&&void 0===$)try{L.type=function(e){if(e.type)return e.type;if(void 0!==e.authorizationList)return"eip7702";if(void 0!==e.blobs||void 0!==e.blobVersionedHashes||void 0!==e.maxFeePerBlobGas||void 0!==e.sidecars)return"eip4844";if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new I.Vg({transaction:e})}(L)}catch{let t=P.get(e.uid);if(void 0===t){const n=await D();t="bigint"==typeof n?.baseFeePerGas,P.set(e.uid,t)}L.type=t?"eip1559":"legacy"}if(R.includes("fees"))if("legacy"!==L.type&&"eip2930"!==L.type){if(void 0===L.maxFeePerGas||void 0===L.maxPriorityFeePerGas){const n=await D(),{maxFeePerGas:r,maxPriorityFeePerGas:s}=await(0,i.O)(e,{block:n,chain:p,request:L});if(void 0===t.maxPriorityFeePerGas&&t.maxFeePerGas&&t.maxFeePerGas<s)throw new c.RR({maxPriorityFeePerGas:s});L.maxPriorityFeePerGas=s,L.maxFeePerGas=r}}else{if(void 0!==t.maxFeePerGas||void 0!==t.maxPriorityFeePerGas)throw new c.pw;if(void 0===t.gasPrice){const t=await D(),{gasPrice:n}=await(0,i.O)(e,{block:t,chain:p,request:L,type:"legacy"});L.gasPrice=n}}return R.includes("gas")&&void 0===v&&(L.gas=await(0,C.T)(e,s.Q,"estimateGas")({...L,account:M,prepare:"local"===M?.type?[]:["blobVersionedHashes"]})),(0,S.c)(L),delete L.parameters,L}},7671:(e,t,n)=>{"use strict";n.d(t,{Bv:()=>s});var r=n(4192);const i={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function s(e,t){const n={};return void 0!==e.authorizationList&&(n.authorizationList=e.authorizationList.map(e=>({address:e.address,r:e.r?(0,r.cK)(BigInt(e.r)):e.r,s:e.s?(0,r.cK)(BigInt(e.s)):e.s,chainId:(0,r.cK)(e.chainId),nonce:(0,r.cK)(e.nonce),...void 0!==e.yParity?{yParity:(0,r.cK)(e.yParity)}:{},...void 0!==e.v&&void 0===e.yParity?{v:(0,r.cK)(e.v)}:{}}))),void 0!==e.accessList&&(n.accessList=e.accessList),void 0!==e.blobVersionedHashes&&(n.blobVersionedHashes=e.blobVersionedHashes),void 0!==e.blobs&&("string"!=typeof e.blobs[0]?n.blobs=e.blobs.map(e=>(0,r.My)(e)):n.blobs=e.blobs),void 0!==e.data&&(n.data=e.data),e.account&&(n.from=e.account.address),void 0!==e.from&&(n.from=e.from),void 0!==e.gas&&(n.gas=(0,r.cK)(e.gas)),void 0!==e.gasPrice&&(n.gasPrice=(0,r.cK)(e.gasPrice)),void 0!==e.maxFeePerBlobGas&&(n.maxFeePerBlobGas=(0,r.cK)(e.maxFeePerBlobGas)),void 0!==e.maxFeePerGas&&(n.maxFeePerGas=(0,r.cK)(e.maxFeePerGas)),void 0!==e.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=(0,r.cK)(e.maxPriorityFeePerGas)),void 0!==e.nonce&&(n.nonce=(0,r.cK)(e.nonce)),void 0!==e.to&&(n.to=e.to),void 0!==e.type&&(n.type=i[e.type]),void 0!==e.value&&(n.value=(0,r.cK)(e.value)),n}},7729:(e,t,n)=>{"use strict";n.d(t,{k:()=>c});var r=n(3577),i=n(8583),s=n(6675),o=n(7610),a=n(3531);async function c(e,t){const{atomic:n=!1,chainId:c,receipts:l,version:u="2.0.0",...d}=await async function(t){if(t.endsWith(a.vB.slice(2))){const n=(0,i.B)((0,r.iN)(t,-64,-32)),o=(0,r.iN)(t,0,-64).slice(2).match(/.{1,64}/g),c=await Promise.all(o.map(t=>a.BH.slice(2)!==t?e.request({method:"eth_getTransactionReceipt",params:[`0x${t}`]},{dedupe:!0}):void 0)),l=c.some(e=>null===e)?100:c.every(e=>"0x1"===e?.status)?200:c.every(e=>"0x0"===e?.status)?500:600;return{atomic:!1,chainId:(0,s.ME)(n),receipts:c.filter(Boolean),status:l,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[t]})}(t.id),[h,f]=(()=>{const e=d.status;return e>=100&&e<200?["pending",e]:e>=200&&e<300?["success",e]:e>=300&&e<700?["failure",e]:"CONFIRMED"===e?["success",200]:"PENDING"===e?["pending",100]:[void 0,e]})();return{...d,atomic:n,chainId:c?(0,s.ME)(c):void 0,receipts:l?.map(e=>({...e,blockNumber:(0,s.uU)(e.blockNumber),gasUsed:(0,s.uU)(e.gasUsed),status:o.Lj[e.status]}))??[],statusCode:f,status:h,version:u}}},7755:(e,t,n)=>{"use strict";n.d(t,{y:()=>s});var r=n(6675),i=n(4192);async function s(e,{address:t,blockTag:n="latest",blockNumber:s}){const o=await e.request({method:"eth_getTransactionCount",params:[t,"bigint"==typeof s?(0,i.cK)(s):n]},{dedupe:Boolean(s)});return(0,r.ME)(o)}},7756:(e,t,n)=>{const r=n(6886).getSymbolSize;t.getPositions=function(e){const t=r(e);return[[0,0],[t-7,0],[0,t-7]]}},7790:()=>{},7847:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});class r extends Error{constructor(e,t={}){const n=t.cause instanceof r?t.cause.details:t.cause?.message?t.cause.message:t.details,i=t.cause instanceof r&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...n?[`Details: ${n}`]:[],"Version: abitype@1.1.0"].join("\n")),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),t.cause&&(this.cause=t.cause),this.details=n,this.docsPath=i,this.metaMessages=t.metaMessages,this.shortMessage=e}}},7850:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNanoEvents=void 0,t.createNanoEvents=()=>({emit(e,...t){let n=this.events[e]||[];for(let e=0,r=n.length;e<r;e++)n[e](...t)},events:{},on(e,t){var n;return(null===(n=this.events[e])||void 0===n?void 0:n.push(t))||(this.events[e]=[t]),()=>{var n;this.events[e]=null===(n=this.events[e])||void 0===n?void 0:n.filter(e=>t!==e)}}})},7899:(e,t,n)=>{const r=n(2726);t.render=function(e,t,n){let i=n,s=t;void 0!==i||t&&t.getContext||(i=t,t=void 0),t||(s=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),i=r.getOptions(i);const o=r.getImageWidth(e.modules.size,i),a=s.getContext("2d"),c=a.createImageData(o,o);return r.qrToImageData(c.data,e,i),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(a,s,o),a.putImageData(c,0,0),s},t.renderToDataURL=function(e,n,r){let i=r;void 0!==i||n&&n.getContext||(i=n,n=void 0),i||(i={});const s=t.render(e,n,i),o=i.type||"image/png",a=i.rendererOpts||{};return s.toDataURL(o,a.quality)}},7907:(e,t,n)=>{"use strict";n.d(t,{F:()=>s});var r=n(7007),i=n(9031);class s extends i.IJsonRpcProvider{constructor(e){super(e),this.events=new r.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict((0,i.formatJsonRpcRequest)(e.method,e.params||[],e.id||(0,i.getBigIntRpcId)().toString()),t)}async requestStrict(e,t){return new Promise(async(n,r)=>{if(!this.connection.connected)try{await this.open()}catch(e){r(e)}this.events.on(`${e.id}`,e=>{(0,i.isJsonRpcError)(e)?r(e.error):n(e.result)});try{await this.connection.send(e,t)}catch(e){r(e)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),(0,i.isJsonRpcResponse)(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}},8011:(e,t,n)=>{"use strict";e.exports=n(651)},8030:(e,t,n)=>{"use strict";n.d(t,{D0:()=>A,LH:()=>I,Tp:()=>P,dQ:()=>E,jr:()=>_,pS:()=>C,qy:()=>O,zH:()=>m,zi:()=>g});var r=n(1848),i=n(2531);const s=BigInt(0),o=BigInt(1),a=BigInt(2),c=BigInt(3),l=BigInt(4),u=BigInt(5),d=BigInt(7),h=BigInt(8),f=BigInt(9),p=BigInt(16);function g(e,t){const n=e%t;return n>=s?n:t+n}function m(e,t,n){let r=e;for(;t-- >s;)r*=r,r%=n;return r}function y(e,t){if(e===s)throw new Error("invert: expected non-zero number");if(t<=s)throw new Error("invert: expected positive modulus, got "+t);let n=g(e,t),r=t,i=s,a=o,c=o,l=s;for(;n!==s;){const e=r/n,t=r%n,s=i-c*e,o=a-l*e;r=n,n=t,i=c,a=l,c=s,l=o}if(r!==o)throw new Error("invert: does not exist");return g(i,t)}function w(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function b(e,t){const n=(e.ORDER+o)/l,r=e.pow(t,n);return w(e,r,t),r}function v(e,t){const n=(e.ORDER-u)/h,r=e.mul(t,a),i=e.pow(r,n),s=e.mul(t,i),o=e.mul(e.mul(s,a),i),c=e.mul(s,e.sub(o,e.ONE));return w(e,c,t),c}function x(e){if(e<c)throw new Error("sqrt is not defined for small field");let t=e-o,n=0;for(;t%a===s;)t/=a,n++;let r=a;const i=A(e);for(;1===S(i,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return b;let l=i.pow(r,t);const u=(t+o)/a;return function(e,r){if(e.is0(r))return r;if(1!==S(e,r))throw new Error("Cannot find square root");let i=n,s=e.mul(e.ONE,l),a=e.pow(r,t),c=e.pow(r,u);for(;!e.eql(a,e.ONE);){if(e.is0(a))return e.ZERO;let t=1,n=e.sqr(a);for(;!e.eql(n,e.ONE);)if(t++,n=e.sqr(n),t===i)throw new Error("Cannot find square root");const r=o<<BigInt(i-t-1),l=e.pow(s,r);i=t,s=e.sqr(l),a=e.mul(a,s),c=e.mul(c,l)}return c}}const E=(e,t)=>(g(e,t)&o)===o,k=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function _(e){const t=k.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"});return(0,r.DS)(e,t),e}function C(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),s=e.inv(i);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),s),r}function S(e,t){const n=(e.ORDER-o)/a,r=e.pow(t,n),i=e.eql(r,e.ONE),s=e.eql(r,e.ZERO),c=e.eql(r,e.neg(e.ONE));if(!i&&!s&&!c)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function I(e,t){void 0!==t&&(0,i.Fe)(t);const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function A(e,t,n=!1,i={}){if(e<=s)throw new Error("invalid field: expected ORDER > 0, got "+e);let a,m,E,k=!1;if("object"==typeof t&&null!=t){if(i.sqrt||n)throw new Error("cannot specify opts in two arguments");const e=t;e.BITS&&(a=e.BITS),e.sqrt&&(m=e.sqrt),"boolean"==typeof e.isLE&&(n=e.isLE),"boolean"==typeof e.modFromBytes&&(k=e.modFromBytes),E=e.allowedLengths}else"number"==typeof t&&(a=t),i.sqrt&&(m=i.sqrt);const{nBitLength:_,nByteLength:S}=I(e,a);if(S>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let T;const P=Object.freeze({ORDER:e,isLE:n,BITS:_,BYTES:S,MASK:(0,r.OG)(_),ZERO:s,ONE:o,allowedLengths:E,create:t=>g(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return s<=t&&t<e},is0:e=>e===s,isValidNot0:e=>!P.is0(e)&&P.isValid(e),isOdd:e=>(e&o)===o,neg:t=>g(-t,e),eql:(e,t)=>e===t,sqr:t=>g(t*t,e),add:(t,n)=>g(t+n,e),sub:(t,n)=>g(t-n,e),mul:(t,n)=>g(t*n,e),pow:(e,t)=>function(e,t,n){if(n<s)throw new Error("invalid exponent, negatives unsupported");if(n===s)return e.ONE;if(n===o)return t;let r=e.ONE,i=t;for(;n>s;)n&o&&(r=e.mul(r,i)),i=e.sqr(i),n>>=o;return r}(P,e,t),div:(t,n)=>g(t*y(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>y(t,e),sqrt:m||(t=>{return T||(T=(n=e)%l===c?b:n%h===u?v:n%p===f?function(e){const t=A(e),n=x(e),r=n(t,t.neg(t.ONE)),i=n(t,r),s=n(t,t.neg(r)),o=(e+d)/p;return(e,t)=>{let n=e.pow(t,o),a=e.mul(n,r);const c=e.mul(n,i),l=e.mul(n,s),u=e.eql(e.sqr(a),t),d=e.eql(e.sqr(c),t);n=e.cmov(n,a,u),a=e.cmov(l,c,d);const h=e.eql(e.sqr(a),t),f=e.cmov(n,a,h);return w(e,f,t),f}}(n):x(n)),T(P,t);var n}),toBytes:e=>n?(0,r.z)(e,S):(0,r.lq)(e,S),fromBytes:(t,i=!0)=>{if(E){if(!E.includes(t.length)||t.length>S)throw new Error("Field.fromBytes: expected "+E+" bytes, got "+t.length);const e=new Uint8Array(S);e.set(t,n?0:e.length-t.length),t=e}if(t.length!==S)throw new Error("Field.fromBytes: expected "+S+" bytes, got "+t.length);let s=n?(0,r.lX)(t):(0,r.Ph)(t);if(k&&(s=g(s,e)),!i&&!P.isValid(s))throw new Error("invalid field element: outside of range 0..ORDER");return s},invertBatch:e=>C(P,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(P)}function T(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function P(e){const t=T(e);return t+Math.ceil(t/2)}function O(e,t,n=!1){const i=e.length,s=T(t),a=P(t);if(i<16||i<a||i>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+i);const c=g(n?(0,r.lX)(e):(0,r.Ph)(e),t-o)+o;return n?(0,r.z)(c,s):(0,r.lq)(c,s)}},8146:(e,t,n)=>{"use strict";n.d(t,{B4:()=>i,SK:()=>s,hX:()=>o});var r=n(1344);class i extends r.C{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class s extends r.C{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class o extends r.C{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}},8186:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>s,__asyncDelegator:()=>v,__asyncGenerator:()=>b,__asyncValues:()=>x,__await:()=>w,__awaiter:()=>u,__classPrivateFieldGet:()=>C,__classPrivateFieldSet:()=>S,__createBinding:()=>h,__decorate:()=>a,__exportStar:()=>f,__extends:()=>i,__generator:()=>d,__importDefault:()=>_,__importStar:()=>k,__makeTemplateObject:()=>E,__metadata:()=>l,__param:()=>c,__read:()=>g,__rest:()=>o,__spread:()=>m,__spreadArrays:()=>y,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})}function d(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function h(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function f(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function w(e){return this instanceof w?(this.v=e,this):new w(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){s.push([e,t,n,r])>1||a(e,t)})})}function a(e,t){try{(n=i[e](t)).value instanceof w?Promise.resolve(n.value.v).then(c,l):u(s[0][2],n)}catch(e){u(s[0][3],e)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function v(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:w(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,i,(t=e[n](t)).done,t.value)})}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function S(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},8196:(e,t)=>{"use strict";function n(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function r(e){const t=n(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=n,t.getFromWindowOrThrow=r,t.getDocumentOrThrow=function(){return r("document")},t.getDocument=function(){return n("document")},t.getNavigatorOrThrow=function(){return r("navigator")},t.getNavigator=function(){return n("navigator")},t.getLocationOrThrow=function(){return r("location")},t.getLocation=function(){return n("location")},t.getCryptoOrThrow=function(){return r("crypto")},t.getCrypto=function(){return n("crypto")},t.getLocalStorageOrThrow=function(){return r("localStorage")},t.getLocalStorage=function(){return n("localStorage")}},8213:(e,t,n)=>{"use strict";n.d(t,{BD:()=>i,D5:()=>r,Ge:()=>s});const r=/^(.*)\[([0-9]*)\]$/,i=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,s=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/},8226:(e,t,n)=>{"use strict";n.d(t,{sc:()=>r});const r=n(8442).sc},8236:(e,t,n)=>{"use strict";n.d(t,{Cq:()=>Pn,FA:()=>jn,TZ:()=>On,UF:()=>An});var r=n(8900),i=n(3554);function s(e,...t){if(!function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function o(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const a="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,c=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function l(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),s(e),e}class u{clone(){return this._cloneInto()}}function d(e=32){if(a&&"function"==typeof a.getRandomValues)return a.getRandomValues(new Uint8Array(e));if(a&&"function"==typeof a.randomBytes)return a.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}class h extends u{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=c(this.buffer)}update(e){o(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=l(e)).length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){const t=c(e);for(;r<=i-s;s+=r)this.process(t,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){o(this),function(e,t){s(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>r-a&&(this.process(n,0),a=0);for(let e=a;e<r;e++)t[e]=0;(function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);const l=c(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,h=this.get();if(d>h.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<d;e++)l.setUint32(4*e,h[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.length=r,e.pos=o,e.finished=i,e.destroyed=s,r%t&&e.buffer.set(n),e}}const f=BigInt(2**32-1),p=BigInt(32);function g(e,t=!1){return t?{h:Number(e&f),l:Number(e>>p&f)}:{h:0|Number(e>>p&f),l:0|Number(e&f)}}const m=function(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=g(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]},y=(e,t,n)=>e>>>n,w=(e,t,n)=>e<<32-n|t>>>n,b=(e,t,n)=>e>>>n|t<<32-n,v=(e,t,n)=>e<<32-n|t>>>n,x=(e,t,n)=>e<<64-n|t>>>n-32,E=(e,t,n)=>e>>>n-32|t<<64-n,k=function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},_=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),C=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,S=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),I=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,A=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,T=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),[P,O]=m(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),j=new Uint32Array(80),N=new Uint32Array(80);class R extends h{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:u,Fl:d,Gh:h,Gl:f,Hh:p,Hl:g}=this;return[e,t,n,r,i,s,o,a,c,l,u,d,h,f,p,g]}set(e,t,n,r,i,s,o,a,c,l,u,d,h,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let n=0;n<16;n++,t+=4)j[n]=e.getUint32(t),N[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|j[e-15],n=0|N[e-15],r=b(t,n,1)^b(t,n,8)^y(t,n,7),i=v(t,n,1)^v(t,n,8)^w(t,n,7),s=0|j[e-2],o=0|N[e-2],a=b(s,o,19)^x(s,o,61)^y(s,o,6),c=v(s,o,19)^E(s,o,61)^w(s,o,6),l=S(i,c,N[e-7],N[e-16]),u=I(l,r,a,j[e-7],j[e-16]);j[e]=0|u,N[e]=0|l}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:u,El:d,Fh:h,Fl:f,Gh:p,Gl:g,Hh:m,Hl:R}=this;for(let e=0;e<80;e++){const t=b(u,d,14)^b(u,d,18)^x(u,d,41),y=v(u,d,14)^v(u,d,18)^E(u,d,41),w=u&h^~u&p,S=T(R,y,d&f^~d&g,O[e],N[e]),I=A(S,m,t,w,P[e],j[e]),$=0|S,M=b(n,r,28)^x(n,r,34)^x(n,r,39),L=v(n,r,28)^E(n,r,34)^E(n,r,39),B=n&i^n&o^i&o,U=r&s^r&a^s&a;m=0|p,R=0|g,p=0|h,g=0|f,h=0|u,f=0|d,({h:u,l:d}=k(0|c,0|l,0|I,0|$)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const D=_($,L,U);n=C(D,I,M,B),r=0|D}({h:n,l:r}=k(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=k(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=k(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l}=k(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:d}=k(0|this.Eh,0|this.El,0|u,0|d)),({h,l:f}=k(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:g}=k(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:R}=k(0|this.Hh,0|this.Hl,0|m,0|R)),this.set(n,r,i,s,o,a,c,l,u,d,h,f,p,g,m,R)}roundClean(){j.fill(0),N.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const $=function(e){const t=t=>e().update(l(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}(()=>new R),M=BigInt(0),L=BigInt(1),B=BigInt(2);function U(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function D(e){if(!U(e))throw new Error("Uint8Array expected")}function F(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}const z=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function W(e){D(e);let t="";for(let n=0;n<e.length;n++)t+=z[e[n]];return t}function q(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?M:BigInt("0x"+e)}function H(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function V(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=H(e.charCodeAt(i)),s=H(e.charCodeAt(i+1));if(void 0===n||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+s}return r}function K(e){return D(e),q(W(Uint8Array.from(e).reverse()))}function G(e,t){return V(e.toString(16).padStart(2*t,"0"))}function Z(e,t){return G(e,t).reverse()}function Y(e,t,n){let r;if("string"==typeof t)try{r=V(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!U(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function J(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];D(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}const Q=e=>"bigint"==typeof e&&M<=e;function X(e,t,n,r){if(!function(e,t,n){return Q(e)&&Q(t)&&Q(n)&&t<=e&&e<n}(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}const ee=e=>(B<<BigInt(e-1))-L,te={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||U(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function ne(e,t,n={}){const r=(t,n,r)=>{const i=te[n];if("function"!=typeof i)throw new Error("invalid validator function");const s=e[t];if(!(r&&void 0===s||i(s,e)))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+s)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e}function re(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(void 0!==i)return i;const s=e(n,...r);return t.set(n,s),s}}const ie=BigInt(0),se=BigInt(1),oe=BigInt(2),ae=BigInt(3),ce=BigInt(4),le=BigInt(5),ue=BigInt(8);function de(e,t){const n=e%t;return n>=ie?n:t+n}function he(e,t,n){if(t<ie)throw new Error("invalid exponent, negatives unsupported");if(n<=ie)throw new Error("invalid modulus");if(n===se)return ie;let r=se;for(;t>ie;)t&se&&(r=r*e%n),e=e*e%n,t>>=se;return r}function fe(e,t,n){let r=e;for(;t-- >ie;)r*=r,r%=n;return r}function pe(e,t){if(e===ie)throw new Error("invert: expected non-zero number");if(t<=ie)throw new Error("invert: expected positive modulus, got "+t);let n=de(e,t),r=t,i=ie,s=se;for(;n!==ie;){const e=r%n,t=i-s*(r/n);r=n,n=e,i=s,s=t}if(r!==se)throw new Error("invert: does not exist");return de(i,t)}const ge=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function me(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function ye(e,t,n=!1,r={}){if(e<=ie)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=me(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:ee(i),ZERO:ie,ONE:se,create:t=>de(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return ie<=t&&t<e},is0:e=>e===ie,isOdd:e=>(e&se)===se,neg:t=>de(-t,e),eql:(e,t)=>e===t,sqr:t=>de(t*t,e),add:(t,n)=>de(t+n,e),sub:(t,n)=>de(t-n,e),mul:(t,n)=>de(t*n,e),pow:(e,t)=>function(e,t,n){if(n<ie)throw new Error("invalid exponent, negatives unsupported");if(n===ie)return e.ONE;if(n===se)return t;let r=e.ONE,i=t;for(;n>ie;)n&se&&(r=e.mul(r,i)),i=e.sqr(i),n>>=se;return r}(a,e,t),div:(t,n)=>de(t*pe(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>pe(t,e),sqrt:r.sqrt||(t=>(o||(o=function(e){if(e%ce===ae){const t=(e+se)/ce;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%ue===le){const t=(e-le)/ue;return function(e,n){const r=e.mul(n,oe),i=e.pow(r,t),s=e.mul(n,i),o=e.mul(e.mul(s,oe),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-se)/oe;let n,r,i;for(n=e-se,r=0;n%oe===ie;n/=oe,r++);for(i=oe;i<e&&he(i,t,e)!==e-se;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===r){const t=(e+se)/ce;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const s=(n+se)/oe;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,i),n),l=e.pow(o,s),u=e.pow(o,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(u);t<a&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const n=e.pow(c,se<<BigInt(a-t-1));c=e.sqr(n),l=e.mul(l,n),u=e.mul(u,c),a=t}return l}}(e)}(e)),o(a,t))),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),i=e.inv(r);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),i),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?Z(e,s):G(e,s),fromBytes:e=>{if(e.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return n?K(e):function(e){return q(W(e))}(e)}});return Object.freeze(a)}const we=BigInt(0),be=BigInt(1);function ve(e,t){const n=t.negate();return e?n:t}function xe(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Ee(e,t){return xe(e,t),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}const ke=new WeakMap,_e=new WeakMap;function Ce(e){return _e.get(e)||1}const Se=BigInt(0),Ie=BigInt(1),Ae=BigInt(2),Te=BigInt(8),Pe={zip215:!0};BigInt(0),BigInt(1);const Oe=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),je=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Ne=BigInt(1),Re=BigInt(2);BigInt(3);const $e=BigInt(5),Me=BigInt(8);const Le=ye(Oe,void 0,!0),Be=function(e){const t=function(e){const t=function(e){return function(e){ne(e,ge.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(e.Fp),ne(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...me(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}(e);return ne(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=t,l=Ae<<BigInt(8*a)-Ie,u=n.create,d=ye(t.n,t.nBitLength),h=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch{return{isValid:!1,value:Se}}}),f=t.adjustScalarBytes||(e=>e),p=t.domain||((e,t,n)=>{if(F("phflag",n),t.length||n)throw new Error("Contexts/pre-hash are not supported");return e});function g(e,t){X("coordinate "+e,t,Se,l)}function m(e){if(!(e instanceof b))throw new Error("ExtendedPoint expected")}const y=re((e,t)=>{const{ex:r,ey:i,ez:s}=e,o=e.is0();null==t&&(t=o?Te:n.inv(s));const a=u(r*t),c=u(i*t),l=u(s*t);if(o)return{x:Se,y:Ie};if(l!==Ie)throw new Error("invZ was invalid");return{x:a,y:c}}),w=re(e=>{const{a:n,d:r}=t;if(e.is0())throw new Error("bad point: ZERO");const{ex:i,ey:s,ez:o,et:a}=e,c=u(i*i),l=u(s*s),d=u(o*o),h=u(d*d),f=u(c*n);if(u(d*u(f+l))!==u(h+u(r*u(c*l))))throw new Error("bad point: equation left != right (1)");if(u(i*s)!==u(o*a))throw new Error("bad point: equation left != right (2)");return!0});class b{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r,g("x",e),g("y",t),g("z",n),g("t",r),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof b)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};return g("x",t),g("y",n),new b(t,n,Ie,u(t*n))}static normalizeZ(e){const t=n.invertBatch(e.map(e=>e.ez));return e.map((e,n)=>e.toAffine(t[n])).map(b.fromAffine)}static msm(e,t){return function(e,t,n,r){if(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})}(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,s=function(e){let t;for(t=0;e>M;e>>=L,t+=1);return t}(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i);let l=i;for(let e=Math.floor((t.BITS-1)/o)*o;e>=0;e-=o){c.fill(i);for(let t=0;t<r.length;t++){const i=r[t],s=Number(i>>BigInt(e)&BigInt(a));c[s]=c[s].add(n[t])}let t=i;for(let e=c.length-1,n=i;e>0;e--)n=n.add(c[e]),t=t.add(n);if(l=l.add(t),0!==e)for(let e=0;e<o;e++)l=l.double()}return l}(b,d,e,t)}_setWindowSize(e){E.setWindowSize(this,e)}assertValidity(){w(this)}equals(e){m(e);const{ex:t,ey:n,ez:r}=this,{ex:i,ey:s,ez:o}=e,a=u(t*o),c=u(i*r),l=u(n*o),d=u(s*r);return a===c&&l===d}is0(){return this.equals(b.ZERO)}negate(){return new b(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:i}=this,s=u(n*n),o=u(r*r),a=u(Ae*u(i*i)),c=u(e*s),l=n+r,d=u(u(l*l)-s-o),h=c+o,f=h-a,p=c-o,g=u(d*f),m=u(h*p),y=u(d*p),w=u(f*h);return new b(g,m,w,y)}add(e){m(e);const{a:n,d:r}=t,{ex:i,ey:s,ez:o,et:a}=this,{ex:c,ey:l,ez:d,et:h}=e;if(n===BigInt(-1)){const e=u((s-i)*(l+c)),t=u((s+i)*(l-c)),n=u(t-e);if(n===Se)return this.double();const r=u(o*Ae*h),f=u(a*Ae*d),p=f+r,g=t+e,m=f-r,y=u(p*n),w=u(g*m),v=u(p*m),x=u(n*g);return new b(y,w,x,v)}const f=u(i*c),p=u(s*l),g=u(a*r*h),y=u(o*d),w=u((i+s)*(c+l)-f-p),v=y-g,x=y+g,E=u(p-n*f),k=u(w*v),_=u(x*E),C=u(w*E),S=u(v*x);return new b(k,_,S,C)}subtract(e){return this.add(e.negate())}wNAF(e){return E.wNAFCached(this,e,b.normalizeZ)}multiply(e){const t=e;X("scalar",t,Ie,r);const{p:n,f:i}=this.wNAF(t);return b.normalizeZ([n,i])[0]}multiplyUnsafe(e,t=b.ZERO){const n=e;return X("scalar",n,Se,r),n===Se?x:this.is0()||n===Ie?this:E.wNAFCachedUnsafe(this,n,b.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return E.unsafeLadder(this,r).is0()}toAffine(e){return y(this,e)}clearCofactor(){const{h:e}=t;return e===Ie?this:this.multiplyUnsafe(e)}static fromHex(e,r=!1){const{d:i,a:s}=t,o=n.BYTES;e=Y("pointHex",e,o),F("zip215",r);const a=e.slice(),c=e[o-1];a[o-1]=-129&c;const d=K(a),f=r?l:n.ORDER;X("pointHex.y",d,Se,f);const p=u(d*d),g=u(p-Ie),m=u(i*p-s);let{isValid:y,value:w}=h(g,m);if(!y)throw new Error("Point.fromHex: invalid y coordinate");const v=(w&Ie)===Ie,x=!!(128&c);if(!r&&w===Se&&x)throw new Error("Point.fromHex: x=0 and x_0=1");return x!==v&&(w=u(-w)),b.fromAffine({x:w,y:d})}static fromPrivateKey(e){return C(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=Z(t,n.BYTES);return r[r.length-1]|=e&Ie?128:0,r}toHex(){return W(this.toRawBytes())}}b.BASE=new b(t.Gx,t.Gy,Ie,u(t.Gx*t.Gy)),b.ZERO=new b(Se,Ie,Ie,Se);const{BASE:v,ZERO:x}=b,E=function(e,t){return{constTimeNegate:ve,hasPrecomputes:e=>1!==Ce(e),unsafeLadder(t,n,r=e.ZERO){let i=t;for(;n>we;)n&be&&(r=r.add(i)),i=i.double(),n>>=be;return r},precomputeWindow(e,n){const{windows:r,windowSize:i}=Ee(n,t),s=[];let o=e,a=o;for(let e=0;e<r;e++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(n,r,i){const{windows:s,windowSize:o}=Ee(n,t);let a=e.ZERO,c=e.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let e=0;e<s;e++){const t=e*o;let n=Number(i&l);i>>=d,n>o&&(n-=u,i+=be);const s=t,h=t+Math.abs(n)-1,f=e%2!=0,p=n<0;0===n?c=c.add(ve(f,r[s])):a=a.add(ve(p,r[h]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=e.ZERO){const{windows:o,windowSize:a}=Ee(n,t),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let e=0;e<o;e++){const t=e*a;if(i===we)break;let n=Number(i&c);if(i>>=u,n>a&&(n-=l,i+=be),0===n)continue;let o=r[t+Math.abs(n)-1];n<0&&(o=o.negate()),s=s.add(o)}return s},getPrecomputes(e,t,n){let r=ke.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&ke.set(t,n(r))),r},wNAFCached(e,t,n){const r=Ce(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const i=Ce(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize(e,n){xe(n,t),_e.set(e,n),ke.delete(e)}}}(b,8*a);function k(e){return de(e,r)}function _(e){return k(K(e))}function C(e){const t=n.BYTES;e=Y("private key",e,t);const r=Y("hashed private key",s(e),2*t),i=f(r.slice(0,t)),o=r.slice(t,2*t),a=_(i),c=v.multiply(a),l=c.toRawBytes();return{head:i,prefix:o,scalar:a,point:c,pointBytes:l}}function S(e=new Uint8Array,...t){const n=J(...t);return _(s(p(n,Y("context",e),!!i)))}const I=Pe;return v._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return C(e).pointBytes},sign:function(e,t,s={}){e=Y("message",e),i&&(e=i(e));const{prefix:o,scalar:a,pointBytes:c}=C(t),l=S(s.context,o,e),u=v.multiply(l).toRawBytes(),d=k(l+S(s.context,u,c,e)*a);return X("signature.s",d,Se,r),Y("result",J(u,Z(d,n.BYTES)),2*n.BYTES)},verify:function(e,t,r,s=I){const{context:o,zip215:a}=s,c=n.BYTES;e=Y("signature",e,2*c),t=Y("message",t),r=Y("publicKey",r,c),void 0!==a&&F("zip215",a),i&&(t=i(t));const l=K(e.slice(c,2*c));let u,d,h;try{u=b.fromHex(r,a),d=b.fromHex(e.slice(0,c),a),h=v.multiplyUnsafe(l)}catch{return!1}if(!a&&u.isSmallOrder())return!1;const f=S(o,d.toRawBytes(),u.toRawBytes(),t);return d.add(u.multiplyUnsafe(f)).subtract(h).clearCofactor().equals(b.ZERO)},ExtendedPoint:b,utils:{getExtendedPublicKey:C,randomPrivateKey:()=>o(n.BYTES),precompute:(e=8,t=b.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Le,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Me,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:$,randomBytes:d,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:function(e,t){const n=Oe,r=de(t*t*t,n),i=function(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Oe,o=e*e%s*e%s,a=fe(o,Re,s)*o%s,c=fe(a,Ne,s)*e%s,l=fe(c,$e,s)*c%s,u=fe(l,t,s)*l%s,d=fe(u,n,s)*u%s,h=fe(d,r,s)*d%s,f=fe(h,i,s)*h%s,p=fe(f,i,s)*h%s,g=fe(p,t,s)*l%s;return{pow_p_5_8:fe(g,Re,s)*e%s,b2:o}}(e*de(r*r*t,n)).pow_p_5_8;let s=de(e*r*i,n);const o=de(t*s*s,n),a=s,c=de(s*je,n),l=o===e,u=o===de(-e,n),d=o===de(-e*je,n);return l&&(s=a),(u||d)&&(s=c),((e,t)=>(de(e,t)&se)===se)(s,n)&&(s=de(-s,n)),{isValid:l||u,value:s}}}),Ue="EdDSA",De="JWT",Fe=".",ze="base64url",We="utf8",qe="utf8",He=":",Ve="did",Ke="key",Ge="base58btc",Ze="z",Ye="K36",Je=32;function Qe(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Xe(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?Qe(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function et(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));const n=Xe(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return Qe(n)}const tt=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class nt{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class rt{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return st(this,e)}}class it{constructor(e){this.decoders=e}or(e){return st(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const st=(e,t)=>new it({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class ot{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new nt(e,t,n),this.decoder=new rt(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const at=({name:e,prefix:t,encode:n,decode:r})=>new ot(e,t,n,r),ct=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==n[o])throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var d=0,h=s-1;(0!==u||d<i)&&-1!==h;h--,d++)u+=a*o[h]>>>0,o[h]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(r+(s-f)),g=r;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,s=t.length;i!==s&&0===t[i];)i++,n++;for(var o=(s-i)*u+1>>>0,l=new Uint8Array(o);i!==s;){for(var d=t[i],h=0,f=o-1;(0!==d||h<r)&&-1!==f;f--,h++)d+=256*l[f]>>>0,l[f]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");r=h,i++}for(var p=o-r;p!==o&&0===l[p];)p++;for(var g=c.repeat(n);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:d,decode:function(e){var n=d(e);if(n)return n;throw new Error(`Non-${t} character`)}}}(n,t);return at({prefix:e,name:t,encode:r,decode:e=>tt(i(e))})},lt=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>at({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let s="",o=0,a=0;for(let r=0;r<e.length;++r)for(a=a<<8|e[r],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s})(e,r,n),decode:t=>((e,t,n,r)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let t=0;t<s;++t){const s=i[e[t]];if(void 0===s)throw new SyntaxError(`Non-${r} character`);c=c<<n|s,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(t,r,n,e)}),ut=at({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var dt=Object.freeze({__proto__:null,identity:ut});const ht=lt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var ft=Object.freeze({__proto__:null,base2:ht});const pt=lt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var gt=Object.freeze({__proto__:null,base8:pt});const mt=ct({prefix:"9",name:"base10",alphabet:"0123456789"});var yt=Object.freeze({__proto__:null,base10:mt});const wt=lt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),bt=lt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var vt=Object.freeze({__proto__:null,base16:wt,base16upper:bt});const xt=lt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Et=lt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),kt=lt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),_t=lt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ct=lt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),St=lt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),It=lt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),At=lt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Tt=lt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Pt=Object.freeze({__proto__:null,base32:xt,base32upper:Et,base32pad:kt,base32padupper:_t,base32hex:Ct,base32hexupper:St,base32hexpad:It,base32hexpadupper:At,base32z:Tt});const Ot=ct({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),jt=ct({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Nt=Object.freeze({__proto__:null,base36:Ot,base36upper:jt});const Rt=ct({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),$t=ct({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Mt=Object.freeze({__proto__:null,base58btc:Rt,base58flickr:$t});const Lt=lt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Bt=lt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ut=lt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Dt=lt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Ft=Object.freeze({__proto__:null,base64:Lt,base64pad:Bt,base64url:Ut,base64urlpad:Dt});const zt=Array.from(""),Wt=zt.reduce((e,t,n)=>(e[n]=t,e),[]),qt=zt.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]),Ht=at({prefix:"",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+Wt[t],"")},decode:function(e){const t=[];for(const n of e){const e=qt[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var Vt=Object.freeze({__proto__:null,base256emoji:Ht}),Kt=128,Gt=-128,Zt=Math.pow(2,31),Yt=Math.pow(2,7),Jt=Math.pow(2,14),Qt=Math.pow(2,21),Xt=Math.pow(2,28),en=Math.pow(2,35),tn=Math.pow(2,42),nn=Math.pow(2,49),rn=Math.pow(2,56),sn=Math.pow(2,63),on=function e(t,n,r){n=n||[];for(var i=r=r||0;t>=Zt;)n[r++]=255&t|Kt,t/=128;for(;t&Gt;)n[r++]=255&t|Kt,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},an=function(e){return e<Yt?1:e<Jt?2:e<Qt?3:e<Xt?4:e<en?5:e<tn?6:e<nn?7:e<rn?8:e<sn?9:10};const cn=(e,t,n=0)=>(on(e,t,n),t),ln=e=>an(e),un=(e,t)=>{const n=t.byteLength,r=ln(e),i=r+ln(n),s=new Uint8Array(i+n);return cn(e,s,0),cn(n,s,r),s.set(t,i),new dn(e,n,t,s)};class dn{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const hn=({name:e,code:t,encode:n})=>new fn(e,t,n);class fn{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?un(this.code,t):t.then(e=>un(this.code,e))}throw Error("Unknown type, must be binary type")}}const pn=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),gn=hn({name:"sha2-256",code:18,encode:pn("SHA-256")}),mn=hn({name:"sha2-512",code:19,encode:pn("SHA-512")});Object.freeze({__proto__:null,sha256:gn,sha512:mn});const yn=tt,wn={code:0,name:"identity",encode:yn,digest:e=>un(0,yn(e))};Object.freeze({__proto__:null,identity:wn}),new TextEncoder,new TextDecoder;const bn={...dt,...ft,...gt,...yt,...vt,...Pt,...Nt,...Mt,...Ft,...Vt};function vn(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const xn=vn("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),En=vn("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{const t=Xe((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),kn={utf8:xn,"utf-8":xn,hex:bn.base16,latin1:En,ascii:En,binary:En,...bn};function _n(e,t="utf8"){const n=kn[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}function Cn(e,t="utf8"){const n=kn[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):Qe(globalThis.Buffer.from(e,"utf-8"))}function Sn(e){return(0,i.j)(_n(Cn(e,ze),We))}function In(e){return _n(Cn((0,i.h)(e),We),ze)}function An(e){const t=Cn(Ye,Ge),n=Ze+_n(et([t,e]),Ge);return[Ve,Ke,n].join(He)}function Tn(e){return _n(e,ze)}function Pn(e){const t=e.split(Fe),n=Sn(t[0]),r=Sn(t[1]),i=function(e){return Cn(e,ze)}(t[2]);return{header:n,payload:r,signature:i,data:Cn(t.slice(0,2).join(Fe),qe)}}function On(e=d(Je)){const t=Be.getPublicKey(e);return{secretKey:et([e,t]),publicKey:t}}async function jn(e,t,n,i,s=(0,r.fromMiliseconds)(Date.now())){const o={alg:Ue,typ:De},a={iss:An(i.publicKey),sub:e,aud:t,iat:s,exp:s+n},c=function(e){return Cn([In(e.header),In(e.payload)].join(Fe),qe)}({header:o,payload:a});return function(e){return[In(e.header),In(e.payload),Tn(e.signature)].join(Fe)}({header:o,payload:a,signature:Be.sign(c,i.secretKey.slice(0,32))})}},8249:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SchemaSerializer=t.registerSerializer=t.Auth=t.Room=t.ErrorCode=t.Protocol=t.MatchMakeError=t.Client=void 0,n(5554);var r=n(5218);Object.defineProperty(t,"Client",{enumerable:!0,get:function(){return r.Client}}),Object.defineProperty(t,"MatchMakeError",{enumerable:!0,get:function(){return r.MatchMakeError}});var i=n(837);Object.defineProperty(t,"Protocol",{enumerable:!0,get:function(){return i.Protocol}}),Object.defineProperty(t,"ErrorCode",{enumerable:!0,get:function(){return i.ErrorCode}});var s=n(2650);Object.defineProperty(t,"Room",{enumerable:!0,get:function(){return s.Room}});var o=n(2831);Object.defineProperty(t,"Auth",{enumerable:!0,get:function(){return o.Auth}});const a=n(9127);Object.defineProperty(t,"SchemaSerializer",{enumerable:!0,get:function(){return a.SchemaSerializer}});const c=n(194),l=n(1204);Object.defineProperty(t,"registerSerializer",{enumerable:!0,get:function(){return l.registerSerializer}}),(0,l.registerSerializer)("schema",a.SchemaSerializer),(0,l.registerSerializer)("none",c.NoneSerializer)},8287:(e,t,n)=>{"use strict";const r=n(7526),i=n(251),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const o=2147483647;function a(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|g(e,t);let r=a(n);const i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Z(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Z(e,ArrayBuffer)||e&&Z(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(Z(e,SharedArrayBuffer)||e&&Z(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);const i=function(e){if(c.isBuffer(e)){const t=0|p(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||Y(e.length)?a(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),a(e<0?0:0|p(e))}function h(e){const t=e.length<0?0:0|p(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function p(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Z(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(i)return r?-1:V(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function w(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Y(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){let s,o=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,a/=2,c/=2,n/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let r=-1;for(s=n;s<a;s++)if(l(e,s)===l(t,-1===r?0:s-r)){if(-1===r&&(r=s),s-r+1===c)return r*o}else-1!==r&&(s-=s-r),r=-1}else for(n+c>a&&(n=a-c),s=n;s>=0;s--){let n=!0;for(let r=0;r<c;r++)if(l(e,s+r)!==l(t,r)){n=!1;break}if(n)return s}return-1}function v(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const s=t.length;let o;for(r>s/2&&(r=s/2),o=0;o<r;++o){const r=parseInt(t.substr(2*o,2),16);if(Y(r))return o;e[n+o]=r}return o}function x(e,t,n,r){return G(V(t,e.length-n),e,n,r)}function E(e,t,n,r){return G(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return G(K(t),e,n,r)}function _(e,t,n,r){return G(function(e,t){let n,r,i;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,s.push(i),s.push(r);return s}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=n){let n,r,a,c;switch(o){case 1:t<128&&(s=t);break;case 2:n=e[i+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(s=c));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:n=e[i+1],r=e[i+2],a=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(s=c))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=o}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}t.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Z(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Z(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=c.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(Z(t,Uint8Array))i+t.length>r.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},s&&(c.prototype[s]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,i){if(Z(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let s=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0);const a=Math.min(s,o),l=this.slice(r,i),u=e.slice(t,n);for(let e=0;e<a;++e)if(l[e]!==u[e]){s=l[e],o=u[e];break}return s<o?-1:o<s?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let s=!1;for(;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":case"latin1":case"binary":return E(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function A(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=J[e[r]];return i}function O(e,t,n){const r=e.slice(t,n);let i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}function j(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,i,s){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r,i){z(t,r,i,e,n,7);let s=Number(t&BigInt(4294967295));e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,n}function $(e,t,n,r,i){z(t,r,i,e,n,7);let s=Number(t&BigInt(4294967295));e[n+7]=s,s>>=8,e[n+6]=s,s>>=8,e[n+5]=s,s>>=8,e[n+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=o,o>>=8,e[n+2]=o,o>>=8,e[n+1]=o,o>>=8,e[n]=o,n+8}function M(e,t,n,r,i,s){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,s){return t=+t,n>>>=0,s||M(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,s){return t=+t,n>>>=0,s||M(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);let r=this[e],i=1,s=0;for(;++s<t&&(i*=256);)r+=this[e+s]*i;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Q(function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))}),c.prototype.readBigUInt64BE=Q(function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)}),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);let r=this[e],i=1,s=0;for(;++s<t&&(i*=256);)r+=this[e+s]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);let r=t,i=1,s=this[e+--r];for(;r>0&&(i*=256);)s+=this[e+--r]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},c.prototype.readInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||j(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||j(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Q(function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),c.prototype.readBigInt64BE=Q(function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)}),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||j(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||j(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||j(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||j(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||N(this,e,t,n,Math.pow(2,8*n)-1,0);let i=1,s=0;for(this[t]=255&e;++s<n&&(i*=256);)this[t+s]=e/i&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||N(this,e,t,n,Math.pow(2,8*n)-1,0);let i=n-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Q(function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=Q(function(e,t=0){return $(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}let i=0,s=1,o=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s|0)-o&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}let i=n-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s|0)-o&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Q(function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=Q(function(e,t=0){return $(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const s=c.isBuffer(e)?e:c.from(e,r),o=s.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=s[i%o]}return this};const U={};function D(e,t,n){U[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function F(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function z(e,t,n,r,i,s){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(s+1)}${r}`:`>= -(2${r} ** ${8*(s+1)-1}${r}) and < 2 ** ${8*(s+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new U.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){W(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||q(t,e.length-(n+1))}(r,i,s)}function W(e,t){if("number"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function q(e,t,n){if(Math.floor(e)!==e)throw W(e,n),new U.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),D("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),D("ERR_OUT_OF_RANGE",function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=F(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r},RangeError);const H=/[^+/0-9A-Za-z-_]/g;function V(e,t){let n;t=t||1/0;const r=e.length;let i=null;const s=[];for(let o=0;o<r;++o){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function K(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function Q(e){return"undefined"==typeof BigInt?X:e}function X(){throw new Error("BigInt not supported")}},8298:(e,t,n)=>{"use strict";n.d(t,{Sl:()=>i,X:()=>o,eV:()=>a,kK:()=>s});var r=n(9516);function i(e,t){if(r.Ej(e)>t)throw new r.u({givenSize:r.Ej(e),maxSize:t})}function s(e,t){if("number"==typeof t&&t>0&&t>r.Ej(e)-1)throw new r.ii({offset:t,position:"start",size:r.Ej(e)})}function o(e,t,n){if("number"==typeof t&&"number"==typeof n&&r.Ej(e)!==n-t)throw new r.ii({offset:n,position:"end",size:r.Ej(e)})}function a(e,t={}){const{dir:n,size:i=32}=t;if(0===i)return e;const s=e.replace("0x","");if(s.length>2*i)throw new r.Fl({size:Math.ceil(s.length/2),targetSize:i,type:"Hex"});return`0x${s["right"===n?"padEnd":"padStart"](2*i,"0")}`}},8354:(e,t,n)=>{"use strict";function r(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}n.d(t,{D:()=>b});var i=n(96),s=n(1901),o=n(1595),a=n(1468),c=n(2184);const l="array",u="map_key",d="map_value",h=e=>{if("string"==typeof e||"number"==typeof e)return e;throw new c.X("The type of key must be string or number but "+typeof e)};class f{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const t=this.getUninitializedStateFromPool();t.type=l,t.position=0,t.size=e,t.array=new Array(e)}pushMapState(e){const t=this.getUninitializedStateFromPool();t.type=u,t.readCount=0,t.size=e,t.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===l){const t=e;t.size=0,t.array=void 0,t.position=0,t.type=void 0}if(e.type===u||e.type===d){const t=e;t.size=0,t.map=void 0,t.readCount=0,t.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const p=new DataView(new ArrayBuffer(0)),g=new Uint8Array(p.buffer);try{p.getInt8(0)}catch(e){if(!(e instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const m=new RangeError("Insufficient data"),y=new class{constructor(e=16,t=16){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=t,this.caches=[];for(let e=0;e<this.maxKeyLength;e++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,t,n){const r=this.caches[n-1];e:for(const i of r){const r=i.bytes;for(let i=0;i<n;i++)if(r[i]!==e[t+i])continue e;return i.str}return null}store(e,t){const n=this.caches[e.length-1],r={bytes:e,str:t};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=r:n.push(r)}decode(e,t,n){const r=this.find(e,t,n);if(null!=r)return this.hit++,r;this.miss++;const i=(0,o.Zf)(e,t,n),s=Uint8Array.prototype.slice.call(e,t,t+n);return this.store(s,i),i}};class w{constructor(e){this.totalPos=0,this.pos=0,this.view=p,this.bytes=g,this.headByte=-1,this.stack=new f,this.entered=!1,this.extensionCodec=e?.extensionCodec??i.g.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??s.f7,this.maxBinLength=e?.maxBinLength??s.f7,this.maxArrayLength=e?.maxArrayLength??s.f7,this.maxMapLength=e?.maxMapLength??s.f7,this.maxExtLength=e?.maxExtLength??s.f7,this.keyDecoder=void 0!==e?.keyDecoder?e.keyDecoder:y,this.mapKeyConverter=e?.mapKeyConverter??h}clone(){return new w({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=-1,this.stack.reset()}setBuffer(e){const t=(0,a.C)(e);this.bytes=t,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.pos=0}appendBuffer(e){if(-1!==this.headByte||this.hasRemaining(1)){const t=this.bytes.subarray(this.pos),n=(0,a.C)(e),r=new Uint8Array(t.length+n.length);r.set(t),r.set(n,t.length),this.setBuffer(r)}else this.setBuffer(e)}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:t,pos:n}=this;return new RangeError(`Extra ${t.byteLength-n} of ${t.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){const t=this.clone();return void(yield*t.decodeMulti(e))}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let t,n=!1;for await(const r of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(r);try{t=this.doDecodeSync(),n=!0}catch(e){if(!(e instanceof RangeError))throw e}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return t}const{headByte:i,pos:s,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${r(i)} at ${o} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,t){if(this.entered){const n=this.clone();return void(yield*n.decodeMultiAsync(e,t))}try{this.entered=!0;let n=t,r=-1;for await(const i of e){if(t&&0===r)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),n&&(r=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),0!==--r;);}catch(e){if(!(e instanceof RangeError))throw e}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let t;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){const n=e-128;if(0!==n){this.pushMapState(n),this.complete();continue e}t={}}else if(e<160){const n=e-144;if(0!==n){this.pushArrayState(n),this.complete();continue e}t=[]}else{const n=e-160;t=this.decodeString(n,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.useBigInt64?this.readU64AsBigInt():this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.useBigInt64?this.readI64AsBigInt():this.readI64();else if(217===e){const e=this.lookU8();t=this.decodeString(e,1)}else if(218===e){const e=this.lookU16();t=this.decodeString(e,2)}else if(219===e){const e=this.lookU32();t=this.decodeString(e,4)}else if(220===e){const e=this.readU16();if(0!==e){this.pushArrayState(e),this.complete();continue e}t=[]}else if(221===e){const e=this.readU32();if(0!==e){this.pushArrayState(e),this.complete();continue e}t=[]}else if(222===e){const e=this.readU16();if(0!==e){this.pushMapState(e),this.complete();continue e}t={}}else if(223===e){const e=this.readU32();if(0!==e){this.pushMapState(e),this.complete();continue e}t={}}else if(196===e){const e=this.lookU8();t=this.decodeBinary(e,1)}else if(197===e){const e=this.lookU16();t=this.decodeBinary(e,2)}else if(198===e){const e=this.lookU32();t=this.decodeBinary(e,4)}else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e){const e=this.lookU8();t=this.decodeExtension(e,1)}else if(200===e){const e=this.lookU16();t=this.decodeExtension(e,2)}else{if(201!==e)throw new c.X(`Unrecognized type byte: ${r(e)}`);{const e=this.lookU32();t=this.decodeExtension(e,4)}}this.complete();const n=this.stack;for(;n.length>0;){const e=n.top();if(e.type===l){if(e.array[e.position]=t,e.position++,e.position!==e.size)continue e;t=e.array,n.release(e)}else{if(e.type===u){if("__proto__"===t)throw new c.X("The key __proto__ is not allowed");e.key=this.mapKeyConverter(t),e.type=d;continue e}if(e.map[e.key]=t,e.readCount++,e.readCount!==e.size){e.key=null,e.type=u;continue e}t=e.map,n.release(e)}}return t}}readHeadByte(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=-1}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new c.X(`Unrecognized array type byte: ${r(e)}`)}}pushMapState(e){if(e>this.maxMapLength)throw new c.X(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new c.X(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,t){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,t):this.decodeBinary(e,t)}decodeUtf8String(e,t){if(e>this.maxStrLength)throw new c.X(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+t+e)throw m;const n=this.pos+t;let r;return r=this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?this.keyDecoder.decode(this.bytes,n,e):(0,o._u)(this.bytes,n,e),this.pos+=t+e,r}stateIsMapKey(){return this.stack.length>0&&this.stack.top().type===u}decodeBinary(e,t){if(e>this.maxBinLength)throw new c.X(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+t))throw m;const n=this.pos+t,r=this.bytes.subarray(n,n+e);return this.pos+=t+e,r}decodeExtension(e,t){if(e>this.maxExtLength)throw new c.X(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const n=this.view.getInt8(this.pos+t),r=this.decodeBinary(e,t+1);return this.extensionCodec.decode(r,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=(0,s.Hn)(this.view,this.pos);return this.pos+=8,e}readI64(){const e=(0,s.eN)(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}}function b(e,t){return new w(t).decode(e)}},8358:(e,t,n)=>{"use strict";n.d(t,{p:()=>o});var r=n(2592),i=n(8990),s=n(1772);function o(e,{docsPath:t,...n}){const o=(()=>{const t=(0,s.l)(e,n);return t instanceof r.RM?e:t})();return new i.$s(o,{docsPath:t,...n})}},8367:(e,t,n)=>{"use strict";n.d(t,{x:()=>u});var r=n(4569),i=n(2040),s=n(6394),o=n(5182),a=n(6675),c=n(4192);function l(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw new Error("Invalid yParityOrV value")}async function u({hash:e,signature:t}){return function(e){const t=(0,i.S)(`0x${e.substring(4)}`).substring(26);return(0,r.o)(`0x${t}`)}(await async function({hash:e,signature:t}){const r=(0,s.q)(e)?e:(0,c.nj)(e),{secp256k1:i}=await Promise.resolve().then(n.bind(n,776));return`0x${(()=>{if("object"==typeof t&&"r"in t&&"s"in t){const{r:e,s:n,v:r,yParity:s}=t,o=l(Number(s??r));return new i.Signature((0,a.uU)(e),(0,a.uU)(n)).addRecoveryBit(o)}const e=(0,s.q)(t)?t:(0,c.nj)(t);if(65!==(0,o.E)(e))throw new Error("invalid signature length");const n=l((0,a.ME)(`0x${e.slice(130)}`));return i.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(n)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}({hash:e,signature:t}))}},8442:(e,t,n)=>{"use strict";n.d(t,{sc:()=>x,qt:()=>k,Zf:()=>E});var r=n(2531);function i(e,t,n){return e&t^~e&n}function s(e,t,n){return e&t^e&n^t&n}class o extends r.Vw{constructor(e,t,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,r.O8)(this.buffer)}update(e){(0,r.CC)(this),e=(0,r.ZJ)(e),(0,r.DO)(e);const{view:t,buffer:n,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const t=(0,r.O8)(e);for(;i<=s-o;o+=i)this.process(t,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,r.CC)(this),(0,r.Ht)(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;t[o++]=128,(0,r.uH)(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let e=o;e<i;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}(n,i-8,BigInt(8*this.length),s),this.process(n,0);const a=(0,r.O8)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)a.setUint32(4*e,u[e],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.destroyed=s,e.finished=i,e.length=r,e.pos=o,r%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const a=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),l=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]);var u=n(9271);const d=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),h=new Uint32Array(64);class f extends o{constructor(e=32){super(64,e,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:s,G:o,H:a}=this;return[e,t,n,r,i,s,o,a]}set(e,t,n,r,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)h[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=h[e-15],n=h[e-2],i=(0,r.Ow)(t,7)^(0,r.Ow)(t,18)^t>>>3,s=(0,r.Ow)(n,17)^(0,r.Ow)(n,19)^n>>>10;h[e]=s+h[e-7]+i+h[e-16]|0}let{A:n,B:o,C:a,D:c,E:l,F:u,G:f,H:p}=this;for(let e=0;e<64;e++){const t=p+((0,r.Ow)(l,6)^(0,r.Ow)(l,11)^(0,r.Ow)(l,25))+i(l,u,f)+d[e]+h[e]|0,g=((0,r.Ow)(n,2)^(0,r.Ow)(n,13)^(0,r.Ow)(n,22))+s(n,o,a)|0;p=f,f=u,u=l,l=c+t|0,c=a,a=o,o=n,n=t+g|0}n=n+this.A|0,o=o+this.B|0,a=a+this.C|0,c=c+this.D|0,l=l+this.E|0,u=u+this.F|0,f=f+this.G|0,p=p+this.H|0,this.set(n,o,a,c,l,u,f,p)}roundClean(){(0,r.uH)(h)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,r.uH)(this.buffer)}}const p=(()=>u.lD(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),g=(()=>p[0])(),m=(()=>p[1])(),y=new Uint32Array(80),w=new Uint32Array(80);class b extends o{constructor(e=64){super(128,e,16,!1),this.Ah=0|l[0],this.Al=0|l[1],this.Bh=0|l[2],this.Bl=0|l[3],this.Ch=0|l[4],this.Cl=0|l[5],this.Dh=0|l[6],this.Dl=0|l[7],this.Eh=0|l[8],this.El=0|l[9],this.Fh=0|l[10],this.Fl=0|l[11],this.Gh=0|l[12],this.Gl=0|l[13],this.Hh=0|l[14],this.Hl=0|l[15]}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:u,Fl:d,Gh:h,Gl:f,Hh:p,Hl:g}=this;return[e,t,n,r,i,s,o,a,c,l,u,d,h,f,p,g]}set(e,t,n,r,i,s,o,a,c,l,u,d,h,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let n=0;n<16;n++,t+=4)y[n]=e.getUint32(t),w[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|y[e-15],n=0|w[e-15],r=u.rE(t,n,1)^u.rE(t,n,8)^u.xn(t,n,7),i=u.ry(t,n,1)^u.ry(t,n,8)^u.jm(t,n,7),s=0|y[e-2],o=0|w[e-2],a=u.rE(s,o,19)^u.qh(s,o,61)^u.xn(s,o,6),c=u.ry(s,o,19)^u.Ei(s,o,61)^u.jm(s,o,6),l=u.CW(i,c,w[e-7],w[e-16]),d=u.CQ(l,r,a,y[e-7],y[e-16]);y[e]=0|d,w[e]=0|l}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:d,El:h,Fh:f,Fl:p,Gh:b,Gl:v,Hh:x,Hl:E}=this;for(let e=0;e<80;e++){const t=u.rE(d,h,14)^u.rE(d,h,18)^u.qh(d,h,41),k=u.ry(d,h,14)^u.ry(d,h,18)^u.Ei(d,h,41),_=d&f^~d&b,C=h&p^~h&v,S=u.F8(E,k,C,m[e],w[e]),I=u.TH(S,x,t,_,g[e],y[e]),A=0|S,T=u.rE(n,r,28)^u.qh(n,r,34)^u.qh(n,r,39),P=u.ry(n,r,28)^u.Ei(n,r,34)^u.Ei(n,r,39),O=n&i^n&o^i&o,j=r&s^r&a^s&a;x=0|b,E=0|v,b=0|f,v=0|p,f=0|d,p=0|h,({h:d,l:h}=u.WQ(0|c,0|l,0|I,0|A)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const N=u.Vl(A,P,j);n=u.Vr(N,I,T,O),r=0|N}({h:n,l:r}=u.WQ(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=u.WQ(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=u.WQ(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l}=u.WQ(0|this.Dh,0|this.Dl,0|c,0|l)),({h:d,l:h}=u.WQ(0|this.Eh,0|this.El,0|d,0|h)),({h:f,l:p}=u.WQ(0|this.Fh,0|this.Fl,0|f,0|p)),({h:b,l:v}=u.WQ(0|this.Gh,0|this.Gl,0|b,0|v)),({h:x,l:E}=u.WQ(0|this.Hh,0|this.Hl,0|x,0|E)),this.set(n,r,i,s,o,a,c,l,d,h,f,p,b,v,x,E)}roundClean(){(0,r.uH)(y,w)}destroy(){(0,r.uH)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class v extends b{constructor(){super(48),this.Ah=0|c[0],this.Al=0|c[1],this.Bh=0|c[2],this.Bl=0|c[3],this.Ch=0|c[4],this.Cl=0|c[5],this.Dh=0|c[6],this.Dl=0|c[7],this.Eh=0|c[8],this.El=0|c[9],this.Fh=0|c[10],this.Fl=0|c[11],this.Gh=0|c[12],this.Gl=0|c[13],this.Hh=0|c[14],this.Hl=0|c[15]}}const x=(0,r.qj)(()=>new f),E=(0,r.qj)(()=>new b),k=(0,r.qj)(()=>new v)},8463:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(e,t,n)=>JSON.stringify(e,(e,n)=>{const r="bigint"==typeof n?n.toString():n;return"function"==typeof t?t(e,r):r},n)},8468:(e,t,n)=>{"use strict";n.d(t,{o0:()=>p});var r=n(5606),i=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},s=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},o=function(e){this.version=e,this.type="node",this.name="node",this.os=r.platform},a=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},c=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},l=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},u=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,d=3,h=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],f=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function p(e){return e?g(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new l:"undefined"!=typeof navigator?g(navigator.userAgent):void 0!==r&&r.version?new o(r.version.slice(1)):null}function g(e){var t=function(e){return""!==e&&h.reduce(function(t,n){var r=n[0],i=n[1];if(t)return t;var s=i.exec(e);return!!s&&[r,s]},!1)}(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new c;var o=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);o?o.length<d&&(o=i(i([],o,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(d-o.length),!0)):o=[];var l=o.join("."),p=function(e){for(var t=0,n=f.length;t<n;t++){var r=f[t],i=r[0];if(r[1].exec(e))return i}return null}(e),g=u.exec(e);return g&&g[1]?new a(n,l,p,g[1]):new s(n,l,p)}},8498:(e,t,n)=>{"use strict";async function r(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}n.d(t,{L:()=>r})},8503:(e,t,n)=>{"use strict";n.d(t,{p:()=>u});var r=n(5419),i=n(4531),s=n(7372),o=n(2599),a=n(5167),c=n(4586);const l="/docs/contract/encodeFunctionData";function u(e){const{args:t}=e,{abi:n,functionName:u}=1===e.abi.length&&e.functionName?.startsWith("0x")?e:function(e){const{abi:t,args:n,functionName:r}=e;let i=t[0];if(r){const e=(0,c.iY)({abi:t,args:n,name:r});if(!e)throw new s.Iz(r,{docsPath:l});i=e}if("function"!==i.type)throw new s.Iz(void 0,{docsPath:l});return{abi:[i],functionName:(0,o.V)((0,a.B)(i))}}(e),d=n[0],h=u,f="inputs"in d&&d.inputs?(0,i.h)(d.inputs,t??[]):void 0;return(0,r.aP)([h,f??"0x"])}},8583:(e,t,n)=>{"use strict";function r(e,{dir:t="left"}={}){let n="string"==typeof e?e.replace("0x",""):e,r=0;for(let e=0;e<n.length-1&&"0"===n["left"===t?e:n.length-e-1].toString();e++)r++;return n="left"===t?n.slice(r):n.slice(0,n.length-r),"string"==typeof e?(1===n.length&&"right"===t&&(n=`${n}0`),`0x${n.length%2==1?`0${n}`:n}`):n}n.d(t,{B:()=>r})},8684:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var r=n(8863),i=n(2592),s=n(1772);function o(e,{docsPath:t,...n}){const o=(()=>{const t=(0,s.l)(e,n);return t instanceof i.RM?e:t})();return new r.zX(o,{docsPath:t,...n})}},8703:(e,t,n)=>{"use strict";n.d(t,{EH:()=>s,YE:()=>a,jF:()=>o,rj:()=>i});var r=n(1344);class i extends r.C{constructor({blockNumber:e,chain:t,contract:n}){super(`Chain "${t.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class s extends r.C{constructor({chain:e,currentChainId:t}){super(`The current chain of the wallet (id: ${t}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class o extends r.C{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join("\n"),{name:"ChainNotFoundError"})}}class a extends r.C{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}r.C},8820:e=>{function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}t.prototype.set=function(e,t,n,r){const i=e*this.size+t;this.data[i]=n,r&&(this.reservedBit[i]=!0)},t.prototype.get=function(e,t){return this.data[e*this.size+t]},t.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},t.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=t},8860:(e,t,n)=>{"use strict";n.d(t,{UG:()=>o,xo:()=>i,zz:()=>s});var r=n(7847);class i extends r.C{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class s extends r.C{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class o extends r.C{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}},8863:(e,t,n)=>{"use strict";n.d(t,{zX:()=>y,bG:()=>w,M:()=>b,rR:()=>v,Po:()=>x,$S:()=>E});var r=n(3033),i=n(4453),s=n(5462),o=n(5167),a=n(8463);function c({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((e,n)=>`${r&&e.name?`${e.name}: `:""}${"object"==typeof t[n]?(0,a.A)(t[n]):t[n]}`).join(", ")})`}var l=n(4586),u=n(9436),d=n(9670),h=n(7372),f=n(1344),p=n(6883),g=n(8990),m=n(1163);class y extends f.C{constructor(e,{account:t,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:h,to:f,value:m,stateOverride:y}){const w=t?(0,r.J)(t):void 0;let b=(0,g.aO)({from:w?.address,to:f,value:void 0!==m&&`${(0,u.c)(m)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:o,gasPrice:void 0!==a&&`${(0,d.Q)(a)} gwei`,maxFeePerGas:void 0!==c&&`${(0,d.Q)(c)} gwei`,maxPriorityFeePerGas:void 0!==l&&`${(0,d.Q)(l)} gwei`,nonce:h});y&&(b+=`\n${(0,p.uj)(y)}`),super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",b].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class w extends f.C{constructor(e,{abi:t,args:n,contractAddress:r,docsPath:i,functionName:s,sender:a}){const u=(0,l.iY)({abi:t,args:n,name:s}),d=u?c({abiItem:u,args:n,includeFunctionName:!1,includeName:!1}):void 0,h=u?(0,o.B)(u,{includeName:!0}):void 0,f=(0,g.aO)({address:r&&(0,m.R)(r),function:h,args:d&&"()"!==d&&`${[...Array(s?.length??0).keys()].map(()=>" ").join("")}${d}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${s}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],f&&"Contract Call:",f].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=t,this.args=n,this.cause=e,this.contractAddress=r,this.functionName=s,this.sender=a}}class b extends f.C{constructor({abi:e,data:t,functionName:n,message:r}){let a,l,u,d,f;if(t&&"0x"!==t)try{l=(0,s.W)({abi:e,data:t});const{abiItem:n,errorName:r,args:a}=l;if("Error"===r)d=a[0];else if("Panic"===r){const[e]=a;d=i.fD[e]}else{const e=n?(0,o.B)(n,{includeName:!0}):void 0,t=n&&a?c({abiItem:n,args:a,includeFunctionName:!1,includeName:!1}):void 0;u=[e?`Error: ${e}`:"",t&&"()"!==t?`       ${[...Array(r?.length??0).keys()].map(()=>" ").join("")}${t}`:""]}}catch(e){a=e}else r&&(d=r);a instanceof h.Wq&&(f=a.signature,u=[`Unable to decode signature "${f}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${f}.`]),super(d&&"execution reverted"!==d||f?[`The contract function "${n}" reverted with the following ${f?"signature":"reason"}:`,d||f].join("\n"):`The contract function "${n}" reverted.`,{cause:a,metaMessages:u,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=l,this.raw=t,this.reason=d,this.signature=f}}class v extends f.C{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class x extends f.C{constructor({factory:e}){super("Deployment for counterfactual contract call failed"+(e?` for factory "${e}".`:""),{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class E extends f.C{constructor({data:e,message:t}){super(t||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}},8864:(e,t,n)=>{"use strict";n.d(t,{H4:()=>m,v8:()=>p,$$:()=>g});var r=n(7372),i=n(4306),s=n(8463),o=n(1344);class a extends o.C{constructor({domain:e}){super(`Invalid domain "${(0,s.A)(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class c extends o.C{constructor({primaryType:e,types:t}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(t))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class l extends o.C{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}var u=n(9873),d=n(5182),h=n(4192),f=n(8213);function p(e){const{domain:t,message:n,primaryType:r,types:i}=e,o=(e,t)=>{const n={...t};for(const t of e){const{name:e,type:r}=t;"address"===r&&(n[e]=n[e].toLowerCase())}return n},a=i.EIP712Domain&&t?o(i.EIP712Domain,t):{},c=(()=>{if("EIP712Domain"!==r)return o(i[r],n)})();return(0,s.A)({domain:a,message:c,primaryType:r,types:i})}function g(e){const{domain:t,message:n,primaryType:s,types:o}=e,l=(e,t)=>{for(const n of e){const{name:e,type:s}=n,a=t[e],c=s.match(f.Ge);if(c&&("number"==typeof a||"bigint"==typeof a)){const[e,t,n]=c;(0,h.cK)(a,{signed:"int"===t,size:Number.parseInt(n,10)/8})}if("address"===s&&"string"==typeof a&&!(0,u.P)(a))throw new i.M({address:a});const p=s.match(f.BD);if(p){const[e,t]=p;if(t&&(0,d.E)(a)!==Number.parseInt(t,10))throw new r.BI({expectedSize:Number.parseInt(t,10),givenSize:(0,d.E)(a)})}const g=o[s];g&&(y(s),l(g,a))}};if(o.EIP712Domain&&t){if("object"!=typeof t)throw new a({domain:t});l(o.EIP712Domain,t)}if("EIP712Domain"!==s){if(!o[s])throw new c({primaryType:s,types:o});l(o[s],n)}}function m({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},("number"==typeof e?.chainId||"bigint"==typeof e?.chainId)&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function y(e){if("address"===e||"bool"===e||"string"===e||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new l({type:e})}},8900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(584);r.__exportStar(n(9606),t),r.__exportStar(n(9883),t),r.__exportStar(n(2010),t),r.__exportStar(n(9026),t)},8990:(e,t,n)=>{"use strict";n.d(t,{$s:()=>l,Kc:()=>d,Kz:()=>u,Sq:()=>h,Vg:()=>c,WA:()=>f,aO:()=>o,n3:()=>a});var r=n(9436),i=n(9670),s=n(1344);function o(e){const t=Object.entries(e).map(([e,t])=>void 0===t||!1===t?null:[e,t]).filter(Boolean),n=t.reduce((e,[t])=>Math.max(e,t.length),0);return t.map(([e,t])=>`  ${`${e}:`.padEnd(n+1)}  ${t}`).join("\n")}class a extends s.C{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join("\n"),{name:"FeeConflictError"})}}s.C;class c extends s.C{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",o(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}s.C,s.C,s.C;class l extends s.C{constructor(e,{account:t,docsPath:n,chain:s,data:a,gas:c,gasPrice:l,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:f,value:p}){const g=o({chain:s&&`${s?.name} (id: ${s?.id})`,from:t?.address,to:f,value:void 0!==p&&`${(0,r.c)(p)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:c,gasPrice:void 0!==l&&`${(0,i.Q)(l)} gwei`,maxFeePerGas:void 0!==u&&`${(0,i.Q)(u)} gwei`,maxPriorityFeePerGas:void 0!==d&&`${(0,i.Q)(d)} gwei`,nonce:h});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",g].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class u extends s.C{constructor({blockHash:e,blockNumber:t,blockTag:n,hash:r,index:i}){let s="Transaction";n&&void 0!==i&&(s=`Transaction at block time "${n}" at index "${i}"`),e&&void 0!==i&&(s=`Transaction at block hash "${e}" at index "${i}"`),t&&void 0!==i&&(s=`Transaction at block number "${t}" at index "${i}"`),r&&(s=`Transaction with hash "${r}"`),super(`${s} could not be found.`,{name:"TransactionNotFoundError"})}}class d extends s.C{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class h extends s.C{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class f extends s.C{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}},8998:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.discordURLBuilder=void 0,t.discordURLBuilder=function(e){var t;const n=(null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.hostname)||"localhost",r=e.hostname.split("."),i=!e.hostname.includes("trycloudflare.com")&&!e.hostname.includes("discordsays.com")&&r.length>2?`/${r[0]}`:"";return e.pathname.startsWith("/.proxy")?`${e.protocol}//${n}${i}${e.pathname}${e.search}`:`${e.protocol}//${n}/.proxy/colyseus${i}${e.pathname}${e.search}`}},9003:(e,t,n)=>{"use strict";n.d(t,{l:()=>c});var r=n(1595),i=n(96),s=n(1901),o=n(1468);class a{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??i.g.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??100,this.initialBufferSize=e?.initialBufferSize??2048,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new a({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,t){if(t>this.maxDepth)throw new Error(`Too deep objects in depth ${t}`);null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.useBigInt64&&"bigint"==typeof e?this.encodeBigInt64(e):this.encodeObject(e,t)}ensureBufferSizeToWrite(e){const t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)}resizeBuffer(e){const t=new ArrayBuffer(e),n=new Uint8Array(t),r=new DataView(t);n.set(this.bytes),this.view=r,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){!1===e?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error(`Too long string: ${e} bytes in UTF-8`);this.writeU8(219),this.writeU32(e)}}encodeString(e){const t=(0,r.dS)(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),(0,r.yi)(e,this.bytes,this.pos),this.pos+=t}encodeObject(e,t){const n=this.extensionCodec.tryToEncode(e,this.context);if(null!=n)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!=typeof e)throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`);this.encodeMap(e,t)}}encodeBinary(e){const t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error(`Too large binary: ${t}`);this.writeU8(198),this.writeU32(t)}const n=(0,o.C)(e);this.writeU8a(n)}encodeArray(e,t){const n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else{if(!(n<4294967296))throw new Error(`Too large array: ${n}`);this.writeU8(221),this.writeU32(n)}for(const n of e)this.doEncode(n,t+1)}countWithoutUndefined(e,t){let n=0;for(const r of t)void 0!==e[r]&&n++;return n}encodeMap(e,t){const n=Object.keys(e);this.sortKeys&&n.sort();const r=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(r<16)this.writeU8(128+r);else if(r<65536)this.writeU8(222),this.writeU16(r);else{if(!(r<4294967296))throw new Error(`Too large map object: ${r}`);this.writeU8(223),this.writeU32(r)}for(const r of n){const n=e[r];this.ignoreUndefined&&void 0===n||(this.encodeString(r),this.doEncode(n,t+1))}}encodeExtension(e){if("function"==typeof e.data){const t=e.data(this.pos+6),n=t.length;if(n>=4294967296)throw new Error(`Too large extension object: ${n}`);return this.writeU8(201),this.writeU32(n),this.writeI8(e.type),void this.writeU8a(t)}const t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error(`Too large extension object: ${t}`);this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),(0,s.X3)(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),(0,s._j)(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}}function c(e,t){return new a(t).encodeSharedRef(e)}},9026:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(584);r.__exportStar(n(9244),t),r.__exportStar(n(1861),t)},9031:(e,t,n)=>{"use strict";n.d(t,{IJsonRpcProvider:()=>o.kF,formatJsonRpcError:()=>s.dZ,formatJsonRpcRequest:()=>s.e_,formatJsonRpcResult:()=>s.Im,getBigIntRpcId:()=>s.eX,isHttpUrl:()=>a.q$,isJsonRpcError:()=>c.U$,isJsonRpcRequest:()=>c.p3,isJsonRpcResponse:()=>c.tq,isJsonRpcResult:()=>c.xT,isLocalhostUrl:()=>a.z,isWsUrl:()=>a.A1,parseConnectionError:()=>r.eF,payloadId:()=>s.ER}),n(4410);var r=n(5845),i=n(9872);n.o(i,"IJsonRpcProvider")&&n.d(t,{IJsonRpcProvider:function(){return i.IJsonRpcProvider}}),n.o(i,"formatJsonRpcError")&&n.d(t,{formatJsonRpcError:function(){return i.formatJsonRpcError}}),n.o(i,"formatJsonRpcRequest")&&n.d(t,{formatJsonRpcRequest:function(){return i.formatJsonRpcRequest}}),n.o(i,"formatJsonRpcResult")&&n.d(t,{formatJsonRpcResult:function(){return i.formatJsonRpcResult}}),n.o(i,"getBigIntRpcId")&&n.d(t,{getBigIntRpcId:function(){return i.getBigIntRpcId}}),n.o(i,"isHttpUrl")&&n.d(t,{isHttpUrl:function(){return i.isHttpUrl}}),n.o(i,"isJsonRpcError")&&n.d(t,{isJsonRpcError:function(){return i.isJsonRpcError}}),n.o(i,"isJsonRpcRequest")&&n.d(t,{isJsonRpcRequest:function(){return i.isJsonRpcRequest}}),n.o(i,"isJsonRpcResponse")&&n.d(t,{isJsonRpcResponse:function(){return i.isJsonRpcResponse}}),n.o(i,"isJsonRpcResult")&&n.d(t,{isJsonRpcResult:function(){return i.isJsonRpcResult}}),n.o(i,"isLocalhostUrl")&&n.d(t,{isLocalhostUrl:function(){return i.isLocalhostUrl}}),n.o(i,"isReactNative")&&n.d(t,{isReactNative:function(){return i.isReactNative}}),n.o(i,"isWsUrl")&&n.d(t,{isWsUrl:function(){return i.isWsUrl}}),n.o(i,"payloadId")&&n.d(t,{payloadId:function(){return i.payloadId}});var s=n(6668),o=n(947),a=n(7182),c=n(9784)},9049:e=>{"use strict";e.exports=function(e){for(var t=[],n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319&&n>r+1){var s=e.charCodeAt(r+1);s>=56320&&s<=57343&&(i=1024*(i-55296)+s-56320+65536,r+=1)}i<128?t.push(i):i<2048?(t.push(i>>6|192),t.push(63&i|128)):i<55296||i>=57344&&i<65536?(t.push(i>>12|224),t.push(i>>6&63|128),t.push(63&i|128)):i>=65536&&i<=1114111?(t.push(i>>18|240),t.push(i>>12&63|128),t.push(i>>6&63|128),t.push(63&i|128)):t.push(239,191,189)}return new Uint8Array(t).buffer}},9091:(e,t,n)=>{"use strict";function r(){let e=()=>{},t=()=>{};return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}n.d(t,{Y:()=>r})},9127:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SchemaSerializer=void 0;const r=n(7118);t.SchemaSerializer=class{setState(e){return this.state.decode(e)}getState(){return this.state}patch(e){return this.state.decode(e)}teardown(){var e,t;null===(t=null===(e=this.state)||void 0===e?void 0:e.$changes)||void 0===t||t.root.clearRefs()}handshake(e,t){this.state?(new r.Reflection).decode(e,t):this.state=r.Reflection.decode(e,t)}}},9175:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.Hash=t.nextTick=t.swap32IfBE=t.byteSwapIfBE=t.swap8IfBE=t.isLE=void 0,t.isBytes=i,t.anumber=s,t.abytes=o,t.ahash=function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");s(e.outputLen),s(e.blockLen)},t.aexists=function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},t.aoutput=function(e,t){o(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)},t.u8=function(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},t.u32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))},t.clean=function(...e){for(let t=0;t<e.length;t++)e[t].fill(0)},t.createView=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)},t.rotr=function(e,t){return e<<32-t|e>>>t},t.rotl=function(e,t){return e<<t|e>>>32-t>>>0},t.byteSwap=a,t.byteSwap32=c,t.bytesToHex=function(e){if(o(e),l)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=u[e[n]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(l)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=h(e.charCodeAt(i)),s=h(e.charCodeAt(i+1));if(void 0===n||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+s}return r},t.asyncLoop=async function(e,n,r){let i=Date.now();for(let s=0;s<e;s++){r(s);const e=Date.now()-i;e>=0&&e<n||(await(0,t.nextTick)(),i+=e)}},t.utf8ToBytes=f,t.bytesToUtf8=function(e){return(new TextDecoder).decode(e)},t.toBytes=p,t.kdfInputToBytes=function(e){return"string"==typeof e&&(e=f(e)),o(e),e},t.concatBytes=function(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];o(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n},t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!=={}.toString.call(t))throw new Error("options should be object or undefined");return Object.assign(e,t)},t.createHasher=g,t.createOptHasher=m,t.createXOFer=y,t.randomBytes=function(e=32){if(r.crypto&&"function"==typeof r.crypto.getRandomValues)return r.crypto.getRandomValues(new Uint8Array(e));if(r.crypto&&"function"==typeof r.crypto.randomBytes)return Uint8Array.from(r.crypto.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")};const r=n(5145);function i(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function s(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function o(e,...t){if(!i(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function a(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function c(e){for(let t=0;t<e.length;t++)e[t]=a(e[t]);return e}t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],t.swap8IfBE=t.isLE?e=>e:e=>a(e),t.byteSwapIfBE=t.swap8IfBE,t.swap32IfBE=t.isLE?e=>e:c;const l=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),u=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),d={_0:48,_9:57,A:65,F:70,a:97,f:102};function h(e){return e>=d._0&&e<=d._9?e-d._0:e>=d.A&&e<=d.F?e-(d.A-10):e>=d.a&&e<=d.f?e-(d.a-10):void 0}function f(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}function p(e){return"string"==typeof e&&(e=f(e)),o(e),e}function g(e){const t=t=>e().update(p(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function m(e){const t=(t,n)=>e(n).update(p(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}function y(e){const t=(t,n)=>e(n).update(p(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}t.nextTick=async()=>{},t.Hash=class{},t.wrapConstructor=g,t.wrapConstructorWithOpts=m,t.wrapXOFConstructorWithOpts=y},9244:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},9271:(e,t,n)=>{"use strict";n.d(t,{B4:()=>p,CQ:()=>x,CW:()=>v,Ei:()=>h,F8:()=>E,P5:()=>f,TH:()=>k,Vl:()=>w,Vr:()=>b,WM:()=>g,WQ:()=>y,im:()=>m,jm:()=>c,lD:()=>o,qh:()=>d,rE:()=>l,ry:()=>u,xn:()=>a});const r=BigInt(2**32-1),i=BigInt(32);function s(e,t=!1){return t?{h:Number(e&r),l:Number(e>>i&r)}:{h:0|Number(e>>i&r),l:0|Number(e&r)}}function o(e,t=!1){const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:n,l:a}=s(e[o],t);[r[o],i[o]]=[n,a]}return[r,i]}const a=(e,t,n)=>e>>>n,c=(e,t,n)=>e<<32-n|t>>>n,l=(e,t,n)=>e>>>n|t<<32-n,u=(e,t,n)=>e<<32-n|t>>>n,d=(e,t,n)=>e<<64-n|t>>>n-32,h=(e,t,n)=>e>>>n-32|t<<64-n,f=(e,t,n)=>e<<n|t>>>32-n,p=(e,t,n)=>t<<n|e>>>32-n,g=(e,t,n)=>t<<n-32|e>>>64-n,m=(e,t,n)=>e<<n-32|t>>>64-n;function y(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}const w=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),b=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,v=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),x=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,E=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),k=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0},9404:function(e,t,n){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function s(e,t,n){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var o;"object"==typeof e?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(7790).Buffer}catch(e){}function a(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function c(e,t,n){var r=a(e,n);return n-1>=t&&(r|=a(e,n-1)<<4),r}function l(e,t,n,i){for(var s=0,o=0,a=Math.min(e.length,n),c=t;c<a;c++){var l=e.charCodeAt(c)-48;s*=i,o=l>=49?l-49+10:l>=17?l-17+10:l,r(l>=0&&o<i,"Invalid character"),s+=o}return s}function u(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(s.isBN=function(e){return e instanceof s||null!==e&&"object"==typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},s.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},s.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===n)for(i=e.length-1,s=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(i=0,s=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,s=0,o=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=c(e,t,r)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)i=c(e,t,r)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},s.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var s=e.length-n,o=s%r,a=Math.min(s,s-o)+n,c=0,u=n;u<a;u+=r)c=l(e,u,u+r,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var d=1;for(c=l(e,u,e.length,t),u=0;u<o;u++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype._move=function(e){u(e,this)},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(e){s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function g(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,c=o/67108864|0;n.words[0]=a;for(var l=1;l<r;l++){for(var u=c>>>26,d=67108863&c,h=Math.min(l,t.length-1),f=Math.max(0,l-e.length+1);f<=h;f++){var p=l-f|0;u+=(o=(i=0|e.words[p])*(s=0|t.words[f])+d)/67108864|0,d=67108863&o}n.words[l]=0|d,c=0|u}return 0!==c?n.words[l]=0|c:n.length--,n._strip()}s.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],c=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),n=0!==s||o!==this.length-1?h[6-c.length]+c+n:c+n}for(0!==s&&(n=s.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=f[e],u=p[e];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var g=d.modrn(u).toString(e);n=(d=d.idivn(u)).isZero()?g+n:h[l-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(e,t){return this.toArrayLike(o,e,t)}),s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),s=n||Math.max(1,i);r(i<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0");var o=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,s);return this["_toArrayLike"+("le"===t?"LE":"BE")](o,i),o},s.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|r;e[n++]=255&o,n<e.length&&(e[n++]=o>>8&255),n<e.length&&(e[n++]=o>>16&255),6===s?(n<e.length&&(e[n++]=o>>24&255),r=0,s=0):(r=o>>>24,s+=2)}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0},s.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|r;e[n--]=255&o,n>=0&&(e[n--]=o>>8&255),n>=0&&(e[n--]=o>>16&255),6===s?(n>=0&&(e[n--]=o>>24&255),r=0,s=0):(r=o>>>24,s+=2)}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 8191&t||(n+=13,t>>>=13),127&t||(n+=7,t>>>=7),15&t||(n+=4,t>>>=4),3&t||(n+=2,t>>>=2),1&t||n++,n},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},s.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},s.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},s.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},s.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,s=0;s<r.length;s++)t=(0|n.words[s])+(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<n.length;s++)t=(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var s=0,o=0;o<r.length;o++)s=(t=(0|n.words[o])-(0|r.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<n.length;o++)s=(t=(0|n.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var m=function(e,t,n){var r,i,s,o=e.words,a=t.words,c=n.words,l=0,u=0|o[0],d=8191&u,h=u>>>13,f=0|o[1],p=8191&f,g=f>>>13,m=0|o[2],y=8191&m,w=m>>>13,b=0|o[3],v=8191&b,x=b>>>13,E=0|o[4],k=8191&E,_=E>>>13,C=0|o[5],S=8191&C,I=C>>>13,A=0|o[6],T=8191&A,P=A>>>13,O=0|o[7],j=8191&O,N=O>>>13,R=0|o[8],$=8191&R,M=R>>>13,L=0|o[9],B=8191&L,U=L>>>13,D=0|a[0],F=8191&D,z=D>>>13,W=0|a[1],q=8191&W,H=W>>>13,V=0|a[2],K=8191&V,G=V>>>13,Z=0|a[3],Y=8191&Z,J=Z>>>13,Q=0|a[4],X=8191&Q,ee=Q>>>13,te=0|a[5],ne=8191&te,re=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],ce=8191&ae,le=ae>>>13,ue=0|a[8],de=8191&ue,he=ue>>>13,fe=0|a[9],pe=8191&fe,ge=fe>>>13;n.negative=e.negative^t.negative,n.length=19;var me=(l+(r=Math.imul(d,F))|0)+((8191&(i=(i=Math.imul(d,z))+Math.imul(h,F)|0))<<13)|0;l=((s=Math.imul(h,z))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(p,F),i=(i=Math.imul(p,z))+Math.imul(g,F)|0,s=Math.imul(g,z);var ye=(l+(r=r+Math.imul(d,q)|0)|0)+((8191&(i=(i=i+Math.imul(d,H)|0)+Math.imul(h,q)|0))<<13)|0;l=((s=s+Math.imul(h,H)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(y,F),i=(i=Math.imul(y,z))+Math.imul(w,F)|0,s=Math.imul(w,z),r=r+Math.imul(p,q)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(g,q)|0,s=s+Math.imul(g,H)|0;var we=(l+(r=r+Math.imul(d,K)|0)|0)+((8191&(i=(i=i+Math.imul(d,G)|0)+Math.imul(h,K)|0))<<13)|0;l=((s=s+Math.imul(h,G)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(v,F),i=(i=Math.imul(v,z))+Math.imul(x,F)|0,s=Math.imul(x,z),r=r+Math.imul(y,q)|0,i=(i=i+Math.imul(y,H)|0)+Math.imul(w,q)|0,s=s+Math.imul(w,H)|0,r=r+Math.imul(p,K)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(g,K)|0,s=s+Math.imul(g,G)|0;var be=(l+(r=r+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,J)|0)+Math.imul(h,Y)|0))<<13)|0;l=((s=s+Math.imul(h,J)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(k,F),i=(i=Math.imul(k,z))+Math.imul(_,F)|0,s=Math.imul(_,z),r=r+Math.imul(v,q)|0,i=(i=i+Math.imul(v,H)|0)+Math.imul(x,q)|0,s=s+Math.imul(x,H)|0,r=r+Math.imul(y,K)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(w,K)|0,s=s+Math.imul(w,G)|0,r=r+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(g,Y)|0,s=s+Math.imul(g,J)|0;var ve=(l+(r=r+Math.imul(d,X)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(h,X)|0))<<13)|0;l=((s=s+Math.imul(h,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(S,F),i=(i=Math.imul(S,z))+Math.imul(I,F)|0,s=Math.imul(I,z),r=r+Math.imul(k,q)|0,i=(i=i+Math.imul(k,H)|0)+Math.imul(_,q)|0,s=s+Math.imul(_,H)|0,r=r+Math.imul(v,K)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(x,K)|0,s=s+Math.imul(x,G)|0,r=r+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(w,Y)|0,s=s+Math.imul(w,J)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,X)|0,s=s+Math.imul(g,ee)|0;var xe=(l+(r=r+Math.imul(d,ne)|0)|0)+((8191&(i=(i=i+Math.imul(d,re)|0)+Math.imul(h,ne)|0))<<13)|0;l=((s=s+Math.imul(h,re)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(T,F),i=(i=Math.imul(T,z))+Math.imul(P,F)|0,s=Math.imul(P,z),r=r+Math.imul(S,q)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(I,q)|0,s=s+Math.imul(I,H)|0,r=r+Math.imul(k,K)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,G)|0,r=r+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(x,Y)|0,s=s+Math.imul(x,J)|0,r=r+Math.imul(y,X)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(w,X)|0,s=s+Math.imul(w,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(g,ne)|0,s=s+Math.imul(g,re)|0;var Ee=(l+(r=r+Math.imul(d,se)|0)|0)+((8191&(i=(i=i+Math.imul(d,oe)|0)+Math.imul(h,se)|0))<<13)|0;l=((s=s+Math.imul(h,oe)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(j,F),i=(i=Math.imul(j,z))+Math.imul(N,F)|0,s=Math.imul(N,z),r=r+Math.imul(T,q)|0,i=(i=i+Math.imul(T,H)|0)+Math.imul(P,q)|0,s=s+Math.imul(P,H)|0,r=r+Math.imul(S,K)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(I,K)|0,s=s+Math.imul(I,G)|0,r=r+Math.imul(k,Y)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(_,Y)|0,s=s+Math.imul(_,J)|0,r=r+Math.imul(v,X)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(x,X)|0,s=s+Math.imul(x,ee)|0,r=r+Math.imul(y,ne)|0,i=(i=i+Math.imul(y,re)|0)+Math.imul(w,ne)|0,s=s+Math.imul(w,re)|0,r=r+Math.imul(p,se)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(g,se)|0,s=s+Math.imul(g,oe)|0;var ke=(l+(r=r+Math.imul(d,ce)|0)|0)+((8191&(i=(i=i+Math.imul(d,le)|0)+Math.imul(h,ce)|0))<<13)|0;l=((s=s+Math.imul(h,le)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul($,F),i=(i=Math.imul($,z))+Math.imul(M,F)|0,s=Math.imul(M,z),r=r+Math.imul(j,q)|0,i=(i=i+Math.imul(j,H)|0)+Math.imul(N,q)|0,s=s+Math.imul(N,H)|0,r=r+Math.imul(T,K)|0,i=(i=i+Math.imul(T,G)|0)+Math.imul(P,K)|0,s=s+Math.imul(P,G)|0,r=r+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(I,Y)|0,s=s+Math.imul(I,J)|0,r=r+Math.imul(k,X)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,ee)|0,r=r+Math.imul(v,ne)|0,i=(i=i+Math.imul(v,re)|0)+Math.imul(x,ne)|0,s=s+Math.imul(x,re)|0,r=r+Math.imul(y,se)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(w,se)|0,s=s+Math.imul(w,oe)|0,r=r+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(g,ce)|0,s=s+Math.imul(g,le)|0;var _e=(l+(r=r+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,he)|0)+Math.imul(h,de)|0))<<13)|0;l=((s=s+Math.imul(h,he)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(B,F),i=(i=Math.imul(B,z))+Math.imul(U,F)|0,s=Math.imul(U,z),r=r+Math.imul($,q)|0,i=(i=i+Math.imul($,H)|0)+Math.imul(M,q)|0,s=s+Math.imul(M,H)|0,r=r+Math.imul(j,K)|0,i=(i=i+Math.imul(j,G)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,G)|0,r=r+Math.imul(T,Y)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(P,Y)|0,s=s+Math.imul(P,J)|0,r=r+Math.imul(S,X)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(I,X)|0,s=s+Math.imul(I,ee)|0,r=r+Math.imul(k,ne)|0,i=(i=i+Math.imul(k,re)|0)+Math.imul(_,ne)|0,s=s+Math.imul(_,re)|0,r=r+Math.imul(v,se)|0,i=(i=i+Math.imul(v,oe)|0)+Math.imul(x,se)|0,s=s+Math.imul(x,oe)|0,r=r+Math.imul(y,ce)|0,i=(i=i+Math.imul(y,le)|0)+Math.imul(w,ce)|0,s=s+Math.imul(w,le)|0,r=r+Math.imul(p,de)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(g,de)|0,s=s+Math.imul(g,he)|0;var Ce=(l+(r=r+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ge)|0)+Math.imul(h,pe)|0))<<13)|0;l=((s=s+Math.imul(h,ge)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(B,q),i=(i=Math.imul(B,H))+Math.imul(U,q)|0,s=Math.imul(U,H),r=r+Math.imul($,K)|0,i=(i=i+Math.imul($,G)|0)+Math.imul(M,K)|0,s=s+Math.imul(M,G)|0,r=r+Math.imul(j,Y)|0,i=(i=i+Math.imul(j,J)|0)+Math.imul(N,Y)|0,s=s+Math.imul(N,J)|0,r=r+Math.imul(T,X)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(P,X)|0,s=s+Math.imul(P,ee)|0,r=r+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,re)|0)+Math.imul(I,ne)|0,s=s+Math.imul(I,re)|0,r=r+Math.imul(k,se)|0,i=(i=i+Math.imul(k,oe)|0)+Math.imul(_,se)|0,s=s+Math.imul(_,oe)|0,r=r+Math.imul(v,ce)|0,i=(i=i+Math.imul(v,le)|0)+Math.imul(x,ce)|0,s=s+Math.imul(x,le)|0,r=r+Math.imul(y,de)|0,i=(i=i+Math.imul(y,he)|0)+Math.imul(w,de)|0,s=s+Math.imul(w,he)|0;var Se=(l+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;l=((s=s+Math.imul(g,ge)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(B,K),i=(i=Math.imul(B,G))+Math.imul(U,K)|0,s=Math.imul(U,G),r=r+Math.imul($,Y)|0,i=(i=i+Math.imul($,J)|0)+Math.imul(M,Y)|0,s=s+Math.imul(M,J)|0,r=r+Math.imul(j,X)|0,i=(i=i+Math.imul(j,ee)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,ee)|0,r=r+Math.imul(T,ne)|0,i=(i=i+Math.imul(T,re)|0)+Math.imul(P,ne)|0,s=s+Math.imul(P,re)|0,r=r+Math.imul(S,se)|0,i=(i=i+Math.imul(S,oe)|0)+Math.imul(I,se)|0,s=s+Math.imul(I,oe)|0,r=r+Math.imul(k,ce)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(_,ce)|0,s=s+Math.imul(_,le)|0,r=r+Math.imul(v,de)|0,i=(i=i+Math.imul(v,he)|0)+Math.imul(x,de)|0,s=s+Math.imul(x,he)|0;var Ie=(l+(r=r+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,ge)|0)+Math.imul(w,pe)|0))<<13)|0;l=((s=s+Math.imul(w,ge)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(B,Y),i=(i=Math.imul(B,J))+Math.imul(U,Y)|0,s=Math.imul(U,J),r=r+Math.imul($,X)|0,i=(i=i+Math.imul($,ee)|0)+Math.imul(M,X)|0,s=s+Math.imul(M,ee)|0,r=r+Math.imul(j,ne)|0,i=(i=i+Math.imul(j,re)|0)+Math.imul(N,ne)|0,s=s+Math.imul(N,re)|0,r=r+Math.imul(T,se)|0,i=(i=i+Math.imul(T,oe)|0)+Math.imul(P,se)|0,s=s+Math.imul(P,oe)|0,r=r+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,le)|0)+Math.imul(I,ce)|0,s=s+Math.imul(I,le)|0,r=r+Math.imul(k,de)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(_,de)|0,s=s+Math.imul(_,he)|0;var Ae=(l+(r=r+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ge)|0)+Math.imul(x,pe)|0))<<13)|0;l=((s=s+Math.imul(x,ge)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(B,X),i=(i=Math.imul(B,ee))+Math.imul(U,X)|0,s=Math.imul(U,ee),r=r+Math.imul($,ne)|0,i=(i=i+Math.imul($,re)|0)+Math.imul(M,ne)|0,s=s+Math.imul(M,re)|0,r=r+Math.imul(j,se)|0,i=(i=i+Math.imul(j,oe)|0)+Math.imul(N,se)|0,s=s+Math.imul(N,oe)|0,r=r+Math.imul(T,ce)|0,i=(i=i+Math.imul(T,le)|0)+Math.imul(P,ce)|0,s=s+Math.imul(P,le)|0,r=r+Math.imul(S,de)|0,i=(i=i+Math.imul(S,he)|0)+Math.imul(I,de)|0,s=s+Math.imul(I,he)|0;var Te=(l+(r=r+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ge)|0)+Math.imul(_,pe)|0))<<13)|0;l=((s=s+Math.imul(_,ge)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(B,ne),i=(i=Math.imul(B,re))+Math.imul(U,ne)|0,s=Math.imul(U,re),r=r+Math.imul($,se)|0,i=(i=i+Math.imul($,oe)|0)+Math.imul(M,se)|0,s=s+Math.imul(M,oe)|0,r=r+Math.imul(j,ce)|0,i=(i=i+Math.imul(j,le)|0)+Math.imul(N,ce)|0,s=s+Math.imul(N,le)|0,r=r+Math.imul(T,de)|0,i=(i=i+Math.imul(T,he)|0)+Math.imul(P,de)|0,s=s+Math.imul(P,he)|0;var Pe=(l+(r=r+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ge)|0)+Math.imul(I,pe)|0))<<13)|0;l=((s=s+Math.imul(I,ge)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(B,se),i=(i=Math.imul(B,oe))+Math.imul(U,se)|0,s=Math.imul(U,oe),r=r+Math.imul($,ce)|0,i=(i=i+Math.imul($,le)|0)+Math.imul(M,ce)|0,s=s+Math.imul(M,le)|0,r=r+Math.imul(j,de)|0,i=(i=i+Math.imul(j,he)|0)+Math.imul(N,de)|0,s=s+Math.imul(N,he)|0;var Oe=(l+(r=r+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,ge)|0)+Math.imul(P,pe)|0))<<13)|0;l=((s=s+Math.imul(P,ge)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(B,ce),i=(i=Math.imul(B,le))+Math.imul(U,ce)|0,s=Math.imul(U,le),r=r+Math.imul($,de)|0,i=(i=i+Math.imul($,he)|0)+Math.imul(M,de)|0,s=s+Math.imul(M,he)|0;var je=(l+(r=r+Math.imul(j,pe)|0)|0)+((8191&(i=(i=i+Math.imul(j,ge)|0)+Math.imul(N,pe)|0))<<13)|0;l=((s=s+Math.imul(N,ge)|0)+(i>>>13)|0)+(je>>>26)|0,je&=67108863,r=Math.imul(B,de),i=(i=Math.imul(B,he))+Math.imul(U,de)|0,s=Math.imul(U,he);var Ne=(l+(r=r+Math.imul($,pe)|0)|0)+((8191&(i=(i=i+Math.imul($,ge)|0)+Math.imul(M,pe)|0))<<13)|0;l=((s=s+Math.imul(M,ge)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863;var Re=(l+(r=Math.imul(B,pe))|0)+((8191&(i=(i=Math.imul(B,ge))+Math.imul(U,pe)|0))<<13)|0;return l=((s=Math.imul(U,ge))+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,c[0]=me,c[1]=ye,c[2]=we,c[3]=be,c[4]=ve,c[5]=xe,c[6]=Ee,c[7]=ke,c[8]=_e,c[9]=Ce,c[10]=Se,c[11]=Ie,c[12]=Ae,c[13]=Te,c[14]=Pe,c[15]=Oe,c[16]=je,c[17]=Ne,c[18]=Re,0!==l&&(c[19]=l,n.length++),n};function y(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,s=0;s<n.length-1;s++){var o=i;i=0;for(var a=67108863&r,c=Math.min(s,t.length-1),l=Math.max(0,s-e.length+1);l<=c;l++){var u=s-l,d=(0|e.words[u])*(0|t.words[l]),h=67108863&d;a=67108863&(h=h+a|0),i+=(o=(o=o+(d/67108864|0)|0)+(h>>>26)|0)>>>26,o&=67108863}n.words[s]=a,r=o,o=i}return 0!==r?n.words[s]=r:n.length--,n._strip()}function w(e,t,n){return y(e,t,n)}function b(e,t){this.x=e,this.y=t}Math.imul||(m=g),s.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?m(this,e,t):n<63?g(this,e,t):n<1024?y(this,e,t):w(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),n=s.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},b.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},b.prototype.permute=function(e,t,n,r,i,s){for(var o=0;o<s;o++)r[o]=t[e[o]],i[o]=n[e[o]]},b.prototype.transform=function(e,t,n,r,i,s){this.permute(s,e,t,n,r,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,c=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),u=0;u<i;u+=a)for(var d=c,h=l,f=0;f<o;f++){var p=n[u+f],g=r[u+f],m=n[u+f+o],y=r[u+f+o],w=d*m-h*y;y=d*y+h*m,m=w,n[u+f]=p+m,r[u+f]=g+y,n[u+f+o]=p-m,r[u+f+o]=g-y,f!==a&&(w=c*d-l*h,h=c*h+l*d,d=w)}},b.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},b.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},b.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,n,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)n[o]=0;r(0===s),r(!(-8192&s))},b.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},b.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),s=this.stub(r),o=new Array(r),a=new Array(r),c=new Array(r),l=new Array(r),u=new Array(r),d=new Array(r),h=n.words;h.length=r,this.convert13b(e.words,e.length,o,r),this.convert13b(t.words,t.length,l,r),this.transform(o,s,a,c,r,i),this.transform(l,s,u,d,r,i);for(var f=0;f<r;f++){var p=a[f]*u[f]-c[f]*d[f];c[f]=a[f]*d[f]+c[f]*u[f],a[f]=p}return this.conjugate(a,c,r),this.transform(a,c,h,s,r,i),this.conjugate(h,s,r),this.normalize13b(h,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n._strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),w(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var s=(0|this.words[i])*e,o=(67108863&s)+(67108863&n);n>>=26,n+=s/67108864|0,n+=o>>>26,this.words[i]=67108863&o}return 0!==n&&(this.words[i]=n,this.length++),this.length=0===e?1:this.length,t?this.ineg():this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=e.words[r]>>>i&1}return t}(e);if(0===t.length)return new s(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},s.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,c=(0|this.words[t])-a<<n;this.words[t]=c|o,o=a>>>26-n}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},s.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,c=n;if(i-=o,i=Math.max(0,i),c){for(var l=0;l<o;l++)c.words[l]=this.words[l];c.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=i);l--){var d=0|this.words[l];this.words[l]=u<<26-s|d>>>s,u=d&a}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n||!(this.words[n]&i))},s.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,n){var i,s,o=e.length+n;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+n])+a;var c=(0|e.words[i])*t;a=((s-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)a=(s=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&s;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,o=0|i.words[i.length-1];0!=(n=26-this._countBits(o))&&(i=i.ushln(n),r.iushln(n),o=0|i.words[i.length-1]);var a,c=r.length-i.length;if("mod"!==t){(a=new s(null)).length=c+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var u=r.clone()._ishlnsubmul(i,1,c);0===u.negative&&(r=u,a&&(a.words[c]=1));for(var d=c-1;d>=0;d--){var h=67108864*(0|r.words[i.length+d])+(0|r.words[i.length+d-1]);for(h=Math.min(h/o|0,67108863),r._ishlnsubmul(i,h,d);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,d),r.isZero()||(r.negative^=1);a&&(a.words[d]=h)}return a&&a._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},s.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),s=n.cmp(r);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,s=this.length-1;s>=0;s--)i=(n*i+(0|this.words[s]))%e;return t?-i:i},s.prototype.modn=function(e){return this.modrn(e)},s.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*n;this.words[i]=s/e|0,n=s%e}return this._strip(),t?this.ineg():this},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),o=new s(0),a=new s(0),c=new s(1),l=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++l;for(var u=n.clone(),d=t.clone();!t.isZero();){for(var h=0,f=1;0===(t.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(u),o.isub(d)),i.iushrn(1),o.iushrn(1);for(var p=0,g=1;0===(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(u),c.isub(d)),a.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(a),o.isub(c)):(n.isub(t),a.isub(i),c.isub(o))}return{a,b:c,gcd:n.iushln(l)}},s.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new s(1),a=new s(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,u=1;0===(t.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(t.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);for(var d=0,h=1;0===(n.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(n.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(a)):(n.isub(t),a.isub(o))}return(i=0===t.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var s=t;t=n,n=s}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var s=i,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new S(e)},s.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function x(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){x.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function k(){x.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){x.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function C(){x.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"==typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function I(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},x.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},x.prototype.split=function(e,t){e.iushrn(this.n,0,t)},x.prototype.imulK=function(e){return e.imul(this.k)},i(E,x),E.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&n,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&n)<<4|s>>>22,s=o}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},E.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(k,x),i(_,x),i(C,x),C.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new E;else if("p224"===e)t=new k;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new C}return v[e]=t,t},S.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(u(e,e.umod(this.m)._forceRed(this)),e)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new s(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);r(!i.isZero());var a=new s(1).toRed(this),c=a.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var d=this.pow(u,i),h=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),p=o;0!==f.cmp(a);){for(var g=f,m=0;0!==g.cmp(a);m++)g=g.redSqr();r(m<p);var y=this.pow(d,new s(1).iushln(p-m-1));h=h.redMul(y),d=y.redSqr(),f=f.redMul(d),p=m}return h},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new s(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],o=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var l=t.words[r],u=c-1;u>=0;u--){var d=l>>u&1;i!==n[0]&&(i=this.sqr(i)),0!==d||0!==o?(o<<=1,o|=d,(4===++a||0===r&&0===u)&&(i=this.mul(i,n[o]),a=0,o=0)):a=0}c=26}return i},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new I(e)},i(I,S),I.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},I.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},I.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=n.nmd(e),this)},9436:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var r=n(638),i=n(7135);function s(e,t="wei"){return(0,i.J)(e,r.eL[t])}},9483:(e,t,n)=>{"use strict";n.d(t,{j:()=>u});var r=n(7372),i=n(8146),s=n(5182),o=n(9777),a=n(1965),c=n(5167);const l="/docs/contract/decodeEventLog";function u(e){const{abi:t,data:n,strict:u,topics:h}=e,f=u??!0,[p,...g]=h;if(!p)throw new r._z({docsPath:l});const m=t.find(e=>"event"===e.type&&p===(0,o.h)((0,c.B)(e)));if(!m||!("name"in m)||"event"!==m.type)throw new r.kE(p,{docsPath:l});const{name:y,inputs:w}=m,b=w?.some(e=>!("name"in e&&e.name)),v=b?[]:{},x=w.map((e,t)=>[e,t]).filter(([e])=>"indexed"in e&&e.indexed);for(let e=0;e<x.length;e++){const[t,n]=x[e],i=g[e];if(!i)throw new r.l3({abiItem:m,param:t});v[b?n:t.name||n]=d({param:t,value:i})}const E=w.filter(e=>!("indexed"in e&&e.indexed));if(E.length>0)if(n&&"0x"!==n)try{const e=(0,a.n)(E,n);if(e)if(b)for(let t=0;t<w.length;t++)v[t]=v[t]??e.shift();else for(let t=0;t<E.length;t++)v[E[t].name]=e[t]}catch(e){if(f){if(e instanceof r.Iy||e instanceof i.SK)throw new r.fo({abiItem:m,data:n,params:E,size:(0,s.E)(n)});throw e}}else if(f)throw new r.fo({abiItem:m,data:"0x",params:E,size:0});return{eventName:y,args:Object.values(v).length>0?v:void 0}}function d({param:e,value:t}){return"string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/)?t:((0,a.n)([e],t)||[])[0]}},9485:(e,t,n)=>{"use strict";const r=n(793);e.exports=d;const i=function(){function e(e){return void 0!==e&&e}try{return"undefined"!=typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{},s={mapHttpRequest:y,mapHttpResponse:y,wrapRequestSerializer:w,wrapResponseSerializer:w,wrapErrorSerializer:w,req:y,res:y,err:g,errWithCause:g};function o(e,t){return"silent"===e?1/0:t.levels.values[e]}const a=Symbol("pino.logFuncs"),c=Symbol("pino.hierarchy"),l={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function u(e,t){const n={logger:t,parent:e[c]};t[c]=n}function d(e){(e=e||{}).browser=e.browser||{};const t=e.browser.transmit;if(t&&"function"!=typeof t.send)throw Error("pino: transmit option must have a send function");const n=e.browser.write||i;e.browser.write&&(e.browser.asObject=!0);const r=e.serializers||{},s=function(e,t){return Array.isArray(e)?e.filter(function(e){return"!stdSerializers.err"!==e}):!0===e&&Object.keys(t)}(e.browser.serialize,r);let c=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(c=!1);const g=Object.keys(e.customLevels||{}),y=["error","fatal","warn","info","debug","trace"].concat(g);"function"==typeof n&&y.forEach(function(e){n[e]=n}),(!1===e.enabled||e.browser.disabled)&&(e.level="silent");const w=e.level||"info",v=Object.create(n);v.log||(v.log=b),function(e,t,n){const r={};t.forEach(e=>{r[e]=n[e]?n[e]:i[e]||i[l[e]||"log"]||b}),e[a]=r}(v,y,n),u({},v),Object.defineProperty(v,"levelVal",{get:function(){return o(this.level,this)}}),Object.defineProperty(v,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,h(this,x,v,"error"),h(this,x,v,"fatal"),h(this,x,v,"warn"),h(this,x,v,"info"),h(this,x,v,"debug"),h(this,x,v,"trace"),g.forEach(e=>{h(this,x,v,e)})}});const x={transmit:t,serialize:s,asObject:e.browser.asObject,asObjectBindingsOnly:e.browser.asObjectBindingsOnly,formatters:e.browser.formatters,levels:y,timestamp:m(e),messageKey:e.messageKey||"msg",onChild:e.onChild||b};function E(n,i,o){if(!i)throw new Error("missing bindings for child Pino");o=o||{},s&&i.serializers&&(o.serializers=i.serializers);const a=o.serializers;if(s&&a){var c=Object.assign({},r,a),l=!0===e.browser.serialize?Object.keys(c):s;delete i.serializers,f([i],l,c,this._stdErrSerialize)}function d(e){this._childLevel=1+(0|e._childLevel),this.bindings=i,c&&(this.serializers=c,this._serialize=l),t&&(this._logEvent=p([].concat(e._logEvent.bindings,i)))}d.prototype=this;const h=new d(this);return u(this,h),h.child=function(...e){return E.call(this,n,...e)},h.level=o.level||this.level,n.onChild(h),h}return v.levels=function(e){const t=e.customLevels||{};return{values:Object.assign({},d.levels.values,t),labels:Object.assign({},d.levels.labels,function(e){const t={};return Object.keys(e).forEach(function(n){t[e[n]]=n}),t}(t))}}(e),v.level=w,v.isLevelEnabled=function(e){return!!this.levels.values[e]&&this.levels.values[e]>=this.levels.values[this.level]},v.setMaxListeners=v.getMaxListeners=v.emit=v.addListener=v.on=v.prependListener=v.once=v.prependOnceListener=v.removeListener=v.removeAllListeners=v.listeners=v.listenerCount=v.eventNames=v.write=v.flush=b,v.serializers=r,v._serialize=s,v._stdErrSerialize=c,v.child=function(...e){return E.call(this,x,...e)},t&&(v._logEvent=p()),v}function h(e,t,n,s){if(Object.defineProperty(e,s,{value:o(e.level,n)>o(s,n)?b:n[a][s],writable:!0,enumerable:!0,configurable:!0}),e[s]===b){if(!t.transmit)return;const r=o(t.transmit.level||e.level,n);if(o(s,n)<r)return}e[s]=function(e,t,n,s){return c=e[a][s],function(){const a=t.timestamp(),l=new Array(arguments.length),u=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var d=0;d<l.length;d++)l[d]=arguments[d];var h=!1;if(t.serialize&&(f(l,this._serialize,this.serializers,this._stdErrSerialize),h=!0),t.asObject||t.formatters?c.call(u,...function(e,t,n,i,s){const{level:o,log:a=e=>e}=s.formatters||{},c=n.slice();let l=c[0];const u={};let d=1+(0|e._childLevel);if(d<1&&(d=1),i&&(u.time=i),o){const n=o(t,e.levels.values[t]);Object.assign(u,n)}else u.level=e.levels.values[t];if(s.asObjectBindingsOnly){if(null!==l&&"object"==typeof l)for(;d--&&"object"==typeof c[0];)Object.assign(u,c.shift());return[a(u),...c]}if(null!==l&&"object"==typeof l){for(;d--&&"object"==typeof c[0];)Object.assign(u,c.shift());l=c.length?r(c.shift(),c):void 0}else"string"==typeof l&&(l=r(c.shift(),c));return void 0!==l&&(u[s.messageKey]=l),[a(u)]}(this,s,l,a,t)):c.apply(u,l),t.transmit){const r=t.transmit.level||e._level,i=o(r,n),c=o(s,n);if(c<i)return;!function(e,t,n,r=!1){const i=t.send,s=t.ts,o=t.methodLevel,a=t.methodValue,c=t.val,l=e._logEvent.bindings;r||f(n,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=s,e._logEvent.messages=n.filter(function(e){return-1===l.indexOf(e)}),e._logEvent.level.label=o,e._logEvent.level.value=a,i(o,e._logEvent,c),e._logEvent=p(l)}(this,{ts:a,methodLevel:s,methodValue:c,transmitLevel:r,transmitValue:n.levels.values[t.transmit.level||e._level],send:t.transmit.send,val:o(e._level,n)},l,h)}};var c}(e,t,n,s);const l=function(e){const t=[];e.bindings&&t.push(e.bindings);let n=e[c];for(;n.parent;)n=n.parent,n.logger.bindings&&t.push(n.logger.bindings);return t.reverse()}(e);0!==l.length&&(e[s]=function(e,t){return function(){return t.apply(this,[...e,...arguments])}}(l,e[s]))}function f(e,t,n,r){for(const i in e)if(r&&e[i]instanceof Error)e[i]=d.stdSerializers.err(e[i]);else if("object"==typeof e[i]&&!Array.isArray(e[i])&&t)for(const r in e[i])t.indexOf(r)>-1&&r in n&&(e[i][r]=n[r](e[i][r]))}function p(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function g(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const n in e)void 0===t[n]&&(t[n]=e[n]);return t}function m(e){return"function"==typeof e.timestamp?e.timestamp:!1===e.timestamp?v:x}function y(){return{}}function w(e){return e}function b(){}function v(){return!1}function x(){return Date.now()}d.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},d.stdSerializers=s,d.stdTimeFunctions=Object.assign({},{nullTime:v,epochTime:x,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}}),e.exports.default=d,e.exports.pino=d},9497:(e,t,n)=>{"use strict";n.d(t,{s:()=>o});var r=n(8990),i=n(7610),s=n(4192);async function o(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:o}){const a=await e.request({method:"eth_sendRawTransactionSync",params:o?[t,(0,s.cK)(o)]:[t]},{retryCount:0}),c=(e.chain?.formatters?.transactionReceipt?.format||i.uL)(a);if("reverted"===c.status&&n)throw new r.Sq({receipt:c});return c}},9502:function(e,t,n){var r;!function(i,s){"use strict";var o="function",a="undefined",c="object",l="string",u="major",d="model",h="name",f="type",p="vendor",g="version",m="architecture",y="console",w="mobile",b="tablet",v="smarttv",x="wearable",E="embedded",k="Amazon",_="Apple",C="ASUS",S="BlackBerry",I="Browser",A="Chrome",T="Firefox",P="Google",O="Honor",j="Huawei",N="LG",R="Microsoft",$="Motorola",M="Nvidia",L="OnePlus",B="Opera",U="OPPO",D="Samsung",F="Sharp",z="Sony",W="Xiaomi",q="Zebra",H="Facebook",V="Chromium OS",K="Mac OS",G=" Browser",Z=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},Y=function(e,t){return typeof e===l&&-1!==J(t).indexOf(J(e))},J=function(e){return e.toLowerCase()},Q=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,500)},X=function(e,t){for(var n,r,i,a,l,u,d=0;d<t.length&&!l;){var h=t[d],f=t[d+1];for(n=r=0;n<h.length&&!l&&h[n];)if(l=h[n++].exec(e))for(i=0;i<f.length;i++)u=l[++r],typeof(a=f[i])===c&&a.length>0?2===a.length?typeof a[1]==o?this[a[0]]=a[1].call(this,u):this[a[0]]=a[1]:3===a.length?typeof a[1]!==o||a[1].exec&&a[1].test?this[a[0]]=u?u.replace(a[1],a[2]):s:this[a[0]]=u?a[1].call(this,u,a[2]):s:4===a.length&&(this[a[0]]=u?a[3].call(this,u.replace(a[1],a[2])):s):this[a]=u||s;d+=2}},ee=function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(Y(t[n][r],e))return"?"===n?s:n}else if(Y(t[n],e))return"?"===n?s:n;return t.hasOwnProperty("*")?t["*"]:e},te={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ne={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,g],[/opios[\/ ]+([\w\.]+)/i],[g,[h,B+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[g,[h,B+" GX"]],[/\bopr\/([\w\.]+)/i],[g,[h,B]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[g,[h,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[g,[h,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,g],[/quark(?:pc)?\/([-\w\.]+)/i],[g,[h,"Quark"]],[/\bddg\/([\w\.]+)/i],[g,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[h,"UC"+I]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[g,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[g,[h,"Smart Lenovo "+I]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+I],g],[/\bfocus\/([\w\.]+)/i],[g,[h,T+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[h,B+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[h,B+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[h,"MIUI"+G]],[/fxios\/([\w\.-]+)/i],[g,[h,T]],[/\bqihoobrowser\/?([\w\.]*)/i],[g,[h,"360"]],[/\b(qq)\/([\w\.]+)/i],[[h,/(.+)/,"$1Browser"],g],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1"+G],g],[/samsungbrowser\/([\w\.]+)/i],[g,[h,D+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[g,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[h,g],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[h],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[g,h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,H],g],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[h,A+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,A+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[h,"Android "+I]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[g,ee,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],g],[/(wolvic|librewolf)\/([\w\.]+)/i],[h,g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[h,T+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[h,[g,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[h,[g,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[m,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[m,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[m,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[m,/ower/,"",J]],[/ sun4\w[;\)]/i],[[m,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[m,J]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[p,D],[f,b]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[d,[p,D],[f,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[p,_],[f,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[p,_],[f,b]],[/(macintosh);/i],[d,[p,_]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[p,F],[f,w]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[d,[p,O],[f,b]],[/honor([-\w ]+)[;\)]/i],[d,[p,O],[f,w]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[d,[p,j],[f,b]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[p,j],[f,w]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[d,/_/g," "],[p,W],[f,b]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[d,/_/g," "],[p,W],[f,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[p,U],[f,w]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[d,[p,ee,{OnePlus:["304","403","203"],"*":U}],[f,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[p,"Vivo"],[f,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[p,"Realme"],[f,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[p,$],[f,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[p,$],[f,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[p,N],[f,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[p,N],[f,w]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[d,[p,"Lenovo"],[f,b]],[/(nokia) (t[12][01])/i],[p,d,[f,b]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[d,/_/g," "],[f,w],[p,"Nokia"]],[/(pixel (c|tablet))\b/i],[d,[p,P],[f,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[p,P],[f,w]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[p,z],[f,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[p,z],[f,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[p,L],[f,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[p,k],[f,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[p,k],[f,w]],[/(playbook);[-\w\),; ]+(rim)/i],[d,p,[f,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[p,S],[f,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[p,C],[f,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[p,C],[f,w]],[/(nexus 9)/i],[d,[p,"HTC"],[f,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[d,/_/g," "],[f,w]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[d,[p,"TCL"],[f,b]],[/(itel) ((\w+))/i],[[p,J],d,[f,ee,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[p,"Acer"],[f,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[p,"Meizu"],[f,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[p,"Ulefone"],[f,w]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[d,[p,"Energizer"],[f,w]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[d,[p,"Cat"],[f,w]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[d,[p,"Smartfren"],[f,w]],[/droid.+; (a(?:015|06[35]|142p?))/i],[d,[p,"Nothing"],[f,w]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[d,[p,"Archos"],[f,b]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[d,[p,"Archos"],[f,w]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[p,d,[f,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[p,d,[f,w]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,d,[f,b]],[/(surface duo)/i],[d,[p,R],[f,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[p,"Fairphone"],[f,w]],[/(u304aa)/i],[d,[p,"AT&T"],[f,w]],[/\bsie-(\w*)/i],[d,[p,"Siemens"],[f,w]],[/\b(rct\w+) b/i],[d,[p,"RCA"],[f,b]],[/\b(venue[\d ]{2,7}) b/i],[d,[p,"Dell"],[f,b]],[/\b(q(?:mv|ta)\w+) b/i],[d,[p,"Verizon"],[f,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[p,"Barnes & Noble"],[f,b]],[/\b(tm\d{3}\w+) b/i],[d,[p,"NuVision"],[f,b]],[/\b(k88) b/i],[d,[p,"ZTE"],[f,b]],[/\b(nx\d{3}j) b/i],[d,[p,"ZTE"],[f,w]],[/\b(gen\d{3}) b.+49h/i],[d,[p,"Swiss"],[f,w]],[/\b(zur\d{3}) b/i],[d,[p,"Swiss"],[f,b]],[/\b((zeki)?tb.*\b) b/i],[d,[p,"Zeki"],[f,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],d,[f,b]],[/\b(ns-?\w{0,9}) b/i],[d,[p,"Insignia"],[f,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[p,"NextBook"],[f,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],d,[f,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],d,[f,w]],[/\b(ph-1) /i],[d,[p,"Essential"],[f,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[p,"Envizen"],[f,b]],[/\b(trio[-\w\. ]+) b/i],[d,[p,"MachSpeed"],[f,b]],[/\btu_(1491) b/i],[d,[p,"Rotor"],[f,b]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[d,[p,M],[f,b]],[/(sprint) (\w+)/i],[p,d,[f,w]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[p,R],[f,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[p,q],[f,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[p,q],[f,w]],[/smart-tv.+(samsung)/i],[p,[f,v]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[p,D],[f,v]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,N],[f,v]],[/(apple) ?tv/i],[p,[d,_+" TV"],[f,v]],[/crkey/i],[[d,A+"cast"],[p,P],[f,v]],[/droid.+aft(\w+)( bui|\))/i],[d,[p,k],[f,v]],[/(shield \w+ tv)/i],[d,[p,M],[f,v]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[p,F],[f,v]],[/(bravia[\w ]+)( bui|\))/i],[d,[p,z],[f,v]],[/(mi(tv|box)-?\w+) bui/i],[d,[p,W],[f,v]],[/Hbbtv.*(technisat) (.*);/i],[p,d,[f,v]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,Q],[d,Q],[f,v]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[d,[f,v]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,v]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,d,[f,y]],[/droid.+; (shield)( bui|\))/i],[d,[p,M],[f,y]],[/(playstation \w+)/i],[d,[p,z],[f,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[p,R],[f,y]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[d,[p,D],[f,x]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[p,d,[f,x]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[d,[p,U],[f,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[p,_],[f,x]],[/(opwwe\d{3})/i],[d,[p,L],[f,x]],[/(moto 360)/i],[d,[p,$],[f,x]],[/(smartwatch 3)/i],[d,[p,z],[f,x]],[/(g watch r)/i],[d,[p,N],[f,x]],[/droid.+; (wt63?0{2,3})\)/i],[d,[p,q],[f,x]],[/droid.+; (glass) \d/i],[d,[p,P],[f,x]],[/(pico) (4|neo3(?: link|pro)?)/i],[p,d,[f,x]],[/; (quest( \d| pro)?)/i],[d,[p,H],[f,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[f,E]],[/(aeobc)\b/i],[d,[p,k],[f,E]],[/(homepod).+mac os/i],[d,[p,_],[f,E]],[/windows iot/i],[[f,E]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[f,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[f,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,w]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[d,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[h,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[h,g],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,g],[/ladybird\//i],[[h,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,g],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[h,[g,ee,te]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,ee,te],[h,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,K],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,h],[/(ubuntu) ([\w\.]+) like android/i],[[h,/(.+)/,"$1 Touch"],g],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[h,g],[/\(bb(10);/i],[g,[h,S]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[g,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[h,T+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[h,A+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,V],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,g],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,g]]},re=function(e,t){if(typeof e===c&&(t=e,e=s),!(this instanceof re))return new re(e,t).getResult();var n=typeof i!==a&&i.navigator?i.navigator:s,r=e||(n&&n.userAgent?n.userAgent:""),y=n&&n.userAgentData?n.userAgentData:s,v=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(ne,t):ne,x=n&&n.userAgent==r;return this.getBrowser=function(){var e,t={};return t[h]=s,t[g]=s,X.call(t,r,v.browser),t[u]=typeof(e=t[g])===l?e.replace(/[^\d\.]/g,"").split(".")[0]:s,x&&n&&n.brave&&typeof n.brave.isBrave==o&&(t[h]="Brave"),t},this.getCPU=function(){var e={};return e[m]=s,X.call(e,r,v.cpu),e},this.getDevice=function(){var e={};return e[p]=s,e[d]=s,e[f]=s,X.call(e,r,v.device),x&&!e[f]&&y&&y.mobile&&(e[f]=w),x&&"Macintosh"==e[d]&&n&&typeof n.standalone!==a&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[d]="iPad",e[f]=b),e},this.getEngine=function(){var e={};return e[h]=s,e[g]=s,X.call(e,r,v.engine),e},this.getOS=function(){var e={};return e[h]=s,e[g]=s,X.call(e,r,v.os),x&&!e[h]&&y&&y.platform&&"Unknown"!=y.platform&&(e[h]=y.platform.replace(/chrome os/i,V).replace(/macos/i,K)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===l&&e.length>500?Q(e,500):e,this},this.setUA(r),this};re.VERSION="1.0.41",re.BROWSER=Z([h,g,u]),re.CPU=Z([m]),re.DEVICE=Z([d,p,f,y,w,v,b,x,E]),re.ENGINE=re.OS=Z([h,g]),typeof t!==a?(e.exports&&(t=e.exports=re),t.UAParser=re):n.amdO?(r=function(){return re}.call(t,n,t,e))===s||(e.exports=r):typeof i!==a&&(i.UAParser=re);var ie=typeof i!==a&&(i.jQuery||i.Zepto);if(ie&&!ie.ua){var se=new re;ie.ua=se.getResult(),ie.ua.get=function(){return se.getUA()},ie.ua.set=function(e){se.setUA(e);var t=se.getResult();for(var n in t)ie.ua[n]=t[n]}}}("object"==typeof window?window:this)},9516:(e,t,n)=>{"use strict";n.d(t,{Dg:()=>w,Ej:()=>y,Fl:()=>S,HT:()=>l,Ho:()=>p,M7:()=>g,Ro:()=>b,Ty:()=>x,di:()=>m,ii:()=>C,oB:()=>h,sH:()=>f,tf:()=>v,u:()=>_,uK:()=>d,xW:()=>c,xb:()=>u});var r=n(1630),i=n(8298),s=n(1295);const o=new TextEncoder,a=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function c(...e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}function l(e){return e instanceof Uint8Array?d(e):Array.isArray(e)?d(new Uint8Array(e)):e}function u(e,t={}){const n=`0x${Number(e)}`;return"number"==typeof t.size?(i.Sl(n,t.size),p(n,t.size)):n}function d(e,t={}){let n="";for(let t=0;t<e.length;t++)n+=a[e[t]];const r=`0x${n}`;return"number"==typeof t.size?(i.Sl(r,t.size),g(r,t.size)):r}function h(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let s;r?s=n?(1n<<8n*BigInt(r)-1n)-1n:2n**(8n*BigInt(r))-1n:"number"==typeof e&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o="bigint"==typeof s&&n?-s-1n:0;if(s&&i>s||i<o){const t="bigint"==typeof e?"n":"";throw new x({max:s?`${s}${t}`:void 0,min:`${o}${t}`,signed:n,size:r,value:`${e}${t}`})}const a=`0x${(n&&i<0?(1n<<BigInt(8*r))+BigInt(i):i).toString(16)}`;return r?p(a,r):a}function f(e,t={}){return d(o.encode(e),t)}function p(e,t){return i.eV(e,{dir:"left",size:t})}function g(e,t){return i.eV(e,{dir:"right",size:t})}function m(e,t,n,r={}){const{strict:s}=r;i.kK(e,t);const o=`0x${e.replace("0x","").slice(2*(t??0),2*(n??e.length))}`;return s&&i.X(o,t,n),o}function y(e){return Math.ceil((e.length-2)/2)}function w(e,t={}){const{signed:n}=t;t.size&&i.Sl(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<8n*BigInt(s))-1n;return r<=o>>1n?r:r-o-1n}function b(e,t={}){const{signed:n,size:r}=t;return Number(n||r?w(e,t):e)}function v(e,t={}){const{strict:n=!1}=t;try{return function(e,t={}){const{strict:n=!1}=t;if(!e)throw new E(e);if("string"!=typeof e)throw new E(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new k(e);if(!e.startsWith("0x"))throw new k(e)}(e,{strict:n}),!0}catch{return!1}}class x extends r.C{constructor({max:e,min:t,signed:n,size:r,value:i}){super(`Number \`${i}\` is not in safe${r?` ${8*r}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}r.C;class E extends r.C{constructor(e){super(`Value \`${"object"==typeof e?s.A(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class k extends r.C{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}r.C;class _ extends r.C{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class C extends r.C{constructor({offset:e,position:t,size:n}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class S extends r.C{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}},9571:(e,t,n)=>{"use strict";n.d(t,{Dv:()=>_,FO:()=>g,If:()=>x,Ji:()=>d,Rv:()=>c,WL:()=>p,Yo:()=>w,ej:()=>h,fC:()=>C,iB:()=>l,kz:()=>o,l9:()=>y,pc:()=>s,sP:()=>k,v7:()=>S,v8:()=>v});var r=n(9655);const i=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function s(e){return i.test(e)}function o(e){return(0,r.Yv)(i,e)}const a=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function c(e){return a.test(e)}function l(e){return(0,r.Yv)(a,e)}const u=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function d(e){return u.test(e)}function h(e){return(0,r.Yv)(u,e)}const f=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function p(e){return f.test(e)}function g(e){return(0,r.Yv)(f,e)}const m=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function y(e){return m.test(e)}function w(e){return(0,r.Yv)(m,e)}const b=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function v(e){return b.test(e)}function x(e){return(0,r.Yv)(b,e)}const E=/^receive\(\) external payable$/;function k(e){return E.test(e)}const _=new Set(["memory","indexed","storage","calldata"]),C=new Set(["indexed"]),S=new Set(["calldata","memory","storage"])},9606:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(584);r.__exportStar(n(2985),t),r.__exportStar(n(221),t)},9611:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketTransport=void 0;const i=r(n(1591)),s=globalThis.WebSocket||i.default;t.WebSocketTransport=class{constructor(e){this.events=e}send(e){e instanceof ArrayBuffer?this.ws.send(e):Array.isArray(e)&&this.ws.send(new Uint8Array(e).buffer)}connect(e,t){try{this.ws=new s(e,{headers:t,protocols:this.protocols})}catch(t){this.ws=new s(e,this.protocols)}this.ws.binaryType="arraybuffer",this.ws.onopen=this.events.onopen,this.ws.onmessage=this.events.onmessage,this.ws.onclose=this.events.onclose,this.ws.onerror=this.events.onerror}close(e,t){this.ws.close(e,t)}get isOpen(){return this.ws.readyState===s.OPEN}}},9655:(e,t,n)=>{"use strict";function r(e,t){const n=e.exec(t);return n?.groups}n.d(t,{BD:()=>i,Ge:()=>s,Yv:()=>r,wj:()=>o});const i=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,s=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,o=/^\(.+?\).*?$/},9670:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});var r=n(638),i=n(7135);function s(e,t="wei"){return(0,i.J)(e,r.sz[t])}},9698:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},9726:(e,t,n)=>{"use strict";n.d(t,{lB:()=>o});const r=new Map,i=new Map;let s=0;function o(e,t,n){const o=++s,a=()=>r.get(e)||[],c=()=>{const t=a();if(!t.some(e=>e.id===o))return;const n=i.get(e);if(1===t.length&&n){const e=n();e instanceof Promise&&e.catch(()=>{})}(()=>{const t=a();r.set(e,t.filter(e=>e.id!==o))})()},l=a();if(r.set(e,[...l,{id:o,fns:t}]),l&&l.length>0)return c;const u={};for(const e in t)u[e]=(...t)=>{const n=a();if(0!==n.length)for(const r of n)r.fns[e]?.(...t)};const d=n(u);return"function"==typeof d&&i.set(e,d),c}},9774:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let n=0;n<e.length;n++){const r=e.charAt(n),i=r.charCodeAt(0);if(255!==t[i])throw new TypeError(r+" is ambiguous");t[i]=n}const n=e.length,r=e.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;let s=0,o=0,a=0;for(;e[s]===r;)o++,s++;const c=(e.length-s)*i+1>>>0,l=new Uint8Array(c);for(;s<e.length;){const r=e.charCodeAt(s);if(r>255)return;let i=t[r];if(255===i)return;let o=0;for(let e=c-1;(0!==i||o<a)&&-1!==e;e--,o++)i+=n*l[e]>>>0,l[e]=i%256>>>0,i=i/256>>>0;if(0!==i)throw new Error("Non-zero carry");a=o,s++}let u=c-a;for(;u!==c&&0===l[u];)u++;const d=new Uint8Array(o+(c-u));let h=o;for(;u!==c;)d[h++]=l[u++];return d}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";let i=0,o=0,a=0;const c=t.length;for(;a!==c&&0===t[a];)a++,i++;const l=(c-a)*s+1>>>0,u=new Uint8Array(l);for(;a!==c;){let e=t[a],r=0;for(let t=l-1;(0!==e||r<o)&&-1!==t;t--,r++)e+=256*u[t]>>>0,u[t]=e%n>>>0,e=e/n>>>0;if(0!==e)throw new Error("Non-zero carry");o=r,a++}let d=l-o;for(;d!==l&&0===u[d];)d++;let h=r.repeat(i);for(;d<l;++d)h+=e.charAt(u[d]);return h},decodeUnsafe:o,decode:function(e){const t=o(e);if(t)return t;throw new Error("Non-base"+n+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},9777:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});const r=n(1569).k},9784:(e,t,n)=>{"use strict";function r(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function i(e){return r(e)&&"method"in e}function s(e){return r(e)&&(o(e)||a(e))}function o(e){return"result"in e}function a(e){return"error"in e}n.d(t,{U$:()=>a,p3:()=>i,tq:()=>s,xT:()=>o})},9789:(e,t,n)=>{"use strict";function r(e,{format:t}){if(!t)return{};const n={};return function t(r){const i=Object.keys(r);for(const s of i)s in e&&(n[s]=e[s]),r[s]&&"object"==typeof r[s]&&!Array.isArray(r[s])&&t(r[s])}(t(e||{})),n}n.d(t,{o:()=>r})},9798:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(6675);async function i(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return(0,r.ME)(t)}},9801:(e,t,n)=>{const r=n(208),i=n(4357),s=n(1433),o=n(5822),a=n(4861),c=n(7044),l=n(6886),u=n(6320);function d(e){return unescape(encodeURIComponent(e)).length}function h(e,t,n){const r=[];let i;for(;null!==(i=e.exec(n));)r.push({data:i[0],index:i.index,mode:t,length:i[0].length});return r}function f(e){const t=h(c.NUMERIC,r.NUMERIC,e),n=h(c.ALPHANUMERIC,r.ALPHANUMERIC,e);let i,s;return l.isKanjiModeEnabled()?(i=h(c.BYTE,r.BYTE,e),s=h(c.KANJI,r.KANJI,e)):(i=h(c.BYTE_KANJI,r.BYTE,e),s=[]),t.concat(n,i,s).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function p(e,t){switch(t){case r.NUMERIC:return i.getBitsLength(e);case r.ALPHANUMERIC:return s.getBitsLength(e);case r.KANJI:return a.getBitsLength(e);case r.BYTE:return o.getBitsLength(e)}}function g(e,t){let n;const c=r.getBestModeForData(e);if(n=r.from(t,c),n!==r.BYTE&&n.bit<c.bit)throw new Error('"'+e+'" cannot be encoded with mode '+r.toString(n)+".\n Suggested mode is: "+r.toString(c));switch(n!==r.KANJI||l.isKanjiModeEnabled()||(n=r.BYTE),n){case r.NUMERIC:return new i(e);case r.ALPHANUMERIC:return new s(e);case r.KANJI:return new a(e);case r.BYTE:return new o(e)}}t.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(g(t,null)):t.data&&e.push(g(t.data,t.mode)),e},[])},t.fromString=function(e,n){const i=function(e){const t=[];for(let n=0;n<e.length;n++){const i=e[n];switch(i.mode){case r.NUMERIC:t.push([i,{data:i.data,mode:r.ALPHANUMERIC,length:i.length},{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.ALPHANUMERIC:t.push([i,{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.KANJI:t.push([i,{data:i.data,mode:r.BYTE,length:d(i.data)}]);break;case r.BYTE:t.push([{data:i.data,mode:r.BYTE,length:d(i.data)}])}}return t}(f(e,l.isKanjiModeEnabled())),s=function(e,t){const n={},i={start:{}};let s=["start"];for(let o=0;o<e.length;o++){const a=e[o],c=[];for(let e=0;e<a.length;e++){const l=a[e],u=""+o+e;c.push(u),n[u]={node:l,lastCount:0},i[u]={};for(let e=0;e<s.length;e++){const o=s[e];n[o]&&n[o].node.mode===l.mode?(i[o][u]=p(n[o].lastCount+l.length,l.mode)-p(n[o].lastCount,l.mode),n[o].lastCount+=l.length):(n[o]&&(n[o].lastCount=l.length),i[o][u]=p(l.length,l.mode)+4+r.getCharCountIndicator(l.mode,t))}}s=c}for(let e=0;e<s.length;e++)i[s[e]].end=0;return{map:i,table:n}}(i,n),o=u.find_path(s.map,"start","end"),a=[];for(let e=1;e<o.length-1;e++)a.push(s.table[o[e]].node);return t.fromArray(a.reduce(function(e,t){const n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[]))},t.rawSplit=function(e){return t.fromArray(f(e,l.isKanjiModeEnabled()))}},9869:(e,t,n)=>{"use strict";var r=n(5606),i=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),m=Symbol.iterator,y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function v(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function x(){}function E(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=v.prototype;var k=E.prototype=new x;k.constructor=E,w(k,v.prototype),k.isPureReactComponent=!0;var _=Array.isArray;function C(){}var S={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function A(e,t,n){var r=n.ref;return{$$typeof:i,type:e,key:t,ref:void 0!==r?r:null,props:n}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var P=/\/+/g;function O(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function j(e,t,n,r,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c,l,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case s:u=!0;break;case p:return j((u=e._init)(e._payload),t,n,r,o)}}if(u)return o=o(e),u=""===r?"."+O(e,0):r,_(o)?(n="",null!=u&&(n=u.replace(P,"$&/")+"/"),j(o,t,n,"",function(e){return e})):null!=o&&(T(o)&&(c=o,l=n+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(P,"$&/")+"/")+u,o=A(c.type,l,c.props)),t.push(o)),1;u=0;var d,h=""===r?".":r+":";if(_(e))for(var f=0;f<e.length;f++)u+=j(r=e[f],t,n,a=h+O(r,f),o);else if("function"==typeof(f=null===(d=e)||"object"!=typeof d?null:"function"==typeof(d=m&&d[m]||d["@@iterator"])?d:null))for(e=f.call(e),f=0;!(r=e.next()).done;)u+=j(r=r.value,t,n,a=h+O(r,f++),o);else if("object"===a){if("function"==typeof e.then)return j(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(C,C):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,n,r,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return j(e,r,"","",function(e){return t.call(n,e,i++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var $="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof r&&"function"==typeof r.emit)return void r.emit("uncaughtException",e);console.error(e)},M={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=g,t.Children=M,t.Component=v,t.Fragment=o,t.Profiler=c,t.PureComponent=E,t.StrictMode=a,t.Suspense=h,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=w({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.key&&(i=""+t.key),t)!I.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var o=Array(s),a=0;a<s;a++)o[a]=arguments[a+2];r.children=o}return A(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:l,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)I.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var a=Array(o),c=0;c<o;c++)a[c]=arguments[c+2];i.children=a}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return A(e,s,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(C,$)}catch(e){$(e)}finally{null!==t&&null!==n.types&&(t.types=n.types),S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return S.H.useEffect(e,t)},t.useEffectEvent=function(e){return S.H.useEffectEvent(e)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.2.0"},9872:(e,t,n)=>{"use strict";var r=n(5682);n.o(r,"IJsonRpcProvider")&&n.d(t,{IJsonRpcProvider:function(){return r.IJsonRpcProvider}}),n.o(r,"formatJsonRpcError")&&n.d(t,{formatJsonRpcError:function(){return r.formatJsonRpcError}}),n.o(r,"formatJsonRpcRequest")&&n.d(t,{formatJsonRpcRequest:function(){return r.formatJsonRpcRequest}}),n.o(r,"formatJsonRpcResult")&&n.d(t,{formatJsonRpcResult:function(){return r.formatJsonRpcResult}}),n.o(r,"getBigIntRpcId")&&n.d(t,{getBigIntRpcId:function(){return r.getBigIntRpcId}}),n.o(r,"isHttpUrl")&&n.d(t,{isHttpUrl:function(){return r.isHttpUrl}}),n.o(r,"isJsonRpcError")&&n.d(t,{isJsonRpcError:function(){return r.isJsonRpcError}}),n.o(r,"isJsonRpcRequest")&&n.d(t,{isJsonRpcRequest:function(){return r.isJsonRpcRequest}}),n.o(r,"isJsonRpcResponse")&&n.d(t,{isJsonRpcResponse:function(){return r.isJsonRpcResponse}}),n.o(r,"isJsonRpcResult")&&n.d(t,{isJsonRpcResult:function(){return r.isJsonRpcResult}}),n.o(r,"isLocalhostUrl")&&n.d(t,{isLocalhostUrl:function(){return r.isLocalhostUrl}}),n.o(r,"isReactNative")&&n.d(t,{isReactNative:function(){return r.isReactNative}}),n.o(r,"isWsUrl")&&n.d(t,{isWsUrl:function(){return r.isWsUrl}}),n.o(r,"payloadId")&&n.d(t,{payloadId:function(){return r.payloadId}})},9873:(e,t,n)=>{"use strict";n.d(t,{P:()=>a});var r=n(6447),i=n(4569);const s=/^0x[a-fA-F0-9]{40}$/,o=new r.A(8192);function a(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(o.has(r))return o.get(r);const a=!(!s.test(e)||e.toLowerCase()!==e&&n&&(0,i.o)(e)!==e);return o.set(r,a),a}},9883:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class n{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){const t=this.get(e);if(void 0!==t.elapsed)throw new Error(`Watch already stopped for label: ${e}`);const n=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:n})}get(e){const t=this.timestamps.get(e);if(void 0===t)throw new Error(`No timestamp found for label: ${e}`);return t}elapsed(e){const t=this.get(e);return t.elapsed||Date.now()-t.started}}t.Watch=n,t.default=n},9899:e=>{function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){const t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},9910:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var r=n(669);function i(e,{delay:t=100,retryCount:n=2,shouldRetry:i=()=>!0}={}){return new Promise((s,o)=>{const a=async({count:c=0}={})=>{try{const t=await e();s(t)}catch(e){if(c<n&&await i({count:c,error:e}))return(async({error:e})=>{const n="function"==typeof t?t({count:c,error:e}):t;n&&await(0,r.u)(n),a({count:c+1})})({error:e});o(e)}};a()})}},9953:(e,t)=>{t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return n}}},9982:(e,t,n)=>{"use strict";e.exports=n(4477)},9985:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(8703);function i({blockNumber:e,chain:t,contract:n}){const i=t?.contracts?.[n];if(!i)throw new r.rj({chain:t,contract:{name:n}});if(e&&i.blockCreated&&i.blockCreated>e)throw new r.rj({blockNumber:e,chain:t,contract:{name:n,blockCreated:i.blockCreated}});return i.address}}},s={};function o(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={id:e,loaded:!1,exports:{}};return i[e].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}o.m=i,o.amdO={},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);o.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>s[e]=()=>n[e]);return s.default=()=>n,o.d(i,s),i},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce((t,n)=>(o.f[n](e,t),t),[])),o.u=e=>e+".bundle.js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},r="pg-bundles:",o.l=(e,t,i,s)=>{if(n[e])n[e].push(t);else{var a,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==r+i){a=d;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",r+i),a.src=e),n[e]=[t];var h=(t,r)=>{a.onerror=a.onload=null,clearTimeout(f);var i=n[e];if(delete n[e],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach(e=>e(r)),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),c&&document.head.appendChild(a)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={8792:0};o.f.j=(t,n)=>{var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((n,i)=>r=e[t]=[n,i]);n.push(r[2]=i);var s=o.p+o.u(t),a=new Error;o.l(s,n=>{if(o.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",a.name="ChunkLoadError",a.type=i,a.request=s,r[1](a)}},"chunk-"+t,t)}};var t=(t,n)=>{var r,i,[s,a,c]=n,l=0;if(s.some(t=>0!==e[t])){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);c&&c(o)}for(t&&t(n);l<s.length;l++)i=s[l],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkpg_bundles=self.webpackChunkpg_bundles||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),o.nc=void 0,(()=>{"use strict";var e=o(8249);function t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var r,i,s,a,c,l,u,d,h,f,p,g,m,y,w,b,v,x={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},E={duration:.5,overwrite:!1,delay:0},k=1e8,_=1e-8,C=2*Math.PI,S=C/4,I=0,A=Math.sqrt,T=Math.cos,P=Math.sin,O=function(e){return"string"==typeof e},j=function(e){return"function"==typeof e},N=function(e){return"number"==typeof e},R=function(e){return void 0===e},$=function(e){return"object"==typeof e},M=function(e){return!1!==e},L=function(){return"undefined"!=typeof window},B=function(e){return j(e)||O(e)},U="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},D=Array.isArray,F=/(?:-?\.?\d|\.)+/gi,z=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,W=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,q=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,H=/[+-]=-?[.\d]+/,V=/[^,'"\[\]\s]+/gi,K=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,G={},Z={},Y=function(e){return(Z=Se(e,G))&&In},J=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Q=function(e,t){return!t&&console.warn(e)},X=function(e,t){return e&&(G[e]=t)&&Z&&(Z[e]=t)||G},ee=function(){return 0},te={suppressEvents:!0,isStart:!0,kill:!1},ne={suppressEvents:!0,kill:!1},re={suppressEvents:!0},ie={},se=[],oe={},ae={},ce={},le=30,ue=[],de="",he=function(e){var t,n,r=e[0];if($(r)||j(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=ue.length;n--&&!ue[n].targetTest(r););t=ue[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new Dt(e[n],t)))||e.splice(n,1);return e},fe=function(e){return e._gsap||he(rt(e))[0]._gsap},pe=function(e,t,n){return(n=e[t])&&j(n)?e[t]():R(n)&&e.getAttribute&&e.getAttribute(t)||n},ge=function(e,t){return(e=e.split(",")).forEach(t)||e},me=function(e){return Math.round(1e5*e)/1e5||0},ye=function(e){return Math.round(1e7*e)/1e7||0},we=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+r:"-"===n?e-r:"*"===n?e*r:e/r},be=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},ve=function(){var e,t,n=se.length,r=se.slice(0);for(oe={},se.length=0,e=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},xe=function(e){return!!(e._initted||e._startAt||e.add)},Ee=function(e,t,n,r){se.length&&!i&&ve(),e.render(t,n,r||!!(i&&t<0&&xe(e))),se.length&&!i&&ve()},ke=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(V).length<2?t:O(e)?e.trim():e},_e=function(e){return e},Ce=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},Se=function(e,t){for(var n in t)e[n]=t[n];return e},Ie=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=$(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},Ae=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},Te=function(e){var t,n=e.parent||a,r=e.keyframes?(t=D(e.keyframes),function(e,n){for(var r in n)r in e||"duration"===r&&t||"ease"===r||(e[r]=n[r])}):Ce;if(M(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},Pe=function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var s,o=e[r];if(i)for(s=t[i];o&&o[i]>s;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},Oe=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,s=t._next;i?i._next=s:e[n]===t&&(e[n]=s),s?s._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},je=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ne=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},Re=function(e,t,n,r){return e._startAt&&(i?e._startAt.revert(ne):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},$e=function e(t){return!t||t._ts&&e(t.parent)},Me=function(e){return e._repeat?Le(e._tTime,e=e.duration()+e._rDelay)*e:0},Le=function(e,t){var n=Math.floor(e=ye(e/t));return e&&n===e?n-1:n},Be=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Ue=function(e){return e._end=ye(e._start+(e._tDur/Math.abs(e._ts||e._rts||_)||0))},De=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=ye(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Ue(e),n._dirty||Ne(n,e)),e},Fe=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=Be(e.rawTime(),t),(!t._dur||Xe(0,t.totalDuration(),n)-t._tTime>_)&&t.render(n,!0)),Ne(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},ze=function(e,t,n,r){return t.parent&&je(t),t._start=ye((N(n)?n:n||e!==a?Ye(e,n,t):e._time)+t._delay),t._end=ye(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Pe(e,t,"_first","_last",e._sort?"_start":0),Ve(t)||(e._recent=t),r||Fe(e,t),e._ts<0&&De(e,e._tTime),e},We=function(e,t){return(G.ScrollTrigger||J("scrollTrigger",t))&&G.ScrollTrigger.create(t,e)},qe=function(e,t,n,r,s){return Gt(e,t,s),e._initted?!n&&e._pt&&!i&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&h!==It.frame?(se.push(e),e._lazy=[s,r],1):void 0:1},He=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},Ve=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},Ke=function(e,t,n,r){var i=e._repeat,s=ye(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=s/e._dur),e._dur=s,e._tDur=i?i<0?1e10:ye(s*(i+1)+e._rDelay*i):s,o>0&&!r&&De(e,e._tTime=e._tDur*o),e.parent&&Ue(e),n||Ne(e.parent,e),e},Ge=function(e){return e instanceof zt?Ne(e):Ke(e,e._dur)},Ze={_start:0,endTime:ee,totalDuration:ee},Ye=function e(t,n,r){var i,s,o,a=t.labels,c=t._recent||Ze,l=t.duration()>=k?c.endTime(!1):t._dur;return O(n)&&(isNaN(n)||n in a)?(s=n.charAt(0),o="%"===n.substr(-1),i=n.indexOf("="),"<"===s||">"===s?(i>=0&&(n=n.replace(/=/,"")),("<"===s?c._start:c.endTime(c._repeat>=0))+(parseFloat(n.substr(1))||0)*(o?(i<0?c:r).totalDuration()/100:1)):i<0?(n in a||(a[n]=l),a[n]):(s=parseFloat(n.charAt(i-1)+n.substr(i+1)),o&&r&&(s=s/100*(D(r)?r[0]:r).totalDuration()),i>1?e(t,n.substr(0,i-1),r)+s:l+s)):null==n?l:+n},Je=function(e,t,n){var r,i,s=N(t[1]),o=(s?2:1)+(e<2?0:1),a=t[o];if(s&&(a.duration=t[1]),a.parent=n,e){for(r=a,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=M(i.vars.inherit)&&i.parent;a.immediateRender=M(r.immediateRender),e<2?a.runBackwards=1:a.startAt=t[o-1]}return new Xt(t[0],a,t[o+1])},Qe=function(e,t){return e||0===e?t(e):t},Xe=function(e,t,n){return n<e?e:n>t?t:n},et=function(e,t){return O(e)&&(t=K.exec(e))?t[1]:""},tt=[].slice,nt=function(e,t){return e&&$(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&$(e[0]))&&!e.nodeType&&e!==c},rt=function(e,t,n){return s&&!t&&s.selector?s.selector(e):!O(e)||n||!l&&At()?D(e)?function(e,t,n){return void 0===n&&(n=[]),e.forEach(function(e){var r;return O(e)&&!t||nt(e,1)?(r=n).push.apply(r,rt(e)):n.push(e)})||n}(e,n):nt(e)?tt.call(e,0):e?[e]:[]:tt.call((t||u).querySelectorAll(e),0)},it=function(e){return e=rt(e)[0]||Q("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return rt(t,n.querySelectorAll?n:n===e?Q("Invalid scope")||u.createElement("div"):e)}},st=function(e){return e.sort(function(){return.5-Math.random()})},ot=function(e){if(j(e))return e;var t=$(e)?e:{each:e},n=$t(t.ease),r=t.from||0,i=parseFloat(t.base)||0,s={},o=r>0&&r<1,a=isNaN(r)||o,c=t.axis,l=r,u=r;return O(r)?l=u={center:.5,edges:.5,end:1}[r]||0:!o&&a&&(l=r[0],u=r[1]),function(e,o,d){var h,f,p,g,m,y,w,b,v,x=(d||t).length,E=s[x];if(!E){if(!(v="auto"===t.grid?0:(t.grid||[1,k])[1])){for(w=-k;w<(w=d[v++].getBoundingClientRect().left)&&v<x;);v<x&&v--}for(E=s[x]=[],h=a?Math.min(v,x)*l-.5:r%v,f=v===k?0:a?x*u/v-.5:r/v|0,w=0,b=k,y=0;y<x;y++)p=y%v-h,g=f-(y/v|0),E[y]=m=c?Math.abs("y"===c?g:p):A(p*p+g*g),m>w&&(w=m),m<b&&(b=m);"random"===r&&st(E),E.max=w-b,E.min=b,E.v=x=(parseFloat(t.amount)||parseFloat(t.each)*(v>x?x-1:c?"y"===c?x/v:v:Math.max(v,x/v))||0)*("edges"===r?-1:1),E.b=x<0?i-x:i,E.u=et(t.amount||t.each)||0,n=n&&x<0?Nt(n):n}return x=(E[e]-E.min)/E.max||0,ye(E.b+(n?n(x):x)*E.v)+E.u}},at=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=ye(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(N(n)?0:et(n))}},ct=function(e,t){var n,r,i=D(e);return!i&&$(e)&&(n=i=e.radius||k,e.values?(e=rt(e.values),(r=!N(e[0]))&&(n*=n)):e=at(e.increment)),Qe(t,i?j(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,s,o=parseFloat(r?t.x:t),a=parseFloat(r?t.y:0),c=k,l=0,u=e.length;u--;)(i=r?(i=e[u].x-o)*i+(s=e[u].y-a)*s:Math.abs(e[u]-o))<c&&(c=i,l=u);return l=!n||c<=n?e[l]:t,r||l===t||N(t)?l:l+et(t)}:at(e))},lt=function(e,t,n,r){return Qe(D(e)?!t:!0===n?!!(n=0):!r,function(){return D(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r})},ut=function(e,t,n){return Qe(n,function(n){return e[~~t(n)]})},dt=function(e){for(var t,n,r,i,s=0,o="";~(t=e.indexOf("random(",s));)r=e.indexOf(")",t),i="["===e.charAt(t+7),n=e.substr(t+7,r-t-7).match(i?V:F),o+=e.substr(s,t-s)+lt(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),s=r+1;return o+e.substr(s,e.length-s)},ht=function(e,t,n,r,i){var s=t-e,o=r-n;return Qe(i,function(t){return n+((t-e)/s*o||0)})},ft=function(e,t,n){var r,i,s,o=e.labels,a=k;for(r in o)(i=o[r]-t)<0==!!n&&i&&a>(i=Math.abs(i))&&(s=r,a=i);return s},pt=function(e,t,n){var r,i,o,a=e.vars,c=a[t],l=s,u=e._ctx;if(c)return r=a[t+"Params"],i=a.callbackScope||e,n&&se.length&&ve(),u&&(s=u),o=r?c.apply(i,r):c.call(i),s=l,o},gt=function(e){return je(e),e.scrollTrigger&&e.scrollTrigger.kill(!!i),e.progress()<1&&pt(e,"onInterrupt"),e},mt=[],yt=function(e){if(e)if(e=!e.name&&e.default||e,L()||e.headless){var t=e.name,n=j(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:ee,render:ln,add:Vt,kill:dn,modifier:un,rawVars:0},s={targetTest:0,get:0,getSetter:sn,aliases:{},register:0};if(At(),e!==r){if(ae[t])return;Ce(r,Ce(Ae(e,i),s)),Se(r.prototype,Se(i,Ae(e,s))),ae[r.prop=t]=r,e.targetTest&&(ue.push(r),ie[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}X(t,r),e.register&&e.register(In,r,pn)}else mt.push(e)},wt=255,bt={aqua:[0,wt,wt],lime:[0,wt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,wt],navy:[0,0,128],white:[wt,wt,wt],olive:[128,128,0],yellow:[wt,wt,0],orange:[wt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[wt,0,0],pink:[wt,192,203],cyan:[0,wt,wt],transparent:[wt,wt,wt,0]},vt=function(e,t,n){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*wt+.5|0},xt=function(e,t,n){var r,i,s,o,a,c,l,u,d,h,f=e?N(e)?[e>>16,e>>8&wt,e&wt]:0:bt.black;if(!f){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),bt[e])f=bt[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),i=e.charAt(2),s=e.charAt(3),e="#"+r+r+i+i+s+s+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(f=parseInt(e.substr(1,6),16))>>16,f>>8&wt,f&wt,parseInt(e.substr(7),16)/255];f=[(e=parseInt(e.substr(1),16))>>16,e>>8&wt,e&wt]}else if("hsl"===e.substr(0,3))if(f=h=e.match(F),t){if(~e.indexOf("="))return f=e.match(z),n&&f.length<4&&(f[3]=1),f}else o=+f[0]%360/360,a=+f[1]/100,r=2*(c=+f[2]/100)-(i=c<=.5?c*(a+1):c+a-c*a),f.length>3&&(f[3]*=1),f[0]=vt(o+1/3,r,i),f[1]=vt(o,r,i),f[2]=vt(o-1/3,r,i);else f=e.match(F)||bt.transparent;f=f.map(Number)}return t&&!h&&(r=f[0]/wt,i=f[1]/wt,s=f[2]/wt,c=((l=Math.max(r,i,s))+(u=Math.min(r,i,s)))/2,l===u?o=a=0:(d=l-u,a=c>.5?d/(2-l-u):d/(l+u),o=l===r?(i-s)/d+(i<s?6:0):l===i?(s-r)/d+2:(r-i)/d+4,o*=60),f[0]=~~(o+.5),f[1]=~~(100*a+.5),f[2]=~~(100*c+.5)),n&&f.length<4&&(f[3]=1),f},Et=function(e){var t=[],n=[],r=-1;return e.split(_t).forEach(function(e){var i=e.match(W)||[];t.push.apply(t,i),n.push(r+=i.length+1)}),t.c=n,t},kt=function(e,t,n){var r,i,s,o,a="",c=(e+a).match(_t),l=t?"hsla(":"rgba(",u=0;if(!c)return e;if(c=c.map(function(e){return(e=xt(e,t,1))&&l+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"}),n&&(s=Et(e),(r=n.c).join(a)!==s.c.join(a)))for(o=(i=e.replace(_t,"1").split(W)).length-1;u<o;u++)a+=i[u]+(~r.indexOf(u)?c.shift()||l+"0,0,0,0)":(s.length?s:c.length?c:n).shift());if(!i)for(o=(i=e.split(_t)).length-1;u<o;u++)a+=i[u]+c[u];return a+i[o]},_t=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in bt)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),Ct=/hsl[a]?\(/,St=function(e){var t,n=e.join(" ");if(_t.lastIndex=0,_t.test(n))return t=Ct.test(n),e[1]=kt(e[1],t),e[0]=kt(e[0],t,Et(e[1])),!0},It=function(){var e,t,n,r,i,s,o=Date.now,a=500,h=33,f=o(),g=f,m=1e3/240,y=m,w=[],b=function n(c){var l,u,d,p,b=o()-g,v=!0===c;if((b>a||b<0)&&(f+=b-h),((l=(d=(g+=b)-f)-y)>0||v)&&(p=++r.frame,i=d-1e3*r.time,r.time=d/=1e3,y+=l+(l>=m?4:m-l),u=1),v||(e=t(n)),u)for(s=0;s<w.length;s++)w[s](d,i,p,c)};return r={time:0,frame:0,tick:function(){b(!0)},deltaRatio:function(e){return i/(1e3/(e||60))},wake:function(){d&&(!l&&L()&&(c=l=window,u=c.document||{},G.gsap=In,(c.gsapVersions||(c.gsapVersions=[])).push(In.version),Y(Z||c.GreenSockGlobals||!c.gsap&&c||{}),mt.forEach(yt)),n="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame,e&&r.sleep(),t=n||function(e){return setTimeout(e,y-1e3*r.time+1|0)},p=1,b(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(e),p=0,t=ee},lagSmoothing:function(e,t){a=e||1/0,h=Math.min(t||33,a)},fps:function(e){m=1e3/(e||240),y=1e3*r.time+m},add:function(e,t,n){var i=t?function(t,n,s,o){e(t,n,s,o),r.remove(i)}:e;return r.remove(e),w[n?"unshift":"push"](i),At(),i},remove:function(e,t){~(t=w.indexOf(e))&&w.splice(t,1)&&s>=t&&s--},_listeners:w}}(),At=function(){return!p&&It.wake()},Tt={},Pt=/^[\d.\-M][\d.\-,\s]/,Ot=/["']/g,jt=function(e){for(var t,n,r,i={},s=e.substr(1,e.length-3).split(":"),o=s[0],a=1,c=s.length;a<c;a++)n=s[a],t=a!==c-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[o]=isNaN(r)?r.replace(Ot,"").trim():+r,o=n.substr(t+1).trim();return i},Nt=function(e){return function(t){return 1-e(1-t)}},Rt=function e(t,n){for(var r,i=t._first;i;)i instanceof zt?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},$t=function(e,t){return e&&(j(e)?e:Tt[e]||function(e){var t=(e+"").split("("),n=Tt[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[jt(t[1])]:function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)}(e).split(",").map(ke)):Tt._CE&&Pt.test(e)?Tt._CE("",e):n}(e))||t},Mt=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,s={easeIn:t,easeOut:n,easeInOut:r};return ge(e,function(e){for(var t in Tt[e]=G[e]=s,Tt[i=e.toLowerCase()]=n,s)Tt[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=Tt[e+"."+t]=s[t]}),s},Lt=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},Bt=function e(t,n,r){var i=n>=1?n:1,s=(r||(t?.3:.45))/(n<1?n:1),o=s/C*(Math.asin(1/i)||0),a=function(e){return 1===e?1:i*Math.pow(2,-10*e)*P((e-o)*s)+1},c="out"===t?a:"in"===t?function(e){return 1-a(1-e)}:Lt(a);return s=C/s,c.config=function(n,r){return e(t,n,r)},c},Ut=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:Lt(r);return i.config=function(n){return e(t,n)},i};ge("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var n=t<5?t+1:t;Mt(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},function(e){return 1-Math.pow(1-e,n)},function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2})}),Tt.Linear.easeNone=Tt.none=Tt.Linear.easeIn,Mt("Elastic",Bt("in"),Bt("out"),Bt()),g=7.5625,w=2*(y=1/(m=2.75)),b=2.5*y,Mt("Bounce",function(e){return 1-v(1-e)},v=function(e){return e<y?g*e*e:e<w?g*Math.pow(e-1.5/m,2)+.75:e<b?g*(e-=2.25/m)*e+.9375:g*Math.pow(e-2.625/m,2)+.984375}),Mt("Expo",function(e){return Math.pow(2,10*(e-1))*e+e*e*e*e*e*e*(1-e)}),Mt("Circ",function(e){return-(A(1-e*e)-1)}),Mt("Sine",function(e){return 1===e?1:1-T(e*S)}),Mt("Back",Ut("in"),Ut("out"),Ut()),Tt.SteppedEase=Tt.steps=G.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*Xe(0,.99999999,e)|0)+i)*n}}},E.ease=Tt["quad.out"],ge("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return de+=e+","+e+"Params,"});var Dt=function(e,t){this.id=I++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:pe,this.set=t?t.getSetter:sn},Ft=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Ke(this,+e.duration,1,1),this.data=e.data,s&&(this._ctx=s,s.data.push(this)),p||It.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,Ke(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(At(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(De(this,e),!n._dp||n.parent||Fe(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&ze(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===_||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),Ee(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+Me(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+Me(this),t):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?Le(this._tTime,n)+1:1},t.timeScale=function(e,t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var n=this.parent&&this._ts?Be(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(Xe(-Math.abs(this._delay),this.totalDuration(),n),!1!==t),Ue(this),function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(At(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==_&&(this._tTime-=_)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&ze(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(M(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Be(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=re);var t=i;return i=e,xe(this)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),i=t,this},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(Math.abs(t._ts)||1),t=t._dp;return!this.parent&&this._sat?this._sat.globalTime(e):n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,Ge(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,Ge(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(Ye(this,e),M(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,M(t)),this._dur||(this._zTime=-1e-8),this},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-_))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this;return new Promise(function(n){var r=j(e)?e:_e,i=function(){var e=t.then;t.then=null,j(r)&&(r=r(t))&&(r.then||r===t)&&(t.then=e),n(r),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?i():t._prom=i})},t.kill=function(){gt(this)},e}();Ce(Ft.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var zt=function(e){function r(n,r){var i;return void 0===n&&(n={}),(i=e.call(this,n)||this).labels={},i.smoothChildTiming=!!n.smoothChildTiming,i.autoRemoveChildren=!!n.autoRemoveChildren,i._sort=M(n.sortChildren),a&&ze(n.parent||a,t(i),r),n.reversed&&i.reverse(),n.paused&&i.paused(!0),n.scrollTrigger&&We(t(i),n.scrollTrigger),i}n(r,e);var s=r.prototype;return s.to=function(e,t,n){return Je(0,arguments,this),this},s.from=function(e,t,n){return Je(1,arguments,this),this},s.fromTo=function(e,t,n,r){return Je(2,arguments,this),this},s.set=function(e,t,n){return t.duration=0,t.parent=this,Te(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new Xt(e,t,Ye(this,n),1),this},s.call=function(e,t,n){return ze(this,Xt.delayedCall(0,e,t),n)},s.staggerTo=function(e,t,n,r,i,s,o){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=s,n.onCompleteParams=o,n.parent=this,new Xt(e,n,Ye(this,i)),this},s.staggerFrom=function(e,t,n,r,i,s,o){return n.runBackwards=1,Te(n).immediateRender=M(n.immediateRender),this.staggerTo(e,t,n,r,i,s,o)},s.staggerFromTo=function(e,t,n,r,i,s,o,a){return r.startAt=n,Te(r).immediateRender=M(r.immediateRender),this.staggerTo(e,t,r,i,s,o,a)},s.render=function(e,t,n){var r,s,o,c,l,u,d,h,f,p,g,m,y=this._time,w=this._dirty?this.totalDuration():this._tDur,b=this._dur,v=e<=0?0:ye(e),x=this._zTime<0!=e<0&&(this._initted||!b);if(this!==a&&v>w&&e>=0&&(v=w),v!==this._tTime||n||x){if(y!==this._time&&b&&(v+=this._time-y,e+=this._time-y),r=v,f=this._start,u=!(h=this._ts),x&&(b||(y=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(g=this._yoyo,l=b+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*l+e,t,n);if(r=ye(v%l),v===w?(c=this._repeat,r=b):((c=~~(p=ye(v/l)))&&c===p&&(r=b,c--),r>b&&(r=b)),p=Le(this._tTime,l),!y&&this._tTime&&p!==c&&this._tTime-p*l-this._dur<=0&&(p=c),g&&1&c&&(r=b-r,m=1),c!==p&&!this._lock){var E=g&&1&p,k=E===(g&&1&c);if(c<p&&(E=!E),y=E?0:v%b?b:v,this._lock=1,this.render(y||(m?0:ye(c*l)),t,!b)._lock=0,this._tTime=v,!t&&this.parent&&pt(this,"onRepeat"),this.vars.repeatRefresh&&!m&&(this.invalidate()._lock=1),y&&y!==this._time||u!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(b=this._dur,w=this._tDur,k&&(this._lock=2,y=E?b:-1e-4,this.render(y,!0),this.vars.repeatRefresh&&!m&&this.invalidate()),this._lock=0,!this._ts&&!u)return this;Rt(this,m)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(d=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,ye(y),ye(r)),d&&(v-=r-(r=d._start))),this._tTime=v,this._time=r,this._act=!h,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,y=0),!y&&v&&!t&&!p&&(pt(this,"onStart"),this._tTime!==v))return this;if(r>=y&&e>=0)for(s=this._first;s;){if(o=s._next,(s._act||r>=s._start)&&s._ts&&d!==s){if(s.parent!==this)return this.render(e,t,n);if(s.render(s._ts>0?(r-s._start)*s._ts:(s._dirty?s.totalDuration():s._tDur)+(r-s._start)*s._ts,t,n),r!==this._time||!this._ts&&!u){d=0,o&&(v+=this._zTime=-1e-8);break}}s=o}else{s=this._last;for(var C=e<0?e:r;s;){if(o=s._prev,(s._act||C<=s._end)&&s._ts&&d!==s){if(s.parent!==this)return this.render(e,t,n);if(s.render(s._ts>0?(C-s._start)*s._ts:(s._dirty?s.totalDuration():s._tDur)+(C-s._start)*s._ts,t,n||i&&xe(s)),r!==this._time||!this._ts&&!u){d=0,o&&(v+=this._zTime=C?-1e-8:_);break}}s=o}}if(d&&!t&&(this.pause(),d.render(r>=y?0:-1e-8)._zTime=r>=y?1:-1,this._ts))return this._start=f,Ue(this),this.render(e,t,n);this._onUpdate&&!t&&pt(this,"onUpdate",!0),(v===w&&this._tTime>=this.totalDuration()||!v&&y)&&(f!==this._start&&Math.abs(h)===Math.abs(this._ts)||this._lock||((e||!b)&&(v===w&&this._ts>0||!v&&this._ts<0)&&je(this,1),t||e<0&&!y||!v&&!y&&w||(pt(this,v===w&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(v<w&&this.timeScale()>0)&&this._prom())))}return this},s.add=function(e,t){var n=this;if(N(t)||(t=Ye(this,t,e)),!(e instanceof Ft)){if(D(e))return e.forEach(function(e){return n.add(e,t)}),this;if(O(e))return this.addLabel(e,t);if(!j(e))return this;e=Xt.delayedCall(0,e)}return this!==e?ze(this,e,t):this},s.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-k);for(var i=[],s=this._first;s;)s._start>=r&&(s instanceof Xt?t&&i.push(s):(n&&i.push(s),e&&i.push.apply(i,s.getChildren(!0,t,n)))),s=s._next;return i},s.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},s.remove=function(e){return O(e)?this.removeLabel(e):j(e)?this.killTweensOf(e):(e.parent===this&&Oe(this,e),e===this._recent&&(this._recent=this._last),Ne(this))},s.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ye(It.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},s.addLabel=function(e,t){return this.labels[e]=Ye(this,t),this},s.removeLabel=function(e){return delete this.labels[e],this},s.addPause=function(e,t,n){var r=Xt.delayedCall(0,t||ee,n);return r.data="isPause",this._hasPause=1,ze(this,r,Ye(this,e))},s.removePause=function(e){var t=this._first;for(e=Ye(this,e);t;)t._start===e&&"isPause"===t.data&&je(t),t=t._next},s.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)Wt!==r[i]&&r[i].kill(e,t);return this},s.getTweensOf=function(e,t){for(var n,r=[],i=rt(e),s=this._first,o=N(t);s;)s instanceof Xt?be(s._targets,i)&&(o?(!Wt||s._initted&&s._ts)&&s.globalTime(0)<=t&&s.globalTime(s.totalDuration())>t:!t||s.isActive())&&r.push(s):(n=s.getTweensOf(i,t)).length&&r.push.apply(r,n),s=s._next;return r},s.tweenTo=function(e,t){t=t||{};var n,r=this,i=Ye(r,e),s=t,o=s.startAt,a=s.onStart,c=s.onStartParams,l=s.immediateRender,u=Xt.to(r,Ce({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale())||_,onStart:function(){if(r.pause(),!n){var e=t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale());u._dur!==e&&Ke(u,e,0,1).render(u._time,!0,!0),n=1}a&&a.apply(u,c||[])}},t));return l?u.render(0):u},s.tweenFromTo=function(e,t,n){return this.tweenTo(t,Ce({startAt:{time:Ye(this,e)}},n))},s.recent=function(){return this._recent},s.nextLabel=function(e){return void 0===e&&(e=this._time),ft(this,Ye(this,e))},s.previousLabel=function(e){return void 0===e&&(e=this._time),ft(this,Ye(this,e),1)},s.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+_)},s.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var r,i=this._first,s=this.labels;i;)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in s)s[r]>=n&&(s[r]+=e);return Ne(this)},s.invalidate=function(t){var n=this._first;for(this._lock=0;n;)n.invalidate(t),n=n._next;return e.prototype.invalidate.call(this,t)},s.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),Ne(this)},s.totalDuration=function(e){var t,n,r,i=0,s=this,o=s._last,c=k;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-e:e));if(s._dirty){for(r=s.parent;o;)t=o._prev,o._dirty&&o.totalDuration(),(n=o._start)>c&&s._sort&&o._ts&&!s._lock?(s._lock=1,ze(s,o,n-o._delay,1)._lock=0):c=n,n<0&&o._ts&&(i-=n,(!r&&!s._dp||r&&r.smoothChildTiming)&&(s._start+=n/s._ts,s._time-=n,s._tTime-=n),s.shiftChildren(-n,!1,-Infinity),c=0),o._end>i&&o._ts&&(i=o._end),o=t;Ke(s,s===a&&s._time>i?s._time:i,1,1),s._dirty=0}return s._tDur},r.updateRoot=function(e){if(a._ts&&(Ee(a,Be(e,a)),h=It.frame),It.frame>=le){le+=x.autoSleep||120;var t=a._first;if((!t||!t._ts)&&x.autoSleep&&It._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||It.sleep()}}},r}(Ft);Ce(zt.prototype,{_lock:0,_hasPause:0,_forcing:0});var Wt,qt,Ht=function(e,t,n,r,i,s,o){var a,c,l,u,d,h,f,p,g=new pn(this._pt,e,t,0,1,cn,null,i),m=0,y=0;for(g.b=n,g.e=r,n+="",(f=~(r+="").indexOf("random("))&&(r=dt(r)),s&&(s(p=[n,r],e,t),n=p[0],r=p[1]),c=n.match(q)||[];a=q.exec(r);)u=a[0],d=r.substring(m,a.index),l?l=(l+1)%5:"rgba("===d.substr(-5)&&(l=1),u!==c[y++]&&(h=parseFloat(c[y-1])||0,g._pt={_next:g._pt,p:d||1===y?d:",",s:h,c:"="===u.charAt(1)?we(h,u)-h:parseFloat(u)-h,m:l&&l<4?Math.round:0},m=q.lastIndex);return g.c=m<r.length?r.substring(m,r.length):"",g.fp=o,(H.test(r)||f)&&(g.e=0),this._pt=g,g},Vt=function(e,t,n,r,i,s,o,a,c,l){j(r)&&(r=r(i||0,e,s));var u,d=e[t],h="get"!==n?n:j(d)?c?e[t.indexOf("set")||!j(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():d,f=j(d)?c?nn:tn:en;if(O(r)&&(~r.indexOf("random(")&&(r=dt(r)),"="===r.charAt(1)&&((u=we(h,r)+(et(h)||0))||0===u)&&(r=u)),!l||h!==r||qt)return isNaN(h*r)||""===r?(!d&&!(t in e)&&J(t,r),Ht.call(this,e,t,h,r,f,a||x.stringFilter,c)):(u=new pn(this._pt,e,t,+h||0,r-(h||0),"boolean"==typeof d?an:on,0,f),c&&(u.fp=c),o&&u.modifier(o,this,e),this._pt=u)},Kt=function(e,t,n,r,i,s){var o,a,c,l;if(ae[e]&&!1!==(o=new ae[e]).init(i,o.rawVars?t[e]:function(e,t,n,r,i){if(j(e)&&(e=Yt(e,i,t,n,r)),!$(e)||e.style&&e.nodeType||D(e)||U(e))return O(e)?Yt(e,i,t,n,r):e;var s,o={};for(s in e)o[s]=Yt(e[s],i,t,n,r);return o}(t[e],r,i,s,n),n,r,s)&&(n._pt=a=new pn(n._pt,i,e,0,1,o.render,o,0,o.priority),n!==f))for(c=n._ptLookup[n._targets.indexOf(i)],l=o._props.length;l--;)c[o._props[l]]=a;return o},Gt=function e(t,n,s){var o,c,l,u,d,h,f,p,g,m,y,w,b,v=t.vars,x=v.ease,C=v.startAt,S=v.immediateRender,I=v.lazy,A=v.onUpdate,T=v.runBackwards,P=v.yoyoEase,O=v.keyframes,j=v.autoRevert,N=t._dur,R=t._startAt,$=t._targets,L=t.parent,B=L&&"nested"===L.data?L.vars.targets:$,U="auto"===t._overwrite&&!r,D=t.timeline;if(D&&(!O||!x)&&(x="none"),t._ease=$t(x,E.ease),t._yEase=P?Nt($t(!0===P?x:P,E.ease)):0,P&&t._yoyo&&!t._repeat&&(P=t._yEase,t._yEase=t._ease,t._ease=P),t._from=!D&&!!v.runBackwards,!D||O&&!v.stagger){if(w=(p=$[0]?fe($[0]).harness:0)&&v[p.prop],o=Ae(v,ie),R&&(R._zTime<0&&R.progress(1),n<0&&T&&S&&!j?R.render(-1,!0):R.revert(T&&N?ne:te),R._lazy=0),C){if(je(t._startAt=Xt.set($,Ce({data:"isStart",overwrite:!1,parent:L,immediateRender:!0,lazy:!R&&M(I),startAt:null,delay:0,onUpdate:A&&function(){return pt(t,"onUpdate")},stagger:0},C))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(i||!S&&!j)&&t._startAt.revert(ne),S&&N&&n<=0&&s<=0)return void(n&&(t._zTime=n))}else if(T&&N&&!R)if(n&&(S=!1),l=Ce({overwrite:!1,data:"isFromStart",lazy:S&&!R&&M(I),immediateRender:S,stagger:0,parent:L},o),w&&(l[p.prop]=w),je(t._startAt=Xt.set($,l)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(i?t._startAt.revert(ne):t._startAt.render(-1,!0)),t._zTime=n,S){if(!n)return}else e(t._startAt,_,_);for(t._pt=t._ptCache=0,I=N&&M(I)||I&&!N,c=0;c<$.length;c++){if(f=(d=$[c])._gsap||he($)[c]._gsap,t._ptLookup[c]=m={},oe[f.id]&&se.length&&ve(),y=B===$?c:B.indexOf(d),p&&!1!==(g=new p).init(d,w||o,t,y,B)&&(t._pt=u=new pn(t._pt,d,g.name,0,1,g.render,g,0,g.priority),g._props.forEach(function(e){m[e]=u}),g.priority&&(h=1)),!p||w)for(l in o)ae[l]&&(g=Kt(l,o,t,y,d,B))?g.priority&&(h=1):m[l]=u=Vt.call(t,d,l,"get",o[l],y,B,0,v.stringFilter);t._op&&t._op[c]&&t.kill(d,t._op[c]),U&&t._pt&&(Wt=t,a.killTweensOf(d,m,t.globalTime(n)),b=!t.parent,Wt=0),t._pt&&I&&(oe[f.id]=1)}h&&fn(t),t._onInit&&t._onInit(t)}t._onUpdate=A,t._initted=(!t._op||t._pt)&&!b,O&&n<=0&&D.render(k,!0,!0)},Zt=function(e,t,n,r){var i,s,o=t.ease||r||"power1.inOut";if(D(t))s=n[e]||(n[e]=[]),t.forEach(function(e,n){return s.push({t:n/(t.length-1)*100,v:e,e:o})});else for(i in t)s=n[i]||(n[i]=[]),"ease"===i||s.push({t:parseFloat(e),v:t[i],e:o})},Yt=function(e,t,n,r,i){return j(e)?e.call(t,n,r,i):O(e)&&~e.indexOf("random(")?dt(e):e},Jt=de+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Qt={};ge(Jt+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return Qt[e]=1});var Xt=function(e){function s(n,i,s,o){var c;"number"==typeof i&&(s.duration=i,i=s,s=null);var l,u,d,h,f,p,g,m,y=(c=e.call(this,o?i:Te(i))||this).vars,w=y.duration,b=y.delay,v=y.immediateRender,E=y.stagger,k=y.overwrite,_=y.keyframes,C=y.defaults,S=y.scrollTrigger,I=y.yoyoEase,A=i.parent||a,T=(D(n)||U(n)?N(n[0]):"length"in i)?[n]:rt(n);if(c._targets=T.length?he(T):Q("GSAP target "+n+" not found. https://gsap.com",!x.nullTargetWarn)||[],c._ptLookup=[],c._overwrite=k,_||E||B(w)||B(b)){if(i=c.vars,(l=c.timeline=new zt({data:"nested",defaults:C||{},targets:A&&"nested"===A.data?A.vars.targets:T})).kill(),l.parent=l._dp=t(c),l._start=0,E||B(w)||B(b)){if(h=T.length,g=E&&ot(E),$(E))for(f in E)~Jt.indexOf(f)&&(m||(m={}),m[f]=E[f]);for(u=0;u<h;u++)(d=Ae(i,Qt)).stagger=0,I&&(d.yoyoEase=I),m&&Se(d,m),p=T[u],d.duration=+Yt(w,t(c),u,p,T),d.delay=(+Yt(b,t(c),u,p,T)||0)-c._delay,!E&&1===h&&d.delay&&(c._delay=b=d.delay,c._start+=b,d.delay=0),l.to(p,d,g?g(u,p,T):0),l._ease=Tt.none;l.duration()?w=b=0:c.timeline=0}else if(_){Te(Ce(l.vars.defaults,{ease:"none"})),l._ease=$t(_.ease||i.ease||"none");var P,O,j,R=0;if(D(_))_.forEach(function(e){return l.to(T,e,">")}),l.duration();else{for(f in d={},_)"ease"===f||"easeEach"===f||Zt(f,_[f],d,_.easeEach);for(f in d)for(P=d[f].sort(function(e,t){return e.t-t.t}),R=0,u=0;u<P.length;u++)(j={ease:(O=P[u]).e,duration:(O.t-(u?P[u-1].t:0))/100*w})[f]=O.v,l.to(T,j,R),R+=j.duration;l.duration()<w&&l.to({},{duration:w-l.duration()})}}w||c.duration(w=l.duration())}else c.timeline=0;return!0!==k||r||(Wt=t(c),a.killTweensOf(T),Wt=0),ze(A,t(c),s),i.reversed&&c.reverse(),i.paused&&c.paused(!0),(v||!w&&!_&&c._start===ye(A._time)&&M(v)&&$e(t(c))&&"nested"!==A.data)&&(c._tTime=-1e-8,c.render(Math.max(0,-b)||0)),S&&We(t(c),S),c}n(s,e);var o=s.prototype;return o.render=function(e,t,n){var r,s,o,a,c,l,u,d,h,f=this._time,p=this._tDur,g=this._dur,m=e<0,y=e>p-_&&!m?p:e<_?0:e;if(g){if(y!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m||this._lazy){if(r=y,d=this.timeline,this._repeat){if(a=g+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*a+e,t,n);if(r=ye(y%a),y===p?(o=this._repeat,r=g):(o=~~(c=ye(y/a)))&&o===c?(r=g,o--):r>g&&(r=g),(l=this._yoyo&&1&o)&&(h=this._yEase,r=g-r),c=Le(this._tTime,a),r===f&&!n&&this._initted&&o===c)return this._tTime=y,this;o!==c&&(d&&this._yEase&&Rt(d,l),this.vars.repeatRefresh&&!l&&!this._lock&&r!==a&&this._initted&&(this._lock=n=1,this.render(ye(a*o),!0).invalidate()._lock=0))}if(!this._initted){if(qe(this,m?e:r,n,t,y))return this._tTime=0,this;if(!(f===this._time||n&&this.vars.repeatRefresh&&o!==c))return this;if(g!==this._dur)return this.render(e,t,n)}if(this._tTime=y,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(h||this._ease)(r/g),this._from&&(this.ratio=u=1-u),!f&&y&&!t&&!c&&(pt(this,"onStart"),this._tTime!==y))return this;for(s=this._pt;s;)s.r(u,s.d),s=s._next;d&&d.render(e<0?e:d._dur*d._ease(r/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(m&&Re(this,e,0,n),pt(this,"onUpdate")),this._repeat&&o!==c&&this.vars.onRepeat&&!t&&this.parent&&pt(this,"onRepeat"),y!==this._tDur&&y||this._tTime!==y||(m&&!this._onUpdate&&Re(this,e,0,!0),(e||!g)&&(y===this._tDur&&this._ts>0||!y&&this._ts<0)&&je(this,1),t||m&&!f||!(y||f||l)||(pt(this,y===p?"onComplete":"onReverseComplete",!0),this._prom&&!(y<p&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,r){var s,o,a,c=e.ratio,l=t<0||!t&&(!e._start&&He(e)&&(e._initted||!Ve(e))||(e._ts<0||e._dp._ts<0)&&!Ve(e))?0:1,u=e._rDelay,d=0;if(u&&e._repeat&&(d=Xe(0,e._tDur,t),o=Le(d,u),e._yoyo&&1&o&&(l=1-l),o!==Le(e._tTime,u)&&(c=1-l,e.vars.repeatRefresh&&e._initted&&e.invalidate())),l!==c||i||r||e._zTime===_||!t&&e._zTime){if(!e._initted&&qe(e,t,r,n,d))return;for(a=e._zTime,e._zTime=t||(n?_:0),n||(n=t&&!a),e.ratio=l,e._from&&(l=1-l),e._time=0,e._tTime=d,s=e._pt;s;)s.r(l,s.d),s=s._next;t<0&&Re(e,t,0,!0),e._onUpdate&&!n&&pt(e,"onUpdate"),d&&e._repeat&&!n&&e.parent&&pt(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===l&&(l&&je(e,1),n||i||(pt(e,l?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},o.targets=function(){return this._targets},o.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},o.resetTo=function(e,t,n,r,i){p||It.wake(),this._ts||this.play();var s=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||Gt(this,s),function(e,t,n,r,i,s,o,a){var c,l,u,d,h=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!h)for(h=e._ptCache[t]=[],u=e._ptLookup,d=e._targets.length;d--;){if((c=u[d][t])&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==t&&c.fp!==t;)c=c._next;if(!c)return qt=1,e.vars[t]="+=0",Gt(e,o),qt=0,a?Q(t+" not eligible for reset"):1;h.push(c)}for(d=h.length;d--;)(c=(l=h[d])._pt||l).s=!r&&0!==r||i?c.s+(r||0)+s*c.c:r,c.c=n-c.s,l.e&&(l.e=me(n)+et(l.e)),l.b&&(l.b=c.s+et(l.b))}(this,e,t,n,r,this._ease(s/this._dur),s,i)?this.resetTo(e,t,n,r,1):(De(this,0),this.parent||Pe(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},o.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t))return this._lazy=this._pt=0,this.parent?gt(this):this.scrollTrigger&&this.scrollTrigger.kill(!!i),this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,Wt&&!0!==Wt.vars.overwrite)._first||gt(this),this.parent&&n!==this.timeline.totalDuration()&&Ke(this,this._dur*this.timeline._tDur/n,0,1),this}var r,s,o,a,c,l,u,d=this._targets,h=e?rt(e):d,f=this._ptLookup,p=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(d,h))return"all"===t&&(this._pt=0),gt(this);for(r=this._op=this._op||[],"all"!==t&&(O(t)&&(c={},ge(t,function(e){return c[e]=1}),t=c),t=function(e,t){var n,r,i,s,o=e[0]?fe(e[0]).harness:0,a=o&&o.aliases;if(!a)return t;for(r in n=Se({},t),a)if(r in n)for(i=(s=a[r].split(",")).length;i--;)n[s[i]]=n[r];return n}(d,t)),u=d.length;u--;)if(~h.indexOf(d[u]))for(c in s=f[u],"all"===t?(r[u]=t,a=s,o={}):(o=r[u]=r[u]||{},a=t),a)(l=s&&s[c])&&("kill"in l.d&&!0!==l.d.kill(c)||Oe(this,l,"_pt"),delete s[c]),"all"!==o&&(o[c]=1);return this._initted&&!this._pt&&p&&gt(this),this},s.to=function(e,t){return new s(e,t,arguments[2])},s.from=function(e,t){return Je(1,arguments)},s.delayedCall=function(e,t,n,r){return new s(t,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:t,onReverseComplete:t,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:r})},s.fromTo=function(e,t,n){return Je(2,arguments)},s.set=function(e,t){return t.duration=0,t.repeatDelay||(t.repeat=0),new s(e,t)},s.killTweensOf=function(e,t,n){return a.killTweensOf(e,t,n)},s}(Ft);Ce(Xt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ge("staggerTo,staggerFrom,staggerFromTo",function(e){Xt[e]=function(){var t=new zt,n=tt.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}});var en=function(e,t,n){return e[t]=n},tn=function(e,t,n){return e[t](n)},nn=function(e,t,n,r){return e[t](r.fp,n)},rn=function(e,t,n){return e.setAttribute(t,n)},sn=function(e,t){return j(e[t])?tn:R(e[t])&&e.setAttribute?rn:en},on=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},an=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},cn=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},ln=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},un=function(e,t,n,r){for(var i,s=this._pt;s;)i=s._next,s.p===r&&s.modifier(e,t,n),s=i},dn=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?Oe(this,r,"_pt"):r.dep||(t=1),r=n;return!t},hn=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},fn=function(e){for(var t,n,r,i,s=e._pt;s;){for(t=s._next,n=r;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:i)?s._prev._next=s:r=s,(s._next=n)?n._prev=s:i=s,s=t}e._pt=r},pn=function(){function e(e,t,n,r,i,s,o,a,c){this.t=t,this.s=r,this.c=i,this.p=n,this.r=s||on,this.d=o||this,this.set=a||en,this.pr=c||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=hn,this.m=e,this.mt=n,this.tween=t},e}();ge(de+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return ie[e]=1}),G.TweenMax=G.TweenLite=Xt,G.TimelineLite=G.TimelineMax=zt,a=new zt({sortChildren:!1,defaults:E,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),x.stringFilter=St;var gn=[],mn={},yn=[],wn=0,bn=0,vn=function(e){return(mn[e]||yn).map(function(e){return e()})},xn=function(){var e=Date.now(),t=[];e-wn>2&&(vn("matchMediaInit"),gn.forEach(function(e){var n,r,i,s,o=e.queries,a=e.conditions;for(r in o)(n=c.matchMedia(o[r]).matches)&&(i=1),n!==a[r]&&(a[r]=n,s=1);s&&(e.revert(),i&&t.push(e))}),vn("matchMediaRevert"),t.forEach(function(e){return e.onMatch(e,function(t){return e.add(null,t)})}),wn=e,vn("matchMedia"))},En=function(){function e(e,t){this.selector=t&&it(t),this.data=[],this._r=[],this.isReverted=!1,this.id=bn++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,n){j(e)&&(n=t,t=e,e=j);var r=this,i=function(){var e,i=s,o=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=it(n)),s=r,e=t.apply(r,arguments),j(e)&&r._r.push(e),s=i,r.selector=o,r.isReverted=!1,e};return r.last=i,e===j?i(r,function(e){return r.add(null,e)}):e?r[e]=i:i},t.ignore=function(e){var t=s;s=null,e(this),s=t},t.getTweens=function(){var t=[];return this.data.forEach(function(n){return n instanceof e?t.push.apply(t,n.getTweens()):n instanceof Xt&&!(n.parent&&"nested"===n.parent.data)&&t.push(n)}),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var n=this;if(e?function(){for(var t,r=n.getTweens(),i=n.data.length;i--;)"isFlip"===(t=n.data[i]).data&&(t.revert(),t.getChildren(!0,!0,!1).forEach(function(e){return r.splice(r.indexOf(e),1)}));for(r.map(function(e){return{g:e._dur||e._delay||e._sat&&!e._sat.vars.immediateRender?e.globalTime(0):-1/0,t:e}}).sort(function(e,t){return t.g-e.g||-1/0}).forEach(function(t){return t.t.revert(e)}),i=n.data.length;i--;)(t=n.data[i])instanceof zt?"nested"!==t.data&&(t.scrollTrigger&&t.scrollTrigger.revert(),t.kill()):!(t instanceof Xt)&&t.revert&&t.revert(e);n._r.forEach(function(t){return t(e,n)}),n.isReverted=!0}():this.data.forEach(function(e){return e.kill&&e.kill()}),this.clear(),t)for(var r=gn.length;r--;)gn[r].id===this.id&&gn.splice(r,1)},t.revert=function(e){this.kill(e||{})},e}(),kn=function(){function e(e){this.contexts=[],this.scope=e,s&&s.data.push(this)}var t=e.prototype;return t.add=function(e,t,n){$(e)||(e={matches:e});var r,i,o,a=new En(0,n||this.scope),l=a.conditions={};for(i in s&&!a.selector&&(a.selector=s.selector),this.contexts.push(a),t=a.add("onMatch",t),a.queries=e,e)"all"===i?o=1:(r=c.matchMedia(e[i]))&&(gn.indexOf(a)<0&&gn.push(a),(l[i]=r.matches)&&(o=1),r.addListener?r.addListener(xn):r.addEventListener("change",xn));return o&&t(a,function(e){return a.add(null,e)}),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach(function(t){return t.kill(e,!0)})},e}(),_n={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){return yt(e)})},timeline:function(e){return new zt(e)},getTweensOf:function(e,t){return a.getTweensOf(e,t)},getProperty:function(e,t,n,r){O(e)&&(e=rt(e)[0]);var i=fe(e||{}).get,s=n?_e:ke;return"native"===n&&(n=""),e?t?s((ae[t]&&ae[t].get||i)(e,t,n,r)):function(t,n,r){return s((ae[t]&&ae[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=rt(e)).length>1){var r=e.map(function(e){return In.quickSetter(e,t,n)}),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var s=ae[t],o=fe(e),a=o.harness&&(o.harness.aliases||{})[t]||t,c=s?function(t){var r=new s;f._pt=0,r.init(e,n?t+n:t,f,0,[e]),r.render(1,r),f._pt&&ln(1,f)}:o.set(e,a);return s?c:function(t){return c(e,a,n?t+n:t,o,1)}},quickTo:function(e,t,n){var r,i=In.to(e,Ce(((r={})[t]="+=0.1",r.paused=!0,r.stagger=0,r),n||{})),s=function(e,n,r){return i.resetTo(t,e,n,r)};return s.tween=i,s},isTweening:function(e){return a.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=$t(e.ease,E.ease)),Ie(E,e||{})},config:function(e){return Ie(x,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,s=e.extendTimeline;(r||"").split(",").forEach(function(e){return e&&!ae[e]&&!G[e]&&Q(t+" effect requires "+e+" plugin.")}),ce[t]=function(e,t,r){return n(rt(e),Ce(t||{},i),r)},s&&(zt.prototype[t]=function(e,n,r){return this.add(ce[t](e,$(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){Tt[e]=$t(t)},parseEase:function(e,t){return arguments.length?$t(e,t):Tt},getById:function(e){return a.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new zt(e);for(i.smoothChildTiming=M(e.smoothChildTiming),a.remove(i),i._dp=0,i._time=i._tTime=a._time,n=a._first;n;)r=n._next,!t&&!n._dur&&n instanceof Xt&&n.vars.onComplete===n._targets[0]||ze(i,n,n._start-n._delay),n=r;return ze(a,i,0),i},context:function(e,t){return e?new En(e,t):s},matchMedia:function(e){return new kn(e)},matchMediaRefresh:function(){return gn.forEach(function(e){var t,n,r=e.conditions;for(n in r)r[n]&&(r[n]=!1,t=1);t&&e.revert()})||xn()},addEventListener:function(e,t){var n=mn[e]||(mn[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=mn[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:function e(t,n,r){var i=n-t;return D(t)?ut(t,e(0,t.length),n):Qe(r,function(e){return(i+(e-t)%i)%i+t})},wrapYoyo:function e(t,n,r){var i=n-t,s=2*i;return D(t)?ut(t,e(0,t.length-1),n):Qe(r,function(e){return t+((e=(s+(e-t)%s)%s||0)>i?s-e:e)})},distribute:ot,random:lt,snap:ct,normalize:function(e,t,n){return ht(e,t,0,1,n)},getUnit:et,clamp:function(e,t,n){return Qe(n,function(n){return Xe(e,t,n)})},splitColor:xt,toArray:rt,selector:it,mapRange:ht,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce(function(e,t){return t(e)},e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||et(n))}},interpolate:function e(t,n,r,i){var s=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!s){var o,a,c,l,u,d=O(t),h={};if(!0===r&&(i=1)&&(r=null),d)t={p:t},n={p:n};else if(D(t)&&!D(n)){for(c=[],l=t.length,u=l-2,a=1;a<l;a++)c.push(e(t[a-1],t[a]));l--,s=function(e){e*=l;var t=Math.min(u,~~e);return c[t](e-t)},r=n}else i||(t=Se(D(t)?[]:{},t));if(!c){for(o in n)Vt.call(h,t,o,"get",n[o]);s=function(e){return ln(e,h)||(d?t.p:t)}}}return Qe(r,s)},shuffle:st},install:Y,effects:ce,ticker:It,updateRoot:zt.updateRoot,plugins:ae,globalTimeline:a,core:{PropTween:pn,globals:X,Tween:Xt,Timeline:zt,Animation:Ft,getCache:fe,_removeLinkedListItem:Oe,reverting:function(){return i},context:function(e){return e&&s&&(s.data.push(e),e._ctx=s),s},suppressOverwrites:function(e){return r=e}}};ge("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return _n[e]=Xt[e]}),It.add(zt.updateRoot),f=_n.to({},{duration:0});var Cn=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},Sn=function(e,t){return{name:e,headless:1,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(O(n)&&(r={},ge(n,function(e){return r[e]=1}),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}!function(e,t){var n,r,i,s=e._targets;for(n in t)for(r=s.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=Cn(i,n)),i&&i.modifier&&i.modifier(t[n],e,s[r],n))}(e,n)}}}},In=_n.registerPlugin({name:"attr",init:function(e,t,n,r,i){var s,o,a;for(s in this.tween=n,t)a=e.getAttribute(s)||"",(o=this.add(e,"setAttribute",(a||0)+"",t[s],r,i,0,0,s)).op=s,o.b=a,this._props.push(s)},render:function(e,t){for(var n=t._pt;n;)i?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},Sn("roundProps",at),Sn("modifiers"),Sn("snap",ct))||_n;Xt.version=zt.version=In.version="3.13.0",d=1,L()&&At(),Tt.Power0,Tt.Power1,Tt.Power2,Tt.Power3,Tt.Power4,Tt.Linear,Tt.Quad,Tt.Cubic,Tt.Quart,Tt.Quint,Tt.Strong,Tt.Elastic,Tt.Back,Tt.SteppedEase,Tt.Bounce,Tt.Sine,Tt.Expo,Tt.Circ;var An,Tn,Pn,On,jn,Nn,Rn,$n,Mn={},Ln=180/Math.PI,Bn=Math.PI/180,Un=Math.atan2,Dn=/([A-Z])/g,Fn=/(left|right|width|margin|padding|x)/i,zn=/[\s,\(]\S/,Wn={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},qn=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},Hn=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},Vn=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},Kn=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},Gn=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Zn=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},Yn=function(e,t,n){return e.style[t]=n},Jn=function(e,t,n){return e.style.setProperty(t,n)},Qn=function(e,t,n){return e._gsap[t]=n},Xn=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},er=function(e,t,n,r,i){var s=e._gsap;s.scaleX=s.scaleY=n,s.renderTransform(i,s)},tr=function(e,t,n,r,i){var s=e._gsap;s[t]=n,s.renderTransform(i,s)},nr="transform",rr=nr+"Origin",ir=function e(t,n){var r=this,i=this.target,s=i.style,o=i._gsap;if(t in Mn&&s){if(this.tfm=this.tfm||{},"transform"===t)return Wn.transform.split(",").forEach(function(t){return e.call(r,t,n)});if(~(t=Wn[t]||t).indexOf(",")?t.split(",").forEach(function(e){return r.tfm[e]=Er(i,e)}):this.tfm[t]=o.x?o[t]:Er(i,t),t===rr&&(this.tfm.zOrigin=o.zOrigin),this.props.indexOf(nr)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(rr,n,"")),t=nr}(s||n)&&this.props.push(t,n,s[t])},sr=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},or=function(){var e,t,n=this.props,r=this.target,i=r.style,s=r._gsap;for(e=0;e<n.length;e+=3)n[e+1]?2===n[e+1]?r[n[e]](n[e+2]):r[n[e]]=n[e+2]:n[e+2]?i[n[e]]=n[e+2]:i.removeProperty("--"===n[e].substr(0,2)?n[e]:n[e].replace(Dn,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)s[t]=this.tfm[t];s.svg&&(s.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(e=Rn())&&e.isStart||i[nr]||(sr(i),s.zOrigin&&i[rr]&&(i[rr]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},ar=function(e,t){var n={target:e,props:[],revert:or,save:ir};return e._gsap||In.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(e){return n.save(e)}),n},cr=function(e,t){var n=Tn.createElementNS?Tn.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Tn.createElement(e);return n&&n.style?n:Tn.createElement(e)},lr=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(Dn,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,dr(n)||n,1)||""},ur="O,Moz,ms,Ms,Webkit".split(","),dr=function(e,t,n){var r=(t||jn).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(ur[i]+e in r););return i<0?null:(3===i?"ms":i>=0?ur[i]:"")+e},hr=function(){"undefined"!=typeof window&&window.document&&(An=window,Tn=An.document,Pn=Tn.documentElement,jn=cr("div")||{style:{}},cr("div"),nr=dr(nr),rr=nr+"Origin",jn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",$n=!!dr("perspective"),Rn=In.core.reverting,On=1)},fr=function(e){var t,n=e.ownerSVGElement,r=cr("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0);i.style.display="block",r.appendChild(i),Pn.appendChild(r);try{t=i.getBBox()}catch(e){}return r.removeChild(i),Pn.removeChild(r),t},pr=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},gr=function(e){var t,n;try{t=e.getBBox()}catch(r){t=fr(e),n=1}return t&&(t.width||t.height)||n||(t=fr(e)),!t||t.width||t.x||t.y?t:{x:+pr(e,["x","cx","x1"])||0,y:+pr(e,["y","cy","y1"])||0,width:0,height:0}},mr=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!gr(e))},yr=function(e,t){if(t){var n,r=e.style;t in Mn&&t!==rr&&(t=nr),r.removeProperty?("ms"!==(n=t.substr(0,2))&&"webkit"!==t.substr(0,6)||(t="-"+t),r.removeProperty("--"===n?t:t.replace(Dn,"-$1").toLowerCase())):r.removeAttribute(t)}},wr=function(e,t,n,r,i,s){var o=new pn(e._pt,t,n,0,1,s?Zn:Gn);return e._pt=o,o.b=r,o.e=i,e._props.push(n),o},br={deg:1,rad:1,turn:1},vr={grid:1,flex:1},xr=function e(t,n,r,i){var s,o,a,c,l=parseFloat(r)||0,u=(r+"").trim().substr((l+"").length)||"px",d=jn.style,h=Fn.test(n),f="svg"===t.tagName.toLowerCase(),p=(f?"client":"offset")+(h?"Width":"Height"),g=100,m="px"===i,y="%"===i;if(i===u||!l||br[i]||br[u])return l;if("px"!==u&&!m&&(l=e(t,n,r,"px")),c=t.getCTM&&mr(t),(y||"%"===u)&&(Mn[n]||~n.indexOf("adius")))return s=c?t.getBBox()[h?"width":"height"]:t[p],me(y?l/s*g:l/100*s);if(d[h?"width":"height"]=g+(m?u:i),o="rem"!==i&&~n.indexOf("adius")||"em"===i&&t.appendChild&&!f?t:t.parentNode,c&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==Tn&&o.appendChild||(o=Tn.body),(a=o._gsap)&&y&&a.width&&h&&a.time===It.time&&!a.uncache)return me(l/a.width*g);if(!y||"height"!==n&&"width"!==n)(y||"%"===u)&&!vr[lr(o,"display")]&&(d.position=lr(t,"position")),o===t&&(d.position="static"),o.appendChild(jn),s=jn[p],o.removeChild(jn),d.position="absolute";else{var w=t.style[n];t.style[n]=g+i,s=t[p],w?t.style[n]=w:yr(t,n)}return h&&y&&((a=fe(o)).time=It.time,a.width=o[p]),me(m?s*l/g:s&&l?g/s*l:0)},Er=function(e,t,n,r){var i;return On||hr(),t in Wn&&"transform"!==t&&~(t=Wn[t]).indexOf(",")&&(t=t.split(",")[0]),Mn[t]&&"transform"!==t?(i=Rr(e,r),i="transformOrigin"!==t?i[t]:i.svg?i.origin:$r(lr(e,rr))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=Ir[t]&&Ir[t](e,t,n)||lr(e,t)||pe(e,t)||("opacity"===t?1:0)),n&&!~(i+"").trim().indexOf(" ")?xr(e,t,i,n)+n:i},kr=function(e,t,n,r){if(!n||"none"===n){var i=dr(t,e,1),s=i&&lr(e,i,1);s&&s!==n?(t=i,n=s):"borderColor"===t&&(n=lr(e,"borderTopColor"))}var o,a,c,l,u,d,h,f,p,g,m,y=new pn(this._pt,e.style,t,0,1,cn),w=0,b=0;if(y.b=n,y.e=r,n+="","var(--"===(r+="").substring(0,6)&&(r=lr(e,r.substring(4,r.indexOf(")")))),"auto"===r&&(d=e.style[t],e.style[t]=r,r=lr(e,t)||r,d?e.style[t]=d:yr(e,t)),St(o=[n,r]),r=o[1],c=(n=o[0]).match(W)||[],(r.match(W)||[]).length){for(;a=W.exec(r);)h=a[0],p=r.substring(w,a.index),u?u=(u+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(u=1),h!==(d=c[b++]||"")&&(l=parseFloat(d)||0,m=d.substr((l+"").length),"="===h.charAt(1)&&(h=we(l,h)+m),f=parseFloat(h),g=h.substr((f+"").length),w=W.lastIndex-g.length,g||(g=g||x.units[t]||m,w===r.length&&(r+=g,y.e+=g)),m!==g&&(l=xr(e,t,d,g)||0),y._pt={_next:y._pt,p:p||1===b?p:",",s:l,c:f-l,m:u&&u<4||"zIndex"===t?Math.round:0});y.c=w<r.length?r.substring(w,r.length):""}else y.r="display"===t&&"none"===r?Zn:Gn;return H.test(r)&&(y.e=0),this._pt=y,y},_r={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Cr=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(e=n,n=r,r=e),t[0]=_r[n]||n,t[1]=_r[r]||r,t.join(" ")},Sr=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,s=t.t,o=s.style,a=t.u,c=s._gsap;if("all"===a||!0===a)o.cssText="",r=1;else for(i=(a=a.split(",")).length;--i>-1;)n=a[i],Mn[n]&&(r=1,n="transformOrigin"===n?rr:nr),yr(s,n);r&&(yr(s,nr),c&&(c.svg&&s.removeAttribute("transform"),o.scale=o.rotate=o.translate="none",Rr(s,1),c.uncache=1,sr(o)))}},Ir={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var s=e._pt=new pn(e._pt,t,n,0,0,Sr);return s.u=r,s.pr=-10,s.tween=i,e._props.push(n),1}}},Ar=[1,0,0,1,0,0],Tr={},Pr=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},Or=function(e){var t=lr(e,nr);return Pr(t)?Ar:t.substr(7).match(z).map(me)},jr=function(e,t){var n,r,i,s,o=e._gsap||fe(e),a=e.style,c=Or(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(c=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?Ar:c:(c!==Ar||e.offsetParent||e===Pn||o.svg||(i=a.display,a.display="block",(n=e.parentNode)&&(e.offsetParent||e.getBoundingClientRect().width)||(s=1,r=e.nextElementSibling,Pn.appendChild(e)),c=Or(e),i?a.display=i:yr(e,"display"),s&&(r?n.insertBefore(e,r):n?n.appendChild(e):Pn.removeChild(e))),t&&c.length>6?[c[0],c[1],c[4],c[5],c[12],c[13]]:c)},Nr=function(e,t,n,r,i,s){var o,a,c,l=e._gsap,u=i||jr(e,!0),d=l.xOrigin||0,h=l.yOrigin||0,f=l.xOffset||0,p=l.yOffset||0,g=u[0],m=u[1],y=u[2],w=u[3],b=u[4],v=u[5],x=t.split(" "),E=parseFloat(x[0])||0,k=parseFloat(x[1])||0;n?u!==Ar&&(a=g*w-m*y)&&(c=E*(-m/a)+k*(g/a)-(g*v-m*b)/a,E=E*(w/a)+k*(-y/a)+(y*v-w*b)/a,k=c):(E=(o=gr(e)).x+(~x[0].indexOf("%")?E/100*o.width:E),k=o.y+(~(x[1]||x[0]).indexOf("%")?k/100*o.height:k)),r||!1!==r&&l.smooth?(b=E-d,v=k-h,l.xOffset=f+(b*g+v*y)-b,l.yOffset=p+(b*m+v*w)-v):l.xOffset=l.yOffset=0,l.xOrigin=E,l.yOrigin=k,l.smooth=!!r,l.origin=t,l.originIsAbsolute=!!n,e.style[rr]="0px 0px",s&&(wr(s,l,"xOrigin",d,E),wr(s,l,"yOrigin",h,k),wr(s,l,"xOffset",f,l.xOffset),wr(s,l,"yOffset",p,l.yOffset)),e.setAttribute("data-svg-origin",E+" "+k)},Rr=function(e,t){var n=e._gsap||new Dt(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,s,o,a,c,l,u,d,h,f,p,g,m,y,w,b,v,E,k,_,C,S,I,A,T,P,O,j,N,R,$,M=e.style,L=n.scaleX<0,B="px",U="deg",D=getComputedStyle(e),F=lr(e,rr)||"0";return r=i=s=c=l=u=d=h=f=0,o=a=1,n.svg=!(!e.getCTM||!mr(e)),D.translate&&("none"===D.translate&&"none"===D.scale&&"none"===D.rotate||(M[nr]=("none"!==D.translate?"translate3d("+(D.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==D.rotate?"rotate("+D.rotate+") ":"")+("none"!==D.scale?"scale("+D.scale.split(" ").join(",")+") ":"")+("none"!==D[nr]?D[nr]:"")),M.scale=M.rotate=M.translate="none"),m=jr(e,n.svg),n.svg&&(n.uncache?(A=e.getBBox(),F=n.xOrigin-A.x+"px "+(n.yOrigin-A.y)+"px",I=""):I=!t&&e.getAttribute("data-svg-origin"),Nr(e,I||F,!!I||n.originIsAbsolute,!1!==n.smooth,m)),p=n.xOrigin||0,g=n.yOrigin||0,m!==Ar&&(v=m[0],E=m[1],k=m[2],_=m[3],r=C=m[4],i=S=m[5],6===m.length?(o=Math.sqrt(v*v+E*E),a=Math.sqrt(_*_+k*k),c=v||E?Un(E,v)*Ln:0,(d=k||_?Un(k,_)*Ln+c:0)&&(a*=Math.abs(Math.cos(d*Bn))),n.svg&&(r-=p-(p*v+g*k),i-=g-(p*E+g*_))):($=m[6],N=m[7],P=m[8],O=m[9],j=m[10],R=m[11],r=m[12],i=m[13],s=m[14],l=(y=Un($,j))*Ln,y&&(I=C*(w=Math.cos(-y))+P*(b=Math.sin(-y)),A=S*w+O*b,T=$*w+j*b,P=C*-b+P*w,O=S*-b+O*w,j=$*-b+j*w,R=N*-b+R*w,C=I,S=A,$=T),u=(y=Un(-k,j))*Ln,y&&(w=Math.cos(-y),R=_*(b=Math.sin(-y))+R*w,v=I=v*w-P*b,E=A=E*w-O*b,k=T=k*w-j*b),c=(y=Un(E,v))*Ln,y&&(I=v*(w=Math.cos(y))+E*(b=Math.sin(y)),A=C*w+S*b,E=E*w-v*b,S=S*w-C*b,v=I,C=A),l&&Math.abs(l)+Math.abs(c)>359.9&&(l=c=0,u=180-u),o=me(Math.sqrt(v*v+E*E+k*k)),a=me(Math.sqrt(S*S+$*$)),y=Un(C,S),d=Math.abs(y)>2e-4?y*Ln:0,f=R?1/(R<0?-R:R):0),n.svg&&(I=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!Pr(lr(e,nr)),I&&e.setAttribute("transform",I))),Math.abs(d)>90&&Math.abs(d)<270&&(L?(o*=-1,d+=c<=0?180:-180,c+=c<=0?180:-180):(a*=-1,d+=d<=0?180:-180)),t=t||n.uncache,n.x=r-((n.xPercent=r&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+B,n.y=i-((n.yPercent=i&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+B,n.z=s+B,n.scaleX=me(o),n.scaleY=me(a),n.rotation=me(c)+U,n.rotationX=me(l)+U,n.rotationY=me(u)+U,n.skewX=d+U,n.skewY=h+U,n.transformPerspective=f+B,(n.zOrigin=parseFloat(F.split(" ")[2])||!t&&n.zOrigin||0)&&(M[rr]=$r(F)),n.xOffset=n.yOffset=0,n.force3D=x.force3D,n.renderTransform=n.svg?zr:$n?Fr:Lr,n.uncache=0,n},$r=function(e){return(e=e.split(" "))[0]+" "+e[1]},Mr=function(e,t,n){var r=et(t);return me(parseFloat(t)+parseFloat(xr(e,"x",n+"px",r)))+r},Lr=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Fr(e,t)},Br="0deg",Ur="0px",Dr=") ",Fr=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,s=n.x,o=n.y,a=n.z,c=n.rotation,l=n.rotationY,u=n.rotationX,d=n.skewX,h=n.skewY,f=n.scaleX,p=n.scaleY,g=n.transformPerspective,m=n.force3D,y=n.target,w=n.zOrigin,b="",v="auto"===m&&e&&1!==e||!0===m;if(w&&(u!==Br||l!==Br)){var x,E=parseFloat(l)*Bn,k=Math.sin(E),_=Math.cos(E);E=parseFloat(u)*Bn,x=Math.cos(E),s=Mr(y,s,k*x*-w),o=Mr(y,o,-Math.sin(E)*-w),a=Mr(y,a,_*x*-w+w)}g!==Ur&&(b+="perspective("+g+Dr),(r||i)&&(b+="translate("+r+"%, "+i+"%) "),(v||s!==Ur||o!==Ur||a!==Ur)&&(b+=a!==Ur||v?"translate3d("+s+", "+o+", "+a+") ":"translate("+s+", "+o+Dr),c!==Br&&(b+="rotate("+c+Dr),l!==Br&&(b+="rotateY("+l+Dr),u!==Br&&(b+="rotateX("+u+Dr),d===Br&&h===Br||(b+="skew("+d+", "+h+Dr),1===f&&1===p||(b+="scale("+f+", "+p+Dr),y.style[nr]=b||"translate(0, 0)"},zr=function(e,t){var n,r,i,s,o,a=t||this,c=a.xPercent,l=a.yPercent,u=a.x,d=a.y,h=a.rotation,f=a.skewX,p=a.skewY,g=a.scaleX,m=a.scaleY,y=a.target,w=a.xOrigin,b=a.yOrigin,v=a.xOffset,x=a.yOffset,E=a.forceCSS,k=parseFloat(u),_=parseFloat(d);h=parseFloat(h),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),h+=p),h||f?(h*=Bn,f*=Bn,n=Math.cos(h)*g,r=Math.sin(h)*g,i=Math.sin(h-f)*-m,s=Math.cos(h-f)*m,f&&(p*=Bn,o=Math.tan(f-p),i*=o=Math.sqrt(1+o*o),s*=o,p&&(o=Math.tan(p),n*=o=Math.sqrt(1+o*o),r*=o)),n=me(n),r=me(r),i=me(i),s=me(s)):(n=g,s=m,r=i=0),(k&&!~(u+"").indexOf("px")||_&&!~(d+"").indexOf("px"))&&(k=xr(y,"x",u,"px"),_=xr(y,"y",d,"px")),(w||b||v||x)&&(k=me(k+w-(w*n+b*i)+v),_=me(_+b-(w*r+b*s)+x)),(c||l)&&(o=y.getBBox(),k=me(k+c/100*o.width),_=me(_+l/100*o.height)),o="matrix("+n+","+r+","+i+","+s+","+k+","+_+")",y.setAttribute("transform",o),E&&(y.style[nr]=o)},Wr=function(e,t,n,r,i){var s,o,a=360,c=O(i),l=parseFloat(i)*(c&&~i.indexOf("rad")?Ln:1)-r,u=r+l+"deg";return c&&("short"===(s=i.split("_")[1])&&(l%=a)!==l%180&&(l+=l<0?a:-360),"cw"===s&&l<0?l=(l+36e9)%a-~~(l/a)*a:"ccw"===s&&l>0&&(l=(l-36e9)%a-~~(l/a)*a)),e._pt=o=new pn(e._pt,t,n,r,l,Hn),o.e=u,o.u="deg",e._props.push(n),o},qr=function(e,t){for(var n in t)e[n]=t[n];return e},Hr=function(e,t,n){var r,i,s,o,a,c,l,u=qr({},n._gsap),d=n.style;for(i in u.svg?(s=n.getAttribute("transform"),n.setAttribute("transform",""),d[nr]=t,r=Rr(n,1),yr(n,nr),n.setAttribute("transform",s)):(s=getComputedStyle(n)[nr],d[nr]=t,r=Rr(n,1),d[nr]=s),Mn)(s=u[i])!==(o=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(a=et(s)!==(l=et(o))?xr(n,i,s,l):parseFloat(s),c=parseFloat(o),e._pt=new pn(e._pt,r,i,a,c-a,qn),e._pt.u=l||0,e._props.push(i));qr(r,u)};ge("padding,margin,Width,Radius",function(e,t){var n="Top",r="Right",i="Bottom",s="Left",o=(t<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map(function(n){return t<2?e+n:"border"+n+e});Ir[t>1?"border"+e:e]=function(e,t,n,r,i){var s,a;if(arguments.length<4)return s=o.map(function(t){return Er(e,t,n)}),5===(a=s.join(" ")).split(s[0]).length?s[0]:a;s=(r+"").split(" "),a={},o.forEach(function(e,t){return a[e]=s[t]=s[t]||s[(t-1)/2|0]}),e.init(t,a,i)}});var Vr,Kr,Gr={name:"css",register:hr,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var s,o,a,c,l,u,d,h,f,p,g,m,y,w,b,v,E=this._props,k=e.style,_=n.vars.startAt;for(d in On||hr(),this.styles=this.styles||ar(e),v=this.styles.props,this.tween=n,t)if("autoRound"!==d&&(o=t[d],!ae[d]||!Kt(d,t,n,r,e,i)))if(l=typeof o,u=Ir[d],"function"===l&&(l=typeof(o=o.call(n,r,e,i))),"string"===l&&~o.indexOf("random(")&&(o=dt(o)),u)u(this,e,d,o,n)&&(b=1);else if("--"===d.substr(0,2))s=(getComputedStyle(e).getPropertyValue(d)+"").trim(),o+="",_t.lastIndex=0,_t.test(s)||(h=et(s),f=et(o)),f?h!==f&&(s=xr(e,d,s,f)+f):h&&(o+=h),this.add(k,"setProperty",s,o,r,i,0,0,d),E.push(d),v.push(d,0,k[d]);else if("undefined"!==l){if(_&&d in _?(s="function"==typeof _[d]?_[d].call(n,r,e,i):_[d],O(s)&&~s.indexOf("random(")&&(s=dt(s)),et(s+"")||"auto"===s||(s+=x.units[d]||et(Er(e,d))||""),"="===(s+"").charAt(1)&&(s=Er(e,d))):s=Er(e,d),c=parseFloat(s),(p="string"===l&&"="===o.charAt(1)&&o.substr(0,2))&&(o=o.substr(2)),a=parseFloat(o),d in Wn&&("autoAlpha"===d&&(1===c&&"hidden"===Er(e,"visibility")&&a&&(c=0),v.push("visibility",0,k.visibility),wr(this,k,"visibility",c?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==d&&"transform"!==d&&~(d=Wn[d]).indexOf(",")&&(d=d.split(",")[0])),g=d in Mn)if(this.styles.save(d),"string"===l&&"var(--"===o.substring(0,6)&&(o=lr(e,o.substring(4,o.indexOf(")"))),a=parseFloat(o)),m||((y=e._gsap).renderTransform&&!t.parseTransform||Rr(e,t.parseTransform),w=!1!==t.smoothOrigin&&y.smooth,(m=this._pt=new pn(this._pt,k,nr,0,1,y.renderTransform,y,0,-1)).dep=1),"scale"===d)this._pt=new pn(this._pt,y,"scaleY",y.scaleY,(p?we(y.scaleY,p+a):a)-y.scaleY||0,qn),this._pt.u=0,E.push("scaleY",d),d+="X";else{if("transformOrigin"===d){v.push(rr,0,k[rr]),o=Cr(o),y.svg?Nr(e,o,0,w,0,this):((f=parseFloat(o.split(" ")[2])||0)!==y.zOrigin&&wr(this,y,"zOrigin",y.zOrigin,f),wr(this,k,d,$r(s),$r(o)));continue}if("svgOrigin"===d){Nr(e,o,1,w,0,this);continue}if(d in Tr){Wr(this,y,d,c,p?we(c,p+o):o);continue}if("smoothOrigin"===d){wr(this,y,"smooth",y.smooth,o);continue}if("force3D"===d){y[d]=o;continue}if("transform"===d){Hr(this,o,e);continue}}else d in k||(d=dr(d)||d);if(g||(a||0===a)&&(c||0===c)&&!zn.test(o)&&d in k)a||(a=0),(h=(s+"").substr((c+"").length))!==(f=et(o)||(d in x.units?x.units[d]:h))&&(c=xr(e,d,s,f)),this._pt=new pn(this._pt,g?y:k,d,c,(p?we(c,p+a):a)-c,g||"px"!==f&&"zIndex"!==d||!1===t.autoRound?qn:Kn),this._pt.u=f||0,h!==f&&"%"!==f&&(this._pt.b=s,this._pt.r=Vn);else if(d in k)kr.call(this,e,d,s,p?p+o:o);else if(d in e)this.add(e,d,s||e[d],p?p+o:o,r,i);else if("parseTransform"!==d){J(d,o);continue}g||(d in k?v.push(d,0,k[d]):"function"==typeof e[d]?v.push(d,2,e[d]()):v.push(d,1,s||e[d])),E.push(d)}b&&fn(this)},render:function(e,t){if(t.tween._time||!Rn())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:Er,aliases:Wn,getSetter:function(e,t,n){var r=Wn[t];return r&&r.indexOf(",")<0&&(t=r),t in Mn&&t!==rr&&(e._gsap.x||Er(e,"x"))?n&&Nn===n?"scale"===t?Xn:Qn:(Nn=n||{})&&("scale"===t?er:tr):e.style&&!R(e.style[t])?Yn:~t.indexOf("-")?Jn:sn(e,t)},core:{_removeProperty:yr,_getMatrix:jr}};In.utils.checkPrefix=dr,In.core.getStyleSaver=ar,Kr=ge("x,y,z,scale,scaleX,scaleY,xPercent,yPercent"+","+(Vr="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(e){Mn[e]=1}),ge(Vr,function(e){x.units[e]="deg",Tr[e]=1}),Wn[Kr[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+Vr,ge("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(e){var t=e.split(":");Wn[t[1]]=Kr[t[0]]}),ge("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){x.units[e]="px"}),In.registerPlugin(Gr);var Zr=In.registerPlugin(Gr)||In,Yr=(Zr.core.Tween,o(7583)),Jr=o(8287),Qr=o(5606),Xr=o.n(Qr),ei=o(6540),ti=o.t(ei,2),ni=o(5338),ri=o(4848);function ii(){const e=new Set;let t=[];const n=()=>function(){if("undefined"==typeof window)return;const n=n=>{return r=n.detail,void(t.some(({info:e})=>e.uuid===r.info.uuid)||(t=[...t,r],e.forEach(e=>e(t,{added:[r]}))));var r};return window.addEventListener("eip6963:announceProvider",n),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",n)}();let r=n();return{_listeners:()=>e,clear(){e.forEach(e=>e([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),r?.()},findProvider:({rdns:e})=>t.find(t=>t.info.rdns===e),getProviders:()=>t,reset(){this.clear(),r?.(),r=n()},subscribe:(n,{emitImmediately:r}={})=>(e.add(n),r&&n(t,{added:t}),()=>e.delete(n))}}var si=o(159),oi=o(4192),ai=o(4569),ci=o(6394),li=o(9873);const ui={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}},di={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0},hi={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}},fi={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0},pi={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}},gi={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0},mi={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1},yi={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1},wi={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}},bi={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}},vi={id:11155420,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0},xi={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}},Ei={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0},ki={id:11155111,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0},_i={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}},Ci=[wi,ki,{id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},ui,di,bi,vi,xi,Ei,mi,{id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},{id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},{id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},pi,gi,{id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},{id:56,network:"bsc",name:"Binance Smart Chain",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{privy:{http:["https://bsc-mainnet.rpc.privy.systems"]},default:{http:["https://56.rpc.thirdweb.com"]},public:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{etherscan:{name:"BscScan",url:"https://bscscan.com"},default:{name:"BscScan",url:"https://bscscan.com"}}},{id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},yi,{id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},hi,fi,_i,{id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},{id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},{id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},{id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}}],Si=new Set(Ci.map(e=>e.id)),Ii={path:"/api/v1/wallets",method:"POST"},Ai={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},Ti={path:"/api/v1/wallets/revoke",method:"POST"};var Pi=o(2341);class Oi extends Error{constructor({error:e,code:t}){super(e),this.error=e,this.code=t}}class ji extends Error{constructor({error:e,code:t}){super(e),this.code=t,this.error=e}}class Ni extends Error{constructor({error:e,code:t,response:n}){super(e),this.code=t,this.error=e,this.response=n}}var Ri=o(8287).Buffer;async function $i(e,t,{wallet_id:n,...r}){let i={version:1,url:e.getCompiledPath(Ai,{params:{wallet_id:n}}),method:Ai.method,headers:{"privy-app-id":e.app.appId},body:{...r}},{signature:s}=await async function(e,t){let n=Pi(t);if(void 0===n)throw new ji({error:"Failed to prepare the payload for signing",code:"invalid_input"});let r=Ri.from(n).toString("base64"),{signature:i}=await e({message:r});return{signature:i}}(t,i);return await e.fetchPrivyRoute(Ai,{body:r,params:{wallet_id:n},headers:{"privy-authorization-signature":s}})}const Mi={AC:"40123",AD:"312345",AE:"501234567",AF:"701234567",AG:"2684641234",AI:"2642351234",AL:"672123456",AM:"77123456",AO:"923123456",AR:"91123456789",AS:"6847331234",AT:"664123456",AU:"412345678",AW:"5601234",AX:"412345678",AZ:"401234567",BA:"61123456",BB:"2462501234",BD:"1812345678",BE:"470123456",BF:"70123456",BG:"43012345",BH:"36001234",BI:"79561234",BJ:"0195123456",BL:"690001234",BM:"4413701234",BN:"7123456",BO:"71234567",BQ:"3181234",BR:"11961234567",BS:"2423591234",BT:"17123456",BW:"71123456",BY:"294911911",BZ:"6221234",CA:"5062345678",CC:"412345678",CD:"991234567",CF:"70012345",CG:"061234567",CH:"781234567",CI:"0123456789",CK:"71234",CL:"221234567",CM:"671234567",CN:"13123456789",CO:"3211234567",CR:"83123456",CU:"51234567",CV:"9911234",CW:"95181234",CX:"412345678",CY:"96123456",CZ:"601123456",DE:"15123456789",DJ:"77831001",DK:"34412345",DM:"7672251234",DO:"8092345678",DZ:"551234567",EC:"991234567",EE:"51234567",EG:"1001234567",EH:"650123456",ER:"7123456",ES:"612345678",ET:"911234567",FI:"412345678",FJ:"7012345",FK:"51234",FM:"3501234",FO:"211234",FR:"612345678",GA:"06031234",GB:"7400123456",GD:"4734031234",GE:"555123456",GF:"694201234",GG:"7781123456",GH:"231234567",GI:"57123456",GL:"221234",GM:"3012345",GN:"601123456",GP:"690001234",GQ:"222123456",GR:"6912345678",GT:"51234567",GU:"6713001234",GW:"955012345",GY:"6091234",HK:"51234567",HN:"91234567",HR:"921234567",HT:"34101234",HU:"201234567",ID:"812345678",IE:"850123456",IL:"502345678",IM:"7924123456",IN:"8123456789",IO:"3801234",IQ:"7912345678",IR:"9123456789",IS:"6111234",IT:"3123456789",JE:"7797712345",JM:"8762101234",JO:"790123456",JP:"9012345678",KE:"712123456",KG:"700123456",KH:"91234567",KI:"72001234",KM:"3212345",KN:"8697652917",KP:"1921234567",KR:"1020000000",KW:"50012345",KY:"3453231234",KZ:"7710009998",LA:"2023123456",LB:"71123456",LC:"7582845678",LI:"660234567",LK:"712345678",LR:"770123456",LS:"50123456",LT:"61234567",LU:"628123456",LV:"21234567",LY:"912345678",MA:"650123456",MC:"612345678",MD:"62112345",ME:"60123456",MF:"690001234",MG:"321234567",MH:"2351234",MK:"72345678",ML:"65012345",MM:"92123456",MN:"88123456",MO:"66123456",MP:"6702345678",MQ:"696201234",MR:"22123456",MS:"6644923456",MT:"96961234",MU:"52512345",MV:"7712345",MW:"991234567",MX:"2221234567",MY:"123456789",MZ:"821234567",NA:"811234567",NC:"751234",NE:"93123456",NF:"381234",NG:"8021234567",NI:"81234567",NL:"612345678",NO:"40612345",NP:"9841234567",NR:"5551234",NU:"8884012",NZ:"211234567",OM:"92123456",PA:"61234567",PE:"912345678",PF:"87123456",PG:"70123456",PH:"9051234567",PK:"3012345678",PL:"512345678",PM:"551234",PR:"7872345678",PS:"599123456",PT:"912345678",PW:"6201234",PY:"961456789",QA:"33123456",RE:"692123456",RO:"712034567",RS:"601234567",RU:"9123456789",RW:"720123456",SA:"512345678",SB:"7421234",SC:"2510123",SD:"911231234",SE:"701234567",SG:"81234567",SH:"51234",SI:"31234567",SJ:"41234567",SK:"912123456",SL:"25123456",SM:"66661212",SN:"701234567",SO:"71123456",SR:"7412345",SS:"977123456",ST:"9812345",SV:"70123456",SX:"7215205678",SY:"944567890",SZ:"76123456",TA:"8999",TC:"6492311234",TD:"63012345",TG:"90112345",TH:"812345678",TJ:"917123456",TK:"7290",TL:"77212345",TM:"66123456",TN:"20123456",TO:"7715123",TR:"5012345678",TT:"8682911234",TV:"901234",TW:"912345678",TZ:"621234567",UA:"501234567",UG:"712345678",US:"2015550123",UY:"94231234",UZ:"912345678",VA:"3123456789",VC:"7844301234",VE:"4121234567",VG:"2843001234",VI:"3406421234",VN:"912345678",VU:"5912345",WF:"821234",WS:"7212345",XK:"43201234",YE:"712345678",YT:"639012345",ZA:"711234567",ZM:"955123456",ZW:"712345678"},Li={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:2(?:(?:[0-26-9]\\d|3[0-8]|5[0135-9])\\d|4(?:[02-9]\\d|10))|3(?:(?:[0-3589]\\d|6[1-9]|7[0-35-9])\\d|4(?:[0-578]\\d|90))|7(?:[013-57-9]\\d|2[0-8])\\d)\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:79[01]|83[0-36-9])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|[24-689])\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-36-9])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-36-9])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-5])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|5[01]))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|427|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[47]"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-46-9]|3[3-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-8]|5[0-5]|8[0-7]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["3052(?:0[0-8]|[1-9]\\d)\\d{4}|(?:2742|305[3-9])\\d{6}|(?:472|983)[2-47-9]\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[013-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function Bi(e,t){var n=Array.prototype.slice.call(t);return n.push(Li),e.apply(this,n)}var Ui={}.constructor;function Di(e){return null!=e&&e.constructor===Ui}function Fi(e){return Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fi(e)}function zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Wi(e,t,n){return(t=function(e){var t=function(e){if("object"!=Fi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Fi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Fi(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Hi(e){var t,n,r,i,s,o=(i=Array.prototype.slice.call(e),s=4,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,o,a=[],c=!0,l=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}(i,s)||function(e,t){if(e){if("string"==typeof e)return qi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qi(e,t):void 0}}(i,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],c=o[1],l=o[2],u=o[3];if("string"!=typeof a)throw new TypeError("A text for parsing must be a string.");if(t=a,c&&"string"!=typeof c){if(!Di(c))throw new Error("Invalid second argument: ".concat(c));l?(n=c,r=l):r=c}else u?(n=l,r=u):(n=void 0,r=l),c&&(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zi(Object(n),!0).forEach(function(t){Wi(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({defaultCountry:c},n));return{text:t,options:n,metadata:r}}var Vi="0-9---",Ki="".concat("--").concat("/").concat(".").concat(" ").concat("()\\[\\]").concat("~");function Gi(e){return Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gi(e)}function Zi(e){var t="function"==typeof Map?new Map:void 0;return Zi=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(Yi())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&Ji(i,n.prototype),i}(e,arguments,Qi(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ji(n,e)},Zi(e)}function Yi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Yi=function(){return!!e})()}function Ji(e,t){return Ji=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ji(e,t)}function Qi(e){return Qi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qi(e)}var Xi=function(e){function t(e){var n,r,i,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,s=[e],i=Qi(i=t),n=function(e,t){if(t&&("object"==Gi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(r,Yi()?Reflect.construct(i,s||[],Qi(r).constructor):i.apply(r,s)),Object.setPrototypeOf(n,t.prototype),n.name=n.constructor.name,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ji(e,t)}(t,e),n=t,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(Zi(Error));function es(e,t){e=e.split("-"),t=t.split("-");for(var n=e[0].split("."),r=t[0].split("."),i=0;i<3;i++){var s=Number(n[i]),o=Number(r[i]);if(s>o)return 1;if(o>s)return-1;if(!isNaN(s)&&isNaN(o))return 1;if(isNaN(s)&&!isNaN(o))return-1}return e[1]&&t[1]?e[1]>t[1]?1:e[1]<t[1]?-1:0:!e[1]&&t[1]?1:e[1]&&!t[1]?-1:0}function ts(e){return ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ts(e)}function ns(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ss(r.key),r)}}function is(e,t,n){return t&&rs(e.prototype,t),n&&rs(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ss(e){var t=function(e){if("object"!=ts(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ts(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ts(t)?t:t+""}var os=" ext. ",as=/^\d+$/,cs=function(){return is(function e(t){ns(this,e),ps(t),this.metadata=t,ys.call(this,t)},[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(e){return"001"!==e})}},{key:"getCountryMetadata",value:function(e){return this.metadata.countries[e]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(e){return void 0!==this.getCountryMetadata(e)}},{key:"hasCallingCode",value:function(e){if(this.getCountryCodesForCallingCode(e))return!0;if(this.nonGeographic()){if(this.nonGeographic()[e])return!0}else{var t=this.countryCallingCodes()[e];if(t&&1===t.length&&"001"===t[0])return!0}}},{key:"isNonGeographicCallingCode",value:function(e){return this.nonGeographic()?!!this.nonGeographic()[e]:!this.getCountryCodesForCallingCode(e)}},{key:"country",value:function(e){return this.selectNumberingPlan(e)}},{key:"selectNumberingPlan",value:function(e,t){if(e&&as.test(e)&&(t=e,e=null),e&&"001"!==e){if(!this.hasCountry(e))throw new Error("Unknown country: ".concat(e));this.numberingPlan=new ls(this.getCountryMetadata(e),this)}else if(t){if(!this.hasCallingCode(t))throw new Error("Unknown calling code: ".concat(t));this.numberingPlan=new ls(this.getNumberingPlanMetadata(t),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(e){var t=this.countryCallingCodes()[e];if(t){if(1===t.length&&3===t[0].length)return;return t}}},{key:"getCountryCodeForCallingCode",value:function(e){var t=this.getCountryCodesForCallingCode(e);if(t)return t[0]}},{key:"getNumberingPlanMetadata",value:function(e){var t=this.getCountryCodeForCallingCode(e);if(t)return this.getCountryMetadata(t);if(this.nonGeographic()){var n=this.nonGeographic()[e];if(n)return n}else{var r=this.countryCallingCodes()[e];if(r&&1===r.length&&"001"===r[0])return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(e){return this.numberingPlan.type(e)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(e){return this.selectNumberingPlan(e)}},{key:"hasSelectedNumberingPlan",value:function(){return void 0!==this.numberingPlan}}])}(),ls=function(){return is(function e(t,n){ns(this,e),this.globalMetadataObject=n,this.metadata=t,ys.call(this,n.metadata)},[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(e){return e[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var e=this;return(this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[]).map(function(t){return new us(t,e)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(e){return e[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return!(this.types()&&0===this.types().length||!this.types())}},{key:"type",value:function(e){if(this.hasTypes()&&fs(this.types(),e))return new hs(fs(this.types(),e),this)}},{key:"ext",value:function(){return this.v1||this.v2?os:this.metadata[13]||os}}])}(),us=function(){return is(function e(t,n){ns(this,e),this._format=t,this.metadata=n},[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!(!this.nationalPrefixFormattingRule()||ds.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])}(),ds=/^\(?\$1\)?$/,hs=function(){return is(function e(t,n){ns(this,e),this.type=t,this.metadata=n},[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])}();function fs(e,t){switch(t){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}function ps(e){if(!e)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!Di(e)||!Di(e.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(Di(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+gs(e)+": "+e,"."))}var gs=function(e){return ts(e)};function ms(e,t){if((t=new cs(t)).hasCountry(e))return t.selectNumberingPlan(e).countryCallingCode();throw new Error("Unknown country: ".concat(e))}function ys(e){var t=e.version;"number"==typeof t?(this.v1=1===t,this.v2=2===t,this.v3=3===t,this.v4=4===t):t?-1===es(t,"1.2.0")?this.v2=!0:-1===es(t,"1.7.35")?this.v3=!0:this.v4=!0:this.v1=!0}var ws=function(e){return"([".concat(Vi,"]{1,").concat(e,"})")};function bs(e){var t="[ \\t,]*",n="[:\\.]?[ \\t,-]*",r="#?",i="[ \\t]*";return";ext="+ws("20")+"|"+t+"(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)"+n+ws("20")+"#?|"+t+"(?:[x#~]|int|)"+n+ws("9")+"#?|[- ]+"+ws("6")+"#|"+i+"(?:,{2}|;)"+n+ws("15")+"#?|"+i+"(?:,)+"+n+ws("9")+r}var vs="["+Vi+"]{2}",xs="[+]{0,1}(?:["+Ki+"]*["+Vi+"]){3,}["+Ki+Vi+"]*",Es=new RegExp("^[+]{0,1}(?:["+Ki+"]*["+Vi+"]){1,2}$","i"),ks=xs+"(?:"+bs()+")?",_s=new RegExp("^"+vs+"$|^"+ks+"$","i"),Cs=new RegExp("(?:"+bs()+")$","i");function Ss(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Is={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function As(e){return Is[e]}function Ts(e){for(var t,n="",r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ss(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ss(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.split(""));!(t=r()).done;){var i=As(t.value);i&&(n+=i)}return n}function Ps(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Os(e){for(var t,n="",r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ps(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ps(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.split(""));!(t=r()).done;)n+=js(t.value,n)||"";return n}function js(e,t,n){return"+"===e?t?void("function"==typeof n&&n("end")):"+":As(e)}function Ns(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Rs(e,t,n){return $s(e,t,void 0,n)}function $s(e,t,n,r){t&&(r=new cs(r.metadata)).selectNumberingPlan(t);var i=r.type(n),s=i&&i.possibleLengths()||r.possibleLengths();if(!s)return"IS_POSSIBLE";if("FIXED_LINE_OR_MOBILE"===n){if(!r.type("FIXED_LINE"))return $s(e,t,"MOBILE",r);var o=r.type("MOBILE");o&&(s=function(e,t){for(var n,r=e.slice(),i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ns(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ns(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t);!(n=i()).done;){var s=n.value;e.indexOf(s)<0&&r.push(s)}return r.sort(function(e,t){return e-t})}(s,o.possibleLengths()))}else if(n&&!i)return"INVALID_LENGTH";var a=e.length,c=s[0];return c===a?"IS_POSSIBLE":c>a?"TOO_SHORT":s[s.length-1]<a?"TOO_LONG":s.indexOf(a,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function Ms(e,t,n){return"IS_POSSIBLE"===Rs(e,t,n)}function Ls(e,t){return e=e||"",new RegExp("^(?:"+t+")$").test(e)}function Bs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Us=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function Ds(e,t,n){if(t=t||{},e.country||e.countryCallingCode){(n=new cs(n)).selectNumberingPlan(e.country,e.countryCallingCode);var r=t.v2?e.nationalNumber:e.phone;if(Ls(r,n.nationalNumberPattern())){if(Fs(r,"FIXED_LINE",n))return n.type("MOBILE")&&""===n.type("MOBILE").pattern()?"FIXED_LINE_OR_MOBILE":n.type("MOBILE")?Fs(r,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE":"FIXED_LINE_OR_MOBILE";for(var i,s=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Bs(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bs(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(Us);!(i=s()).done;){var o=i.value;if(Fs(r,o,n))return o}}}}function Fs(e,t,n){return!(!(t=n.type(t))||!t.pattern())&&!(t.possibleLengths()&&t.possibleLengths().indexOf(e.length)<0)&&Ls(e,t.pattern())}var zs=new RegExp("(["+Vi+"])");function Ws(e,t,n,r){if(t){var i=new cs(r);i.selectNumberingPlan(t,n);var s=new RegExp(i.IDDPrefix());if(0===e.search(s)){var o=(e=e.slice(e.match(s)[0].length)).match(zs);if(!(o&&null!=o[1]&&o[1].length>0&&"0"===o[1]))return e}}}function qs(e,t){if(e&&t.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+t.numberingPlan.nationalPrefixForParsing()+")"),r=n.exec(e);if(r){var i,s,o,a=r.length-1,c=a>0&&r[a];if(t.nationalPrefixTransformRule()&&c)i=e.replace(n,t.nationalPrefixTransformRule()),a>1&&(s=r[1]);else{var l=r[0];i=e.slice(l.length),c&&(s=r[1])}if(c){var u=e.indexOf(r[1]);e.slice(0,u)===t.numberingPlan.nationalPrefix()&&(o=t.numberingPlan.nationalPrefix())}else o=r[0];return{nationalNumber:i,nationalPrefix:o,carrierCode:s}}}return{nationalNumber:e}}function Hs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Vs(e,t){var n=t.countries,r=t.metadata;r=new cs(r);for(var i,s=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Hs(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hs(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n);!(i=s()).done;){var o=i.value;if(r.selectNumberingPlan(o),r.leadingDigits()){if(e&&0===e.search(r.leadingDigits()))return o}else if(Ds({phone:e,country:o},void 0,r.metadata))return o}}function Ks(e,t){var n=t.nationalNumber,r=t.metadata,i=r.getCountryCodesForCallingCode(e);if(i)return 1===i.length?i[0]:Vs(n,{countries:i,metadata:r.metadata})}function Gs(e,t,n){var r=qs(e,n),i=r.carrierCode,s=r.nationalNumber;if(s!==e){if(!function(e,t,n){return!(Ls(e,n.nationalNumberPattern())&&!Ls(t,n.nationalNumberPattern()))}(e,s,n))return{nationalNumber:e};if(n.numberingPlan.possibleLengths()&&(t||(t=Ks(n.numberingPlan.callingCode(),{nationalNumber:s,metadata:n})),!function(e,t,n){switch(Rs(e,t,n)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}(s,t,n)))return{nationalNumber:e}}return{nationalNumber:s,carrierCode:i}}function Zs(e,t,n,r,i){var s=t||n?ms(t||n,i):r;if(0===e.indexOf(s)){(i=new cs(i)).selectNumberingPlan(t||n,s);var o=e.slice(s.length),a=Gs(o,t,i).nationalNumber,c=Gs(e,t,i).nationalNumber;if(!Ls(c,i.nationalNumberPattern())&&Ls(a,i.nationalNumberPattern())||"TOO_LONG"===Rs(c,t,i))return{countryCallingCode:s,number:o}}return{number:e}}function Ys(e,t,n,r,i){if(!e)return{};var s;if("+"!==e[0]){var o=Ws(e,t||n,r,i);if(!o||o===e){if(t||n||r){var a=Zs(e,t,n,r,i),c=a.countryCallingCode,l=a.number;if(c)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:c,number:l}}return{number:e}}s=!0,e="+"+o}if("0"===e[1])return{};i=new cs(i);for(var u=2;u-1<=3&&u<=e.length;){var d=e.slice(1,u);if(i.hasCallingCode(d))return i.selectNumberingPlan(d),{countryCallingCodeSource:s?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:d,number:e.slice(u)};u++}return{}}function Js(e){return e.replace(new RegExp("[".concat(Ki,"]+"),"g")," ").trim()}var Qs=/(\$\d)/;function Xs(e,t,n){var r=n.useInternationalFormat,i=n.withNationalPrefix,s=(n.carrierCode,n.metadata,e.replace(new RegExp(t.pattern()),r?t.internationalFormat():i&&t.nationalPrefixFormattingRule()?t.format().replace(Qs,t.nationalPrefixFormattingRule()):t.format()));return r?Js(s):s}var eo=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/,to={formatExtension:function(e,t,n){return"".concat(e).concat(n.ext()).concat(t)}};function no(e,t,n,r,i){var s,o,a=(s=r.formats(),o=e,function(e,t){for(var n=0;n<e.length;){if(t(e[n]))return e[n];n++}}(s,function(e){if(e.leadingDigitsPatterns().length>0){var t=e.leadingDigitsPatterns()[e.leadingDigitsPatterns().length-1];if(0!==o.search(t))return!1}return Ls(o,e.pattern())}));return a?Xs(e,a,{useInternationalFormat:"INTERNATIONAL"===n,withNationalPrefix:!a.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!i||!1!==i.nationalPrefix,carrierCode:t,metadata:r}):e}function ro(e,t,n,r){return t?r(e,t,n):e}function io(e){return io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},io(e)}function so(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?so(Object(n),!0).forEach(function(t){ao(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):so(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ao(e,t,n){return(t=lo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lo(r.key),r)}}function lo(e){var t=function(e){if("object"!=io(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=io(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==io(t)?t:t+""}var uo=function(){return e=function e(t,n,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new TypeError("First argument is required");if("string"!=typeof t)throw new TypeError("First argument must be a string");if("+"===t[0]&&!n)throw new TypeError("`metadata` argument not passed");if(Di(n)&&Di(n.countries)){r=n;var i=t;if(!fo.test(i))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var s=Ys(i,void 0,void 0,void 0,r);if(t=s.countryCallingCode,!(n=s.number))throw new Error("Invalid `number` argument passed: too short")}if(!n)throw new TypeError("`nationalNumber` argument is required");if("string"!=typeof n)throw new TypeError("`nationalNumber` argument must be a string");ps(r);var o=function(e,t){var n,r,i=new cs(t);return ho(e)?(n=e,i.selectNumberingPlan(n),r=i.countryCallingCode()):r=e,{country:n,countryCallingCode:r}}(t,r),a=o.country,c=o.countryCallingCode;this.country=a,this.countryCallingCode=c,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return r}},t=[{key:"setExt",value:function(e){this.ext=e}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:(e=this.countryCallingCode,t=this.nationalNumber,n=this.getMetadata(),(r=new cs(n).getCountryCodesForCallingCode(e))?r.filter(function(e){return function(e,t,n){var r=new cs(n);return r.selectNumberingPlan(t),r.numberingPlan.possibleLengths().indexOf(e.length)>=0}(t,e,n)}):[]);var e,t,n,r}},{key:"isPossible",value:function(){return function(e,t,n){if(void 0===t&&(t={}),n=new cs(n),t.v2){if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!n.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));n.selectNumberingPlan(e.country)}else{if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}}if(n.possibleLengths())return Ms(e.phone||e.nationalNumber,e.country,n);if(e.countryCallingCode&&n.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return e=this,t={v2:!0},n=this.getMetadata(),t=t||{},(n=new cs(n)).selectNumberingPlan(e.country,e.countryCallingCode),n.hasTypes()?void 0!==Ds(e,t,n.metadata):Ls(t.v2?e.nationalNumber:e.phone,n.nationalNumberPattern());var e,t,n}},{key:"isNonGeographic",value:function(){return new cs(this.getMetadata()).isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(e){return this.number===e.number&&this.ext===e.ext}},{key:"getType",value:function(){return Ds(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(e,t){return function(e,t,n,r){if(n=n?function(){for(var e=1,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(;e<n.length;){if(n[e])for(var i in n[e])n[0][i]=n[e][i];e++}return n[0]}({},to,n):to,r=new cs(r),e.country&&"001"!==e.country){if(!r.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));r.selectNumberingPlan(e.country)}else{if(!e.countryCallingCode)return e.phone||"";r.selectNumberingPlan(e.countryCallingCode)}var i,s=r.countryCallingCode(),o=n.v2?e.nationalNumber:e.phone;switch(t){case"NATIONAL":return o?ro(i=no(o,e.carrierCode,"NATIONAL",r,n),e.ext,r,n.formatExtension):"";case"INTERNATIONAL":return o?(i=no(o,null,"INTERNATIONAL",r,n),ro(i="+".concat(s," ").concat(i),e.ext,r,n.formatExtension)):"+".concat(s);case"E.164":return"+".concat(s).concat(o);case"RFC3966":return function(e){var t=e.number,n=e.ext;if(!t)return"";if("+"!==t[0])throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(t).concat(n?";ext="+n:"")}({number:"+".concat(s).concat(o),ext:e.ext});case"IDD":if(!n.fromCountry)return;var a=function(e,t,n,r,i){if(ms(r,i.metadata)===n){var s=no(e,t,"NATIONAL",i);return"1"===n?n+" "+s:s}var o=function(e,t,n){var r=new cs(n);return r.selectNumberingPlan(e,void 0),r.defaultIDDPrefix()?r.defaultIDDPrefix():eo.test(r.IDDPrefix())?r.IDDPrefix():void 0}(r,0,i.metadata);if(o)return"".concat(o," ").concat(n," ").concat(no(e,null,"INTERNATIONAL",i))}(o,e.carrierCode,s,n.fromCountry,r);return ro(a,e.ext,r,n.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(t,'"'))}}(this,e,t?oo(oo({},t),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(e){return this.format("NATIONAL",e)}},{key:"formatInternational",value:function(e){return this.format("INTERNATIONAL",e)}},{key:"getURI",value:function(e){return this.format("RFC3966",e)}}],t&&co(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),ho=function(e){return/^[A-Z]{2}$/.test(e)},fo=/^\+\d+$/,po="(["+Vi+"]|[\\-\\.\\(\\)]?)",go=new RegExp("^\\+"+po+"*["+Vi+"]"+po+"*$","g"),mo=new RegExp("^(["+Vi+"]+((\\-)*["+Vi+"])*\\.)*[a-zA-Z]+((\\-)*["+Vi+"])*\\.?$","g"),yo=";phone-context=";var wo=new RegExp("[+"+Vi+"]"),bo=new RegExp("[^"+Vi+"#]+$");function vo(e,t,n){if(t=t||{},n=new cs(n),t.defaultCountry&&!n.hasCountry(t.defaultCountry)){if(t.v2)throw new Xi("INVALID_COUNTRY");throw new Error("Unknown country: ".concat(t.defaultCountry))}var r=function(e,t,n){var r=function(e,t){var n,r=t.extractFormattedPhoneNumber,i=function(e){var t=e.indexOf(yo);if(t<0)return null;var n=t+15;if(n>=e.length)return"";var r=e.indexOf(";",n);return r>=0?e.substring(n,r):e.substring(n)}(e);if(!function(e){return null===e||0!==e.length&&(go.test(e)||mo.test(e))}(i))throw new Xi("NOT_A_NUMBER");if(null===i)n=r(e)||"";else{n="","+"===i.charAt(0)&&(n+=i);var s,o=e.indexOf("tel:");s=o>=0?o+4:0;var a=e.indexOf(yo);n+=e.substring(s,a)}var c=n.indexOf(";isub=");if(c>0&&(n=n.substring(0,c)),""!==n)return n}(e,{extractFormattedPhoneNumber:function(e){return function(e,t,n){if(e)if(e.length>250){if(n)throw new Xi("TOO_LONG")}else{if(!1===t)return e;var r=e.search(wo);if(!(r<0))return e.slice(r).replace(bo,"")}}(e,n,t)}});if(!r)return{};if(!function(e){return e.length>=2&&_s.test(e)}(r))return function(e){return Es.test(e)}(r)?{error:"TOO_SHORT"}:{};var i=function(e){var t=e.search(Cs);if(t<0)return{};for(var n=e.slice(0,t),r=e.match(Cs),i=1;i<r.length;){if(r[i])return{number:n,ext:r[i]};i++}}(r);return i.ext?i:{number:r}}(e,t.v2,t.extract),i=r.number,s=r.ext,o=r.error;if(!i){if(t.v2){if("TOO_SHORT"===o)throw new Xi("TOO_SHORT");throw new Xi("NOT_A_NUMBER")}return{}}var a=function(e,t,n,r){var i,s=Ys(Os(e),void 0,t,n,r.metadata),o=s.countryCallingCodeSource,a=s.countryCallingCode,c=s.number;if(a)r.selectNumberingPlan(a);else{if(!c||!t&&!n)return{};r.selectNumberingPlan(t,n),t&&(i=t),a=n||ms(t,r.metadata)}if(!c)return{countryCallingCodeSource:o,countryCallingCode:a};var l=Gs(Os(c),i,r),u=l.nationalNumber,d=l.carrierCode,h=Ks(a,{nationalNumber:u,metadata:r});return h&&(i=h,"001"===h||r.selectNumberingPlan(i)),{country:i,countryCallingCode:a,countryCallingCodeSource:o,nationalNumber:u,carrierCode:d}}(i,t.defaultCountry,t.defaultCallingCode,n),c=a.country,l=a.nationalNumber,u=a.countryCallingCode,d=a.countryCallingCodeSource,h=a.carrierCode;if(!n.hasSelectedNumberingPlan()){if(t.v2)throw new Xi("INVALID_COUNTRY");return{}}if(!l||l.length<2){if(t.v2)throw new Xi("TOO_SHORT");return{}}if(l.length>17){if(t.v2)throw new Xi("TOO_LONG");return{}}if(t.v2){var f=new uo(u,l,n.metadata);return c&&(f.country=c),h&&(f.carrierCode=h),s&&(f.ext=s),f.__countryCallingCodeSource=d,f}var p=!!(t.extended?n.hasSelectedNumberingPlan():c)&&Ls(l,n.nationalNumberPattern());return t.extended?{country:c,countryCallingCode:u,carrierCode:h,valid:p,possible:!!p||!(!0!==t.extended||!n.possibleLengths()||!Ms(l,c,n)),phone:l,ext:s}:p?function(e,t,n){var r={country:e,phone:t};return n&&(r.ext=n),r}(c,l,s):{}}function xo(e){return xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xo(e)}function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ko(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(n),!0).forEach(function(t){_o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _o(e,t,n){return(t=function(e){var t=function(e){if("object"!=xo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=xo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xo(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Co(e){return Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Co(e)}function So(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Io(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?So(Object(n),!0).forEach(function(t){Ao(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):So(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ao(e,t,n){return(t=function(e){var t=function(e){if("object"!=Co(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Co(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Co(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function To(e){return To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},To(e)}function Po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Po(Object(n),!0).forEach(function(t){jo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Po(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jo(e,t,n){return(t=function(e){var t=function(e){if("object"!=To(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=To(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==To(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function No(){var e=Hi(arguments),t=e.text,n=e.options,r=e.metadata,i=function(e,t,n){t&&t.defaultCountry&&!function(e,t){return t.countries.hasOwnProperty(e)}(t.defaultCountry,n)&&(t=Io(Io({},t),{},{defaultCountry:void 0}));try{return function(e,t,n){return vo(e,ko(ko({},t),{},{v2:!0}),n)}(e,t,n)}catch(e){if(!(e instanceof Xi))throw e}}(t,n=Oo(Oo({},n),{},{extract:!1}),r);return i&&i.isPossible()||!1}function Ro(){return Bi(ms,arguments)}function $o(e){return $o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$o(e)}function Mo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lo(r.key),r)}}function Lo(e){var t=function(e){if("object"!=$o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=$o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$o(t)?t:t+""}var Bo=function(){return e=function e(t){var n=t.onCountryChange,r=t.onCallingCodeChange;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onCountryChange=n,this.onCallingCodeChange=r},t=[{key:"reset",value:function(e){var t=e.country,n=e.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(t,n)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberIsModified=!1,this.nationalPrefix=void 0,this.carrierCode=void 0,this.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix=void 0}},{key:"update",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];this[r]=e[r]}}},{key:"initCountryAndCallingCode",value:function(e,t){this.setCountry(e),this.setCallingCode(t)}},{key:"setCountry",value:function(e){this.country=e,this.onCountryChange(e)}},{key:"setCallingCode",value:function(e){this.callingCode=e,this.onCallingCodeChange(e,this.country)}},{key:"startInternationalNumber",value:function(e,t){this.international=!0,this.initCountryAndCallingCode(e,t)}},{key:"appendDigits",value:function(e){this.digits+=e}},{key:"appendNationalSignificantNumberDigits",value:function(e){this.nationalSignificantNumber+=e}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}],t&&Mo(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Uo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Do="x",Fo=new RegExp(Do);function zo(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function Wo(e,t){return")"===e[t]&&t++,function(e){for(var t=[],n=0;n<e.length;)"("===e[n]?t.push(n):")"===e[n]&&t.pop(),n++;var r=0,i="";t.push(e.length);for(var s=0,o=t;s<o.length;s++){var a=o[s];i+=e.slice(r,a),r=a+1}return i}(e.slice(0,t))}function qo(e,t,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix;if(new RegExp("^(?:".concat(t.pattern(),")$")).test(e.nationalSignificantNumber))return function(e,t,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix;if(e.nationalSignificantNumber,e.international,e.nationalPrefix,e.carrierCode,i(t)){var o=Ho(e,t,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:s,metadata:r});if(o)return o}return Ho(e,t,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:s,metadata:r})}(e,t,{metadata:r,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:s})}function Ho(e,t,n){var r=n.metadata,i=n.useNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix,o=Xs(e.nationalSignificantNumber,t,{carrierCode:e.carrierCode,useInternationalFormat:e.international,withNationalPrefix:i,metadata:r});if(i||(e.nationalPrefix?o=e.nationalPrefix+s(t)+o:e.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix&&(o=e.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix+" "+o)),function(e,t){return Ts(e)===t.getNationalDigits()}(o,e))return o}function Vo(e){return Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vo(e)}function Ko(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Go(r.key),r)}}function Go(e){var t=function(e){if("object"!=Vo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Vo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Vo(t)?t:t+""}var Zo=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"parse",value:function(e){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(e),1!==this.context.length)throw new Error("Non-finalized contexts left when pattern parse ended");var t=this.context[0],n=t.branches,r=t.instructions;if(n)return{op:"|",args:n.concat([Xo(r)])};if(0===r.length)throw new Error("Pattern is required");return 1===r.length?r[0]:r}},{key:"startContext",value:function(e){this.context.push(e)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(e){if(!e)throw new Error("Pattern is required");var t=e.match(Qo);if(t){var n=t[1],r=e.slice(0,t.index),i=e.slice(t.index+n.length);switch(n){case"(?:":r&&this.parsePattern(r),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(r&&this.parsePattern(r),0===this.getContext().instructions.length)throw new Error('No instructions found after "|" operator in an "or" group');var s=this.getContext().branches;s.push(Xo(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:s});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(r&&this.parsePattern(r),!this.getContext().branches){if(1!==this.context.length)throw new Error('"branches" not found in an "or" group context');this.getContext().branches=[]}this.getContext().branches.push(Xo(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":r&&this.parsePattern(r),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:Yo(r)});break;default:throw new Error("Unknown operator: ".concat(n))}i&&this.parsePattern(i)}else{if(Jo.test(e))throw new Error("Illegal characters found in a pattern: ".concat(e));this.getContext().instructions=this.getContext().instructions.concat(e.split(""))}}}],t&&Ko(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Yo(e){for(var t=[],n=0;n<e.length;){if("-"===e[n]){if(0===n||n===e.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(e));for(var r=e[n-1].charCodeAt(0)+1,i=e[n+1].charCodeAt(0)-1,s=r;s<=i;)t.push(String.fromCharCode(s)),s++}else t.push(e[n]);n++}return t}var Jo=/[\(\)\[\]\?\:\|]/,Qo=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function Xo(e){return 1===e.length?e[0]:e}function ea(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ta(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ta(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function na(e){return na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},na(e)}function ra(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ia(r.key),r)}}function ia(e){var t=function(e){if("object"!=na(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=na(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==na(t)?t:t+""}var sa=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.matchTree=(new Zo).parse(t)},t=[{key:"match",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).allowOverflow;if(!e)throw new Error("String is required");var n=oa(e.split(""),this.matchTree,!0);if(n&&n.match&&delete n.matchedChars,!n||!n.overflow||t)return n}}],t&&ra(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function oa(e,t,n){if("string"==typeof t){var r=e.join("");return 0===t.indexOf(r)?e.length===t.length?{match:!0,matchedChars:e}:{partialMatch:!0}:0===r.indexOf(t)?n&&e.length>t.length?{overflow:!0}:{match:!0,matchedChars:e.slice(0,t.length)}:void 0}if(Array.isArray(t)){for(var i=e.slice(),s=0;s<t.length;){var o=oa(i,t[s],n&&s===t.length-1);if(!o)return;if(o.overflow)return o;if(!o.match){if(o.partialMatch)return{partialMatch:!0};throw new Error("Unsupported match result:\n".concat(JSON.stringify(o,null,2)))}if(0===(i=i.slice(o.matchedChars.length)).length)return s===t.length-1?{match:!0,matchedChars:e}:{partialMatch:!0};s++}return n?{overflow:!0}:{match:!0,matchedChars:e.slice(0,e.length-i.length)}}switch(t.op){case"|":for(var a,c,l=ea(t.args);!(c=l()).done;){var u=oa(e,c.value,n);if(u){if(u.overflow)return u;if(u.match)return{match:!0,matchedChars:u.matchedChars};if(!u.partialMatch)throw new Error("Unsupported match result:\n".concat(JSON.stringify(u,null,2)));a=!0}}return a?{partialMatch:!0}:void 0;case"[]":for(var d,h=ea(t.args);!(d=h()).done;){var f=d.value;if(e[0]===f)return 1===e.length?{match:!0,matchedChars:e}:n?{overflow:!0}:{match:!0,matchedChars:[f]}}return;default:throw new Error("Unsupported instruction tree: ".concat(t))}}function aa(e){return aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aa(e)}function ca(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return la(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?la(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function la(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ua(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,da(r.key),r)}}function da(e){var t=function(e){if("object"!=aa(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=aa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==aa(t)?t:t+""}var ha=zo("9",15),fa=/[- ]/,pa=new RegExp("["+Ki+"]*\\$1["+Ki+"]*(\\$\\d["+Ki+"]*)*$"),ga=function(){return e=function e(t){t.state;var n=t.metadata;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.metadata=n,this.resetFormat()},t=[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(e,t){this.resetFormat(),e?(this.isNANP="1"===e.callingCode(),this.matchingFormats=e.formats(),t.nationalSignificantNumber&&this.narrowDownMatchingFormats(t)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(e,t){var n=this;if("IS_POSSIBLE"===Rs(t.nationalSignificantNumber,t.country,this.metadata))for(var r,i=ca(this.matchingFormats);!(r=i()).done;){var s=r.value,o=qo(t,s,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(e){return n.shouldTryNationalPrefixFormattingRule(e,{international:t.international,nationalPrefix:t.nationalPrefix})},getSeparatorAfterNationalPrefix:function(e){return n.getSeparatorAfterNationalPrefix(e)}});if(o)return this.resetFormat(),this.chosenFormat=s,this.setNationalNumberTemplate(o.replace(/\d/g,Do),t),this.populatedNationalNumberTemplate=o,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(Do),o}return this.formatNationalNumberWithNextDigits(e,t)}},{key:"formatNationalNumberWithNextDigits",value:function(e,t){var n=this.chosenFormat,r=this.chooseFormat(t);if(r)return r===n?this.formatNextNationalNumberDigits(e):this.formatNextNationalNumberDigits(t.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(e){var t=this,n=e.nationalSignificantNumber,r=e.nationalPrefix,i=e.international,s=n,o=s.length-3;o<0&&(o=0),this.matchingFormats=this.matchingFormats.filter(function(e){return t.formatSuits(e,i,r)&&t.formatMatches(e,s,o)}),this.chosenFormat&&-1===this.matchingFormats.indexOf(this.chosenFormat)&&this.resetFormat()}},{key:"formatSuits",value:function(e,t,n){return!(n&&!e.usesNationalPrefix()&&!e.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!t&&!n&&e.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(e,t,n){var r=e.leadingDigitsPatterns().length;if(0===r)return!0;n=Math.min(n,r-1);var i=e.leadingDigitsPatterns()[n];if(t.length<3)try{return void 0!==new sa(i).match(t,{allowOverflow:!0})}catch(e){return console.error(e),!0}return new RegExp("^(".concat(i,")")).test(t)}},{key:"getFormatFormat",value:function(e,t){return t?e.internationalFormat():e.format()}},{key:"chooseFormat",value:function(e){for(var t,n=this,r=function(){var r=t.value;return n.chosenFormat===r?0:pa.test(n.getFormatFormat(r,e.international))?n.createTemplateForFormat(r,e)?(n.chosenFormat=r,0):(n.matchingFormats=n.matchingFormats.filter(function(e){return e!==r}),1):1},i=ca(this.matchingFormats.slice());!(t=i()).done&&0!==r(););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(e,t){if(!(e.pattern().indexOf("|")>=0)){var n=this.getTemplateForFormat(e,t);return n?(this.setNationalNumberTemplate(n,t),!0):void 0}}},{key:"getSeparatorAfterNationalPrefix",value:function(e){return this.isNANP||e&&e.nationalPrefixFormattingRule()&&fa.test(e.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(e,t){var n=e.IDDPrefix,r=e.missingPlus;return n?t&&!1===t.spacing?n:n+" ":r?"":"+"}},{key:"getTemplate",value:function(e){if(this.template){for(var t=-1,n=0,r=e.international?this.getInternationalPrefixBeforeCountryCallingCode(e,{spacing:!1}):"";n<r.length+e.getDigitsWithoutInternationalPrefix().length;)t=this.template.indexOf(Do,t+1),n++;return Wo(this.template,t+1)}}},{key:"setNationalNumberTemplate",value:function(e,t){this.nationalNumberTemplate=e,this.populatedNationalNumberTemplate=e,this.populatedNationalNumberTemplatePosition=-1,t.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(t).replace(/[\d\+]/g,Do)+zo(Do,t.callingCode.length)+" "+e:this.template=e}},{key:"getTemplateForFormat",value:function(e,t){var n=t.nationalSignificantNumber,r=t.international,i=t.nationalPrefix,s=t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,o=e.pattern();o=o.replace(/\[([^\[\]])*\]/g,"\\d").replace(/\d(?=[^,}][^,}])/g,"\\d");var a=ha.match(o)[0];if(!(n.length>a.length)){var c=new RegExp("^"+o+"$"),l=n.replace(/\d/g,"9");c.test(l)&&(a=l);var u,d=this.getFormatFormat(e,r);if(this.shouldTryNationalPrefixFormattingRule(e,{international:r,nationalPrefix:i})){var h=d.replace(Qs,e.nationalPrefixFormattingRule());if(Ts(e.nationalPrefixFormattingRule())===(i||"")+Ts("$1")&&(d=h,u=!0,i))for(var f=i.length;f>0;)d=d.replace(/\d/,Do),f--}var p=a.replace(new RegExp(o),d).replace(new RegExp("9","g"),Do);return u||(s?p=zo(Do,s.length)+" "+p:i&&(p=zo(Do,i.length)+this.getSeparatorAfterNationalPrefix(e)+p)),r&&(p=Js(p)),p}}},{key:"formatNextNationalNumberDigits",value:function(e){var t=function(e,t,n){for(var r,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Uo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uo(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n.split(""));!(r=i()).done;){var s=r.value;if(e.slice(t+1).search(Fo)<0)return;t=e.search(Fo),e=e.replace(Fo,s)}return[e,t]}(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,e);if(t)return this.populatedNationalNumberTemplate=t[0],this.populatedNationalNumberTemplatePosition=t[1],Wo(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1);this.resetFormat()}},{key:"shouldTryNationalPrefixFormattingRule",value:function(e,t){var n=t.international,r=t.nationalPrefix;if(e.nationalPrefixFormattingRule()){var i=e.usesNationalPrefix();if(i&&r||!i&&!n)return!0}}}],t&&ua(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function ma(e){return ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ma(e)}function ya(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,o,a=[],c=!0,l=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wa(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,va(r.key),r)}}function va(e){var t=function(e){if("object"!=ma(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ma(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ma(t)?t:t+""}var xa=new RegExp("^["+Ki+Vi+"]+$","i"),Ea="(?:[+]["+Ki+Vi+"]*|["+Ki+Vi+"]+)",ka=new RegExp("[^"+Ki+Vi+"]+.*$"),_a=/[^\d\[\]]/,Ca=function(){return e=function e(t){var n=t.defaultCountry,r=t.defaultCallingCode,i=t.metadata,s=t.onNationalSignificantNumberChange;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultCountry=n,this.defaultCallingCode=r,this.metadata=i,this.onNationalSignificantNumberChange=s},t=[{key:"input",value:function(e,t){var n,r=function(e){var t=function(e){var t=function(e){var t,n=e.search(Ea);if(!(n<0))return"+"===(e=e.slice(n))[0]&&(t=!0,e=e.slice(1)),e=e.replace(ka,""),t&&(e="+"+e),e}(e)||"";return"+"===t[0]?[t.slice(1),!0]:[t]}(e),n=ya(t,2),r=n[0],i=n[1];return xa.test(r)||(r=""),[r,i]}(e),i=ya(r,2),s=i[0],o=i[1],a=Ts(s);return o&&(t.digits||(t.startInternationalNumber(void 0,void 0),a||(n=!0))),a&&this.inputDigits(a,t),{digits:a,justLeadingPlus:n}}},{key:"inputDigits",value:function(e,t){var n=t.digits,r=n.length<3&&n.length+e.length>=3;if(t.appendDigits(e),r&&this.extractIddPrefix(t),this.isWaitingForCountryCallingCode(t)){if(!this.extractCountryCallingCode(t))return}else t.appendNationalSignificantNumberDigits(e);t.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(t.getNationalDigits(),function(e){return t.update(e)})}},{key:"isWaitingForCountryCallingCode",value:function(e){var t=e.international,n=e.callingCode;return t&&!n}},{key:"extractCountryCallingCode",value:function(e){var t=Ys("+"+e.getDigitsWithoutInternationalPrefix(),e.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),n=t.countryCallingCode,r=t.number;if(n)return e.setCallingCode(n),e.update({nationalSignificantNumber:r}),!0}},{key:"reset",value:function(e){if(e){this.hasSelectedNumberingPlan=!0;var t=e._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=t&&_a.test(t)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(e,t){if(this.hasSelectedNumberingPlan){var n=qs(e,this.metadata),r=n.nationalPrefix,i=n.nationalNumber,s=n.carrierCode;if(i!==e)return this.onExtractedNationalNumber(r,s,i,e,t),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(e,t,n){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(e,n);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var r=qs(e,this.metadata),i=r.nationalPrefix,s=r.nationalNumber,o=r.carrierCode;if(s!==t)return this.onExtractedNationalNumber(i,o,s,e,n),!0}}},{key:"onExtractedNationalNumber",value:function(e,t,n,r,i){var s,o=!1,a=r.lastIndexOf(n);if(a<0||a!==r.length-n.length)o=!0;else{var c=r.slice(0,a);c&&c!==e&&(s=c)}i({nationalPrefix:e,carrierCode:t,nationalSignificantNumber:n,nationalSignificantNumberIsModified:o,prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix:s}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(e){return!!this.extractAnotherNationalSignificantNumber(e.getNationalDigits(),e.nationalSignificantNumber,function(t){return e.update(t)})||(this.extractIddPrefix(e)||this.fixMissingPlus(e)?(this.extractCallingCodeAndNationalSignificantNumber(e),!0):void 0)}},{key:"extractIddPrefix",value:function(e){var t=e.international,n=e.IDDPrefix,r=e.digits;if(e.nationalSignificantNumber,!t&&!n){var i=Ws(r,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);return void 0!==i&&i!==r?(e.update({IDDPrefix:r.slice(0,r.length-i.length)}),this.startInternationalNumber(e,{country:void 0,callingCode:void 0}),!0):void 0}}},{key:"fixMissingPlus",value:function(e){if(!e.international){var t=Zs(e.digits,e.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata).countryCallingCode;if(t)return e.update({missingPlus:!0}),this.startInternationalNumber(e,{country:e.country,callingCode:t}),!0}}},{key:"startInternationalNumber",value:function(e,t){var n=t.country,r=t.callingCode;e.startInternationalNumber(n,r),e.nationalSignificantNumber&&(e.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(e){this.extractCountryCallingCode(e)&&this.extractNationalSignificantNumber(e.getNationalDigits(),function(t){return e.update(t)})}}],t&&ba(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Sa(e){return Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sa(e)}function Ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Aa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ta(r.key),r)}}function Ta(e){var t=function(e){if("object"!=Sa(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Sa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Sa(t)?t:t+""}var Pa=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.metadata=new cs(n);var r,i,s=(r=this.getCountryAndCallingCode(t),i=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,o,a=[],c=!0,l=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}(r,i)||function(e,t){if(e){if("string"==typeof e)return Ia(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ia(e,t):void 0}}(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=s[0],a=s[1];this.defaultCountry=o,this.defaultCallingCode=a,this.reset()},t=[{key:"getCountryAndCallingCode",value:function(e){var t,n;return e&&(Di(e)?(t=e.defaultCountry,n=e.defaultCallingCode):t=e),t&&!this.metadata.hasCountry(t)&&(t=void 0),[t,n]}},{key:"input",value:function(e){var t=this.parser.input(e,this.state),n=t.digits;if(t.justLeadingPlus)this.formattedOutput="+";else if(n){var r;if(this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state),this.metadata.hasSelectedNumberingPlan()&&(r=this.formatter.format(n,this.state)),void 0===r&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var i=this.state.getNationalDigits();i&&(r=this.formatter.format(i,this.state))}this.formattedOutput=r?this.getFullNumber(r):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var e=this;return this.state=new Bo({onCountryChange:function(t){e.country=t},onCallingCodeChange:function(t,n){e.metadata.selectNumberingPlan(n,t),e.formatter.reset(e.metadata.numberingPlan,e.state),e.parser.reset(e.metadata.numberingPlan)}}),this.formatter=new ga({state:this.state,metadata:this.metadata}),this.parser=new Ca({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){e.determineTheCountryIfNeeded(),e.formatter.reset(e.metadata.numberingPlan,e.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){if(this.state.digits)return this._getCountry()}},{key:"_getCountry",value:function(){return this.state.country}},{key:"determineTheCountryIfNeeded",value:function(){this.state.country&&!this.isCountryCallingCodeAmbiguous()||this.determineTheCountry()}},{key:"getFullNumber",value:function(e){var t,n=this;if(this.isInternational()){var r=this.state.callingCode;return t=r?e?"".concat(r," ").concat(e):r:"".concat(this.state.getDigitsWithoutInternationalPrefix()),n.formatter.getInternationalPrefixBeforeCountryCallingCode(n.state,{spacing:!!t})+t}return e}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var e=this.state,t=e.nationalSignificantNumber,n=e.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,r=e.nationalPrefix,i=t,s=n||r;return s&&(i=s+i),i}},{key:"getNonFormattedNumber",value:function(){var e=this.state.nationalSignificantNumberIsModified;return this.getFullNumber(e?this.state.getNationalDigits():this.getNonFormattedNationalNumberWithPrefix())}},{key:"getNonFormattedTemplate",value:function(){var e=this.getNonFormattedNumber();if(e)return e.replace(/[\+\d]/g,Do)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var e=this.state.callingCode,t=this.metadata.getCountryCodesForCallingCode(e);return t&&t.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(Ks(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var e=this.state,t=e.digits,n=e.callingCode,r=e.country,i=e.nationalSignificantNumber;if(t)return this.isInternational()?n?"+"+n+i:"+"+t:r||n?"+"+(r?this.metadata.countryCallingCode():n)+i:void 0}},{key:"getNumber",value:function(){var e=this.state,t=e.nationalSignificantNumber,n=e.carrierCode,r=e.callingCode,i=this._getCountry();if(t&&(i||r)){if(i&&i===this.defaultCountry){var s=new cs(this.metadata.metadata);s.selectNumberingPlan(i);var o=s.numberingPlan.callingCode(),a=this.metadata.getCountryCodesForCallingCode(o);if(a.length>1){var c=Vs(t,{countries:a,metadata:this.metadata.metadata});c&&(i=c)}}var l=new uo(i||r,t,this.metadata.metadata);return n&&(l.carrierCode=n),l}}},{key:"isPossible",value:function(){var e=this.getNumber();return!!e&&e.isPossible()}},{key:"isValid",value:function(){var e=this.getNumber();return!!e&&e.isValid()}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}],t&&Aa(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Oa(e){return Pa.call(this,e,Li)}function ja(e){return new cs(e).getCountries()}function Na(e,t,n){if(t[e])return new uo(e,t[e],n)}Oa.prototype=Object.create(Pa.prototype,{}),Oa.prototype.constructor=Oa;const Ra=(e,t)=>function(){return Bi(No,arguments)}(String(e),t),$a=(e,t)=>`+${Ro(t)} ${e}`,Ma=e=>`*${e.replaceAll("-","").slice(-4)}`,La=function(){return Bi(ja,arguments)}().map(e=>({code:e,callCode:Ro(e)})),Ba={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"};class Ua{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(Ba,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}}const Da={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"},Fa=new TextEncoder,za=new TextDecoder,Wa=e=>(e=>{let t=e;"string"==typeof t&&(t=Fa.encode(t));const n=[];for(let e=0;e<t.length;e+=32768)n.push(String.fromCharCode.apply(null,t.subarray(e,e+32768)));return btoa(n.join(""))})(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");class qa extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null===(t=Error.captureStackTrace)||void 0===t||t.call(Error,this,this.constructor)}}class Ha extends qa{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function Va(e){if("string"!=typeof e)throw new Ha("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:n}=e.split(".");if(5===n)throw new Ha("Only JWTs using Compact JWS serialization can be decoded");if(3!==n)throw new Ha("Invalid JWT");if(!t)throw new Ha("JWTs must contain a payload");let r,i;try{r=(e=>{let t=e;t instanceof Uint8Array&&(t=za.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return(e=>{const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n})(t)}catch(e){throw new TypeError("The input to be decoded is not correctly encoded.")}})(t)}catch(e){throw new Ha("Failed to base64url decode the payload")}try{i=JSON.parse(za.decode(r))}catch(e){throw new Ha("Failed to parse the decoded payload as JSON")}if(!function(e){if("object"!=typeof(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}(i))throw new Ha("Invalid JWT Claims Set");return i}Symbol.asyncIterator;class Ka{static parse(e){try{return new Ka(e)}catch(e){return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=Va(e)}}class Ga{async updateOnCrossAppAuthentication(e,t){let n=t.access_token,r=Ga.providerAccessTokenStorageKey(e);await this._storage.put(r,n)}async getProviderAccessToken(e){let t=Ga.providerAccessTokenStorageKey(e),n=await this._storage.get(t);if("string"!=typeof n)return null;try{if(new Ka(n).isExpired())throw Error("JWT is expired");return n}catch{return await this._storage.del(t),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(Da,{params:{app_id:this._privyInternal.appId}})}constructor(e,t){this._privyInternal=e,this._storage=t}}Ga.providerAccessTokenStorageKey=e=>`privy:cross-app:${e}`;class Za{async revoke(){await this._privyInternal.fetch(Ti,{})}constructor(e){this._privyInternal=e}}const Ya=e=>e.map(e=>{if(e.rpcUrls.privyWalletOverride)return e;let t=Ci.find(t=>t.id===e.id),n=t?.rpcUrls.privy?.http[0];return n?(r=e,i=n,{...r,rpcUrls:{...r.rpcUrls,privy:{http:[i]}}}):e;var r,i}),Ja=e=>!!e.id&&"privy-v2"===e.recovery_method;class Qa{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if(Ja(this._account))throw new ji({code:"unsupported_wallet_type",error:"Bitcoin wallet providers are only supported for on-device execution and this app uses TEE execution. Use the useSignRawHash hook from @privy-io/expo/extended-chains to sign over a hash with this wallet. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide"});if(!await this._privyInternal.getAccessTokenInternal())throw new ji({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let t=await this._privyInternal.getAccessTokenInternal();if(!t)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:t,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(t){console.error(t);let n=t instanceof Error?t.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:n}),new ji({code:"embedded_wallet_request_error",error:n})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:t,account:n,entropyId:r,entropyIdVerifier:i}){this._proxy=e,this._privyInternal=t,this._account=n,this._entropyId=r,this._entropyIdVerifier=i}}const Xa=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","mfa_timeout","missing_or_invalid_mfa","mfa_verification_max_attempts_reached"];var ec;(ec={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",ec.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",ec.INVALID_DATA="invalid_data",ec.LINKED_TO_ANOTHER_USER="linked_to_another_user",ec.ALLOWLIST_REJECTED="allowlist_rejected",ec.OAUTH_USER_DENIED="oauth_user_denied",ec.UNKNOWN_AUTH_ERROR="unknown_auth_error",ec.USER_EXITED_AUTH_FLOW="exited_auth_flow",ec.MUST_BE_AUTHENTICATED="must_be_authenticated",ec.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",ec.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",ec.CLIENT_REQUEST_TIMEOUT="client_request_timeout",ec.INVALID_CREDENTIALS="invalid_credentials";class tc extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,t,n){super(e),t instanceof Error&&(this.cause=t),this.privyErrorCode=n}}class nc extends Error{constructor(e,t){super(t),this.type=e}}class rc extends tc{constructor(e,t,n){super(e,t,n),this.type="connector_error"}}class ic extends Error{constructor(e,t,n){super(e),this.code=t,this.data=n}}const sc={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};function oc(e){return function(e){let t=e.type;return"string"==typeof t&&Xa.includes(t)}(e)&&"wallet_not_on_device"===e.type}async function ac(e,{request:t}){return await e.fetchPrivyRoute(Ii,{body:t})}async function cc({context:e,chainType:t}){return{wallet:await ac(e,{request:{chain_type:t,owner_id:void 0}})}}var lc=o(2305),uc=o(2427);const dc=(e,t,n,r)=>{let i=Number(e),s=t.find(e=>e.id===i);if(!s)throw new rc(`Unsupported chainId ${e}`,4901);return(0,lc.l)({transport:(0,uc.L)(hc(s,n,r.appId)),chain:s})},hc=(e,t,n)=>{let r,i=e.id,s=Number(e.id);if(e.rpcUrls.privyWalletOverride&&e.rpcUrls.privyWalletOverride.http[0])r=e.rpcUrls.privyWalletOverride.http[0];else if(t.rpcUrls&&t.rpcUrls[s])r=t.rpcUrls[s];else if(e.rpcUrls.privy?.http[0]){let t=new URL(e.rpcUrls.privy.http[0]);t.searchParams.append("privyAppId",n),r=t.toString()}else r=e.rpcUrls.public?.http[0]?e.rpcUrls.public.http[0]:e.rpcUrls.default?.http[0];if(!r)throw new rc(`No RPC url found for ${i}`);return r};function fc(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}var pc;let gc=(pc=0,()=>"id-"+pc++),mc=(e,t)=>"bigint"==typeof t?t.toString():t,yc=(e,{ms:t,msg:n})=>Promise.race([e,fc(t??15e3).then(()=>Promise.reject(Error(n)))]),wc=new class{enqueue(e,t){this.callbacks[e]=t}dequeue(e,t){let n=this.callbacks[t];if(!n)throw Error(`cannot dequeue ${e} event: no event found for id ${t}`);switch(delete this.callbacks[t],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return n;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}};class bc{invokeWithMfa(e,t){return yc(async function(e,t,n,r,i=!1,s,o){let a=i,c=async s=>{if(a){s===(i?0:1)?r():n.current?.reject(new nc("missing_or_invalid_mfa","MFA verification failed, retry."));let a=await new Promise((e,r)=>{t.current={resolve:e,reject:r},setTimeout(()=>{let e=new nc("mfa_timeout","Timed out waiting for MFA code");n.current?.reject(e),r(e)},o)});return await e(a)}return await e()},l=null;for(let e=0;e<s;e++)try{l=await c(e),n.current?.resolve(void 0);break}catch(e){if("missing_or_invalid_mfa"!==e.type)throw n.current?.resolve(void 0),e;a=!0}if(null===l){let e=new nc("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw n.current?.reject(e),e}return l}(n=>yc(this.waitForReady().then(()=>e(n)),{msg:t.timeoutMsg,ms:t.timeoutMs}),this.mfa.rootPromise,this.mfa.submitPromise,()=>this.mfa.emit("mfaRequired"),t.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return yc(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return yc(this.waitForReady().then(()=>this.invoke("privy:wallet:create",e)),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa(t=>this.invoke("privy:wallet:rpc",{...t,...e}),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa(t=>this.invoke("privy:solana-wallet:create",{...t,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return yc(this.waitForReady().then(()=>this.invoke("privy:solana-wallet:create-additional",e)),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa(t=>this.invoke("privy:solana-wallet:rpc",{...t,...e}),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return this.invokeWithMfa(t=>this.invoke("privy:delegated-actions:consent",{...t,...e}),{timeoutMsg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa(t=>this.invoke("privy:mfa:verify",{...t,...e}),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa(t=>this.invoke("privy:mfa:init-enrollment",{...t,...e}),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa(t=>this.invoke("privy:mfa:submit-enrollment",{...t,...e}),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa(t=>this.invoke("privy:mfa:unenroll",{...t,...e}),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return yc(this.waitForReady().then(()=>this.invoke("privy:mfa:clear",e)),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa(t=>this.invoke("privy:wallets:create",{...t,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa(t=>this.invoke("privy:user-signer:sign",{...t,...e}),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return yc(this.waitForReady().then(()=>this.invoke("privy:wallets:add",e)),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa(t=>this.invoke("privy:wallets:set-recovery",{...t,...e}),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return yc(this.waitForReady().then(()=>this.invoke("privy:wallets:connect",e)),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa(t=>this.invoke("privy:wallets:recover",{...t,...e}),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa(t=>this.invoke("privy:wallets:rpc",{...t,...e}),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){let{reject:t,resolve:n}=wc.dequeue(e.event,e.id);return void 0!==e.error?t(new nc(e.error.type,e.error.message)):n(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise(async(e,t)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then(()=>{this.ready=!0,e()}).catch(t),await fc(150)})}invoke(e,t){let n=((e,t)=>`${e}${JSON.stringify(t,mc)}`)(e,t);if("privy:wallet:create"===e||"privy:solana-wallet:create"===e){let e=this.cache.get(n);if(e)return e}let r=new Promise((n,r)=>{let i=gc();wc.enqueue(i,{resolve:n,reject:r}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:i,event:e,data:t}),"*")}).finally(()=>{this.cache.delete(n)});return this.cache.set(n,r),r}constructor(e,t){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=t}}var vc=o(4486);let xc={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"};const Ec={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4};let kc=e=>void 0!==e?BigInt(e):void 0;function _c(e){let t,{type:n=2,...r}="string"==typeof e?JSON.parse(e):e;r.accessList&&Array.isArray(r.accessList)?t=r.accessList.map(e=>Array.isArray(e)?{address:e[0],storageKeys:e[1]}:e):r.accessList&&(t=Object.entries(r.accessList).map(e=>({address:e[0],storageKeys:e[1]})));let i=Number(r.chainId??1),s=(0,ci.q)(r.data)?r.data:r.data?(0,oi.nj)(Uint8Array.from(r.data)):void 0,o=r.nonce?Number(r.nonce):void 0,a={chainId:i,data:s,nonce:o,value:kc(r.value),gas:kc(r.gas??r.gasLimit)},c=Number(n);if(0===c)return{...r,type:xc[c],...a,gasPrice:kc(r.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(1===c)return{...r,type:xc[c],...a,gasPrice:kc(r.gasPrice),accessList:t,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(2===c)return{...r,type:xc[c],...a,nonce:o,accessList:t,maxFeePerGas:kc(r.maxFeePerGas),maxPriorityFeePerGas:kc(r.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${n}`)}var Cc=o(8287).Buffer;const Sc=e=>/^0x[0-9a-fA-F]*$/.test(e),Ic=e=>Cc.from(e,"utf8"),Ac=e=>`0x${e.toString("hex")}`;var Tc=o(8287).Buffer;function Pc(e){return{from:e.from,to:e.to??void 0,nonce:Oc(e.nonce),chain_id:Oc(e.chainId),data:function(e){if(void 0!==e)return"string"==typeof e?Sc(e)?e:Ac(Ic(e)):Ac(Tc.from(Uint8Array.from(e)))}(e.data),value:Oc(e.value),type:e.type,gas_limit:Oc(e.gasLimit),gas_price:Oc(e.gasPrice),max_fee_per_gas:Oc(e.maxFeePerGas),max_priority_fee_per_gas:Oc(e.maxPriorityFeePerGas)}}function Oc(e){return"number"==typeof e||"bigint"==typeof e?`0x${BigInt(e).toString(16)}`:"string"==typeof e?Sc(e)?e:Ac(Ic(e)):void 0}function jc(e){return"string"==typeof e&&(e=JSON.parse(e)),{types:e.types,primary_type:String(e.primaryType),domain:e.domain,message:e.message}}async function Nc({context:e,account:t,rpcRequest:n}){switch(n.chainType){case"ethereum":return async function({context:e,account:t,rpcRequest:n}){switch(n.method){case"personal_sign":{let[r]=n.params,i=await $i(e,e.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:t.id,params:r.startsWith("0x")?{message:r.slice(2),encoding:"hex"}:{message:r,encoding:"utf-8"}});if("personal_sign"!==i.method)throw Error("Unable to sign message");return{data:i.data.signature}}case"eth_signTransaction":{let[r]=n.params,i=await $i(e,e.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:t.id,params:{transaction:Pc(r)}});if("eth_signTransaction"!==i.method)throw Error("Unable to sign transaction");return{data:i.data.signed_transaction}}case"eth_signTypedData_v4":{let[,r]=n.params,i=await $i(e,e.signRequest,{chain_type:"ethereum",method:n.method,wallet_id:t.id,params:{typed_data:jc(r)}});if("eth_signTypedData_v4"!==i.method)throw Error("Unable to sign typed data");return{data:i.data.signature}}case"eth_sign":{let[,r]=n.params,i=await $i(e,e.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:t.id,params:{hash:Sc(r)?r:Ac(Ic(r))}});if("secp256k1_sign"!==i.method)throw Error("Unable to sign message");return{data:i.data.signature}}case"secp256k1_sign":{let[r]=n.params,i=await $i(e,e.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:t.id,params:{hash:Sc(r)?r:Ac(Ic(r))}});if("secp256k1_sign"!==i.method)throw Error("Unable to sign message");return{data:i.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${n.method}`)}}({context:e,account:t,rpcRequest:n.request});case"solana":return async function({context:e,account:t,rpcRequest:n}){if("signMessage"===n.method){let{message:r}=n.params,i=await $i(e,e.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:t.id,params:{message:r,encoding:"base64"}});if("signMessage"!==i.method)throw Error("Unable to sign message");return{data:i.data.signature}}}({context:e,account:t,rpcRequest:n.request})}}let Rc=new Set(["eth_sign","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"]);class $c extends vc.A{async request(e){if(Rc.has(e.method))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_signTransaction":{let t=e.params?.[0];return this.handleSignTransaction(t)}case"eth_sendTransaction":{let t=e.params?.[0];return this.handleSendTransaction(t)}case"eth_populateTransactionRequest":{let t=e.params?.[0];return this.handlePopulateTransaction(t)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let t={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(t.chainId),t}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._client=dc(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let t=_c(this.ensureChainId(e)),{type:n,...r}=await this._client.prepareTransactionRequest(t);return{...r,type:Ec[n]}}async handleSignTransaction(e){let t={...e};for(let e of Object.keys(t)){let n=t[e];n&&"bigint"==typeof n&&(t[e]=(0,oi.nj)(n))}return await this.handleIFrameRpc({method:"eth_signTransaction",params:[t]})}async handleSendTransaction(e){let t=await this.handlePopulateTransaction(e),n=await this.handleSignTransaction(t);return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[n]})}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");let t=e.params?.[0],n=_c(this.ensureChainId(t));return await this._client.estimateGas(n)}handleSwitchEthereumChain(e){let t;if(!e.params||!Array.isArray(e.params))throw new ic(`Invalid params for ${e.method}`,4200);if("string"==typeof e.params[0])t=e.params[0];else{if(!("chainId"in e.params[0])||"string"!=typeof e.params[0].chainId)throw new ic(`Invalid params for ${e.method}`,4200);t=e.params[0].chainId}this.internalSwitchEthereumChain(t)}async handleIFrameRpc(e){try{let t=await this._privyInternal.getAccessTokenInternal();if(!t)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let n=this._account;if(Ja(n)){let{data:r}=await Nc({context:{app:this._appApi,fetchPrivyRoute:(...e)=>this._privyInternal.fetch(...e),getCompiledPath:(...e)=>this._privyInternal.getPath(...e),signRequest:({message:e})=>this._walletProxy.signWithUserSigner({accessToken:t,message:e})},account:n,rpcRequest:{chainType:"ethereum",request:e}});return r}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:t})}catch(e){let n=oc(e);if(n&&"privy"===this._account.recovery_method)await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:t});else{if(!n||!this._onNeedsRecovery)throw e;{let e;await new Promise(async(t,n)=>{e=setTimeout(()=>n(new ji({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await(this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>t(!0)}))}).finally(()=>clearTimeout(e))}}}return(await this._walletProxy.rpcWallet({accessToken:t,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(t){console.error(t);let n=t instanceof Error?t.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:n}),new ji({code:"embedded_wallet_request_error",error:n})}}async handleJsonRpc(e){return this._client.request(e)}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:t,account:n,entropyId:r,entropyIdVerifier:i,chains:s,onNeedsRecovery:o,chainId:a=s[0].id,appApi:c}){super(),this._walletProxy=e,this._privyInternal=t,this._account=n,this._entropyId=r,this._entropyIdVerifier=i,this._chainId=a,this._chains=s,this._onNeedsRecovery=o,this._client=dc(a,s,{rpcUrls:[]},{appId:c.appId}),this._appApi=c}}function Mc(e){return"version"in e}function Lc(e,t){let n=(Mc(e)?e.message:e.compileMessage()).staticAccountKeys.find(e=>e.toBase58()===t);if(!n)throw Error(`Transaction does not contain public key ${t}`);return n}var Bc=o(8287).Buffer;class Uc{async request(e){if(!await this._privyInternal.getAccessTokenInternal())throw new ji({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if("privy-v2"!==this._account.recovery_method)try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(t){let n=oc(t);if(n&&"privy"===this._account.recovery_method)await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!n||!this._onNeedsRecovery)throw t;{let e;await new Promise(async(t,n)=>{e=setTimeout(()=>n(new ji({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await(this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>t(!0)}))}).finally(()=>clearTimeout(e))}}}}async signMessageRpc(e,t){let n=this._account;if(!Ja(n))return(await this._proxy.rpcWallet({accessToken:t,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:r}=await Nc({context:{app:this._app,fetchPrivyRoute:(...e)=>this._privyInternal.fetch(...e),getCompiledPath:(...e)=>this._privyInternal.getPath(...e),signRequest:({message:e})=>this._proxy.signWithUserSigner({accessToken:t,message:e})},account:n,rpcRequest:{chainType:"solana",request:e}});return{signature:r}}}async handleIFrameRpc(e){try{let t=await this._privyInternal.getAccessTokenInternal();if(!t)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(t),await this.signMessageRpc(e,t)}catch(t){console.error(t);let n=t instanceof Error?t.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:n}),new ji({code:"embedded_wallet_request_error",error:n})}}async handleSignAndSendTransaction(e){try{let t=await this._privyInternal.getAccessTokenInternal();if(!t)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(t);let{transaction:n,connection:r,options:i}=e.params,s=Lc(n,this._account.address),o=Mc(n)?Bc.from(n.message.serialize()):n.serializeMessage(),{signature:a}=await this.signMessageRpc({method:"signMessage",params:{message:o.toString("base64")}},t);return n.addSignature(s,Bc.from(a,"base64")),{signature:await r.sendRawTransaction(n.serialize(),i)}}catch(t){console.error(t);let n=t instanceof Error?t.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:n}),new ji({code:"embedded_wallet_request_error",error:n})}}async handleSignTransaction(e){try{let t=await this._privyInternal.getAccessTokenInternal();if(!t)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(t);let{transaction:n}=e.params,r=Lc(n,this._account.address),i=Mc(n)?Bc.from(n.message.serialize()):n.serializeMessage(),{signature:s}=await this.signMessageRpc({method:"signMessage",params:{message:i.toString("base64")}},t);return n.addSignature(r,Bc.from(s,"base64")),{signedTransaction:n}}catch(t){console.error(t);let n=t instanceof Error?t.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:n}),new ji({code:"embedded_wallet_request_error",error:n})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:t,account:n,entropyId:r,entropyIdVerifier:i,onNeedsRecovery:s,app:o}){this._proxy=e,this._privyInternal=t,this._account=n,this._entropyId=r,this._entropyIdVerifier=i,this._onNeedsRecovery=s,this._app=o}}class Dc{setMessagePoster(e){this._proxy=new bc(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let t=await this._privyInternal.getAccessTokenInternal();if(!t)throw new ji({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:n}=await this._proxy.signWithUserSigner({accessToken:t,message:e.message});return{signature:n}}async add(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if("user-controlled-server-wallets-only"===this._privyInternal.config?.embedded_wallet_config.mode)await cc({context:{app:this._appApi,fetchPrivyRoute:(...e)=>this._privyInternal.fetch(...e),getCompiledPath:(...e)=>this._privyInternal.getPath(...e)},chainType:e.chainType});else{let t=await this._privyInternal.getAccessTokenInternal();if(!t)throw new ji({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:t,...e})}let{user:t}=await this._privyInternal.refreshSession();return{user:t}}async getBitcoinProvider({wallet:e,entropyId:t,entropyIdVerifier:n,recoveryPassword:r,recoveryAccessToken:i,recoverySecretOverride:s}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessTokenInternal())throw Error("User must be logged in to create an embedded wallet");return Ja(e)||await this._load({entropyId:t,entropyIdVerifier:n,wallet:e,recoveryPassword:r,recoveryAccessToken:i,recoverySecretOverride:s}),new Qa({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:t,entropyIdVerifier:n})}async create({password:e,recoveryMethod:t,recoveryToken:n,recoveryKey:r,recoverySecretOverride:i,iCloudRecordNameOverride:s,solanaAccount:o,skipCallbacks:a}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if("user-controlled-server-wallets-only"===this._privyInternal.config?.embedded_wallet_config.mode){if(t&&!t.startsWith("privy"))throw new ji({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await cc({context:{app:this._appApi,fetchPrivyRoute:(...e)=>this._privyInternal.fetch(...e),getCompiledPath:(...e)=>this._privyInternal.getPath(...e)},chainType:"ethereum"})}else{let a;if(a=t||(e?"user-passcode":"privy"),e&&"string"!=typeof e)throw Error("Invalid recovery password, must be a string");if("privy"===a&&this._privyInternal.config?.embedded_wallet_config.require_user_password_on_create)throw Error("Password not provided yet is required by App configuration");let c=await this._privyInternal.getAccessTokenInternal();if(!c)throw Error("User must be logged in to create an embedded wallet");let{address:l}=await this._proxy.create({accessToken:c,recoveryMethod:a,recoveryKey:r,recoveryPassword:e,recoveryAccessToken:n,recoverySecretOverride:i,iCloudRecordNameOverride:s,solanaAddress:o?.address});if(!l)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(a)}async createSolana(e){if(!this._proxy)throw new ji({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if("user-controlled-server-wallets-only"===this._privyInternal.config?.embedded_wallet_config.mode)await cc({context:{app:this._appApi,fetchPrivyRoute:(...e)=>this._privyInternal.fetch(...e),getCompiledPath:(...e)=>this._privyInternal.getPath(...e)},chainType:"solana"});else{let t=await this._privyInternal.getAccessTokenInternal();if(!t)throw new ji({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e?.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:n}=await this._proxy.createSolana({accessToken:t,ethereumAddress:e?.ethereumAccount?.address});if(!n)throw new ji({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:t}){if(!this._proxy)throw new ji({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw new ji({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:n,delegatedWallets:e,rootWallet:t})}async getProvider(e,t,n,r,i){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return Ja(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:t,recoveryKey:i,recoveryAccessToken:n,recoverySecretOverride:r}),new $c({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:t,entropyIdVerifier:n,recoveryPassword:r,recoveryAccessToken:i,recoverySecretOverride:s,recoveryKey:o,onNeedsRecovery:a}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessTokenInternal())throw Error("User must be logged in to create an embedded wallet");return Ja(e)||(!a||r||i||s||o)&&await this._load({entropyId:t,entropyIdVerifier:n,wallet:e,recoveryPassword:r,recoveryAccessToken:i,recoverySecretOverride:s,recoveryKey:o}),new $c({account:e,entropyId:t,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:a,appApi:this._appApi})}async getSolanaProvider(e,t,n,r,i,s,o){if(!this._proxy)throw new ji({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return Ja(e)||(!o||r||i||s)&&await this._load({wallet:e,entropyId:t,entropyIdVerifier:n,recoveryPassword:r,recoveryAccessToken:i,recoverySecretOverride:s}),new Uc({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:t,entropyIdVerifier:n,onNeedsRecovery:o,app:this._appApi})}async setRecovery(e){let{wallet:t,...n}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(Ja(t))throw new ji({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});(function({currentRecoveryMethod:e,upgradeToRecoveryMethod:t}){switch(e){case"privy":case"user-passcode":case"recovery-encryption-key":return!0;case"icloud":case"google-drive":if(e===t)throw Error("Cannot upgrade to the existing cloud platform");return!0;default:throw Error("Unknown recovery method")}})({currentRecoveryMethod:t.recovery_method,upgradeToRecoveryMethod:"icloud-native"===n.recoveryMethod?"icloud":n.recoveryMethod}),await this._load("solana"===t.chain_type?{wallet:t,entropyId:t.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:t,entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"});let r=await this._privyInternal.getAccessTokenInternal();if(!r)throw Error("User must be logged in to interact with embedded wallets");let i=t.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:t.address,target_recovery_method:n.recoveryMethod,existing_recovery_method:i});try{let e;if("user-passcode"===n.recoveryMethod)e={recoveryMethod:"user-passcode",recoveryPassword:n.password};else if("google-drive"===n.recoveryMethod)e={recoveryMethod:"google-drive",recoveryAccessToken:n.recoveryAccessToken};else if("icloud"===n.recoveryMethod)e={recoveryMethod:"icloud",recoveryAccessToken:n.recoveryAccessToken};else if("icloud-native"===n.recoveryMethod)e={recoveryMethod:"icloud-native",iCloudRecordNameOverride:n.iCloudRecordNameOverride,recoverySecretOverride:n.recoverySecretOverride};else if("recovery-encryption-key"===n.recoveryMethod)e={recoveryMethod:"recovery-encryption-key",recoveryKey:n.recoveryKey};else{if("privy"!==n.recoveryMethod)throw Error(`Unknown recovery method: ${n.recoveryMethod}`);e={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:r,entropyId:t.address,entropyIdVerifier:"solana"===t.chain_type?"solana-address-verifier":"ethereum-address-verifier",...e}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:t.address,target_recovery_method:n.recoveryMethod,existing_recovery_method:i});let{user:s}=await this._privyInternal.refreshSession();return{user:s,provider:"ethereum"!==t.chain_type?null:new $c({account:t,entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(e){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:t.address,recovery_method:t.recovery_method,error:e instanceof Error?e.message:"Unable to recover wallet"}),e}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(e){return console.error(e),!1}}async _load({entropyId:e,entropyIdVerifier:t,wallet:n,recoveryPassword:r,recoveryKey:i,recoveryAccessToken:s,recoverySecretOverride:o}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let a=await this._privyInternal.getAccessTokenInternal();if(!a)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:a,entropyId:e,entropyIdVerifier:t}),e}catch(c){if(oc(c))try{if("privy"===n.recovery_method){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:n.recovery_method});let r=await this._proxy.recover({accessToken:a,entropyId:e,entropyIdVerifier:t});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:n.recovery_method}),r.entropyId}if("user-passcode"===n.recovery_method&&r){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:n.recovery_method});let i=await this._proxy.recover({accessToken:a,recoveryPassword:r,entropyId:e,entropyIdVerifier:t});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:n.recovery_method}),i.entropyId}if(["google-drive","icloud"].includes(n.recovery_method)&&s){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:n.recovery_method});let r=await this._proxy.recover({accessToken:a,recoveryAccessToken:s,entropyId:e,entropyIdVerifier:t});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:n.recovery_method}),r.entropyId}if("icloud"===n.recovery_method&&o){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:"icloud-native"});let r=await this._proxy.recover({accessToken:a,recoverySecretOverride:o,entropyId:e,entropyIdVerifier:t});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:"icloud-native"}),r.entropyId}if("recovery-encryption-key"===n.recovery_method&&i){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:n.recovery_method});let r=await this._proxy.recover({accessToken:a,recoveryKey:i,entropyId:e,entropyIdVerifier:t});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:n.recovery_method}),r.entropyId}}catch(t){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:n.address,recovery_method:n.recovery_method,error:t instanceof Error?t.message:`Unable to recover wallet: ${e}`}),t}throw c}}constructor(e,t,n,r,i,s){if(this._chains=Array.from(Ci),this._privyInternal=e,t&&(this._proxy=new bc(t,i),r.setProxy(this._proxy)),n){let e=Ya(n);this._chains=e}this._mfa=r,this._mfaPromises=i,this._appApi=s}}class Fc extends vc.A{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}}var zc,Wc=o(3318),qc=o(4011),Hc=((zc={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",zc.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",zc.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",zc.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",zc.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",zc.MISSING_MFA_ENROLLMENT="missing_mfa_enrollment",zc.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",zc.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",zc.INVALID_DATA="invalid_data",zc.INVALID_CREDENTIALS="invalid_credentials",zc.INVALID_CAPTCHA="invalid_captcha",zc.LINKED_TO_ANOTHER_USER="linked_to_another_user",zc.ALLOWLIST_REJECTED="allowlist_rejected",zc.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",zc.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",zc.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",zc.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",zc.TOO_MANY_REQUESTS="too_many_requests",zc.RESOURCE_CONFLICT="resource_conflict",zc.INVALID_ORIGIN="invalid_origin",zc.MISSING_ORIGIN="missing_origin",zc.INVALID_NATIVE_APP_ID="invalid_native_app_id",zc.TOKEN_ALREADY_USED="token_already_used",zc.ALREADY_LOGGED_OUT="already_logged_out",zc.NOT_SUPPORTED="not_supported",zc.USER_UNSUBSCRIBED="user_unsubscribed",zc.MAX_APPS_REACHED="max_apps_reached",zc.USER_LIMIT_REACHED="max_accounts_reached",zc.DEVICE_REVOKED="device_revoked",zc.WALLET_PASSWORD_EXISTS="wallet_password_exists",zc.OAUTH_STATE_MISMATCH="oauth_state_mismatch",zc.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",zc.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",zc.DISALLOWED_LOGIN_METHOD="disallowed_login_method",zc.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",zc.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",zc.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",zc.CANNOT_SET_PASSWORD="cannot_set_password",zc.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",zc.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",zc.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",zc.USER_DOES_NOT_EXIST="user_does_not_exist",zc.ALREADY_EXISTS="resource_already_exists",zc.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",zc.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",zc.FEATURE_NOT_ENABLED="feature_not_enabled",zc.INSUFFICIENT_FUNDS="insufficient_funds",zc.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",zc.INVALID_POLICY_FORMAT="invalid_policy_format",zc.POLICY_VIOLATION="policy_violation",zc.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",zc.INVALID_REQUEST="invalid_request",zc.SIGNUP_DISABLED="signup_disabled",zc);const Vc={path:"/api/v1/apps/:app_id",method:"GET"},Kc={path:"/api/v1/analytics_events",method:"POST"},Gc={path:"/api/v1/sessions",method:"POST"},Zc={path:"/api/v1/sessions/logout",method:"POST"};function Yc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var Jc=function e(t,n){function r(e,r,i){if("undefined"!=typeof document){"number"==typeof(i=Yc({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var o in i)i[o]&&(s+="; "+o,!0!==i[o]&&(s+="="+i[o].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+s}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var s=n[i].split("="),o=s.slice(1).join("=");try{var a=decodeURIComponent(s[0]);if(r[a]=t.read(o,a),e===a)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",Yc({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,Yc({},this.attributes,t))},withConverter:function(t){return e(Yc({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const Qc=Promise.allSettled.bind(Promise)??(e=>Promise.all(e.map(e=>e.then(e=>({status:"fulfilled",value:e})).catch(e=>({status:"rejected",reason:e})))));let Xc="privy:token",el="privy-token",tl="privy:pat",nl="privy:refresh_token",rl="privy-refresh-token",il="privy:id-token",sl="privy-id-token",ol="privy-session";class al extends vc.A{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getCustomerAccessToken(){let e=await this._storage.get(Xc);try{return"string"==typeof e?new Ka(e).value:null}catch(e){return console.error(e),await this.destroyLocalState({reason:"getToken_error"}),null}}async getPrivyAccessToken(){let e=await this._storage.get(tl);try{return"string"==typeof e?new Ka(e).value:null}catch(e){return console.error(e),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get(nl);return"string"==typeof e?e:null}async getIdentityToken(){let e=await this._storage.get(il);return"string"==typeof e?e:null}get mightHaveServerCookies(){try{let e=Jc.get(ol);return void 0!==e&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,t){return this.mightHaveServerCookies||"string"==typeof e&&"string"==typeof t}tokenIsActive(e){if(!e)return!1;let t=Ka.parse(e);return null!==t&&!t.isExpired(30)}async destroyLocalState(e){await Qc([this._storage.del(Xc),this._storage.del(nl),this._storage.del(il),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),Jc.remove(el),Jc.remove(rl),Jc.remove(sl),Jc.remove(ol),e?.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeCustomerAccessToken(e){if("string"==typeof e){let t=await this._storage.get(Xc);if(await this._storage.put(Xc,e),!this._isUsingServerCookies){let t=Ka.parse(e)?.expiration;Jc.set(el,e,{sameSite:"Strict",secure:!0,expires:t?new Date(1e3*t):void 0})}t!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let e=await this._storage.get(Xc);await this._storage.del(Xc),Jc.remove(el),null!==e&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storePrivyAccessToken(e){"string"==typeof e?await this._storage.put(tl,e):await this._storage.del(tl)}async storeRefreshToken(e){"string"==typeof e?(await this._storage.put(nl,e),this._isUsingServerCookies||(Jc.set(ol,"t",{sameSite:"Strict",secure:!0,expires:30}),Jc.set(rl,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del(nl),Jc.remove(rl),Jc.remove(ol),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let t=(await Qc([this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter(e=>"rejected"===e.status);t.length>0&&this.emit("error_storing_tokens",t.map(e=>String(e.reason)).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){if("string"==typeof e){let t=await this._storage.get(il);if(await this._storage.put(il,e),!this._isUsingServerCookies){let t=Ka.parse(e)?.expiration;Jc.set(sl,e,{sameSite:"Strict",secure:!0,expires:t?new Date(1e3*t):void 0})}t!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let e=await this._storage.get(il);await this._storage.del(il),Jc.remove(sl),null!==e&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&"string"==typeof e)return e;let t=Wa(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,t),t}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}}al.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];var cl=e=>{let t=new AbortController;return setTimeout(()=>t.abort(),e),t.signal};const ll=()=>{};let ul={NONE:Number.NEGATIVE_INFINITY,ERROR:1,WARN:2,INFO:3,DEBUG:Number.POSITIVE_INFINITY},dl="privy:caid";class hl{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){if(this.isReady)this.callbacks?.setIsReady?.(!0);else{if(!await this.isStorageAccessible())throw new ji({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),this._config?.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),this.callbacks?.setIsReady?.(!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:t,query:n}){return`${this.baseUrl}${((e,t)=>t?Object.entries(t).reduce((e,[t,n])=>e.replace(`:${t}`,`${n}`),e):e)(e.path,t)}${function(e){let t=new URLSearchParams;for(let n in e)null!=e[n]&&t.append(n,String(e[n]));return Array.from(t).length?"?"+t.toString():""}(n)}`}async fetch(e,{body:t,params:n,query:r,headers:i,onRequest:s=this._beforeRequest.bind(this)}){let o=new Request(this.getPath(e,{params:n,query:r}),{method:e.method,body:JSON.stringify(t),headers:i}),a=await s(o),c=await this._fetch(o,a),l=await c.json();if(c.status>299)throw new Oi(l);return l}async _beforeRequestWithoutInitialize(e){let t=await this.session.getPrivyAccessToken()??await this.session.getCustomerAccessToken(),n=new Headers(e.headers);n.set("privy-app-id",this.appId),this.appClientId&&n.set("privy-client-id",this.appClientId),n.set("privy-client",this._sdkVersion),t&&n.set("Authorization",`Bearer ${t}`),n.set("Content-Type","application/json"),n.set("Accept","application/json");let r=await this._getOrGenerateClientAnalyticsId();return r&&n.set("privy-ca-id",r),this.nativeAppIdentifier&&n.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:cl(2e4),headers:n,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessTokenInternal(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(Vc,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(dl);if("string"==typeof e&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=(0,qc.A)()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(!this._analyticsId)return null;try{await this._storage.put(dl,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}async destroyClientAnalyticsId(){try{return await this._storage.del(dl)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,t){try{await this.fetch(Kc,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:t},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch(e){}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new ji({code:"storage_error",error:"Unable to access storage"});let t=await this.session.getRefreshToken()??void 0,n=t??"key",r=this._cache.get(n);if(r)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await r;let i=this._refreshSession(t,e);this._cache.set(n,i);try{return await i}finally{this._cache.delete(n)}}async _refreshSession(e,t){let n=await this.session.getCustomerAccessToken();if(!this.session.hasRefreshCredentials(n,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new Oi({code:Hc.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage"});try{this.logger.debug(`[privy:refresh] fetching: ${Gc.path}`);let n=await this.fetch(Gc,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),r=n.session_update_action;return this.logger.debug(`[privy:refresh] response: ${r}`),t||this.callbacks?.setUser?.(n.user),"set"===r&&(await this.session.updateWithTokensResponse(n),this.logger.debug("[privy:refresh] tokens stored")),"clear"===r&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),t||this.callbacks?.setUser?.(null)),"ignore"===r&&n.token&&(await this.session.storeCustomerAccessToken(n.token),await this.session.storePrivyAccessToken(n.privy_access_token),this.logger.debug("[privy:refresh] access token stored"),n.identity_token&&(this.logger.debug("[privy:refresh] identity token stored"),await this.session.storeIdentityToken(n.identity_token))),this.logger.debug("[privy:refresh] returning response"),n}catch(e){throw this.logger.debug(`[privy:refresh] error: ${e.message??"unknown error"}`),e instanceof Oi&&e.code===Hc.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),t||this.callbacks?.setUser?.(null)),e}}async getAccessToken(){let[e,t]=await Promise.all([this.session.getCustomerAccessToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,t)){let t=await this.refreshSession(),n=await this.session.getCustomerAccessToken();return t.token||this.logger.debug("[privy:getAccessToken] expected token received null"),t.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),n===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),t.token??n}return e}async getAccessTokenInternal(){let e=await this.getAccessToken();return await this.session.getPrivyAccessToken()??e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${(0,qc.A)()}`,t="blobby";await this._storage.put(e,t);let n=await this._storage.get(e);return await this._storage.del(e),n===t}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.56.5",this._cache=new Map,this.logger=(({level:e}={level:"ERROR"})=>({get level(){return e},error:ul[e]>=ul.ERROR?console.error:ll,warn:ul[e]>=ul.WARN?console.warn:ll,info:ul[e]>=ul.INFO?console.info:ll,debug:ul[e]>=ul.DEBUG?console.debug:ll}))({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new al({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=Wc(globalThis.fetch,{retries:3,retryDelay:e=>3**e*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",e=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:e})})}}const fl={path:"/api/v1/users/me/accept_terms",method:"POST"};class pl{async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch(fl,{})}}constructor(e){this._privyInternal=e}}const gl={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},ml=e=>"wallet"===e.type&&"privy"===e.wallet_client_type&&"embedded"===e.connector_type,yl=e=>e?e.linked_accounts.filter(ml).filter(e=>"ethereum"===e.chain_type).sort((e,t)=>e.wallet_index-t.wallet_index):[],wl=e=>yl(e).find(e=>0===e.wallet_index)??null,bl=e=>e?e.linked_accounts.filter(ml).filter(e=>"solana"===e.chain_type).sort((e,t)=>e.wallet_index-t.wallet_index):[],vl=e=>bl(e).find(e=>0===e.wallet_index)??null,xl=async(e,t,n)=>{let r=((e,t)=>!("off"===t||yl(e).length>0||e.linked_accounts.filter(e=>"wallet"===e.type&&"ethereum"===e.chain_type).length>0&&"all-users"!==t))(t.user,n?.ethereum?.createOnLogin??"off"),i=((e,t)=>!("off"===t||bl(e).length>0||e.linked_accounts.filter(e=>"wallet"===e.type&&"solana"===e.chain_type).length>0&&"all-users"!==t))(t.user,n?.solana?.createOnLogin??"off");if(r&&i){let n=await e.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await e.createSolana({ethereumAccount:wl(n.user)??void 0}),is_new_user:t.is_new_user,oauth_tokens:t.oauth_tokens}}return r?{...await e.create({recoveryMethod:"privy",solanaAccount:vl(t.user)??void 0}),is_new_user:t.is_new_user,oauth_tokens:t.oauth_tokens}:i?{...await e.createSolana({ethereumAccount:wl(t.user)??void 0}),is_new_user:t.is_new_user,oauth_tokens:t.oauth_tokens}:t};class El{async syncWithToken(e,t,n){let r=await this._privyInternal.fetch(gl,{body:{token:e,mode:n}});await this._privyInternal.session.updateWithTokensResponse(r);let i=await xl(this._embedded,r,t?.embedded);return this._privyInternal.callbacks?.setUser?.(i.user),i}constructor(e,t){this._privyInternal=e,this._embedded=t}}const kl={path:"/api/v1/passwordless/authenticate",method:"POST"},_l={path:"/api/v1/passwordless/init",method:"POST"},Cl={path:"/api/v1/passwordless/link",method:"POST"},Sl={path:"/api/v1/passwordless/unlink",method:"POST"},Il={path:"/api/v1/passwordless/update",method:"POST"};class Al{async sendCode(e,t){return this._privyInternal.fetch(_l,{body:{email:e,token:t}})}async loginWithCode(e,t,n,r){let i=await this._privyInternal.fetch(kl,{body:{email:e,code:t,mode:n}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await xl(this._embedded,i,r?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async linkWithCode(e,t){await this._privyInternal.fetch(Cl,{body:{email:e,code:t}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:t,code:n}){await this._privyInternal.fetch(Il,{body:{oldAddress:e,newAddress:t,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async unlink(e){await this._privyInternal.fetch(Sl,{body:{address:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}constructor(e,t){this._privyInternal=e,this._embedded=t}}const Tl={path:"/api/v1/farcaster/init",method:"POST"},Pl={path:"/api/v1/farcaster/authenticate",method:"POST"},Ol={path:"/api/v1/farcaster/link",method:"POST"},jl={path:"/api/v1/farcaster/unlink",method:"POST"},Nl={path:"/api/v1/farcaster/status",method:"GET"},Rl={path:"/api/v2/farcaster/init",method:"POST"},$l={path:"/api/v2/farcaster/authenticate",method:"POST"};class Ml{async initializeAuth({relyingParty:e,redirectUrl:t,token:n}){return await this._privyInternal.fetch(Tl,{body:{relying_party:e,redirect_url:t,token:n}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(Nl,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:t,signature:n,fid:r,mode:i},s){let o=await this._privyInternal.fetch(Pl,{body:{channel_token:e,message:t,signature:n,fid:r,mode:i}});await this._privyInternal.session.updateWithTokensResponse(o);let a=await xl(this._embedded,o,s?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}async link({channel_token:e,message:t,signature:n,fid:r}){await this._privyInternal.fetch(Ol,{body:{channel_token:e,message:t,signature:n,fid:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch(jl,{body:{fid:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}constructor(e,t){this._privyInternal=e,this._embedded=t}}class Ll{async initializeAuth(){return await this._privyInternal.fetch(Rl,{body:{}})}async authenticate({message:e,signature:t,fid:n},r){let i=await this._privyInternal.fetch($l,{body:{message:e,signature:t,fid:n}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await xl(this._embedded,i,r?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}constructor(e,t){this._privyInternal=e,this._embedded=t}}const Bl={path:"/api/v1/guest/authenticate",method:"POST"};class Ul{async create(e){let t=await this._privyInternal.session.getOrCreateGuestCredential(),n=await this._privyInternal.fetch(Bl,{body:{guest_credential:t}});await this._privyInternal.session.updateWithTokensResponse(n);let r=await xl(this._embedded,n,e?.embedded);return this._privyInternal.callbacks?.setUser?.(r.user),r}constructor(e,t){this._privyInternal=e,this._embedded=t}}const Dl={path:"/api/v1/oauth/authenticate",method:"POST"},Fl={path:"/api/v1/oauth/init",method:"POST"},zl={path:"/api/v1/oauth/link",method:"POST"},Wl={path:"/api/v1/oauth/unlink",method:"POST"},ql="privy:state_code",Hl="privy:code_verifier";function Vl(){return Wa(crypto.getRandomValues(new Uint8Array(36)))}function Kl(){return Vl()}async function Gl({codeVerifier:e,method:t="S256",digest:n=crypto.subtle.digest.bind(crypto.subtle)}){if("S256"!=t)return e;{let t=await async function(e,t){let n=(new TextEncoder).encode(e);return new Uint8Array(await t("SHA-256",n))}(e,n);return Wa(t)}}class Zl{async generateURL(e,t){let n=Vl(),r=Kl(),i=await Gl({codeVerifier:n,digest:this._crypto?.digest});return await Promise.all([this._storage.put(Hl,n),this._storage.put(ql,r)]),this._privyInternal.fetch(Fl,{body:{redirect_to:t,provider:e,code_challenge:i,state_code:r}})}async loginWithCode(e,t,n,r,i,s){let[o,a]=await Promise.all([this._storage.get(Hl),this._storage.get(ql)]);if(a!==t)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:n,storedStateCode:a??"",returnedStateCode:t??""}),new ji({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let c=await this._privyInternal.fetch(Dl,{body:{authorization_code:e,code_type:r,state_code:a,code_verifier:o,mode:i}});await this._privyInternal.session.updateWithTokensResponse(c);let l=await xl(this._embedded,c,s?.embedded);return await Promise.all([this._storage.del(Hl),this._storage.del(ql)]),this._privyInternal.callbacks?.setUser?.(l.user),l}async linkWithCode(e,t,n,r){let[i,s]=await Promise.all([this._storage.get(Hl),this._storage.get(ql)]);if(s!==t)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:n,storedStateCode:s??"",returnedStateCode:t??""}),new ji({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let o=await this._privyInternal.fetch(zl,{body:{authorization_code:e,code_type:r,state_code:s,code_verifier:i}});await this._privyInternal.session.processOAuthTokens(o.oauth_tokens);let a=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(Hl),this._storage.del(ql)]),{user:a.user,identity_token:a.identity_token}}async unlink(e,t){await this._privyInternal.fetch(Wl,{body:{provider:e,subject:t}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,t,n,r){this._privyInternal=e,this._embedded=t,this._storage=n,this._crypto=r}}const Yl={path:"/api/v1/passkeys/link",method:"POST"},Jl={path:"/api/v1/passkeys/authenticate",method:"POST"},Ql={path:"/api/v1/passkeys/register",method:"POST"},Xl={path:"/api/v1/passkeys/authenticate/init",method:"POST"},eu={path:"/api/v1/passkeys/register/init",method:"POST"},tu={path:"/api/v1/passkeys/link/init",method:"POST"};class nu{async generateRegistrationOptions(e){return await this._privyInternal.fetch(tu,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(Xl,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(eu,{body:{relying_party:e}})}async loginWithPasskey(e,t,n,r){let i=await this._privyInternal.fetch(Jl,{body:{relying_party:n,challenge:t,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await xl(this._embedded,i,r?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async signupWithPasskey(e,t,n){let r=await this._privyInternal.fetch(Ql,{body:{relying_party:t,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(r);let i=await xl(this._embedded,r,n?.embedded);return this._privyInternal.callbacks?.setUser?.(i.user),i}async linkWithPasskey(e,t){await this._privyInternal.fetch(Yl,{body:{relying_party:t,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,t){this._privyInternal=e,this._embedded=t}}const ru={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},iu={path:"/api/v1/passwordless_sms/init",method:"POST"},su={path:"/api/v1/passwordless_sms/link",method:"POST"},ou={path:"/api/v1/passwordless_sms/unlink",method:"POST"},au={path:"/api/v1/passwordless_sms/update",method:"POST"};class cu{async sendCode(e,t){return this._privyInternal.fetch(iu,{body:{phoneNumber:e,token:t}})}async loginWithCode(e,t,n,r){let i=await this._privyInternal.fetch(ru,{body:{phoneNumber:e,code:t,mode:n}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await xl(this._embedded,i,r?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async linkWithCode(e,t){await this._privyInternal.fetch(su,{body:{phoneNumber:e,code:t}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:t,code:n}){await this._privyInternal.fetch(au,{body:{old_phone_number:e,new_phone_number:t,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async unlink(e){await this._privyInternal.fetch(ou,{body:{phoneNumber:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}constructor(e,t){this._privyInternal=e,this._embedded=t}}const lu={path:"/api/v1/siwe/init",method:"POST"},uu={path:"/api/v1/siwe/authenticate",method:"POST"},du={path:"/api/v1/siwe/link",method:"POST"},hu={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},fu={path:"/api/v1/siwe/unlink",method:"POST"};class pu{async unlinkWallet(e){await this._privyInternal.fetch(fu,{body:{address:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}async linkWithSiwe(e,t,n){let r=t||this._wallet,i=n||this._preparedMessage;if(!r)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!i)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(du,{body:{message:i,signature:e,chainId:r.chainId,walletClientType:r.walletClientType,connectorType:r.connectorType}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async loginWithSiwe(e,t,n,r,i){let s=t||this._wallet,o=n||this._preparedMessage;if(!s)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!o)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let a=await this._privyInternal.fetch(uu,{body:{signature:e,message:o,chainId:s.chainId,walletClientType:s.walletClientType,connectorType:s.connectorType,mode:r}});await this._privyInternal.session.updateWithTokensResponse(a);let c=await xl(this._embedded,a,i?.embedded);return this._privyInternal.callbacks?.setUser?.(c.user),c}async init(e,t,n){var r;this._wallet=e;let{nonce:i}=await this._privyInternal.fetch(lu,{body:{address:e.address}}),s=`${(r={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:(new Date).toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:t,nonce:i,uri:n}).domain} wants you to sign in with your Ethereum account:\n${r.address}\n\n${r.statement}\n\nURI: ${r.uri}\nVersion: 1\nChain ID: ${r.chainId}\nNonce: ${r.nonce}\nIssued At: ${r.issuedAt}\nResources:\n- https://privy.io`;return this._preparedMessage=s,{nonce:i,message:s}}constructor(e,t){this._wallet=void 0,this._privyInternal=e,this._embedded=t}}const gu={path:"/api/v1/siws/init",method:"POST"},mu={path:"/api/v1/siws/authenticate",method:"POST"},yu={path:"/api/v1/siws/link",method:"POST"},wu={path:"/api/v1/siws/unlink",method:"POST"};class bu{async unlink({address:e}){await this._privyInternal.fetch(wu,{body:{address:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}async link({message:e,signature:t,walletClientType:n,connectorType:r}){await this._privyInternal.fetch(yu,{body:{message:e,signature:t,walletClientType:n,connectorType:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async login({mode:e,message:t,signature:n,walletClientType:r,connectorType:i,opts:s}){let o=await this._privyInternal.fetch(mu,{body:{signature:n,message:t,walletClientType:r,connectorType:i,mode:e}});await this._privyInternal.session.updateWithTokensResponse(o);let a=await xl(this._embedded,o,s?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}async fetchNonce({address:e}){let{nonce:t}=await this._privyInternal.fetch(gu,{body:{address:e}});return{nonce:t}}constructor(e,t){this._privyInternal=e,this._embedded=t}}class vu{async link(e,t,n,r){await this._privyInternal.fetch(hu,{body:{message:e,signature:t,smart_wallet_type:n,smart_wallet_version:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async init(e){var t;let{nonce:n}=await this._privyInternal.fetch(lu,{body:{address:e.address}});return{nonce:n,message:`${(t={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:(new Date).toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:n}).domain} wants you to sign in with your Ethereum account:\n${t.address}\n\n${t.statement}\n\nURI: ${t.uri}\nVersion: 1\nChain ID: ${t.chainId}\nNonce: ${t.nonce}\nIssued At: ${t.issuedAt}\nResources:\n- https://privy.io`}}constructor(e){this._privyInternal=e}}class xu{async logout(){try{let e=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(Zc,{body:{refresh_token:e}})}catch(e){console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId()]),this._privyInternal.callbacks?.setUser?.(null)}constructor(e,t,n,r){this._privyInternal=e,this.customProvider=new El(this._privyInternal,t),this.phone=new cu(this._privyInternal,t),this.email=new Al(this._privyInternal,t),this.oauth=new Zl(this._privyInternal,t,n,r),this.guest=new Ul(this._privyInternal,t),this.siwe=new pu(this._privyInternal,t),this.siws=new bu(this._privyInternal,t),this.smartWallet=new vu(this._privyInternal),this.passkey=new nu(this._privyInternal,t),this.farcaster=new Ml(this._privyInternal,t),this.farcasterV2=new Ll(this._privyInternal,t)}}const Eu={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},ku={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"};class _u{async initOnRampSession(e){return await this._privyInternal.fetch(Eu,{body:e})}async getStatus(e){return await this._privyInternal.fetch(ku,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}}const Cu={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"},Su={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}};let Iu=new Set([wi.id,ui.id,pi.id,xi.id,hi.id,mi.id]),Au=new Set([wi.id,ui.id,bi.id,pi.id,xi.id,hi.id]);function Tu(e,t){switch(e){case ui.id:return"native-currency"===t?"ETH_ARBITRUM":"USDC_ARBITRUM";case hi.id:return"native-currency"===t?"AVAX_CCHAIN":"USDC_CCHAIN";case pi.id:return"native-currency"===t?"ETH_BASE":"USDC_BASE";case mi.id:return"CELO_CELO";case xi.id:return"native-currency"===t?"MATIC_POLYGON":"USDC_POLYGON";case wi.id:return"native-currency"===t?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${e} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}let Pu=class{async sign(e){return await this._privyInternal.fetch(Cu,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:t}){let{url:n,key:r}=Su[t?"sandbox":"prod"],i=await Wc(fetch,{retries:3,retryDelay:500})(`${n}/transactions/ext/${e}?apiKey=${r}`);if(!i.ok)throw new Ni({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:i});let s=await i.json();return Array.isArray(s)?s.at(0):void 0}constructor(e){this._privyInternal=e}};class Ou{constructor(e){this.moonpay=new Pu(e),this.coinbase=new _u(e)}}const ju={path:"/api/v1/mfa/passkeys/init",method:"POST"};let Nu=class{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(ju,{body:e})}constructor(e){this._privyInternal=e}};const Ru={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"};class $u{async sendCode(e){return await this._privyInternal.fetch(Ru,{body:e})}constructor(e){this._privyInternal=e}}class Mu{setProxy(e){this.proxy=e}async getAccessTokenInternal(){let e=await this.privyInternal.getAccessTokenInternal();if(!e)throw new ji({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new ji({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessTokenInternal()})}async initEnrollMfa(e){if(!this.proxy)throw new ji({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessTokenInternal()})}async submitEnrollMfa(e){if(!this.proxy)throw new ji({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let t=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessTokenInternal()});return await this.privyInternal.refreshSession(),t}async unenrollMfa(e){if(!this.proxy)throw new ji({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let t=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessTokenInternal()});return await this.privyInternal.refreshSession(),t}async clearMfa(e){if(!this.proxy)throw new ji({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,t){this.proxy=t,this.privyInternal=e,this.sms=new $u(e),this.passkey=new Nu(e)}}const Lu={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},Bu={path:"/api/v1/recovery/oauth/init",method:"POST"},Uu={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},Du={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},Fu={path:"/api/v1/recovery/configuration_icloud",method:"POST"};class zu{async init(e){return this._privyInternal.fetch(Du,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(Fu,{body:{client_type:e}})}constructor(e){this._privyInternal=e}}class Wu{async generateURL(e){let t=Vl(),n=Kl(),r=await Gl({codeVerifier:t,digest:this._crypto?.digest});return await Promise.all([this._storage.put(Hl,t),this._storage.put(ql,n)]),this._privyInternal.fetch(Bu,{body:{redirect_to:e,code_challenge:r,state_code:n}})}async authorize(e,t){let[n,r]=await Promise.all([this._storage.get(Hl),this._storage.get(ql)]);if(r!==t)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:r??"",returnedStateCode:t??""}),new ji({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let i=await this._privyInternal.fetch(Uu,{body:{authorization_code:e,state_code:r,code_verifier:n}});return await Promise.all([this._storage.del(Hl),this._storage.del(ql)]),i}constructor(e,t,n){this._privyInternal=e,this._storage=t,this._crypto=n}}class qu{async getRecoveryKeyMaterial(e,t){return this._privyInternal.fetch(Lu,{body:{chain_type:t},params:{address:e}})}constructor(e,t,n){this._privyInternal=e,this.auth=new Wu(this._privyInternal,t,n),this.icloudAuth=new zu(this._privyInternal)}}class Hu{async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,t){return this._privyInternal.getPath(e,t)}async fetchPrivyRoute(e,t){return this._privyInternal.fetch(e,t)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...t}){this._privyInternal=new hl({...t,appClientId:e}),this.mfa=new Mu(this._privyInternal),this.mfaPromises=new Fc,this.app=new Ua(this._privyInternal),this.embeddedWallet=new Dc(this._privyInternal,t.embeddedWalletMessagePoster,t.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new pl(this._privyInternal),this.auth=new xu(this._privyInternal,this.embeddedWallet,t.storage,t.crypto),this.recovery=new qu(this._privyInternal,t.storage,t.crypto),this.funding=new Ou(this._privyInternal),this.delegated=new Za(this._privyInternal),this.crossApp=new Ga(this._privyInternal,t.storage)}}var Vu=o(6118);Math.floor,String.fromCharCode;const Ku=/#/g,Gu=/&/g,Zu=/\//g,Yu=/=/g,Ju=/\+/g,Qu=/%5e/gi,Xu=/%60/gi,ed=/%7c/gi,td=/%20/gi;function nd(e){return(t="string"==typeof e?e:JSON.stringify(e),encodeURI(""+t).replace(ed,"|")).replace(Ju,"%2B").replace(td,"+").replace(Ku,"%23").replace(Gu,"%26").replace(Xu,"`").replace(Qu,"^").replace(Zu,"%2F");var t}function rd(e){return nd(e).replace(Yu,"%3D")}function id(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function sd(e){return id(e.replace(Ju," "))}function od(e){return id(e.replace(Ju," "))}function ad(e=""){const t=Object.create(null);"?"===e[0]&&(e=e.slice(1));for(const n of e.split("&")){const e=n.match(/([^=]+)=?(.*)/)||[];if(e.length<2)continue;const r=sd(e[1]);if("__proto__"===r||"constructor"===r)continue;const i=od(e[2]||"");void 0===t[r]?t[r]=i:Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]}return t}const cd=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,ld=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,ud=/^([/\\]\s*){2,}[^/\\]/,dd=/\/$|\/\?|\/#/,hd=/^\.?\//;function fd(e,t={}){return"boolean"==typeof t&&(t={acceptRelative:t}),t.strict?cd.test(e):ld.test(e)||!!t.acceptRelative&&ud.test(e)}function pd(e="",t){return t?dd.test(e):e.endsWith("/")}function gd(e="",t){if(!t)return e.endsWith("/")?e:e+"/";if(pd(e,!0))return e||"/";let n=e,r="";const i=e.indexOf("#");if(-1!==i&&(n=e.slice(0,i),r=e.slice(i),!n))return r;const[s,...o]=n.split("?");return s+"/"+(o.length>0?`?${o.join("?")}`:"")+r}function md(e,t){if(!(n=t)||"/"===n||fd(e))return e;var n;const r=function(e="",t){if(!t)return(pd(e)?e.slice(0,-1):e)||"/";if(!pd(e,!0))return e||"/";let n=e,r="";const i=e.indexOf("#");-1!==i&&(n=e.slice(0,i),r=e.slice(i));const[s,...o]=n.split("?");return((s.endsWith("/")?s.slice(0,-1):s)||"/")+(o.length>0?`?${o.join("?")}`:"")+r}(t);return e.startsWith(r)?e:function(e,...t){let n=e||"";for(const e of t.filter(e=>function(e){return e&&"/"!==e}(e)))if(n){const t=e.replace(hd,"");n=gd(n)+t}else n=e;return n}(r,e)}const yd=Symbol.for("ufo:protocolRelative");function wd(e="",t){const n=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,e,t=""]=n;return{protocol:e.toLowerCase(),pathname:t,href:e+t,auth:"",host:"",search:"",hash:""}}if(!fd(e,{acceptRelative:!0}))return t?wd(t+e):bd(e);const[,r="",i,s=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=s.match(/([^#/?]*)(.*)?/)||[];"file:"===r&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:c,search:l,hash:u}=bd(a);return{protocol:r.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:o,pathname:c,search:l,hash:u,[yd]:!r}}function bd(e=""){const[t="",n="",r=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:n,hash:r}}class vd extends Error{constructor(e,t){super(e,t),this.name="FetchError",t?.cause&&!this.cause&&(this.cause=t.cause)}}const xd=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Ed(e="GET"){return xd.has(e.toUpperCase())}const kd=new Set(["image/svg","application/xml","application/xhtml","application/html"]),_d=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function Cd(e,t,n,r){const i=function(e,t,n){if(!t)return new n(e);const r=new n(t);if(e)for(const[t,i]of Symbol.iterator in e||Array.isArray(e)?e:new n(e))r.set(t,i);return r}(t?.headers??e?.headers,n?.headers,r);let s;return(n?.query||n?.params||t?.params||t?.query)&&(s={...n?.params,...n?.query,...t?.params,...t?.query}),{...n,...t,query:s,params:s,headers:i}}async function Sd(e,t){if(t)if(Array.isArray(t))for(const n of t)await n(e);else await t(e)}const Id=new Set([408,409,425,429,500,502,503,504]),Ad=new Set([101,204,205,304]);var Td;class Pd extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,t,n){super(e),t instanceof Error&&(this.cause=t),this.privyErrorCode=n}}class Od extends Pd{constructor(e,t,n,r,i,s){super(n,r,i),this.type=e,this.status=t,this.data=s}}class jd extends Pd{constructor(e,t,n){super(e,t,n),this.type="client_error"}}class Nd extends jd{constructor(){super("Request timed out",void 0,"client_request_timeout")}}class Rd extends Pd{constructor(e,t,n){super(e,t,n),this.type="connector_error"}}const $d=e=>{if(e instanceof Pd)return e;if(!(e instanceof vd))return Md(e);if(!e.response)return new Od("api_error",null,e.message,e);let{type:t,message:n,error:r,code:i}=e.data;return new Od(t||"ApiError",e.response.status,n||r,e,i,e.data)},Md=e=>e instanceof Pd?e:e instanceof Error?new jd(e.message,e):new jd(`Internal error: ${e}`);var Ld=((Td={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",Td.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Td.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Td.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",Td.INVALID_DATA="invalid_data",Td.INVALID_CAPTCHA="invalid_captcha",Td.LINKED_TO_ANOTHER_USER="linked_to_another_user",Td.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",Td.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",Td.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",Td.USER_EXITED_UPDATE_FLOW="exited_update_flow",Td.ALLOWLIST_REJECTED="allowlist_rejected",Td.OAUTH_USER_DENIED="oauth_user_denied",Td.OAUTH_UNEXPECTED="oauth_unexpected",Td.UNKNOWN_AUTH_ERROR="unknown_auth_error",Td.USER_EXITED_AUTH_FLOW="exited_auth_flow",Td.USER_EXITED_LINK_FLOW="exited_link_flow",Td.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",Td.MUST_BE_AUTHENTICATED="must_be_authenticated",Td.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",Td.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",Td.CLIENT_REQUEST_TIMEOUT="client_request_timeout",Td.INVALID_CREDENTIALS="invalid_credentials",Td.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",Td.UNKNOWN_MFA_ERROR="unknown_mfa_error",Td.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",Td.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",Td.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",Td.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",Td.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",Td.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",Td.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",Td.TRANSACTION_FAILURE="transaction_failure",Td.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",Td.NOT_SUPPORTED="not_supported",Td.CAPTCHA_TIMEOUT="captcha_timeout",Td.INVALID_MESSAGE="invalid_message",Td.UNABLE_TO_SIGN="unable_to_sign",Td.CAPTCHA_FAILURE="captcha_failure",Td.CAPTCHA_DISABLED="captcha_disabled",Td.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",Td.TOO_MANY_REQUESTS="too_many_requests",Td.USER_LIMIT_REACHED="max_accounts_reached",Td.DISALLOWED_LOGIN_METHOD="disallowed_login_method",Td.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",Td.PASSKEY_NOT_ALLOWED="passkey_not_allowed",Td.USER_DOES_NOT_EXIST="user_does_not_exist",Td.INSUFFICIENT_BALANCE="insufficient_balance",Td.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",Td.BUFFER_NOT_DEFINED="buffer_not_defined",Td.UNSUPPORTED_WALLET_TYPE="unsupported_wallet_type",Td);class Bd extends jd{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}}class Ud extends jd{constructor(e="Embedded wallet error",t){super(e,t,"unknown_embedded_wallet_error")}}class Dd extends jd{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}}class Fd extends jd{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}}const zd="/api/v1/sessions",Wd="/api/v1/sessions/logout",qd="/api/v1/oauth/init",Hd="/api/v1/oauth/authenticate",Vd="/api/v1/oauth/link",Kd="/api/v1/analytics_events",Gd=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},Zd=e=>()=>{throw Error(e.trim())},Yd=(0,ei.createContext)({setAuthenticated:Gd,setUser:Gd,setIsNewUser:Gd,isNewUserThisSession:!1,walletConnectionStatus:null,setWalletConnectionStatus:Gd,connectors:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,privy:null,appId:"notAdded",onCustomAuthAuthenticated:Gd,hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:Gd,initializeWalletProxy:Gd,getAuthMeta:Gd,getAuthFlow:Gd,closePrivyModal:Gd,openPrivyModal:Gd,connectWallet:Gd,initLoginWithWallet:Gd,loginWithWallet:Gd,initLoginWithFarcaster:Gd,loginWithFarcaster:Gd,loginWithCode:Gd,initLoginWithEmail:Gd,initLoginWithSms:Gd,initUpdateEmail:Gd,initUpdatePhone:Gd,resendEmailCode:Gd,resendSmsCode:Gd,initLoginWithHeadlessOAuth:Gd,loginWithHeadlessOAuth:Gd,crossAppAuthFlow:Gd,initLoginWithOAuth:Gd,loginWithOAuth:Gd,passkeyAuthState:{status:"initial"},setPasskeyAuthState:Gd,initSignupWithPasskey:Gd,signupWithPasskey:Gd,initLoginWithPasskey:Gd,loginWithPasskey:Gd,initLinkWithPasskey:Gd,linkWithPasskey:Gd,refreshSessionAndUser:Gd,walletProxy:null,createAnalyticsEvent:Gd,acceptTerms:Gd,getUsdTokenPrice:Gd,getUsdPriceForSol:Gd,getSplTokenMetadata:Gd,recoverEmbeddedWallet:Gd,updateWallets:Gd,fundWallet:Gd,openModal:Gd,setReadyToTrue:Gd,requestFarcasterSignerStatus:Gd,initLoginWithTelegram:Gd,loginWithTelegram:Gd,generateSiweMessage:Gd,generateSiweMessageForSmartWallet:Gd,loginWithSiwe:Gd,linkWithSiwe:Gd,linkSmartWallet:Gd,delegateWallet:Gd,revokeDelegatedWallets:Gd,connectCoinbaseSmartWallet:Gd,connectBaseAccount:Gd,initiateAccountTransfer:Gd,emailOtpState:{status:"initial"},setEmailOtpState:Gd,smsOtpState:{status:"initial"},setSmsOtpState:Gd,siweState:{status:"initial"},setSiweState:Gd,oAuthState:{status:"initial"},setOAuthState:Gd,telegramAuthState:{status:"initial"},setTelegramAuthState:Gd,isHeadlessOAuthLoading:!1,isHeadlessSigning:Gd,inProgressAuthFlowRef:{current:null},inProgressLoginOrLinkMethodRef:{current:null},baseAccountSdk:void 0,setBaseAccountSdk:Gd}),Jd=()=>(0,ei.useContext)(Yd),Qd=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xd=(...e)=>e.filter((e,t,n)=>Boolean(e)&&n.indexOf(e)===t).join(" ");var eh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const th=(0,ei.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},c)=>(0,ei.createElement)("svg",{ref:c,...eh,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:Xd("lucide",i),...a},[...o.map(([e,t])=>(0,ei.createElement)(e,t)),...Array.isArray(s)?s:[s]])),nh=(e,t)=>{const n=(0,ei.forwardRef)(({className:n,...r},i)=>(0,ei.createElement)(th,{ref:i,iconNode:t,className:Xd(`lucide-${Qd(e)}`,n),...r}));return n.displayName=`${e}`,n},rh=nh("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),ih=nh("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),sh=nh("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),oh=nh("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),ah=nh("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ch=nh("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),lh=nh("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),uh=nh("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),dh=nh("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),hh=nh("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),fh=nh("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]),ph=nh("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),gh=nh("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mh=nh("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]),yh=nh("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),wh=nh("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),bh=nh("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);function vh(e){return vh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(e)}var xh=/^\s+/,Eh=/\s+$/;function kh(e,t){if(t=t||{},(e=e||"")instanceof kh)return e;if(!(this instanceof kh))return new kh(e,t);var n=function(e){var t,n,r,i={r:0,g:0,b:0},s=1,o=null,a=null,c=null,l=!1,u=!1;return"string"==typeof e&&(e=function(e){e=e.replace(xh,"").replace(Eh,"").toLowerCase();var t,n=!1;if(Dh[e])e=Dh[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=Xh.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=Xh.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=Xh.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=Xh.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=Xh.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=Xh.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=Xh.hex8.exec(e))?{r:Hh(t[1]),g:Hh(t[2]),b:Hh(t[3]),a:Zh(t[4]),format:n?"name":"hex8"}:(t=Xh.hex6.exec(e))?{r:Hh(t[1]),g:Hh(t[2]),b:Hh(t[3]),format:n?"name":"hex"}:(t=Xh.hex4.exec(e))?{r:Hh(t[1]+""+t[1]),g:Hh(t[2]+""+t[2]),b:Hh(t[3]+""+t[3]),a:Zh(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=Xh.hex3.exec(e))&&{r:Hh(t[1]+""+t[1]),g:Hh(t[2]+""+t[2]),b:Hh(t[3]+""+t[3]),format:n?"name":"hex"}}(e)),"object"==vh(e)&&(ef(e.r)&&ef(e.g)&&ef(e.b)?(t=e.r,n=e.g,r=e.b,i={r:255*Wh(t,255),g:255*Wh(n,255),b:255*Wh(r,255)},l=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):ef(e.h)&&ef(e.s)&&ef(e.v)?(o=Kh(e.s),a=Kh(e.v),i=function(e,t,n){e=6*Wh(e,360),t=Wh(t,100),n=Wh(n,100);var r=Math.floor(e),i=e-r,s=n*(1-t),o=n*(1-i*t),a=n*(1-(1-i)*t),c=r%6;return{r:255*[n,o,s,s,a,n][c],g:255*[a,n,n,o,s,s][c],b:255*[s,s,a,n,n,o][c]}}(e.h,o,a),l=!0,u="hsv"):ef(e.h)&&ef(e.s)&&ef(e.l)&&(o=Kh(e.s),c=Kh(e.l),i=function(e,t,n){var r,i,s;function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=Wh(e,360),t=Wh(t,100),n=Wh(n,100),0===t)r=i=s=n;else{var a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;r=o(c,a,e+1/3),i=o(c,a,e),s=o(c,a,e-1/3)}return{r:255*r,g:255*i,b:255*s}}(e.h,o,c),l=!0,u="hsl"),e.hasOwnProperty("a")&&(s=e.a)),s=zh(s),{ok:l,format:e.format||u,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:s}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function _h(e,t,n){e=Wh(e,255),t=Wh(t,255),n=Wh(n,255);var r,i,s=Math.max(e,t,n),o=Math.min(e,t,n),a=(s+o)/2;if(s==o)r=i=0;else{var c=s-o;switch(i=a>.5?c/(2-s-o):c/(s+o),s){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:i,l:a}}function Ch(e,t,n){e=Wh(e,255),t=Wh(t,255),n=Wh(n,255);var r,i,s=Math.max(e,t,n),o=Math.min(e,t,n),a=s,c=s-o;if(i=0===s?0:c/s,s==o)r=0;else{switch(s){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:i,v:a}}function Sh(e,t,n,r){var i=[Vh(Math.round(e).toString(16)),Vh(Math.round(t).toString(16)),Vh(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Ih(e,t,n,r){return[Vh(Gh(r)),Vh(Math.round(e).toString(16)),Vh(Math.round(t).toString(16)),Vh(Math.round(n).toString(16))].join("")}function Ah(e,t){t=0===t?0:t||10;var n=kh(e).toHsl();return n.s-=t/100,n.s=qh(n.s),kh(n)}function Th(e,t){t=0===t?0:t||10;var n=kh(e).toHsl();return n.s+=t/100,n.s=qh(n.s),kh(n)}function Ph(e){return kh(e).desaturate(100)}function Oh(e,t){t=0===t?0:t||10;var n=kh(e).toHsl();return n.l+=t/100,n.l=qh(n.l),kh(n)}function jh(e,t){t=0===t?0:t||10;var n=kh(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),kh(n)}function Nh(e,t){t=0===t?0:t||10;var n=kh(e).toHsl();return n.l-=t/100,n.l=qh(n.l),kh(n)}function Rh(e,t){var n=kh(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,kh(n)}function $h(e){var t=kh(e).toHsl();return t.h=(t.h+180)%360,kh(t)}function Mh(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=kh(e).toHsl(),r=[kh(e)],i=360/t,s=1;s<t;s++)r.push(kh({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function Lh(e){var t=kh(e).toHsl(),n=t.h;return[kh(e),kh({h:(n+72)%360,s:t.s,l:t.l}),kh({h:(n+216)%360,s:t.s,l:t.l})]}function Bh(e,t,n){t=t||6,n=n||30;var r=kh(e).toHsl(),i=360/n,s=[kh(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,s.push(kh(r));return s}function Uh(e,t){t=t||6;for(var n=kh(e).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/t;t--;)o.push(kh({h:r,s:i,v:s})),s=(s+a)%1;return o}kh.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=zh(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Ch(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Ch(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=_h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=_h(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return Sh(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var s=[Vh(Math.round(e).toString(16)),Vh(Math.round(t).toString(16)),Vh(Math.round(n).toString(16)),Vh(Gh(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*Wh(this._r,255))+"%",g:Math.round(100*Wh(this._g,255))+"%",b:Math.round(100*Wh(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*Wh(this._r,255))+"%, "+Math.round(100*Wh(this._g,255))+"%, "+Math.round(100*Wh(this._b,255))+"%)":"rgba("+Math.round(100*Wh(this._r,255))+"%, "+Math.round(100*Wh(this._g,255))+"%, "+Math.round(100*Wh(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(Fh[Sh(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+Ih(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=kh(e);n="#"+Ih(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return kh(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(Oh,arguments)},brighten:function(){return this._applyModification(jh,arguments)},darken:function(){return this._applyModification(Nh,arguments)},desaturate:function(){return this._applyModification(Ah,arguments)},saturate:function(){return this._applyModification(Th,arguments)},greyscale:function(){return this._applyModification(Ph,arguments)},spin:function(){return this._applyModification(Rh,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(Bh,arguments)},complement:function(){return this._applyCombination($h,arguments)},monochromatic:function(){return this._applyCombination(Uh,arguments)},splitcomplement:function(){return this._applyCombination(Lh,arguments)},triad:function(){return this._applyCombination(Mh,[3])},tetrad:function(){return this._applyCombination(Mh,[4])}},kh.fromRatio=function(e,t){if("object"==vh(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:Kh(e[r]));e=n}return kh(e,t)},kh.equals=function(e,t){return!(!e||!t)&&kh(e).toRgbString()==kh(t).toRgbString()},kh.random=function(){return kh.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},kh.mix=function(e,t,n){n=0===n?0:n||50;var r=kh(e).toRgb(),i=kh(t).toRgb(),s=n/100;return kh({r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a})},kh.readability=function(e,t){var n=kh(e),r=kh(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},kh.isReadable=function(e,t,n){var r,i,s=kh.readability(e,t);switch(i=!1,r=function(e){var t,n;return"AA"!==(t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==t&&(t="AA"),"small"!==(n=(e.size||"small").toLowerCase())&&"large"!==n&&(n="small"),{level:t,size:n}}(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=s>=4.5;break;case"AAlarge":i=s>=3;break;case"AAAsmall":i=s>=7}return i},kh.mostReadable=function(e,t,n){var r,i,s,o,a=null,c=0;i=(n=n||{}).includeFallbackColors,s=n.level,o=n.size;for(var l=0;l<t.length;l++)(r=kh.readability(e,t[l]))>c&&(c=r,a=kh(t[l]));return kh.isReadable(e,a,{level:s,size:o})||!i?a:(n.includeFallbackColors=!1,kh.mostReadable(e,["#fff","#000"],n))};var Dh=kh.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Fh=kh.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(Dh);function zh(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Wh(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function qh(e){return Math.min(1,Math.max(0,e))}function Hh(e){return parseInt(e,16)}function Vh(e){return 1==e.length?"0"+e:""+e}function Kh(e){return e<=1&&(e=100*e+"%"),e}function Gh(e){return Math.round(255*parseFloat(e)).toString(16)}function Zh(e){return Hh(e)/255}var Yh,Jh,Qh,Xh=(Jh="[\\s|\\(]+("+(Yh="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Yh+")[,|\\s]+("+Yh+")\\s*\\)?",Qh="[\\s|\\(]+("+Yh+")[,|\\s]+("+Yh+")[,|\\s]+("+Yh+")[,|\\s]+("+Yh+")\\s*\\)?",{CSS_UNIT:new RegExp(Yh),rgb:new RegExp("rgb"+Jh),rgba:new RegExp("rgba"+Qh),hsl:new RegExp("hsl"+Jh),hsla:new RegExp("hsla"+Qh),hsv:new RegExp("hsv"+Jh),hsva:new RegExp("hsva"+Qh),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function ef(e){return!!Xh.CSS_UNIT.exec(e)}const tf="https://auth.privy.io",nf=1400,rf=2500,sf=4e3,of="privy:token",af="privy-token",cf="privy:refresh_token",lf="privy:pat",uf="privy:id_token",df="privy-id-token",hf="privy-session",ff="privy:caid",pf=e=>`privy:guest:${e}`,gf=e=>`privy:cross-app:${e}`,mf="privy:state_code",yf="privy:code_verifier",wf="privy:headless_oauth",bf="privy:oauth_disable_signup",vf=e=>`privy:wallet:${e}`,xf="privy:connections",Ef=12e4,kf={appearance:{landingHeader:"Log in or sign up",theme:"light",walletList:["detected_ethereum_wallets","detected_solana_wallets","metamask","coinbase_wallet","rainbow","base_account","wallet_connect"]},walletConnectCloudProjectId:"34357d3c125c2bcf2ce2bc3309d98715",captchaEnabled:!1,_render:{standalone:!1},fundingMethodConfig:{moonpay:{useSandbox:!1}}};let _f=new Set(["coinbase_wallet","base_account","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","ronin_wallet","haha_wallet","wallet_connect","wallet_connect_qr","wallet_connect_qr_solana","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe","solflare","backpack","binance","binanceus","bitget_wallet"]),Cf=e=>_f.has(e),Sf=(e,t,n)=>n.indexOf(e)===t;function If(e,t){let n=Math.max(0,Math.min(1,e.toHsl().l+t));return kh({...e.toHsl(),l:n})}function Af(e,t){let n=e.getLuminance(),r=t.getLuminance();return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Tf({backgroundTheme:e,accentHex:t}){let n,r;"light"===e?n=!1:"dark"===e?n=!0:(n=.5>=kh(e).getLuminance(),r=kh(e).toHslString());let i=n?"dark":"light",s=n?Pf:Of,{accent:o,accentLight:a,accentHover:c,accentDark:l,accentDarkest:u}=function(e,t){if(!e){let e=t?Pf:Of;return{accent:kh(e.background.interactive),accentLight:kh(e.background.interactive),accentHover:kh(e.background["interactive-hover"]),accentDark:kh(e.background["interactive-clicked"]),accentDarkest:kh(e.background["interactive-disabled"])}}let n=kh(e);return{accent:n,accentLight:If(n,.15),accentHover:If(n,.3),accentDark:If(n,-.06),accentDarkest:If(n,-.6)}}(t,n),d=function(e){let t=kh(Of.text.default),n=kh(Pf.text.default),r=Af(e,t),i=Af(e,n),s=e.toHsl();return s.h>=220&&s.h<=300&&i>=3?Pf.text.default:r>i?Of.text.default:Pf.text.default}(o),h=kh(d),f=Af(o,kh(s.background.default))>=3;return{colorScheme:i,background:r||s.background.default,background2:s.background.elevated,background3:s.background.interactive,foreground:s.text.default,foreground2:s.text.muted,foreground3:s.text.placeholder,foreground4:s.border.default,accent:o.toHslString(),accentLight:a.toHslString(),accentHover:c.toHslString(),accentDark:l.toHslString(),accentDarkest:u.toHslString(),foregroundAccent:h.toHslString(),success:s.background.success,successDark:s.text.success,successLight:s.background.success,error:s.text.error,errorLight:s.background.error,warn:s.background.warning,warnLight:s.background.warning,warningDark:s.text.warning,errorDark:s.text.error,successBg:s.background.success,errorBg:s.background.error,errorBgHover:s.background["error-hover"],warnBg:s.background.warning,infoBg:s.background.info,infoBgHover:s.background["info-hover"],borderDefault:s.border.default,borderHover:s.border["default-hover"],borderFocus:s.border.focused,borderError:s.border.error,borderSuccess:s.border.success,borderWarning:s.border.warning,borderInfo:s.border.info,borderInteractive:s.border.interactive,borderInteractiveHover:s.border["interactive-hover"],backgroundHover:s.background["default-hover"],backgroundClicked:s.background["default-clicked"],backgroundDisabled:s.background["default-disabled"],backgroundInteractive:s.background.interactive,backgroundInteractiveHover:s.background["interactive-hover"],backgroundInteractiveClicked:s.background["interactive-clicked"],backgroundInteractiveDisabled:s.background["interactive-disabled"],foregroundHover:s.text.default,foregroundClicked:s.text.default,foregroundDisabled:s.text["default-disabled"],foregroundInteractive:s.text.interactive,foregroundInteractiveHover:s.text["interactive-hover"],accentHasGoodContrast:f?"1":"0",linkNavigationColor:f?o.toHslString():s.text.default,linkNavigationDecoration:f?"none":"underline",iconDefault:s.icon.default,iconMuted:s.icon.muted,iconSubtle:s.icon.subtle,iconInverse:s.icon.inverse,iconSuccess:s.icon.success,iconWarning:s.icon.warning,iconError:s.icon.error,iconInteractive:s.icon.interactive,iconDefaultHover:s.icon["default-hover"],iconMutedHover:s.icon["muted-hover"],iconSubtleHover:s.icon["subtle-hover"],iconDefaultClicked:s.icon["default-clicked"],iconMutedClicked:s.icon["muted-clicked"],iconSubtleClicked:s.icon["subtle-clicked"],iconDefaultDisabled:s.icon["default-disabled"],iconMutedDisabled:s.icon["muted-disabled"],iconSubtleDisabled:s.icon["subtle-disabled"],iconErrorHover:s.icon["error-hover"],iconInteractiveHover:s.icon["interactive-hover"],iconErrorClicked:s.icon["error-clicked"],iconInteractiveClicked:s.icon["interactive-clicked"],iconMutedDisabledAlt:s.icon["muted-disabled"],iconSubtleDisabledAlt:s.icon["subtle-disabled"]}}const Pf={background:{default:"#020713",elevated:"#1A2230","default-hover":"#101724","default-clicked":"#1A2230","default-disabled":"#020713",success:"#0E3E2D",warning:"#373827",error:"#2E0C18",interactive:"#8B86FF","error-hover":"#441821","interactive-hover":"#7B73E5","interactive-clicked":"#6560CC","interactive-disabled":"#141824",info:"#1F2937","info-hover":"#141824"},icon:{default:"#F8F8F8",muted:"#9BA2AE",subtle:"#7B8491",inverse:"#020713",success:"#88E3B5",warning:"#FDF27B",error:"#EF4444",interactive:"#88B6FF","default-hover":"#F8F8F8","muted-hover":"#AEB3BD","subtle-hover":"#8B939E","default-clicked":"#F8F8F8","muted-clicked":"#9097A5","subtle-clicked":"#78818E","default-disabled":"#404452","muted-disabled":"#404452","subtle-disabled":"#404452","error-hover":"#F05555","interactive-hover":"#7B73E5","error-clicked":"#EF4444","interactive-clicked":"#6560CC"},text:{default:"#F8F8F8",muted:"#9BA2AE",placeholder:"#7B8491",success:"#ACEECB",warning:"#FEF9A0",error:"#FCA5A5",interactive:"#A29EFF","default-disabled":"#404452","interactive-hover":"#8C88E5"},border:{default:"#1F2937",interactive:"#88B0FF",focused:"#F8F8FC",info:"#5B83D3",success:"#317056",warning:"#FBBF24",error:"#F87171","default-hover":"#34304A","interactive-hover":"#88B0FF"}},Of={background:{default:"#FFFFFF",elevated:"#F1F2F9","default-hover":"#F8F9FC","default-clicked":"#F1F2F9","default-disabled":"#FFFFFF",success:"#DCFCE7",warning:"#FEF3C7",error:"#FEE2E2",interactive:"#5B4FFF","error-hover":"#FECACA","interactive-hover":"#4F46E5","interactive-clicked":"#4338CA","interactive-disabled":"#F1F2F9",info:"#E0E7FF","info-hover":"#EEF2FF"},icon:{default:"#110F2A",muted:"#64668B",subtle:"#9498B8",inverse:"#FFFFFF",success:"#33B287",warning:"#F59E0B",error:"#EF4444",interactive:"#564FFF","default-hover":"#1D1B35","muted-hover":"#64668B","subtle-hover":"#888AAE","default-clicked":"#060C23","muted-clicked":"#64668B","subtle-clicked":"#788804","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","subtle-disabled":"#CBCDE1","error-hover":"#F06060","interactive-hover":"#4F46E5","error-clicked":"#DC3838","interactive-clicked":"#2BA482"},text:{default:"#040217",muted:"#64668B",placeholder:"#9498B8",success:"#135638",warning:"#906218",error:"#991B1B",interactive:"#5B4FFF","default-disabled":"#CBCDE1","interactive-hover":"#5B4FFF"},border:{default:"#E2E3F0",interactive:"#5B4FFF",focused:"#949DF9",info:"#F1F2F9",success:"#87D7B7",warning:"#FACD63",error:"#F69393","default-hover":"#E2E3F0","interactive-hover":"#5B4FFF"}};function jf(e,t,n,r,i){let s,o,a,c,l,u,d,h,f,p,g,m,y,w,b,v,x,E=n?console.warn:()=>{};t?.loginMethods?(s=t.loginMethods.includes("email"),o=t.loginMethods.includes("sms"),c=t.loginMethods.includes("wallet"),l=t.loginMethods.includes("google"),u=t.loginMethods.includes("twitter"),d=t.loginMethods.includes("discord"),g=t.loginMethods.includes("spotify"),m=t.loginMethods.includes("instagram"),h=t.loginMethods.includes("tiktok"),f=t.loginMethods.includes("line"),p=t.loginMethods.includes("twitch"),w=t.loginMethods.includes("github"),y=t.loginMethods.includes("linkedin"),b=t.loginMethods.includes("apple"),v=t.loginMethods.includes("farcaster"),x=t.loginMethods.includes("telegram"),a=t.loginMethods.includes("passkey")):(s=e.email_auth,o=e.sms_auth,c=e.wallet_auth||e.solana_wallet_auth,l=e.google_oauth,u=e.twitter_oauth,d=e.discord_oauth,w=e.github_oauth,g=e.spotify_oauth,m=e.instagram_oauth,h=e.tiktok_oauth,f=e.line_oauth,p=e.twitch_oauth,y=e.linkedin_oauth,b=e.apple_oauth,v=e.farcaster_auth,x=e.telegram_auth,a=e.passkey_auth),e.passkey_auth&&(a=!0),"undefined"!=typeof window&&"function"!=typeof window.PublicKeyCredential&&(a=!1);let k=[s,o].filter(Boolean),_=[l,u,d,w,g,m,h,f,y,b,v,x].filter(Boolean),C=[c].filter(Boolean),S=t?.loginMethods?.includes("passkey")??!1,I=e.passkeys_for_signup_enabled??!1,A=[a&&(I||S)].filter(Boolean);if(k.length+_.length+C.length+A.length===0)throw Error("You must enable at least one login method");let T=void 0!==t?.appearance?.showWalletLoginFirst?t?.appearance?.showWalletLoginFirst:e.show_wallet_login_first;T&&0===C.length?(E("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),T=!1):T||_.length+k.length!==0||(E("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),T=!0);let P=t?.externalWallets?.walletConnect?.enabled??!0;t?.loginMethods&&t.loginMethodsAndOrder&&E("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let O=(({input:e,overrides:t})=>t?t.primary.concat(t.overflow??[]).filter(Cf).filter(Sf):e?e.filter(Cf).filter(Sf):kf.appearance.walletList)({input:t?.appearance?.walletList,overrides:t?.loginMethodsAndOrder});if((O.includes("wallet_connect_qr")||O.includes("wallet_connect"))&&O.includes("wallet_connect_qr_solana"))throw Error("wallet_connect_qr and wallet_connect_qr_solana cannot both be present in walletList due to WalletConnect session conflicts.");let j=(({input:e})=>{if(!e||!e.primary[0])return;let t=[e.primary[0]],n=[];for(let n of(e.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),e.primary.slice(1)))t.includes(n)?console.warn(`Duplicated login method: ${n}`):t.push(n);for(let r of e.overflow??[])t.includes(r)||n.includes(r)?console.warn(`Duplicated login method: ${r}`):n.push(r);return{primary:t,overflow:n}})({input:t?.loginMethodsAndOrder}),N=t?.intl?.defaultCountry??"US",{chains:R,defaultChain:$}=function({supportedChains:e,defaultChainFromConfig:t}){let n;if(e){if(0===e.length)throw Error("`supportedChains` must contain at least one chain");n=Ya(e)}else n=[...Ci];let r=e?n[0]:wi,i=t??r;if(!n.find(e=>e.id===i.id))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:n,defaultChain:i}}({supportedChains:t?.supportedChains,defaultChainFromConfig:t?.defaultChain}),M=!!t?.defaultChain,L=t?.customAuth?.getCustomAccessToken&&!1!==t?.customAuth?.enabled,B=L?"all-users":e.embedded_wallet_config.ethereum.create_on_login,U=e.embedded_wallet_config.solana.create_on_login;e.solana_wallet_auth&&!t?.externalWallets?.solana?.connectors&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`");let D=e.telegram_auth_config?{botId:e.telegram_auth_config.bot_id,botName:e.telegram_auth_config.bot_name,linkEnabled:e.telegram_auth_config.link_enabled,seamlessAuthEnabled:e.telegram_auth_config.seamless_auth_enabled}:void 0,F=e.funding_config?{methods:e.funding_config.methods,options:e.funding_config.options,defaultRecommendedAmount:e.funding_config.default_recommended_amount,defaultRecommendedCurrency:e.funding_config.default_recommended_currency,promptFundingOnWalletCreation:e.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:e.funding_config.cross_chain_bridging_enabled}:void 0;return{id:e.id,appClientId:i,name:e.name,allowlistConfig:{errorTitle:e.allowlist_config.error_title,errorDetail:e.allowlist_config.error_detail,errorCtaText:e.allowlist_config.cta_text,errorCtaLink:e.allowlist_config.cta_link},legacyWalletUiConfig:e.legacy_wallet_ui_config,appearance:{logo:t?.appearance?.logo??e.logo_url??void 0,landingHeader:t?.appearance?.landingHeader??kf.appearance.landingHeader,loginMessage:"string"==typeof t?.appearance?.loginMessage?t?.appearance?.loginMessage.slice(0,100):t?.appearance?.loginMessage,footerLogo:t?.appearance?.footerLogo,palette:Tf({backgroundTheme:t?.appearance?.theme??kf.appearance.theme,accentHex:t?.appearance?.accentColor??e.accent_color}),loginGroupPriority:T?"web3-first":"web2-first",hideDirectWeb2Inputs:!!t?.appearance?.hideDirectWeb2Inputs,walletList:O,walletChainType:t?.appearance?.walletChainType??(({evmWalletAuth:e,solanaWalletAuth:t})=>e&&t?"ethereum-and-solana":e?"ethereum-only":t?"solana-only":"ethereum-only")({evmWalletAuth:e.wallet_auth??!1,solanaWalletAuth:e.solana_wallet_auth??!1})},loginMethods:{wallet:c,email:s,sms:o,passkey:a,google:l,twitter:u,discord:d,github:w,spotify:g,instagram:m,tiktok:h,line:f,twitch:p,linkedin:y,apple:b,farcaster:v,telegram:x},customOAuthProviders:(e.custom_oauth_providers??[]).filter(e=>!1!==e.enabled),disablePlusEmails:e.disable_plus_emails,loginMethodsAndOrder:j,legal:{termsAndConditionsUrl:t?.legal?.termsAndConditionsUrl??e.terms_and_conditions_url,privacyPolicyUrl:t?.legal?.privacyPolicyUrl??e.privacy_policy_url,requireUsersAcceptTerms:e.require_users_accept_terms??!1},walletConnectCloudProjectId:t?.walletConnectCloudProjectId??e.wallet_connect_cloud_project_id??kf.walletConnectCloudProjectId,rpcConfig:{rpcUrls:{},rpcTimeouts:t?.externalWallets?.signatureRequestTimeouts??{}},chains:R,defaultChain:$,intl:{defaultCountry:N},shouldEnforceDefaultChainOnConnect:M,captchaEnabled:e.captcha_enabled??kf.captchaEnabled,captchaSiteKey:e.captcha_site_key,externalWallets:{coinbaseWallet:{config:{appName:e.name,appLogoUrl:e.logo_url,preference:{options:"all",...t?.externalWallets?.coinbaseWallet?.config?.preference},...t?.externalWallets?.coinbaseWallet?.config}},baseAccount:{config:{appName:e.name,appLogoUrl:e.logo_url,...t?.externalWallets?.baseAccount?.config,preference:{...t?.externalWallets?.baseAccount?.config?.preference,telemetry:!1}}},walletConnect:{enabled:P},solana:{connectors:t?.externalWallets?.solana?.connectors},disableAllExternalWallets:t?.externalWallets?.disableAllExternalWallets??!1},embeddedWallets:{requireUserOwnedRecoveryOnCreate:!L&&(e.embedded_wallet_config.require_user_owned_recovery_on_create??!1),userOwnedRecoveryOptions:L?["user-passcode"]:e.embedded_wallet_config.user_owned_recovery_options,priceDisplay:t?.embeddedWallets?.priceDisplay??{primary:"fiat-currency",secondary:"native-token"},ethereum:{createOnLogin:t?.embeddedWallets?.ethereum?.createOnLogin??B},solana:{createOnLogin:t?.embeddedWallets?.solana?.createOnLogin??U},disableAutomaticMigration:t?.embeddedWallets?.disableAutomaticMigration??!1,mode:e.embedded_wallet_config.mode,showWalletUIs:t?.embeddedWallets?.showWalletUIs??e.enforce_wallet_uis??!0,extendedCalldataDecoding:t?.embeddedWallets?.extendedCalldataDecoding??!1,transactionScanning:{enabled:t?.embeddedWallets?.transactionScanning?.enabled??!1,domain:t?.embeddedWallets?.transactionScanning?.domain??r??"https://auth.privy.io"}},mfa:{methods:e.mfa_methods??[],noPromptOnMfaRequired:t?.mfa?.noPromptOnMfaRequired??!1},passkeys:{shouldUnlinkOnUnenrollMfa:t?.passkeys?.shouldUnlinkOnUnenrollMfa,shouldUnenrollMfaOnUnlink:t?.passkeys?.shouldUnenrollMfaOnUnlink,registration:t?.passkeys?.registration},customAuth:L?{enabled:!0,...t.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:D,passkeysForSignupEnabled:e.passkeys_for_signup_enabled},headless:!!t?.headless,render:{standalone:t?._render?.standalone??kf._render.standalone},fundingConfig:F,fundingMethodConfig:{...t?.fundingMethodConfig??kf.fundingMethodConfig,moonpay:{...t?.fundingMethodConfig?.moonpay??kf.fundingMethodConfig.moonpay,useSandbox:t?.fundingMethodConfig?.moonpay.useSandbox??kf.fundingMethodConfig.moonpay.useSandbox}},whatsAppEnabled:!!e.whatsapp_enabled,customOAuthRedirectUrl:t?.customOAuthRedirectUrl,solanaRpcs:{"solana:mainnet":t?.solana?.rpcs?.["solana:mainnet"]??null,"solana:devnet":t?.solana?.rpcs?.["solana:devnet"]??null,"solana:testnet":t?.solana?.rpcs?.["solana:testnet"]??null}}}const Nf={show_wallet_login_first:!0,allowlist_config:{error_title:null,error_detail:null,cta_text:null,cta_link:null},wallet_auth:!0,email_auth:!0,sms_auth:!1,google_oauth:!1,twitter_oauth:!1,discord_oauth:!1,github_oauth:!1,linkedin_oauth:!1,apple_oauth:!1,disable_plus_emails:!1,terms_and_conditions_url:null,privacy_policy_url:null,embedded_wallet_config:{create_on_login:"off",ethereum:{create_on_login:"off"},solana:{create_on_login:"off"},require_user_owned_recovery_on_create:!1,user_owned_recovery_options:["user-passcode"],mode:"user-controlled-server-wallets-only"},captcha_enabled:!1,captcha_site_key:"",enforce_wallet_uis:!1,legacy_wallet_ui_config:!1,id:"",name:"",passkeys_for_signup_enabled:!1,whatsapp_enabled:!1};let Rf=(0,ei.createContext)({appConfig:jf(Nf,void 0,!1),isServerConfigLoaded:!1});const $f=({children:e,client:t,legacyClient:n,clientConfig:r,appClientId:i})=>{let[s,o]=(0,ei.useState)(null),a=(0,ei.useMemo)(()=>jf(s??Nf,r,!!s,"undefined"!=typeof window?window.location.origin:void 0,i),[s,r,i]);return(0,ei.useEffect)(()=>{if(!s)return;let e=function(e){if(!e)return{};let{appearance:t,supportedChains:n,defaultChain:r,externalWallets:i,...s}=e;return{...s,...n?{supportedChains:n.map(e=>e.id)}:void 0,...r?{defaultChain:r.id}:void 0,...i?{walletConnect:i.walletConnect?{enabled:i.walletConnect.enabled}:void 0,coinbaseWallet:i.coinbaseWallet,solana:{connectors:i.solana?.connectors?.get().map(e=>e.walletClientType)}}:void 0}}(r),t=function(e,t=0){let n=3735928559^t,r=1103547991^t;for(let t,i=0;i<e.length;i++)n=Math.imul(n^(t=e.charCodeAt(i)),2654435761),r=Math.imul(r^t,1597334677);return n=Math.imul(n^n>>>16,2246822507)^Math.imul(r^r>>>13,3266489909),4294967296*(2097151&(r=Math.imul(r^r>>>16,2246822507)^Math.imul(n^n>>>13,3266489909)))+(n>>>0)}(JSON.stringify(e)).toString(),i=`privy:sent:${s.id}:${t}`;localStorage.getItem(i)||(n.createAnalyticsEvent({eventName:"sdk_initialize",payload:e}),localStorage.setItem(i,"t"))},[r,s]),(0,ei.useEffect)(()=>{s||(async()=>{try{await t.initialize();let e=t.app.getConfig();e.custom_api_url&&n.updateApiUrl(e.custom_api_url),o(e)}catch(e){console.warn("Error generating app config: ",e)}})()},[]),(0,ri.jsx)(Rf.Provider,{value:{appConfig:a,isServerConfigLoaded:!!s},children:e})},Mf=()=>{let{appConfig:e}=(0,ei.useContext)(Rf);return e},Lf=()=>{let{isServerConfigLoaded:e}=(0,ei.useContext)(Rf);return e},Bf={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},connectOrCreateWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},Uf=(0,ei.createContext)(void 0);let Df=()=>(0,ei.useContext)(Uf);function Ff(e,t){if(!t)return;let n=Df().current[e];return(0,ei.useEffect)(()=>{for(let[r,i]of Object.entries(t))Object.prototype.hasOwnProperty.call(n,r)||console.warn(`Invalid event type "${r}" for action "${e}"`),n[r]?.push(i);return()=>{for(let[r,i]of Object.entries(t))Object.prototype.hasOwnProperty.call(n,r)||console.warn(`Invalid event type "${r}" for action "${e}"`),n[r]=n[r]?.filter(e=>e!==i)}},[t])}function zf(e,t,n,...r){for(let i of e.current[t][n])i(...r)}function Wf(){let e=Df();return(t,n,...r)=>zf(e,t,n,...r)}var qf=o(9436),Hf=o(7135),Vf=o(4705),Kf=o(1965),Gf=o(2864),Zf=o(9798),Yf=o(5842),Jf=o(1362),Qf=o(7729),Xf=o(3033),ep=o(4254),tp=o(7614),np=o(3531),rp=o(5704),ip=o(8498),sp=o(9497),op=o(4337),ap=o(1344),cp=o(8990),lp=o(7529),up=o(3190),dp=o(8358),hp=o(9789),fp=o(7671),pp=o(3692),gp=o(6447),mp=o(332),yp=o(6488);const wp=new gp.A(128);async function bp(e,t){const{account:n=e.account,chain:r=e.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,pollingInterval:p,throwOnReceiptRevert:g,type:m,value:y,...w}=t,b=t.timeout??Math.max(3*(r?.blockTime??0),5e3);if(void 0===n)throw new op.T({docsPath:"/docs/actions/wallet/sendTransactionSync"});const v=n?(0,Xf.J)(n):null;try{(0,mp.c)(t);const n=await(async()=>t.to?t.to:null!==t.to&&s&&s.length>0?await(0,lp.g)({authorization:s[0]}).catch(()=>{throw new ap.C("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if("json-rpc"===v?.type||null===v){let t;null!==r&&(t=await(0,pp.T)(e,Zf.T,"getChainId")({}),(0,up.v)({currentChainId:t,chain:r}));const x=e.chain?.formatters?.transactionRequest?.format,E=(x||fp.Bv)({...(0,hp.o)(w,{format:x}),accessList:i,account:v,authorizationList:s,blobs:o,chainId:t,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,to:n,type:m,value:y},"sendTransaction"),k=wp.get(e.uid),_=k?"wallet_sendTransaction":"eth_sendTransaction",C=await(async()=>{try{return await e.request({method:_,params:[E]},{retryCount:0})}catch(t){if(!1===k)throw t;const n=t;if("InvalidInputRpcError"===n.name||"InvalidParamsRpcError"===n.name||"MethodNotFoundRpcError"===n.name||"MethodNotSupportedRpcError"===n.name)return await e.request({method:"wallet_sendTransaction",params:[E]},{retryCount:0}).then(t=>(wp.set(e.uid,!0),t)).catch(t=>{const r=t;if("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name)throw wp.set(e.uid,!1),n;throw r});throw n}})(),S=await(0,pp.T)(e,yp.n,"waitForTransactionReceipt")({checkReplacement:!1,hash:C,pollingInterval:p,timeout:b});if(g&&"reverted"===S.status)throw new cp.Sq({receipt:S});return S}if("local"===v?.type){const t=await(0,pp.T)(e,tp.ft,"prepareTransactionRequest")({account:v,accessList:i,authorizationList:s,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,nonceManager:v.nonceManager,parameters:[...tp.MM,"sidecars"],type:m,value:y,...w,to:n}),p=r?.serializers?.transaction,b=await v.signTransaction(t,{serializer:p});return await(0,pp.T)(e,sp.s,"sendRawTransactionSync")({serializedTransaction:b,throwOnReceiptRevert:g})}if("smart"===v?.type)throw new op.Z({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new op.Z({docsPath:"/docs/actions/wallet/sendTransactionSync",type:v?.type})}catch(e){if(e instanceof op.Z)throw e;throw(0,dp.p)(e,{...t,account:v,chain:t.chain||void 0})}}var vp=o(8864),xp=o(8503),Ep=o(2350);async function kp(e,t){return kp.internal(e,Jf.v,"sendTransaction",t)}function _p(e){return{addChain:t=>async function(e,{chain:t}){const{id:n,name:r,nativeCurrency:i,rpcUrls:s,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:(0,oi.cK)(n),chainName:r,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:o?Object.values(o).map(({url:e})=>e):void 0}]},{dedupe:!0,retryCount:0})}(e,t),deployContract:t=>function(e,t){const{abi:n,args:r,bytecode:i,...s}=t,o=(0,Yf.m)({abi:n,args:r,bytecode:i});return(0,Jf.v)(e,{...s,...s.authorizationList?{to:null}:{},data:o})}(e,t),getAddresses:()=>async function(e){return"local"===e.account?.type?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(e=>(0,ai.o)(e))}(e),getCallsStatus:t=>(0,Qf.k)(e,t),getCapabilities:t=>async function(e,t={}){const{account:n=e.account,chainId:r}=t,i=n?(0,Xf.J)(n):void 0,s=r?[i?.address,[(0,oi.cK)(r)]]:[i?.address],o=await e.request({method:"wallet_getCapabilities",params:s}),a={};for(const[e,t]of Object.entries(o)){a[Number(e)]={};for(let[n,r]of Object.entries(t))"addSubAccount"===n&&(n="unstable_addSubAccount"),a[Number(e)][n]=r}return"number"==typeof r?a[r]:a}(e,t),getChainId:()=>(0,Zf.T)(e),getPermissions:()=>async function(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}(e),prepareAuthorization:t=>(0,ep.h)(e,t),prepareTransactionRequest:t=>(0,tp.ft)(e,t),requestAddresses:()=>async function(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(e=>(0,ai.b)(e))}(e),requestPermissions:t=>async function(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}(e,t),sendCalls:t=>(0,np.yM)(e,t),sendCallsSync:t=>async function(e,t){const{chain:n=e.chain}=t,r=t.timeout??Math.max(3*(n?.blockTime??0),5e3),i=await(0,np.yM)(e,t);return await(0,rp.c)(e,{...t,id:i.id,timeout:r})}(e,t),sendRawTransaction:t=>(0,ip.L)(e,t),sendRawTransactionSync:t=>(0,sp.s)(e,t),sendTransaction:t=>(0,Jf.v)(e,t),sendTransactionSync:t=>bp(e,t),showCallsStatus:t=>async function(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}(e,t),signAuthorization:t=>async function(e,t){const{account:n=e.account}=t;if(!n)throw new op.T({docsPath:"/docs/eip7702/signAuthorization"});const r=(0,Xf.J)(n);if(!r.signAuthorization)throw new op.Z({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const i=await(0,ep.h)(e,t);return r.signAuthorization(i)}(e,t),signMessage:t=>async function(e,{account:t=e.account,message:n}){if(!t)throw new op.T({docsPath:"/docs/actions/wallet/signMessage"});const r=(0,Xf.J)(t);if(r.signMessage)return r.signMessage({message:n});const i="string"==typeof n?(0,oi.i3)(n):n.raw instanceof Uint8Array?(0,oi.nj)(n.raw):n.raw;return e.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}(e,t),signTransaction:t=>async function(e,t){const{account:n=e.account,chain:r=e.chain,...i}=t;if(!n)throw new op.T({docsPath:"/docs/actions/wallet/signTransaction"});const s=(0,Xf.J)(n);(0,mp.c)({account:s,...t});const o=await(0,pp.T)(e,Zf.T,"getChainId")({});null!==r&&(0,up.v)({currentChainId:o,chain:r});const a=r?.formatters||e.chain?.formatters,c=a?.transactionRequest?.format||fp.Bv;return s.signTransaction?s.signTransaction({...i,chainId:o},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...c({...i,account:s},"signTransaction"),chainId:(0,oi.cK)(o),from:s.address}]},{retryCount:0})}(e,t),signTypedData:t=>async function(e,t){const{account:n=e.account,domain:r,message:i,primaryType:s}=t;if(!n)throw new op.T({docsPath:"/docs/actions/wallet/signTypedData"});const o=(0,Xf.J)(n),a={EIP712Domain:(0,vp.H4)({domain:r}),...t.types};if((0,vp.$$)({domain:r,message:i,primaryType:s,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:i,primaryType:s,types:a});const c=(0,vp.v8)({domain:r,message:i,primaryType:s,types:a});return e.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}(e,t),switchChain:t=>async function(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,oi.cK)(t)}]},{retryCount:0})}(e,t),waitForCallsStatus:t=>(0,rp.c)(e,t),watchAsset:t=>async function(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}(e,t),writeContract:t=>kp(e,t),writeContractSync:t=>async function(e,t){return kp.internal(e,bp,"sendTransactionSync",t)}(e,t)}}function Cp(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return(0,Gf.U)({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(_p)}!function(e){e.internal=async function(e,t,n,r){const{abi:i,account:s=e.account,address:o,args:a,dataSuffix:c,functionName:l,...u}=r;if(void 0===s)throw new op.T({docsPath:"/docs/contract/writeContract"});const d=s?(0,Xf.J)(s):null,h=(0,xp.p)({abi:i,args:a,functionName:l});try{return await(0,pp.T)(e,t,n)({data:`${h}${c?c.replace("0x",""):""}`,to:o,account:d,...u})}catch(e){throw(0,Ep.j)(e,{abi:i,address:o,args:a,docsPath:"/docs/contract/writeContract",functionName:l,sender:d?.address})}}}(kp||(kp={}));var Sp=o(5592);function Ip(e,t={}){const{key:n="custom",methods:r,name:i="Custom Provider",retryDelay:s}=t;return({retryCount:o})=>(0,Sp.o)({key:n,methods:r,name:i,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:s,type:"custom"})}var Ap=o(2602),Tp=o(638),Pp=o(1277);function Op(e,t="wei"){return(0,Pp.X)(e,Tp.eL[t])}var jp=o(7219);function Np(e){return crypto.getRandomValues(new Uint8Array(e))}const Rp=65536;function $p(){const[e]=Np(1);return e}function Mp(){const[e,t]=Np(2);return(e<<8)+t}function Lp(e){if("number"!=typeof e||e<2||e>Rp)throw new Error("Invalid number: number must be at least two and at most 65536");const t=e>256,n=t?Rp:256,r=t?Mp:$p,i=e*Math.floor(n/e);for(;;){const t=r();if(t<i)return t%e}}const Bp=Object.freeze(["abacus","abdomen","abdominal","abide","abiding","ability","ablaze","able","abnormal","abrasion","abrasive","abreast","abridge","abroad","abruptly","absence","absentee","absently","absinthe","absolute","absolve","abstain","abstract","absurd","accent","acclaim","acclimate","accompany","account","accuracy","accurate","accustom","acetone","achiness","aching","acid","acorn","acquaint","acquire","acre","acrobat","acronym","acting","action","activate","activator","active","activism","activist","activity","actress","acts","acutely","acuteness","aeration","aerobics","aerosol","aerospace","afar","affair","affected","affecting","affection","affidavit","affiliate","affirm","affix","afflicted","affluent","afford","affront","aflame","afloat","aflutter","afoot","afraid","afterglow","afterlife","aftermath","aftermost","afternoon","aged","ageless","agency","agenda","agent","aggregate","aghast","agile","agility","aging","agnostic","agonize","agonizing","agony","agreeable","agreeably","agreed","agreeing","agreement","aground","ahead","ahoy","aide","aids","aim","ajar","alabaster","alarm","albatross","album","alfalfa","algebra","algorithm","alias","alibi","alienable","alienate","aliens","alike","alive","alkaline","alkalize","almanac","almighty","almost","aloe","aloft","aloha","alone","alongside","aloof","alphabet","alright","although","altitude","alto","aluminum","alumni","always","amaretto","amaze","amazingly","amber","ambiance","ambiguity","ambiguous","ambition","ambitious","ambulance","ambush","amendable","amendment","amends","amenity","amiable","amicably","amid","amigo","amino","amiss","ammonia","ammonium","amnesty","amniotic","among","amount","amperage","ample","amplifier","amplify","amply","amuck","amulet","amusable","amused","amusement","amuser","amusing","anaconda","anaerobic","anagram","anatomist","anatomy","anchor","anchovy","ancient","android","anemia","anemic","aneurism","anew","angelfish","angelic","anger","angled","angler","angles","angling","angrily","angriness","anguished","angular","animal","animate","animating","animation","animator","anime","animosity","ankle","annex","annotate","announcer","annoying","annually","annuity","anointer","another","answering","antacid","antarctic","anteater","antelope","antennae","anthem","anthill","anthology","antibody","antics","antidote","antihero","antiquely","antiques","antiquity","antirust","antitoxic","antitrust","antiviral","antivirus","antler","antonym","antsy","anvil","anybody","anyhow","anymore","anyone","anyplace","anything","anytime","anyway","anywhere","aorta","apache","apostle","appealing","appear","appease","appeasing","appendage","appendix","appetite","appetizer","applaud","applause","apple","appliance","applicant","applied","apply","appointee","appraisal","appraiser","apprehend","approach","approval","approve","apricot","april","apron","aptitude","aptly","aqua","aqueduct","arbitrary","arbitrate","ardently","area","arena","arguable","arguably","argue","arise","armadillo","armband","armchair","armed","armful","armhole","arming","armless","armoire","armored","armory","armrest","army","aroma","arose","around","arousal","arrange","array","arrest","arrival","arrive","arrogance","arrogant","arson","art","ascend","ascension","ascent","ascertain","ashamed","ashen","ashes","ashy","aside","askew","asleep","asparagus","aspect","aspirate","aspire","aspirin","astonish","astound","astride","astrology","astronaut","astronomy","astute","atlantic","atlas","atom","atonable","atop","atrium","atrocious","atrophy","attach","attain","attempt","attendant","attendee","attention","attentive","attest","attic","attire","attitude","attractor","attribute","atypical","auction","audacious","audacity","audible","audibly","audience","audio","audition","augmented","august","authentic","author","autism","autistic","autograph","automaker","automated","automatic","autopilot","available","avalanche","avatar","avenge","avenging","avenue","average","aversion","avert","aviation","aviator","avid","avoid","await","awaken","award","aware","awhile","awkward","awning","awoke","awry","axis","babble","babbling","babied","baboon","backache","backboard","backboned","backdrop","backed","backer","backfield","backfire","backhand","backing","backlands","backlash","backless","backlight","backlit","backlog","backpack","backpedal","backrest","backroom","backshift","backside","backslid","backspace","backspin","backstab","backstage","backtalk","backtrack","backup","backward","backwash","backwater","backyard","bacon","bacteria","bacterium","badass","badge","badland","badly","badness","baffle","baffling","bagel","bagful","baggage","bagged","baggie","bagginess","bagging","baggy","bagpipe","baguette","baked","bakery","bakeshop","baking","balance","balancing","balcony","balmy","balsamic","bamboo","banana","banish","banister","banjo","bankable","bankbook","banked","banker","banking","banknote","bankroll","banner","bannister","banshee","banter","barbecue","barbed","barbell","barber","barcode","barge","bargraph","barista","baritone","barley","barmaid","barman","barn","barometer","barrack","barracuda","barrel","barrette","barricade","barrier","barstool","bartender","barterer","bash","basically","basics","basil","basin","basis","basket","batboy","batch","bath","baton","bats","battalion","battered","battering","battery","batting","battle","bauble","bazooka","blabber","bladder","blade","blah","blame","blaming","blanching","blandness","blank","blaspheme","blasphemy","blast","blatancy","blatantly","blazer","blazing","bleach","bleak","bleep","blemish","blend","bless","blighted","blimp","bling","blinked","blinker","blinking","blinks","blip","blissful","blitz","blizzard","bloated","bloating","blob","blog","bloomers","blooming","blooper","blot","blouse","blubber","bluff","bluish","blunderer","blunt","blurb","blurred","blurry","blurt","blush","blustery","boaster","boastful","boasting","boat","bobbed","bobbing","bobble","bobcat","bobsled","bobtail","bodacious","body","bogged","boggle","bogus","boil","bok","bolster","bolt","bonanza","bonded","bonding","bondless","boned","bonehead","boneless","bonelike","boney","bonfire","bonnet","bonsai","bonus","bony","boogeyman","boogieman","book","boondocks","booted","booth","bootie","booting","bootlace","bootleg","boots","boozy","borax","boring","borough","borrower","borrowing","boss","botanical","botanist","botany","botch","both","bottle","bottling","bottom","bounce","bouncing","bouncy","bounding","boundless","bountiful","bovine","boxcar","boxer","boxing","boxlike","boxy","breach","breath","breeches","breeching","breeder","breeding","breeze","breezy","brethren","brewery","brewing","briar","bribe","brick","bride","bridged","brigade","bright","brilliant","brim","bring","brink","brisket","briskly","briskness","bristle","brittle","broadband","broadcast","broaden","broadly","broadness","broadside","broadways","broiler","broiling","broken","broker","bronchial","bronco","bronze","bronzing","brook","broom","brought","browbeat","brownnose","browse","browsing","bruising","brunch","brunette","brunt","brush","brussels","brute","brutishly","bubble","bubbling","bubbly","buccaneer","bucked","bucket","buckle","buckshot","buckskin","bucktooth","buckwheat","buddhism","buddhist","budding","buddy","budget","buffalo","buffed","buffer","buffing","buffoon","buggy","bulb","bulge","bulginess","bulgur","bulk","bulldog","bulldozer","bullfight","bullfrog","bullhorn","bullion","bullish","bullpen","bullring","bullseye","bullwhip","bully","bunch","bundle","bungee","bunion","bunkbed","bunkhouse","bunkmate","bunny","bunt","busboy","bush","busily","busload","bust","busybody","buzz","cabana","cabbage","cabbie","cabdriver","cable","caboose","cache","cackle","cacti","cactus","caddie","caddy","cadet","cadillac","cadmium","cage","cahoots","cake","calamari","calamity","calcium","calculate","calculus","caliber","calibrate","calm","caloric","calorie","calzone","camcorder","cameo","camera","camisole","camper","campfire","camping","campsite","campus","canal","canary","cancel","candied","candle","candy","cane","canine","canister","cannabis","canned","canning","cannon","cannot","canola","canon","canopener","canopy","canteen","canyon","capable","capably","capacity","cape","capillary","capital","capitol","capped","capricorn","capsize","capsule","caption","captivate","captive","captivity","capture","caramel","carat","caravan","carbon","cardboard","carded","cardiac","cardigan","cardinal","cardstock","carefully","caregiver","careless","caress","caretaker","cargo","caring","carless","carload","carmaker","carnage","carnation","carnival","carnivore","carol","carpenter","carpentry","carpool","carport","carried","carrot","carrousel","carry","cartel","cartload","carton","cartoon","cartridge","cartwheel","carve","carving","carwash","cascade","case","cash","casing","casino","casket","cassette","casually","casualty","catacomb","catalog","catalyst","catalyze","catapult","cataract","catatonic","catcall","catchable","catcher","catching","catchy","caterer","catering","catfight","catfish","cathedral","cathouse","catlike","catnap","catnip","catsup","cattail","cattishly","cattle","catty","catwalk","caucasian","caucus","causal","causation","cause","causing","cauterize","caution","cautious","cavalier","cavalry","caviar","cavity","cedar","celery","celestial","celibacy","celibate","celtic","cement","census","ceramics","ceremony","certainly","certainty","certified","certify","cesarean","cesspool","chafe","chaffing","chain","chair","chalice","challenge","chamber","chamomile","champion","chance","change","channel","chant","chaos","chaperone","chaplain","chapped","chaps","chapter","character","charbroil","charcoal","charger","charging","chariot","charity","charm","charred","charter","charting","chase","chasing","chaste","chastise","chastity","chatroom","chatter","chatting","chatty","cheating","cheddar","cheek","cheer","cheese","cheesy","chef","chemicals","chemist","chemo","cherisher","cherub","chess","chest","chevron","chevy","chewable","chewer","chewing","chewy","chief","chihuahua","childcare","childhood","childish","childless","childlike","chili","chill","chimp","chip","chirping","chirpy","chitchat","chivalry","chive","chloride","chlorine","choice","chokehold","choking","chomp","chooser","choosing","choosy","chop","chosen","chowder","chowtime","chrome","chubby","chuck","chug","chummy","chump","chunk","churn","chute","cider","cilantro","cinch","cinema","cinnamon","circle","circling","circular","circulate","circus","citable","citadel","citation","citizen","citric","citrus","city","civic","civil","clad","claim","clambake","clammy","clamor","clamp","clamshell","clang","clanking","clapped","clapper","clapping","clarify","clarinet","clarity","clash","clasp","class","clatter","clause","clavicle","claw","clay","clean","clear","cleat","cleaver","cleft","clench","clergyman","clerical","clerk","clever","clicker","client","climate","climatic","cling","clinic","clinking","clip","clique","cloak","clobber","clock","clone","cloning","closable","closure","clothes","clothing","cloud","clover","clubbed","clubbing","clubhouse","clump","clumsily","clumsy","clunky","clustered","clutch","clutter","coach","coagulant","coastal","coaster","coasting","coastland","coastline","coat","coauthor","cobalt","cobbler","cobweb","cocoa","coconut","cod","coeditor","coerce","coexist","coffee","cofounder","cognition","cognitive","cogwheel","coherence","coherent","cohesive","coil","coke","cola","cold","coleslaw","coliseum","collage","collapse","collar","collected","collector","collide","collie","collision","colonial","colonist","colonize","colony","colossal","colt","coma","come","comfort","comfy","comic","coming","comma","commence","commend","comment","commerce","commode","commodity","commodore","common","commotion","commute","commuting","compacted","compacter","compactly","compactor","companion","company","compare","compel","compile","comply","component","composed","composer","composite","compost","composure","compound","compress","comprised","computer","computing","comrade","concave","conceal","conceded","concept","concerned","concert","conch","concierge","concise","conclude","concrete","concur","condense","condiment","condition","condone","conducive","conductor","conduit","cone","confess","confetti","confidant","confident","confider","confiding","configure","confined","confining","confirm","conflict","conform","confound","confront","confused","confusing","confusion","congenial","congested","congrats","congress","conical","conjoined","conjure","conjuror","connected","connector","consensus","consent","console","consoling","consonant","constable","constant","constrain","constrict","construct","consult","consumer","consuming","contact","container","contempt","contend","contented","contently","contents","contest","context","contort","contour","contrite","control","contusion","convene","convent","copartner","cope","copied","copier","copilot","coping","copious","copper","copy","coral","cork","cornball","cornbread","corncob","cornea","corned","corner","cornfield","cornflake","cornhusk","cornmeal","cornstalk","corny","coronary","coroner","corporal","corporate","corral","correct","corridor","corrode","corroding","corrosive","corsage","corset","cortex","cosigner","cosmetics","cosmic","cosmos","cosponsor","cost","cottage","cotton","couch","cough","could","countable","countdown","counting","countless","country","county","courier","covenant","cover","coveted","coveting","coyness","cozily","coziness","cozy","crabbing","crabgrass","crablike","crabmeat","cradle","cradling","crafter","craftily","craftsman","craftwork","crafty","cramp","cranberry","crane","cranial","cranium","crank","crate","crave","craving","crawfish","crawlers","crawling","crayfish","crayon","crazed","crazily","craziness","crazy","creamed","creamer","creamlike","crease","creasing","creatable","create","creation","creative","creature","credible","credibly","credit","creed","creme","creole","crepe","crept","crescent","crested","cresting","crestless","crevice","crewless","crewman","crewmate","crib","cricket","cried","crier","crimp","crimson","cringe","cringing","crinkle","crinkly","crisped","crisping","crisply","crispness","crispy","criteria","critter","croak","crock","crook","croon","crop","cross","crouch","crouton","crowbar","crowd","crown","crucial","crudely","crudeness","cruelly","cruelness","cruelty","crumb","crummiest","crummy","crumpet","crumpled","cruncher","crunching","crunchy","crusader","crushable","crushed","crusher","crushing","crust","crux","crying","cryptic","crystal","cubbyhole","cube","cubical","cubicle","cucumber","cuddle","cuddly","cufflink","culinary","culminate","culpable","culprit","cultivate","cultural","culture","cupbearer","cupcake","cupid","cupped","cupping","curable","curator","curdle","cure","curfew","curing","curled","curler","curliness","curling","curly","curry","curse","cursive","cursor","curtain","curtly","curtsy","curvature","curve","curvy","cushy","cusp","cussed","custard","custodian","custody","customary","customer","customize","customs","cut","cycle","cyclic","cycling","cyclist","cylinder","cymbal","cytoplasm","cytoplast","dab","dad","daffodil","dagger","daily","daintily","dainty","dairy","daisy","dallying","dance","dancing","dandelion","dander","dandruff","dandy","danger","dangle","dangling","daredevil","dares","daringly","darkened","darkening","darkish","darkness","darkroom","darling","darn","dart","darwinism","dash","dastardly","data","datebook","dating","daughter","daunting","dawdler","dawn","daybed","daybreak","daycare","daydream","daylight","daylong","dayroom","daytime","dazzler","dazzling","deacon","deafening","deafness","dealer","dealing","dealmaker","dealt","dean","debatable","debate","debating","debit","debrief","debtless","debtor","debug","debunk","decade","decaf","decal","decathlon","decay","deceased","deceit","deceiver","deceiving","december","decency","decent","deception","deceptive","decibel","decidable","decimal","decimeter","decipher","deck","declared","decline","decode","decompose","decorated","decorator","decoy","decrease","decree","dedicate","dedicator","deduce","deduct","deed","deem","deepen","deeply","deepness","deface","defacing","defame","default","defeat","defection","defective","defendant","defender","defense","defensive","deferral","deferred","defiance","defiant","defile","defiling","define","definite","deflate","deflation","deflator","deflected","deflector","defog","deforest","defraud","defrost","deftly","defuse","defy","degraded","degrading","degrease","degree","dehydrate","deity","dejected","delay","delegate","delegator","delete","deletion","delicacy","delicate","delicious","delighted","delirious","delirium","deliverer","delivery","delouse","delta","deluge","delusion","deluxe","demanding","demeaning","demeanor","demise","democracy","democrat","demote","demotion","demystify","denatured","deniable","denial","denim","denote","dense","density","dental","dentist","denture","deny","deodorant","deodorize","departed","departure","depict","deplete","depletion","deplored","deploy","deport","depose","depraved","depravity","deprecate","depress","deprive","depth","deputize","deputy","derail","deranged","derby","derived","desecrate","deserve","deserving","designate","designed","designer","designing","deskbound","desktop","deskwork","desolate","despair","despise","despite","destiny","destitute","destruct","detached","detail","detection","detective","detector","detention","detergent","detest","detonate","detonator","detoxify","detract","deuce","devalue","deviancy","deviant","deviate","deviation","deviator","device","devious","devotedly","devotee","devotion","devourer","devouring","devoutly","dexterity","dexterous","diabetes","diabetic","diabolic","diagnoses","diagnosis","diagram","dial","diameter","diaper","diaphragm","diary","dice","dicing","dictate","dictation","dictator","difficult","diffused","diffuser","diffusion","diffusive","dig","dilation","diligence","diligent","dill","dilute","dime","diminish","dimly","dimmed","dimmer","dimness","dimple","diner","dingbat","dinghy","dinginess","dingo","dingy","dining","dinner","diocese","dioxide","diploma","dipped","dipper","dipping","directed","direction","directive","directly","directory","direness","dirtiness","disabled","disagree","disallow","disarm","disarray","disaster","disband","disbelief","disburse","discard","discern","discharge","disclose","discolor","discount","discourse","discover","discuss","disdain","disengage","disfigure","disgrace","dish","disinfect","disjoin","disk","dislike","disliking","dislocate","dislodge","disloyal","dismantle","dismay","dismiss","dismount","disobey","disorder","disown","disparate","disparity","dispatch","dispense","dispersal","dispersed","disperser","displace","display","displease","disposal","dispose","disprove","dispute","disregard","disrupt","dissuade","distance","distant","distaste","distill","distinct","distort","distract","distress","district","distrust","ditch","ditto","ditzy","dividable","divided","dividend","dividers","dividing","divinely","diving","divinity","divisible","divisibly","division","divisive","divorcee","dizziness","dizzy","doable","docile","dock","doctrine","document","dodge","dodgy","doily","doing","dole","dollar","dollhouse","dollop","dolly","dolphin","domain","domelike","domestic","dominion","dominoes","donated","donation","donator","donor","donut","doodle","doorbell","doorframe","doorknob","doorman","doormat","doornail","doorpost","doorstep","doorstop","doorway","doozy","dork","dormitory","dorsal","dosage","dose","dotted","doubling","douche","dove","down","dowry","doze","drab","dragging","dragonfly","dragonish","dragster","drainable","drainage","drained","drainer","drainpipe","dramatic","dramatize","drank","drapery","drastic","draw","dreaded","dreadful","dreadlock","dreamboat","dreamily","dreamland","dreamless","dreamlike","dreamt","dreamy","drearily","dreary","drench","dress","drew","dribble","dried","drier","drift","driller","drilling","drinkable","drinking","dripping","drippy","drivable","driven","driver","driveway","driving","drizzle","drizzly","drone","drool","droop","drop-down","dropbox","dropkick","droplet","dropout","dropper","drove","drown","drowsily","drudge","drum","dry","dubbed","dubiously","duchess","duckbill","ducking","duckling","ducktail","ducky","duct","dude","duffel","dugout","duh","duke","duller","dullness","duly","dumping","dumpling","dumpster","duo","dupe","duplex","duplicate","duplicity","durable","durably","duration","duress","during","dusk","dust","dutiful","duty","duvet","dwarf","dweeb","dwelled","dweller","dwelling","dwindle","dwindling","dynamic","dynamite","dynasty","dyslexia","dyslexic","each","eagle","earache","eardrum","earflap","earful","earlobe","early","earmark","earmuff","earphone","earpiece","earplugs","earring","earshot","earthen","earthlike","earthling","earthly","earthworm","earthy","earwig","easeful","easel","easiest","easily","easiness","easing","eastbound","eastcoast","easter","eastward","eatable","eaten","eatery","eating","eats","ebay","ebony","ebook","ecard","eccentric","echo","eclair","eclipse","ecologist","ecology","economic","economist","economy","ecosphere","ecosystem","edge","edginess","edging","edgy","edition","editor","educated","education","educator","eel","effective","effects","efficient","effort","eggbeater","egging","eggnog","eggplant","eggshell","egomaniac","egotism","egotistic","either","eject","elaborate","elastic","elated","elbow","eldercare","elderly","eldest","electable","election","elective","elephant","elevate","elevating","elevation","elevator","eleven","elf","eligible","eligibly","eliminate","elite","elitism","elixir","elk","ellipse","elliptic","elm","elongated","elope","eloquence","eloquent","elsewhere","elude","elusive","elves","email","embargo","embark","embassy","embattled","embellish","ember","embezzle","emblaze","emblem","embody","embolism","emboss","embroider","emcee","emerald","emergency","emission","emit","emote","emoticon","emotion","empathic","empathy","emperor","emphases","emphasis","emphasize","emphatic","empirical","employed","employee","employer","emporium","empower","emptier","emptiness","empty","emu","enable","enactment","enamel","enchanted","enchilada","encircle","enclose","enclosure","encode","encore","encounter","encourage","encroach","encrust","encrypt","endanger","endeared","endearing","ended","ending","endless","endnote","endocrine","endorphin","endorse","endowment","endpoint","endurable","endurance","enduring","energetic","energize","energy","enforced","enforcer","engaged","engaging","engine","engorge","engraved","engraver","engraving","engross","engulf","enhance","enigmatic","enjoyable","enjoyably","enjoyer","enjoying","enjoyment","enlarged","enlarging","enlighten","enlisted","enquirer","enrage","enrich","enroll","enslave","ensnare","ensure","entail","entangled","entering","entertain","enticing","entire","entitle","entity","entomb","entourage","entrap","entree","entrench","entrust","entryway","entwine","enunciate","envelope","enviable","enviably","envious","envision","envoy","envy","enzyme","epic","epidemic","epidermal","epidermis","epidural","epilepsy","epileptic","epilogue","epiphany","episode","equal","equate","equation","equator","equinox","equipment","equity","equivocal","eradicate","erasable","erased","eraser","erasure","ergonomic","errand","errant","erratic","error","erupt","escalate","escalator","escapable","escapade","escapist","escargot","eskimo","esophagus","espionage","espresso","esquire","essay","essence","essential","establish","estate","esteemed","estimate","estimator","estranged","estrogen","etching","eternal","eternity","ethanol","ether","ethically","ethics","euphemism","evacuate","evacuee","evade","evaluate","evaluator","evaporate","evasion","evasive","even","everglade","evergreen","everybody","everyday","everyone","evict","evidence","evident","evil","evoke","evolution","evolve","exact","exalted","example","excavate","excavator","exceeding","exception","excess","exchange","excitable","exciting","exclaim","exclude","excluding","exclusion","exclusive","excretion","excretory","excursion","excusable","excusably","excuse","exemplary","exemplify","exemption","exerciser","exert","exes","exfoliate","exhale","exhaust","exhume","exile","existing","exit","exodus","exonerate","exorcism","exorcist","expand","expanse","expansion","expansive","expectant","expedited","expediter","expel","expend","expenses","expensive","expert","expire","expiring","explain","expletive","explicit","explode","exploit","explore","exploring","exponent","exporter","exposable","expose","exposure","express","expulsion","exquisite","extended","extending","extent","extenuate","exterior","external","extinct","extortion","extradite","extras","extrovert","extrude","extruding","exuberant","fable","fabric","fabulous","facebook","facecloth","facedown","faceless","facelift","faceplate","faceted","facial","facility","facing","facsimile","faction","factoid","factor","factsheet","factual","faculty","fade","fading","failing","falcon","fall","false","falsify","fame","familiar","family","famine","famished","fanatic","fancied","fanciness","fancy","fanfare","fang","fanning","fantasize","fantastic","fantasy","fascism","fastball","faster","fasting","fastness","faucet","favorable","favorably","favored","favoring","favorite","fax","feast","federal","fedora","feeble","feed","feel","feisty","feline","felt-tip","feminine","feminism","feminist","feminize","femur","fence","fencing","fender","ferment","fernlike","ferocious","ferocity","ferret","ferris","ferry","fervor","fester","festival","festive","festivity","fetal","fetch","fever","fiber","fiction","fiddle","fiddling","fidelity","fidgeting","fidgety","fifteen","fifth","fiftieth","fifty","figment","figure","figurine","filing","filled","filler","filling","film","filter","filth","filtrate","finale","finalist","finalize","finally","finance","financial","finch","fineness","finer","finicky","finished","finisher","finishing","finite","finless","finlike","fiscally","fit","five","flaccid","flagman","flagpole","flagship","flagstick","flagstone","flail","flakily","flaky","flame","flammable","flanked","flanking","flannels","flap","flaring","flashback","flashbulb","flashcard","flashily","flashing","flashy","flask","flatbed","flatfoot","flatly","flatness","flatten","flattered","flatterer","flattery","flattop","flatware","flatworm","flavored","flavorful","flavoring","flaxseed","fled","fleshed","fleshy","flick","flier","flight","flinch","fling","flint","flip","flirt","float","flock","flogging","flop","floral","florist","floss","flounder","flyable","flyaway","flyer","flying","flyover","flypaper","foam","foe","fog","foil","folic","folk","follicle","follow","fondling","fondly","fondness","fondue","font","food","fool","footage","football","footbath","footboard","footer","footgear","foothill","foothold","footing","footless","footman","footnote","footpad","footpath","footprint","footrest","footsie","footsore","footwear","footwork","fossil","foster","founder","founding","fountain","fox","foyer","fraction","fracture","fragile","fragility","fragment","fragrance","fragrant","frail","frame","framing","frantic","fraternal","frayed","fraying","frays","freckled","freckles","freebase","freebee","freebie","freedom","freefall","freehand","freeing","freeload","freely","freemason","freeness","freestyle","freeware","freeway","freewill","freezable","freezing","freight","french","frenzied","frenzy","frequency","frequent","fresh","fretful","fretted","friction","friday","fridge","fried","friend","frighten","frightful","frigidity","frigidly","frill","fringe","frisbee","frisk","fritter","frivolous","frolic","from","front","frostbite","frosted","frostily","frosting","frostlike","frosty","froth","frown","frozen","fructose","frugality","frugally","fruit","frustrate","frying","gab","gaffe","gag","gainfully","gaining","gains","gala","gallantly","galleria","gallery","galley","gallon","gallows","gallstone","galore","galvanize","gambling","game","gaming","gamma","gander","gangly","gangrene","gangway","gap","garage","garbage","garden","gargle","garland","garlic","garment","garnet","garnish","garter","gas","gatherer","gathering","gating","gauging","gauntlet","gauze","gave","gawk","gazing","gear","gecko","geek","geiger","gem","gender","generic","generous","genetics","genre","gentile","gentleman","gently","gents","geography","geologic","geologist","geology","geometric","geometry","geranium","gerbil","geriatric","germicide","germinate","germless","germproof","gestate","gestation","gesture","getaway","getting","getup","giant","gibberish","giblet","giddily","giddiness","giddy","gift","gigabyte","gigahertz","gigantic","giggle","giggling","giggly","gigolo","gilled","gills","gimmick","girdle","giveaway","given","giver","giving","gizmo","gizzard","glacial","glacier","glade","gladiator","gladly","glamorous","glamour","glance","glancing","glandular","glare","glaring","glass","glaucoma","glazing","gleaming","gleeful","glider","gliding","glimmer","glimpse","glisten","glitch","glitter","glitzy","gloater","gloating","gloomily","gloomy","glorified","glorifier","glorify","glorious","glory","gloss","glove","glowing","glowworm","glucose","glue","gluten","glutinous","glutton","gnarly","gnat","goal","goatskin","goes","goggles","going","goldfish","goldmine","goldsmith","golf","goliath","gonad","gondola","gone","gong","good","gooey","goofball","goofiness","goofy","google","goon","gopher","gore","gorged","gorgeous","gory","gosling","gossip","gothic","gotten","gout","gown","grab","graceful","graceless","gracious","gradation","graded","grader","gradient","grading","gradually","graduate","graffiti","grafted","grafting","grain","granddad","grandkid","grandly","grandma","grandpa","grandson","granite","granny","granola","grant","granular","grape","graph","grapple","grappling","grasp","grass","gratified","gratify","grating","gratitude","gratuity","gravel","graveness","graves","graveyard","gravitate","gravity","gravy","gray","grazing","greasily","greedily","greedless","greedy","green","greeter","greeting","grew","greyhound","grid","grief","grievance","grieving","grievous","grill","grimace","grimacing","grime","griminess","grimy","grinch","grinning","grip","gristle","grit","groggily","groggy","groin","groom","groove","grooving","groovy","grope","ground","grouped","grout","grove","grower","growing","growl","grub","grudge","grudging","grueling","gruffly","grumble","grumbling","grumbly","grumpily","grunge","grunt","guacamole","guidable","guidance","guide","guiding","guileless","guise","gulf","gullible","gully","gulp","gumball","gumdrop","gumminess","gumming","gummy","gurgle","gurgling","guru","gush","gusto","gusty","gutless","guts","gutter","guy","guzzler","gyration","habitable","habitant","habitat","habitual","hacked","hacker","hacking","hacksaw","had","haggler","haiku","half","halogen","halt","halved","halves","hamburger","hamlet","hammock","hamper","hamster","hamstring","handbag","handball","handbook","handbrake","handcart","handclap","handclasp","handcraft","handcuff","handed","handful","handgrip","handgun","handheld","handiness","handiwork","handlebar","handled","handler","handling","handmade","handoff","handpick","handprint","handrail","handsaw","handset","handsfree","handshake","handstand","handwash","handwork","handwoven","handwrite","handyman","hangnail","hangout","hangover","hangup","hankering","hankie","hanky","haphazard","happening","happier","happiest","happily","happiness","happy","harbor","hardcopy","hardcore","hardcover","harddisk","hardened","hardener","hardening","hardhat","hardhead","hardiness","hardly","hardness","hardship","hardware","hardwired","hardwood","hardy","harmful","harmless","harmonica","harmonics","harmonize","harmony","harness","harpist","harsh","harvest","hash","hassle","haste","hastily","hastiness","hasty","hatbox","hatchback","hatchery","hatchet","hatching","hatchling","hate","hatless","hatred","haunt","haven","hazard","hazelnut","hazily","haziness","hazing","hazy","headache","headband","headboard","headcount","headdress","headed","header","headfirst","headgear","heading","headlamp","headless","headlock","headphone","headpiece","headrest","headroom","headscarf","headset","headsman","headstand","headstone","headway","headwear","heap","heat","heave","heavily","heaviness","heaving","hedge","hedging","heftiness","hefty","helium","helmet","helper","helpful","helping","helpless","helpline","hemlock","hemstitch","hence","henchman","henna","herald","herbal","herbicide","herbs","heritage","hermit","heroics","heroism","herring","herself","hertz","hesitancy","hesitant","hesitate","hexagon","hexagram","hubcap","huddle","huddling","huff","hug","hula","hulk","hull","human","humble","humbling","humbly","humid","humiliate","humility","humming","hummus","humongous","humorist","humorless","humorous","humpback","humped","humvee","hunchback","hundredth","hunger","hungrily","hungry","hunk","hunter","hunting","huntress","huntsman","hurdle","hurled","hurler","hurling","hurray","hurricane","hurried","hurry","hurt","husband","hush","husked","huskiness","hut","hybrid","hydrant","hydrated","hydration","hydrogen","hydroxide","hyperlink","hypertext","hyphen","hypnoses","hypnosis","hypnotic","hypnotism","hypnotist","hypnotize","hypocrisy","hypocrite","ibuprofen","ice","iciness","icing","icky","icon","icy","idealism","idealist","idealize","ideally","idealness","identical","identify","identity","ideology","idiocy","idiom","idly","igloo","ignition","ignore","iguana","illicitly","illusion","illusive","image","imaginary","imagines","imaging","imbecile","imitate","imitation","immature","immerse","immersion","imminent","immobile","immodest","immorally","immortal","immovable","immovably","immunity","immunize","impaired","impale","impart","impatient","impeach","impeding","impending","imperfect","imperial","impish","implant","implement","implicate","implicit","implode","implosion","implosive","imply","impolite","important","importer","impose","imposing","impotence","impotency","impotent","impound","imprecise","imprint","imprison","impromptu","improper","improve","improving","improvise","imprudent","impulse","impulsive","impure","impurity","iodine","iodize","ion","ipad","iphone","ipod","irate","irk","iron","irregular","irrigate","irritable","irritably","irritant","irritate","islamic","islamist","isolated","isolating","isolation","isotope","issue","issuing","italicize","italics","item","itinerary","itunes","ivory","ivy","jab","jackal","jacket","jackknife","jackpot","jailbird","jailbreak","jailer","jailhouse","jalapeno","jam","janitor","january","jargon","jarring","jasmine","jaundice","jaunt","java","jawed","jawless","jawline","jaws","jaybird","jaywalker","jazz","jeep","jeeringly","jellied","jelly","jersey","jester","jet","jiffy","jigsaw","jimmy","jingle","jingling","jinx","jitters","jittery","job","jockey","jockstrap","jogger","jogging","john","joining","jokester","jokingly","jolliness","jolly","jolt","jot","jovial","joyfully","joylessly","joyous","joyride","joystick","jubilance","jubilant","judge","judgingly","judicial","judiciary","judo","juggle","juggling","jugular","juice","juiciness","juicy","jujitsu","jukebox","july","jumble","jumbo","jump","junction","juncture","june","junior","juniper","junkie","junkman","junkyard","jurist","juror","jury","justice","justifier","justify","justly","justness","juvenile","kabob","kangaroo","karaoke","karate","karma","kebab","keenly","keenness","keep","keg","kelp","kennel","kept","kerchief","kerosene","kettle","kick","kiln","kilobyte","kilogram","kilometer","kilowatt","kilt","kimono","kindle","kindling","kindly","kindness","kindred","kinetic","kinfolk","king","kinship","kinsman","kinswoman","kissable","kisser","kissing","kitchen","kite","kitten","kitty","kiwi","kleenex","knapsack","knee","knelt","knickers","knoll","koala","kooky","kosher","krypton","kudos","kung","labored","laborer","laboring","laborious","labrador","ladder","ladies","ladle","ladybug","ladylike","lagged","lagging","lagoon","lair","lake","lance","landed","landfall","landfill","landing","landlady","landless","landline","landlord","landmark","landmass","landmine","landowner","landscape","landside","landslide","language","lankiness","lanky","lantern","lapdog","lapel","lapped","lapping","laptop","lard","large","lark","lash","lasso","last","latch","late","lather","latitude","latrine","latter","latticed","launch","launder","laundry","laurel","lavender","lavish","laxative","lazily","laziness","lazy","lecturer","left","legacy","legal","legend","legged","leggings","legible","legibly","legislate","lego","legroom","legume","legwarmer","legwork","lemon","lend","length","lens","lent","leotard","lesser","letdown","lethargic","lethargy","letter","lettuce","level","leverage","levers","levitate","levitator","liability","liable","liberty","librarian","library","licking","licorice","lid","life","lifter","lifting","liftoff","ligament","likely","likeness","likewise","liking","lilac","lilly","lily","limb","limeade","limelight","limes","limit","limping","limpness","line","lingo","linguini","linguist","lining","linked","linoleum","linseed","lint","lion","lip","liquefy","liqueur","liquid","lisp","list","litigate","litigator","litmus","litter","little","livable","lived","lively","liver","livestock","lividly","living","lizard","lubricant","lubricate","lucid","luckily","luckiness","luckless","lucrative","ludicrous","lugged","lukewarm","lullaby","lumber","luminance","luminous","lumpiness","lumping","lumpish","lunacy","lunar","lunchbox","luncheon","lunchroom","lunchtime","lung","lurch","lure","luridness","lurk","lushly","lushness","luster","lustfully","lustily","lustiness","lustrous","lusty","luxurious","luxury","lying","lyrically","lyricism","lyricist","lyrics","macarena","macaroni","macaw","mace","machine","machinist","magazine","magenta","maggot","magical","magician","magma","magnesium","magnetic","magnetism","magnetize","magnifier","magnify","magnitude","magnolia","mahogany","maimed","majestic","majesty","majorette","majority","makeover","maker","makeshift","making","malformed","malt","mama","mammal","mammary","mammogram","manager","managing","manatee","mandarin","mandate","mandatory","mandolin","manger","mangle","mango","mangy","manhandle","manhole","manhood","manhunt","manicotti","manicure","manifesto","manila","mankind","manlike","manliness","manly","manmade","manned","mannish","manor","manpower","mantis","mantra","manual","many","map","marathon","marauding","marbled","marbles","marbling","march","mardi","margarine","margarita","margin","marigold","marina","marine","marital","maritime","marlin","marmalade","maroon","married","marrow","marry","marshland","marshy","marsupial","marvelous","marxism","mascot","masculine","mashed","mashing","massager","masses","massive","mastiff","matador","matchbook","matchbox","matcher","matching","matchless","material","maternal","maternity","math","mating","matriarch","matrimony","matrix","matron","matted","matter","maturely","maturing","maturity","mauve","maverick","maximize","maximum","maybe","mayday","mayflower","moaner","moaning","mobile","mobility","mobilize","mobster","mocha","mocker","mockup","modified","modify","modular","modulator","module","moisten","moistness","moisture","molar","molasses","mold","molecular","molecule","molehill","mollusk","mom","monastery","monday","monetary","monetize","moneybags","moneyless","moneywise","mongoose","mongrel","monitor","monkhood","monogamy","monogram","monologue","monopoly","monorail","monotone","monotype","monoxide","monsieur","monsoon","monstrous","monthly","monument","moocher","moodiness","moody","mooing","moonbeam","mooned","moonlight","moonlike","moonlit","moonrise","moonscape","moonshine","moonstone","moonwalk","mop","morale","morality","morally","morbidity","morbidly","morphine","morphing","morse","mortality","mortally","mortician","mortified","mortify","mortuary","mosaic","mossy","most","mothball","mothproof","motion","motivate","motivator","motive","motocross","motor","motto","mountable","mountain","mounted","mounting","mourner","mournful","mouse","mousiness","moustache","mousy","mouth","movable","move","movie","moving","mower","mowing","much","muck","mud","mug","mulberry","mulch","mule","mulled","mullets","multiple","multiply","multitask","multitude","mumble","mumbling","mumbo","mummified","mummify","mummy","mumps","munchkin","mundane","municipal","muppet","mural","murkiness","murky","murmuring","muscular","museum","mushily","mushiness","mushroom","mushy","music","musket","muskiness","musky","mustang","mustard","muster","mustiness","musty","mutable","mutate","mutation","mute","mutilated","mutilator","mutiny","mutt","mutual","muzzle","myself","myspace","mystified","mystify","myth","nacho","nag","nail","name","naming","nanny","nanometer","nape","napkin","napped","napping","nappy","narrow","nastily","nastiness","national","native","nativity","natural","nature","naturist","nautical","navigate","navigator","navy","nearby","nearest","nearly","nearness","neatly","neatness","nebula","nebulizer","nectar","negate","negation","negative","neglector","negligee","negligent","negotiate","nemeses","nemesis","neon","nephew","nerd","nervous","nervy","nest","net","neurology","neuron","neurosis","neurotic","neuter","neutron","never","next","nibble","nickname","nicotine","niece","nifty","nimble","nimbly","nineteen","ninetieth","ninja","nintendo","ninth","nuclear","nuclei","nucleus","nugget","nullify","number","numbing","numbly","numbness","numeral","numerate","numerator","numeric","numerous","nuptials","nursery","nursing","nurture","nutcase","nutlike","nutmeg","nutrient","nutshell","nuttiness","nutty","nuzzle","nylon","oaf","oak","oasis","oat","obedience","obedient","obituary","object","obligate","obliged","oblivion","oblivious","oblong","obnoxious","oboe","obscure","obscurity","observant","observer","observing","obsessed","obsession","obsessive","obsolete","obstacle","obstinate","obstruct","obtain","obtrusive","obtuse","obvious","occultist","occupancy","occupant","occupier","occupy","ocean","ocelot","octagon","octane","october","octopus","ogle","oil","oink","ointment","okay","old","olive","olympics","omega","omen","ominous","omission","omit","omnivore","onboard","oncoming","ongoing","onion","online","onlooker","only","onscreen","onset","onshore","onslaught","onstage","onto","onward","onyx","oops","ooze","oozy","opacity","opal","open","operable","operate","operating","operation","operative","operator","opium","opossum","opponent","oppose","opposing","opposite","oppressed","oppressor","opt","opulently","osmosis","other","otter","ouch","ought","ounce","outage","outback","outbid","outboard","outbound","outbreak","outburst","outcast","outclass","outcome","outdated","outdoors","outer","outfield","outfit","outflank","outgoing","outgrow","outhouse","outing","outlast","outlet","outline","outlook","outlying","outmatch","outmost","outnumber","outplayed","outpost","outpour","output","outrage","outrank","outreach","outright","outscore","outsell","outshine","outshoot","outsider","outskirts","outsmart","outsource","outspoken","outtakes","outthink","outward","outweigh","outwit","oval","ovary","oven","overact","overall","overarch","overbid","overbill","overbite","overblown","overboard","overbook","overbuilt","overcast","overcoat","overcome","overcook","overcrowd","overdraft","overdrawn","overdress","overdrive","overdue","overeager","overeater","overexert","overfed","overfeed","overfill","overflow","overfull","overgrown","overhand","overhang","overhaul","overhead","overhear","overheat","overhung","overjoyed","overkill","overlabor","overlaid","overlap","overlay","overload","overlook","overlord","overlying","overnight","overpass","overpay","overplant","overplay","overpower","overprice","overrate","overreach","overreact","override","overripe","overrule","overrun","overshoot","overshot","oversight","oversized","oversleep","oversold","overspend","overstate","overstay","overstep","overstock","overstuff","oversweet","overtake","overthrow","overtime","overtly","overtone","overture","overturn","overuse","overvalue","overview","overwrite","owl","oxford","oxidant","oxidation","oxidize","oxidizing","oxygen","oxymoron","oyster","ozone","paced","pacemaker","pacific","pacifier","pacifism","pacifist","pacify","padded","padding","paddle","paddling","padlock","pagan","pager","paging","pajamas","palace","palatable","palm","palpable","palpitate","paltry","pampered","pamperer","pampers","pamphlet","panama","pancake","pancreas","panda","pandemic","pang","panhandle","panic","panning","panorama","panoramic","panther","pantomime","pantry","pants","pantyhose","paparazzi","papaya","paper","paprika","papyrus","parabola","parachute","parade","paradox","paragraph","parakeet","paralegal","paralyses","paralysis","paralyze","paramedic","parameter","paramount","parasail","parasite","parasitic","parcel","parched","parchment","pardon","parish","parka","parking","parkway","parlor","parmesan","parole","parrot","parsley","parsnip","partake","parted","parting","partition","partly","partner","partridge","party","passable","passably","passage","passcode","passenger","passerby","passing","passion","passive","passivism","passover","passport","password","pasta","pasted","pastel","pastime","pastor","pastrami","pasture","pasty","patchwork","patchy","paternal","paternity","path","patience","patient","patio","patriarch","patriot","patrol","patronage","patronize","pauper","pavement","paver","pavestone","pavilion","paving","pawing","payable","payback","paycheck","payday","payee","payer","paying","payment","payphone","payroll","pebble","pebbly","pecan","pectin","peculiar","peddling","pediatric","pedicure","pedigree","pedometer","pegboard","pelican","pellet","pelt","pelvis","penalize","penalty","pencil","pendant","pending","penholder","penknife","pennant","penniless","penny","penpal","pension","pentagon","pentagram","pep","perceive","percent","perch","percolate","perennial","perfected","perfectly","perfume","periscope","perish","perjurer","perjury","perkiness","perky","perm","peroxide","perpetual","perplexed","persecute","persevere","persuaded","persuader","pesky","peso","pessimism","pessimist","pester","pesticide","petal","petite","petition","petri","petroleum","petted","petticoat","pettiness","petty","petunia","phantom","phobia","phoenix","phonebook","phoney","phonics","phoniness","phony","phosphate","photo","phrase","phrasing","placard","placate","placidly","plank","planner","plant","plasma","plaster","plastic","plated","platform","plating","platinum","platonic","platter","platypus","plausible","plausibly","playable","playback","player","playful","playgroup","playhouse","playing","playlist","playmaker","playmate","playoff","playpen","playroom","playset","plaything","playtime","plaza","pleading","pleat","pledge","plentiful","plenty","plethora","plexiglas","pliable","plod","plop","plot","plow","ploy","pluck","plug","plunder","plunging","plural","plus","plutonium","plywood","poach","pod","poem","poet","pogo","pointed","pointer","pointing","pointless","pointy","poise","poison","poker","poking","polar","police","policy","polio","polish","politely","polka","polo","polyester","polygon","polygraph","polymer","poncho","pond","pony","popcorn","pope","poplar","popper","poppy","popsicle","populace","popular","populate","porcupine","pork","porous","porridge","portable","portal","portfolio","porthole","portion","portly","portside","poser","posh","posing","possible","possibly","possum","postage","postal","postbox","postcard","posted","poster","posting","postnasal","posture","postwar","pouch","pounce","pouncing","pound","pouring","pout","powdered","powdering","powdery","power","powwow","pox","praising","prance","prancing","pranker","prankish","prankster","prayer","praying","preacher","preaching","preachy","preamble","precinct","precise","precision","precook","precut","predator","predefine","predict","preface","prefix","preflight","preformed","pregame","pregnancy","pregnant","preheated","prelaunch","prelaw","prelude","premiere","premises","premium","prenatal","preoccupy","preorder","prepaid","prepay","preplan","preppy","preschool","prescribe","preseason","preset","preshow","president","presoak","press","presume","presuming","preteen","pretended","pretender","pretense","pretext","pretty","pretzel","prevail","prevalent","prevent","preview","previous","prewar","prewashed","prideful","pried","primal","primarily","primary","primate","primer","primp","princess","print","prior","prism","prison","prissy","pristine","privacy","private","privatize","prize","proactive","probable","probably","probation","probe","probing","probiotic","problem","procedure","process","proclaim","procreate","procurer","prodigal","prodigy","produce","product","profane","profanity","professed","professor","profile","profound","profusely","progeny","prognosis","program","progress","projector","prologue","prolonged","promenade","prominent","promoter","promotion","prompter","promptly","prone","prong","pronounce","pronto","proofing","proofread","proofs","propeller","properly","property","proponent","proposal","propose","props","prorate","protector","protegee","proton","prototype","protozoan","protract","protrude","proud","provable","proved","proven","provided","provider","providing","province","proving","provoke","provoking","provolone","prowess","prowler","prowling","proximity","proxy","prozac","prude","prudishly","prune","pruning","pry","psychic","public","publisher","pucker","pueblo","pug","pull","pulmonary","pulp","pulsate","pulse","pulverize","puma","pumice","pummel","punch","punctual","punctuate","punctured","pungent","punisher","punk","pupil","puppet","puppy","purchase","pureblood","purebred","purely","pureness","purgatory","purge","purging","purifier","purify","purist","puritan","purity","purple","purplish","purposely","purr","purse","pursuable","pursuant","pursuit","purveyor","pushcart","pushchair","pusher","pushiness","pushing","pushover","pushpin","pushup","pushy","putdown","putt","puzzle","puzzling","pyramid","pyromania","python","quack","quadrant","quail","quaintly","quake","quaking","qualified","qualifier","qualify","quality","qualm","quantum","quarrel","quarry","quartered","quarterly","quarters","quartet","quench","query","quicken","quickly","quickness","quicksand","quickstep","quiet","quill","quilt","quintet","quintuple","quirk","quit","quiver","quizzical","quotable","quotation","quote","rabid","race","racing","racism","rack","racoon","radar","radial","radiance","radiantly","radiated","radiation","radiator","radio","radish","raffle","raft","rage","ragged","raging","ragweed","raider","railcar","railing","railroad","railway","raisin","rake","raking","rally","ramble","rambling","ramp","ramrod","ranch","rancidity","random","ranged","ranger","ranging","ranked","ranking","ransack","ranting","rants","rare","rarity","rascal","rash","rasping","ravage","raven","ravine","raving","ravioli","ravishing","reabsorb","reach","reacquire","reaction","reactive","reactor","reaffirm","ream","reanalyze","reappear","reapply","reappoint","reapprove","rearrange","rearview","reason","reassign","reassure","reattach","reawake","rebalance","rebate","rebel","rebirth","reboot","reborn","rebound","rebuff","rebuild","rebuilt","reburial","rebuttal","recall","recant","recapture","recast","recede","recent","recess","recharger","recipient","recital","recite","reckless","reclaim","recliner","reclining","recluse","reclusive","recognize","recoil","recollect","recolor","reconcile","reconfirm","reconvene","recopy","record","recount","recoup","recovery","recreate","rectal","rectangle","rectified","rectify","recycled","recycler","recycling","reemerge","reenact","reenter","reentry","reexamine","referable","referee","reference","refill","refinance","refined","refinery","refining","refinish","reflected","reflector","reflex","reflux","refocus","refold","reforest","reformat","reformed","reformer","reformist","refract","refrain","refreeze","refresh","refried","refueling","refund","refurbish","refurnish","refusal","refuse","refusing","refutable","refute","regain","regalia","regally","reggae","regime","region","register","registrar","registry","regress","regretful","regroup","regular","regulate","regulator","rehab","reheat","rehire","rehydrate","reimburse","reissue","reiterate","rejoice","rejoicing","rejoin","rekindle","relapse","relapsing","relatable","related","relation","relative","relax","relay","relearn","release","relenting","reliable","reliably","reliance","reliant","relic","relieve","relieving","relight","relish","relive","reload","relocate","relock","reluctant","rely","remake","remark","remarry","rematch","remedial","remedy","remember","reminder","remindful","remission","remix","remnant","remodeler","remold","remorse","remote","removable","removal","removed","remover","removing","rename","renderer","rendering","rendition","renegade","renewable","renewably","renewal","renewed","renounce","renovate","renovator","rentable","rental","rented","renter","reoccupy","reoccur","reopen","reorder","repackage","repacking","repaint","repair","repave","repaying","repayment","repeal","repeated","repeater","repent","rephrase","replace","replay","replica","reply","reporter","repose","repossess","repost","repressed","reprimand","reprint","reprise","reproach","reprocess","reproduce","reprogram","reps","reptile","reptilian","repugnant","repulsion","repulsive","repurpose","reputable","reputably","request","require","requisite","reroute","rerun","resale","resample","rescuer","reseal","research","reselect","reseller","resemble","resend","resent","reset","reshape","reshoot","reshuffle","residence","residency","resident","residual","residue","resigned","resilient","resistant","resisting","resize","resolute","resolved","resonant","resonate","resort","resource","respect","resubmit","result","resume","resupply","resurface","resurrect","retail","retainer","retaining","retake","retaliate","retention","rethink","retinal","retired","retiree","retiring","retold","retool","retorted","retouch","retrace","retract","retrain","retread","retreat","retrial","retrieval","retriever","retry","return","retying","retype","reunion","reunite","reusable","reuse","reveal","reveler","revenge","revenue","reverb","revered","reverence","reverend","reversal","reverse","reversing","reversion","revert","revisable","revise","revision","revisit","revivable","revival","reviver","reviving","revocable","revoke","revolt","revolver","revolving","reward","rewash","rewind","rewire","reword","rework","rewrap","rewrite","rhyme","ribbon","ribcage","rice","riches","richly","richness","rickety","ricotta","riddance","ridden","ride","riding","rifling","rift","rigging","rigid","rigor","rimless","rimmed","rind","rink","rinse","rinsing","riot","ripcord","ripeness","ripening","ripping","ripple","rippling","riptide","rise","rising","risk","risotto","ritalin","ritzy","rival","riverbank","riverbed","riverboat","riverside","riveter","riveting","roamer","roaming","roast","robbing","robe","robin","robotics","robust","rockband","rocker","rocket","rockfish","rockiness","rocking","rocklike","rockslide","rockstar","rocky","rogue","roman","romp","rope","roping","roster","rosy","rotten","rotting","rotunda","roulette","rounding","roundish","roundness","roundup","roundworm","routine","routing","rover","roving","royal","rubbed","rubber","rubbing","rubble","rubdown","ruby","ruckus","rudder","rug","ruined","rule","rumble","rumbling","rummage","rumor","runaround","rundown","runner","running","runny","runt","runway","rupture","rural","ruse","rush","rust","rut","sabbath","sabotage","sacrament","sacred","sacrifice","sadden","saddlebag","saddled","saddling","sadly","sadness","safari","safeguard","safehouse","safely","safeness","saffron","saga","sage","sagging","saggy","said","saint","sake","salad","salami","salaried","salary","saline","salon","saloon","salsa","salt","salutary","salute","salvage","salvaging","salvation","same","sample","sampling","sanction","sanctity","sanctuary","sandal","sandbag","sandbank","sandbar","sandblast","sandbox","sanded","sandfish","sanding","sandlot","sandpaper","sandpit","sandstone","sandstorm","sandworm","sandy","sanitary","sanitizer","sank","santa","sapling","sappiness","sappy","sarcasm","sarcastic","sardine","sash","sasquatch","sassy","satchel","satiable","satin","satirical","satisfied","satisfy","saturate","saturday","sauciness","saucy","sauna","savage","savanna","saved","savings","savior","savor","saxophone","say","scabbed","scabby","scalded","scalding","scale","scaling","scallion","scallop","scalping","scam","scandal","scanner","scanning","scant","scapegoat","scarce","scarcity","scarecrow","scared","scarf","scarily","scariness","scarring","scary","scavenger","scenic","schedule","schematic","scheme","scheming","schilling","schnapps","scholar","science","scientist","scion","scoff","scolding","scone","scoop","scooter","scope","scorch","scorebook","scorecard","scored","scoreless","scorer","scoring","scorn","scorpion","scotch","scoundrel","scoured","scouring","scouting","scouts","scowling","scrabble","scraggly","scrambled","scrambler","scrap","scratch","scrawny","screen","scribble","scribe","scribing","scrimmage","script","scroll","scrooge","scrounger","scrubbed","scrubber","scruffy","scrunch","scrutiny","scuba","scuff","sculptor","sculpture","scurvy","scuttle","secluded","secluding","seclusion","second","secrecy","secret","sectional","sector","secular","securely","security","sedan","sedate","sedation","sedative","sediment","seduce","seducing","segment","seismic","seizing","seldom","selected","selection","selective","selector","self","seltzer","semantic","semester","semicolon","semifinal","seminar","semisoft","semisweet","senate","senator","send","senior","senorita","sensation","sensitive","sensitize","sensually","sensuous","sepia","september","septic","septum","sequel","sequence","sequester","series","sermon","serotonin","serpent","serrated","serve","service","serving","sesame","sessions","setback","setting","settle","settling","setup","sevenfold","seventeen","seventh","seventy","severity","shabby","shack","shaded","shadily","shadiness","shading","shadow","shady","shaft","shakable","shakily","shakiness","shaking","shaky","shale","shallot","shallow","shame","shampoo","shamrock","shank","shanty","shape","shaping","share","sharpener","sharper","sharpie","sharply","sharpness","shawl","sheath","shed","sheep","sheet","shelf","shell","shelter","shelve","shelving","sherry","shield","shifter","shifting","shiftless","shifty","shimmer","shimmy","shindig","shine","shingle","shininess","shining","shiny","ship","shirt","shivering","shock","shone","shoplift","shopper","shopping","shoptalk","shore","shortage","shortcake","shortcut","shorten","shorter","shorthand","shortlist","shortly","shortness","shorts","shortwave","shorty","shout","shove","showbiz","showcase","showdown","shower","showgirl","showing","showman","shown","showoff","showpiece","showplace","showroom","showy","shrank","shrapnel","shredder","shredding","shrewdly","shriek","shrill","shrimp","shrine","shrink","shrivel","shrouded","shrubbery","shrubs","shrug","shrunk","shucking","shudder","shuffle","shuffling","shun","shush","shut","shy","siamese","siberian","sibling","siding","sierra","siesta","sift","sighing","silenced","silencer","silent","silica","silicon","silk","silliness","silly","silo","silt","silver","similarly","simile","simmering","simple","simplify","simply","sincere","sincerity","singer","singing","single","singular","sinister","sinless","sinner","sinuous","sip","siren","sister","sitcom","sitter","sitting","situated","situation","sixfold","sixteen","sixth","sixties","sixtieth","sixtyfold","sizable","sizably","size","sizing","sizzle","sizzling","skater","skating","skedaddle","skeletal","skeleton","skeptic","sketch","skewed","skewer","skid","skied","skier","skies","skiing","skilled","skillet","skillful","skimmed","skimmer","skimming","skimpily","skincare","skinhead","skinless","skinning","skinny","skintight","skipper","skipping","skirmish","skirt","skittle","skydiver","skylight","skyline","skype","skyrocket","skyward","slab","slacked","slacker","slacking","slackness","slacks","slain","slam","slander","slang","slapping","slapstick","slashed","slashing","slate","slather","slaw","sled","sleek","sleep","sleet","sleeve","slept","sliceable","sliced","slicer","slicing","slick","slider","slideshow","sliding","slighted","slighting","slightly","slimness","slimy","slinging","slingshot","slinky","slip","slit","sliver","slobbery","slogan","sloped","sloping","sloppily","sloppy","slot","slouching","slouchy","sludge","slug","slum","slurp","slush","sly","small","smartly","smartness","smasher","smashing","smashup","smell","smelting","smile","smilingly","smirk","smite","smith","smitten","smock","smog","smoked","smokeless","smokiness","smoking","smoky","smolder","smooth","smother","smudge","smudgy","smuggler","smuggling","smugly","smugness","snack","snagged","snaking","snap","snare","snarl","snazzy","sneak","sneer","sneeze","sneezing","snide","sniff","snippet","snipping","snitch","snooper","snooze","snore","snoring","snorkel","snort","snout","snowbird","snowboard","snowbound","snowcap","snowdrift","snowdrop","snowfall","snowfield","snowflake","snowiness","snowless","snowman","snowplow","snowshoe","snowstorm","snowsuit","snowy","snub","snuff","snuggle","snugly","snugness","speak","spearfish","spearhead","spearman","spearmint","species","specimen","specked","speckled","specks","spectacle","spectator","spectrum","speculate","speech","speed","spellbind","speller","spelling","spendable","spender","spending","spent","spew","sphere","spherical","sphinx","spider","spied","spiffy","spill","spilt","spinach","spinal","spindle","spinner","spinning","spinout","spinster","spiny","spiral","spirited","spiritism","spirits","spiritual","splashed","splashing","splashy","splatter","spleen","splendid","splendor","splice","splicing","splinter","splotchy","splurge","spoilage","spoiled","spoiler","spoiling","spoils","spoken","spokesman","sponge","spongy","sponsor","spoof","spookily","spooky","spool","spoon","spore","sporting","sports","sporty","spotless","spotlight","spotted","spotter","spotting","spotty","spousal","spouse","spout","sprain","sprang","sprawl","spray","spree","sprig","spring","sprinkled","sprinkler","sprint","sprite","sprout","spruce","sprung","spry","spud","spur","sputter","spyglass","squabble","squad","squall","squander","squash","squatted","squatter","squatting","squeak","squealer","squealing","squeamish","squeegee","squeeze","squeezing","squid","squiggle","squiggly","squint","squire","squirt","squishier","squishy","stability","stabilize","stable","stack","stadium","staff","stage","staging","stagnant","stagnate","stainable","stained","staining","stainless","stalemate","staleness","stalling","stallion","stamina","stammer","stamp","stand","stank","staple","stapling","starboard","starch","stardom","stardust","starfish","stargazer","staring","stark","starless","starlet","starlight","starlit","starring","starry","starship","starter","starting","startle","startling","startup","starved","starving","stash","state","static","statistic","statue","stature","status","statute","statutory","staunch","stays","steadfast","steadier","steadily","steadying","steam","steed","steep","steerable","steering","steersman","stegosaur","stellar","stem","stench","stencil","step","stereo","sterile","sterility","sterilize","sterling","sternness","sternum","stew","stick","stiffen","stiffly","stiffness","stifle","stifling","stillness","stilt","stimulant","stimulate","stimuli","stimulus","stinger","stingily","stinging","stingray","stingy","stinking","stinky","stipend","stipulate","stir","stitch","stock","stoic","stoke","stole","stomp","stonewall","stoneware","stonework","stoning","stony","stood","stooge","stool","stoop","stoplight","stoppable","stoppage","stopped","stopper","stopping","stopwatch","storable","storage","storeroom","storewide","storm","stout","stove","stowaway","stowing","straddle","straggler","strained","strainer","straining","strangely","stranger","strangle","strategic","strategy","stratus","straw","stray","streak","stream","street","strength","strenuous","strep","stress","stretch","strewn","stricken","strict","stride","strife","strike","striking","strive","striving","strobe","strode","stroller","strongbox","strongly","strongman","struck","structure","strudel","struggle","strum","strung","strut","stubbed","stubble","stubbly","stubborn","stucco","stuck","student","studied","studio","study","stuffed","stuffing","stuffy","stumble","stumbling","stump","stung","stunned","stunner","stunning","stunt","stupor","sturdily","sturdy","styling","stylishly","stylist","stylized","stylus","suave","subarctic","subatomic","subdivide","subdued","subduing","subfloor","subgroup","subheader","subject","sublease","sublet","sublevel","sublime","submarine","submerge","submersed","submitter","subpanel","subpar","subplot","subprime","subscribe","subscript","subsector","subside","subsiding","subsidize","subsidy","subsoil","subsonic","substance","subsystem","subtext","subtitle","subtly","subtotal","subtract","subtype","suburb","subway","subwoofer","subzero","succulent","such","suction","sudden","sudoku","suds","sufferer","suffering","suffice","suffix","suffocate","suffrage","sugar","suggest","suing","suitable","suitably","suitcase","suitor","sulfate","sulfide","sulfite","sulfur","sulk","sullen","sulphate","sulphuric","sultry","superbowl","superglue","superhero","superior","superjet","superman","supermom","supernova","supervise","supper","supplier","supply","support","supremacy","supreme","surcharge","surely","sureness","surface","surfacing","surfboard","surfer","surgery","surgical","surging","surname","surpass","surplus","surprise","surreal","surrender","surrogate","surround","survey","survival","survive","surviving","survivor","sushi","suspect","suspend","suspense","sustained","sustainer","swab","swaddling","swagger","swampland","swan","swapping","swarm","sway","swear","sweat","sweep","swell","swept","swerve","swifter","swiftly","swiftness","swimmable","swimmer","swimming","swimsuit","swimwear","swinger","swinging","swipe","swirl","switch","swivel","swizzle","swooned","swoop","swoosh","swore","sworn","swung","sycamore","sympathy","symphonic","symphony","symptom","synapse","syndrome","synergy","synopses","synopsis","synthesis","synthetic","syrup","system","t-shirt","tabasco","tabby","tableful","tables","tablet","tableware","tabloid","tackiness","tacking","tackle","tackling","tacky","taco","tactful","tactical","tactics","tactile","tactless","tadpole","taekwondo","tag","tainted","take","taking","talcum","talisman","tall","talon","tamale","tameness","tamer","tamper","tank","tanned","tannery","tanning","tantrum","tapeless","tapered","tapering","tapestry","tapioca","tapping","taps","tarantula","target","tarmac","tarnish","tarot","tartar","tartly","tartness","task","tassel","taste","tastiness","tasting","tasty","tattered","tattle","tattling","tattoo","taunt","tavern","thank","that","thaw","theater","theatrics","thee","theft","theme","theology","theorize","thermal","thermos","thesaurus","these","thesis","thespian","thicken","thicket","thickness","thieving","thievish","thigh","thimble","thing","think","thinly","thinner","thinness","thinning","thirstily","thirsting","thirsty","thirteen","thirty","thong","thorn","those","thousand","thrash","thread","threaten","threefold","thrift","thrill","thrive","thriving","throat","throbbing","throng","throttle","throwaway","throwback","thrower","throwing","thud","thumb","thumping","thursday","thus","thwarting","thyself","tiara","tibia","tidal","tidbit","tidiness","tidings","tidy","tiger","tighten","tightly","tightness","tightrope","tightwad","tigress","tile","tiling","till","tilt","timid","timing","timothy","tinderbox","tinfoil","tingle","tingling","tingly","tinker","tinkling","tinsel","tinsmith","tint","tinwork","tiny","tipoff","tipped","tipper","tipping","tiptoeing","tiptop","tiring","tissue","trace","tracing","track","traction","tractor","trade","trading","tradition","traffic","tragedy","trailing","trailside","train","traitor","trance","tranquil","transfer","transform","translate","transpire","transport","transpose","trapdoor","trapeze","trapezoid","trapped","trapper","trapping","traps","trash","travel","traverse","travesty","tray","treachery","treading","treadmill","treason","treat","treble","tree","trekker","tremble","trembling","tremor","trench","trend","trespass","triage","trial","triangle","tribesman","tribunal","tribune","tributary","tribute","triceps","trickery","trickily","tricking","trickle","trickster","tricky","tricolor","tricycle","trident","tried","trifle","trifocals","trillion","trilogy","trimester","trimmer","trimming","trimness","trinity","trio","tripod","tripping","triumph","trivial","trodden","trolling","trombone","trophy","tropical","tropics","trouble","troubling","trough","trousers","trout","trowel","truce","truck","truffle","trump","trunks","trustable","trustee","trustful","trusting","trustless","truth","try","tubby","tubeless","tubular","tucking","tuesday","tug","tuition","tulip","tumble","tumbling","tummy","turban","turbine","turbofan","turbojet","turbulent","turf","turkey","turmoil","turret","turtle","tusk","tutor","tutu","tux","tweak","tweed","tweet","tweezers","twelve","twentieth","twenty","twerp","twice","twiddle","twiddling","twig","twilight","twine","twins","twirl","twistable","twisted","twister","twisting","twisty","twitch","twitter","tycoon","tying","tyke","udder","ultimate","ultimatum","ultra","umbilical","umbrella","umpire","unabashed","unable","unadorned","unadvised","unafraid","unaired","unaligned","unaltered","unarmored","unashamed","unaudited","unawake","unaware","unbaked","unbalance","unbeaten","unbend","unbent","unbiased","unbitten","unblended","unblessed","unblock","unbolted","unbounded","unboxed","unbraided","unbridle","unbroken","unbuckled","unbundle","unburned","unbutton","uncanny","uncapped","uncaring","uncertain","unchain","unchanged","uncharted","uncheck","uncivil","unclad","unclaimed","unclamped","unclasp","uncle","unclip","uncloak","unclog","unclothed","uncoated","uncoiled","uncolored","uncombed","uncommon","uncooked","uncork","uncorrupt","uncounted","uncouple","uncouth","uncover","uncross","uncrown","uncrushed","uncured","uncurious","uncurled","uncut","undamaged","undated","undaunted","undead","undecided","undefined","underage","underarm","undercoat","undercook","undercut","underdog","underdone","underfed","underfeed","underfoot","undergo","undergrad","underhand","underline","underling","undermine","undermost","underpaid","underpass","underpay","underrate","undertake","undertone","undertook","undertow","underuse","underwear","underwent","underwire","undesired","undiluted","undivided","undocked","undoing","undone","undrafted","undress","undrilled","undusted","undying","unearned","unearth","unease","uneasily","uneasy","uneatable","uneaten","unedited","unelected","unending","unengaged","unenvied","unequal","unethical","uneven","unexpired","unexposed","unfailing","unfair","unfasten","unfazed","unfeeling","unfiled","unfilled","unfitted","unfitting","unfixable","unfixed","unflawed","unfocused","unfold","unfounded","unframed","unfreeze","unfrosted","unfrozen","unfunded","unglazed","ungloved","unglue","ungodly","ungraded","ungreased","unguarded","unguided","unhappily","unhappy","unharmed","unhealthy","unheard","unhearing","unheated","unhelpful","unhidden","unhinge","unhitched","unholy","unhook","unicorn","unicycle","unified","unifier","uniformed","uniformly","unify","unimpeded","uninjured","uninstall","uninsured","uninvited","union","uniquely","unisexual","unison","unissued","unit","universal","universe","unjustly","unkempt","unkind","unknotted","unknowing","unknown","unlaced","unlatch","unlawful","unleaded","unlearned","unleash","unless","unleveled","unlighted","unlikable","unlimited","unlined","unlinked","unlisted","unlit","unlivable","unloaded","unloader","unlocked","unlocking","unlovable","unloved","unlovely","unloving","unluckily","unlucky","unmade","unmanaged","unmanned","unmapped","unmarked","unmasked","unmasking","unmatched","unmindful","unmixable","unmixed","unmolded","unmoral","unmovable","unmoved","unmoving","unnamable","unnamed","unnatural","unneeded","unnerve","unnerving","unnoticed","unopened","unopposed","unpack","unpadded","unpaid","unpainted","unpaired","unpaved","unpeeled","unpicked","unpiloted","unpinned","unplanned","unplanted","unpleased","unpledged","unplowed","unplug","unpopular","unproven","unquote","unranked","unrated","unraveled","unreached","unread","unreal","unreeling","unrefined","unrelated","unrented","unrest","unretired","unrevised","unrigged","unripe","unrivaled","unroasted","unrobed","unroll","unruffled","unruly","unrushed","unsaddle","unsafe","unsaid","unsalted","unsaved","unsavory","unscathed","unscented","unscrew","unsealed","unseated","unsecured","unseeing","unseemly","unseen","unselect","unselfish","unsent","unsettled","unshackle","unshaken","unshaved","unshaven","unsheathe","unshipped","unsightly","unsigned","unskilled","unsliced","unsmooth","unsnap","unsocial","unsoiled","unsold","unsolved","unsorted","unspoiled","unspoken","unstable","unstaffed","unstamped","unsteady","unsterile","unstirred","unstitch","unstopped","unstuck","unstuffed","unstylish","unsubtle","unsubtly","unsuited","unsure","unsworn","untagged","untainted","untaken","untamed","untangled","untapped","untaxed","unthawed","unthread","untidy","untie","until","untimed","untimely","untitled","untoasted","untold","untouched","untracked","untrained","untreated","untried","untrimmed","untrue","untruth","unturned","untwist","untying","unusable","unused","unusual","unvalued","unvaried","unvarying","unveiled","unveiling","unvented","unviable","unvisited","unvocal","unwanted","unwarlike","unwary","unwashed","unwatched","unweave","unwed","unwelcome","unwell","unwieldy","unwilling","unwind","unwired","unwitting","unwomanly","unworldly","unworn","unworried","unworthy","unwound","unwoven","unwrapped","unwritten","unzip","upbeat","upchuck","upcoming","upcountry","update","upfront","upgrade","upheaval","upheld","uphill","uphold","uplifted","uplifting","upload","upon","upper","upright","uprising","upriver","uproar","uproot","upscale","upside","upstage","upstairs","upstart","upstate","upstream","upstroke","upswing","uptake","uptight","uptown","upturned","upward","upwind","uranium","urban","urchin","urethane","urgency","urgent","urging","urologist","urology","usable","usage","useable","used","uselessly","user","usher","usual","utensil","utility","utilize","utmost","utopia","utter","vacancy","vacant","vacate","vacation","vagabond","vagrancy","vagrantly","vaguely","vagueness","valiant","valid","valium","valley","valuables","value","vanilla","vanish","vanity","vanquish","vantage","vaporizer","variable","variably","varied","variety","various","varmint","varnish","varsity","varying","vascular","vaseline","vastly","vastness","veal","vegan","veggie","vehicular","velcro","velocity","velvet","vendetta","vending","vendor","veneering","vengeful","venomous","ventricle","venture","venue","venus","verbalize","verbally","verbose","verdict","verify","verse","version","versus","vertebrae","vertical","vertigo","very","vessel","vest","veteran","veto","vexingly","viability","viable","vibes","vice","vicinity","victory","video","viewable","viewer","viewing","viewless","viewpoint","vigorous","village","villain","vindicate","vineyard","vintage","violate","violation","violator","violet","violin","viper","viral","virtual","virtuous","virus","visa","viscosity","viscous","viselike","visible","visibly","vision","visiting","visitor","visor","vista","vitality","vitalize","vitally","vitamins","vivacious","vividly","vividness","vixen","vocalist","vocalize","vocally","vocation","voice","voicing","void","volatile","volley","voltage","volumes","voter","voting","voucher","vowed","vowel","voyage","wackiness","wad","wafer","waffle","waged","wager","wages","waggle","wagon","wake","waking","walk","walmart","walnut","walrus","waltz","wand","wannabe","wanted","wanting","wasabi","washable","washbasin","washboard","washbowl","washcloth","washday","washed","washer","washhouse","washing","washout","washroom","washstand","washtub","wasp","wasting","watch","water","waviness","waving","wavy","whacking","whacky","wham","wharf","wheat","whenever","whiff","whimsical","whinny","whiny","whisking","whoever","whole","whomever","whoopee","whooping","whoops","why","wick","widely","widen","widget","widow","width","wieldable","wielder","wife","wifi","wikipedia","wildcard","wildcat","wilder","wildfire","wildfowl","wildland","wildlife","wildly","wildness","willed","willfully","willing","willow","willpower","wilt","wimp","wince","wincing","wind","wing","winking","winner","winnings","winter","wipe","wired","wireless","wiring","wiry","wisdom","wise","wish","wisplike","wispy","wistful","wizard","wobble","wobbling","wobbly","wok","wolf","wolverine","womanhood","womankind","womanless","womanlike","womanly","womb","woof","wooing","wool","woozy","word","work","worried","worrier","worrisome","worry","worsening","worshiper","worst","wound","woven","wow","wrangle","wrath","wreath","wreckage","wrecker","wrecking","wrench","wriggle","wriggly","wrinkle","wrinkly","wrist","writing","written","wrongdoer","wronged","wrongful","wrongly","wrongness","wrought","xbox","xerox","yahoo","yam","yanking","yapping","yard","yarn","yeah","yearbook","yearling","yearly","yearning","yeast","yelling","yelp","yen","yesterday","yiddish","yield","yin","yippee","yo-yo","yodel","yoga","yogurt","yonder","yoyo","yummy","zap","zealous","zebra","zen","zeppelin","zero","zestfully","zesty","zigzagged","zipfile","zipping","zippy","zips","zit","zodiac","zombie","zone","zoning","zookeeper","zoologist","zoology","zoom"]),Up=Object.freeze(Bp.filter(e=>!e.includes("-")));function Dp({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Fp=ei.forwardRef(Dp);var zp=function(){return zp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zp.apply(this,arguments)};function Wp(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var qp=o(2833),Hp=o.n(qp),Vp="-ms-",Kp="-moz-",Gp="-webkit-",Zp="comm",Yp="rule",Jp="decl",Qp="@keyframes",Xp=Math.abs,eg=String.fromCharCode,tg=Object.assign;function ng(e){return e.trim()}function rg(e,t){return(e=t.exec(e))?e[0]:e}function ig(e,t,n){return e.replace(t,n)}function sg(e,t,n){return e.indexOf(t,n)}function og(e,t){return 0|e.charCodeAt(t)}function ag(e,t,n){return e.slice(t,n)}function cg(e){return e.length}function lg(e){return e.length}function ug(e,t){return t.push(e),e}function dg(e,t){return e.filter(function(e){return!rg(e,t)})}var hg=1,fg=1,pg=0,gg=0,mg=0,yg="";function wg(e,t,n,r,i,s,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:hg,column:fg,length:o,return:"",siblings:a}}function bg(e,t){return tg(wg("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function vg(e){for(;e.root;)e=bg(e.root,{children:[e]});ug(e,e.siblings)}function xg(){return mg=gg>0?og(yg,--gg):0,fg--,10===mg&&(fg=1,hg--),mg}function Eg(){return mg=gg<pg?og(yg,gg++):0,fg++,10===mg&&(fg=1,hg++),mg}function kg(){return og(yg,gg)}function _g(){return gg}function Cg(e,t){return ag(yg,e,t)}function Sg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ig(e){return ng(Cg(gg-1,Pg(91===e?e+2:40===e?e+1:e)))}function Ag(e){for(;(mg=kg())&&mg<33;)Eg();return Sg(e)>2||Sg(mg)>3?"":" "}function Tg(e,t){for(;--t&&Eg()&&!(mg<48||mg>102||mg>57&&mg<65||mg>70&&mg<97););return Cg(e,_g()+(t<6&&32==kg()&&32==Eg()))}function Pg(e){for(;Eg();)switch(mg){case e:return gg;case 34:case 39:34!==e&&39!==e&&Pg(mg);break;case 40:41===e&&Pg(e);break;case 92:Eg()}return gg}function Og(e,t){for(;Eg()&&e+mg!==57&&(e+mg!==84||47!==kg()););return"/*"+Cg(t,gg-1)+"*"+eg(47===e?e:Eg())}function jg(e){for(;!Sg(kg());)Eg();return Cg(e,gg)}function Ng(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function Rg(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Jp:return e.return=e.return||e.value;case Zp:return"";case Qp:return e.return=e.value+"{"+Ng(e.children,r)+"}";case Yp:if(!cg(e.value=e.props.join(",")))return""}return cg(n=Ng(e.children,r))?e.return=e.value+"{"+n+"}":""}function $g(e,t,n){switch(function(e,t){return 45^og(e,0)?(((t<<2^og(e,0))<<2^og(e,1))<<2^og(e,2))<<2^og(e,3):0}(e,t)){case 5103:return Gp+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Gp+e+e;case 4789:return Kp+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Gp+e+Kp+e+Vp+e+e;case 5936:switch(og(e,t+11)){case 114:return Gp+e+Vp+ig(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Gp+e+Vp+ig(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Gp+e+Vp+ig(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Gp+e+Vp+e+e;case 6165:return Gp+e+Vp+"flex-"+e+e;case 5187:return Gp+e+ig(e,/(\w+).+(:[^]+)/,Gp+"box-$1$2"+Vp+"flex-$1$2")+e;case 5443:return Gp+e+Vp+"flex-item-"+ig(e,/flex-|-self/g,"")+(rg(e,/flex-|baseline/)?"":Vp+"grid-row-"+ig(e,/flex-|-self/g,""))+e;case 4675:return Gp+e+Vp+"flex-line-pack"+ig(e,/align-content|flex-|-self/g,"")+e;case 5548:return Gp+e+Vp+ig(e,"shrink","negative")+e;case 5292:return Gp+e+Vp+ig(e,"basis","preferred-size")+e;case 6060:return Gp+"box-"+ig(e,"-grow","")+Gp+e+Vp+ig(e,"grow","positive")+e;case 4554:return Gp+ig(e,/([^-])(transform)/g,"$1"+Gp+"$2")+e;case 6187:return ig(ig(ig(e,/(zoom-|grab)/,Gp+"$1"),/(image-set)/,Gp+"$1"),e,"")+e;case 5495:case 3959:return ig(e,/(image-set\([^]*)/,Gp+"$1$`$1");case 4968:return ig(ig(e,/(.+:)(flex-)?(.*)/,Gp+"box-pack:$3"+Vp+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Gp+e+e;case 4200:if(!rg(e,/flex-|baseline/))return Vp+"grid-column-align"+ag(e,t)+e;break;case 2592:case 3360:return Vp+ig(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(e,n){return t=n,rg(e.props,/grid-\w+-end/)})?~sg(e+(n=n[t].value),"span",0)?e:Vp+ig(e,"-start","")+e+Vp+"grid-row-span:"+(~sg(n,"span",0)?rg(n,/\d+/):+rg(n,/\d+/)-+rg(e,/\d+/))+";":Vp+ig(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(e){return rg(e.props,/grid-\w+-start/)})?e:Vp+ig(ig(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return ig(e,/(.+)-inline(.+)/,Gp+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(cg(e)-1-t>6)switch(og(e,t+1)){case 109:if(45!==og(e,t+4))break;case 102:return ig(e,/(.+:)(.+)-([^]+)/,"$1"+Gp+"$2-$3$1"+Kp+(108==og(e,t+3)?"$3":"$2-$3"))+e;case 115:return~sg(e,"stretch",0)?$g(ig(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return ig(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(t,n,r,i,s,o,a){return Vp+n+":"+r+a+(i?Vp+n+"-span:"+(s?o:+o-+r)+a:"")+e});case 4949:if(121===og(e,t+6))return ig(e,":",":"+Gp)+e;break;case 6444:switch(og(e,45===og(e,14)?18:11)){case 120:return ig(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Gp+(45===og(e,14)?"inline-":"")+"box$3$1"+Gp+"$2$3$1"+Vp+"$2box$3")+e;case 100:return ig(e,":",":"+Vp)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ig(e,"scroll-","scroll-snap-")+e}return e}function Mg(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Jp:return void(e.return=$g(e.value,e.length,n));case Qp:return Ng([bg(e,{value:ig(e.value,"@","@"+Gp)})],r);case Yp:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,function(t){switch(rg(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":vg(bg(e,{props:[ig(t,/:(read-\w+)/,":-moz-$1")]})),vg(bg(e,{props:[t]})),tg(e,{props:dg(n,r)});break;case"::placeholder":vg(bg(e,{props:[ig(t,/:(plac\w+)/,":"+Gp+"input-$1")]})),vg(bg(e,{props:[ig(t,/:(plac\w+)/,":-moz-$1")]})),vg(bg(e,{props:[ig(t,/:(plac\w+)/,Vp+"input-$1")]})),vg(bg(e,{props:[t]})),tg(e,{props:dg(n,r)})}return""})}}function Lg(e){return function(e){return yg="",e}(Bg("",null,null,null,[""],e=function(e){return hg=fg=1,pg=cg(yg=e),gg=0,[]}(e),0,[0],e))}function Bg(e,t,n,r,i,s,o,a,c){for(var l=0,u=0,d=o,h=0,f=0,p=0,g=1,m=1,y=1,w=0,b="",v=i,x=s,E=r,k=b;m;)switch(p=w,w=Eg()){case 40:if(108!=p&&58==og(k,d-1)){-1!=sg(k+=ig(Ig(w),"&","&\f"),"&\f",Xp(l?a[l-1]:0))&&(y=-1);break}case 34:case 39:case 91:k+=Ig(w);break;case 9:case 10:case 13:case 32:k+=Ag(p);break;case 92:k+=Tg(_g()-1,7);continue;case 47:switch(kg()){case 42:case 47:ug(Dg(Og(Eg(),_g()),t,n,c),c);break;default:k+="/"}break;case 123*g:a[l++]=cg(k)*y;case 125*g:case 59:case 0:switch(w){case 0:case 125:m=0;case 59+u:-1==y&&(k=ig(k,/\f/g,"")),f>0&&cg(k)-d&&ug(f>32?Fg(k+";",r,n,d-1,c):Fg(ig(k," ","")+";",r,n,d-2,c),c);break;case 59:k+=";";default:if(ug(E=Ug(k,t,n,l,u,i,a,b,v=[],x=[],d,s),s),123===w)if(0===u)Bg(k,t,E,E,v,s,d,a,x);else switch(99===h&&110===og(k,3)?100:h){case 100:case 108:case 109:case 115:Bg(e,E,E,r&&ug(Ug(e,E,E,0,0,i,a,b,i,v=[],d,x),x),i,x,d,a,r?v:x);break;default:Bg(k,E,E,E,[""],x,0,a,x)}}l=u=f=0,g=y=1,b=k="",d=o;break;case 58:d=1+cg(k),f=p;default:if(g<1)if(123==w)--g;else if(125==w&&0==g++&&125==xg())continue;switch(k+=eg(w),w*g){case 38:y=u>0?1:(k+="\f",-1);break;case 44:a[l++]=(cg(k)-1)*y,y=1;break;case 64:45===kg()&&(k+=Ig(Eg())),h=kg(),u=d=cg(b=k+=jg(_g())),w++;break;case 45:45===p&&2==cg(k)&&(g=0)}}return s}function Ug(e,t,n,r,i,s,o,a,c,l,u,d){for(var h=i-1,f=0===i?s:[""],p=lg(f),g=0,m=0,y=0;g<r;++g)for(var w=0,b=ag(e,h+1,h=Xp(m=o[g])),v=e;w<p;++w)(v=ng(m>0?f[w]+" "+b:ig(b,/&\f/g,f[w])))&&(c[y++]=v);return wg(e,t,n,0===i?Yp:a,c,l,u,d)}function Dg(e,t,n,r){return wg(e,t,n,Zp,eg(mg),ag(e,2,-2),0,r)}function Fg(e,t,n,r,i){return wg(e,t,n,Jp,ag(e,0,r),ag(e,r+1,-1),r,i)}var zg={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Wg=o(5606),qg=void 0!==Wg&&void 0!==Wg.env&&(Wg.env.REACT_APP_SC_ATTR||Wg.env.SC_ATTR)||"data-styled",Hg="active",Vg="data-styled-version",Kg="6.1.19",Gg="/*!sc*/\n",Zg="undefined"!=typeof window&&"undefined"!=typeof document,Yg=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:void 0!==Wg&&void 0!==Wg.env&&void 0!==Wg.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==Wg.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==Wg.env.REACT_APP_SC_DISABLE_SPEEDY&&Wg.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==Wg&&void 0!==Wg.env&&void 0!==Wg.env.SC_DISABLE_SPEEDY&&""!==Wg.env.SC_DISABLE_SPEEDY&&"false"!==Wg.env.SC_DISABLE_SPEEDY&&Wg.env.SC_DISABLE_SPEEDY),Jg={},Qg=(new Set,Object.freeze([])),Xg=Object.freeze({});function em(e,t,n){return void 0===n&&(n=Xg),e.theme!==n.theme&&e.theme||t||n.theme}var tm=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),nm=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,rm=/(^-|-$)/g;function im(e){return e.replace(nm,"-").replace(rm,"")}var sm=/(a)(d)/gi,om=function(e){return String.fromCharCode(e+(e>25?39:97))};function am(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=om(t%52)+n;return(om(t%52)+n).replace(sm,"$1-$2")}var cm,lm=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},um=function(e){return lm(5381,e)};function dm(e){return am(um(e)>>>0)}function hm(e){return"string"==typeof e&&!0}var fm="function"==typeof Symbol&&Symbol.for,pm=fm?Symbol.for("react.memo"):60115,gm=fm?Symbol.for("react.forward_ref"):60112,mm={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ym={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},wm={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},bm=((cm={})[gm]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},cm[pm]=wm,cm);function vm(e){return("type"in(t=e)&&t.type.$$typeof)===pm?wm:"$$typeof"in e?bm[e.$$typeof]:mm;var t}var xm=Object.defineProperty,Em=Object.getOwnPropertyNames,km=Object.getOwnPropertySymbols,_m=Object.getOwnPropertyDescriptor,Cm=Object.getPrototypeOf,Sm=Object.prototype;function Im(e,t,n){if("string"!=typeof t){if(Sm){var r=Cm(t);r&&r!==Sm&&Im(e,r,n)}var i=Em(t);km&&(i=i.concat(km(t)));for(var s=vm(e),o=vm(t),a=0;a<i.length;++a){var c=i[a];if(!(c in ym||n&&n[c]||o&&c in o||s&&c in s)){var l=_m(t,c);try{xm(e,c,l)}catch(e){}}}}return e}function Am(e){return"function"==typeof e}function Tm(e){return"object"==typeof e&&"styledComponentId"in e}function Pm(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Om(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function jm(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Nm(e,t,n){if(void 0===n&&(n=!1),!n&&!jm(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Nm(e[r],t[r]);else if(jm(t))for(var r in t)e[r]=Nm(e[r],t[r]);return e}function Rm(e,t){Object.defineProperty(e,"toString",{value:t})}function $m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var Mm=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw $m(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var s=r;s<i;s++)this.groupSizes[s]=0}for(var o=this.indexOfGroup(e+1),a=(s=0,t.length);s<a;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,s=r;s<i;s++)t+="".concat(this.tag.getRule(s)).concat(Gg);return t},e}(),Lm=new Map,Bm=new Map,Um=1,Dm=function(e){if(Lm.has(e))return Lm.get(e);for(;Bm.has(Um);)Um++;var t=Um++;return Lm.set(e,t),Bm.set(t,e),t},Fm=function(e,t){Um=t+1,Lm.set(e,t),Bm.set(t,e)},zm="style[".concat(qg,"][").concat(Vg,'="').concat(Kg,'"]'),Wm=new RegExp("^".concat(qg,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),qm=function(e,t,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&e.registerName(t,r)},Hm=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split(Gg),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var c=a.match(Wm);if(c){var l=0|parseInt(c[1],10),u=c[2];0!==l&&(Fm(u,l),qm(e,u,c[3]),e.getTag().insertRules(l,i)),i.length=0}else i.push(a)}}},Vm=function(e){for(var t=document.querySelectorAll(zm),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(qg)!==Hg&&(Hm(e,i),i.parentNode&&i.parentNode.removeChild(i))}};function Km(){return o.nc}var Gm=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){var t=Array.from(e.querySelectorAll("style[".concat(qg,"]")));return t[t.length-1]}(n),s=void 0!==i?i.nextSibling:null;r.setAttribute(qg,Hg),r.setAttribute(Vg,Kg);var o=Km();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},Zm=function(){function e(e){this.element=Gm(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw $m(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),Ym=function(){function e(e){this.element=Gm(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Jm=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Qm=Zg,Xm={isServer:!Zg,useCSSOMInjection:!Yg},ey=function(){function e(e,t,n){void 0===e&&(e=Xg),void 0===t&&(t={});var r=this;this.options=zp(zp({},Xm),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Zg&&Qm&&(Qm=!1,Vm(this)),Rm(this,function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i=function(e){return Bm.get(e)}(n);if(void 0===i)return"continue";var s=e.names.get(i),o=t.getGroup(n);if(void 0===s||!s.size||0===o.length)return"continue";var a="".concat(qg,".g").concat(n,'[id="').concat(i,'"]'),c="";void 0!==s&&s.forEach(function(e){e.length>0&&(c+="".concat(e,","))}),r+="".concat(o).concat(a,'{content:"').concat(c,'"}').concat(Gg)},s=0;s<n;s++)i(s);return r}(r)})}return e.registerId=function(e){return Dm(e)},e.prototype.rehydrate=function(){!this.server&&Zg&&Vm(this)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(zp(zp({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new Jm(n):t?new Zm(n):new Ym(n)}(this.options),new Mm(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(Dm(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Dm(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(Dm(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),ty=/&/g,ny=/^\s*\/\/.*$/gm;function ry(e,t){return e.map(function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map(function(e){return"".concat(t," ").concat(e)})),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=ry(e.children,t)),e})}function iy(e){var t,n,r,i=void 0===e?Xg:e,s=i.options,o=void 0===s?Xg:s,a=i.plugins,c=void 0===a?Qg:a,l=function(e,r,i){return i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},u=c.slice();u.push(function(e){e.type===Yp&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(ty,n).replace(r,l))}),o.prefix&&u.push(Mg),u.push(Rg);var d=function(e,i,s,a){void 0===i&&(i=""),void 0===s&&(s=""),void 0===a&&(a="&"),t=a,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var c=e.replace(ny,""),l=Lg(s||i?"".concat(s," ").concat(i," { ").concat(c," }"):c);o.namespace&&(l=ry(l,o.namespace));var d,h,f,p=[];return Ng(l,(d=u.concat((f=function(e){return p.push(e)},function(e){e.root||(e=e.return)&&f(e)})),h=lg(d),function(e,t,n,r){for(var i="",s=0;s<h;s++)i+=d[s](e,t,n,r)||"";return i})),p};return d.hash=c.length?c.reduce(function(e,t){return t.name||$m(15),lm(e,t.name)},5381).toString():"",d}var sy=new ey,oy=iy(),ay=ei.createContext({shouldForwardProp:void 0,styleSheet:sy,stylis:oy}),cy=(ay.Consumer,ei.createContext(void 0));function ly(){return(0,ei.useContext)(ay)}function uy(e){var t=(0,ei.useState)(e.stylisPlugins),n=t[0],r=t[1],i=ly().styleSheet,s=(0,ei.useMemo)(function(){var t=i;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t},[e.disableCSSOMInjection,e.sheet,e.target,i]),o=(0,ei.useMemo)(function(){return iy({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:n})},[e.enableVendorPrefixes,e.namespace,n]);(0,ei.useEffect)(function(){Hp()(n,e.stylisPlugins)||r(e.stylisPlugins)},[e.stylisPlugins]);var a=(0,ei.useMemo)(function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:s,stylis:o}},[e.shouldForwardProp,s,o]);return ei.createElement(ay.Provider,{value:a},ei.createElement(cy.Provider,{value:o},e.children))}var dy=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=oy);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,Rm(this,function(){throw $m(12,String(n.name))})}return e.prototype.getName=function(e){return void 0===e&&(e=oy),this.name+e.hash},e}(),hy=function(e){return e>="A"&&e<="Z"};function fy(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;hy(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var py=function(e){return null==e||!1===e||""===e},gy=function(e){var t,n,r=[];for(var i in e){var s=e[i];e.hasOwnProperty(i)&&!py(s)&&(Array.isArray(s)&&s.isCss||Am(s)?r.push("".concat(fy(i),":"),s,";"):jm(s)?r.push.apply(r,Wp(Wp(["".concat(i," {")],gy(s),!1),["}"],!1)):r.push("".concat(fy(i),": ").concat((t=i,null==(n=s)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||t in zg||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function my(e,t,n,r){return py(e)?[]:Tm(e)?[".".concat(e.styledComponentId)]:Am(e)?!Am(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:my(e(t),t,n,r):e instanceof dy?n?(e.inject(n,r),[e.getName(r)]):[e]:jm(e)?gy(e):Array.isArray(e)?Array.prototype.concat.apply(Qg,e.map(function(e){return my(e,t,n,r)})):[e.toString()];var i}function yy(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Am(n)&&!Tm(n))return!1}return!0}var wy=um(Kg),by=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&yy(e),this.componentId=t,this.baseHash=lm(wy,t),this.baseStyle=n,ey.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=Pm(r,this.staticRulesId);else{var i=Om(my(this.rules,e,t,n)),s=am(lm(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,s)){var o=n(i,".".concat(s),void 0,this.componentId);t.insertRules(this.componentId,s,o)}r=Pm(r,s),this.staticRulesId=s}else{for(var a=lm(this.baseHash,n.hash),c="",l=0;l<this.rules.length;l++){var u=this.rules[l];if("string"==typeof u)c+=u;else if(u){var d=Om(my(u,e,t,n));a=lm(a,d+l),c+=d}}if(c){var h=am(a>>>0);t.hasNameForId(this.componentId,h)||t.insertRules(this.componentId,h,n(c,".".concat(h),void 0,this.componentId)),r=Pm(r,h)}}return r},e}(),vy=ei.createContext(void 0);vy.Consumer;var xy={};function Ey(e,t,n){var r=Tm(e),i=e,s=!hm(e),o=t.attrs,a=void 0===o?Qg:o,c=t.componentId,l=void 0===c?function(e,t){var n="string"!=typeof e?"sc":im(e);xy[n]=(xy[n]||0)+1;var r="".concat(n,"-").concat(dm(Kg+n+xy[n]));return t?"".concat(t,"-").concat(r):r}(t.displayName,t.parentComponentId):c,u=t.displayName,d=void 0===u?function(e){return hm(e)?"styled.".concat(e):"Styled(".concat(function(e){return e.displayName||e.name||"Component"}(e),")")}(e):u,h=t.displayName&&t.componentId?"".concat(im(t.displayName),"-").concat(t.componentId):t.componentId||l,f=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,p=t.shouldForwardProp;if(r&&i.shouldForwardProp){var g=i.shouldForwardProp;if(t.shouldForwardProp){var m=t.shouldForwardProp;p=function(e,t){return g(e,t)&&m(e,t)}}else p=g}var y=new by(n,h,r?i.componentStyle:void 0);function w(e,t){return function(e,t,n){var r=e.attrs,i=e.componentStyle,s=e.defaultProps,o=e.foldedComponentIds,a=e.styledComponentId,c=e.target,l=ei.useContext(vy),u=ly(),d=e.shouldForwardProp||u.shouldForwardProp,h=em(t,l,s)||Xg,f=function(e,t,n){for(var r,i=zp(zp({},t),{className:void 0,theme:n}),s=0;s<e.length;s+=1){var o=Am(r=e[s])?r(i):r;for(var a in o)i[a]="className"===a?Pm(i[a],o[a]):"style"===a?zp(zp({},i[a]),o[a]):o[a]}return t.className&&(i.className=Pm(i.className,t.className)),i}(r,t,h),p=f.as||c,g={};for(var m in f)void 0===f[m]||"$"===m[0]||"as"===m||"theme"===m&&f.theme===h||("forwardedAs"===m?g.as=f.forwardedAs:d&&!d(m,p)||(g[m]=f[m]));var y=function(e,t){var n=ly();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(i,f),w=Pm(o,a);return y&&(w+=" "+y),f.className&&(w+=" "+f.className),g[hm(p)&&!tm.has(p)?"class":"className"]=w,n&&(g.ref=n),(0,ei.createElement)(p,g)}(b,e,t)}w.displayName=d;var b=ei.forwardRef(w);return b.attrs=f,b.componentStyle=y,b.displayName=d,b.shouldForwardProp=p,b.foldedComponentIds=r?Pm(i.foldedComponentIds,i.styledComponentId):"",b.styledComponentId=h,b.target=r?i.target:e,Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=r?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)Nm(e,i[r],!0);return e}({},i.defaultProps,e):e}}),Rm(b,function(){return".".concat(b.styledComponentId)}),s&&Im(b,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),b}function ky(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}new Set;var _y=function(e){return Object.assign(e,{isCss:!0})};function Cy(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Am(e)||jm(e))return _y(my(ky(Qg,Wp([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?my(r):_y(my(ky(r,t)))}function Sy(e,t,n){if(void 0===n&&(n=Xg),!t)throw $m(1,t);var r=function(r){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return e(t,n,Cy.apply(void 0,Wp([r],i,!1)))};return r.attrs=function(r){return Sy(e,t,zp(zp({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return Sy(e,t,zp(zp({},n),r))},r}var Iy=function(e){return Sy(Ey,e)},Ay=Iy;tm.forEach(function(e){Ay[e]=Iy(e)});var Ty=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=yy(e),ey.registerId(this.componentId+1)}return e.prototype.createStyles=function(e,t,n,r){var i=r(Om(my(this.rules,t,n,r)),""),s=this.componentId+e;n.insertRules(s,s,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&ey.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Py(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Cy.apply(void 0,Wp([e],t,!1)),i="sc-global-".concat(dm(JSON.stringify(r))),s=new Ty(r,i),o=function(e){var t=ly(),n=ei.useContext(vy),r=ei.useRef(t.styleSheet.allocateGSInstance(i)).current;return t.styleSheet.server&&a(r,e,t.styleSheet,n,t.stylis),ei.useLayoutEffect(function(){if(!t.styleSheet.server)return a(r,e,t.styleSheet,n,t.stylis),function(){return s.removeStyles(r,t.styleSheet)}},[r,e,t.styleSheet,n,t.stylis]),null};function a(e,t,n,r,i){if(s.isStatic)s.renderStyles(e,Jg,n,i);else{var a=zp(zp({},t),{theme:em(t,r,o.defaultProps)});s.renderStyles(e,a,n,i)}}return ei.memo(o)}function Oy(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Om(Cy.apply(void 0,Wp([e],t,!1))),i=dm(r);return new dy(i,r)}function jy({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=Km(),r=Om([n&&'nonce="'.concat(n,'"'),"".concat(qg,'="true"'),"".concat(Vg,'="').concat(Kg,'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw $m(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw $m(2);var n=e.instance.toString();if(!n)return[];var r=((t={})[qg]="",t[Vg]=Kg,t.dangerouslySetInnerHTML={__html:n},t),i=Km();return i&&(r.nonce=i),[ei.createElement("style",zp({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new ey({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw $m(2);return ei.createElement(uy,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw $m(3)}})(),"__sc-".concat(qg,"__");const Ny=ei.forwardRef(jy);function Ry({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const $y=ei.forwardRef(Ry);function My({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Ly=ei.forwardRef(My);function By({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const Uy=ei.forwardRef(By);function Dy({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const Fy=ei.forwardRef(Dy);function zy({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const Wy=ei.forwardRef(zy);function qy({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Hy=ei.forwardRef(qy);function Vy({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}const Ky=ei.forwardRef(Vy);function Gy({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const Zy=ei.forwardRef(Gy);function Yy({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 8.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v8.25A2.25 2.25 0 0 0 6 16.5h2.25m8.25-8.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-7.5A2.25 2.25 0 0 1 8.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 0 0-2.25 2.25v6"}))}const Jy=ei.forwardRef(Yy);function Qy(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw TypeError("attempted to use private field on non-instance");return e}var Xy=0;function ew(e){return"__private_"+Xy+++"_"+e}var tw=ew("_wallet"),nw=ew("_account");class rw{get standardWallet(){return Qy(this,tw)[tw]}get address(){return Qy(this,nw)[nw].address}async disconnect(){if(!Qy(this,tw)[tw].features["standard:disconnect"]?.disconnect)throw Error("Wallet does not support disconnect");await Qy(this,tw)[tw].features["standard:disconnect"].disconnect()}async signMessage(...e){if(!Qy(this,tw)[tw].features["solana:signMessage"]?.signMessage)throw Error("Wallet does not support signMessage");let t=await Qy(this,tw)[tw].features["solana:signMessage"].signMessage(...e.map(e=>({...e,account:Qy(this,nw)[nw]})));return 1===e.length?t[0]:[...t]}async signTransaction(...e){if(!Qy(this,tw)[tw].features["solana:signTransaction"]?.signTransaction)throw Error("Wallet does not support signTransaction");let t=await Qy(this,tw)[tw].features["solana:signTransaction"].signTransaction(...e.map(e=>({...e,account:Qy(this,nw)[nw]})));return 1===e.length?t[0]:[...t]}async signAndSendTransaction(...e){if(!Qy(this,tw)[tw].features["solana:signAndSendTransaction"]?.signAndSendTransaction)throw Error("Wallet does not support signAndSendTransaction");let t=await Qy(this,tw)[tw].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map(e=>({...e,account:Qy(this,nw)[nw]})));return 1===e.length?t[0]:[...t]}async signAndSendAllTransactions(e){if(!Qy(this,tw)[tw].features["solana:signAndSendTransaction"]?.signAndSendTransaction)throw Error("Wallet does not support signAndSendTransaction");return[...await Qy(this,tw)[tw].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map(e=>({...e,account:Qy(this,nw)[nw]})))]}constructor({wallet:e,account:t}){Object.defineProperty(this,tw,{writable:!0,value:void 0}),Object.defineProperty(this,nw,{writable:!0,value:void 0}),Qy(this,tw)[tw]=e,Qy(this,nw)[nw]=t}}function iw(e){let t=e.filter(e=>!Si.has(e.id));return Ci.concat(t)}function sw(e){return e?`${e.slice(0,5)}${e.slice(-4)}`:""}function ow({amount:e,decimals:t}){return(0,Hf.J)(BigInt(e),t)}const aw={[wi.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[ki.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[bi.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[vi.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[xi.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[Ei.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[pi.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[gi.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[hi.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[fi.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[ui.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[di.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"};let cw=new Set([wi.id,pi.id,bi.id,xi.id,ui.id,hi.id]),lw=new Set([wi.id,pi.id,xi.id,bi.id,ui.id,hi.id]),uw={buy:"CARD",send:"CRYPTO_ACCOUNT"},dw={USDC:"2b92315d-eab7-5bef-84fa-089a131333f5",ETH:"d85dce9b-5b73-5c3c-8978-522ce1d1c1b4",BTC:"5b71fc48-3dd3-540c-809b-f8c94d0e68b5",SOL:"4f039497-3af8-5bb3-951c-6df9afa9be1c",POL:"026bcc1e-9163-591c-a709-34dd18b2e7a1"};const hw=e=>{let t;const n=new Set,r=(e,r)=>{const i="function"==typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=r?r:"object"!=typeof i||null===i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,s={setState:r,getState:i,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e))},o=t=e(r,i,s);return s},fw=e=>e,pw=e=>{const t=(e=>e?hw(e):hw)(e),n=e=>function(e,t=fw){const n=ei.useSyncExternalStore(e.subscribe,ei.useCallback(()=>t(e.getState()),[e,t]),ei.useCallback(()=>t(e.getInitialState()),[e,t]));return ei.useDebugValue(n),n}(t,e);return Object.assign(n,t),n},gw=e=>e?pw(e):pw;function mw({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const yw=ei.forwardRef(mw);function ww({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const bw=ei.forwardRef(ww);function vw({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const xw=ei.forwardRef(vw);function Ew({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const kw=ei.forwardRef(Ew);var _w=o(961);function Cw(e,t,n){let r,i=n.initialDeps??[];function s(){var s,o,a,c;let l;n.key&&(null==(s=n.debug)?void 0:s.call(n))&&(l=Date.now());const u=e(),d=u.length!==i.length||u.some((e,t)=>i[t]!==e);if(!d)return r;let h;if(i=u,n.key&&(null==(o=n.debug)?void 0:o.call(n))&&(h=Date.now()),r=t(...u),n.key&&(null==(a=n.debug)?void 0:a.call(n))){const e=Math.round(100*(Date.now()-l))/100,t=Math.round(100*(Date.now()-h))/100,r=t/16,i=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c ${i(t,5)} /${i(e,5)} ms`,`\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0,Math.min(120-120*r,120))}deg 100% 31%);`,null==n?void 0:n.key)}return null==(c=null==n?void 0:n.onChange)||c.call(n,r),r}return s.updateDeps=e=>{i=e},s}function Sw(e,t){if(void 0===e)throw new Error("Unexpected undefined"+(t?`: ${t}`:""));return e}const Iw=(e,t,n)=>{let r;return function(...i){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,i),n)}},Aw=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},Tw=e=>e,Pw=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let e=t;e<=n;e++)r.push(e);return r},Ow=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const i=e=>{const{width:n,height:r}=e;t({width:Math.round(n),height:Math.round(r)})};if(i(Aw(n)),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(t=>{const r=()=>{const e=t[0];if(null==e?void 0:e.borderBoxSize){const t=e.borderBoxSize[0];if(t)return void i({width:t.inlineSize,height:t.blockSize})}i(Aw(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(r):r()});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},jw={passive:!0},Nw="undefined"==typeof window||"onscrollend"in window,Rw=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let i=0;const s=e.options.useScrollendEvent&&Nw?()=>{}:Iw(r,()=>{t(i,!1)},e.options.isScrollingResetDelay),o=r=>()=>{const{horizontal:o,isRtl:a}=e.options;i=o?n.scrollLeft*(a?-1:1):n.scrollTop,s(),t(i,r)},a=o(!0),c=o(!1);c(),n.addEventListener("scroll",a,jw);const l=e.options.useScrollendEvent&&Nw;return l&&n.addEventListener("scrollend",c,jw),()=>{n.removeEventListener("scroll",a),l&&n.removeEventListener("scrollend",c)}},$w=(e,t,n)=>{if(null==t?void 0:t.borderBoxSize){const e=t.borderBoxSize[0];if(e)return Math.round(e[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},Mw=(e,{adjustments:t=0,behavior:n},r)=>{var i,s;const o=e+t;null==(s=null==(i=r.scrollElement)?void 0:i.scrollTo)||s.call(i,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class Lw{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const t=()=>e||(this.targetWindow&&this.targetWindow.ResizeObserver?e=new this.targetWindow.ResizeObserver(e=>{e.forEach(e=>{const t=()=>{this._measureElement(e.target,e)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(t):t()})}):null);return{disconnect:()=>{var n;null==(n=t())||n.disconnect(),e=null},observe:e=>{var n;return null==(n=t())?void 0:n.observe(e,{box:"border-box"})},unobserve:e=>{var n;return null==(n=t())?void 0:n.unobserve(e)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([t,n])=>{void 0===n&&delete e[t]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Tw,rangeExtractor:Pw,onChange:()=>{},measureElement:$w,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...e}},this.notify=e=>{var t,n;null==(n=(t=this.options).onChange)||n.call(t,this,e)},this.maybeNotify=Cw(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const t=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==t){if(this.cleanup(),!t)return void this.maybeNotify();this.scrollElement=t,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=(null==(e=this.scrollElement)?void 0:e.window)??null,this.elementsCache.forEach(e=>{this.observer.observe(e)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,e=>{this.scrollRect=e,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(e,t)=>{this.scrollAdjustments=0,this.scrollDirection=t?this.getScrollOffset()<e?"forward":"backward":null,this.scrollOffset=e,this.isScrolling=t,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??("function"==typeof this.options.initialOffset?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,t)=>{const n=new Map,r=new Map;for(let i=t-1;i>=0;i--){const t=e[i];if(n.has(t.lane))continue;const s=r.get(t.lane);if(null==s||t.end>s.end?r.set(t.lane,t):t.end<s.end&&n.set(t.lane,!0),n.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort((e,t)=>e.end===t.end?e.index-t.index:e.end-t.end)[0]:void 0},this.getMeasurementOptions=Cw(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(e,t,n,r,i)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:n,getItemKey:r,enabled:i}),{key:!1}),this.getMeasurements=Cw(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:t,scrollMargin:n,getItemKey:r,enabled:i},s)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];0===this.measurementsCache.length&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(e=>{this.itemSizeCache.set(e.key,e.size)}));const o=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const a=this.measurementsCache.slice(0,o);for(let i=o;i<e;i++){const e=r(i),o=1===this.options.lanes?a[i-1]:this.getFurthestMeasurement(a,i),c=o?o.end+this.options.gap:t+n,l=s.get(e),u="number"==typeof l?l:this.options.estimateSize(i),d=c+u,h=o?o.lane:i%this.options.lanes;a[i]={index:i,start:c,size:u,end:d,key:e,lane:h}}return this.measurementsCache=a,a},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Cw(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(e,t,n,r)=>this.range=e.length>0&&t>0?function({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const i=e.length-1;if(e.length<=r)return{startIndex:0,endIndex:i};let s=Bw(0,i,t=>e[t].start,n),o=s;if(1===r)for(;o<i&&e[o].end<n+t;)o++;else if(r>1){const a=Array(r).fill(0);for(;o<i&&a.some(e=>e<n+t);){const t=e[o];a[t.lane]=t.end,o++}const c=Array(r).fill(n+t);for(;s>=0&&c.some(e=>e>=n);){const t=e[s];c[t.lane]=t.start,s--}s=Math.max(0,s-s%r),o=Math.min(i,o+(r-1-o%r))}return{startIndex:s,endIndex:o}}({measurements:e,outerSize:t,scrollOffset:n,lanes:r}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Cw(()=>{let e=null,t=null;const n=this.calculateRange();return n&&(e=n.startIndex,t=n.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,t]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,t]},(e,t,n,r,i)=>null===r||null===i?[]:e({startIndex:r,endIndex:i,overscan:t,count:n}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const t=this.options.indexAttribute,n=e.getAttribute(t);return n?parseInt(n,10):(console.warn(`Missing attribute name '${t}={index}' on measured element.`),-1)},this._measureElement=(e,t)=>{const n=this.indexFromElement(e),r=this.measurementsCache[n];if(!r)return;const i=r.key,s=this.elementsCache.get(i);s!==e&&(s&&this.observer.unobserve(s),this.observer.observe(e),this.elementsCache.set(i,e)),e.isConnected&&this.resizeItem(n,this.options.measureElement(e,t,this))},this.resizeItem=(e,t)=>{const n=this.measurementsCache[e];if(!n)return;const r=t-(this.itemSizeCache.get(n.key)??n.size);0!==r&&((void 0!==this.shouldAdjustScrollPositionOnItemSizeChange?this.shouldAdjustScrollPositionOnItemSizeChange(n,r,this):n.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,t)),this.notify(!1))},this.measureElement=e=>{e?this._measureElement(e,void 0):this.elementsCache.forEach((e,t)=>{e.isConnected||(this.observer.unobserve(e),this.elementsCache.delete(t))})},this.getVirtualItems=Cw(()=>[this.getVirtualIndexes(),this.getMeasurements()],(e,t)=>{const n=[];for(let r=0,i=e.length;r<i;r++){const i=t[e[r]];n.push(i)}return n},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const t=this.getMeasurements();if(0!==t.length)return Sw(t[Bw(0,t.length-1,e=>Sw(t[e]).start,e)])},this.getOffsetForAlignment=(e,t,n=0)=>{const r=this.getSize(),i=this.getScrollOffset();"auto"===t&&(t=e>=i+r?"end":"start"),"center"===t?e+=(n-r)/2:"end"===t&&(e-=r);const s=this.getTotalSize()+this.options.scrollMargin-r;return Math.max(Math.min(s,e),0)},this.getOffsetForIndex=(e,t="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const n=this.measurementsCache[e];if(!n)return;const r=this.getSize(),i=this.getScrollOffset();if("auto"===t)if(n.end>=i+r-this.options.scrollPaddingEnd)t="end";else{if(!(n.start<=i+this.options.scrollPaddingStart))return[i,t];t="start"}const s="end"===t?n.end+this.options.scrollPaddingEnd:n.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(s,t,n.size),t]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(e,{align:t="start",behavior:n}={})=>{"smooth"===n&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,t),{adjustments:void 0,behavior:n})},this.scrollToIndex=(e,{align:t="auto",behavior:n}={})=>{"smooth"===n&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),e=Math.max(0,Math.min(e,this.options.count-1));let r=0;const i=t=>{if(!this.targetWindow)return;const r=this.getOffsetForIndex(e,t);if(!r)return void console.warn("Failed to get offset for index:",e);const[i,o]=r;this._scrollToOffset(i,{adjustments:void 0,behavior:n}),this.targetWindow.requestAnimationFrame(()=>{const t=this.getScrollOffset(),n=this.getOffsetForIndex(e,o);n?((e,t)=>Math.abs(e-t)<1.01)(n[0],t)||s(o):console.warn("Failed to get offset for index:",e)})},s=t=>{this.targetWindow&&(r++,r<10?this.targetWindow.requestAnimationFrame(()=>i(t)):console.warn(`Failed to scroll to index ${e} after 10 attempts.`))};i(t)},this.scrollBy=(e,{behavior:t}={})=>{"smooth"===t&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:t})},this.getTotalSize=()=>{var e;const t=this.getMeasurements();let n;if(0===t.length)n=this.options.paddingStart;else if(1===this.options.lanes)n=(null==(e=t[t.length-1])?void 0:e.end)??0;else{const e=Array(this.options.lanes).fill(null);let r=t.length-1;for(;r>=0&&e.some(e=>null===e);){const n=t[r];null===e[n.lane]&&(e[n.lane]=n.end),r--}n=Math.max(...e.filter(e=>null!==e))}return Math.max(n-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:t,behavior:n})=>{this.options.scrollToFn(e,{behavior:n,adjustments:t},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const Bw=(e,t,n,r)=>{for(;e<=t;){const i=(e+t)/2|0,s=n(i);if(s<r)e=i+1;else{if(!(s>r))return i;t=i-1}}return e>0?e-1:0},Uw="undefined"!=typeof document?ei.useLayoutEffect:ei.useEffect;function Dw({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Fw=ei.forwardRef(Dw);var zw=o(7324),Ww=o(7007),qw=o.n(Ww),Hw=o(8468),Vw=o(8900),Kw=o(8196),Gw=o(2063);class Zw extends Error{constructor(e,t={}){const n=(()=>{if(t.cause instanceof Zw){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})(),r=t.cause instanceof Zw&&t.cause.docsPath||t.docsPath,i=`https://oxlib.sh${r??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...n||r?["",n?`Details: ${n}`:void 0,r?`See: ${i}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=n,this.docs=i,this.docsPath=r,this.shortMessage=e}walk(e){return Yw(this,e)}}function Yw(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e&&e.cause?Yw(e.cause,t):t?null:e}function Jw(e,t){if(ob(e)>t)throw new ub({givenSize:ob(e),maxSize:t})}function Qw(e,t={}){const{dir:n,size:r=32}=t;if(0===r)return e;const i=e.replace("0x","");if(i.length>2*r)throw new hb({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i["right"===n?"padEnd":"padStart"](2*r,"0")}`}function Xw(e,t,n){return JSON.stringify(e,(e,n)=>"function"==typeof t?t(e,n):"bigint"==typeof n?n.toString()+"#__bigint":n,n)}const eb=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function tb(e){return e instanceof Uint8Array?nb(e):Array.isArray(e)?nb(new Uint8Array(e)):e}function nb(e,t={}){let n="";for(let t=0;t<e.length;t++)n+=eb[e[t]];const r=`0x${n}`;return"number"==typeof t.size?(Jw(r,t.size),ib(r,t.size)):r}function rb(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let s;r?s=n?(1n<<8n*BigInt(r)-1n)-1n:2n**(8n*BigInt(r))-1n:"number"==typeof e&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o="bigint"==typeof s&&n?-s-1n:0;if(s&&i>s||i<o){const t="bigint"==typeof e?"n":"";throw new ab({max:s?`${s}${t}`:void 0,min:`${o}${t}`,signed:n,size:r,value:`${e}${t}`})}const a=`0x${(n&&i<0?(1n<<BigInt(8*r))+BigInt(i):i).toString(16)}`;return r?function(e,t){return Qw(e,{dir:"left",size:t})}(a,r):a}function ib(e,t){return Qw(e,{dir:"right",size:t})}function sb(e,t,n,r={}){const{strict:i}=r;!function(e,t){if("number"==typeof t&&t>0&&t>ob(e)-1)throw new db({offset:t,position:"start",size:ob(e)})}(e,t);const s=`0x${e.replace("0x","").slice(2*(t??0),2*(n??e.length))}`;return i&&function(e,t,n){if("number"==typeof t&&"number"==typeof n&&ob(e)!==n-t)throw new db({offset:n,position:"end",size:ob(e)})}(s,t,n),s}function ob(e){return Math.ceil((e.length-2)/2)}class ab extends Zw{constructor({max:e,min:t,signed:n,size:r,value:i}){super(`Number \`${i}\` is not in safe${r?` ${8*r}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class cb extends Zw{constructor(e){super(`Value \`${"object"==typeof e?Xw(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class lb extends Zw{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class ub extends Zw{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class db extends Zw{constructor({offset:e,position:t,size:n}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class hb extends Zw{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function fb(e){if(130!==e.length&&132!==e.length)throw new pb({signature:e});const t=BigInt(sb(e,0,32)),n=BigInt(sb(e,32,64)),r=(()=>{const t=Number(`0x${e.slice(130)}`);if(!Number.isNaN(t))try{return function(e){if(0===e||27===e)return 0;if(1===e||28===e)return 1;if(e>=35)return e%2==0?1:0;throw new mb({value:e})}(t)}catch{throw new gb({value:t})}})();return void 0===r?{r:t,s:n}:{r:t,s:n,yParity:r}}class pb extends Zw{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${ob(tb(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class gb extends Zw{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class mb extends Zw{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}var yb=o(8442),wb=o(1454),bb=o(2531);const vb=BigInt(0),xb=BigInt(1);function Eb(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function kb(e){if(!Eb(e))throw new Error("Uint8Array expected")}function _b(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}function Cb(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function Sb(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?vb:BigInt("0x"+e)}const Ib="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,Ab=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Tb(e){if(kb(e),Ib)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Ab[e[n]];return t}function Pb(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function Ob(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(Ib)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=Pb(e.charCodeAt(i)),s=Pb(e.charCodeAt(i+1));if(void 0===n||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+s}return r}function jb(e){return Sb(Tb(e))}function Nb(e){return kb(e),Sb(Tb(Uint8Array.from(e).reverse()))}function Rb(e,t){return Ob(e.toString(16).padStart(2*t,"0"))}function $b(e,t){return Rb(e,t).reverse()}function Mb(e,t,n){let r;if("string"==typeof t)try{r=Ob(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!Eb(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function Lb(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];kb(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}const Bb=e=>"bigint"==typeof e&&vb<=e;function Ub(e,t,n){return Bb(e)&&Bb(t)&&Bb(n)&&t<=e&&e<n}function Db(e,t,n,r){if(!Ub(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}const Fb=e=>(xb<<BigInt(e))-xb,zb=e=>new Uint8Array(e),Wb=e=>Uint8Array.from(e),qb={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||Eb(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function Hb(e,t,n={}){const r=(t,n,r)=>{const i=qb[n];if("function"!=typeof i)throw new Error("invalid validator function");const s=e[t];if(!(r&&void 0===s||i(s,e)))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+s)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e}function Vb(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(void 0!==i)return i;const s=e(n,...r);return t.set(n,s),s}}const Kb=BigInt(0),Gb=BigInt(1),Zb=BigInt(2),Yb=BigInt(3),Jb=BigInt(4),Qb=BigInt(5),Xb=BigInt(8);function ev(e,t){const n=e%t;return n>=Kb?n:t+n}function tv(e,t,n){let r=e;for(;t-- >Kb;)r*=r,r%=n;return r}function nv(e,t){if(e===Kb)throw new Error("invert: expected non-zero number");if(t<=Kb)throw new Error("invert: expected positive modulus, got "+t);let n=ev(e,t),r=t,i=Kb,s=Gb,o=Gb,a=Kb;for(;n!==Kb;){const e=r/n,t=r%n,c=i-o*e,l=s-a*e;r=n,n=t,i=o,s=a,o=c,a=l}if(r!==Gb)throw new Error("invert: does not exist");return ev(i,t)}function rv(e,t){const n=(e.ORDER+Gb)/Jb,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function iv(e,t){const n=(e.ORDER-Qb)/Xb,r=e.mul(t,Zb),i=e.pow(r,n),s=e.mul(t,i),o=e.mul(e.mul(s,Zb),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}const sv=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ov(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),s=e.inv(i);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),s),r}function av(e,t){const n=(e.ORDER-Gb)/Zb,r=e.pow(t,n),i=e.eql(r,e.ONE),s=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function cv(e,t){void 0!==t&&(0,bb.Fe)(t);const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function lv(e,t,n=!1,r={}){if(e<=Kb)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=cv(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:Fb(i),ZERO:Kb,ONE:Gb,create:t=>ev(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return Kb<=t&&t<e},is0:e=>e===Kb,isOdd:e=>(e&Gb)===Gb,neg:t=>ev(-t,e),eql:(e,t)=>e===t,sqr:t=>ev(t*t,e),add:(t,n)=>ev(t+n,e),sub:(t,n)=>ev(t-n,e),mul:(t,n)=>ev(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Kb)throw new Error("invalid exponent, negatives unsupported");if(n===Kb)return e.ONE;if(n===Gb)return t;let r=e.ONE,i=t;for(;n>Kb;)n&Gb&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Gb;return r}(a,e,t),div:(t,n)=>ev(t*nv(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>nv(t,e),sqrt:r.sqrt||(t=>{return o||(o=(n=e)%Jb===Yb?rv:n%Xb===Qb?iv:function(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-Gb,n=0;for(;t%Zb===Kb;)t/=Zb,n++;let r=Zb;const i=lv(e);for(;1===av(i,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return rv;let s=i.pow(r,t);const o=(t+Gb)/Zb;return function(e,r){if(e.is0(r))return r;if(1!==av(e,r))throw new Error("Cannot find square root");let i=n,a=e.mul(e.ONE,s),c=e.pow(r,t),l=e.pow(r,o);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,n=e.sqr(c);for(;!e.eql(n,e.ONE);)if(t++,n=e.sqr(n),t===i)throw new Error("Cannot find square root");const r=Gb<<BigInt(i-t-1),s=e.pow(a,r);i=t,a=e.sqr(s),c=e.mul(c,a),l=e.mul(l,s)}return l}}(n)),o(a,t);var n}),toBytes:e=>n?$b(e,s):Rb(e,s),fromBytes:e=>{if(e.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return n?Nb(e):jb(e)},invertBatch:e=>ov(a,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(a)}function uv(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function dv(e){const t=uv(e);return t+Math.ceil(t/2)}const hv=BigInt(0),fv=BigInt(1);function pv(e,t){const n=t.negate();return e?n:t}function gv(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function mv(e,t){gv(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:Fb(e),maxNumber:n,shiftBy:BigInt(e)}}function yv(e,t,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(e&i),c=e>>o;a>r&&(a-=s,c+=fv);const l=t*r;return{nextN:c,offset:l+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:t%2!=0,offsetF:l}}const wv=new WeakMap,bv=new WeakMap;function vv(e){return bv.get(e)||1}function xv(e,t,n,r){(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})})(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}(r,t);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=function(e){let t;for(t=0;e>vb;e>>=xb,t+=1);return t}(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=Fb(c),u=new Array(Number(l)+1).fill(o);let d=o;for(let e=Math.floor((t.BITS-1)/c)*c;e>=0;e-=c){u.fill(o);for(let t=0;t<s;t++){const i=r[t],s=Number(i>>BigInt(e)&l);u[s]=u[s].add(n[t])}let t=o;for(let e=u.length-1,n=o;e>0;e--)n=n.add(u[e]),t=t.add(n);if(d=d.add(t),0!==e)for(let e=0;e<c;e++)d=d.double()}return d}function Ev(e){return Hb(e.Fp,sv.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Hb(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...cv(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function kv(e){void 0!==e.lowS&&_b("lowS",e.lowS),void 0!==e.prehash&&_b("prehash",e.prehash)}class _v extends Error{constructor(e=""){super(e)}}const Cv={Err:_v,_tlv:{encode:(e,t)=>{const{Err:n}=Cv;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=Cb(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Cb(i.length/2|128):"";return Cb(e)+s+i+t},decode(e,t){const{Err:n}=Cv;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let s=0;if(128&i){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const o=t.subarray(r,r+e);if(o.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===o[0])throw new n("tlv.decode(long): zero leftmost byte");for(const e of o)s=s<<8|e;if(r+=e,s<128)throw new n("tlv.decode(long): not minimal encoding")}else s=i;const o=t.subarray(r,r+s);if(o.length!==s)throw new n("tlv.decode: wrong value length");return{v:o,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=Cv;if(e<Iv)throw new t("integer: negative integers are not allowed");let n=Cb(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Cv;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return jb(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Cv,i=Mb("signature",e),{v:s,l:o}=r.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=Cv,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}};function Sv(e,t){return Tb(Rb(e,t))}const Iv=BigInt(0),Av=BigInt(1),Tv=(BigInt(2),BigInt(3)),Pv=BigInt(4);function Ov(e){const t=function(e){const t=Ev(e);return Hb(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r,nByteLength:i,nBitLength:s}=t,o=n.BYTES+1,a=2*n.BYTES+1;function c(e){return ev(e,r)}function l(e){return nv(e,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:h,isWithinCurveOrder:f}=function(e){const t=function(e){const t=Ev(e);Hb(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}(e),{Fp:n}=t,r=lv(t.n,t.nBitLength),i=t.toBytes||((e,t,r)=>{const i=t.toAffine();return Lb(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),s=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){const{a:r,b:i}=t,s=n.sqr(e),o=n.mul(s,e);return n.add(n.add(o,n.mul(e,r)),i)}function a(e,t){const r=n.sqr(t),i=o(e);return n.eql(r,i)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,Tv),Pv),l=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:s}=t;if(n&&"bigint"!=typeof e){if(Eb(e)&&(e=Tb(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*r,"0")}let o;try{o="bigint"==typeof e?e:jb(Mb("private key",e,r))}catch(t){throw new Error("invalid private key, expected hex or "+r+" bytes, got "+typeof e)}return i&&(o=ev(o,s)),Db("private key",o,Av,s),o}function d(e){if(!(e instanceof p))throw new Error("ProjectivePoint expected")}const h=Vb((e,t)=>{const{px:r,py:i,pz:s}=e;if(n.eql(s,n.ONE))return{x:r,y:i};const o=e.is0();null==t&&(t=o?n.ONE:n.inv(s));const a=n.mul(r,t),c=n.mul(i,t),l=n.mul(s,t);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw new Error("invZ was invalid");return{x:a,y:c}}),f=Vb(e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw new Error("bad point: x or y not FE");if(!a(r,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(e,t,r){if(null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof p)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?p.ZERO:new p(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=ov(n,e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(p.fromAffine)}static fromHex(e){const t=p.fromAffine(s(Mb("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return p.BASE.multiply(u(e))}static msm(e,t){return xv(p,r,e,t)}_setWindowSize(e){y.setWindowSize(this,e)}assertValidity(){f(this)}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){d(e);const{px:t,py:r,pz:i}=this,{px:s,py:o,pz:a}=e,c=n.eql(n.mul(t,a),n.mul(s,i)),l=n.eql(n.mul(r,a),n.mul(o,i));return c&&l}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,Tv),{px:s,py:o,pz:a}=this;let c=n.ZERO,l=n.ZERO,u=n.ZERO,d=n.mul(s,s),h=n.mul(o,o),f=n.mul(a,a),g=n.mul(s,o);return g=n.add(g,g),u=n.mul(s,a),u=n.add(u,u),c=n.mul(e,u),l=n.mul(i,f),l=n.add(c,l),c=n.sub(h,l),l=n.add(h,l),l=n.mul(c,l),c=n.mul(g,c),u=n.mul(i,u),f=n.mul(e,f),g=n.sub(d,f),g=n.mul(e,g),g=n.add(g,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,f),d=n.mul(d,g),l=n.add(l,d),f=n.mul(o,a),f=n.add(f,f),d=n.mul(f,g),c=n.sub(c,d),u=n.mul(f,h),u=n.add(u,u),u=n.add(u,u),new p(c,l,u)}add(e){d(e);const{px:r,py:i,pz:s}=this,{px:o,py:a,pz:c}=e;let l=n.ZERO,u=n.ZERO,h=n.ZERO;const f=t.a,g=n.mul(t.b,Tv);let m=n.mul(r,o),y=n.mul(i,a),w=n.mul(s,c),b=n.add(r,i),v=n.add(o,a);b=n.mul(b,v),v=n.add(m,y),b=n.sub(b,v),v=n.add(r,s);let x=n.add(o,c);return v=n.mul(v,x),x=n.add(m,w),v=n.sub(v,x),x=n.add(i,s),l=n.add(a,c),x=n.mul(x,l),l=n.add(y,w),x=n.sub(x,l),h=n.mul(f,v),l=n.mul(g,w),h=n.add(l,h),l=n.sub(y,h),h=n.add(y,h),u=n.mul(l,h),y=n.add(m,m),y=n.add(y,m),w=n.mul(f,w),v=n.mul(g,v),y=n.add(y,w),w=n.sub(m,w),w=n.mul(f,w),v=n.add(v,w),m=n.mul(y,v),u=n.add(u,m),m=n.mul(x,v),l=n.mul(b,l),l=n.sub(l,m),m=n.mul(b,y),h=n.mul(x,h),h=n.add(h,m),new p(l,u,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(p.ZERO)}wNAF(e){return y.wNAFCached(this,e,p.normalizeZ)}multiplyUnsafe(e){const{endo:r,n:i}=t;Db("scalar",e,Iv,i);const s=p.ZERO;if(e===Iv)return s;if(this.is0()||e===Av)return this;if(!r||y.hasPrecomputes(this))return y.wNAFCachedUnsafe(this,e,p.normalizeZ);let{k1neg:o,k1:a,k2neg:c,k2:l}=r.splitScalar(e),u=s,d=s,h=this;for(;a>Iv||l>Iv;)a&Av&&(u=u.add(h)),l&Av&&(d=d.add(h)),h=h.double(),a>>=Av,l>>=Av;return o&&(u=u.negate()),c&&(d=d.negate()),d=new p(n.mul(d.px,r.beta),d.py,d.pz),u.add(d)}multiply(e){const{endo:r,n:i}=t;let s,o;if(Db("scalar",e,Av,i),r){const{k1neg:t,k1:i,k2neg:a,k2:c}=r.splitScalar(e);let{p:l,f:u}=this.wNAF(i),{p:d,f:h}=this.wNAF(c);l=y.constTimeNegate(t,l),d=y.constTimeNegate(a,d),d=new p(n.mul(d.px,r.beta),d.py,d.pz),s=l.add(d),o=u.add(h)}else{const{p:t,f:n}=this.wNAF(e);s=t,o=n}return p.normalizeZ([s,o])[0]}multiplyAndAddUnsafe(e,t,n){const r=p.BASE,i=(e,t)=>t!==Iv&&t!==Av&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,n));return s.is0()?void 0:s}toAffine(e){return h(this,e)}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Av)return!0;if(n)return n(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Av?this:n?n(p,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return _b("isCompressed",e),this.assertValidity(),i(p,this,e)}toHex(e=!0){return _b("isCompressed",e),Tb(this.toRawBytes(e))}}p.BASE=new p(t.Gx,t.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const{endo:g,nBitLength:m}=t,y=function(e,t){return{constTimeNegate:pv,hasPrecomputes:e=>1!==vv(e),unsafeLadder(t,n,r=e.ZERO){let i=t;for(;n>hv;)n&fv&&(r=r.add(i)),i=i.double(),n>>=fv;return r},precomputeWindow(e,n){const{windows:r,windowSize:i}=mv(n,t),s=[];let o=e,a=o;for(let e=0;e<r;e++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(n,r,i){let s=e.ZERO,o=e.BASE;const a=mv(n,t);for(let e=0;e<a.windows;e++){const{nextN:t,offset:n,isZero:c,isNeg:l,isNegF:u,offsetF:d}=yv(i,e,a);i=t,c?o=o.add(pv(u,r[d])):s=s.add(pv(l,r[n]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=e.ZERO){const o=mv(n,t);for(let e=0;e<o.windows&&i!==hv;e++){const{nextN:t,offset:n,isZero:a,isNeg:c}=yv(i,e,o);if(i=t,!a){const e=r[n];s=s.add(c?e.negate():e)}}return s},getPrecomputes(e,t,n){let r=wv.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&wv.set(t,n(r))),r},wNAFCached(e,t,n){const r=vv(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const i=vv(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize(e,n){gv(n,t),bv.set(e,n),wv.delete(e)}}}(p,g?Math.ceil(m/2):m);return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:u,weierstrassEquation:o,isWithinCurveOrder:function(e){return Ub(e,Av,t.n)}}}({...t,toBytes(e,t,r){const i=t.toAffine(),s=n.toBytes(i.x),o=Lb;return _b("isCompressed",r),r?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],i=e.subarray(1);if(t!==o||2!==r&&3!==r){if(t===a&&4===r)return{x:n.fromBytes(i.subarray(0,n.BYTES)),y:n.fromBytes(i.subarray(n.BYTES,2*n.BYTES))};throw new Error("invalid Point, expected length of "+o+", or uncompressed "+a+", got "+t)}{const e=jb(i);if(!Ub(e,Av,n.ORDER))throw new Error("Point is not on curve");const t=h(e);let s;try{s=n.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~r)!=((s&Av)===Av)&&(s=n.neg(s)),{x:e,y:s}}}});function p(e){return e>r>>Av}const g=(e,t,n)=>jb(e.slice(t,n));class m{constructor(e,t,n){Db("r",e,Av,r),Db("s",t,Av,r),this.r=e,this.s=t,null!=n&&(this.recovery=n),Object.freeze(this)}static fromCompact(e){const t=i;return e=Mb("compactSignature",e,2*t),new m(g(e,0,t),g(e,t,2*t))}static fromDER(e){const{r:t,s:n}=Cv.toSig(Mb("DER",e));return new m(t,n)}assertValidity(){}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){const{r,s:i,recovery:s}=this,o=v(Mb("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const a=2===s||3===s?r+t.n:r;if(a>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=1&s?"03":"02",h=u.fromHex(d+Sv(a,n.BYTES)),f=l(a),p=c(-o*f),g=c(i*f),m=u.BASE.multiplyAndAddUnsafe(h,p,g);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Ob(this.toDERHex())}toDERHex(){return Cv.hexFromSig(this)}toCompactRawBytes(){return Ob(this.toCompactHex())}toCompactHex(){const e=i;return Sv(this.r,e)+Sv(this.s,e)}}const y={isValidPrivateKey(e){try{return d(e),!0}catch(e){return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const e=dv(t.n);return function(e,t,n=!1){const r=e.length,i=uv(t),s=dv(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=ev(n?Nb(e):jb(e),t-Gb)+Gb;return n?$b(o,i):Rb(o,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=u.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function w(e){if("bigint"==typeof e)return!1;if(e instanceof u)return!0;const r=Mb("key",e).length,s=n.BYTES,o=s+1,a=2*s+1;return t.allowedPrivateKeyLengths||i===o?void 0:r===o||r===a}const b=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=jb(e),n=8*e.length-s;return n>0?t>>BigInt(n):t},v=t.bits2int_modN||function(e){return c(b(e))},x=Fb(s);function E(e){return Db("num < 2^"+s,e,Iv,x),Rb(e,i)}const k={lowS:t.lowS,prehash:!1},_={lowS:t.lowS,prehash:!1};return u.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return u.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(!0===w(e))throw new Error("first arg must be private key");if(!1===w(t))throw new Error("second arg must be public key");return u.fromHex(t).multiply(d(e)).toRawBytes(n)},sign:function(e,r,i=k){const{seed:s,k2sig:o}=function(e,r,i=k){if(["recovered","canonical"].some(e=>e in i))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:o}=t;let{lowS:a,prehash:h,extraEntropy:g}=i;null==a&&(a=!0),e=Mb("msgHash",e),kv(i),h&&(e=Mb("prehashed msgHash",s(e)));const y=v(e),w=d(r),x=[E(w),E(y)];if(null!=g&&!1!==g){const e=!0===g?o(n.BYTES):g;x.push(Mb("extraEntropy",e))}const _=Lb(...x),C=y;return{seed:_,k2sig:function(e){const t=b(e);if(!f(t))return;const n=l(t),r=u.BASE.multiply(t).toAffine(),i=c(r.x);if(i===Iv)return;const s=c(n*c(C+i*w));if(s===Iv)return;let o=(r.x===i?0:2)|Number(r.y&Av),d=s;return a&&p(s)&&(d=function(e){return p(e)?c(-e):e}(s),o^=1),new m(i,d,o)}}}(e,r,i),a=t,h=function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=zb(e),i=zb(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...e)=>n(i,r,...e),c=(e=zb(0))=>{i=a(Wb([0]),e),r=a(),0!==e.length&&(i=a(Wb([1]),e),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return Lb(...n)};return(e,t)=>{let n;for(o(),c(e);!(n=t(l()));)c();return o(),n}}(a.hash.outputLen,a.nByteLength,a.hmac);return h(s,o)},verify:function(e,n,r,i=_){const s=e;n=Mb("msgHash",n),r=Mb("publicKey",r);const{lowS:o,prehash:a,format:d}=i;if(kv(i),"strict"in i)throw new Error("options.strict was renamed to lowS");if(void 0!==d&&"compact"!==d&&"der"!==d)throw new Error("format must be compact or der");const h="string"==typeof s||Eb(s),f=!h&&!d&&"object"==typeof s&&null!==s&&"bigint"==typeof s.r&&"bigint"==typeof s.s;if(!h&&!f)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let p,g;try{if(f&&(p=new m(s.r,s.s)),h){try{"compact"!==d&&(p=m.fromDER(s))}catch(e){if(!(e instanceof Cv.Err))throw e}p||"der"===d||(p=m.fromCompact(s))}g=u.fromHex(r)}catch(e){return!1}if(!p)return!1;if(o&&p.hasHighS())return!1;a&&(n=t.hash(n));const{r:y,s:w}=p,b=v(n),x=l(w),E=c(b*x),k=c(y*x),C=u.BASE.multiplyAndAddUnsafe(g,E,k)?.toAffine();return!!C&&c(C.x)===y},ProjectivePoint:u,Signature:m,utils:y}}function jv(e){return{hash:e,hmac:(t,...n)=>(0,wb.w)(e,t,(0,bb.Id)(...n)),randomBytes:bb.po}}const Nv=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Rv=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),$v=BigInt(0),Mv=BigInt(1),Lv=BigInt(2),Bv=(e,t)=>(e+t/Lv)/t;const Uv=lv(Nv,void 0,void 0,{sqrt:function(e){const t=Nv,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=tv(u,n,t)*u%t,h=tv(d,n,t)*u%t,f=tv(h,Lv,t)*l%t,p=tv(f,i,t)*f%t,g=tv(p,s,t)*p%t,m=tv(g,a,t)*g%t,y=tv(m,c,t)*m%t,w=tv(y,a,t)*g%t,b=tv(w,n,t)*u%t,v=tv(b,o,t)*p%t,x=tv(v,r,t)*l%t,E=tv(x,Lv,t);if(!Uv.eql(Uv.sqr(E),e))throw new Error("Cannot find square root");return E}}),Dv=function(e,t){const n=t=>Ov({...e,...jv(t)});return{...n(t),create:n}}({a:$v,b:BigInt(7),Fp:Uv,n:Rv,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Rv,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Mv*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=Bv(s*e,t),c=Bv(-r*e,t);let l=ev(e-a*n-c*i,t),u=ev(-a*r-c*s,t);const d=l>o,h=u>o;if(d&&(l=t-l),h&&(u=t-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},yb.sc);function Fv(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}const zv=new TextEncoder;function Wv(e){return e instanceof Uint8Array?e:"string"==typeof e?function(e,t={}){const{size:n}=t;let r=e;n&&(Jw(e,n),r=ib(e,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let e=0,t=0;e<s;e++){const n=Fv(i.charCodeAt(t++)),r=Fv(i.charCodeAt(t++));if(void 0===n||void 0===r)throw new Zw(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);o[e]=16*n+r}return o}(e):function(e){return e instanceof Uint8Array?e:new Uint8Array(e)}(e)}function qv(e){return e.length}class Hv extends Zw{constructor(e){super(`Value \`${"object"==typeof e?Xw(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class Vv extends Zw{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class Kv extends Zw{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}class Gv extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}}const Zv={checksum:new Gv(8192)}.checksum;var Yv=o(7238);function Jv(e,t={}){const{as:n=("string"==typeof e?"Hex":"Bytes")}=t,r=(0,Yv.lY)(Wv(e));return"Bytes"===n?r:nb(r)}function Qv(e,t={}){const{compressed:n}=t,{prefix:r,x:i,y:s}=e;if(!1===n||"bigint"==typeof i&&"bigint"==typeof s){if(4!==r)throw new nx({prefix:r,cause:new ix})}else{if(!0!==n&&("bigint"!=typeof i||void 0!==s))throw new tx({publicKey:e});if(3!==r&&2!==r)throw new nx({prefix:r,cause:new rx})}}function Xv(e){const t=(()=>{if(function(e,t={}){const{strict:n=!1}=t;try{return function(e,t={}){const{strict:n=!1}=t;if(!e)throw new cb(e);if("string"!=typeof e)throw new cb(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new lb(e);if(!e.startsWith("0x"))throw new lb(e)}(e,{strict:n}),!0}catch{return!1}}(e))return ex(e);if(function(e){try{return function(e){if(!(e instanceof Uint8Array)){if(!e)throw new Hv(e);if("object"!=typeof e)throw new Hv(e);if(!("BYTES_PER_ELEMENT"in e))throw new Hv(e);if(1!==e.BYTES_PER_ELEMENT||"Uint8Array"!==e.constructor.name)throw new Hv(e)}}(e),!0}catch{return!1}}(e))return function(e){return ex(nb(e))}(e);const{prefix:t,x:n,y:r}=e;return"bigint"==typeof n&&"bigint"==typeof r?{prefix:t??4,x:n,y:r}:{prefix:t,x:n}})();return Qv(t),t}function ex(e){if(132!==e.length&&130!==e.length&&68!==e.length)throw new sx({publicKey:e});return 130===e.length?{prefix:4,x:BigInt(sb(e,0,32)),y:BigInt(sb(e,32,64))}:132===e.length?{prefix:Number(sb(e,0,1)),x:BigInt(sb(e,1,33)),y:BigInt(sb(e,33,65))}:{prefix:Number(sb(e,0,1)),x:BigInt(sb(e,1,33))}}class tx extends Zw{constructor({publicKey:e}){super(`Value \`${Xw(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class nx extends Zw{constructor({prefix:e,cause:t}){super(`Prefix "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class rx extends Zw{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class ix extends Zw{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class sx extends Zw{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${ob(tb(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}const ox=/^0x[a-fA-F0-9]{40}$/;function ax(e,t={}){const{strict:n=!0}=t;if(!ox.test(e))throw new ux({address:e,cause:new dx});if(n){if(e.toLowerCase()===e)return;if(cx(e)!==e)throw new ux({address:e,cause:new hx})}}function cx(e){if(Zv.has(e))return Zv.get(e);ax(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Jv(function(e,t={}){const{size:n}=t,r=zv.encode(e);return"number"==typeof n?(function(e,t){if(qv(e)>t)throw new Vv({givenSize:qv(e),maxSize:t})}(r,n),function(e,t){return function(e,t={}){const{dir:n,size:r=32}=t;if(0===r)return e;if(e.length>r)throw new Kv({size:e.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let t=0;t<r;t++){const s="right"===n;i[s?t:r-t-1]=e[s?t:e.length-t-1]}return i}(e,{dir:"right",size:t})}(r,n)):r}(t),{as:"Bytes"}),r=t.split("");for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&r[e]&&(r[e]=r[e].toUpperCase()),(15&n[e>>1])>=8&&r[e+1]&&(r[e+1]=r[e+1].toUpperCase());const i=`0x${r.join("")}`;return Zv.set(e,i),i}function lx(e,t={}){return function(e,t={}){const{checksum:n=!1}=t;return ax(e),n?cx(e):e}(`0x${Jv(`0x${function(e,t={}){Qv(e);const{prefix:n,x:r,y:i}=e,{includePrefix:s=!0}=t,o=function(...e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}(s?rb(n,{size:1}):"0x",rb(r,{size:32}),"bigint"==typeof i?rb(i,{size:32}):"0x");return o}(e).slice(4)}`).substring(26)}`,t)}class ux extends Zw{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class dx extends Zw{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class hx extends Zw{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}var fx=o(9774),px=o(8354),gx=o(9003),mx=o(8236),yx=o(7017),wx=o(3228),bx=o(2493),vx=o(9485),xx=o.n(vx),Ex=o(3554);const kx="custom_context";var _x=Object.defineProperty,Cx=(e,t,n)=>((e,t,n)=>t in e?_x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Sx{constructor(e){Cx(this,"nodeValue"),Cx(this,"sizeInBytes"),Cx(this,"next"),this.nodeValue=e,this.sizeInBytes=(new TextEncoder).encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class Ix{constructor(e){Cx(this,"lengthInNodes"),Cx(this,"sizeInBytes"),Cx(this,"head"),Cx(this,"tail"),Cx(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new Sx(e);if(t.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}}var Ax=Object.defineProperty,Tx=(e,t,n)=>((e,t,n)=>t in e?Ax(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Px{constructor(e,t=1024e3){Tx(this,"logs"),Tx(this,"level"),Tx(this,"levelValue"),Tx(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=e??"error",this.levelValue=vx.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new Ix(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===vx.levels.values.error?console.error(e):t===vx.levels.values.warn?console.warn(e):t===vx.levels.values.debug?console.debug(e):t===vx.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append((0,Ex.h)({timestamp:(new Date).toISOString(),log:e}));const t="string"==typeof e?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new Ix(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push((0,Ex.h)({extraMetadata:e})),new Blob(t,{type:"application/json"})}}var Ox=Object.defineProperty;class jx{constructor(e,t=1024e3){((e,t,n)=>{((e,t,n)=>{t in e?Ox(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"baseChunkLogger"),this.baseChunkLogger=new Px(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=t,n.download=`walletconnect-logs-${(new Date).toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)}}var Nx=Object.defineProperty;class Rx{constructor(e,t=1024e3){((e,t,n)=>{((e,t,n)=>{t in e?Nx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"baseChunkLogger"),this.baseChunkLogger=new Px(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var $x=Object.defineProperty,Mx=Object.defineProperties,Lx=Object.getOwnPropertyDescriptors,Bx=Object.getOwnPropertySymbols,Ux=Object.prototype.hasOwnProperty,Dx=Object.prototype.propertyIsEnumerable,Fx=(e,t,n)=>t in e?$x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zx=(e,t)=>{for(var n in t||(t={}))Ux.call(t,n)&&Fx(e,n,t[n]);if(Bx)for(var n of Bx(t))Dx.call(t,n)&&Fx(e,n,t[n]);return e},Wx=(e,t)=>Mx(e,Lx(t));function qx(e,t=kx){return e[t]||""}function Hx(e,t,n=kx){const r=function(e,t,n=kx){const r=qx(e,n);return r.trim()?`${r}/${t}`:t}(e,t,n);return function(e,t,n=kx){return e[n]=t,e}(e.child({context:r}),r,n)}function Vx(e){return typeof e.loggerOverride<"u"&&"string"!=typeof e.loggerOverride?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?function(e){var t,n;const r=new jx(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:xx()(Wx(zx({},e.opts),{level:"trace",browser:Wx(zx({},null==(n=e.opts)?void 0:n.browser),{write:e=>r.write(e)})})),chunkLoggerController:r}}(e):function(e){var t;const n=new Rx(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:xx()(Wx(zx({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}(e)}var Kx=o(5606),Gx=o(8287).Buffer;function Zx(e){const[t,n]=e.split(":");return{namespace:t,reference:n}}function Yx(e,t=[]){const n=[];return Object.keys(e).forEach(r=>{if(t.length&&!t.includes(r))return;const i=e[r];n.push(...i.accounts)}),n}function Jx(e,t){return e.includes(":")?[e]:t.chains||[]}var Qx=Object.defineProperty,Xx=Object.defineProperties,eE=Object.getOwnPropertyDescriptors,tE=Object.getOwnPropertySymbols,nE=Object.prototype.hasOwnProperty,rE=Object.prototype.propertyIsEnumerable,iE=(e,t,n)=>t in e?Qx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sE=(e,t)=>{for(var n in t||(t={}))nE.call(t,n)&&iE(e,n,t[n]);if(tE)for(var n of tE(t))rE.call(t,n)&&iE(e,n,t[n]);return e},oE=(e,t,n)=>iE(e,"symbol"!=typeof t?t+"":t,n);const aE="react-native",cE="browser",lE="js";function uE(){return typeof Kx<"u"&&typeof Kx.versions<"u"&&typeof Kx.versions.node<"u"}function dE(){return!(0,Kw.getDocument)()&&!!(0,Kw.getNavigator)()&&"ReactNative"===navigator.product}function hE(){return!uE()&&!!(0,Kw.getNavigator)()&&!!(0,Kw.getDocument)()}function fE(){return dE()?aE:uE()?"node":hE()?cE:"unknown"}function pE(){var e;try{return dE()&&typeof global<"u"&&typeof(null==global?void 0:global.Application)<"u"?null==(e=global.Application)?void 0:e.applicationId:void 0}catch{return}}function gE(){return(0,Gw.g)()||{name:"",description:"",url:"",icons:[""]}}function mE(e,t,n){const r=function(){if(fE()===aE&&typeof global<"u"&&typeof(null==global?void 0:global.Platform)<"u"){const{OS:e,Version:t}=global.Platform;return[e,t].join("-")}const e=(0,Hw.o0)();if(null===e)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),i=function(){var e;const t=fE();return t===cE?[t,(null==(e=(0,Kw.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),[lE,n].join("-"),r,i].join("/")}function yE(e,t){return e.filter(e=>t.includes(e)).length===e.length}function wE(e){return Object.fromEntries(e.entries())}function bE(e){return new Map(Object.entries(e))}function vE(e=Vw.FIVE_MINUTES,t){const n=(0,Vw.toMiliseconds)(e||Vw.FIVE_MINUTES);let r,i,s,o;return{resolve:e=>{s&&r&&(clearTimeout(s),r(e),o=Promise.resolve(e))},reject:e=>{s&&i&&(clearTimeout(s),i(e))},done:()=>new Promise((e,a)=>{if(o)return e(o);s=setTimeout(()=>{const e=new Error(t);o=Promise.reject(e),a(e)},n),r=e,i=a})}}function xE(e,t,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),t);try{r(await e)}catch(e){i(e)}clearTimeout(s)})}function EE(e,t){if("string"==typeof t&&t.startsWith(`${e}:`))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===e.toLowerCase()){if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function kE(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof n)r.topic=n;else{if("id"!==t||!Number.isInteger(Number(n)))throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${n}`);r.id=Number(n)}return r}function _E(e,t){return(0,Vw.fromMiliseconds)((t||Date.now())+(0,Vw.toMiliseconds)(e))}function CE(e){return Date.now()>=(0,Vw.toMiliseconds)(e)}function SE(e,t){return`${e}${t?`:${t}`:""}`}function IE(e=[],t=[]){return[...new Set([...e,...t])]}function AE(e,t){if(!e.includes(t))return null;const n=e.split(/([&,?,=])/),r=n.indexOf(t);return n[r+2]}function TE(){return typeof crypto<"u"&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function PE(){return typeof Kx<"u"&&"true"===Kx.env.IS_VITEST}function OE(e){return Gx.from(e,"base64").toString("utf-8")}class jE{constructor({limit:e}){oE(this,"limit"),oE(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const e=this.set.values().next().value;e&&this.set.delete(e)}this.set.add(e)}}has(e){return this.set.has(e)}}const NE=BigInt(2**32-1),RE=BigInt(32);function $E(e,t=!1){return t?{h:Number(e&NE),l:Number(e>>RE&NE)}:{h:0|Number(e>>RE&NE),l:0|Number(e&NE)}}function ME(e,t=!1){const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:n,l:o}=$E(e[s],t);[r[s],i[s]]=[n,o]}return[r,i]}const LE=(e,t,n)=>e>>>n,BE=(e,t,n)=>e<<32-n|t>>>n,UE=(e,t,n)=>e>>>n|t<<32-n,DE=(e,t,n)=>e<<32-n|t>>>n,FE=(e,t,n)=>e<<64-n|t>>>n-32,zE=(e,t,n)=>e>>>n-32|t<<64-n,WE=(e,t)=>t,qE=(e,t)=>e;function HE(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}const VE=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),KE=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,GE=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),ZE=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,YE=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),JE=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,QE="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function XE(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function ek(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function tk(e,...t){if(!XE(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function nk(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");ek(e.outputLen),ek(e.blockLen)}function rk(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function ik(e,t){tk(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function sk(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function ok(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function ak(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ck(e,t){return e<<32-t|e>>>t}const lk=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function uk(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const dk=lk?e=>e:e=>uk(e),hk=lk?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=uk(e[t]);return e},fk="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,pk=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function gk(e){if(tk(e),fk)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=pk[e[n]];return t}function mk(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function yk(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(fk)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=mk(e.charCodeAt(i)),s=mk(e.charCodeAt(i+1));if(void 0===n||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+s}return r}function wk(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}function bk(e){return"string"==typeof e&&(e=wk(e)),tk(e),e}function vk(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];tk(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}class xk{}function Ek(e){const t=t=>e().update(bk(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function kk(e=32){if(QE&&"function"==typeof QE.getRandomValues)return QE.getRandomValues(new Uint8Array(e));if(QE&&"function"==typeof QE.randomBytes)return Uint8Array.from(QE.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const _k=BigInt(0),Ck=BigInt(1),Sk=BigInt(2),Ik=BigInt(7),Ak=BigInt(256),Tk=BigInt(113),Pk=[],Ok=[],jk=[];for(let e=0,t=Ck,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Pk.push(2*(5*r+n)),Ok.push((e+1)*(e+2)/2%64);let i=_k;for(let e=0;e<7;e++)t=(t<<Ck^(t>>Ik)*Tk)%Ak,t&Sk&&(i^=Ck<<(Ck<<BigInt(e))-Ck);jk.push(i)}const Nk=ME(jk,!0),Rk=Nk[0],$k=Nk[1],Mk=(e,t,n)=>n>32?((e,t,n)=>t<<n-32|e>>>64-n)(e,t,n):((e,t,n)=>e<<n|t>>>32-n)(e,t,n),Lk=(e,t,n)=>n>32?((e,t,n)=>e<<n-32|t>>>64-n)(e,t,n):((e,t,n)=>t<<n|e>>>32-n)(e,t,n);class Bk extends xk{constructor(e,t,n,r=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,ek(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=sk(this.state)}clone(){return this._cloneInto()}keccak(){hk(this.state32),function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,i=(t+2)%10,s=n[i],o=n[i+1],a=Mk(s,o,1)^n[r],c=Lk(s,o,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=a,e[t+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=Ok[n],s=Mk(t,i,r),o=Lk(t,i,r),a=Pk[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=Rk[r],e[1]^=$k[r]}ok(n)}(this.state32,this.rounds),hk(this.state32),this.posOut=0,this.pos=0}update(e){rk(this),tk(e=bk(e));const{blockLen:t,state:n}=this,r=e.length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,!!(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){rk(this,!1),tk(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ek(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(ik(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ok(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new Bk(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Uk=Ek(()=>new Bk(136,1,32));function Dk(e,t,n){return e&t^~e&n}function Fk(e,t,n){return e&t^e&n^t&n}class zk extends xk{constructor(e,t,n,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.buffer=new Uint8Array(e),this.view=ak(this.buffer)}update(e){rk(this),tk(e=bk(e));const{view:t,buffer:n,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){const t=ak(e);for(;r<=i-s;s+=r)this.process(t,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){rk(this),ik(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,ok(this.buffer.subarray(s)),this.padOffset>r-s&&(this.process(n,0),s=0);for(let e=s;e<r;e++)t[e]=0;(function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=ak(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)o.setUint32(4*e,l[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.destroyed=s,e.finished=i,e.length=r,e.pos=o,r%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const Wk=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),qk=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Hk=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Vk=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Kk=new Uint32Array(64);class Gk extends zk{constructor(e=32){super(64,e,8,!1),this.A=0|Wk[0],this.B=0|Wk[1],this.C=0|Wk[2],this.D=0|Wk[3],this.E=0|Wk[4],this.F=0|Wk[5],this.G=0|Wk[6],this.H=0|Wk[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:s,G:o,H:a}=this;return[e,t,n,r,i,s,o,a]}set(e,t,n,r,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)Kk[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=Kk[e-15],n=Kk[e-2],r=ck(t,7)^ck(t,18)^t>>>3,i=ck(n,17)^ck(n,19)^n>>>10;Kk[e]=i+Kk[e-7]+r+Kk[e-16]|0}let{A:n,B:r,C:i,D:s,E:o,F:a,G:c,H:l}=this;for(let e=0;e<64;e++){const t=l+(ck(o,6)^ck(o,11)^ck(o,25))+Dk(o,a,c)+Vk[e]+Kk[e]|0,u=(ck(n,2)^ck(n,13)^ck(n,22))+Fk(n,r,i)|0;l=c,c=a,a=o,o=s+t|0,s=i,i=r,r=n,n=t+u|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,s,o,a,c,l)}roundClean(){ok(Kk)}destroy(){this.set(0,0,0,0,0,0,0,0),ok(this.buffer)}}const Zk=ME(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Yk=Zk[0],Jk=Zk[1],Qk=new Uint32Array(80),Xk=new Uint32Array(80);class e_ extends zk{constructor(e=64){super(128,e,16,!1),this.Ah=0|Hk[0],this.Al=0|Hk[1],this.Bh=0|Hk[2],this.Bl=0|Hk[3],this.Ch=0|Hk[4],this.Cl=0|Hk[5],this.Dh=0|Hk[6],this.Dl=0|Hk[7],this.Eh=0|Hk[8],this.El=0|Hk[9],this.Fh=0|Hk[10],this.Fl=0|Hk[11],this.Gh=0|Hk[12],this.Gl=0|Hk[13],this.Hh=0|Hk[14],this.Hl=0|Hk[15]}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:u,Fl:d,Gh:h,Gl:f,Hh:p,Hl:g}=this;return[e,t,n,r,i,s,o,a,c,l,u,d,h,f,p,g]}set(e,t,n,r,i,s,o,a,c,l,u,d,h,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let n=0;n<16;n++,t+=4)Qk[n]=e.getUint32(t),Xk[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|Qk[e-15],n=0|Xk[e-15],r=UE(t,n,1)^UE(t,n,8)^LE(t,0,7),i=DE(t,n,1)^DE(t,n,8)^BE(t,n,7),s=0|Qk[e-2],o=0|Xk[e-2],a=UE(s,o,19)^FE(s,o,61)^LE(s,0,6),c=DE(s,o,19)^zE(s,o,61)^BE(s,o,6),l=GE(i,c,Xk[e-7],Xk[e-16]),u=ZE(l,r,a,Qk[e-7],Qk[e-16]);Qk[e]=0|u,Xk[e]=0|l}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:u,El:d,Fh:h,Fl:f,Gh:p,Gl:g,Hh:m,Hl:y}=this;for(let e=0;e<80;e++){const t=UE(u,d,14)^UE(u,d,18)^FE(u,d,41),w=DE(u,d,14)^DE(u,d,18)^zE(u,d,41),b=u&h^~u&p,v=YE(y,w,d&f^~d&g,Jk[e],Xk[e]),x=JE(v,m,t,b,Yk[e],Qk[e]),E=0|v,k=UE(n,r,28)^FE(n,r,34)^FE(n,r,39),_=DE(n,r,28)^zE(n,r,34)^zE(n,r,39),C=n&i^n&o^i&o,S=r&s^r&a^s&a;m=0|p,y=0|g,p=0|h,g=0|f,h=0|u,f=0|d,({h:u,l:d}=HE(0|c,0|l,0|x,0|E)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const I=VE(E,_,S);n=KE(I,x,k,C),r=0|I}({h:n,l:r}=HE(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=HE(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=HE(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l}=HE(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:d}=HE(0|this.Eh,0|this.El,0|u,0|d)),({h,l:f}=HE(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:g}=HE(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:y}=HE(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(n,r,i,s,o,a,c,l,u,d,h,f,p,g,m,y)}roundClean(){ok(Qk,Xk)}destroy(){ok(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class t_ extends e_{constructor(){super(48),this.Ah=0|qk[0],this.Al=0|qk[1],this.Bh=0|qk[2],this.Bl=0|qk[3],this.Ch=0|qk[4],this.Cl=0|qk[5],this.Dh=0|qk[6],this.Dl=0|qk[7],this.Eh=0|qk[8],this.El=0|qk[9],this.Fh=0|qk[10],this.Fl=0|qk[11],this.Gh=0|qk[12],this.Gl=0|qk[13],this.Hh=0|qk[14],this.Hl=0|qk[15]}}const n_=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class r_ extends e_{constructor(){super(32),this.Ah=0|n_[0],this.Al=0|n_[1],this.Bh=0|n_[2],this.Bl=0|n_[3],this.Ch=0|n_[4],this.Cl=0|n_[5],this.Dh=0|n_[6],this.Dl=0|n_[7],this.Eh=0|n_[8],this.El=0|n_[9],this.Fh=0|n_[10],this.Fl=0|n_[11],this.Gh=0|n_[12],this.Gl=0|n_[13],this.Hh=0|n_[14],this.Hl=0|n_[15]}}const i_=Ek(()=>new Gk),s_=Ek(()=>new e_),o_=Ek(()=>new t_),a_=Ek(()=>new r_),c_=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),l_=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),u_=new Uint32Array(32);function d_(e,t,n,r,i,s){const o=i[s],a=i[s+1];let c=u_[2*e],l=u_[2*e+1],u=u_[2*t],d=u_[2*t+1],h=u_[2*n],f=u_[2*n+1],p=u_[2*r],g=u_[2*r+1],m=VE(c,u,o);l=KE(m,l,d,a),c=0|m,({Dh:g,Dl:p}={Dh:g^l,Dl:p^c}),({Dh:g,Dl:p}={Dh:WE(0,p),Dl:qE(g)}),({h:f,l:h}=HE(f,h,g,p)),({Bh:d,Bl:u}={Bh:d^f,Bl:u^h}),({Bh:d,Bl:u}={Bh:UE(d,u,24),Bl:DE(d,u,24)}),u_[2*e]=c,u_[2*e+1]=l,u_[2*t]=u,u_[2*t+1]=d,u_[2*n]=h,u_[2*n+1]=f,u_[2*r]=p,u_[2*r+1]=g}function h_(e,t,n,r,i,s){const o=i[s],a=i[s+1];let c=u_[2*e],l=u_[2*e+1],u=u_[2*t],d=u_[2*t+1],h=u_[2*n],f=u_[2*n+1],p=u_[2*r],g=u_[2*r+1],m=VE(c,u,o);l=KE(m,l,d,a),c=0|m,({Dh:g,Dl:p}={Dh:g^l,Dl:p^c}),({Dh:g,Dl:p}={Dh:UE(g,p,16),Dl:DE(g,p,16)}),({h:f,l:h}=HE(f,h,g,p)),({Bh:d,Bl:u}={Bh:d^f,Bl:u^h}),({Bh:d,Bl:u}={Bh:FE(d,u,63),Bl:zE(d,u,63)}),u_[2*e]=c,u_[2*e+1]=l,u_[2*t]=u,u_[2*t+1]=d,u_[2*n]=h,u_[2*n+1]=f,u_[2*r]=p,u_[2*r+1]=g}class f_ extends xk{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,ek(e),ek(t),this.blockLen=e,this.outputLen=t,this.buffer=new Uint8Array(e),this.buffer32=sk(this.buffer)}update(e){rk(this),tk(e=bk(e));const{blockLen:t,buffer:n,buffer32:r}=this,i=e.length,s=e.byteOffset,o=e.buffer;for(let a=0;a<i;){this.pos===t&&(hk(r),this.compress(r,0,!1),hk(r),this.pos=0);const c=Math.min(t-this.pos,i-a),l=s+a;if(c===t&&!(l%4)&&a+c<i){const e=new Uint32Array(o,l,Math.floor((i-a)/4));hk(e);for(let n=0;a+t<i;n+=r.length,a+=t)this.length+=t,this.compress(e,n,!1);hk(e);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,this.length+=c,a+=c}return this}digestInto(e){rk(this),ik(e,this);const{pos:t,buffer32:n}=this;this.finished=!0,ok(this.buffer.subarray(t)),hk(n),this.compress(n,0,!0),hk(n);const r=sk(e);this.get().forEach((e,t)=>r[t]=dk(e))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){const{buffer:t,length:n,finished:r,destroyed:i,outputLen:s,pos:o}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.buffer.set(t),e.destroyed=i,e.finished=r,e.length=n,e.pos=o,e.outputLen=s,e}clone(){return this._cloneInto()}}class p_ extends f_{constructor(e={}){const t=void 0===e.dkLen?64:e.dkLen;super(128,t),this.v0l=0|l_[0],this.v0h=0|l_[1],this.v1l=0|l_[2],this.v1h=0|l_[3],this.v2l=0|l_[4],this.v2h=0|l_[5],this.v3l=0|l_[6],this.v3h=0|l_[7],this.v4l=0|l_[8],this.v4h=0|l_[9],this.v5l=0|l_[10],this.v5h=0|l_[11],this.v6l=0|l_[12],this.v6h=0|l_[13],this.v7l=0|l_[14],this.v7h=0|l_[15],function(e,t={},n,r,i){if(ek(n),e<0||e>n)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=t;if(void 0!==s&&(s.length<1||s.length>n))throw new Error("key length must be undefined or 1.."+n);if(void 0!==o&&o.length!==r)throw new Error("salt must be undefined or "+r);if(void 0!==a&&a.length!==i)throw new Error("personalization must be undefined or "+i)}(t,e,64,16,16);let{key:n,personalization:r,salt:i}=e,s=0;if(void 0!==n&&(n=bk(n),s=n.length),this.v0l^=this.outputLen|s<<8|65536|1<<24,void 0!==i){i=bk(i);const e=sk(i);this.v4l^=dk(e[0]),this.v4h^=dk(e[1]),this.v5l^=dk(e[2]),this.v5h^=dk(e[3])}if(void 0!==r){r=bk(r);const e=sk(r);this.v6l^=dk(e[0]),this.v6h^=dk(e[1]),this.v7l^=dk(e[2]),this.v7h^=dk(e[3])}if(void 0!==n){const e=new Uint8Array(this.blockLen);e.set(n),this.update(e)}}get(){let{v0l:e,v0h:t,v1l:n,v1h:r,v2l:i,v2h:s,v3l:o,v3h:a,v4l:c,v4h:l,v5l:u,v5h:d,v6l:h,v6h:f,v7l:p,v7h:g}=this;return[e,t,n,r,i,s,o,a,c,l,u,d,h,f,p,g]}set(e,t,n,r,i,s,o,a,c,l,u,d,h,f,p,g){this.v0l=0|e,this.v0h=0|t,this.v1l=0|n,this.v1h=0|r,this.v2l=0|i,this.v2h=0|s,this.v3l=0|o,this.v3h=0|a,this.v4l=0|c,this.v4h=0|l,this.v5l=0|u,this.v5h=0|d,this.v6l=0|h,this.v6h=0|f,this.v7l=0|p,this.v7h=0|g}compress(e,t,n){this.get().forEach((e,t)=>u_[t]=e),u_.set(l_,16);let{h:r,l:i}=$E(BigInt(this.length));u_[24]=l_[8]^i,u_[25]=l_[9]^r,n&&(u_[28]=~u_[28],u_[29]=~u_[29]);let s=0;const o=c_;for(let n=0;n<12;n++)d_(0,4,8,12,e,t+2*o[s++]),h_(0,4,8,12,e,t+2*o[s++]),d_(1,5,9,13,e,t+2*o[s++]),h_(1,5,9,13,e,t+2*o[s++]),d_(2,6,10,14,e,t+2*o[s++]),h_(2,6,10,14,e,t+2*o[s++]),d_(3,7,11,15,e,t+2*o[s++]),h_(3,7,11,15,e,t+2*o[s++]),d_(0,5,10,15,e,t+2*o[s++]),h_(0,5,10,15,e,t+2*o[s++]),d_(1,6,11,12,e,t+2*o[s++]),h_(1,6,11,12,e,t+2*o[s++]),d_(2,7,8,13,e,t+2*o[s++]),h_(2,7,8,13,e,t+2*o[s++]),d_(3,4,9,14,e,t+2*o[s++]),h_(3,4,9,14,e,t+2*o[s++]);this.v0l^=u_[0]^u_[16],this.v0h^=u_[1]^u_[17],this.v1l^=u_[2]^u_[18],this.v1h^=u_[3]^u_[19],this.v2l^=u_[4]^u_[20],this.v2h^=u_[5]^u_[21],this.v3l^=u_[6]^u_[22],this.v3h^=u_[7]^u_[23],this.v4l^=u_[8]^u_[24],this.v4h^=u_[9]^u_[25],this.v5l^=u_[10]^u_[26],this.v5h^=u_[11]^u_[27],this.v6l^=u_[12]^u_[28],this.v6h^=u_[13]^u_[29],this.v7l^=u_[14]^u_[30],this.v7h^=u_[15]^u_[31],ok(u_)}destroy(){this.destroyed=!0,ok(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const g_=function(e){const t=(t,n)=>e(n).update(bk(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}(e=>new p_(e));function m_(e){const t=`Ethereum Signed Message:\n${e.length}`,n=(new TextEncoder).encode(t+e);return"0x"+Gx.from(Uk(n)).toString("hex")}async function y_(e,t,n,r,i,s){switch(n.t){case"eip191":return await function(e,t,n){const r=fb(n);return(i={payload:m_(t),signature:r},lx(function(e){const{payload:t,signature:n}=e,{r,s:i,yParity:s}=n;return Xv(new Dv.Signature(BigInt(r),BigInt(i)).addRecoveryBit(s).recoverPublicKey(tb(t).substring(2)))}(i))).toLowerCase()===e.toLowerCase();var i}(e,t,n.s);case"eip1271":return await async function(e,t,n,r,i,s){const o=Zx(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const o="0x1626ba7e",a="0000000000000000000000000000000000000000000000000000000000000040",c=n.substring(2),l=(c.length/2).toString(16).padStart(64,"0"),u=o+(t.startsWith("0x")?t:m_(t)).substring(2)+a+l+c,d=await fetch(`${s||"https://rpc.walletconnect.org/v1"}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Date.now()+Math.floor(1e3*Math.random()),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:u},"latest"]})}),{result:h}=await d.json();return!!h&&h.slice(0,o.length).toLowerCase()===o.toLowerCase()}catch(e){return console.error("isValidEip1271Signature: ",e),!1}}(e,t,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}function w_(e){const t=new Uint8Array(Gx.from(e,"base64")),n=Array.from("TransactionData::").map(e=>e.charCodeAt(0)),r=new Uint8Array(n.length+t.length);r.set(n),r.set(t,n.length);const i=g_(r,{dkLen:32});return fx.A.encode(i)}function b_(e){const t=new Uint8Array(i_(function(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e))return new Uint8Array(e);if("object"==typeof e&&null!=e&&e.data)return new Uint8Array(Object.values(e.data));if("object"==typeof e&&e)return new Uint8Array(Object.values(e));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}(e)));return fx.A.encode(t)}function v_(e){const t=Gx.from(e,"base64"),n=(0,px.D)(t).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=(0,gx.l)(n),i=Gx.from("TX"),s=Gx.concat([i,Gx.from(r)]),o=a_(s);return zw.RG.encode(o).replace(/=+$/,"")}function x_(e){const t=[];let n=BigInt(e);for(;n>=BigInt(128);)t.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return t.push(Number(n)),Gx.from(t)}function E_(e){const t=Gx.from(e.signed.bodyBytes,"base64"),n=Gx.from(e.signed.authInfoBytes,"base64"),r=Gx.from(e.signature.signature,"base64"),i=[];i.push(Gx.from([10])),i.push(x_(t.length)),i.push(t),i.push(Gx.from([18])),i.push(x_(n.length)),i.push(n),i.push(Gx.from([26])),i.push(x_(r.length)),i.push(r);const s=Gx.concat(i),o=i_(s);return Gx.from(o).toString("hex").toUpperCase()}var k_=Object.defineProperty,__=Object.defineProperties,C_=Object.getOwnPropertyDescriptors,S_=Object.getOwnPropertySymbols,I_=Object.prototype.hasOwnProperty,A_=Object.prototype.propertyIsEnumerable,T_=(e,t,n)=>t in e?k_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const P_=e=>e?.split(":"),O_=e=>{const t=e&&P_(e);if(t)return t[2]+":"+t[3]},j_=e=>{const t=e&&P_(e);if(t)return t.pop()};async function N_(e){const{cacao:t,projectId:n}=e,{s:r,p:i}=t,s=R_(i,i.iss),o=j_(i.iss);return await y_(o,s,r,O_(i.iss),n)}const R_=(e,t)=>{const n=`${e.domain} wants you to sign in with your Ethereum account:`,r=j_(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=e.statement||void 0;const s=`URI: ${e.aud||e.uri}`,o=`Version: ${e.version}`,a=`Chain ID: ${(e=>{const t=e&&P_(e);if(t)return e.includes("did:pkh:")?t[3]:t[1]})(t)}`,c=`Nonce: ${e.nonce}`,l=`Issued At: ${e.iat}`,u=e.exp?`Expiration Time: ${e.exp}`:void 0,d=e.nbf?`Not Before: ${e.nbf}`:void 0,h=e.requestId?`Request ID: ${e.requestId}`:void 0,f=e.resources?`Resources:${e.resources.map(e=>`\n- ${e}`).join("")}`:void 0,p=z_(e.resources);return p&&(i=function(e="",t){$_(t);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(n))return e;const r=[];let i=0;return Object.keys(t.att).forEach(e=>{const n=Object.keys(t.att[e]).map(e=>({ability:e.split("/")[0],action:e.split("/")[1]}));n.sort((e,t)=>e.action.localeCompare(t.action));const s={};n.forEach(e=>{s[e.ability]||(s[e.ability]=[]),s[e.ability].push(e.action)});const o=Object.keys(s).map(t=>(i++,`(${i}) '${t}': '${s[t].join("', '")}' for '${e}'.`));r.push(o.join(", ").replace(".,","."))}),`${e?e+" ":""}${n}${r.join(" ")}`}(i,B_(p))),[n,r,"",i,"",s,o,a,c,l,u,d,h,f].filter(e=>null!=e).join("\n")};function $_(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(null==t||!t.length)throw new Error("No resources found in `att` property");t.forEach(t=>{const n=e.att[t];if(Array.isArray(n))throw new Error(`Resource must be an object: ${t}`);if("object"!=typeof n)throw new Error(`Resource must be an object: ${t}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${t}`);Object.keys(n).forEach(e=>{const t=n[e];if(!Array.isArray(t))throw new Error(`Ability limits ${e} must be an array of objects, found: ${t}`);if(!t.length)throw new Error(`Value of ${e} is empty array, must be an array with objects`);t.forEach(t=>{if("object"!=typeof t)throw new Error(`Ability limits (${e}) must be an array of objects, found: ${t}`)})})})}function M_(e,t,n={}){t=t?.sort((e,t)=>e.localeCompare(t));const r=t.map(t=>({[`${e}/${t}`]:[n]}));return Object.assign({},...r)}function L_(e){return $_(e),`urn:recap:${function(e){return Gx.from(JSON.stringify(e)).toString("base64")}(e).replace(/=/g,"")}`}function B_(e){const t=function(e){return JSON.parse(Gx.from(e,"base64").toString("utf-8"))}(e.replace("urn:recap:",""));return $_(t),t}function U_(e,t){const n=function(e,t){$_(e),$_(t);const n=Object.keys(e.att).concat(Object.keys(t.att)).sort((e,t)=>e.localeCompare(t)),r={att:{}};return n.forEach(n=>{var i,s;Object.keys((null==(i=e.att)?void 0:i[n])||{}).concat(Object.keys((null==(s=t.att)?void 0:s[n])||{})).sort((e,t)=>e.localeCompare(t)).forEach(i=>{var s,o;r.att[n]=((e,t)=>__(e,C_(t)))(((e,t)=>{for(var n in t||(t={}))I_.call(t,n)&&T_(e,n,t[n]);if(S_)for(var n of S_(t))A_.call(t,n)&&T_(e,n,t[n]);return e})({},r.att[n]),{[i]:(null==(s=e.att[n])?void 0:s[i])||(null==(o=t.att[n])?void 0:o[i])})})}),r}(B_(e),B_(t));return L_(n)}function D_(e){var t;const n=B_(e);$_(n);const r=null==(t=n.att)?void 0:t.eip155;return r?Object.keys(r).map(e=>e.split("/")[1]):[]}function F_(e){const t=B_(e);$_(t);const n=[];return Object.values(t.att).forEach(e=>{Object.values(e).forEach(e=>{var t;null!=(t=e?.[0])&&t.chains&&n.push(e[0].chains)})}),[...new Set(n.flat())]}function z_(e){if(!e)return;const t=e?.[e.length-1];return function(e){return e&&e.includes("urn:recap:")}(t)?t:void 0}function W_(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function q_(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function H_(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function V_(e,...t){if(!W_(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function K_(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function G_(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Z_(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}const Y_=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function J_(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}(e);else{if(!W_(e))throw new Error("Uint8Array expected, got "+typeof e);e=eC(e)}return e}function Q_(e,t,n=!0){if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!function(e){return e.byteOffset%4==0}(t))throw new Error("invalid output, must be aligned");return t}function X_(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}function eC(e){return Uint8Array.from(e)}const tC=e=>Uint8Array.from(e.split("").map(e=>e.charCodeAt(0))),nC=tC("expand 16-byte k"),rC=tC("expand 32-byte k"),iC=G_(nC),sC=G_(rC);function oC(e,t){return e<<t|e>>>32-t}function aC(e){return e.byteOffset%4==0}const cC=2**32-1,lC=new Uint32Array,uC=(e,t)=>255&e[t++]|(255&e[t++])<<8;class dC{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,V_(e=J_(e),32);const t=uC(e,0),n=uC(e,2),r=uC(e,4),i=uC(e,6),s=uC(e,8),o=uC(e,10),a=uC(e,12),c=uC(e,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|n<<3),this.r[2]=7939&(n>>>10|r<<6),this.r[3]=8191&(r>>>7|i<<9),this.r[4]=255&(i>>>4|s<<12),this.r[5]=s>>>1&8190,this.r[6]=8191&(s>>>14|o<<2),this.r[7]=8065&(o>>>11|a<<5),this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127;for(let t=0;t<8;t++)this.pad[t]=uC(e,16+2*t)}process(e,t,n=!1){const r=n?0:2048,{h:i,r:s}=this,o=s[0],a=s[1],c=s[2],l=s[3],u=s[4],d=s[5],h=s[6],f=s[7],p=s[8],g=s[9],m=uC(e,t+0),y=uC(e,t+2),w=uC(e,t+4),b=uC(e,t+6),v=uC(e,t+8),x=uC(e,t+10),E=uC(e,t+12),k=uC(e,t+14);let _=i[0]+(8191&m),C=i[1]+(8191&(m>>>13|y<<3)),S=i[2]+(8191&(y>>>10|w<<6)),I=i[3]+(8191&(w>>>7|b<<9)),A=i[4]+(8191&(b>>>4|v<<12)),T=i[5]+(v>>>1&8191),P=i[6]+(8191&(v>>>14|x<<2)),O=i[7]+(8191&(x>>>11|E<<5)),j=i[8]+(8191&(E>>>8|k<<8)),N=i[9]+(k>>>5|r),R=0,$=R+_*o+C*(5*g)+S*(5*p)+I*(5*f)+A*(5*h);R=$>>>13,$&=8191,$+=T*(5*d)+P*(5*u)+O*(5*l)+j*(5*c)+N*(5*a),R+=$>>>13,$&=8191;let M=R+_*a+C*o+S*(5*g)+I*(5*p)+A*(5*f);R=M>>>13,M&=8191,M+=T*(5*h)+P*(5*d)+O*(5*u)+j*(5*l)+N*(5*c),R+=M>>>13,M&=8191;let L=R+_*c+C*a+S*o+I*(5*g)+A*(5*p);R=L>>>13,L&=8191,L+=T*(5*f)+P*(5*h)+O*(5*d)+j*(5*u)+N*(5*l),R+=L>>>13,L&=8191;let B=R+_*l+C*c+S*a+I*o+A*(5*g);R=B>>>13,B&=8191,B+=T*(5*p)+P*(5*f)+O*(5*h)+j*(5*d)+N*(5*u),R+=B>>>13,B&=8191;let U=R+_*u+C*l+S*c+I*a+A*o;R=U>>>13,U&=8191,U+=T*(5*g)+P*(5*p)+O*(5*f)+j*(5*h)+N*(5*d),R+=U>>>13,U&=8191;let D=R+_*d+C*u+S*l+I*c+A*a;R=D>>>13,D&=8191,D+=T*o+P*(5*g)+O*(5*p)+j*(5*f)+N*(5*h),R+=D>>>13,D&=8191;let F=R+_*h+C*d+S*u+I*l+A*c;R=F>>>13,F&=8191,F+=T*a+P*o+O*(5*g)+j*(5*p)+N*(5*f),R+=F>>>13,F&=8191;let z=R+_*f+C*h+S*d+I*u+A*l;R=z>>>13,z&=8191,z+=T*c+P*a+O*o+j*(5*g)+N*(5*p),R+=z>>>13,z&=8191;let W=R+_*p+C*f+S*h+I*d+A*u;R=W>>>13,W&=8191,W+=T*l+P*c+O*a+j*o+N*(5*g),R+=W>>>13,W&=8191;let q=R+_*g+C*p+S*f+I*h+A*d;R=q>>>13,q&=8191,q+=T*u+P*l+O*c+j*a+N*o,R+=q>>>13,q&=8191,R=(R<<2)+R|0,R=R+$|0,$=8191&R,R>>>=13,M+=R,i[0]=$,i[1]=M,i[2]=L,i[3]=B,i[4]=U,i[5]=D,i[6]=F,i[7]=z,i[8]=W,i[9]=q}finalize(){const{h:e,pad:t}=this,n=new Uint16Array(10);let r=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=r,r=e[t]>>>13,e[t]&=8191;e[0]+=5*r,r=e[0]>>>13,e[0]&=8191,e[1]+=r,r=e[1]>>>13,e[1]&=8191,e[2]+=r,n[0]=e[0]+5,r=n[0]>>>13,n[0]&=8191;for(let t=1;t<10;t++)n[t]=e[t]+r,r=n[t]>>>13,n[t]&=8191;n[9]-=8192;let i=(1^r)-1;for(let e=0;e<10;e++)n[e]&=i;i=~i;for(let t=0;t<10;t++)e[t]=e[t]&i|n[t];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let s=e[0]+t[0];e[0]=65535&s;for(let n=1;n<8;n++)s=(e[n]+t[n]|0)+(s>>>16)|0,e[n]=65535&s;Z_(n)}update(e){K_(this),V_(e=J_(e));const{buffer:t,blockLen:n}=this,r=e.length;for(let i=0;i<r;){const s=Math.min(n-this.pos,r-i);if(s!==n)t.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===n&&(this.process(t,0,!1),this.pos=0);else for(;n<=r-i;i+=n)this.process(e,i)}return this}destroy(){Z_(this.h,this.r,this.buffer,this.pad)}digestInto(e){K_(this),function(e,t){V_(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished=!0;const{buffer:t,h:n}=this;let{pos:r}=this;if(r){for(t[r++]=1;r<16;r++)t[r]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let t=0;t<8;t++)e[i++]=n[t]>>>0,e[i++]=n[t]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}}const hC=function(e){const t=(t,n)=>e(n).update(J_(t)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}(e=>new dC(e)),fC=function(e){const{allowShortKeys:t,extendNonceFn:n,counterLength:r,counterRight:i,rounds:s}=function(e,t){if(null==t||"object"!=typeof t)throw new Error("options must be defined");return Object.assign({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t)}(0,{counterRight:!1,counterLength:4,allowShortKeys:!1});return H_(r),H_(s),q_(i),q_(t),(o,a,c,l,u=0)=>{V_(o),V_(a),V_(c);const d=c.length;if(void 0===l&&(l=new Uint8Array(d)),V_(l),H_(u),u<0||u>=cC)throw new Error("arx: counter overflow");if(l.length<d)throw new Error(`arx: output (${l.length}) is shorter than data (${d})`);const h=[];let f,p,g=o.length;if(32===g)h.push(f=eC(o)),p=sC;else{if(16!==g||!t)throw new Error(`arx: invalid 32-byte key, got length=${g}`);f=new Uint8Array(32),f.set(o),f.set(o,16),p=iC,h.push(f)}aC(a)||h.push(a=eC(a));const m=G_(f);if(n){if(24!==a.length)throw new Error("arx: extended nonce must be 24 bytes");n(p,m,G_(a.subarray(0,16)),m),a=a.subarray(16)}const y=16-r;if(y!==a.length)throw new Error(`arx: nonce must be ${y} or 16 bytes`);if(12!==y){const e=new Uint8Array(12);e.set(a,i?0:12-a.length),a=e,h.push(a)}const w=G_(a);return function(e,t,n,r,i,s,o,a){const c=i.length,l=new Uint8Array(64),u=G_(l),d=aC(i)&&aC(s),h=d?G_(i):lC,f=d?G_(s):lC;for(let p=0;p<c;o++){if(e(t,n,r,u,o,a),o>=cC)throw new Error("arx: counter overflow");const g=Math.min(64,c-p);if(d&&64===g){const e=p/4;if(p%4!=0)throw new Error("arx: invalid block position");for(let t,n=0;n<16;n++)t=e+n,f[t]=h[t]^u[n];p+=64;continue}for(let e,t=0;t<g;t++)e=p+t,s[e]=i[e]^l[t];p+=g}}(e,p,m,w,c,l,u,s),Z_(...h),l}}(function(e,t,n,r,i,s=20){let o=e[0],a=e[1],c=e[2],l=e[3],u=t[0],d=t[1],h=t[2],f=t[3],p=t[4],g=t[5],m=t[6],y=t[7],w=i,b=n[0],v=n[1],x=n[2],E=o,k=a,_=c,C=l,S=u,I=d,A=h,T=f,P=p,O=g,j=m,N=y,R=w,$=b,M=v,L=x;for(let e=0;e<s;e+=2)E=E+S|0,R=oC(R^E,16),P=P+R|0,S=oC(S^P,12),E=E+S|0,R=oC(R^E,8),P=P+R|0,S=oC(S^P,7),k=k+I|0,$=oC($^k,16),O=O+$|0,I=oC(I^O,12),k=k+I|0,$=oC($^k,8),O=O+$|0,I=oC(I^O,7),_=_+A|0,M=oC(M^_,16),j=j+M|0,A=oC(A^j,12),_=_+A|0,M=oC(M^_,8),j=j+M|0,A=oC(A^j,7),C=C+T|0,L=oC(L^C,16),N=N+L|0,T=oC(T^N,12),C=C+T|0,L=oC(L^C,8),N=N+L|0,T=oC(T^N,7),E=E+I|0,L=oC(L^E,16),j=j+L|0,I=oC(I^j,12),E=E+I|0,L=oC(L^E,8),j=j+L|0,I=oC(I^j,7),k=k+A|0,R=oC(R^k,16),N=N+R|0,A=oC(A^N,12),k=k+A|0,R=oC(R^k,8),N=N+R|0,A=oC(A^N,7),_=_+T|0,$=oC($^_,16),P=P+$|0,T=oC(T^P,12),_=_+T|0,$=oC($^_,8),P=P+$|0,T=oC(T^P,7),C=C+S|0,M=oC(M^C,16),O=O+M|0,S=oC(S^O,12),C=C+S|0,M=oC(M^C,8),O=O+M|0,S=oC(S^O,7);let B=0;r[B++]=o+E|0,r[B++]=a+k|0,r[B++]=c+_|0,r[B++]=l+C|0,r[B++]=u+S|0,r[B++]=d+I|0,r[B++]=h+A|0,r[B++]=f+T|0,r[B++]=p+P|0,r[B++]=g+O|0,r[B++]=m+j|0,r[B++]=y+N|0,r[B++]=w+R|0,r[B++]=b+$|0,r[B++]=v+M|0,r[B++]=x+L|0}),pC=new Uint8Array(16),gC=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(pC.subarray(n))},mC=new Uint8Array(32);function yC(e,t,n,r,i){const s=e(t,n,mC),o=hC.create(s);i&&gC(o,i),gC(o,r);const a=function(e,t,n){q_(n);const r=new Uint8Array(16),i=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}(r);return X_(i,0,BigInt(t),n),X_(i,8,BigInt(e),n),r}(r.length,i?i.length:0,!0);o.update(a);const c=o.digest();return Z_(s,a),c}const wC=((e,t)=>{function n(n,...r){if(V_(n),!Y_)throw new Error("Non little-endian hardware is not yet supported");if(void 0!==e.nonceLength){const t=r[0];if(!t)throw new Error("nonce / iv required");e.varSizeNonce?V_(t):V_(t,e.nonceLength)}const i=e.tagLength;i&&void 0!==r[1]&&V_(r[1]);const s=t(n,...r),o=(e,t)=>{if(void 0!==t){if(2!==e)throw new Error("cipher output not supported");V_(t)}};let a=!1;return{encrypt(e,t){if(a)throw new Error("cannot encrypt() twice with same key + nonce");return a=!0,V_(e),o(s.encrypt.length,t),s.encrypt(e,t)},decrypt(e,t){if(V_(e),i&&e.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return o(s.decrypt.length,t),s.decrypt(e,t)}}}return Object.assign(n,e),n})({blockSize:64,nonceLength:12,tagLength:16},(bC=fC,(e,t,n)=>({encrypt(r,i){const s=r.length;(i=Q_(s+16,i,!1)).set(r);const o=i.subarray(0,-16);bC(e,t,o,o,1);const a=yC(bC,e,t,o,n);return i.set(a,s),Z_(a),i},decrypt(r,i){i=Q_(r.length-16,i,!1);const s=r.subarray(0,-16),o=r.subarray(-16),a=yC(bC,e,t,s,n);if(!function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}(o,a))throw new Error("invalid tag");return i.set(r.subarray(0,-16)),bC(e,t,i,i,1),Z_(a),i}})));var bC;class vC extends xk{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,nk(e);const n=bk(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),ok(i)}update(e){return rk(this),this.iHash.update(e),this}digestInto(e){rk(this),tk(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=r,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const xC=(e,t,n)=>new vC(e,t).update(n).digest();xC.create=(e,t)=>new vC(e,t);const EC=Uint8Array.from([0]),kC=Uint8Array.of(),_C=i_,CC=BigInt(0),SC=BigInt(1);function IC(e,t=""){if("boolean"!=typeof e)throw new Error((t&&`"${t}"`)+"expected boolean, got type="+typeof e);return e}function AC(e,t,n=""){const r=XE(e),i=e?.length,s=void 0!==t;if(!r||s&&i!==t)throw new Error((n&&`"${n}" `)+"expected Uint8Array"+(s?` of length ${t}`:"")+", got "+(r?`length=${i}`:"type="+typeof e));return e}function TC(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function PC(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?CC:BigInt("0x"+e)}function OC(e){return PC(gk(e))}function jC(e){return tk(e),PC(gk(Uint8Array.from(e).reverse()))}function NC(e,t){return yk(e.toString(16).padStart(2*t,"0"))}function RC(e,t){return NC(e,t).reverse()}function $C(e,t,n){let r;if("string"==typeof t)try{r=yk(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!XE(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}const MC=e=>"bigint"==typeof e&&CC<=e;function LC(e,t,n,r){if(!function(e,t,n){return MC(e)&&MC(t)&&MC(n)&&t<=e&&e<n}(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function BC(e){let t;for(t=0;e>CC;e>>=SC,t+=1);return t}const UC=e=>(SC<<BigInt(e))-SC;function DC(e,t,n={}){if(!e||"object"!=typeof e)throw new Error("expected valid options object");function r(t,n,r){const i=e[t];if(r&&void 0===i)return;const s=typeof i;if(s!==n||null===i)throw new Error(`param "${t}" is invalid: expected ${n}, got ${s}`)}Object.entries(t).forEach(([e,t])=>r(e,t,!1)),Object.entries(n).forEach(([e,t])=>r(e,t,!0))}function FC(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(void 0!==i)return i;const s=e(n,...r);return t.set(n,s),s}}const zC=BigInt(0),WC=BigInt(1),qC=BigInt(2),HC=BigInt(3),VC=BigInt(4),KC=BigInt(5),GC=BigInt(7),ZC=BigInt(8),YC=BigInt(9),JC=BigInt(16);function QC(e,t){const n=e%t;return n>=zC?n:t+n}function XC(e,t,n){let r=e;for(;t-- >zC;)r*=r,r%=n;return r}function eS(e,t){if(e===zC)throw new Error("invert: expected non-zero number");if(t<=zC)throw new Error("invert: expected positive modulus, got "+t);let n=QC(e,t),r=t,i=zC,s=WC;for(;n!==zC;){const e=r%n,t=i-s*(r/n);r=n,n=e,i=s,s=t}if(r!==WC)throw new Error("invert: does not exist");return QC(i,t)}function tS(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function nS(e,t){const n=(e.ORDER+WC)/VC,r=e.pow(t,n);return tS(e,r,t),r}function rS(e,t){const n=(e.ORDER-KC)/ZC,r=e.mul(t,qC),i=e.pow(r,n),s=e.mul(t,i),o=e.mul(e.mul(s,qC),i),a=e.mul(s,e.sub(o,e.ONE));return tS(e,a,t),a}function iS(e){if(e<HC)throw new Error("sqrt is not defined for small field");let t=e-WC,n=0;for(;t%qC===zC;)t/=qC,n++;let r=qC;const i=lS(e);for(;1===aS(i,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return nS;let s=i.pow(r,t);const o=(t+WC)/qC;return function(e,r){if(e.is0(r))return r;if(1!==aS(e,r))throw new Error("Cannot find square root");let i=n,a=e.mul(e.ONE,s),c=e.pow(r,t),l=e.pow(r,o);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,n=e.sqr(c);for(;!e.eql(n,e.ONE);)if(t++,n=e.sqr(n),t===i)throw new Error("Cannot find square root");const r=WC<<BigInt(i-t-1),s=e.pow(a,r);i=t,a=e.sqr(s),c=e.mul(c,a),l=e.mul(l,s)}return l}}const sS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function oS(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),s=e.inv(i);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),s),r}function aS(e,t){const n=(e.ORDER-WC)/qC,r=e.pow(t,n),i=e.eql(r,e.ONE),s=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function cS(e,t){void 0!==t&&ek(t);const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function lS(e,t,n=!1,r={}){if(e<=zC)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,s,o,a=!1;if("object"==typeof t&&null!=t){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const e=t;e.BITS&&(i=e.BITS),e.sqrt&&(s=e.sqrt),"boolean"==typeof e.isLE&&(n=e.isLE),"boolean"==typeof e.modFromBytes&&(a=e.modFromBytes),o=e.allowedLengths}else"number"==typeof t&&(i=t),r.sqrt&&(s=r.sqrt);const{nBitLength:c,nByteLength:l}=cS(e,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const d=Object.freeze({ORDER:e,isLE:n,BITS:c,BYTES:l,MASK:UC(c),ZERO:zC,ONE:WC,allowedLengths:o,create:t=>QC(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return zC<=t&&t<e},is0:e=>e===zC,isValidNot0:e=>!d.is0(e)&&d.isValid(e),isOdd:e=>(e&WC)===WC,neg:t=>QC(-t,e),eql:(e,t)=>e===t,sqr:t=>QC(t*t,e),add:(t,n)=>QC(t+n,e),sub:(t,n)=>QC(t-n,e),mul:(t,n)=>QC(t*n,e),pow:(e,t)=>function(e,t,n){if(n<zC)throw new Error("invalid exponent, negatives unsupported");if(n===zC)return e.ONE;if(n===WC)return t;let r=e.ONE,i=t;for(;n>zC;)n&WC&&(r=e.mul(r,i)),i=e.sqr(i),n>>=WC;return r}(d,e,t),div:(t,n)=>QC(t*eS(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>eS(t,e),sqrt:s||(t=>(u||(u=function(e){return e%VC===HC?nS:e%ZC===KC?rS:e%JC===YC?function(e){const t=lS(e),n=iS(e),r=n(t,t.neg(t.ONE)),i=n(t,r),s=n(t,t.neg(r)),o=(e+GC)/JC;return(e,t)=>{let n=e.pow(t,o),a=e.mul(n,r);const c=e.mul(n,i),l=e.mul(n,s),u=e.eql(e.sqr(a),t),d=e.eql(e.sqr(c),t);n=e.cmov(n,a,u),a=e.cmov(l,c,d);const h=e.eql(e.sqr(a),t),f=e.cmov(n,a,h);return tS(e,f,t),f}}(e):iS(e)}(e)),u(d,t))),toBytes:e=>n?RC(e,l):NC(e,l),fromBytes:(t,r=!0)=>{if(o){if(!o.includes(t.length)||t.length>l)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+t.length);const e=new Uint8Array(l);e.set(t,n?0:e.length-t.length),t=e}if(t.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+t.length);let i=n?jC(t):OC(t);if(a&&(i=QC(i,e)),!r&&!d.isValid(i))throw new Error("invalid field element: outside of range 0..ORDER");return i},invertBatch:e=>oS(d,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(d)}function uS(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function dS(e){const t=uS(e);return t+Math.ceil(t/2)}const hS=BigInt(0),fS=BigInt(1);function pS(e,t){const n=t.negate();return e?n:t}function gS(e,t){const n=oS(e.Fp,t.map(e=>e.Z));return t.map((t,r)=>e.fromAffine(t.toAffine(n[r])))}function mS(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function yS(e,t){mS(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:UC(e),maxNumber:n,shiftBy:BigInt(e)}}function wS(e,t,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(e&i),c=e>>o;a>r&&(a-=s,c+=fS);const l=t*r;return{nextN:c,offset:l+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:t%2!=0,offsetF:l}}const bS=new WeakMap,vS=new WeakMap;function xS(e){return vS.get(e)||1}function ES(e){if(e!==hS)throw new Error("invalid wNAF")}class kS{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,n=this.ZERO){let r=e;for(;t>hS;)t&fS&&(n=n.add(r)),r=r.double(),t>>=fS;return n}precomputeWindow(e,t){const{windows:n,windowSize:r}=yS(t,this.bits),i=[];let s=e,o=s;for(let e=0;e<n;e++){o=s,i.push(o);for(let e=1;e<r;e++)o=o.add(s),i.push(o);s=o.double()}return i}wNAF(e,t,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let r=this.ZERO,i=this.BASE;const s=yS(e,this.bits);for(let e=0;e<s.windows;e++){const{nextN:o,offset:a,isZero:c,isNeg:l,isNegF:u,offsetF:d}=wS(n,e,s);n=o,c?i=i.add(pS(u,t[d])):r=r.add(pS(l,t[a]))}return ES(n),{p:r,f:i}}wNAFUnsafe(e,t,n,r=this.ZERO){const i=yS(e,this.bits);for(let e=0;e<i.windows&&n!==hS;e++){const{nextN:s,offset:o,isZero:a,isNeg:c}=wS(n,e,i);if(n=s,!a){const e=t[o];r=r.add(c?e.negate():e)}}return ES(n),r}getPrecomputes(e,t,n){let r=bS.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&("function"==typeof n&&(r=n(r)),bS.set(t,r))),r}cached(e,t,n){const r=xS(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)}unsafe(e,t,n,r){const i=xS(e);return 1===i?this._unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)}createCache(e,t){mS(t,this.bits),vS.set(e,t),bS.delete(e)}hasCache(e){return 1!==xS(e)}}function _S(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return function(e){DC(e,sS.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"}))}(t),t}return lS(e,{isLE:n})}BigInt(0),BigInt(1),BigInt(2),BigInt(8),wk("HashToScalar-");const CS=BigInt(0),SS=BigInt(1),IS=BigInt(2);const AS=BigInt(1),TS=BigInt(2),PS=BigInt(3),OS=BigInt(5),jS=(BigInt(8),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"));function NS(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const RS=lS([jS,BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")][0],{isLE:!0}),$S=(()=>{const e=RS.ORDER;return function(e){const t=function(e){return DC(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})}(e),{P:n,type:r,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=t,a="x25519"===r;if(!a&&"x448"!==r)throw new Error("invalid type");const c=o||kk,l=a?255:448,u=a?32:56,d=BigInt(a?9:5),h=BigInt(a?121665:39081),f=a?IS**BigInt(254):IS**BigInt(447),p=a?BigInt(8)*IS**BigInt(251)-SS:BigInt(4)*IS**BigInt(445)-SS,g=f+p+SS,m=e=>QC(e,n),y=w(d);function w(e){return RC(m(e),u)}function b(e,t){const r=function(e,t){LC("u",e,CS,n),LC("scalar",t,f,g);const r=t,i=e;let o=SS,a=CS,c=e,u=SS,d=CS;for(let e=BigInt(l-1);e>=CS;e--){const t=r>>e&SS;d^=t,({x_2:o,x_3:c}=x(d,o,c)),({x_2:a,x_3:u}=x(d,a,u)),d=t;const n=o+a,s=m(n*n),l=o-a,f=m(l*l),p=s-f,g=c+u,y=m((c-u)*n),w=m(g*l),b=y+w,v=y-w;c=m(b*b),u=m(i*m(v*v)),o=m(s*f),a=m(p*(s+m(h*p)))}({x_2:o,x_3:c}=x(d,o,c)),({x_2:a,x_3:u}=x(d,a,u));const p=s(a);return m(o*p)}(function(e){const t=$C("u coordinate",e,u);return a&&(t[31]&=127),m(jC(t))}(t),function(e){return jC(i($C("scalar",e,u)))}(e));if(r===CS)throw new Error("invalid private or public key received");return w(r)}function v(e){return b(e,y)}function x(e,t,n){const r=m(e*(t-n));return{x_2:t=m(t-r),x_3:n=m(n+r)}}const E={secretKey:u,publicKey:u,seed:u},k=(e=c(u))=>(tk(e,E.seed),e);return{keygen:function(e){const t=k(e);return{secretKey:t,publicKey:v(t)}},getSharedSecret:(e,t)=>b(e,t),getPublicKey:e=>v(e),scalarMult:b,scalarMultBase:v,utils:{randomSecretKey:k,randomPrivateKey:k},GuBytes:y.slice(),lengths:E}}({P:e,type:"x25519",powPminus2:t=>{const{pow_p_5_8:n,b2:r}=function(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=jS,o=e*e%s*e%s,a=XC(o,TS,s)*o%s,c=XC(a,AS,s)*e%s,l=XC(c,OS,s)*c%s,u=XC(l,t,s)*l%s,d=XC(u,n,s)*u%s,h=XC(d,r,s)*d%s,f=XC(h,i,s)*h%s,p=XC(f,i,s)*h%s,g=XC(p,t,s)*l%s;return{pow_p_5_8:XC(g,TS,s)*e%s,b2:o}}(t);return QC(XC(n,PS,e)*r,e)},adjustScalarBytes:NS})})(),MS=(e,t)=>(e+(e>=0?t:-t)/WS)/t;function LS(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function BS(e,t){const n={};for(let r of Object.keys(t))n[r]=void 0===e[r]?t[r]:e[r];return IC(n.lowS,"lowS"),IC(n.prehash,"prehash"),void 0!==n.format&&LS(n.format),n}class US extends Error{constructor(e=""){super(e)}}const DS={Err:US,_tlv:{encode:(e,t)=>{const{Err:n}=DS;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=TC(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?TC(i.length/2|128):"";return TC(e)+s+i+t},decode(e,t){const{Err:n}=DS;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let s=0;if(128&i){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const o=t.subarray(r,r+e);if(o.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===o[0])throw new n("tlv.decode(long): zero leftmost byte");for(const e of o)s=s<<8|e;if(r+=e,s<128)throw new n("tlv.decode(long): not minimal encoding")}else s=i;const o=t.subarray(r,r+s);if(o.length!==s)throw new n("tlv.decode: wrong value length");return{v:o,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=DS;if(e<FS)throw new t("integer: negative integers are not allowed");let n=TC(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=DS;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return OC(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=DS,i=$C("signature",e),{v:s,l:o}=r.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=DS,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}},FS=BigInt(0),zS=BigInt(1),WS=BigInt(2),qS=BigInt(3),HS=BigInt(4);function VS(e,t){const{BYTES:n}=e;let r;if("bigint"==typeof t)r=t;else{let i=$C("private key",t);try{r=e.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function KS(e,t={}){const n=function(e,t,n={},r){if(void 0===r&&(r="edwards"===e),!t||"object"!=typeof t)throw new Error(`expected valid ${e} CURVE object`);for(const e of["p","n","h"]){const n=t[e];if(!("bigint"==typeof n&&n>hS))throw new Error(`CURVE.${e} must be positive bigint`)}const i=_S(t.p,n.Fp,r),s=_S(t.n,n.Fn,r),o=["Gx","Gy","a","weierstrass"===e?"b":"d"];for(const e of o)if(!i.isValid(t[e]))throw new Error(`CURVE.${e} must be valid field element of CURVE.Fp`);return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:i,Fn:s}}("weierstrass",e,t),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o,n:a}=s;DC(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!r.is0(s.a)||"bigint"!=typeof c.beta||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=ZS(r,i);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const d=t.toBytes||function(e,t,n){const{x:i,y:s}=t.toAffine(),o=r.toBytes(i);return IC(n,"isCompressed"),n?(u(),vk(GS(!r.isOdd(s)),o)):vk(Uint8Array.of(4),o,r.toBytes(s))},h=t.fromBytes||function(e){AC(e,void 0,"Point");const{publicKey:t,publicKeyUncompressed:n}=l,i=e.length,s=e[0],o=e.subarray(1);if(i!==t||2!==s&&3!==s){if(i===n&&4===s){const e=r.BYTES,t=r.fromBytes(o.subarray(0,e)),n=r.fromBytes(o.subarray(e,2*e));if(!p(t,n))throw new Error("bad point: is not on curve");return{x:t,y:n}}throw new Error(`bad point: got length ${i}, expected compressed=${t} or uncompressed=${n}`)}{const e=r.fromBytes(o);if(!r.isValid(e))throw new Error("bad point: is not on curve, wrong x");const t=f(e);let n;try{n=r.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("bad point: is not on curve, sqrt error"+t)}return u(),!(1&~s)!==r.isOdd(n)&&(n=r.neg(n)),{x:e,y:n}}};function f(e){const t=r.sqr(e),n=r.mul(t,e);return r.add(r.add(n,r.mul(e,s.a)),s.b)}function p(e,t){const n=r.sqr(t),i=f(e);return r.eql(n,i)}if(!p(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const g=r.mul(r.pow(s.a,qS),HS),m=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(g,m)))throw new Error("bad curve params: a or b");function y(e,t,n=!1){if(!r.isValid(t)||n&&r.is0(t))throw new Error(`bad point coordinate ${e}`);return t}function w(e){if(!(e instanceof k))throw new Error("ProjectivePoint expected")}function b(e){if(!c||!c.basises)throw new Error("no endo");return function(e,t,n){const[[r,i],[s,o]]=t,a=MS(o*e,n),c=MS(-i*e,n);let l=e-a*r-c*s,u=-a*i-c*o;const d=l<FS,h=u<FS;d&&(l=-l),h&&(u=-u);const f=UC(Math.ceil(BC(n)/2))+zS;if(l<FS||l>=f||u<FS||u>=f)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:d,k1:l,k2neg:h,k2:u}}(e,c.basises,i.ORDER)}const v=FC((e,t)=>{const{X:n,Y:i,Z:s}=e;if(r.eql(s,r.ONE))return{x:n,y:i};const o=e.is0();null==t&&(t=o?r.ONE:r.inv(s));const a=r.mul(n,t),c=r.mul(i,t),l=r.mul(s,t);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw new Error("invZ was invalid");return{x:a,y:c}}),x=FC(e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.Y))return;throw new Error("bad point: ZERO")}const{x:n,y:i}=e.toAffine();if(!r.isValid(n)||!r.isValid(i))throw new Error("bad point: x or y not field elements");if(!p(n,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function E(e,t,n,i,s){return n=new k(r.mul(n.X,e),n.Y,n.Z),t=pS(i,t),n=pS(s,n),t.add(n)}class k{constructor(e,t,n){this.X=y("x",e),this.Y=y("y",t,!0),this.Z=y("z",n),Object.freeze(this)}static CURVE(){return s}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof k)throw new Error("projective point not allowed");return r.is0(t)&&r.is0(n)?k.ZERO:new k(t,n,r.ONE)}static fromBytes(e){const t=k.fromAffine(h(AC(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return k.fromBytes($C("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return C.createCache(this,e),t||this.multiply(qS),this}assertValidity(){x(this)}hasEvenY(){const{y:e}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(e)}equals(e){w(e);const{X:t,Y:n,Z:i}=this,{X:s,Y:o,Z:a}=e,c=r.eql(r.mul(t,a),r.mul(s,i)),l=r.eql(r.mul(n,a),r.mul(o,i));return c&&l}negate(){return new k(this.X,r.neg(this.Y),this.Z)}double(){const{a:e,b:t}=s,n=r.mul(t,qS),{X:i,Y:o,Z:a}=this;let c=r.ZERO,l=r.ZERO,u=r.ZERO,d=r.mul(i,i),h=r.mul(o,o),f=r.mul(a,a),p=r.mul(i,o);return p=r.add(p,p),u=r.mul(i,a),u=r.add(u,u),c=r.mul(e,u),l=r.mul(n,f),l=r.add(c,l),c=r.sub(h,l),l=r.add(h,l),l=r.mul(c,l),c=r.mul(p,c),u=r.mul(n,u),f=r.mul(e,f),p=r.sub(d,f),p=r.mul(e,p),p=r.add(p,u),u=r.add(d,d),d=r.add(u,d),d=r.add(d,f),d=r.mul(d,p),l=r.add(l,d),f=r.mul(o,a),f=r.add(f,f),d=r.mul(f,p),c=r.sub(c,d),u=r.mul(f,h),u=r.add(u,u),u=r.add(u,u),new k(c,l,u)}add(e){w(e);const{X:t,Y:n,Z:i}=this,{X:o,Y:a,Z:c}=e;let l=r.ZERO,u=r.ZERO,d=r.ZERO;const h=s.a,f=r.mul(s.b,qS);let p=r.mul(t,o),g=r.mul(n,a),m=r.mul(i,c),y=r.add(t,n),b=r.add(o,a);y=r.mul(y,b),b=r.add(p,g),y=r.sub(y,b),b=r.add(t,i);let v=r.add(o,c);return b=r.mul(b,v),v=r.add(p,m),b=r.sub(b,v),v=r.add(n,i),l=r.add(a,c),v=r.mul(v,l),l=r.add(g,m),v=r.sub(v,l),d=r.mul(h,b),l=r.mul(f,m),d=r.add(l,d),l=r.sub(g,d),d=r.add(g,d),u=r.mul(l,d),g=r.add(p,p),g=r.add(g,p),m=r.mul(h,m),b=r.mul(f,b),g=r.add(g,m),m=r.sub(p,m),m=r.mul(h,m),b=r.add(b,m),p=r.mul(g,b),u=r.add(u,p),p=r.mul(v,b),l=r.mul(y,l),l=r.sub(l,p),p=r.mul(y,g),d=r.mul(v,d),d=r.add(d,p),new k(l,u,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(k.ZERO)}multiply(e){const{endo:n}=t;if(!i.isValidNot0(e))throw new Error("invalid scalar: out of range");let r,s;const o=e=>C.cached(this,e,e=>gS(k,e));if(n){const{k1neg:t,k1:i,k2neg:a,k2:c}=b(e),{p:l,f:u}=o(i),{p:d,f:h}=o(c);s=u.add(h),r=E(n.beta,l,d,t,a)}else{const{p:t,f:n}=o(e);r=t,s=n}return gS(k,[r,s])[0]}multiplyUnsafe(e){const{endo:n}=t,r=this;if(!i.isValid(e))throw new Error("invalid scalar: out of range");if(e===FS||r.is0())return k.ZERO;if(e===zS)return r;if(C.hasCache(this))return this.multiply(e);if(n){const{k1neg:t,k1:i,k2neg:s,k2:o}=b(e),{p1:a,p2:c}=function(e,t,n,r){let i=t,s=e.ZERO,o=e.ZERO;for(;n>hS||r>hS;)n&fS&&(s=s.add(i)),r&fS&&(o=o.add(i)),i=i.double(),n>>=fS,r>>=fS;return{p1:s,p2:o}}(k,r,i,o);return E(n.beta,a,c,t,s)}return C.unsafe(r,e)}multiplyAndAddUnsafe(e,t,n){const r=this.multiplyUnsafe(t).add(e.multiplyUnsafe(n));return r.is0()?void 0:r}toAffine(e){return v(this,e)}isTorsionFree(){const{isTorsionFree:e}=t;return o===zS||(e?e(k,this):C.unsafe(this,a).is0())}clearCofactor(){const{clearCofactor:e}=t;return o===zS?this:e?e(k,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(e=!0){return IC(e,"isCompressed"),this.assertValidity(),d(k,this,e)}toHex(e=!0){return gk(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(e=!0){return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return gS(k,e)}static msm(e,t){return function(e,t,n,r){(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})})(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}(r,t);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=BC(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=UC(c),u=new Array(Number(l)+1).fill(o);let d=o;for(let e=Math.floor((t.BITS-1)/c)*c;e>=0;e-=c){u.fill(o);for(let t=0;t<s;t++){const i=r[t],s=Number(i>>BigInt(e)&l);u[s]=u[s].add(n[t])}let t=o;for(let e=u.length-1,n=o;e>0;e--)n=n.add(u[e]),t=t.add(n);if(d=d.add(t),0!==e)for(let e=0;e<c;e++)d=d.double()}return d}(k,i,e,t)}static fromPrivateKey(e){return k.BASE.multiply(VS(i,e))}}k.BASE=new k(s.Gx,s.Gy,r.ONE),k.ZERO=new k(r.ZERO,r.ONE,r.ZERO),k.Fp=r,k.Fn=i;const _=i.BITS,C=new kS(k,t.endo?Math.ceil(_/2):_);return k.BASE.precompute(8),k}function GS(e){return Uint8Array.of(e?2:3)}function ZS(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function YS(e,t,n={}){nk(t),DC(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||kk,i=n.hmac||((e,...n)=>xC(t,e,vk(...n))),{Fp:s,Fn:o}=e,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f}=function(e,t={}){const{Fn:n}=e,r=t.randomBytes||kk,i=Object.assign(ZS(e.Fp,n),{seed:dS(n.ORDER)});function s(e){try{return!!VS(n,e)}catch{return!1}}function o(e=r(i.seed)){return function(e,t,n=!1){const r=e.length,i=uS(t),s=dS(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=QC(n?jC(e):OC(e),t-WC)+WC;return n?RC(o,i):NC(o,i)}(AC(e,i.seed,"seed"),n.ORDER)}function a(t,r=!0){return e.BASE.multiply(VS(n,t)).toBytes(r)}function c(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;const{secretKey:r,publicKey:s,publicKeyUncompressed:o}=i;if(n.allowedLengths||r===s)return;const a=$C("key",t).length;return a===s||a===o}return Object.freeze({getPublicKey:a,getSharedSecret:function(t,r,i=!0){if(!0===c(t))throw new Error("first arg must be private key");if(!1===c(r))throw new Error("second arg must be public key");const s=VS(n,t);return e.fromHex(r).multiply(s).toBytes(i)},keygen:function(e){const t=o(e);return{secretKey:t,publicKey:a(t)}},Point:e,utils:{isValidSecretKey:s,isValidPublicKey:function(t,n){const{publicKey:r,publicKeyUncompressed:s}=i;try{const i=t.length;return!(!0===n&&i!==r||!1===n&&i!==s||!e.fromBytes(t))}catch{return!1}},randomSecretKey:o,isValidPrivateKey:s,randomPrivateKey:o,normPrivateKeyToScalar:e=>VS(n,e),precompute:(t=8,n=e.BASE)=>n.precompute(t,!1)},lengths:i})}(e,n),p={prehash:!1,lowS:"boolean"==typeof n.lowS&&n.lowS,format:void 0,extraEntropy:!1},g="compact";function m(e){return e>a>>zS}function y(e,t){if(!o.isValidNot0(t))throw new Error(`invalid signature ${e}: out of range 1..Point.Fn.ORDER`);return t}class w{constructor(e,t,n){this.r=y("r",e),this.s=y("s",t),null!=n&&(this.recovery=n),Object.freeze(this)}static fromBytes(e,t=g){let n;if(function(e,t){LS(t);const n=f.signature;AC(e,"compact"===t?n:"recovered"===t?n+1:void 0,`${t} signature`)}(e,t),"der"===t){const{r:t,s:n}=DS.toSig(AC(e));return new w(t,n)}"recovered"===t&&(n=e[0],t="compact",e=e.subarray(1));const r=o.BYTES,i=e.subarray(0,r),s=e.subarray(r,2*r);return new w(o.fromBytes(i),o.fromBytes(s),n)}static fromHex(e,t){return this.fromBytes(yk(e),t)}addRecoveryBit(e){return new w(this.r,this.s,e)}recoverPublicKey(t){const n=s.ORDER,{r,s:i,recovery:c}=this;if(null==c||![0,1,2,3].includes(c))throw new Error("recovery id invalid");if(a*WS<n&&c>1)throw new Error("recovery id is ambiguous for h>1 curve");const l=2===c||3===c?r+a:r;if(!s.isValid(l))throw new Error("recovery id 2 or 3 invalid");const u=s.toBytes(l),d=e.fromBytes(vk(GS(!(1&c)),u)),h=o.inv(l),f=v($C("msgHash",t)),p=o.create(-f*h),g=o.create(i*h),m=e.BASE.multiplyUnsafe(p).add(d.multiplyUnsafe(g));if(m.is0())throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return m(this.s)}toBytes(e=g){if(LS(e),"der"===e)return yk(DS.hexFromSig(this));const t=o.toBytes(this.r),n=o.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw new Error("recovery bit must be present");return vk(Uint8Array.of(this.recovery),t,n)}return vk(t,n)}toHex(e){return gk(this.toBytes(e))}assertValidity(){}static fromCompact(e){return w.fromBytes($C("sig",e),"compact")}static fromDER(e){return w.fromBytes($C("sig",e),"der")}normalizeS(){return this.hasHighS()?new w(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return gk(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return gk(this.toBytes("compact"))}}const b=n.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=OC(e),n=8*e.length-c;return n>0?t>>BigInt(n):t},v=n.bits2int_modN||function(e){return o.create(b(e))},x=UC(c);function E(e){return LC("num < 2^"+c,e,FS,x),o.toBytes(e)}function k(e,n){return AC(e,void 0,"message"),n?AC(t(e),void 0,"prehashed message"):e}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f,Point:e,sign:function(n,s,a={}){n=$C("message",n);const{seed:c,k2sig:l}=function(t,n,i){if(["recovered","canonical"].some(e=>e in i))throw new Error("sign() legacy options not supported");const{lowS:s,prehash:a,extraEntropy:c}=BS(i,p);t=k(t,a);const l=v(t),u=VS(o,n),d=[E(u),E(l)];if(null!=c&&!1!==c){const e=!0===c?r(f.secretKey):c;d.push($C("extraEntropy",e))}const h=vk(...d),g=l;return{seed:h,k2sig:function(t){const n=b(t);if(!o.isValidNot0(n))return;const r=o.inv(n),i=e.BASE.multiply(n).toAffine(),a=o.create(i.x);if(a===FS)return;const c=o.create(r*o.create(g+a*u));if(c===FS)return;let l=(i.x===a?0:2)|Number(i.y&zS),d=c;return s&&m(c)&&(d=o.neg(c),l^=1),new w(a,d,l)}}}(n,s,a);return function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");const r=e=>new Uint8Array(e),i=e=>Uint8Array.of(e);let s=r(e),o=r(e),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=(...e)=>n(o,s,...e),u=(e=r(0))=>{o=l(i(0),e),s=l(),0!==e.length&&(o=l(i(1),e),s=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){s=l();const t=s.slice();n.push(t),e+=s.length}return vk(...n)};return(e,t)=>{let n;for(c(),u(e);!(n=t(d()));)u();return c(),n}}(t.outputLen,o.BYTES,i)(c,l)},verify:function(t,n,r,i={}){const{lowS:s,prehash:a,format:c}=BS(i,p);if(r=$C("publicKey",r),n=k($C("message",n),a),"strict"in i)throw new Error("options.strict was renamed to lowS");const l=void 0===c?function(e){let t;const n="string"==typeof e||XE(e),r=!n&&null!==e&&"object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!n&&!r)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(r)t=new w(e.r,e.s);else if(n){try{t=w.fromBytes($C("sig",e),"der")}catch(e){if(!(e instanceof DS.Err))throw e}if(!t)try{t=w.fromBytes($C("sig",e),"compact")}catch{return!1}}return t||!1}(t):w.fromBytes($C("sig",t),c);if(!1===l)return!1;try{const t=e.fromBytes(r);if(s&&l.hasHighS())return!1;const{r:i,s:a}=l,c=v(n),u=o.inv(a),d=o.create(c*u),h=o.create(i*u),f=e.BASE.multiplyUnsafe(d).add(t.multiplyUnsafe(h));return!f.is0()&&o.create(f.x)===i}catch{return!1}},recoverPublicKey:function(e,t,n={}){const{prehash:r}=BS(n,p);return t=k(t,r),w.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:w,hash:t})}function JS(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:i}=function(e){const{CURVE:t,curveOpts:n}=function(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(e=>Math.ceil(e/2)))):void 0;return{CURVE:t,curveOpts:{Fp:n,Fn:lS(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes}}}(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}(e);return function(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,cS(n.Fn.ORDER,n.Fn.BITS))})}(e,YS(KS(t,n),r,i))}function QS(e,t){const n=t=>JS({...e,hash:t});return{...n(t),create:n}}const XS={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},eI={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},tI={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},nI=lS(XS.p),rI=lS(eI.p),iI=lS(tI.p),sI=QS({...XS,Fp:nI,lowS:!1},i_);QS({...eI,Fp:rI,lowS:!1},o_),QS({...tI,Fp:iI,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},s_);const oI=sI,aI="base10",cI="base16",lI="base64pad",uI="base64url",dI="utf8";function hI(){const e=kk(32);return(0,yx.dI)(e,cI)}function fI(e){const t=_C((0,yx.sH)(e,cI));return(0,yx.dI)(t,cI)}function pI(e){const t=_C((0,yx.sH)(e,dI));return(0,yx.dI)(t,cI)}function gI(e){return(0,yx.sH)(`${e}`,aI)}function mI(e){return Number((0,yx.dI)(e,aI))}function yI(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function wI(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4;return t+"=".repeat(n)}function bI(e){if(2===mI(e.type))return(0,yx.dI)((0,yx.xW)([e.type,e.sealed]),lI);if(1===mI(e.type)){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return(0,yx.dI)((0,yx.xW)([e.type,e.senderPublicKey,e.iv,e.sealed]),lI)}return(0,yx.dI)((0,yx.xW)([e.type,e.iv,e.sealed]),lI)}function vI(e){const t=(e.encoding||lI)===uI?wI(e.encoded):e.encoded,n=(0,yx.sH)(t,lI),r=n.slice(0,1);if(1===mI(r)){const e=33,t=e+12,i=n.slice(1,e),s=n.slice(e,t);return{type:r,sealed:n.slice(t),iv:s,senderPublicKey:i}}if(2===mI(r))return{type:r,sealed:n.slice(1),iv:kk(12)};const i=n.slice(1,13);return{type:r,sealed:n.slice(13),iv:i}}function xI(e){const t=e?.type||0;if(1===t){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function EI(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}function kI(e){return 2===e.type}function _I(e){return e?.relay||{protocol:"irn"}}function CI(e){const t=wx.CG[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var SI=Object.defineProperty,II=Object.defineProperties,AI=Object.getOwnPropertyDescriptors,TI=Object.getOwnPropertySymbols,PI=Object.prototype.hasOwnProperty,OI=Object.prototype.propertyIsEnumerable,jI=(e,t,n)=>t in e?SI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NI=(e,t)=>{for(var n in t||(t={}))PI.call(t,n)&&jI(e,n,t[n]);if(TI)for(var n of TI(t))OI.call(t,n)&&jI(e,n,t[n]);return e};function RI(e,t="-"){const n={},r="relay"+t;return Object.keys(e).forEach(t=>{if(t.startsWith(r)){const i=t.replace(r,""),s=e[t];n[i]=s}}),n}function $I(e){if(!e.includes("wc:")){const t=OE(e);null!=t&&t.includes("wc:")&&(e=t)}const t=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,r=e.substring(0,t),i=e.substring(t+1,n).split("@"),s=typeof n<"u"?e.substring(n):"",o=new URLSearchParams(s),a=Object.fromEntries(o.entries()),c="string"==typeof a.methods?a.methods.split(","):void 0;return{protocol:r,topic:MI(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:RI(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function MI(e){return e.startsWith("//")?e.substring(2):e}function LI(e){const t=new URLSearchParams,n=NI(NI(((e,t)=>II(e,AI(t)))(NI({},function(e,t="-"){const n={};return Object.keys(e).forEach(r=>{const i=r,s="relay"+t+i;e[i]&&(n[s]=e[i])}),n}(e.relay)),{symKey:e.symKey}),e.expiryTimestamp&&{expiryTimestamp:e.expiryTimestamp.toString()}),e.methods&&{methods:e.methods.join(",")});return Object.entries(n).sort(([e],[t])=>e.localeCompare(t)).forEach(([e,n])=>{void 0!==n&&t.append(e,String(n))}),`${e.protocol}:${e.topic}@${e.version}?${t}`}function BI(e,t,n){return`${e}?wc_ev=${n}&topic=${t}`}var UI=Object.defineProperty,DI=Object.defineProperties,FI=Object.getOwnPropertyDescriptors,zI=Object.getOwnPropertySymbols,WI=Object.prototype.hasOwnProperty,qI=Object.prototype.propertyIsEnumerable,HI=(e,t,n)=>t in e?UI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VI=(e,t)=>{for(var n in t||(t={}))WI.call(t,n)&&HI(e,n,t[n]);if(zI)for(var n of zI(t))qI.call(t,n)&&HI(e,n,t[n]);return e},KI=(e,t)=>DI(e,FI(t));function GI(e){const t=[];return e.forEach(e=>{const[n,r]=e.split(":");t.push(`${n}:${r}`)}),t}function ZI(e){return e.includes(":")}function YI(e){return ZI(e)?e.split(":")[0]:e}function JI(e){var t,n,r;const i={};if(!iA(e))return i;for(const[s,o]of Object.entries(e)){const e=ZI(s)?[s]:o.chains,a=o.methods||[],c=o.events||[],l=YI(s);i[l]=KI(VI({},i[l]),{chains:IE(e,null==(t=i[l])?void 0:t.chains),methods:IE(a,null==(n=i[l])?void 0:n.methods),events:IE(c,null==(r=i[l])?void 0:r.events)})}return i}function QI(e,t){const n=function(e){const t={};return e?.forEach(e=>{var n;const[r,i]=e.split(":");t[r]||(t[r]={accounts:[],chains:[],events:[],methods:[]}),t[r].accounts.push(e),null==(n=t[r].chains)||n.push(`${r}:${i}`)}),t}(t=t.map(e=>e.replace("did:pkh:","")));for(const[t,r]of Object.entries(n))r.methods?r.methods=IE(r.methods,e):r.methods=e,r.events=["chainChanged","accountsChanged"];return n}const XI={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},eA={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function tA(e,t){const{message:n,code:r}=eA[e];return{message:t?`${n} ${t}`:n,code:r}}function nA(e,t){const{message:n,code:r}=XI[e];return{message:t?`${n} ${t}`:n,code:r}}function rA(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}function iA(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function sA(e){return typeof e>"u"}function oA(e,t){return!(!t||!sA(e))||"string"==typeof e&&!!e.trim().length}function aA(e,t){return!(!t||!sA(e))||"number"==typeof e&&!isNaN(e)}function cA(e){return!(!oA(e,!1)||!e.includes(":"))&&2===e.split(":").length}function lA(e){let t=!0;return rA(e)?e.length&&(t=e.every(e=>oA(e,!1))):t=!1,t}function uA(e,t){let n=null;return Object.values(e).forEach(e=>{if(n)return;const r=function(e,t){let n=null;return lA(e?.methods)?lA(e?.events)||(n=nA("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):n=nA("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),n}(e,`${t}, namespace`);r&&(n=r)}),n}function dA(e,t){let n=null;if(e&&iA(e)){const r=uA(e,t);r&&(n=r);const i=function(e,t){let n=null;return Object.values(e).forEach(e=>{if(n)return;const r=function(e,t){let n=null;return rA(e)?e.forEach(e=>{n||function(e){if(oA(e,!1)&&e.includes(":")){const t=e.split(":");if(3===t.length){const e=t[0]+":"+t[1];return!!t[2]&&cA(e)}}return!1}(e)||(n=nA("UNSUPPORTED_ACCOUNTS",`${t}, account ${e} should be a string and conform to "namespace:chainId:address" format`))}):n=nA("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}(e?.accounts,`${t} namespace`);r&&(n=r)}),n}(e,t);i&&(n=i)}else n=tA("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return n}function hA(e){return oA(e.protocol,!0)}function fA(e){return typeof e<"u"&&null!==typeof e}function pA(e,t){return!(!cA(t)||!function(e){const t=[];return Object.values(e).forEach(e=>{t.push(...GI(e.accounts))}),t}(e).includes(t))}function gA(e,t,n){let r=null;const i=function(e){const t={};return Object.keys(e).forEach(n=>{var r;n.includes(":")?t[n]=e[n]:null==(r=e[n].chains)||r.forEach(r=>{t[r]={methods:e[n].methods,events:e[n].events}})}),t}(e),s=function(e){const t={};return Object.keys(e).forEach(n=>{if(n.includes(":"))t[n]=e[n];else{const r=GI(e[n].accounts);r?.forEach(r=>{t[r]={accounts:e[n].accounts.filter(e=>e.includes(`${r}:`)),methods:e[n].methods,events:e[n].events}})}}),t}(t),o=Object.keys(i),a=Object.keys(s),c=mA(Object.keys(e)),l=mA(Object.keys(t)),u=c.filter(e=>!l.includes(e));return u.length&&(r=tA("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${u.toString()}\n      Received: ${Object.keys(t).toString()}`)),yE(o,a)||(r=tA("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.\n      Required: ${o.toString()}\n      Approved: ${a.toString()}`)),Object.keys(t).forEach(e=>{if(!e.includes(":")||r)return;const i=GI(t[e].accounts);i.includes(e)||(r=tA("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${e}\n        Required: ${e}\n        Approved: ${i.toString()}`))}),o.forEach(e=>{r||(yE(i[e].methods,s[e].methods)?yE(i[e].events,s[e].events)||(r=tA("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${e}`)):r=tA("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${e}`))}),r}function mA(e){return[...new Set(e.map(e=>e.includes(":")?e.split(":")[0]:e))]}function yA(){const e=fE();return new Promise(t=>{switch(e){case cE:t(hE()&&navigator?.onLine);break;case aE:t(async function(){if(dE()&&typeof global<"u"&&null!=global&&global.NetInfo){const e=await(null==global?void 0:global.NetInfo.fetch());return e?.isConnected}return!0}());break;default:t(!0)}})}const wA={};class bA{static get(e){return wA[e]}static set(e,t){wA[e]=t}static delete(e){delete wA[e]}}function vA(e){return new Uint8Array(e.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function xA(e){const t=Uint8Array.from(Gx.from(e.signature,"hex")),n=function(e){const t=fx.A.decode(e);if(t.length<33)throw new Error("Too short to contain a public key");return t.slice(1,33)}(e.transaction.address),r=function({publicKey:e,signature:t,payload:n}){var r;const i=vA(n.method),s=128|parseInt((null==(r=n.version)?void 0:r.toString())||"4"),o=function(e){const t=fx.A.decode(e)[0];return 42===t?0:60===t?2:1}(n.address),a="00"===n.era?new Uint8Array([0]):vA(n.era);if(1!==a.length&&2!==a.length)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([255&c,c>>8&255]),u=BigInt(`0x${function(e){return e.startsWith("0x")?e.slice(2):e}(n.tip)}`),d=function(e){if(e<BigInt(1)<<BigInt(6))return new Uint8Array([Number(e<<BigInt(2))]);if(e<BigInt(1)<<BigInt(14)){const t=e<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}if(e<BigInt(1)<<BigInt(30)){const t=e<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}throw new Error("BigInt compact encoding not supported > 2^30")}(u),h=new Uint8Array([0,...e,o,...t,...a,...l,...d,...i]),f=function(e){if(e<64)return new Uint8Array([e<<2]);if(e<16384){const t=e<<2|1;return new Uint8Array([255&t,t>>8&255])}if(e<1<<30){const t=e<<2|2;return new Uint8Array([255&t,t>>8&255,t>>16&255,t>>24&255])}throw new Error("Compact encoding > 2^30 not supported")}(h.length+1);return new Uint8Array([...f,s,...h])}({publicKey:n,signature:t,payload:e.transaction});return function(e){const t=vA(e),n=(0,bx.blake2b)(t,void 0,32);return"0x"+Gx.from(n).toString("hex")}(Gx.from(r).toString("hex"))}function EA({logger:e,name:t}){const n="string"==typeof e?Vx({opts:{level:e,name:t}}).logger:e;return n.level="string"==typeof e?e:e.level,n}var kA=o(3532),_A=o(6384),CA=o(4556),SA=Object.defineProperty,IA=(e,t,n)=>((e,t,n)=>t in e?SA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class AA extends CA.H{constructor(e){super(),this.opts=e,IA(this,"protocol","wc"),IA(this,"version",2)}}var TA=Object.defineProperty;class PA extends CA.H{constructor(e,t){super(),this.core=e,this.logger=t,((e,t,n)=>{((e,t,n)=>{t in e?TA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"records",new Map)}}class OA{constructor(e,t){this.logger=e,this.core=t}}class jA extends CA.H{constructor(e,t){super(),this.relayer=e,this.logger=t}}class NA extends CA.H{constructor(e){super()}}class RA{constructor(e,t,n,r){this.core=e,this.logger=t,this.name=n}}Object.defineProperty;class $A extends CA.H{constructor(e,t){super(),this.relayer=e,this.logger=t}}class MA extends CA.H{constructor(e,t){super(),this.core=e,this.logger=t}}class LA{constructor(e,t,n){this.core=e,this.logger=t,this.store=n}}class BA{constructor(e,t){this.projectId=e,this.logger=t}}class UA{constructor(e,t,n){this.core=e,this.logger=t,this.telemetryEnabled=n}}var DA=Object.defineProperty,FA=(e,t,n)=>((e,t,n)=>t in e?DA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);qw();class zA{constructor(e){this.opts=e,FA(this,"protocol","wc"),FA(this,"version",2)}}Ww.EventEmitter;class WA{constructor(e){this.client=e}}var qA=o(7907),HA=o(9031),VA=o(4365),KA=o(8287).Buffer,GA=o(5606);const ZA="core",YA=`wc@2:${ZA}:`,JA={database:":memory:"},QA="client_ed25519_seed",XA=Vw.ONE_DAY,eT=Vw.SIX_HOURS,tT="wss://relay.walletconnect.org",nT="relayer_message",rT="relayer_message_ack",iT="relayer_connection_stalled",sT="relayer_publish",oT="payload",aT="connect",cT="disconnect",lT="error",uT="2.22.4",dT={link_mode:"link_mode",relay:"relay"},hT="inbound",fT="WALLETCONNECT_LINK_MODE_APPS",pT="subscription_created",gT="subscription_deleted",mT=(Vw.FIVE_SECONDS,{wc_pairingDelete:{req:{ttl:Vw.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Vw.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Vw.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Vw.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Vw.ONE_DAY,prompt:!1,tag:0},res:{ttl:Vw.ONE_DAY,prompt:!1,tag:0}}}),yT="pairing_create",wT="pairing_delete",bT="history_created",vT="history_updated",xT="history_deleted",ET="expirer_created",kT="expirer_deleted",_T="expirer_expired",CT="https://verify.walletconnect.org",ST=CT,IT=`${ST}/v3`,AT=["https://verify.walletconnect.com",CT],TT="malformed_pairing_uri",PT="session_approve_started";var OT=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==n[o])throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var d=0,h=s-1;(0!==u||d<i)&&-1!==h;h--,d++)u+=a*o[h]>>>0,o[h]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(r+(s-f)),g=r;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,s=t.length;i!==s&&0===t[i];)i++,n++;for(var o=(s-i)*u+1>>>0,l=new Uint8Array(o);i!==s;){for(var d=t[i],h=0,f=o-1;(0!==d||h<r)&&-1!==f;f--,h++)d+=256*l[f]>>>0,l[f]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");r=h,i++}for(var p=o-r;p!==o&&0===l[p];)p++;for(var g=c.repeat(n);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:d,decode:function(e){var n=d(e);if(n)return n;throw new Error(`Non-${t} character`)}}};const jT=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class NT{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class RT{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return MT(this,e)}}class $T{constructor(e){this.decoders=e}or(e){return MT(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const MT=(e,t)=>new $T({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class LT{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new NT(e,t,n),this.decoder=new RT(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const BT=({name:e,prefix:t,encode:n,decode:r})=>new LT(e,t,n,r),UT=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=OT(n,t);return BT({prefix:e,name:t,encode:r,decode:e=>jT(i(e))})},DT=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>BT({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let s="",o=0,a=0;for(let r=0;r<e.length;++r)for(a=a<<8|e[r],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s})(e,r,n),decode:t=>((e,t,n,r)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let t=0;t<s;++t){const s=i[e[t]];if(void 0===s)throw new SyntaxError(`Non-${r} character`);c=c<<n|s,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(t,r,n,e)}),FT=BT({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var zT=Object.freeze({__proto__:null,identity:FT});const WT=DT({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var qT=Object.freeze({__proto__:null,base2:WT});const HT=DT({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var VT=Object.freeze({__proto__:null,base8:HT});const KT=UT({prefix:"9",name:"base10",alphabet:"0123456789"});var GT=Object.freeze({__proto__:null,base10:KT});const ZT=DT({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),YT=DT({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var JT=Object.freeze({__proto__:null,base16:ZT,base16upper:YT});const QT=DT({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),XT=DT({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),eP=DT({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),tP=DT({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),nP=DT({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),rP=DT({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),iP=DT({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),sP=DT({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),oP=DT({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var aP=Object.freeze({__proto__:null,base32:QT,base32upper:XT,base32pad:eP,base32padupper:tP,base32hex:nP,base32hexupper:rP,base32hexpad:iP,base32hexpadupper:sP,base32z:oP});const cP=UT({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),lP=UT({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var uP=Object.freeze({__proto__:null,base36:cP,base36upper:lP});const dP=UT({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),hP=UT({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var fP=Object.freeze({__proto__:null,base58btc:dP,base58flickr:hP});const pP=DT({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),gP=DT({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),mP=DT({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),yP=DT({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var wP=Object.freeze({__proto__:null,base64:pP,base64pad:gP,base64url:mP,base64urlpad:yP});const bP=Array.from(""),vP=bP.reduce((e,t,n)=>(e[n]=t,e),[]),xP=bP.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]),EP=BT({prefix:"",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+vP[t],"")},decode:function(e){const t=[];for(const n of e){const e=xP[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var kP=Object.freeze({__proto__:null,base256emoji:EP}),_P=128,CP=-128,SP=Math.pow(2,31),IP=Math.pow(2,7),AP=Math.pow(2,14),TP=Math.pow(2,21),PP=Math.pow(2,28),OP=Math.pow(2,35),jP=Math.pow(2,42),NP=Math.pow(2,49),RP=Math.pow(2,56),$P=Math.pow(2,63),MP=function e(t,n,r){n=n||[];for(var i=r=r||0;t>=SP;)n[r++]=255&t|_P,t/=128;for(;t&CP;)n[r++]=255&t|_P,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},LP=function(e){return e<IP?1:e<AP?2:e<TP?3:e<PP?4:e<OP?5:e<jP?6:e<NP?7:e<RP?8:e<$P?9:10};const BP=(e,t,n=0)=>(MP(e,t,n),t),UP=e=>LP(e),DP=(e,t)=>{const n=t.byteLength,r=UP(e),i=r+UP(n),s=new Uint8Array(i+n);return BP(e,s,0),BP(n,s,r),s.set(t,i),new FP(e,n,t,s)};class FP{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const zP=({name:e,code:t,encode:n})=>new WP(e,t,n);class WP{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?DP(this.code,t):t.then(e=>DP(this.code,e))}throw Error("Unknown type, must be binary type")}}const qP=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),HP=zP({name:"sha2-256",code:18,encode:qP("SHA-256")}),VP=zP({name:"sha2-512",code:19,encode:qP("SHA-512")});Object.freeze({__proto__:null,sha256:HP,sha512:VP});const KP=jT,GP={code:0,name:"identity",encode:KP,digest:e=>DP(0,KP(e))};Object.freeze({__proto__:null,identity:GP}),new TextEncoder,new TextDecoder;const ZP={...zT,...qT,...VT,...GT,...JT,...aP,...uP,...fP,...wP,...kP};function YP(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function JP(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const QP=JP("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),XP=JP("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{const t=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?YP(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),eO={utf8:QP,"utf-8":QP,hex:ZP.base16,latin1:XP,ascii:XP,binary:XP,...ZP};var tO=Object.defineProperty,nO=(e,t,n)=>((e,t,n)=>t in e?tO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class rO{constructor(e,t){this.core=e,this.logger=t,nO(this,"keychain",new Map),nO(this,"name","keychain"),nO(this,"version","0.3"),nO(this,"initialized",!1),nO(this,"storagePrefix",YA),nO(this,"init",async()=>{if(!this.initialized){const e=await this.getKeyChain();typeof e<"u"&&(this.keychain=e),this.initialized=!0}}),nO(this,"has",e=>(this.isInitialized(),this.keychain.has(e))),nO(this,"set",async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()}),nO(this,"get",e=>{this.isInitialized();const t=this.keychain.get(e);if(typeof t>"u"){const{message:t}=tA("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(t)}return t}),nO(this,"del",async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()}),this.core=e,this.logger=Hx(t,this.name)}get context(){return qx(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,wE(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?bE(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=tA("NOT_INITIALIZED",this.name);throw new Error(e)}}}var iO=Object.defineProperty,sO=(e,t,n)=>((e,t,n)=>t in e?iO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class oO{constructor(e,t,n){this.core=e,this.logger=t,sO(this,"name","crypto"),sO(this,"keychain"),sO(this,"randomSessionIdentifier",hI()),sO(this,"initialized",!1),sO(this,"clientId"),sO(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),sO(this,"hasKeys",e=>(this.isInitialized(),this.keychain.has(e))),sO(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const e=await this.getClientSeed(),t=mx.TZ(e),n=mx.UF(t.publicKey);return this.clientId=n,n}),sO(this,"generateKeyPair",()=>{this.isInitialized();const e=function(){const e=$S.utils.randomPrivateKey(),t=$S.getPublicKey(e);return{privateKey:(0,yx.dI)(e,cI),publicKey:(0,yx.dI)(t,cI)}}();return this.setPrivateKey(e.publicKey,e.privateKey)}),sO(this,"signJWT",async e=>{this.isInitialized();const t=await this.getClientSeed(),n=mx.TZ(t),r=this.randomSessionIdentifier,i=XA;return await mx.FA(r,e,i,n)}),sO(this,"generateSharedKey",(e,t,n)=>{this.isInitialized();const r=function(e,t){const n=$S.getSharedSecret((0,yx.sH)(e,cI),(0,yx.sH)(t,cI)),r=((e,t,n,r,i)=>function(e,t,n,r=32){nk(e),ek(r);const i=e.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/i);void 0===n&&(n=kC);const o=new Uint8Array(s*i),a=xC.create(e,t),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let e=0;e<s;e++)EC[0]=e+1,c.update(0===e?kC:l).update(n).update(EC).digestInto(l),o.set(l,i*e),a._cloneInto(c);return a.destroy(),c.destroy(),ok(l,EC),o.slice(0,r)}(e,function(e,t,n){return nk(e),void 0===n&&(n=new Uint8Array(e.outputLen)),xC(e,bk(n),bk(t))}(e,t,n),r,i))(_C,n,void 0,void 0,32);return(0,yx.dI)(r,cI)}(this.getPrivateKey(e),t);return this.setSymKey(r,n)}),sO(this,"setSymKey",async(e,t)=>{this.isInitialized();const n=t||fI(e);return await this.keychain.set(n,e),n}),sO(this,"deleteKeyPair",async e=>{this.isInitialized(),await this.keychain.del(e)}),sO(this,"deleteSymKey",async e=>{this.isInitialized(),await this.keychain.del(e)}),sO(this,"encode",async(e,t,n)=>{this.isInitialized();const r=xI(n),i=(0,Ex.h)(t);if(kI(r))return function(e,t){const n=gI(2),r=kk(12),i=bI({type:n,sealed:(0,yx.sH)(e,dI),iv:r});return t===uI?yI(i):i}(i,n?.encoding);if(EI(r)){const t=r.senderPublicKey,n=r.receiverPublicKey;e=await this.generateSharedKey(t,n)}const s=this.getSymKey(e),{type:o,senderPublicKey:a}=r;return function(e){const t=gI(typeof e.type<"u"?e.type:0);if(1===mI(t)&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof e.senderPublicKey<"u"?(0,yx.sH)(e.senderPublicKey,cI):void 0,r=typeof e.iv<"u"?(0,yx.sH)(e.iv,cI):kk(12),i=(0,yx.sH)(e.symKey,cI),s=bI({type:t,sealed:wC(i,r).encrypt((0,yx.sH)(e.message,dI)),iv:r,senderPublicKey:n});return e.encoding===uI?yI(s):s}({type:o,symKey:s,message:i,senderPublicKey:a,encoding:n?.encoding})}),sO(this,"decode",async(e,t,n)=>{this.isInitialized();const r=function(e,t){const n=vI({encoded:e,encoding:t?.encoding});return xI({type:mI(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?(0,yx.dI)(n.senderPublicKey,cI):void 0,receiverPublicKey:t?.receiverPublicKey})}(t,n);if(kI(r)){const e=function(e,t){const{sealed:n}=vI({encoded:e,encoding:t});return(0,yx.dI)(n,dI)}(t,n?.encoding);return(0,Ex.j)(e)}if(EI(r)){const t=r.receiverPublicKey,n=r.senderPublicKey;e=await this.generateSharedKey(t,n)}try{const r=function(e){const t=(0,yx.sH)(e.symKey,cI),{sealed:n,iv:r}=vI({encoded:e.encoded,encoding:e.encoding}),i=wC(t,r).decrypt(n);if(null===i)throw new Error("Failed to decrypt");return(0,yx.dI)(i,dI)}({symKey:this.getSymKey(e),encoded:t,encoding:n?.encoding});return(0,Ex.j)(r)}catch(t){this.logger.error(`Failed to decode message from topic: '${e}', clientId: '${await this.getClientId()}'`),this.logger.error(t)}}),sO(this,"getPayloadType",(e,t=lI)=>mI(vI({encoded:e,encoding:t}).type)),sO(this,"getPayloadSenderPublicKey",(e,t=lI)=>{const n=vI({encoded:e,encoding:t});return n.senderPublicKey?(0,yx.dI)(n.senderPublicKey,cI):void 0}),this.core=e,this.logger=Hx(t,this.name),this.keychain=n||new rO(this.core,this.logger)}get context(){return qx(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(QA)}catch{e=hI(),await this.keychain.set(QA,e)}return function(e,t="utf8"){const n=eO[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):YP(globalThis.Buffer.from(e,"utf-8"))}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=tA("NOT_INITIALIZED",this.name);throw new Error(e)}}}var aO=Object.defineProperty,cO=Object.defineProperties,lO=Object.getOwnPropertyDescriptors,uO=Object.getOwnPropertySymbols,dO=Object.prototype.hasOwnProperty,hO=Object.prototype.propertyIsEnumerable,fO=(e,t,n)=>t in e?aO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pO=(e,t,n)=>fO(e,"symbol"!=typeof t?t+"":t,n);class gO extends OA{constructor(e,t){super(e,t),this.logger=e,this.core=t,pO(this,"messages",new Map),pO(this,"messagesWithoutClientAck",new Map),pO(this,"name","messages"),pO(this,"version","0.3"),pO(this,"initialized",!1),pO(this,"storagePrefix",YA),pO(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const e=await this.getRelayerMessages();typeof e<"u"&&(this.messages=e);const t=await this.getRelayerMessagesWithoutClientAck();typeof t<"u"&&(this.messagesWithoutClientAck=t),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}finally{this.initialized=!0}}}),pO(this,"set",async(e,t,n)=>{this.isInitialized();const r=pI(t);let i=this.messages.get(e);if(typeof i>"u"&&(i={}),typeof i[r]<"u")return r;if(i[r]=t,this.messages.set(e,i),n===hT){const n=this.messagesWithoutClientAck.get(e)||{};this.messagesWithoutClientAck.set(e,((e,t)=>cO(e,lO(t)))(((e,t)=>{for(var n in t||(t={}))dO.call(t,n)&&fO(e,n,t[n]);if(uO)for(var n of uO(t))hO.call(t,n)&&fO(e,n,t[n]);return e})({},n),{[r]:t}))}return await this.persist(),r}),pO(this,"get",e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t}),pO(this,"getWithoutAck",e=>{this.isInitialized();const t={};for(const n of e){const e=this.messagesWithoutClientAck.get(n)||{};t[n]=Object.values(e)}return t}),pO(this,"has",(e,t)=>(this.isInitialized(),typeof this.get(e)[pI(t)]<"u")),pO(this,"ack",async(e,t)=>{this.isInitialized();const n=this.messagesWithoutClientAck.get(e);typeof n>"u"||(delete n[pI(t)],0===Object.keys(n).length?this.messagesWithoutClientAck.delete(e):this.messagesWithoutClientAck.set(e,n),await this.persist())}),pO(this,"del",async e=>{this.isInitialized(),this.messages.delete(e),this.messagesWithoutClientAck.delete(e),await this.persist()}),this.logger=Hx(e,this.name),this.core=t}get context(){return qx(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,wE(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,wE(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?bE(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?bE(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=tA("NOT_INITIALIZED",this.name);throw new Error(e)}}}var mO=Object.defineProperty,yO=Object.defineProperties,wO=Object.getOwnPropertyDescriptors,bO=Object.getOwnPropertySymbols,vO=Object.prototype.hasOwnProperty,xO=Object.prototype.propertyIsEnumerable,EO=(e,t,n)=>t in e?mO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kO=(e,t)=>{for(var n in t||(t={}))vO.call(t,n)&&EO(e,n,t[n]);if(bO)for(var n of bO(t))xO.call(t,n)&&EO(e,n,t[n]);return e},_O=(e,t)=>yO(e,wO(t)),CO=(e,t,n)=>EO(e,"symbol"!=typeof t?t+"":t,n);class SO extends jA{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,CO(this,"events",new Ww.EventEmitter),CO(this,"name","publisher"),CO(this,"queue",new Map),CO(this,"publishTimeout",(0,Vw.toMiliseconds)(Vw.ONE_MINUTE)),CO(this,"initialPublishTimeout",(0,Vw.toMiliseconds)(15*Vw.ONE_SECOND)),CO(this,"needsTransportRestart",!1),CO(this,"publish",async(e,t,n)=>{var r,i,s,o,a;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:n}});const c=n?.ttl||eT,l=n?.prompt||!1,u=n?.tag||0,d=n?.id||(0,HA.getBigIntRpcId)().toString(),h=CI(_I().protocol),f={id:d,method:n?.publishMethod||h.publish,params:kO({topic:e,message:t,ttl:c,prompt:l,tag:u,attestation:n?.attestation},n?.tvf)},p=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{sA(null==(r=f.params)?void 0:r.prompt)&&(null==(i=f.params)||delete i.prompt),sA(null==(s=f.params)?void 0:s.tag)&&(null==(o=f.params)||delete o.tag);const a=new Promise(async e=>{const t=({id:n})=>{var r;(null==(r=f.id)?void 0:r.toString())===n.toString()&&(this.removeRequestFromQueue(n),this.relayer.events.removeListener(sT,t),e())};this.relayer.events.on(sT,t);const r=xE(new Promise((e,t)=>{this.rpcPublish(f,n).then(e).catch(e=>{this.logger.warn(e,e?.message),t(e)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await r,this.events.removeListener(sT,t)}catch(e){this.queue.set(d,{request:f,opts:n,attempt:1}),this.logger.warn(e,e?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:e,message:t,opts:n}}),await xE(a,this.publishTimeout,p)}catch(e){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(e),null!=(a=n?.internal)&&a.throwOnFailedPublish)throw e}finally{this.queue.delete(d)}}),CO(this,"publishCustom",async e=>{var t,n,r,i,s;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:e});const{payload:o,opts:a={}}=e,{attestation:c,tvf:l,publishMethod:u,prompt:d,tag:h,ttl:f=Vw.FIVE_MINUTES}=a,p=a.id||(0,HA.getBigIntRpcId)().toString(),g=CI(_I().protocol),m=u||g.publish,y={id:p,method:m,params:kO(_O(kO({},o),{ttl:f,prompt:d,tag:h,attestation:c}),l)},w=`Failed to publish custom payload, please try again. id:${p} tag:${h}`;try{sA(null==(t=y.params)?void 0:t.prompt)&&(null==(n=y.params)||delete n.prompt),sA(null==(r=y.params)?void 0:r.tag)&&(null==(i=y.params)||delete i.tag);const e=new Promise(async e=>{const t=({id:n})=>{var r;(null==(r=y.id)?void 0:r.toString())===n.toString()&&(this.removeRequestFromQueue(n),this.relayer.events.removeListener(sT,t),e())};this.relayer.events.on(sT,t);const n=xE(new Promise((e,t)=>{this.rpcPublish(y,a).then(e).catch(e=>{this.logger.warn(e,e?.message),t(e)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${m} id:${p} tag:${h}`);try{await n,this.events.removeListener(sT,t)}catch(e){this.queue.set(p,{request:y,opts:a,attempt:1}),this.logger.warn(e,e?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:p,payload:o,opts:a}}),await xE(e,this.publishTimeout,w)}catch(e){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(e),null!=(s=a?.internal)&&s.throwOnFailedPublish)throw e}finally{this.queue.delete(p)}}),CO(this,"on",(e,t)=>{this.events.on(e,t)}),CO(this,"once",(e,t)=>{this.events.once(e,t)}),CO(this,"off",(e,t)=>{this.events.off(e,t)}),CO(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.relayer=e,this.logger=Hx(t,this.name),this.registerEventListeners()}get context(){return qx(this.logger)}async rpcPublish(e,t){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const n=await this.relayer.request(e);return this.relayer.events.emit(sT,kO(kO({},e),t)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{var n;const r=e.attempt+1;this.queue.set(t,_O(kO({},e),{attempt:r})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${null==(n=e.request.params)?void 0:n.tag}, attempt: ${r}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(kA.li.pulse,()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit(iT);this.checkQueue()}),this.relayer.on(rT,e=>{this.removeRequestFromQueue(e.id.toString())})}}var IO=Object.defineProperty,AO=(e,t,n)=>((e,t,n)=>t in e?IO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class TO{constructor(){AO(this,"map",new Map),AO(this,"set",(e,t)=>{const n=this.get(e);this.exists(e,t)||this.map.set(e,[...n,t])}),AO(this,"get",e=>this.map.get(e)||[]),AO(this,"exists",(e,t)=>this.get(e).includes(t)),AO(this,"delete",(e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,t))return;const r=n.filter(e=>e!==t);r.length?this.map.set(e,r):this.map.delete(e)}),AO(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var PO=Object.defineProperty,OO=Object.defineProperties,jO=Object.getOwnPropertyDescriptors,NO=Object.getOwnPropertySymbols,RO=Object.prototype.hasOwnProperty,$O=Object.prototype.propertyIsEnumerable,MO=(e,t,n)=>t in e?PO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,LO=(e,t)=>{for(var n in t||(t={}))RO.call(t,n)&&MO(e,n,t[n]);if(NO)for(var n of NO(t))$O.call(t,n)&&MO(e,n,t[n]);return e},BO=(e,t)=>OO(e,jO(t)),UO=(e,t,n)=>MO(e,"symbol"!=typeof t?t+"":t,n);class DO extends $A{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,UO(this,"subscriptions",new Map),UO(this,"topicMap",new TO),UO(this,"events",new Ww.EventEmitter),UO(this,"name","subscription"),UO(this,"version","0.3"),UO(this,"pending",new Map),UO(this,"cached",[]),UO(this,"initialized",!1),UO(this,"storagePrefix",YA),UO(this,"subscribeTimeout",(0,Vw.toMiliseconds)(Vw.ONE_MINUTE)),UO(this,"initialSubscribeTimeout",(0,Vw.toMiliseconds)(15*Vw.ONE_SECOND)),UO(this,"clientId"),UO(this,"batchSubscribeTopicsLimit",500),UO(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),UO(this,"subscribe",async(e,t)=>{var n;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{const r=_I(t),i={topic:e,relay:r,transportType:t?.transportType};null!=(n=t?.internal)&&n.skipSubscribe||this.pending.set(e,i);const s=await this.rpcSubscribe(e,r,t);return"string"==typeof s&&(this.onSubscribe(s,i),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}})),s}catch(e){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(e),e}}),UO(this,"unsubscribe",async(e,t)=>{this.isInitialized(),typeof t?.id<"u"?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)}),UO(this,"isSubscribed",e=>new Promise(t=>{t(this.topicMap.topics.includes(e))})),UO(this,"isKnownTopic",e=>new Promise(t=>{t(this.topicMap.topics.includes(e)||this.pending.has(e)||this.cached.some(t=>t.topic===e))})),UO(this,"on",(e,t)=>{this.events.on(e,t)}),UO(this,"once",(e,t)=>{this.events.once(e,t)}),UO(this,"off",(e,t)=>{this.events.off(e,t)}),UO(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),UO(this,"start",async()=>{await this.onConnect()}),UO(this,"stop",async()=>{await this.onDisconnect()}),UO(this,"restart",async()=>{await this.restore(),await this.onRestart()}),UO(this,"checkPending",async()=>{if(!(0!==this.pending.size||this.initialized&&this.relayer.connected))return;const e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}),UO(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(kA.li.pulse,async()=>{await this.checkPending()}),this.events.on(pT,async e=>{const t=pT;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(gT,async e=>{const t=gT;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}),this.relayer=e,this.logger=Hx(t,this.name),this.clientId=""}get context(){return qx(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let n=!1;try{n=this.getSubscription(e).topic===t}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const n=this.topicMap.get(e);await Promise.all(n.map(async n=>await this.unsubscribeById(e,n,t)))}async unsubscribeById(e,t,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}});try{const r=_I(n);await this.restartToComplete({topic:e,id:t,relay:r}),await this.rpcUnsubscribe(e,t,r);const i=nA("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}})}catch(e){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(e),e}}async rpcSubscribe(e,t,n){var r,i;const s=await this.getSubscriptionId(e);if(null!=(r=n?.internal)&&r.skipSubscribe)return s;(!n||n?.transportType===dT.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const o={method:CI(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o});const a=null==(i=n?.internal)?void 0:i.throwOnFailedPublish;try{if(n?.transportType===dT.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(o).catch(e=>this.logger.warn(e))},(0,Vw.toMiliseconds)(Vw.ONE_SECOND)),s;const t=new Promise(async t=>{const n=r=>{r.topic===e&&(this.events.removeListener(pT,n),t(r.id))};this.events.on(pT,n);try{const r=await xE(new Promise((e,t)=>{this.relayer.request(o).catch(e=>{this.logger.warn(e,e?.message),t(e)}).then(e)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(pT,n),t(r)}catch{}}),r=await xE(t,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!r&&a)throw new Error(`Subscribing to ${e} failed, please try again`);return r?s:null}catch(e){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(iT),a)throw e}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t={method:CI(e[0].relay.protocol).batchSubscribe,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{await await xE(new Promise(e=>{this.relayer.request(t).catch(e=>this.logger.warn(e)).then(e)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(iT)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t={method:CI(e[0].relay.protocol).batchFetchMessages,params:{topics:e.map(e=>e.topic)}};let n;this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{n=await await xE(new Promise((e,n)=>{this.relayer.request(t).catch(e=>{this.logger.warn(e),n(e)}).then(e)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(iT)}return n}rpcUnsubscribe(e,t,n){const r={method:CI(n.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r}),this.relayer.request(r)}onSubscribe(e,t){this.setSubscription(e,BO(LO({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(e=>{this.setSubscription(e.id,LO({},e)),this.pending.delete(e.topic)})}async onUnsubscribe(e,t,n){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,LO({},t)),this.topicMap.set(t.topic,e),this.events.emit(pT,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:t}=tA("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(gT,BO(LO({},n),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit("subscription_sync")}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<t;n++){const t=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(t)}}this.events.emit("subscription_resubscribed")}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(e=>{var t;return e.topic===(null==(t=this.subscriptions.get(e.id))?void 0:t.topic)})){const{message:e}=tA("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async e=>BO(LO({},e),{id:await this.getSubscriptionId(e.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await function(e){return new Promise(t=>setTimeout(t,e))}((0,Vw.toMiliseconds)(Vw.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=tA("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return pI(e+await this.getClientId())}}var FO=Object.defineProperty,zO=Object.getOwnPropertySymbols,WO=Object.prototype.hasOwnProperty,qO=Object.prototype.propertyIsEnumerable,HO=(e,t,n)=>t in e?FO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VO=(e,t)=>{for(var n in t||(t={}))WO.call(t,n)&&HO(e,n,t[n]);if(zO)for(var n of zO(t))qO.call(t,n)&&HO(e,n,t[n]);return e},KO=(e,t,n)=>HO(e,"symbol"!=typeof t?t+"":t,n);class GO extends NA{constructor(e){var t;super(e),KO(this,"protocol","wc"),KO(this,"version",2),KO(this,"core"),KO(this,"logger"),KO(this,"events",new Ww.EventEmitter),KO(this,"provider"),KO(this,"messages"),KO(this,"subscriber"),KO(this,"publisher"),KO(this,"name","relayer"),KO(this,"transportExplicitlyClosed",!1),KO(this,"initialized",!1),KO(this,"connectionAttemptInProgress",!1),KO(this,"relayUrl"),KO(this,"projectId"),KO(this,"packageName"),KO(this,"bundleId"),KO(this,"hasExperiencedNetworkDisruption",!1),KO(this,"pingTimeout"),KO(this,"heartBeatTimeout",(0,Vw.toMiliseconds)(Vw.THIRTY_SECONDS+Vw.FIVE_SECONDS)),KO(this,"reconnectTimeout"),KO(this,"connectPromise"),KO(this,"reconnectInProgress",!1),KO(this,"requestsInFlight",[]),KO(this,"connectTimeout",(0,Vw.toMiliseconds)(15*Vw.ONE_SECOND)),KO(this,"request",async e=>{var t,n;this.logger.debug("Publishing Request Payload");const r=e.id||(0,HA.getBigIntRpcId)().toString();await this.toEstablishConnection();try{this.logger.trace({id:r,method:e.method,topic:null==(t=e.params)?void 0:t.topic},"relayer.request - publishing...");const i=`${r}:${(null==(n=e.params)?void 0:n.tag)||""}`;this.requestsInFlight.push(i);const s=await this.provider.request(e);return this.requestsInFlight=this.requestsInFlight.filter(e=>e!==i),s}catch(e){throw this.logger.debug(`Failed to Publish Request: ${r}`),e}}),KO(this,"resetPingTimeout",()=>{uE()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var e,t,n,r;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),null==(r=null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.terminate)||r.call(n)}catch(e){this.logger.warn(e,e?.message)}},this.heartBeatTimeout))}),KO(this,"onPayloadHandler",e=>{this.onProviderPayload(e),this.resetPingTimeout()}),KO(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit("relayer_connect")}),KO(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),KO(this,"onProviderErrorHandler",e=>{this.logger.fatal(`Fatal socket error: ${e.message}`),this.events.emit("relayer_error",e),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),KO(this,"registerProviderListeners",()=>{this.provider.on(oT,this.onPayloadHandler),this.provider.on(aT,this.onConnectHandler),this.provider.on(cT,this.onDisconnectHandler),this.provider.on(lT,this.onProviderErrorHandler)}),this.core=e.core,this.logger=EA({logger:null!=(t=e.logger)?t:"error",name:this.name}),this.messages=new gO(this.logger,e.core),this.subscriber=new DO(this,this.logger),this.publisher=new SO(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||tT,dE()&&typeof global<"u"&&typeof(null==global?void 0:global.Platform)<"u"&&"android"===(null==global?void 0:global.Platform.OS)?this.packageName=pE():dE()&&typeof global<"u"&&typeof(null==global?void 0:global.Platform)<"u"&&"ios"===(null==global?void 0:global.Platform.OS)&&(this.bundleId=pE()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return qx(this.logger)}get connected(){var e,t,n;return 1===(null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.readyState)||!1}get connecting(){var e,t,n;return 0===(null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.readyState)||void 0!==this.connectPromise||!1}async publish(e,t,n){this.isInitialized(),await this.publisher.publish(e,t,n),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:dT.relay},"outbound")}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,t){var n,r,i;this.isInitialized(),(null==t||!t.transportType||"relay"===t?.transportType)&&await this.toEstablishConnection();const s=typeof(null==(n=t?.internal)?void 0:n.throwOnFailedPublish)>"u"||(null==(r=t?.internal)?void 0:r.throwOnFailedPublish);let o,a=(null==(i=this.subscriber.topicMap.get(e))?void 0:i[0])||"";const c=t=>{t.topic===e&&(this.subscriber.off(pT,c),o())};return await Promise.all([new Promise(e=>{o=e,this.subscriber.on(pT,c)}),new Promise(async(n,r)=>{a=await this.subscriber.subscribe(e,VO({internal:{throwOnFailedPublish:s}},t)).catch(e=>{s&&r(e)})||a,n()})]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await xE(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(this.subscriber.hasAnyTopics){if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(t,n)=>{await this.connect(e).then(t).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}else this.logger.info("Starting WS connection skipped because the client has no topics to work with.")}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await yA())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(0===e?.length)return void this.logger.trace("Batch message events is empty. Ignoring...");const t=e.sort((e,t)=>e.publishedAt-t.publishedAt);this.logger.debug(`Batch of ${t.length} message events sorted`);for(const e of t)try{await this.onMessageEvent(e)}catch(e){this.logger.warn(e,"Error while processing batch message event: "+e?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){const{topic:n}=e;if(!t.sessionExists){const e={topic:n,expiry:_E(Vw.FIVE_MINUTES),relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,e)}this.events.emit(nT,e),await this.recordMessageEvent(e,hT)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(e,t)=>{const n=()=>{t(new Error("Connection interrupted while trying to connect"))};this.provider.once(cT,n),await xE(new Promise((e,t)=>{this.provider.connect().then(e).catch(t)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(e=>{t(e)}).finally(()=>{this.provider.off(cT,n),clearTimeout(this.reconnectTimeout)}),await new Promise(async(e,n)=>{const r=()=>{t(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(cT,r),await this.subscriber.start().then(e).catch(n).finally(()=>{this.provider.off(cT,r)})}),this.hasExperiencedNetworkDisruption=!1,e()})}catch(e){await this.subscriber.stop();const t=e;this.logger.warn({},t.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(e=>setTimeout(e,(0,Vw.toMiliseconds)(1*t))),t++}}startPingTimeout(){var e,t,n,r,i;if(uE())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(i=null==(r=null==(n=this.provider)?void 0:n.connection)?void 0:r.socket)||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(e){this.logger.warn(e,e?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new qA.F(new VA.A(function({protocol:e,version:t,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u={auth:i,ua:mE(e,t,r),projectId:s,useOnCloseEvent:o||void 0,packageName:c||void 0,bundleId:a||void 0},d=function(e,t){const n=new URLSearchParams(e);return Object.entries(t).sort(([e],[t])=>e.localeCompare(t)).forEach(([e,t])=>{null!=t&&n.set(e,String(t))}),n.toString()}(l[1]||"",u);return l[0]+"?"+d}({sdkVersion:uT,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){const{topic:n,message:r}=e;await this.messages.set(n,r,t)}async shouldIgnoreMessageEvent(e){const{topic:t,message:n}=e;if(!n||0===n.length)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;const r=this.messages.has(t,n);return r&&this.logger.warn(`Ignoring duplicate message: ${n}`),r}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),(0,HA.isJsonRpcRequest)(e)){if(!e.method.endsWith("_subscription"))return;const t=e.params,{topic:n,message:r,publishedAt:i,attestation:s}=t.data,o={topic:n,message:r,publishedAt:i,transportType:dT.relay,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(VO({type:"event",event:t.id},o)),this.events.emit(t.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else(0,HA.isJsonRpcResponse)(e)&&this.events.emit(rT,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,hT),this.events.emit(nT,e))}async acknowledgePayload(e){const t=(0,HA.formatJsonRpcResult)(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(oT,this.onPayloadHandler),this.provider.off(aT,this.onConnectHandler),this.provider.off(cT,this.onDisconnectHandler),this.provider.off(lT,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await yA();(function(e){switch(fE()){case cE:!function(e){!dE()&&hE()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}(e);break;case aE:!function(e){dE()&&typeof global<"u"&&null!=global&&global.NetInfo&&global?.NetInfo.addEventListener(t=>e(t?.isConnected))}(e)}})(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(e=>this.logger.error(e,e?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(kA.li.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&function(){var e;return!hE()||!(0,Kw.getDocument)()||"visible"===(null==(e=(0,Kw.getDocument)())?void 0:e.visibilityState)}())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(e){this.logger.warn(e,e?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit("relayer_disconnect"),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,Vw.toMiliseconds)(.1)))))}isInitialized(){if(!this.initialized){const{message:e}=tA("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise)return void await this.connectPromise;await this.connect()}}}function ZO(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function YO(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const JO="[object Arguments]",QO="[object Object]";function XO(){}function ej(e){if(!e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}function tj(e,t,n,r,i,s,o){const a=o(e,t,n,r,i,s);if(void 0!==a)return a;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return nj(e,t,s,o)}return nj(e,t,s,o)}function nj(e,t,n,r){if(Object.is(e,t))return!0;let i=YO(e),s=YO(t);if(i===JO&&(i=QO),s===JO&&(s=QO),i!==s)return!1;switch(i){case"[object String]":return e.toString()===t.toString();case"[object Number]":return function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}(e.valueOf(),t.valueOf());case"[object Boolean]":case"[object Date]":case"[object Symbol]":return Object.is(e.valueOf(),t.valueOf());case"[object RegExp]":return e.source===t.source&&e.flags===t.flags;case"[object Function]":return e===t}const o=(n=n??new Map).get(e),a=n.get(t);if(null!=o&&null!=a)return o===t;n.set(e,t),n.set(t,e);try{switch(i){case"[object Map]":if(e.size!==t.size)return!1;for(const[i,s]of e.entries())if(!t.has(i)||!tj(s,t.get(i),i,e,t,n,r))return!1;return!0;case"[object Set]":{if(e.size!==t.size)return!1;const i=Array.from(e.values()),s=Array.from(t.values());for(let o=0;o<i.length;o++){const a=i[o],c=s.findIndex(i=>tj(a,i,void 0,e,t,n,r));if(-1===c)return!1;s.splice(c,1)}return!0}case"[object Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":case"[object BigUint64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object BigInt64Array]":case"[object Float32Array]":case"[object Float64Array]":if(typeof KA<"u"&&KA.isBuffer(e)!==KA.isBuffer(t)||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!tj(e[i],t[i],i,e,t,n,r))return!1;return!0;case"[object ArrayBuffer]":return e.byteLength===t.byteLength&&nj(new Uint8Array(e),new Uint8Array(t),n,r);case"[object DataView]":return e.byteLength===t.byteLength&&e.byteOffset===t.byteOffset&&nj(new Uint8Array(e),new Uint8Array(t),n,r);case"[object Error]":return e.name===t.name&&e.message===t.message;case QO:{if(!(nj(e.constructor,t.constructor,n,r)||ej(e)&&ej(t)))return!1;const i=[...Object.keys(e),...ZO(e)],s=[...Object.keys(t),...ZO(t)];if(i.length!==s.length)return!1;for(let s=0;s<i.length;s++){const o=i[s],a=e[o];if(!Object.hasOwn(t,o))return!1;if(!tj(a,t[o],o,e,t,n,r))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}var rj=Object.defineProperty,ij=Object.getOwnPropertySymbols,sj=Object.prototype.hasOwnProperty,oj=Object.prototype.propertyIsEnumerable,aj=(e,t,n)=>t in e?rj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cj=(e,t)=>{for(var n in t||(t={}))sj.call(t,n)&&aj(e,n,t[n]);if(ij)for(var n of ij(t))oj.call(t,n)&&aj(e,n,t[n]);return e},lj=(e,t,n)=>aj(e,"symbol"!=typeof t?t+"":t,n);class uj extends RA{constructor(e,t,n,r=YA,i=void 0){super(e,t,n,r),this.core=e,this.logger=t,this.name=n,lj(this,"map",new Map),lj(this,"version","0.3"),lj(this,"cached",[]),lj(this,"initialized",!1),lj(this,"getKey"),lj(this,"storagePrefix",YA),lj(this,"recentlyDeleted",[]),lj(this,"recentlyDeletedLimit",200),lj(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>{this.getKey&&null!==e&&!sA(e)?this.map.set(this.getKey(e),e):function(e){var t;return null==(t=e?.proposer)?void 0:t.publicKey}(e)?this.map.set(e.id,e):function(e){return e?.topic}(e)&&this.map.set(e.topic,e)}),this.cached=[],this.initialized=!0)}),lj(this,"set",async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())}),lj(this,"get",e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e))),lj(this,"getAll",e=>(this.isInitialized(),e?this.values.filter(t=>Object.keys(e).every(n=>function(e,t){return function(e,t,n){return tj(e,t,void 0,void 0,void 0,void 0,n)}(e,t,XO)}(t[n],e[n]))):this.values)),lj(this,"update",async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});const n=cj(cj({},this.getData(e)),t);this.map.set(e,n),await this.persist()}),lj(this,"delete",async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),this.addToRecentlyDeleted(e),await this.persist())}),this.logger=Hx(t,this.name),this.storagePrefix=r,this.getKey=i}get context(){return qx(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:t}=tA("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(t),new Error(t)}const{message:t}=tA("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),new Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:e}=tA("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=tA("NOT_INITIALIZED",this.name);throw new Error(e)}}}var dj=Object.defineProperty,hj=(e,t,n)=>((e,t,n)=>t in e?dj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class fj{constructor(e,t){this.core=e,this.logger=t,hj(this,"name","pairing"),hj(this,"version","0.3"),hj(this,"events",new Ww),hj(this,"pairings"),hj(this,"initialized",!1),hj(this,"storagePrefix",YA),hj(this,"ignoredPayloadTypes",[1]),hj(this,"registeredMethods",[]),hj(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),hj(this,"register",({methods:e})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...e])]}),hj(this,"create",async e=>{this.isInitialized();const t=hI(),n=await this.core.crypto.setSymKey(t),r=_E(Vw.FIVE_MINUTES),i={protocol:"irn"},s={topic:n,expiry:r,relay:i,active:!1,methods:e?.methods},o=LI({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:t,relay:i,expiryTimestamp:r,methods:e?.methods});return this.events.emit(yT,s),this.core.expirer.set(n,r),await this.pairings.set(n,s),await this.core.relayer.subscribe(n,{transportType:e?.transportType,internal:e?.internal}),{topic:n,uri:o}}),hj(this,"pair",async e=>{this.isInitialized();const t=this.core.eventClient.createEvent({properties:{topic:e?.uri,trace:["pairing_started"]}});this.isValidPair(e,t);const{topic:n,symKey:r,relay:i,expiryTimestamp:s,methods:o}=$I(e.uri);let a;if(t.props.properties.topic=n,t.addTrace("pairing_uri_validation_success"),t.addTrace("pairing_uri_not_expired"),this.pairings.keys.includes(n)){if(a=this.pairings.get(n),t.addTrace("existing_pairing"),a.active)throw t.setError("active_pairing_already_exists"),new Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);t.addTrace("pairing_not_expired")}const c=s||_E(Vw.FIVE_MINUTES),l={topic:n,relay:i,expiry:c,active:!1,methods:o};this.core.expirer.set(n,c),await this.pairings.set(n,l),t.addTrace("store_new_pairing"),e.activatePairing&&await this.activate({topic:n}),this.events.emit(yT,l),t.addTrace("emit_inactive_pairing"),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(r,n),t.addTrace("subscribing_pairing_topic");try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{t.setError("no_internet_connection")}try{await this.core.relayer.subscribe(n,{relay:i})}catch(e){throw t.setError("subscribe_pairing_topic_failure"),e}return t.addTrace("subscribe_pairing_topic_success"),l}),hj(this,"activate",async({topic:e})=>{this.isInitialized();const t=_E(Vw.FIVE_MINUTES);this.core.expirer.set(e,t),await this.pairings.update(e,{active:!0,expiry:t})}),hj(this,"ping",async e=>{this.isInitialized(),await this.isValidPing(e),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:t}=e;if(this.pairings.keys.includes(t)){const e=await this.sendRequest(t,"wc_pairingPing",{}),{done:n,resolve:r,reject:i}=vE();this.events.once(SE("pairing_ping",e),({error:e})=>{e?i(e):r()}),await n()}}),hj(this,"updateExpiry",async({topic:e,expiry:t})=>{this.isInitialized(),await this.pairings.update(e,{expiry:t})}),hj(this,"updateMetadata",async({topic:e,metadata:t})=>{this.isInitialized(),await this.pairings.update(e,{peerMetadata:t})}),hj(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),hj(this,"disconnect",async e=>{this.isInitialized(),await this.isValidDisconnect(e);const{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",nA("USER_DISCONNECTED")),await this.deletePairing(t))}),hj(this,"formatUriFromPairing",e=>{this.isInitialized();const{topic:t,relay:n,expiry:r,methods:i}=e,s=this.core.crypto.keychain.get(t);return LI({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:s,relay:n,expiryTimestamp:r,methods:i})}),hj(this,"sendRequest",async(e,t,n)=>{const r=(0,HA.formatJsonRpcRequest)(t,n),i=await this.core.crypto.encode(e,r),s=mT[t].req;return this.core.history.set(e,r),this.core.relayer.publish(e,i,s),r.id}),hj(this,"sendResult",async(e,t,n)=>{const r=(0,HA.formatJsonRpcResult)(e,n),i=await this.core.crypto.encode(t,r),s=(await this.core.history.get(t,e)).request.method,o=mT[s].res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(r)}),hj(this,"sendError",async(e,t,n)=>{const r=(0,HA.formatJsonRpcError)(e,n),i=await this.core.crypto.encode(t,r),s=(await this.core.history.get(t,e)).request.method,o=mT[s]?mT[s].res:mT.unregistered_method.res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(r)}),hj(this,"deletePairing",async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,nA("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])}),hj(this,"cleanup",async()=>{const e=this.pairings.getAll().filter(e=>CE(e.expiry));await Promise.all(e.map(e=>this.deletePairing(e.topic)))}),hj(this,"onRelayEventRequest",async e=>{const{topic:t,payload:n}=e;switch(n.method){case"wc_pairingPing":return await this.onPairingPingRequest(t,n);case"wc_pairingDelete":return await this.onPairingDeleteRequest(t,n);default:return await this.onUnknownRpcMethodRequest(t,n)}}),hj(this,"onRelayEventResponse",async e=>{const{topic:t,payload:n}=e,r=(await this.core.history.get(t,n.id)).request.method;return"wc_pairingPing"===r?this.onPairingPingResponse(t,n):this.onUnknownRpcMethodResponse(r)}),hj(this,"onPairingPingRequest",async(e,t)=>{const{id:n}=t;try{this.isValidPing({topic:e}),await this.sendResult(n,e,!0),this.events.emit("pairing_ping",{id:n,topic:e})}catch(t){await this.sendError(n,e,t),this.logger.error(t)}}),hj(this,"onPairingPingResponse",(e,t)=>{const{id:n}=t;setTimeout(()=>{(0,HA.isJsonRpcResult)(t)?this.events.emit(SE("pairing_ping",n),{}):(0,HA.isJsonRpcError)(t)&&this.events.emit(SE("pairing_ping",n),{error:t.error})},500)}),hj(this,"onPairingDeleteRequest",async(e,t)=>{const{id:n}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(wT,{id:n,topic:e})}catch(t){await this.sendError(n,e,t),this.logger.error(t)}}),hj(this,"onUnknownRpcMethodRequest",async(e,t)=>{const{id:n,method:r}=t;try{if(this.registeredMethods.includes(r))return;const t=nA("WC_METHOD_UNSUPPORTED",r);await this.sendError(n,e,t),this.logger.error(t)}catch(t){await this.sendError(n,e,t),this.logger.error(t)}}),hj(this,"onUnknownRpcMethodResponse",e=>{this.registeredMethods.includes(e)||this.logger.error(nA("WC_METHOD_UNSUPPORTED",e))}),hj(this,"isValidPair",(e,t)=>{var n;if(!fA(e)){const{message:n}=tA("MISSING_OR_INVALID",`pair() params: ${e}`);throw t.setError(TT),new Error(n)}if(!function(e){function t(e){try{return typeof new URL(e)<"u"}catch{return!1}}try{if(oA(e,!1))return!!t(e)||t(OE(e))}catch{}return!1}(e.uri)){const{message:n}=tA("MISSING_OR_INVALID",`pair() uri: ${e.uri}`);throw t.setError(TT),new Error(n)}const r=$I(e?.uri);if(null==(n=r?.relay)||!n.protocol){const{message:e}=tA("MISSING_OR_INVALID","pair() uri#relay-protocol");throw t.setError(TT),new Error(e)}if(null==r||!r.symKey){const{message:e}=tA("MISSING_OR_INVALID","pair() uri#symKey");throw t.setError(TT),new Error(e)}if(null!=r&&r.expiryTimestamp&&(0,Vw.toMiliseconds)(r?.expiryTimestamp)<Date.now()){t.setError("pairing_expired");const{message:e}=tA("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(e)}}),hj(this,"isValidPing",async e=>{if(!fA(e)){const{message:t}=tA("MISSING_OR_INVALID",`ping() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)}),hj(this,"isValidDisconnect",async e=>{if(!fA(e)){const{message:t}=tA("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)}),hj(this,"isValidPairingTopic",async e=>{if(!oA(e,!1)){const{message:t}=tA("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.pairings.keys.includes(e)){const{message:t}=tA("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(CE(this.pairings.get(e).expiry)){await this.deletePairing(e);const{message:t}=tA("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}),this.core=e,this.logger=Hx(t,this.name),this.pairings=new uj(this.core,this.logger,this.name,this.storagePrefix)}get context(){return qx(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=tA("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(nT,async e=>{const{topic:t,message:n,transportType:r}=e;if(this.pairings.keys.includes(t)&&r!==dT.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const e=await this.core.crypto.decode(t,n);(0,HA.isJsonRpcRequest)(e)?(this.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e})):(0,HA.isJsonRpcResponse)(e)&&(await this.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e}),this.core.history.delete(t,e.id)),await this.core.relayer.messages.ack(t,n)}catch(e){this.logger.error(e)}})}registerExpirerEvents(){this.core.expirer.on(_T,async e=>{const{topic:t}=kE(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit("pairing_expire",{topic:t}))})}}var pj=Object.defineProperty,gj=(e,t,n)=>((e,t,n)=>t in e?pj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class mj extends PA{constructor(e,t){super(e,t),this.core=e,this.logger=t,gj(this,"records",new Map),gj(this,"events",new Ww.EventEmitter),gj(this,"name","history"),gj(this,"version","0.3"),gj(this,"cached",[]),gj(this,"initialized",!1),gj(this,"storagePrefix",YA),gj(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.records.set(e.id,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),gj(this,"set",(e,t,n)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:n}),this.records.has(t.id))return;const r={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:n,expiry:_E(Vw.THIRTY_DAYS)};this.records.set(r.id,r),this.persist(),this.events.emit(bT,r)}),gj(this,"resolve",async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;const t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=(0,HA.isJsonRpcError)(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.persist(),this.events.emit(vT,t))}),gj(this,"get",async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t))),gj(this,"delete",(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach(n=>{if(n.topic===e){if(typeof t<"u"&&n.id!==t)return;this.records.delete(n.id),this.events.emit(xT,n)}}),this.persist()}),gj(this,"exists",async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e)),gj(this,"on",(e,t)=>{this.events.on(e,t)}),gj(this,"once",(e,t)=>{this.events.once(e,t)}),gj(this,"off",(e,t)=>{this.events.off(e,t)}),gj(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=Hx(t,this.name)}get context(){return qx(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const n={topic:t.topic,request:(0,HA.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:t}=tA("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit("history_sync")}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:e}=tA("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(bT,e=>{const t=bT;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(vT,e=>{const t=vT;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(xT,e=>{const t=xT;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.core.heartbeat.on(kA.li.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,Vw.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(xT,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=tA("NOT_INITIALIZED",this.name);throw new Error(e)}}}var yj=Object.defineProperty,wj=(e,t,n)=>((e,t,n)=>t in e?yj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class bj extends MA{constructor(e,t){super(e,t),this.core=e,this.logger=t,wj(this,"expirations",new Map),wj(this,"events",new Ww.EventEmitter),wj(this,"name","expirer"),wj(this,"version","0.3"),wj(this,"cached",[]),wj(this,"initialized",!1),wj(this,"storagePrefix",YA),wj(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.expirations.set(e.target,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),wj(this,"has",e=>{try{const t=this.formatTarget(e);return typeof this.getExpiration(t)<"u"}catch{return!1}}),wj(this,"set",(e,t)=>{this.isInitialized();const n=this.formatTarget(e),r={target:n,expiry:t};this.expirations.set(n,r),this.checkExpiry(n,r),this.events.emit(ET,{target:n,expiration:r})}),wj(this,"get",e=>{this.isInitialized();const t=this.formatTarget(e);return this.getExpiration(t)}),wj(this,"del",e=>{if(this.isInitialized(),this.has(e)){const t=this.formatTarget(e),n=this.getExpiration(t);this.expirations.delete(t),this.events.emit(kT,{target:t,expiration:n})}}),wj(this,"on",(e,t)=>{this.events.on(e,t)}),wj(this,"once",(e,t)=>{this.events.once(e,t)}),wj(this,"off",(e,t)=>{this.events.off(e,t)}),wj(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=Hx(t,this.name)}get context(){return qx(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return function(e){return EE("topic",e)}(e);if("number"==typeof e)return function(e){return EE("id",e)}(e);const{message:t}=tA("UNKNOWN_TYPE","Target type: "+typeof e);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit("expirer_sync")}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:e}=tA("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:t}=tA("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(t),new Error(t)}return t}checkExpiry(e,t){const{expiry:n}=t;(0,Vw.toMiliseconds)(n)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(_T,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(kA.li.pulse,()=>this.checkExpirations()),this.events.on(ET,e=>{const t=ET;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(_T,e=>{const t=_T;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(kT,e=>{const t=kT;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=tA("NOT_INITIALIZED",this.name);throw new Error(e)}}}var vj=Object.defineProperty,xj=(e,t,n)=>((e,t,n)=>t in e?vj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Ej extends LA{constructor(e,t,n){super(e,t,n),this.core=e,this.logger=t,this.store=n,xj(this,"name","verify-api"),xj(this,"abortController"),xj(this,"isDevEnv"),xj(this,"verifyUrlV3",IT),xj(this,"storagePrefix",YA),xj(this,"version",2),xj(this,"publicKey"),xj(this,"fetchPromise"),xj(this,"init",async()=>{var e;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,Vw.toMiliseconds)(null==(e=this.publicKey)?void 0:e.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),xj(this,"register",async e=>{if(!hE()||this.isDevEnv)return;const t=window.location.origin,{id:n,decryptedId:r}=e,i=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${t}&id=${n}&decryptedId=${r}`;try{const e=(0,Kw.getDocument)(),t=this.startAbortTimer(5*Vw.ONE_SECOND),r=await new Promise((r,s)=>{const o=()=>{window.removeEventListener("message",c),e.body.removeChild(a),s("attestation aborted")};this.abortController.signal.addEventListener("abort",o);const a=e.createElement("iframe");a.src=i,a.style.display="none",a.addEventListener("error",o,{signal:this.abortController.signal});const c=i=>{if(i.data&&"string"==typeof i.data)try{const s=JSON.parse(i.data);if("verify_attestation"===s.type){if((0,mx.Cq)(s.attestation).payload.id!==n)return;clearInterval(t),e.body.removeChild(a),this.abortController.signal.removeEventListener("abort",o),window.removeEventListener("message",c),r(null===s.attestation?"":s.attestation)}}catch(e){this.logger.warn(e)}};e.body.appendChild(a),window.addEventListener("message",c,{signal:this.abortController.signal})});return this.logger.debug(r,"jwt attestation"),r}catch(e){this.logger.warn(e)}return""}),xj(this,"resolve",async e=>{if(this.isDevEnv)return"";const{attestationId:t,hash:n,encryptedId:r}=e;if(""===t)return void this.logger.debug("resolve: attestationId is empty, skipping");if(t){if((0,mx.Cq)(t).payload.id!==r)return;const e=await this.isValidJwtAttestation(t);if(e)return e.isVerified?e:void this.logger.warn("resolve: jwt attestation: origin url not verified")}if(!n)return;const i=this.getVerifyUrl(e?.verifyUrl);return this.fetchAttestation(n,i)}),xj(this,"fetchAttestation",async(e,t)=>{this.logger.debug(`resolving attestation: ${e} from url: ${t}`);const n=this.startAbortTimer(5*Vw.ONE_SECOND),r=await fetch(`${t}/attestation/${e}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(n),200===r.status?await r.json():void 0}),xj(this,"getVerifyUrl",e=>{let t=e||ST;return AT.includes(t)||(this.logger.info(`verify url: ${t}, not included in trusted list, assigning default: ${ST}`),t=ST),t}),xj(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const e=this.startAbortTimer(Vw.FIVE_SECONDS),t=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(e),await t.json()}catch(e){this.logger.warn(e)}}),xj(this,"persistPublicKey",async e=>{this.logger.debug(e,"persisting public key to local storage"),await this.store.setItem(this.storeKey,e),this.publicKey=e}),xj(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),xj(this,"isValidJwtAttestation",async e=>{const t=await this.getPublicKey();try{if(t)return this.validateAttestation(e,t)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}const n=await this.fetchAndPersistPublicKey();try{if(n)return this.validateAttestation(e,n)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}}),xj(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),xj(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async e=>{const t=await this.fetchPublicKey();t&&(await this.persistPublicKey(t),e(t))});const e=await this.fetchPromise;return this.fetchPromise=void 0,e}),xj(this,"validateAttestation",(e,t)=>{const n=function(e,t){const[n,r,i]=e.split("."),s=Gx.from(wI(i),"base64");if(64!==s.length)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=_C(`${n}.${r}`),l=function(e){const t=Gx.from(e.x,"base64"),n=Gx.from(e.y,"base64");return(0,yx.xW)([new Uint8Array([4]),t,n])}(t);if(!oI.verify((0,yx.xW)([o,a]),c,l))throw new Error("Invalid signature");return(0,mx.Cq)(e).payload}(e,t.publicKey),r={hasExpired:(0,Vw.toMiliseconds)(n.exp)<Date.now(),payload:n};if(r.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:r.payload.origin,isScam:r.payload.isScam,isVerified:r.payload.isVerified}}),this.logger=Hx(t,this.name),this.abortController=new AbortController,this.isDevEnv=PE(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return qx(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,Vw.toMiliseconds)(e))}}var kj=Object.defineProperty,_j=(e,t,n)=>((e,t,n)=>t in e?kj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Cj extends BA{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,_j(this,"context","echo"),_j(this,"registerDeviceToken",async e=>{const{clientId:t,token:n,notificationType:r,enableEncrypted:i=!1}=e,s=`https://echo.walletconnect.com/${this.projectId}/clients`;await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:r,token:n,always_raw:i})})}),this.logger=Hx(t,this.context)}}var Sj=Object.defineProperty,Ij=Object.getOwnPropertySymbols,Aj=Object.prototype.hasOwnProperty,Tj=Object.prototype.propertyIsEnumerable,Pj=(e,t,n)=>t in e?Sj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Oj=(e,t)=>{for(var n in t||(t={}))Aj.call(t,n)&&Pj(e,n,t[n]);if(Ij)for(var n of Ij(t))Tj.call(t,n)&&Pj(e,n,t[n]);return e},jj=(e,t,n)=>Pj(e,"symbol"!=typeof t?t+"":t,n);class Nj extends UA{constructor(e,t,n=!0){super(e,t,n),this.core=e,this.logger=t,jj(this,"context","event-client"),jj(this,"storagePrefix",YA),jj(this,"storageVersion",.1),jj(this,"events",new Map),jj(this,"shouldPersist",!1),jj(this,"init",async()=>{if(!PE())try{const e={eventId:TE(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:mE(this.core.relayer.protocol,this.core.relayer.version,uT)}}};await this.sendEvent([e])}catch(e){this.logger.warn(e)}}),jj(this,"createEvent",e=>{const{event:t="ERROR",type:n="",properties:{topic:r,trace:i}}=e,s=TE(),o=this.core.projectId||"",a=Date.now(),c=Oj({eventId:s,timestamp:a,props:{event:t,type:n,properties:{topic:r,trace:i}},bundleId:o,domain:this.getAppDomain()},this.setMethods(s));return this.telemetryEnabled&&(this.events.set(s,c),this.shouldPersist=!0),c}),jj(this,"getEvent",e=>{const{eventId:t,topic:n}=e;if(t)return this.events.get(t);const r=Array.from(this.events.values()).find(e=>e.props.properties.topic===n);return r?Oj(Oj({},r),this.setMethods(r.eventId)):void 0}),jj(this,"deleteEvent",e=>{const{eventId:t}=e;this.events.delete(t),this.shouldPersist=!0}),jj(this,"setEventListeners",()=>{this.core.heartbeat.on(kA.li.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(e=>{(0,Vw.fromMiliseconds)(Date.now())-(0,Vw.fromMiliseconds)(e.timestamp)>86400&&(this.events.delete(e.eventId),this.shouldPersist=!0)})})}),jj(this,"setMethods",e=>({addTrace:t=>this.addTrace(e,t),setError:t=>this.setError(e,t)})),jj(this,"addTrace",(e,t)=>{const n=this.events.get(e);n&&(n.props.properties.trace.push(t),this.events.set(e,n),this.shouldPersist=!0)}),jj(this,"setError",(e,t)=>{const n=this.events.get(e);n&&(n.props.type=t,n.timestamp=Date.now(),this.events.set(e,n),this.shouldPersist=!0)}),jj(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),jj(this,"restore",async()=>{try{const e=await this.core.storage.getItem(this.storageKey)||[];if(!e.length)return;e.forEach(e=>{this.events.set(e.eventId,Oj(Oj({},e),this.setMethods(e.eventId)))})}catch(e){this.logger.warn(e)}}),jj(this,"submit",async()=>{if(!this.telemetryEnabled||0===this.events.size)return;const e=[];for(const[t,n]of this.events)n.props.type&&e.push(n);if(0!==e.length)try{if((await this.sendEvent(e)).ok)for(const t of e)this.events.delete(t.eventId),this.shouldPersist=!0}catch(e){this.logger.warn(e)}}),jj(this,"sendEvent",async e=>{const t=this.getAppDomain()?"":"&sp=desktop";return await fetch(`https://pulse.walletconnect.org/batch?projectId=${this.core.projectId}&st=events_sdk&sv=js-${uT}${t}`,{method:"POST",body:JSON.stringify(e)})}),jj(this,"getAppDomain",()=>gE().url),this.logger=Hx(t,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Rj=Object.defineProperty,$j=Object.getOwnPropertySymbols,Mj=Object.prototype.hasOwnProperty,Lj=Object.prototype.propertyIsEnumerable,Bj=(e,t,n)=>t in e?Rj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uj=(e,t)=>{for(var n in t||(t={}))Mj.call(t,n)&&Bj(e,n,t[n]);if($j)for(var n of $j(t))Lj.call(t,n)&&Bj(e,n,t[n]);return e},Dj=(e,t,n)=>Bj(e,"symbol"!=typeof t?t+"":t,n);class Fj extends AA{constructor(e){var t;super(e),Dj(this,"protocol","wc"),Dj(this,"version",2),Dj(this,"name",ZA),Dj(this,"relayUrl"),Dj(this,"projectId"),Dj(this,"customStoragePrefix"),Dj(this,"events",new Ww.EventEmitter),Dj(this,"logger"),Dj(this,"heartbeat"),Dj(this,"relayer"),Dj(this,"crypto"),Dj(this,"storage"),Dj(this,"history"),Dj(this,"expirer"),Dj(this,"pairing"),Dj(this,"verify"),Dj(this,"echoClient"),Dj(this,"linkModeSupportedApps"),Dj(this,"eventClient"),Dj(this,"initialized",!1),Dj(this,"logChunkController"),Dj(this,"on",(e,t)=>this.events.on(e,t)),Dj(this,"once",(e,t)=>this.events.once(e,t)),Dj(this,"off",(e,t)=>this.events.off(e,t)),Dj(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),Dj(this,"dispatchEnvelope",({topic:e,message:t,sessionExists:n})=>{if(!e||!t)return;const r={topic:e,message:t,publishedAt:Date.now(),transportType:dT.link_mode};this.relayer.onLinkMessageEvent(r,{sessionExists:n})});const n=this.getGlobalCore(e?.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(e){console.warn("Failed to copy global core",e)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||tT,this.customStoragePrefix=null!=e&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const r=(o={level:"string"==typeof e?.logger&&e.logger?e.logger:"error",name:ZA},Wx(zx({},o),{level:o?.level||"info"})),{logger:i,chunkLoggerController:s}=Vx({opts:r,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});var o;this.logChunkController=s,null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var e,t;null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(null==(t=this.logChunkController)||t.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Hx(i,this.name),this.heartbeat=new kA.VH,this.crypto=new oO(this,this.logger,e?.keychain),this.history=new mj(this,this.logger),this.expirer=new bj(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new _A.A(Uj(Uj({},JA),e?.storageOptions)),this.relayer=new GO({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new fj(this,this.logger),this.verify=new Ej(this,this.logger,this.storage),this.echoClient=new Cj(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Nj(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const t=new Fj(e);await t.initialize();const n=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",n),t}get context(){return qx(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return null==(e=this.logChunkController)?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(fT,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(fT)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const t=`_walletConnectCore_${e}`,n=`${t}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[t]}catch(e){return void console.warn("Failed to get global WalletConnect core",e)}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${(null==(t=e.opts)?void 0:t.customStoragePrefix)||""}`;globalThis[n]=e}catch(e){console.warn("Failed to set global WalletConnect core",e)}}isGlobalCoreDisabled(){try{return typeof GA<"u"&&"true"===GA.env.DISABLE_GLOBAL_CORE}catch{return!0}}}const zj=Fj,Wj="client",qj=`wc@2:${Wj}:`,Hj=Wj,Vj="WALLETCONNECT_DEEPLINK_CHOICE",Kj="Proposal expired",Gj=Vw.SEVEN_DAYS,Zj={wc_sessionPropose:{req:{ttl:Vw.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Vw.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Vw.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Vw.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Vw.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Vw.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Vw.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Vw.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Vw.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Vw.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Vw.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Vw.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Vw.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Vw.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Vw.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Vw.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Vw.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Vw.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Vw.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Vw.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Vw.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Vw.FIVE_MINUTES,prompt:!1,tag:1119}}},Yj={min:Vw.FIVE_MINUTES,max:Vw.SEVEN_DAYS},Jj="IDLE",Qj="ACTIVE",Xj={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},eN=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],tN="wc@1.5:auth:",nN=`${tN}:PUB_KEY`;var rN=Object.defineProperty,iN=Object.defineProperties,sN=Object.getOwnPropertyDescriptors,oN=Object.getOwnPropertySymbols,aN=Object.prototype.hasOwnProperty,cN=Object.prototype.propertyIsEnumerable,lN=(e,t,n)=>t in e?rN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uN=(e,t)=>{for(var n in t||(t={}))aN.call(t,n)&&lN(e,n,t[n]);if(oN)for(var n of oN(t))cN.call(t,n)&&lN(e,n,t[n]);return e},dN=(e,t)=>iN(e,sN(t)),hN=(e,t,n)=>lN(e,"symbol"!=typeof t?t+"":t,n);class fN extends WA{constructor(e){super(e),hN(this,"name","engine"),hN(this,"events",new Ww),hN(this,"initialized",!1),hN(this,"requestQueue",{state:Jj,queue:[]}),hN(this,"sessionRequestQueue",{state:Jj,queue:[]}),hN(this,"emittedSessionRequests",new jE({limit:500})),hN(this,"requestQueueDelay",Vw.ONE_SECOND),hN(this,"expectedPairingMethodMap",new Map),hN(this,"recentlyDeletedMap",new Map),hN(this,"recentlyDeletedLimit",200),hN(this,"relayMessageCache",[]),hN(this,"pendingSessions",new Map),hN(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Zj)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,Vw.toMiliseconds)(this.requestQueueDelay)))}),hN(this,"connect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const t=dN(uN({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t),t.optionalNamespaces=function(e,t){var n,r,i,s,o,a;const c=JI(e),l=JI(t),u={},d=Object.keys(c).concat(Object.keys(l));for(const e of d)u[e]={chains:IE(null==(n=c[e])?void 0:n.chains,null==(r=l[e])?void 0:r.chains),methods:IE(null==(i=c[e])?void 0:i.methods,null==(s=l[e])?void 0:s.methods),events:IE(null==(o=c[e])?void 0:o.events,null==(a=l[e])?void 0:a.events)};return u}(t.requiredNamespaces,t.optionalNamespaces),t.requiredNamespaces={};const{pairingTopic:n,requiredNamespaces:r,optionalNamespaces:i,sessionProperties:s,scopedProperties:o,relays:a}=t;let c,l=n,u=!1;try{if(l){const e=this.client.core.pairing.pairings.get(l);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),u=e.active}}catch(e){throw this.client.logger.error(`connect() -> pairing.get(${l}) failed`),e}if(!l||!u){const{topic:e,uri:t}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});l=e,c=t}if(!l){const{message:e}=tA("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error(e)}const d=await this.client.core.crypto.generateKeyPair(),h=Zj.wc_sessionPropose.req.ttl||Vw.FIVE_MINUTES,f=_E(h),p=dN(uN(uN({requiredNamespaces:r,optionalNamespaces:i,relays:a??[{protocol:"irn"}],proposer:{publicKey:d,metadata:this.client.metadata},expiryTimestamp:f,pairingTopic:l},s&&{sessionProperties:s}),o&&{scopedProperties:o}),{id:(0,HA.payloadId)()}),g=SE("session_connect",p.id),{reject:m,resolve:y,done:w}=vE(h,Kj),b=({id:e})=>{e===p.id&&(this.client.events.off("proposal_expire",b),this.pendingSessions.delete(p.id),this.events.emit(g,{error:{message:Kj,code:0}}))};return this.client.events.on("proposal_expire",b),this.events.once(g,({error:e,session:t})=>{this.client.events.off("proposal_expire",b),e?m(e):t&&y(t)}),await this.sendProposeSession({proposal:p,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:p.id}}}),await this.setProposal(p.id,p),{uri:c,approval:w}}),hN(this,"pair",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(e){throw this.client.logger.error("pair() failed"),e}}),hN(this,"approve",async e=>{var t,n,r;const i=this.client.core.eventClient.createEvent({properties:{topic:null==(t=e?.id)?void 0:t.toString(),trace:[PT]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(e){throw i.setError("no_internet_connection"),e}try{await this.isValidProposalId(e?.id)}catch(t){throw this.client.logger.error(`approve() -> proposal.get(${e?.id}) failed`),i.setError("proposal_not_found"),t}try{await this.isValidApprove(e)}catch(e){throw this.client.logger.error("approve() -> isValidApprove() failed"),i.setError("session_approve_namespace_validation_failure"),e}const{id:s,relayProtocol:o,namespaces:a,sessionProperties:c,scopedProperties:l,sessionConfig:u}=e,d=this.client.proposal.get(s);this.client.core.eventClient.deleteEvent({eventId:i.eventId});const{pairingTopic:h,proposer:f,requiredNamespaces:p,optionalNamespaces:g}=d;let m=null==(n=this.client.core.eventClient)?void 0:n.getEvent({topic:h});m||(m=null==(r=this.client.core.eventClient)?void 0:r.createEvent({type:PT,properties:{topic:h,trace:[PT,"session_namespaces_validation_success"]}}));const y=await this.client.core.crypto.generateKeyPair(),w=f.publicKey,b=await this.client.core.crypto.generateSharedKey(y,w),v=uN(uN(uN({relay:{protocol:o??"irn"},namespaces:a,controller:{publicKey:y,metadata:this.client.metadata},expiry:_E(Gj)},c&&{sessionProperties:c}),l&&{scopedProperties:l}),u&&{sessionConfig:u}),x=dT.relay;m.addTrace("subscribing_session_topic");try{await this.client.core.relayer.subscribe(b,{transportType:x,internal:{skipSubscribe:!0}})}catch(e){throw m.setError("subscribe_session_topic_failure"),e}m.addTrace("subscribe_session_topic_success");const E=dN(uN({},v),{topic:b,requiredNamespaces:p,optionalNamespaces:g,pairingTopic:h,acknowledged:!1,self:v.controller,peer:{publicKey:f.publicKey,metadata:f.metadata},controller:y,transportType:dT.relay});await this.client.session.set(b,E),m.addTrace("store_session");try{await this.sendApproveSession({sessionTopic:b,proposal:d,pairingProposalResponse:{relay:{protocol:o??"irn"},responderPublicKey:y},sessionSettleRequest:v,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:s}}}),m.addTrace("session_approve_publish_success")}catch(e){throw this.client.logger.error(e),this.client.session.delete(b,nA("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(b),e}return this.client.core.eventClient.deleteEvent({eventId:m.eventId}),await this.client.core.pairing.updateMetadata({topic:h,metadata:f.metadata}),await this.deleteProposal(s),await this.client.core.pairing.activate({topic:h}),await this.setExpiry(b,_E(Gj)),{topic:b,acknowledged:()=>Promise.resolve(this.client.session.get(b))}}),hN(this,"reject",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(e){throw this.client.logger.error("reject() -> isValidReject() failed"),e}const{id:t,reason:n}=e;let r;try{r=this.client.proposal.get(t).pairingTopic}catch(e){throw this.client.logger.error(`reject() -> proposal.get(${t}) failed`),e}r&&await this.sendError({id:t,topic:r,error:n,rpcOpts:Zj.wc_sessionPropose.reject}),await this.deleteProposal(t)}),hN(this,"update",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(e){throw this.client.logger.error("update() -> isValidUpdate() failed"),e}const{topic:t,namespaces:n}=e,{done:r,resolve:i,reject:s}=vE(),o=(0,HA.payloadId)(),a=(0,HA.getBigIntRpcId)().toString(),c=this.client.session.get(t).namespaces;return this.events.once(SE("session_update",o),({error:e})=>{e?s(e):i()}),await this.client.session.update(t,{namespaces:n}),await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:n},throwOnFailedPublish:!0,clientRpcId:o,relayRpcId:a}).catch(e=>{this.client.logger.error(e),this.client.session.update(t,{namespaces:c}),s(e)}),{acknowledged:r}}),hN(this,"extend",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(e){throw this.client.logger.error("extend() -> isValidExtend() failed"),e}const{topic:t}=e,n=(0,HA.payloadId)(),{done:r,resolve:i,reject:s}=vE();return this.events.once(SE("session_extend",n),({error:e})=>{e?s(e):i()}),await this.setExpiry(t,_E(Gj)),this.sendRequest({topic:t,method:"wc_sessionExtend",params:{},clientRpcId:n,throwOnFailedPublish:!0}).catch(e=>{s(e)}),{acknowledged:r}}),hN(this,"request",async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(e){throw this.client.logger.error("request() -> isValidRequest() failed"),e}const{chainId:t,request:n,topic:r,expiry:i=Zj.wc_sessionRequest.req.ttl}=e,s=this.client.session.get(r);s?.transportType===dT.relay&&await this.confirmOnlineStateOrThrow();const o=(0,HA.payloadId)(),a=(0,HA.getBigIntRpcId)().toString(),{done:c,resolve:l,reject:u}=vE(i,"Request expired. Please try again.");this.events.once(SE("session_request",o),({error:e,result:t})=>{e?u(e):l(t)});const d="wc_sessionRequest",h=this.getAppLinkIfEnabled(s.peer.metadata,s.transportType);if(h)return await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:r,method:d,params:{request:dN(uN({},n),{expiryTimestamp:_E(i)}),chainId:t},expiry:i,throwOnFailedPublish:!0,appLink:h}).catch(e=>u(e)),this.client.events.emit("session_request_sent",{topic:r,request:n,chainId:t,id:o}),await c();const f={request:dN(uN({},n),{expiryTimestamp:_E(i)}),chainId:t};return await Promise.all([new Promise(async e=>{await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:r,method:d,params:f,expiry:i,throwOnFailedPublish:!0,tvf:this.getTVFParams(o,f)}).catch(e=>u(e)),this.client.events.emit("session_request_sent",{topic:r,request:n,chainId:t,id:o}),e()}),new Promise(async e=>{var t;if(null==(t=s.sessionConfig)||!t.disableDeepLink){const e=await async function(e,t){let n="";try{if(hE()&&(n=localStorage.getItem(t),n))return n;n=await e.getItem(t)}catch(e){console.error(e)}return n}(this.client.core.storage,Vj);await async function({id:e,topic:t,wcDeepLink:n}){var r;try{if(!n)return;const i="string"==typeof n?JSON.parse(n):n,s=i?.href;if("string"!=typeof s)return;const o=function(e,t,n){const r=`requestId=${t}&sessionTopic=${n}`;e.endsWith("/")&&(e=e.slice(0,-1));let i=`${e}`;return i=e.startsWith("https://t.me")?`${i}${e.includes("?")?"&startapp=":"?startapp="}${function(e,t=!1){const n=Gx.from(e).toString("base64");return t?n.replace(/[=]/g,""):n}(r,!0)}`:`${i}/wc?${r}`,i}(s,e,t),a=fE();if(a===cE){if(null==(r=(0,Kw.getDocument)())||!r.hasFocus())return void console.warn("Document does not have focus, skipping deeplink.");!function(e){let t="_self";!function(){try{return window.self!==window.top}catch{return!1}}()?(typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"):t="_top",window.open(e,t,"noreferrer noopener")}(o)}else a===aE&&typeof(null==global?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(e){console.error(e)}}({id:o,topic:r,wcDeepLink:e})}e()}),c()]).then(e=>e[2])}),hN(this,"respond",async e=>{var t,n;this.isInitialized();const r=this.client.core.eventClient.createEvent({properties:{topic:e?.topic||(null==(n=null==(t=e?.response)?void 0:t.id)?void 0:n.toString()),trace:["session_request_response_started"]}});try{await this.isValidRespond(e)}catch(e){throw r.addTrace(e?.message),r.setError("session_request_response_validation_failure"),e}r.addTrace("session_request_response_validation_success");const{topic:i,response:s}=e,{id:o}=s,a=this.client.session.get(i);a.transportType===dT.relay&&await this.confirmOnlineStateOrThrow();const c=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);try{r.addTrace("session_request_response_publish_started"),(0,HA.isJsonRpcResult)(s)?await this.sendResult({id:o,topic:i,result:s.result,throwOnFailedPublish:!0,appLink:c}):(0,HA.isJsonRpcError)(s)&&await this.sendError({id:o,topic:i,error:s.error,appLink:c}),this.cleanupAfterResponse(e)}catch(e){throw r.addTrace(e?.message),r.setError("session_request_response_publish_failure"),e}}),hN(this,"ping",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch(e){throw this.client.logger.error("ping() -> isValidPing() failed"),e}const{topic:t}=e;if(this.client.session.keys.includes(t)){const e=(0,HA.payloadId)(),n=(0,HA.getBigIntRpcId)().toString(),{done:r,resolve:i,reject:s}=vE();this.events.once(SE("session_ping",e),({error:e})=>{e?s(e):i()}),await Promise.all([this.sendRequest({topic:t,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:e,relayRpcId:n}),r()])}else this.client.core.pairing.pairings.keys.includes(t)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:t}))}),hN(this,"emit",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);const{topic:t,event:n,chainId:r}=e,i=(0,HA.getBigIntRpcId)().toString(),s=(0,HA.payloadId)();await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:n,chainId:r},throwOnFailedPublish:!0,relayRpcId:i,clientRpcId:s})}),hN(this,"disconnect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);const{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:nA("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else{if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:e}=tA("MISMATCHED_TOPIC",`Session or pairing topic not found: ${t}`);throw new Error(e)}await this.client.core.pairing.disconnect({topic:t})}}),hN(this,"find",e=>(this.isInitialized(),this.client.session.getAll().filter(t=>function(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),i=Object.keys(n);let s=!0;return!!yE(i,r)&&(r.forEach(t=>{const{accounts:r,methods:i,events:o}=e.namespaces[t],a=GI(r),c=n[t];yE(Jx(t,c),a)&&yE(c.methods,i)&&yE(c.events,o)||(s=!1)}),s)}(t,e)))),hN(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),hN(this,"authenticate",async(e,t)=>{var n;this.isInitialized(),this.isValidAuthenticate(e);const r=t&&this.client.core.linkModeSupportedApps.includes(t)&&(null==(n=this.client.metadata.redirect)?void 0:n.linkMode),i=r?dT.link_mode:dT.relay;i===dT.relay&&await this.confirmOnlineStateOrThrow();const{chains:s,statement:o="",uri:a,domain:c,nonce:l,type:u,exp:d,nbf:h,methods:f=[],expiry:p}=e,g=[...e.resources||[]],{topic:m,uri:y}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:i});this.client.logger.info({message:"Generated new pairing",pairing:{topic:m,uri:y}});const w=await this.client.core.crypto.generateKeyPair(),b=fI(w);if(await Promise.all([this.client.auth.authKeys.set(nN,{responseTopic:b,publicKey:w}),this.client.auth.pairingTopics.set(b,{topic:b,pairingTopic:m})]),await this.client.core.relayer.subscribe(b,{transportType:i}),this.client.logger.info(`sending request to new pairing topic: ${m}`),f.length>0){const{namespace:e}=Zx(s[0]);let t=function(e,t,n){const r=function(e,t,n,r={}){return n?.sort((e,t)=>e.localeCompare(t)),{att:{[e]:M_(t,n,r)}}}(e,t,n);return L_(r)}(e,"request",f);z_(g)&&(t=U_(t,g.pop())),g.push(t)}const v=p&&p>Zj.wc_sessionAuthenticate.req.ttl?p:Zj.wc_sessionAuthenticate.req.ttl,x={authPayload:{type:u??"caip122",chains:s,statement:o,aud:a,domain:c,version:"1",nonce:l,iat:(new Date).toISOString(),exp:d,nbf:h,resources:g},requester:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:_E(v)},E={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:s,methods:[...new Set(["personal_sign",...f])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:m,proposer:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:_E(Zj.wc_sessionPropose.req.ttl),id:(0,HA.payloadId)()},{done:k,resolve:_,reject:C}=vE(v,"Request expired"),S=(0,HA.payloadId)(),I=SE("session_connect",E.id),A=SE("session_request",S),T=async({error:e,session:t})=>{this.events.off(A,P),e?C(e):t&&_({session:t})},P=async e=>{var n,r,s;if(await this.deletePendingAuthRequest(S,{message:"fulfilled",code:0}),e.error){const t=nA("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return e.error.code===t.code?void 0:(this.events.off(I,T),C(e.error.message))}await this.deleteProposal(E.id),this.events.off(I,T);const{cacaos:o,responder:a}=e.result,c=[],l=[];for(const e of o){await N_({cacao:e,projectId:this.client.core.projectId})||(this.client.logger.error(e,"Signature verification failed"),C(nA("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:t}=e,n=z_(t.resources),r=[O_(t.iss)],i=j_(t.iss);if(n){const e=D_(n),t=F_(n);c.push(...e),r.push(...t)}for(const e of r)l.push(`${e}:${i}`)}const u=await this.client.core.crypto.generateSharedKey(w,a.publicKey);let d;c.length>0&&(d={topic:u,acknowledged:!0,self:{publicKey:w,metadata:this.client.metadata},peer:a,controller:a.publicKey,expiry:_E(Gj),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:m,namespaces:QI([...new Set(c)],[...new Set(l)]),transportType:i},await this.client.core.relayer.subscribe(u,{transportType:i}),await this.client.session.set(u,d),m&&await this.client.core.pairing.updateMetadata({topic:m,metadata:a.metadata}),d=this.client.session.get(u)),null!=(n=this.client.metadata.redirect)&&n.linkMode&&null!=(r=a.metadata.redirect)&&r.linkMode&&null!=(s=a.metadata.redirect)&&s.universal&&t&&(this.client.core.addLinkModeSupportedApp(a.metadata.redirect.universal),this.client.session.update(u,{transportType:dT.link_mode})),_({auths:o,session:d})};let O;this.events.once(I,T),this.events.once(A,P);try{if(r){const e=(0,HA.formatJsonRpcRequest)("wc_sessionAuthenticate",x,S);this.client.core.history.set(m,e);const n=await this.client.core.crypto.encode("",e,{type:2,encoding:uI});O=BI(t,m,n)}else await Promise.all([this.sendRequest({topic:m,method:"wc_sessionAuthenticate",params:x,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:S}),this.sendRequest({topic:m,method:"wc_sessionPropose",params:E,expiry:Zj.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:E.id})])}catch(e){throw this.events.off(I,T),this.events.off(A,P),e}return await this.setProposal(E.id,E),await this.setAuthRequest(S,{request:dN(uN({},x),{verifyContext:{}}),pairingTopic:m,transportType:i}),{uri:O??y,response:k}}),hN(this,"approveSessionAuthenticate",async e=>{const{id:t,auths:n}=e,r=this.client.core.eventClient.createEvent({properties:{topic:t.toString(),trace:["authenticated_session_approve_started"]}});try{this.isInitialized()}catch(e){throw r.setError("no_internet_connection"),e}const i=this.getPendingAuthRequest(t);if(!i)throw r.setError("authenticated_session_pending_request_not_found"),new Error(`Could not find pending auth request with id ${t}`);const s=i.transportType||dT.relay;s===dT.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=fI(o),l={type:1,receiverPublicKey:o,senderPublicKey:a},u=[],d=[];for(const e of n){if(!await N_({cacao:e,projectId:this.client.core.projectId})){r.setError("invalid_cacao");const e=nA("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:t,topic:c,error:e,encodeOpts:l}),new Error(e.message)}r.addTrace("cacaos_verified");const{p:n}=e,i=z_(n.resources),s=[O_(n.iss)],o=j_(n.iss);if(i){const e=D_(i),t=F_(i);u.push(...e),s.push(...t)}for(const e of s)d.push(`${e}:${o}`)}const h=await this.client.core.crypto.generateSharedKey(a,o);let f;if(r.addTrace("create_authenticated_session_topic"),u?.length>0){f={topic:h,acknowledged:!0,self:{publicKey:a,metadata:this.client.metadata},peer:{publicKey:o,metadata:i.requester.metadata},controller:o,expiry:_E(Gj),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:i.pairingTopic,namespaces:QI([...new Set(u)],[...new Set(d)]),transportType:s},r.addTrace("subscribing_authenticated_session_topic");try{await this.client.core.relayer.subscribe(h,{transportType:s})}catch(e){throw r.setError("subscribe_authenticated_session_topic_failure"),e}r.addTrace("subscribe_authenticated_session_topic_success"),await this.client.session.set(h,f),r.addTrace("store_authenticated_session"),await this.client.core.pairing.updateMetadata({topic:i.pairingTopic,metadata:i.requester.metadata})}r.addTrace("publishing_authenticated_session_approve");try{await this.sendResult({topic:c,id:t,result:{cacaos:n,responder:{publicKey:a,metadata:this.client.metadata}},encodeOpts:l,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(i.requester.metadata,s)})}catch(e){throw r.setError("authenticated_session_approve_publish_failure"),e}return await this.client.auth.requests.delete(t,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:i.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:r.eventId}),{session:f}}),hN(this,"rejectSessionAuthenticate",async e=>{this.isInitialized();const{id:t,reason:n}=e,r=this.getPendingAuthRequest(t);if(!r)throw new Error(`Could not find pending auth request with id ${t}`);r.transportType===dT.relay&&await this.confirmOnlineStateOrThrow();const i=r.requester.publicKey,s=await this.client.core.crypto.generateKeyPair(),o=fI(i),a={type:1,receiverPublicKey:i,senderPublicKey:s};await this.sendError({id:t,topic:o,error:n,encodeOpts:a,rpcOpts:Zj.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(r.requester.metadata,r.transportType)}),await this.client.auth.requests.delete(t,{message:"rejected",code:0}),await this.deleteProposal(t)}),hN(this,"formatAuthMessage",e=>{this.isInitialized();const{request:t,iss:n}=e;return R_(t,n)}),hN(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{const e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(e){this.client.logger.error(e)}},50)}),hN(this,"cleanupDuplicatePairings",async e=>{if(e.pairingTopic)try{const t=this.client.core.pairing.pairings.get(e.pairingTopic),n=this.client.core.pairing.pairings.getAll().filter(n=>{var r,i;return(null==(r=n.peerMetadata)?void 0:r.url)&&(null==(i=n.peerMetadata)?void 0:i.url)===e.peer.metadata.url&&n.topic&&n.topic!==t.topic});if(0===n.length)return;this.client.logger.info(`Cleaning up ${n.length} duplicate pairing(s)`),await Promise.all(n.map(e=>this.client.core.pairing.disconnect({topic:e.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(e){this.client.logger.error(e)}}),hN(this,"deleteSession",async e=>{var t;const{topic:n,expirerHasDeleted:r=!1,emitEvent:i=!0,id:s=0}=e,{self:o}=this.client.session.get(n);await this.client.core.relayer.unsubscribe(n),await this.client.session.delete(n,nA("USER_DISCONNECTED")),this.addToRecentlyDeleted(n,"session"),this.client.core.crypto.keychain.has(o.publicKey)&&await this.client.core.crypto.deleteKeyPair(o.publicKey),this.client.core.crypto.keychain.has(n)&&await this.client.core.crypto.deleteSymKey(n),r||this.client.core.expirer.del(n),this.client.core.storage.removeItem(Vj).catch(e=>this.client.logger.warn(e)),this.getPendingSessionRequests().forEach(e=>{e.topic===n&&this.deletePendingSessionRequest(e.id,nA("USER_DISCONNECTED"))}),n===(null==(t=this.sessionRequestQueue.queue[0])?void 0:t.topic)&&(this.sessionRequestQueue.state=Jj),i&&this.client.events.emit("session_delete",{id:s,topic:n})}),hN(this,"deleteProposal",async(e,t)=>{if(t)try{const t=this.client.proposal.get(e),n=this.client.core.eventClient.getEvent({topic:t.pairingTopic});n?.setError("proposal_expired")}catch{}await Promise.all([this.client.proposal.delete(e,nA("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"proposal")}),hN(this,"deletePendingSessionRequest",async(e,t,n=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,t),n?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(t=>t.id!==e),n&&(this.sessionRequestQueue.state=Jj,this.client.events.emit("session_request_expire",{id:e}))}),hN(this,"deletePendingAuthRequest",async(e,t,n=!1)=>{await Promise.all([this.client.auth.requests.delete(e,t),n?Promise.resolve():this.client.core.expirer.del(e)])}),hN(this,"setExpiry",async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))}),hN(this,"setProposal",async(e,t)=>{this.client.core.expirer.set(e,_E(Zj.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)}),hN(this,"setAuthRequest",async(e,t)=>{const{request:n,pairingTopic:r,transportType:i=dT.relay}=t;this.client.core.expirer.set(e,n.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:n.authPayload,requester:n.requester,expiryTimestamp:n.expiryTimestamp,id:e,pairingTopic:r,verifyContext:n.verifyContext,transportType:i})}),hN(this,"setPendingSessionRequest",async e=>{const{id:t,topic:n,params:r,verifyContext:i}=e,s=r.request.expiryTimestamp||_E(Zj.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,s),await this.client.pendingRequest.set(t,{id:t,topic:n,params:r,verifyContext:i})}),hN(this,"sendRequest",async e=>{const{topic:t,method:n,params:r,expiry:i,relayRpcId:s,clientRpcId:o,throwOnFailedPublish:a,appLink:c,tvf:l,publishOpts:u={}}=e,d=(0,HA.formatJsonRpcRequest)(n,r,o);let h;const f=!!c;try{const e=f?uI:lI;h=await this.client.core.crypto.encode(t,d,{encoding:e})}catch(e){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${t} failed`),e}let p;if(eN.includes(n)){const e=pI(JSON.stringify(d)),t=pI(h);p=await this.client.core.verify.register({id:t,decryptedId:e})}const g=uN(uN({},Zj[n].req),u);if(g.attestation=p,i&&(g.ttl=i),s&&(g.id=s),this.client.core.history.set(t,d),f){const e=BI(c,t,h);await global.Linking.openURL(e,this.client.name)}else g.tvf=dN(uN({},l),{correlationId:d.id}),a?(g.internal=dN(uN({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(t,h,g)):this.client.core.relayer.publish(t,h,g).catch(e=>this.client.logger.error(e));return d.id}),hN(this,"sendProposeSession",async e=>{const{proposal:t,publishOpts:n}=e,r=(0,HA.formatJsonRpcRequest)("wc_sessionPropose",t,t.id);this.client.core.history.set(t.pairingTopic,r);const i=await this.client.core.crypto.encode(t.pairingTopic,r,{encoding:lI}),s=pI(JSON.stringify(r)),o=pI(i),a=await this.client.core.verify.register({id:o,decryptedId:s});await this.client.core.relayer.publishCustom({payload:{pairingTopic:t.pairingTopic,sessionProposal:i},opts:dN(uN({},n),{publishMethod:"wc_proposeSession",attestation:a})})}),hN(this,"sendApproveSession",async e=>{const{sessionTopic:t,pairingProposalResponse:n,proposal:r,sessionSettleRequest:i,publishOpts:s}=e,o=(0,HA.formatJsonRpcResult)(r.id,n),a=await this.client.core.crypto.encode(r.pairingTopic,o,{encoding:lI}),c=(0,HA.formatJsonRpcRequest)("wc_sessionSettle",i,s?.id),l=await this.client.core.crypto.encode(t,c,{encoding:lI});this.client.core.history.set(t,c),await this.client.core.relayer.publishCustom({payload:{sessionTopic:t,pairingTopic:r.pairingTopic,sessionProposalResponse:a,sessionSettlementRequest:l},opts:dN(uN({},s),{publishMethod:"wc_approveSession"})})}),hN(this,"sendResult",async e=>{const{id:t,topic:n,result:r,throwOnFailedPublish:i,encodeOpts:s,appLink:o}=e,a=(0,HA.formatJsonRpcResult)(t,r);let c;const l=o&&typeof(null==global?void 0:global.Linking)<"u";try{const e=l?uI:lI;c=await this.client.core.crypto.encode(n,a,dN(uN({},s||{}),{encoding:e}))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${n} failed`),e}let u,d;try{u=await this.client.core.history.get(n,t);const e=u.request;try{d=this.getTVFParams(t,e.params,r)}catch(e){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${e?.message}`)}}catch(e){throw this.client.logger.error(`sendResult() -> history.get(${n}, ${t}) failed`),e}if(l){const e=BI(o,n,c);await global.Linking.openURL(e,this.client.name)}else{const e=u.request.method,r=Zj[e].res;r.tvf=dN(uN({},d),{correlationId:t}),i?(r.internal=dN(uN({},r.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,c,r)):this.client.core.relayer.publish(n,c,r).catch(e=>this.client.logger.error(e))}await this.client.core.history.resolve(a)}),hN(this,"sendError",async e=>{const{id:t,topic:n,error:r,encodeOpts:i,rpcOpts:s,appLink:o}=e,a=(0,HA.formatJsonRpcError)(t,r);let c;const l=o&&typeof(null==global?void 0:global.Linking)<"u";try{const e=l?uI:lI;c=await this.client.core.crypto.encode(n,a,dN(uN({},i||{}),{encoding:e}))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${n} failed`),e}let u;try{u=await this.client.core.history.get(n,t)}catch(e){throw this.client.logger.error(`sendError() -> history.get(${n}, ${t}) failed`),e}if(l){const e=BI(o,n,c);await global.Linking.openURL(e,this.client.name)}else{const e=u.request.method,t=s||Zj[e].res;this.client.core.relayer.publish(n,c,t)}await this.client.core.history.resolve(a)}),hN(this,"cleanup",async()=>{const e=[],t=[];this.client.session.getAll().forEach(t=>{let n=!1;CE(t.expiry)&&(n=!0),this.client.core.crypto.keychain.has(t.topic)||(n=!0),n&&e.push(t.topic)}),this.client.proposal.getAll().forEach(e=>{CE(e.expiryTimestamp)&&t.push(e.id)}),await Promise.all([...e.map(e=>this.deleteSession({topic:e})),...t.map(e=>this.deleteProposal(e))])}),hN(this,"onProviderMessageEvent",async e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):await this.onRelayMessage(e)}),hN(this,"onRelayEventRequest",async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()}),hN(this,"processRequestsQueue",async()=>{if(this.requestQueue.state!==Qj){for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Qj;const e=this.requestQueue.queue.shift();if(e)try{await this.processRequest(e)}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=Jj}else this.client.logger.info("Request queue already active, skipping...")}),hN(this,"processRequest",async e=>{const{topic:t,payload:n,attestation:r,transportType:i,encryptedId:s}=e,o=n.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:o}))switch(o){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:t,payload:n,attestation:r,encryptedId:s});case"wc_sessionSettle":return await this.onSessionSettleRequest(t,n);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(t,n);case"wc_sessionExtend":return await this.onSessionExtendRequest(t,n);case"wc_sessionPing":return await this.onSessionPingRequest(t,n);case"wc_sessionDelete":return await this.onSessionDeleteRequest(t,n);case"wc_sessionRequest":return await this.onSessionRequest({topic:t,payload:n,attestation:r,encryptedId:s,transportType:i});case"wc_sessionEvent":return await this.onSessionEventRequest(t,n);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:t,payload:n,attestation:r,encryptedId:s,transportType:i});default:return this.client.logger.info(`Unsupported request method ${o}`)}}),hN(this,"onRelayEventResponse",async e=>{const{topic:t,payload:n,transportType:r}=e,i=(await this.client.core.history.get(t,n.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(t,n,r);case"wc_sessionSettle":return this.onSessionSettleResponse(t,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,n);case"wc_sessionExtend":return this.onSessionExtendResponse(t,n);case"wc_sessionPing":return this.onSessionPingResponse(t,n);case"wc_sessionRequest":return this.onSessionRequestResponse(t,n);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(t,n);default:return this.client.logger.info(`Unsupported response method ${i}`)}}),hN(this,"onRelayEventUnknownPayload",e=>{const{topic:t}=e,{message:n}=tA("MISSING_OR_INVALID",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw new Error(n)}),hN(this,"shouldIgnorePairingRequest",e=>{const{topic:t,requestMethod:n}=e,r=this.expectedPairingMethodMap.get(t);return!(!r||r.includes(n)||!(r.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0))}),hN(this,"onSessionProposeRequest",async e=>{const{topic:t,payload:n,attestation:r,encryptedId:i}=e,{params:s,id:o}=n;try{const e=this.client.core.eventClient.getEvent({topic:t});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),e?.setError("proposal_listener_not_found")),this.isValidConnect(uN({},n.params));const a=s.expiryTimestamp||_E(Zj.wc_sessionPropose.req.ttl),c=uN({id:o,pairingTopic:t,expiryTimestamp:a,attestation:r,encryptedId:i},s);await this.setProposal(o,c);const l=await this.getVerifyContext({attestationId:r,hash:pI(JSON.stringify(n)),encryptedId:i,metadata:c.proposer.metadata});e?.addTrace("emit_session_proposal"),this.client.events.emit("session_proposal",{id:o,params:c,verifyContext:l})}catch(e){await this.sendError({id:o,topic:t,error:e,rpcOpts:Zj.wc_sessionPropose.autoReject}),this.client.logger.error(e)}}),hN(this,"onSessionProposeResponse",async(e,t,n)=>{const{id:r}=t;if((0,HA.isJsonRpcResult)(t)){const{result:i}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});const s=this.client.proposal.get(r);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:s});const o=s.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:o});const a=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:a});const c=await this.client.core.crypto.generateSharedKey(o,a);this.pendingSessions.set(r,{sessionTopic:c,pairingTopic:e,proposalId:r,publicKey:o});const l=await this.client.core.relayer.subscribe(c,{transportType:n});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:l}),await this.client.core.pairing.activate({topic:e})}else if((0,HA.isJsonRpcError)(t)){await this.deleteProposal(r);const e=SE("session_connect",r);if(0===this.events.listenerCount(e))throw new Error(`emitting ${e} without any listeners, 954`);this.events.emit(e,{error:t.error})}}),hN(this,"onSessionSettleRequest",async(e,t)=>{const{id:n,params:r}=t;try{this.isValidSessionSettleRequest(r);const{relay:n,controller:i,expiry:s,namespaces:o,sessionProperties:a,scopedProperties:c,sessionConfig:l}=t.params,u=[...this.pendingSessions.values()].find(t=>t.sessionTopic===e);if(!u)return this.client.logger.error(`Pending session not found for topic ${e}`);const d=this.client.proposal.get(u.proposalId),h=dN(uN(uN(uN({topic:e,relay:n,expiry:s,namespaces:o,acknowledged:!0,pairingTopic:u.pairingTopic,requiredNamespaces:d.requiredNamespaces,optionalNamespaces:d.optionalNamespaces,controller:i.publicKey,self:{publicKey:u.publicKey,metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},a&&{sessionProperties:a}),c&&{scopedProperties:c}),l&&{sessionConfig:l}),{transportType:dT.relay});await this.client.session.set(h.topic,h),await this.setExpiry(h.topic,h.expiry),await this.client.core.pairing.updateMetadata({topic:u.pairingTopic,metadata:h.peer.metadata}),this.client.events.emit("session_connect",{session:h}),this.events.emit(SE("session_connect",u.proposalId),{session:h}),this.pendingSessions.delete(u.proposalId),this.deleteProposal(u.proposalId,!1),this.cleanupDuplicatePairings(h),await this.sendResult({id:t.id,topic:e,result:!0})}catch(t){await this.sendError({id:n,topic:e,error:t}),this.client.logger.error(t)}}),hN(this,"onSessionSettleResponse",async(e,t)=>{const{id:n}=t;(0,HA.isJsonRpcResult)(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit(SE("session_approve",n),{})):(0,HA.isJsonRpcError)(t)&&(await this.client.session.delete(e,nA("USER_DISCONNECTED")),this.events.emit(SE("session_approve",n),{error:t.error}))}),hN(this,"onSessionUpdateRequest",async(e,t)=>{const{params:n,id:r}=t;try{const t=`${e}_session_update`,i=bA.get(t);if(i&&this.isRequestOutOfSync(i,r))return this.client.logger.warn(`Discarding out of sync request - ${r}`),void this.sendError({id:r,topic:e,error:nA("INVALID_UPDATE_REQUEST")});this.isValidUpdate(uN({topic:e},n));try{bA.set(t,r),await this.client.session.update(e,{namespaces:n.namespaces}),await this.sendResult({id:r,topic:e,result:!0})}catch(e){throw bA.delete(t),e}this.client.events.emit("session_update",{id:r,topic:e,params:n})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),hN(this,"isRequestOutOfSync",(e,t)=>t.toString().slice(0,-3)<e.toString().slice(0,-3)),hN(this,"onSessionUpdateResponse",(e,t)=>{const{id:n}=t,r=SE("session_update",n);if(0===this.events.listenerCount(r))throw new Error(`emitting ${r} without any listeners`);(0,HA.isJsonRpcResult)(t)?this.events.emit(SE("session_update",n),{}):(0,HA.isJsonRpcError)(t)&&this.events.emit(SE("session_update",n),{error:t.error})}),hN(this,"onSessionExtendRequest",async(e,t)=>{const{id:n}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,_E(Gj)),await this.sendResult({id:n,topic:e,result:!0}),this.client.events.emit("session_extend",{id:n,topic:e})}catch(t){await this.sendError({id:n,topic:e,error:t}),this.client.logger.error(t)}}),hN(this,"onSessionExtendResponse",(e,t)=>{const{id:n}=t,r=SE("session_extend",n);if(0===this.events.listenerCount(r))throw new Error(`emitting ${r} without any listeners`);(0,HA.isJsonRpcResult)(t)?this.events.emit(SE("session_extend",n),{}):(0,HA.isJsonRpcError)(t)&&this.events.emit(SE("session_extend",n),{error:t.error})}),hN(this,"onSessionPingRequest",async(e,t)=>{const{id:n}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:n,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:n,topic:e})}catch(t){await this.sendError({id:n,topic:e,error:t}),this.client.logger.error(t)}}),hN(this,"onSessionPingResponse",(e,t)=>{const{id:n}=t,r=SE("session_ping",n);setTimeout(()=>{if(0===this.events.listenerCount(r))throw new Error(`emitting ${r} without any listeners 2176`);(0,HA.isJsonRpcResult)(t)?this.events.emit(SE("session_ping",n),{}):(0,HA.isJsonRpcError)(t)&&this.events.emit(SE("session_ping",n),{error:t.error})},500)}),hN(this,"onSessionDeleteRequest",async(e,t)=>{const{id:n}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),await Promise.all([new Promise(t=>{this.client.core.relayer.once(sT,async()=>{t(await this.deleteSession({topic:e,id:n}))})}),this.sendResult({id:n,topic:e,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:nA("USER_DISCONNECTED")})]).catch(e=>this.client.logger.error(e))}catch(e){this.client.logger.error(e)}}),hN(this,"onSessionRequest",async e=>{var t,n,r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=e,{id:l,params:u}=s;try{await this.isValidRequest(uN({topic:i},u));const e=this.client.session.get(i),s={id:l,topic:i,params:u,verifyContext:await this.getVerifyContext({attestationId:o,hash:pI(JSON.stringify((0,HA.formatJsonRpcRequest)("wc_sessionRequest",u,l))),encryptedId:a,metadata:e.peer.metadata,transportType:c})};await this.setPendingSessionRequest(s),c===dT.link_mode&&null!=(t=e.peer.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(null==(n=e.peer.metadata.redirect)?void 0:n.universal),null!=(r=this.client.signConfig)&&r.disableRequestQueue?this.emitSessionRequest(s):(this.addSessionRequestToSessionRequestQueue(s),this.processSessionRequestQueue())}catch(e){await this.sendError({id:l,topic:i,error:e}),this.client.logger.error(e)}}),hN(this,"onSessionRequestResponse",(e,t)=>{const{id:n}=t,r=SE("session_request",n);if(0===this.events.listenerCount(r))throw new Error(`emitting ${r} without any listeners`);(0,HA.isJsonRpcResult)(t)?this.events.emit(SE("session_request",n),{result:t.result}):(0,HA.isJsonRpcError)(t)&&this.events.emit(SE("session_request",n),{error:t.error})}),hN(this,"onSessionEventRequest",async(e,t)=>{const{id:n,params:r}=t;try{const t=`${e}_session_event_${r.event.name}`,i=bA.get(t);if(i&&this.isRequestOutOfSync(i,n))return void this.client.logger.info(`Discarding out of sync request - ${n}`);this.isValidEmit(uN({topic:e},r)),this.client.events.emit("session_event",{id:n,topic:e,params:r}),bA.set(t,n)}catch(t){await this.sendError({id:n,topic:e,error:t}),this.client.logger.error(t)}}),hN(this,"onSessionAuthenticateResponse",(e,t)=>{const{id:n}=t;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:e,payload:t}),(0,HA.isJsonRpcResult)(t)?this.events.emit(SE("session_request",n),{result:t.result}):(0,HA.isJsonRpcError)(t)&&this.events.emit(SE("session_request",n),{error:t.error})}),hN(this,"onSessionAuthenticateRequest",async e=>{var t;const{topic:n,payload:r,attestation:i,encryptedId:s,transportType:o}=e;try{const{requester:e,authPayload:a,expiryTimestamp:c}=r.params,l=await this.getVerifyContext({attestationId:i,hash:pI(JSON.stringify(r)),encryptedId:s,metadata:e.metadata,transportType:o}),u={requester:e,pairingTopic:n,id:r.id,authPayload:a,verifyContext:l,expiryTimestamp:c};await this.setAuthRequest(r.id,{request:u,pairingTopic:n,transportType:o}),o===dT.link_mode&&null!=(t=e.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(e.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:n,params:r.params,id:r.id,verifyContext:l})}catch(e){this.client.logger.error(e);const t=r.params.requester.publicKey,i=await this.client.core.crypto.generateKeyPair(),s=this.getAppLinkIfEnabled(r.params.requester.metadata,o),a={type:1,receiverPublicKey:t,senderPublicKey:i};await this.sendError({id:r.id,topic:n,error:e,encodeOpts:a,rpcOpts:Zj.wc_sessionAuthenticate.autoReject,appLink:s})}}),hN(this,"addSessionRequestToSessionRequestQueue",e=>{this.sessionRequestQueue.queue.push(e)}),hN(this,"cleanupAfterResponse",e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Jj,this.processSessionRequestQueue()},(0,Vw.toMiliseconds)(this.requestQueueDelay))}),hN(this,"cleanupPendingSentRequestsForTopic",({topic:e,error:t})=>{const n=this.client.core.history.pending;n.length>0&&n.filter(t=>t.topic===e&&"wc_sessionRequest"===t.request.method).forEach(e=>{const n=SE("session_request",e.request.id);if(0===this.events.listenerCount(n))throw new Error(`emitting ${n} without any listeners`);this.events.emit(SE("session_request",e.request.id),{error:t})})}),hN(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Qj)return void this.client.logger.info("session request queue is already active.");const e=this.sessionRequestQueue.queue[0];if(e)try{this.emitSessionRequest(e)}catch(e){this.client.logger.error(e)}else this.client.logger.info("session request queue is empty.")}),hN(this,"emitSessionRequest",e=>{this.emittedSessionRequests.has(e.id)?this.client.logger.warn({id:e.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${e.id}`):(this.sessionRequestQueue.state=Qj,this.emittedSessionRequests.add(e.id),this.client.events.emit("session_request",e))}),hN(this,"onPairingCreated",e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;const t=this.client.proposal.getAll().find(t=>t.pairingTopic===e.topic);t&&this.onSessionProposeRequest({topic:e.topic,payload:(0,HA.formatJsonRpcRequest)("wc_sessionPropose",dN(uN({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties,scopedProperties:t.scopedProperties}),t.id),attestation:t.attestation,encryptedId:t.encryptedId})}),hN(this,"isValidConnect",async e=>{if(!fA(e)){const{message:t}=tA("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw new Error(t)}const{pairingTopic:t,requiredNamespaces:n,optionalNamespaces:r,sessionProperties:i,scopedProperties:s,relays:o}=e;if(sA(t)||await this.isValidPairingTopic(t),!function(e){let t=!1;return e?e&&rA(e)&&e.length&&e.forEach(e=>{t=hA(e)}):t=!0,t}(o)){const{message:e}=tA("MISSING_OR_INVALID",`connect() relays: ${o}`);throw new Error(e)}if(n&&!sA(n)&&0!==iA(n)){const e="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(e):this.client.logger.warn(e),this.validateNamespaces(n,"requiredNamespaces")}if(r&&!sA(r)&&0!==iA(r)&&this.validateNamespaces(r,"optionalNamespaces"),i&&!sA(i)&&this.validateSessionProps(i,"sessionProperties"),s&&!sA(s)){this.validateSessionProps(s,"scopedProperties");const e=Object.keys(n||{}).concat(Object.keys(r||{}));if(!Object.keys(s).every(t=>e.includes(t.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(s)}, required/optional namespaces: ${JSON.stringify(e)}`)}}),hN(this,"validateNamespaces",(e,t)=>{const n=function(e,t,n){let r=null;if(e&&iA(e)){const i=uA(e,t);i&&(r=i);const s=function(e,t,n){let r=null;return Object.entries(e).forEach(([e,i])=>{if(r)return;const s=function(e,t,n){let r=null;return rA(t)&&t.length?t.forEach(e=>{r||cA(e)||(r=nA("UNSUPPORTED_CHAINS",`${n}, chain ${e} should be a string and conform to "namespace:chainId" format`))}):cA(e)||(r=nA("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}(e,Jx(e,i),`${t} ${n}`);s&&(r=s)}),r}(e,t,n);s&&(r=s)}else r=tA("MISSING_OR_INVALID",`${t}, ${n} should be an object with data`);return r}(e,"connect()",t);if(n)throw new Error(n.message)}),hN(this,"isValidApprove",async e=>{if(!fA(e))throw new Error(tA("MISSING_OR_INVALID",`approve() params: ${e}`).message);const{id:t,namespaces:n,relayProtocol:r,sessionProperties:i,scopedProperties:s}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);const o=this.client.proposal.get(t),a=dA(n,"approve()");if(a)throw new Error(a.message);const c=gA(o.requiredNamespaces,n,"approve()");if(c)throw new Error(c.message);if(!oA(r,!0)){const{message:e}=tA("MISSING_OR_INVALID",`approve() relayProtocol: ${r}`);throw new Error(e)}if(i&&!sA(i)&&this.validateSessionProps(i,"sessionProperties"),s&&!sA(s)){this.validateSessionProps(s,"scopedProperties");const e=new Set(Object.keys(n));if(!Object.keys(s).every(t=>e.has(t.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(s)}, approved namespaces: ${Array.from(e).join(", ")}`)}}),hN(this,"isValidReject",async e=>{if(!fA(e)){const{message:t}=tA("MISSING_OR_INVALID",`reject() params: ${e}`);throw new Error(t)}const{id:t,reason:n}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!function(e){return!!(e&&"object"==typeof e&&e.code&&aA(e.code,!1)&&e.message&&oA(e.message,!1))}(n)){const{message:e}=tA("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(n)}`);throw new Error(e)}}),hN(this,"isValidSessionSettleRequest",e=>{if(!fA(e)){const{message:t}=tA("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw new Error(t)}const{relay:t,controller:n,namespaces:r,expiry:i}=e;if(!hA(t)){const{message:e}=tA("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(e)}const s=function(e){let t=null;return oA(e?.publicKey,!1)||(t=tA("MISSING_OR_INVALID","onSessionSettleRequest() controller public key should be a string")),t}(n);if(s)throw new Error(s.message);const o=dA(r,"onSessionSettleRequest()");if(o)throw new Error(o.message);if(CE(i)){const{message:e}=tA("EXPIRED","onSessionSettleRequest()");throw new Error(e)}}),hN(this,"isValidUpdate",async e=>{if(!fA(e)){const{message:t}=tA("MISSING_OR_INVALID",`update() params: ${e}`);throw new Error(t)}const{topic:t,namespaces:n}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const r=this.client.session.get(t),i=dA(n,"update()");if(i)throw new Error(i.message);const s=gA(r.requiredNamespaces,n,"update()");if(s)throw new Error(s.message)}),hN(this,"isValidExtend",async e=>{if(!fA(e)){const{message:t}=tA("MISSING_OR_INVALID",`extend() params: ${e}`);throw new Error(t)}const{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)}),hN(this,"isValidRequest",async e=>{if(!fA(e)){const{message:t}=tA("MISSING_OR_INVALID",`request() params: ${e}`);throw new Error(t)}const{topic:t,request:n,chainId:r,expiry:i}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const{namespaces:s}=this.client.session.get(t);if(!pA(s,r)){const{message:e}=tA("MISSING_OR_INVALID",`request() chainId: ${r}`);throw new Error(e)}if(!function(e){return!(sA(e)||!oA(e.method,!1))}(n)){const{message:e}=tA("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw new Error(e)}if(!function(e,t,n){return!!oA(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach(e=>{GI(e.accounts).includes(t)&&n.push(...e.methods)}),n}(e,t).includes(n)}(s,r,n.method)){const{message:e}=tA("MISSING_OR_INVALID",`request() method: ${n.method}`);throw new Error(e)}if(i&&!function(e,t){return aA(e,!1)&&e<=t.max&&e>=t.min}(i,Yj)){const{message:e}=tA("MISSING_OR_INVALID",`request() expiry: ${i}. Expiry must be a number (in seconds) between ${Yj.min} and ${Yj.max}`);throw new Error(e)}}),hN(this,"isValidRespond",async e=>{var t;if(!fA(e)){const{message:t}=tA("MISSING_OR_INVALID",`respond() params: ${e}`);throw new Error(t)}const{topic:n,response:r}=e;try{await this.isValidSessionTopic(n)}catch(n){throw null!=(t=e?.response)&&t.id&&this.cleanupAfterResponse(e),n}if(!function(e){return!(sA(e)||sA(e.result)&&sA(e.error)||!aA(e.id,!1)||!oA(e.jsonrpc,!1))}(r)){const{message:e}=tA("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(r)}`);throw new Error(e)}const i=this.client.pendingRequest.get(r.id);if(i.topic!==n){const{message:e}=tA("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${r.id}, expected topic: ${i.topic}, received topic: ${n}`);throw new Error(e)}}),hN(this,"isValidPing",async e=>{if(!fA(e)){const{message:t}=tA("MISSING_OR_INVALID",`ping() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),hN(this,"isValidEmit",async e=>{if(!fA(e)){const{message:t}=tA("MISSING_OR_INVALID",`emit() params: ${e}`);throw new Error(t)}const{topic:t,event:n,chainId:r}=e;await this.isValidSessionTopic(t);const{namespaces:i}=this.client.session.get(t);if(!pA(i,r)){const{message:e}=tA("MISSING_OR_INVALID",`emit() chainId: ${r}`);throw new Error(e)}if(!function(e){return!(sA(e)||!oA(e.name,!1))}(n)){const{message:e}=tA("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(e)}if(!function(e,t,n){return!!oA(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach(e=>{GI(e.accounts).includes(t)&&n.push(...e.events)}),n}(e,t).includes(n)}(i,r,n.name)){const{message:e}=tA("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(e)}}),hN(this,"isValidDisconnect",async e=>{if(!fA(e)){const{message:t}=tA("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),hN(this,"isValidAuthenticate",e=>{const{chains:t,uri:n,domain:r,nonce:i}=e;if(!Array.isArray(t)||0===t.length)throw new Error("chains is required and must be a non-empty array");if(!oA(n,!1))throw new Error("uri is required parameter");if(!oA(r,!1))throw new Error("domain is required parameter");if(!oA(i,!1))throw new Error("nonce is required parameter");if([...new Set(t.map(e=>Zx(e).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:s}=Zx(t[0]);if("eip155"!==s)throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),hN(this,"getVerifyContext",async e=>{const{attestationId:t,hash:n,encryptedId:r,metadata:i,transportType:s}=e,o={verified:{verifyUrl:i.verifyUrl||ST,validation:"UNKNOWN",origin:i.url||""}};try{if(s===dT.link_mode){const e=this.getAppLinkIfEnabled(i,s);return o.verified.validation=e&&new URL(e).origin===new URL(i.url).origin?"VALID":"INVALID",o}const e=await this.client.core.verify.resolve({attestationId:t,hash:n,encryptedId:r,verifyUrl:i.verifyUrl});e&&(o.verified.origin=e.origin,o.verified.isScam=e.isScam,o.verified.validation=e.origin===new URL(i.url).origin?"VALID":"INVALID")}catch(e){this.client.logger.warn(e)}return this.client.logger.debug(`Verify context: ${JSON.stringify(o)}`),o}),hN(this,"validateSessionProps",(e,t)=>{Object.values(e).forEach((n,r)=>{if(null==n){const{message:i}=tA("MISSING_OR_INVALID",`${t} must contain an existing value for each key. Received: ${n} for key ${Object.keys(e)[r]}`);throw new Error(i)}})}),hN(this,"getPendingAuthRequest",e=>{const t=this.client.auth.requests.get(e);return"object"==typeof t?t:void 0}),hN(this,"addToRecentlyDeleted",(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let e=0;const t=this.recentlyDeletedLimit/2;for(const n of this.recentlyDeletedMap.keys()){if(e++>=t)break;this.recentlyDeletedMap.delete(n)}}}),hN(this,"checkRecentlyDeleted",e=>{const t=this.recentlyDeletedMap.get(e);if(t){const{message:n}=tA("MISSING_OR_INVALID",`Record was recently deleted - ${t}: ${e}`);throw new Error(n)}}),hN(this,"isLinkModeEnabled",(e,t)=>{var n,r,i,s,o,a,c,l,u;return!(!e||t!==dT.link_mode)&&!0===(null==(r=null==(n=this.client.metadata)?void 0:n.redirect)?void 0:r.linkMode)&&void 0!==(null==(s=null==(i=this.client.metadata)?void 0:i.redirect)?void 0:s.universal)&&""!==(null==(a=null==(o=this.client.metadata)?void 0:o.redirect)?void 0:a.universal)&&void 0!==(null==(c=e?.redirect)?void 0:c.universal)&&""!==(null==(l=e?.redirect)?void 0:l.universal)&&!0===(null==(u=e?.redirect)?void 0:u.linkMode)&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&typeof(null==global?void 0:global.Linking)<"u"}),hN(this,"getAppLinkIfEnabled",(e,t)=>{var n;return this.isLinkModeEnabled(e,t)?null==(n=e?.redirect)?void 0:n.universal:void 0}),hN(this,"handleLinkModeMessage",({url:e})=>{if(!e||!e.includes("wc_ev")||!e.includes("topic"))return;const t=AE(e,"topic")||"",n=decodeURIComponent(AE(e,"wc_ev")||""),r=this.client.session.keys.includes(t);r&&this.client.session.update(t,{transportType:dT.link_mode}),this.client.core.dispatchEnvelope({topic:t,message:n,sessionExists:r})}),hN(this,"registerLinkModeListeners",async()=>{var e;if(PE()||dE()&&null!=(e=this.client.metadata.redirect)&&e.linkMode){const e=null==global?void 0:global.Linking;if(typeof e<"u"){e.addEventListener("url",this.handleLinkModeMessage,this.client.name);const t=await e.getInitialURL();t&&setTimeout(()=>{this.handleLinkModeMessage({url:t})},50)}}}),hN(this,"getTVFParams",(e,t,n)=>{var r,i,s;if(null==(r=t.request)||!r.method)return{};const o={correlationId:e,rpcMethods:[t.request.method],chainId:t.chainId};try{const e=this.extractTxHashesFromResult(t.request,n);o.txHashes=e,o.contractAddresses=this.isValidContractData(t.request.params)?[null==(s=null==(i=t.request.params)?void 0:i[0])?void 0:s.to]:[]}catch(e){this.client.logger.warn(e,"Error getting TVF params")}return o}),hN(this,"isValidContractData",e=>{var t;if(!e)return!1;try{const n=e?.data||(null==(t=e?.[0])?void 0:t.data);if(!n.startsWith("0x"))return!1;const r=n.slice(2);return!!/^[0-9a-fA-F]*$/.test(r)&&r.length%2==0}catch{}return!1}),hN(this,"extractTxHashesFromResult",(e,t)=>{var n;try{if(!t)return[];const r=e.method,i=Xj[r];if("sui_signTransaction"===r)return[w_(t.transactionBytes)];if("near_signTransaction"===r)return[b_(t)];if("near_signTransactions"===r)return t.map(e=>b_(e));if("xrpl_signTransactionFor"===r||"xrpl_signTransaction"===r)return[null==(n=t.tx_json)?void 0:n.hash];if("polkadot_signTransaction"===r)return[xA({transaction:e.params.transactionPayload,signature:t.signature})];if("algo_signTxn"===r)return rA(t)?t.map(e=>v_(e)):[v_(t)];if("cosmos_signDirect"===r)return[E_(t)];if("wallet_sendCalls"===r)return function(e){var t,n;const r=[];try{if("string"==typeof e)return r.push(e),r;if("object"!=typeof e)return r;null!=e&&e.id&&r.push(e.id);const i=null==(n=null==(t=e?.capabilities)?void 0:t.caip345)?void 0:n.transactionHashes;i&&r.push(...i)}catch(e){console.warn("getWalletSendCallsHashes failed: ",e)}return r}(t);if("string"==typeof t)return[t];const s=t[i.key];if(rA(s))return"solana_signAllTransactions"===r?s.map(e=>function(e){const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);const r=n[0];if(0===r)throw new Error("No signatures found");const i=1+64*r;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Gx.from(e,"base64").slice(1,65);return fx.A.encode(s)}(e)):s;if("string"==typeof s)return[s]}catch(e){this.client.logger.warn(e,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,t=this.client.core.relayer.messages.getWithoutAck(e);for(const[e,n]of Object.entries(t))for(const t of n)try{await this.onProviderMessageEvent({topic:e,message:t,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${e}, message: ${t}`)}}catch(e){this.client.logger.warn(e,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){const{message:e}=tA("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(nT,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:t,message:n,attestation:r,transportType:i}=e,{publicKey:s}=this.client.auth.authKeys.keys.includes(nN)?this.client.auth.authKeys.get(nN):{responseTopic:void 0,publicKey:void 0};try{const e=await this.client.core.crypto.decode(t,n,{receiverPublicKey:s,encoding:i===dT.link_mode?uI:lI});(0,HA.isJsonRpcRequest)(e)?(this.client.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e,attestation:r,transportType:i,encryptedId:pI(n)})):(0,HA.isJsonRpcResponse)(e)?(await this.client.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e,transportType:i}),this.client.core.history.delete(t,e.id)):await this.onRelayEventUnknownPayload({topic:t,payload:e,transportType:i}),await this.client.core.relayer.messages.ack(t,n)}catch(e){this.client.logger.error(e)}}registerExpirerEvents(){this.client.core.expirer.on(_T,async e=>{const{topic:t,id:n}=kE(e.target);return n&&this.client.pendingRequest.keys.includes(n)?await this.deletePendingSessionRequest(n,tA("EXPIRED"),!0):n&&this.client.auth.requests.keys.includes(n)?await this.deletePendingAuthRequest(n,tA("EXPIRED"),!0):void(t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n})))})}registerPairingEvents(){this.client.core.pairing.events.on(yT,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(wT,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!oA(e,!1)){const{message:t}=tA("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=tA("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(CE(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=tA("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!oA(e,!1)){const{message:t}=tA("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:t}=tA("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if(CE(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:t}=tA("EXPIRED",`session topic: ${e}`);throw new Error(t)}if(!this.client.core.crypto.keychain.has(e)){const{message:t}=tA("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else{if(!this.client.core.pairing.pairings.keys.includes(e)){if(oA(e,!1)){const{message:t}=tA("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}{const{message:t}=tA("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}this.isValidPairingTopic(e)}}async isValidProposalId(e){if(!function(e){return"number"==typeof e}(e)){const{message:t}=tA("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=tA("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if(CE(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:t}=tA("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}}class pN extends uj{constructor(e,t){super(e,t,"proposal",qj),this.core=e,this.logger=t}}class gN extends uj{constructor(e,t){super(e,t,"session",qj),this.core=e,this.logger=t}}class mN extends uj{constructor(e,t){super(e,t,"request",qj,e=>e.id),this.core=e,this.logger=t}}class yN extends uj{constructor(e,t){super(e,t,"authKeys",tN,()=>nN),this.core=e,this.logger=t}}class wN extends uj{constructor(e,t){super(e,t,"pairingTopics",tN),this.core=e,this.logger=t}}class bN extends uj{constructor(e,t){super(e,t,"requests",tN,e=>e.id),this.core=e,this.logger=t}}var vN=Object.defineProperty,xN=(e,t,n)=>((e,t,n)=>t in e?vN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class EN{constructor(e,t){this.core=e,this.logger=t,xN(this,"authKeys"),xN(this,"pairingTopics"),xN(this,"requests"),this.authKeys=new yN(this.core,this.logger),this.pairingTopics=new wN(this.core,this.logger),this.requests=new bN(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var kN=Object.defineProperty,_N=(e,t,n)=>((e,t,n)=>t in e?kN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class CN extends zA{constructor(e){super(e),_N(this,"protocol","wc"),_N(this,"version",2),_N(this,"name",Hj),_N(this,"metadata"),_N(this,"core"),_N(this,"logger"),_N(this,"events",new Ww.EventEmitter),_N(this,"engine"),_N(this,"session"),_N(this,"proposal"),_N(this,"pendingRequest"),_N(this,"auth"),_N(this,"signConfig"),_N(this,"on",(e,t)=>this.events.on(e,t)),_N(this,"once",(e,t)=>this.events.once(e,t)),_N(this,"off",(e,t)=>this.events.off(e,t)),_N(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),_N(this,"removeAllListeners",e=>this.events.removeAllListeners(e)),_N(this,"connect",async e=>{try{return await this.engine.connect(e)}catch(e){throw this.logger.error(e.message),e}}),_N(this,"pair",async e=>{try{return await this.engine.pair(e)}catch(e){throw this.logger.error(e.message),e}}),_N(this,"approve",async e=>{try{return await this.engine.approve(e)}catch(e){throw this.logger.error(e.message),e}}),_N(this,"reject",async e=>{try{return await this.engine.reject(e)}catch(e){throw this.logger.error(e.message),e}}),_N(this,"update",async e=>{try{return await this.engine.update(e)}catch(e){throw this.logger.error(e.message),e}}),_N(this,"extend",async e=>{try{return await this.engine.extend(e)}catch(e){throw this.logger.error(e.message),e}}),_N(this,"request",async e=>{try{return await this.engine.request(e)}catch(e){throw this.logger.error(e.message),e}}),_N(this,"respond",async e=>{try{return await this.engine.respond(e)}catch(e){throw this.logger.error(e.message),e}}),_N(this,"ping",async e=>{try{return await this.engine.ping(e)}catch(e){throw this.logger.error(e.message),e}}),_N(this,"emit",async e=>{try{return await this.engine.emit(e)}catch(e){throw this.logger.error(e.message),e}}),_N(this,"disconnect",async e=>{try{return await this.engine.disconnect(e)}catch(e){throw this.logger.error(e.message),e}}),_N(this,"find",e=>{try{return this.engine.find(e)}catch(e){throw this.logger.error(e.message),e}}),_N(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}}),_N(this,"authenticate",async(e,t)=>{try{return await this.engine.authenticate(e,t)}catch(e){throw this.logger.error(e.message),e}}),_N(this,"formatAuthMessage",e=>{try{return this.engine.formatAuthMessage(e)}catch(e){throw this.logger.error(e.message),e}}),_N(this,"approveSessionAuthenticate",async e=>{try{return await this.engine.approveSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}}),_N(this,"rejectSessionAuthenticate",async e=>{try{return await this.engine.rejectSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}}),this.name=e?.name||Hj,this.metadata=function(e){var t,n;const r=gE();try{return null!=e&&e.url&&r.url&&new URL(e.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),e.url=r.url),null!=(t=e?.icons)&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(e=>""!==e)),((e,t)=>Xx(e,eE(t)))(sE(sE({},r),e),{url:e?.url||r.url,name:e?.name||r.name,description:e?.description||r.description,icons:null!=(n=e?.icons)&&n.length&&e.icons.length>0?e.icons:r.icons})}catch(t){return console.warn("Error populating app metadata",t),e||r}}(e?.metadata),this.signConfig=e?.signConfig;const t=EA({logger:e?.logger||"error",name:this.name});this.logger=t,this.core=e?.core||new zj(e),this.session=new gN(this.core,this.logger),this.proposal=new pN(this.core,this.logger),this.pendingRequest=new mN(this.core,this.logger),this.engine=new fN(this),this.auth=new EN(this.core,this.logger)}static async init(e){const t=new CN(e);return await t.initialize(),t}get context(){return qx(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}const SN=CN;var IN=o(6647),AN=o(8287).Buffer;function TN(e){return null==e||"object"!=typeof e&&"function"!=typeof e}function PN(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function ON(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const jN="[object String]",NN="[object Number]",RN="[object Boolean]",$N="[object Arguments]";function MN(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function LN(e,t,n,r=new Map,i=void 0){const s=i?.(e,t,n,r);if(null!=s)return s;if(TN(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let s=0;s<e.length;s++)t[s]=LN(e[s],s,n,r,i);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[s,o]of e)t.set(s,LN(o,s,n,r,i));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const s of e)t.add(LN(s,void 0,n,r,i));return t}if(typeof AN<"u"&&AN.isBuffer(e))return e.subarray();if(MN(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let s=0;s<e.length;s++)t[s]=LN(e[s],s,n,r,i);return t}if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),BN(t,e,n,r,i),t}if(typeof File<"u"&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),BN(t,e,n,r,i),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),BN(t,e,n,r,i),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,BN(t,e,n,r,i),t}if("object"==typeof e&&function(e){switch(ON(e)){case $N:case"[object Array]":case"[object ArrayBuffer]":case"[object DataView]":case RN:case"[object Date]":case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Map]":case NN:case"[object Object]":case"[object RegExp]":case"[object Set]":case jN:case"[object Symbol]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),BN(t,e,n,r,i),t}return e}function BN(e,t,n=e,r,i){const s=[...Object.keys(t),...PN(t)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(e,a);(null==c||c.writable)&&(e[a]=LN(t[a],a,n,r,i))}}function UN(e){return function(e,t){return function(e,t){return LN(e,void 0,e,new Map,t)}(e,(n,r,i,s)=>{const o=t?.(n,r,i,s);if(null!=o)return o;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case NN:case jN:case RN:{const t=new e.constructor(e?.valueOf());return BN(t,e),t}case $N:{const t={};return BN(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}(e)}function DN(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===ON(e)}function FN(e){return"object"==typeof e&&null!==e}function zN(){}function WN(e){return MN(e)}function qN(e){if("object"!=typeof e||null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){const t=e[Symbol.toStringTag];return!(null==t||!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable)&&e.toString()===`[object ${t}]`}let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function HN(e,t,n,r){if(TN(e)&&(e=Object(e)),null==t||"object"!=typeof t)return e;if(r.has(t))return function(e){if(TN(e))return e;if(Array.isArray(e)||MN(e)||e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);const t=Object.getPrototypeOf(e),n=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new n(e);if(e instanceof RegExp){const t=new n(e);return t.lastIndex=e.lastIndex,t}if(e instanceof DataView)return new n(e.buffer.slice(0));if(e instanceof Error){const t=new n(e.message);return t.stack=e.stack,t.name=e.name,t.cause=e.cause,t}if(typeof File<"u"&&e instanceof File)return new n([e],e.name,{type:e.type,lastModified:e.lastModified});if("object"==typeof e){const n=Object.create(t);return Object.assign(n,e)}return e}(r.get(t));if(r.set(t,e),Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]=t[e]??void 0}const i=[...Object.keys(t),...PN(t)];for(let s=0;s<i.length;s++){const o=i[s];let a=t[o],c=e[o];if(DN(a)&&(a={...a}),DN(c)&&(c={...c}),typeof AN<"u"&&AN.isBuffer(a)&&(a=UN(a)),Array.isArray(a))if("object"==typeof c&&null!=c){const e=[],t=Reflect.ownKeys(c);for(let n=0;n<t.length;n++){const r=t[n];e[r]=c[r]}c=e}else c=[];const l=n(c,a,o,e,t,r);null!=l?e[o]=l:Array.isArray(a)||FN(c)&&FN(a)?e[o]=HN(c,a,n,r):null==c&&qN(a)?e[o]=HN({},a,n,r):null==c&&WN(a)?e[o]=UN(a):(void 0===c||void 0!==a)&&(e[o]=a)}return e}const VN="error",KN="universal_provider",GN=`wc@2:${KN}:`,ZN="https://rpc.walletconnect.org/v1/",YN="generic",JN=`${ZN}bundler`,QN="call_status",XN="default_chain_changed";var eR=Object.defineProperty,tR=Object.defineProperties,nR=Object.getOwnPropertyDescriptors,rR=Object.getOwnPropertySymbols,iR=Object.prototype.hasOwnProperty,sR=Object.prototype.propertyIsEnumerable,oR=(e,t,n)=>t in e?eR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aR=(e,t)=>{for(var n in t||(t={}))iR.call(t,n)&&oR(e,n,t[n]);if(rR)for(var n of rR(t))sR.call(t,n)&&oR(e,n,t[n]);return e},cR=(e,t)=>tR(e,nR(t));function lR(e,t,n){var r;const i=Zx(e);return(null==(r=t.rpcMap)?void 0:r[i.reference])||`${ZN}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function uR(e){return e.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function dR(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>{var n,r;return(null==(n=t?.chains)?void 0:n.length)&&(null==(r=t?.chains)?void 0:r.length)>0}))}function hR(e={},t={}){return function(e,...t){return function(e,...t){const n=t.slice(0,-1),r=t[t.length-1];let i=e;for(let e=0;e<n.length;e++)i=HN(i,n[e],r,new Map);return i}(e,...t,zN)}(dR(fR(e)),dR(fR(t)))}function fR(e){var t,n,r,i,s;const o={};if(!iA(e))return o;for(const[a,c]of Object.entries(e)){const e=ZI(a)?[a]:c.chains,l=c.methods||[],u=c.events||[],d=c.rpcMap||{},h=YI(a);o[h]=cR(aR(aR({},o[h]),c),{chains:IE(e,null==(t=o[h])?void 0:t.chains),methods:IE(l,null==(n=o[h])?void 0:n.methods),events:IE(u,null==(r=o[h])?void 0:r.events)}),(iA(d)||iA((null==(i=o[h])?void 0:i.rpcMap)||{}))&&(o[h].rpcMap=aR(aR({},d),null==(s=o[h])?void 0:s.rpcMap))}return o}function pR(e){return e.includes(":")?e.split(":")[2]:e}function gR(e){const t={};for(const[n,r]of Object.entries(e)){const e=r.methods||[],i=r.events||[],s=r.accounts||[],o=ZI(n)?[n]:r.chains?r.chains:uR(r.accounts);t[n]={chains:o,methods:e,events:i,accounts:s}}return t}function mR(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}const yR={},wR=e=>yR[e],bR=(e,t)=>{yR[e]=t};var vR=Object.defineProperty,xR=Object.getOwnPropertySymbols,ER=Object.prototype.hasOwnProperty,kR=Object.prototype.propertyIsEnumerable,_R=(e,t,n)=>t in e?vR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CR=(e,t)=>{for(var n in t||(t={}))ER.call(t,n)&&_R(e,n,t[n]);if(xR)for(var n of xR(t))kR.call(t,n)&&_R(e,n,t[n]);return e};const SR="eip155",IR=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],AR=e=>e&&e.startsWith("0x")?BigInt(e).toString(10):e,TR=e=>e&&e.startsWith("0x")?e:`0x${BigInt(e).toString(16)}`,PR=e=>Object.keys(e).filter(e=>IR.includes(e)).reduce((t,n)=>(t[n]=OR(e[n]),t),{}),OR=e=>"string"==typeof e&&function(e){try{const t=JSON.parse(e);return"object"==typeof t&&null!==t&&!Array.isArray(t)}catch{return!1}}(e)?JSON.parse(e):e;var jR=Object.defineProperty;let NR;class RR{constructor(e){((e,t,n)=>{((e,t,n)=>{t in e?jR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"storage"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,t){return await this.storage.setItem(e,t)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return NR||(NR=new RR(e)),NR}}var $R=Object.defineProperty,MR=Object.defineProperties,LR=Object.getOwnPropertyDescriptors,BR=Object.getOwnPropertySymbols,UR=Object.prototype.hasOwnProperty,DR=Object.prototype.propertyIsEnumerable,FR=(e,t,n)=>t in e?$R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var zR=Object.defineProperty,WR=Object.defineProperties,qR=Object.getOwnPropertyDescriptors,HR=Object.getOwnPropertySymbols,VR=Object.prototype.hasOwnProperty,KR=Object.prototype.propertyIsEnumerable,GR=(e,t,n)=>t in e?zR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZR=(e,t)=>{for(var n in t||(t={}))VR.call(t,n)&&GR(e,n,t[n]);if(HR)for(var n of HR(t))KR.call(t,n)&&GR(e,n,t[n]);return e},YR=(e,t)=>WR(e,qR(t)),JR=(e,t,n)=>GR(e,"symbol"!=typeof t?t+"":t,n);class QR{constructor(e){JR(this,"name","eip155"),JR(this,"client"),JR(this,"chainId"),JR(this,"namespace"),JR(this,"httpProviders"),JR(this,"events"),JR(this,"storage"),this.namespace=e.namespace,this.events=wR("events"),this.client=wR("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=RR.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e);case"wallet_sendCalls":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t);const n=this.chainId;this.chainId=parseInt(e),this.events.emit(XN,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${n}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const n=t||lR(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new qA.F(new IN.V(n,wR("disableProviderPing")))}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var n;const r=parseInt(function(e){return e.includes(":")?e.split(":")[1]:e}(t));e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}getHttpProvider(e){const t=e||this.chainId;return this.httpProviders[t]||(this.httpProviders=YR(ZR({},this.httpProviders),{[t]:this.createHttpProvider(t)}),this.httpProviders[t])}async handleSwitchChain(e){var t,n;let r=e.request.params?null==(t=e.request.params[0])?void 0:t.chainId:"0x0";r=r.startsWith("0x")?r:`0x${r}`;const i=parseInt(r,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else{if(!this.namespace.methods.includes("wallet_switchEthereumChain"))throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:r}]},chainId:null==(n=this.namespace.chains)?void 0:n[0]}),this.setDefaultChain(`${i}`)}return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var t,n,r,i,s;const o=null==(n=null==(t=e.request)?void 0:t.params)?void 0:n[0],a=(null==(i=null==(r=e.request)?void 0:r.params)?void 0:i[1])||[];if(!o)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const c=this.client.session.get(e.topic),l=(null==(s=c?.sessionProperties)?void 0:s.capabilities)||{},u=`${o}${a.join(",")}`,d=l?.[u];if(d)return d;let h;try{h=((e,t,n)=>{const{sessionProperties:r={},scopedProperties:i={}}=e,s={};if(!iA(i)&&!iA(r))return;const o=PR(r);for(const e of n){const n=AR(e);if(!n)continue;s[TR(n)]=o;const r=i?.[`${SR}:${n}`];if(r){const e=r?.[`${SR}:${n}:${t}`];s[TR(n)]=CR(CR({},s[TR(n)]),PR(e||r))}}for(const[e,t]of Object.entries(s))0===Object.keys(t).length&&delete s[e];return Object.keys(s).length>0?s:void 0})(c,o,a)}catch(e){console.warn("Failed to extract capabilities from session",e)}if(h)return h;const f=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:YR(ZR({},c.sessionProperties||{}),{capabilities:YR(ZR({},l||{}),{[u]:f})})})}catch(e){console.warn("Failed to update session with capabilities",e)}return f}async getCallStatus(e){var t,n,r;const i=this.client.session.get(e.topic),s=null==(t=i.sessionProperties)?void 0:t.bundler_name;if(s){const t=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(t,e)}catch(e){console.warn("Failed to fetch call status from bundler",e,t)}}const o=null==(n=i.sessionProperties)?void 0:n.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(e){console.warn("Failed to fetch call status from custom bundler",e,o)}const a=await async function({resultId:e,storage:t}){const n=await t.getItem(QN),r=n?.[e];if(r&&!CE(r.expiry))return r;await async function({resultId:e,storage:t}){const n=await t.getItem(QN);if(n){delete n[e],await t.setItem(QN,n);for(const e in n)CE(n[e].expiry)&&delete n[e];await t.setItem(QN,n)}}({resultId:e,storage:t})}({resultId:null==(r=e.request.params)?void 0:r[0],storage:this.storage});if(a)try{return await async function(e,t){const n=Zx(e.result.capabilities.caip345.caip2),r=e.result.capabilities.caip345.transactionHashes,i=await Promise.allSettled(r.map(e=>async function(e,t,n){return await n(parseInt(e)).request((0,HA.formatJsonRpcRequest)("eth_getTransactionReceipt",[t]))}(n.reference,e,t))),s=i.filter(e=>"fulfilled"===e.status).map(e=>e.value).filter(e=>e);i.filter(e=>"rejected"===e.status).forEach(e=>console.warn("Failed to fetch transaction receipt:",e.reason));const o=!s.length||s.some(e=>!e),a=s.every(e=>"0x1"===e?.status),c=s.every(e=>"0x0"===e?.status),l=s.some(e=>"0x0"===e?.status);let u;return o?u=100:a?u=200:c?u=500:l&&(u=600),{id:e.result.id,version:e.request.version,atomic:e.request.atomicRequired,chainId:e.request.chainId,capabilities:e.result.capabilities,receipts:s,status:u}}(a,this.getHttpProvider.bind(this))}catch(e){console.warn("Failed to fetch call status from stored send calls",e,a)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,t){var n;const r=new URL(e),i=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,HA.formatJsonRpcRequest)("eth_getUserOperationReceipt",[null==(n=t.request.params)?void 0:n[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,t){return`${JN}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${t}`}async sendCalls(e){var t,n,r;const i=await this.client.request(e),s=null==(t=e.request.params)?void 0:t[0],o=i?.id,a=i?.capabilities||{},c=null==(n=a?.caip345)?void 0:n.caip2,l=null==(r=a?.caip345)?void 0:r.transactionHashes;return!o||!c||!(null!=l&&l.length)||await async function({sendCalls:e,storage:t}){const n=await t.getItem(QN);await t.setItem(QN,((e,t)=>MR(e,LR(t)))(((e,t)=>{for(var n in t||(t={}))UR.call(t,n)&&FR(e,n,t[n]);if(BR)for(var n of BR(t))DR.call(t,n)&&FR(e,n,t[n]);return e})({},n),{[e.result.id]:{request:e.request,result:e.result,expiry:_E(86400)}}))}({sendCalls:{request:s,result:i},storage:this.storage}),i}}var XR=Object.defineProperty,e$=(e,t,n)=>((e,t,n)=>t in e?XR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class t${constructor(e){e$(this,"name",YN),e$(this,"client"),e$(this,"httpProviders"),e$(this,"events"),e$(this,"namespace"),e$(this,"chainId"),this.namespace=e.namespace,this.events=wR("events"),this.client=wR("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t);const n=this.chainId;this.chainId=e,this.events.emit(XN,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${n}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return Zx(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){var e,t;const n={};return null==(t=null==(e=this.namespace)?void 0:e.accounts)||t.forEach(e=>{var t,r;const i=Zx(e),s=null==(r=null==(t=this.namespace)?void 0:t.rpcMap)?void 0:r[`${i.namespace}:${i.reference}`];n[i.reference]=this.createHttpProvider(e,s)}),n}getHttpProvider(e){const t=Zx(e).reference,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||lR(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new qA.F(new IN.A(n,wR("disableProviderPing")))}}var n$=Object.defineProperty,r$=Object.defineProperties,i$=Object.getOwnPropertyDescriptors,s$=Object.getOwnPropertySymbols,o$=Object.prototype.hasOwnProperty,a$=Object.prototype.propertyIsEnumerable,c$=(e,t,n)=>t in e?n$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l$=(e,t)=>{for(var n in t||(t={}))o$.call(t,n)&&c$(e,n,t[n]);if(s$)for(var n of s$(t))a$.call(t,n)&&c$(e,n,t[n]);return e},u$=(e,t)=>r$(e,i$(t)),d$=(e,t,n)=>c$(e,"symbol"!=typeof t?t+"":t,n);class h${constructor(e){var t,n;d$(this,"client"),d$(this,"namespaces"),d$(this,"optionalNamespaces"),d$(this,"sessionProperties"),d$(this,"scopedProperties"),d$(this,"events",new Ww),d$(this,"rpcProviders",{}),d$(this,"session"),d$(this,"providerOpts"),d$(this,"logger"),d$(this,"uri"),d$(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=EA({logger:null!=(t=e.logger)?t:VN,name:null!=(n=this.providerOpts.name)?n:KN}),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const t=new h$(e);return await t.initialize(),t}async request(e,t,n){const[r,i]=this.validateChain(t);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(r).request({request:l$({},e),chainId:`${r}:${i}`,topic:this.session.topic,expiry:n})}sendAsync(e,t,n,r){const i=(new Date).getTime();this.request(e,n,r).then(e=>t(null,(0,HA.formatJsonRpcResult)(i,e))).catch(e=>t(e,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(e=this.session)?void 0:e.topic,reason:nA("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,t){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:r}=await this.client.authenticate(e,t);n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();if(this.session=i.session,this.session){const e=gR(this.session.namespaces);this.namespaces=hR(this.namespaces,e),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){const{uri:t,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});t&&(this.uri=t,this.events.emit("display_uri",t));const r=await n();this.session=r;const i=gR(r.namespaces);return this.namespaces=hR(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;const[n,r]=this.validateChain(e);this.getProvider(n).setDefaultChain(r,t)}catch(e){if(!/Please call connect/.test(e.message))throw e}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const t=this.client.pairing.getAll();if(!rA(t))return;for(const n of t)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}catch(e){this.logger.warn(e,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,t;if(this.client=this.providerOpts.client||await SN.init({core:this.providerOpts.core,logger:this.providerOpts.logger||VN,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.org",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error(n,"Failed to get session"),new Error(`The provided session: ${null==(t=null==(e=this.providerOpts)?void 0:e.session)?void 0:t.topic} doesn't exist in the Sign client`)}else{const e=this.client.session.getAll();this.session=e[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(e=>YI(e)))];bR("client",this.client),bR("events",this.events),bR("disableProviderPing",this.disableProviderPing),e.forEach(e=>{if(!this.session)return;const t=function(e,t){const n=Object.keys(t.namespaces).filter(t=>t.includes(e));if(!n.length)return[];const r=[];return n.forEach(e=>{const n=t.namespaces[e].accounts;r.push(...n)}),r}(e,this.session);if(0===t?.length)return;const n=uR(t),r=hR(this.namespaces,this.optionalNamespaces),i=u$(l$({},r[e]),{accounts:t,chains:n});this.rpcProviders[e]="eip155"===e?new QR({namespace:i}):new t$({namespace:i})})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var t;const{topic:n}=e;n===(null==(t=this.session)?void 0:t.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var t;const{params:n,topic:r}=e;if(r!==(null==(t=this.session)?void 0:t.topic))return;const{event:i}=n;if("accountsChanged"===i.name){const e=i.data;e&&rA(e)&&this.events.emit("accountsChanged",e.map(pR))}else if("chainChanged"===i.name){const e=n.chainId,t=n.event.data,r=YI(e),i=mR(e)!==mR(t)?`${r}:${mR(t)}`:e;this.onChainChanged({currentCaipChainId:i})}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var n,r;if(e!==(null==(n=this.session)?void 0:n.topic))return;const{namespaces:i}=t,s=null==(r=this.client)?void 0:r.session.get(e);this.session=u$(l$({},s),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{var t;e.topic===(null==(t=this.session)?void 0:t.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",u$(l$({},nA("USER_DISCONNECTED")),{data:e.topic})))}),this.on(XN,e=>{this.onChainChanged(u$(l$({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[YN]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace(null==(t=this.session)?void 0:t.namespaces[e])})}setNamespaces(e){const{namespaces:t={},optionalNamespaces:n={},sessionProperties:r,scopedProperties:i}=e;this.optionalNamespaces=hR(t,n),this.sessionProperties=r,this.scopedProperties=i}validateChain(e){const[t,n]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,n];if(t&&!Object.keys(this.namespaces||{}).map(e=>YI(e)).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&n)return[t,n];const r=YI(Object.keys(this.namespaces)[0]);return[r,this.rpcProviders[r].getDefaultChain()]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged({currentCaipChainId:e,previousCaipChainId:t,internal:n=!1}){if(!this.namespaces)return;const[r,i]=this.validateChain(e);i&&(this.updateNamespaceChain(r,i),n?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:r,currentCaipChainId:e,previousCaipChainId:t})):this.getProvider(r).setDefaultChain(i),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:e,currentCaipChainId:t,previousCaipChainId:n}){var r,i;try{if(n===t)return;const s=null==(i=null==(r=this.session)?void 0:r.namespaces[e])?void 0:i.accounts;if(!s)return;const o=s.filter(e=>e.includes(`${t}:`)).map(pR);if(!rA(o))return;this.events.emit("accountsChanged",o)}catch(e){this.logger.warn(e,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(e,t){if(!this.namespaces)return;const n=this.namespaces[e]?e:`${e}:${t}`,r={chains:[],methods:[],events:[],defaultChain:t};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=t):this.namespaces[n]=r}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,t){var n;const r=(null==(n=this.session)?void 0:n.topic)||"";await this.client.core.storage.setItem(`${GN}/${e}${r}`,t)}async getFromStore(e){var t;const n=(null==(t=this.session)?void 0:t.topic)||"";return await this.client.core.storage.getItem(`${GN}/${e}${n}`)}async deleteFromStore(e){var t;const n=(null==(t=this.session)?void 0:t.topic)||"";await this.client.core.storage.removeItem(`${GN}/${e}${n}`)}async cleanupStorage(){var e;try{if((null==(e=this.client)?void 0:e.session.length)>0)return;const t=await this.client.core.storage.getKeys();for(const e of t)e.startsWith(GN)&&await this.client.core.storage.removeItem(e)}catch(e){this.logger.warn(e,"Failed to cleanup storage")}}}const f$=h$,p$=["eth_sendTransaction","personal_sign"],g$=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],m$=["chainChanged","accountsChanged"],y$=["chainChanged","accountsChanged","message","disconnect","connect"];var w$=Object.defineProperty,b$=Object.defineProperties,v$=Object.getOwnPropertyDescriptors,x$=Object.getOwnPropertySymbols,E$=Object.prototype.hasOwnProperty,k$=Object.prototype.propertyIsEnumerable,_$=(e,t,n)=>t in e?w$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C$=(e,t)=>{for(var n in t||(t={}))E$.call(t,n)&&_$(e,n,t[n]);if(x$)for(var n of x$(t))k$.call(t,n)&&_$(e,n,t[n]);return e},S$=(e,t)=>b$(e,v$(t)),I$=(e,t,n)=>_$(e,"symbol"!=typeof t?t+"":t,n);function A$(e){return Number(e[0].split(":")[1])}function T$(e){return`0x${e.toString(16)}`}class P${constructor(){I$(this,"events",new Ww.EventEmitter),I$(this,"namespace","eip155"),I$(this,"accounts",[]),I$(this,"signer"),I$(this,"chainId",1),I$(this,"modal"),I$(this,"rpc"),I$(this,"STORAGE_KEY","wc@2:ethereum_provider:"),I$(this,"on",(e,t)=>(this.events.on(e,t),this)),I$(this,"once",(e,t)=>(this.events.once(e,t),this)),I$(this,"removeListener",(e,t)=>(this.events.removeListener(e,t),this)),I$(this,"off",(e,t)=>(this.events.off(e,t),this)),I$(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const t=new P$;return await t.initialize(e),t}async request(e,t){return await this.signer.request(e,this.formatChainId(this.chainId),t)}sendAsync(e,t,n){this.signer.sendAsync(e,t,this.formatChainId(this.chainId),n)}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var t;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:n,optional:r}=function(e){const{chains:t,optionalChains:n,methods:r,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=e;if(!rA(t))throw new Error("Invalid chains");const c={chains:t,methods:r||p$,events:s||m$,rpcMap:C$({},t.length?{[A$(t)]:a[A$(t)]}:{})},l=s?.filter(e=>!m$.includes(e)),u=r?.filter(e=>!p$.includes(e));if(!(n||o||i||null!=l&&l.length||null!=u&&u.length))return{required:t.length?c:void 0};const d={chains:[...new Set(l?.length&&u?.length||!n?c.chains.concat(n||[]):n)],methods:[...new Set(c.methods.concat(null!=i&&i.length?i:g$))],events:[...new Set(c.events.concat(null!=o&&o.length?o:y$))],rpcMap:a};return{required:t.length?c:void 0,optional:n.length?d:void 0}}(this.rpc);try{const t=await new Promise(async(t,i)=>{var s,o;this.rpc.showQrModal&&(null==(s=this.modal)||s.open(),null==(o=this.modal)||o.subscribeState(e=>{!e.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),i(new Error("Connection request reset. Please try again.")))}));const a=null!=e&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(S$(C$({namespaces:C$({},n&&{[this.namespace]:n})},r&&{optionalNamespaces:{[this.namespace]:r}}),{pairingTopic:e?.pairingTopic,scopedProperties:a})).then(e=>{t(e)}).catch(e=>{var t;null==(t=this.modal)||t.showErrorMessage("Unable to connect"),i(new Error(e.message))})});if(!t)return;const i=Yx(t.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:i),this.setAccounts(i),this.events.emit("connect",{chainId:T$(this.chainId)})}catch(e){throw this.signer.logger.error(e),e}finally{null==(t=this.modal)||t.close()}}async authenticate(e,t){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e?.chains});try{const n=await new Promise(async(n,r)=>{var i,s;this.rpc.showQrModal&&(null==(i=this.modal)||i.open(),null==(s=this.modal)||s.subscribeState(e=>{!e.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),r(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(S$(C$({},e),{chains:this.rpc.chains}),t).then(e=>{n(e)}).catch(e=>{var t;null==(t=this.modal)||t.showErrorMessage("Unable to connect"),r(new Error(e.message))})}),r=n.session;if(r){const e=Yx(r.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:e),this.setAccounts(e),this.events.emit("connect",{chainId:T$(this.chainId)})}return n}catch(e){throw this.signer.logger.error(e),e}finally{null==(n=this.modal)||n.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:t}=e,{event:n}=t;"accountsChanged"===n.name?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===n.name?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",T$(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",S$(C$({},nA("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return"string"==typeof e&&e.startsWith(`${this.namespace}:`)}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const t=e.filter(e=>this.isCompatibleChainId(e)).map(e=>this.parseChainId(e));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",T$(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){const[t,n,r]=e.split(":");return{chainId:`${t}:${n}`,address:r}}setAccounts(e){this.accounts=e.filter(e=>this.parseChainId(this.parseAccountId(e).chainId)===this.chainId).map(e=>this.parseAccountId(e).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,n;const r=null!=(t=e?.chains)?t:[],i=null!=(n=e?.optionalChains)?n:[],s=r.concat(i);if(!s.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const o=r.length?e?.methods||p$:[],a=r.length?e?.events||m$:[],c=e?.optionalMethods||[],l=e?.optionalEvents||[],u=e?.rpcMap||this.buildRpcMap(s,e.projectId),d=e?.qrModalOptions||void 0;return{chains:r?.map(e=>this.formatChainId(e)),optionalChains:i.map(e=>this.formatChainId(e)),methods:o,events:a,optionalMethods:c,optionalEvents:l,rpcMap:u,showQrModal:!(null==e||!e.showQrModal),qrModalOptions:d,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){const n={};return e.forEach(e=>{n[e]=this.getRpcUrl(e,t)}),n}async initialize(e){var t;if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?A$(this.rpc.chains):A$(this.rpc.optionalChains),this.signer=await f$.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let e;try{const n=await(async()=>{const{createAppKit:e}=await o.e(7252).then(o.bind(o,7252));return e})(),{convertWCMToAppKitOptions:r}=await Promise.resolve().then(function(){return q$}),i=r(S$(C$({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!i.networks.length)throw new Error("No networks found for WalletConnect");e=n(S$(C$({},i),{universalProvider:this.signer,manualWCControl:!0,enableMobileFullScreen:!0===(null==(t=this.rpc.qrModalOptions)?void 0:t.enableMobileFullScreen)}))}catch(e){throw console.warn(e),new Error("To use QR modal, please install @reown/appkit package")}if(e)try{this.modal=e}catch(e){throw this.signer.logger.error(e),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:t,optionalChains:n,rpcMap:r}=e;t&&rA(t)&&(this.rpc.chains=t.map(e=>this.formatChainId(e)),t.forEach(e=>{this.rpc.rpcMap[e]=r?.[e]||this.getRpcUrl(e)})),n&&rA(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=n?.map(e=>this.formatChainId(e)),n.forEach(e=>{this.rpc.rpcMap[e]=r?.[e]||this.getRpcUrl(e)}))}getRpcUrl(e,t){var n;return(null==(n=this.rpc.rpcMap)?void 0:n[e])||`https://rpc.walletconnect.org/v1/?chainId=eip155:${e}&projectId=${t||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),t=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:t?.accounts),this.setAccounts(t?.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(e=>this.signer.logger.warn(e))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return"string"==typeof e||e instanceof String?[this.parseAccount(e)]:e.map(e=>this.parseAccount(e))}}const O$=P$;var j$=Object.defineProperty,N$=Object.defineProperties,R$=Object.getOwnPropertyDescriptors,$$=Object.getOwnPropertySymbols,M$=Object.prototype.hasOwnProperty,L$=Object.prototype.propertyIsEnumerable,B$=(e,t,n)=>t in e?j$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U$=(e,t)=>{for(var n in t||(t={}))M$.call(t,n)&&B$(e,n,t[n]);if($$)for(var n of $$(t))L$.call(t,n)&&B$(e,n,t[n]);return e},D$=(e,t)=>N$(e,R$(t));function F$(e){if(e)return{"--w3m-font-family":e["--wcm-font-family"],"--w3m-accent":e["--wcm-accent-color"],"--w3m-color-mix":e["--wcm-background-color"],"--w3m-z-index":e["--wcm-z-index"]?Number(e["--wcm-z-index"]):void 0,"--w3m-qr-color":e["--wcm-accent-color"],"--w3m-font-size-master":e["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":e["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const z$=e=>{const[t,n]=e.split(":");return W$({id:n,caipNetworkId:e,chainNamespace:t,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function W$(e){return U$({formatters:void 0,fees:void 0,serializers:void 0},e)}var q$=Object.freeze({__proto__:null,convertWCMToAppKitOptions:function(e){var t,n,r,i,s,o,a;const c=null==(t=e.chains)?void 0:t.map(z$).filter(Boolean);if(0===c.length)throw new Error("At least one chain must be specified");const l=c.find(t=>{var n;return t.id===(null==(n=e.defaultChain)?void 0:n.id)}),u={projectId:e.projectId,networks:c,themeMode:e.themeMode,themeVariables:F$(e.themeVariables),chainImages:e.chainImages,connectorImages:e.walletImages,defaultNetwork:l,metadata:D$(U$({},e.metadata),{name:(null==(n=e.metadata)?void 0:n.name)||"WalletConnect",description:(null==(r=e.metadata)?void 0:r.description)||"Connect to WalletConnect-compatible wallets",url:(null==(i=e.metadata)?void 0:i.url)||"https://walletconnect.org",icons:(null==(s=e.metadata)?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:"NONE"===e.explorerRecommendedWalletIds?[]:Array.isArray(e.explorerRecommendedWalletIds)?e.explorerRecommendedWalletIds:[],excludeWalletIds:"ALL"===e.explorerExcludedWalletIds?[]:Array.isArray(e.explorerExcludedWalletIds)?e.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if(null!=(o=e.mobileWallets)&&o.length||null!=(a=e.desktopWallets)&&a.length){const t=[...(e.mobileWallets||[]).map(e=>({id:e.id,name:e.name,links:e.links})),...(e.desktopWallets||[]).map(e=>({id:e.id,name:e.name,links:{native:e.links.native,universal:e.links.universal}}))],n=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],r=t.filter(e=>!n.includes(e.id));r.length&&(u.customWallets=r)}return u},defineChain:W$});function H$({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const V$=ei.forwardRef(H$);function K$({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const G$=ei.forwardRef(K$);function Z$({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{fillRule:"evenodd",d:"M15.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H7.5a.75.75 0 0 1 0-1.5h11.69l-3.22-3.22a.75.75 0 0 1 0-1.06Zm-7.94 9a.75.75 0 0 1 0 1.06l-3.22 3.22H16.5a.75.75 0 0 1 0 1.5H4.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const Y$=ei.forwardRef(Z$);function J$({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Q$=ei.forwardRef(J$);function X$({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const eM=ei.forwardRef(X$);function tM({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const nM=ei.forwardRef(tM);function rM({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const iM=ei.forwardRef(rM);function sM({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const oM=ei.forwardRef(sM),aM="undefined"!=typeof document?ei.useLayoutEffect:()=>{};var cM;const lM=null!==(cM=ei.useInsertionEffect)&&void 0!==cM?cM:aM;function uM(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function dM(e){let t=(0,ei.useRef)({isFocused:!1,observer:null});aM(()=>{const e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}},[]);let n=function(e){const t=(0,ei.useRef)(null);return lM(()=>{t.current=e},[e]),(0,ei.useCallback)((...e)=>{const n=t.current;return null==n?void 0:n(...e)},[])}(t=>{null==e||e(t)});return(0,ei.useCallback)(e=>{if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=e.target,i=e=>{if(t.current.isFocused=!1,r.disabled){let t=uM(e);n(t)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};r.addEventListener("focusout",i,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&r.disabled){var e;null===(e=t.current.observer)||void 0===e||e.disconnect();let n=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:n})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:n}))}}),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function hM(e){var t;if("undefined"==typeof window||null==window.navigator)return!1;let n=null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands;return Array.isArray(n)&&n.some(t=>e.test(t.brand))||e.test(window.navigator.userAgent)}function fM(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function pM(e){let t=null;return()=>(null==t&&(t=e()),t)}const gM=pM(function(){return fM(/^Mac/i)}),mM=pM(function(){return fM(/^iPhone/i)}),yM=pM(function(){return fM(/^iPad/i)||gM()&&navigator.maxTouchPoints>1}),wM=pM(function(){return mM()||yM()}),bM=(pM(function(){return gM()||wM()}),pM(function(){return hM(/AppleWebKit/i)&&!bM()}),pM(function(){return hM(/Chrome/i)})),vM=pM(function(){return hM(/Android/i)});pM(function(){return hM(/Firefox/i)});const xM=e=>{var t;return null!==(t=null==e?void 0:e.ownerDocument)&&void 0!==t?t:document},EM=e=>e&&"window"in e&&e.window===e?e:xM(e).defaultView||window;let kM=null,_M=new Set,CM=new Map,SM=!1,IM=!1;const AM={Tab:!0,Escape:!0};function TM(e,t){for(let n of _M)n(e,t)}function PM(e){SM=!0,function(e){return!(e.metaKey||!gM()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key)}(e)&&(kM="keyboard",TM("keyboard",e))}function OM(e){kM="pointer","mousedown"!==e.type&&"pointerdown"!==e.type||(SM=!0,TM("pointer",e))}function jM(e){(function(e){return!(""!==e.pointerType||!e.isTrusted)||(vM()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)})(e)&&(SM=!0,kM="virtual")}function NM(e){e.target!==window&&e.target!==document&&e.isTrusted&&(SM||IM||(kM="virtual",TM("virtual",e)),SM=!1,IM=!1)}function RM(){SM=!1,IM=!0}function $M(e){if("undefined"==typeof window||"undefined"==typeof document||CM.get(EM(e)))return;const t=EM(e),n=xM(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){SM=!0,r.apply(this,arguments)},n.addEventListener("keydown",PM,!0),n.addEventListener("keyup",PM,!0),n.addEventListener("click",jM,!0),t.addEventListener("focus",NM,!0),t.addEventListener("blur",RM,!1),"undefined"!=typeof PointerEvent&&(n.addEventListener("pointerdown",OM,!0),n.addEventListener("pointermove",OM,!0),n.addEventListener("pointerup",OM,!0)),t.addEventListener("beforeunload",()=>{MM(e)},{once:!0}),CM.set(t,{focus:r})}const MM=(e,t)=>{const n=EM(e),r=xM(e);t&&r.removeEventListener("DOMContentLoaded",t),CM.has(n)&&(n.HTMLElement.prototype.focus=CM.get(n).focus,r.removeEventListener("keydown",PM,!0),r.removeEventListener("keyup",PM,!0),r.removeEventListener("click",jM,!0),n.removeEventListener("focus",NM,!0),n.removeEventListener("blur",RM,!1),"undefined"!=typeof PointerEvent&&(r.removeEventListener("pointerdown",OM,!0),r.removeEventListener("pointermove",OM,!0),r.removeEventListener("pointerup",OM,!0)),CM.delete(n))};function LM(){return"pointer"!==kM}"undefined"!=typeof document&&function(e){const t=xM(e);let n;"loading"!==t.readyState?$M(e):(n=()=>{$M(e)},t.addEventListener("DOMContentLoaded",n))}();const BM=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function UM(e,t){return!(!t||!e)&&e.contains(t)}const DM=(e=document)=>e.activeElement;function FM(e){return e.target}function zM(){let e=(0,ei.useRef)(new Map),t=(0,ei.useCallback)((t,n,r,i)=>{let s=(null==i?void 0:i.once)?(...t)=>{e.current.delete(r),r(...t)}:r;e.current.set(r,{type:n,eventTarget:t,fn:s,options:i}),t.addEventListener(n,s,i)},[]),n=(0,ei.useCallback)((t,n,r,i)=>{var s;let o=(null===(s=e.current.get(r))||void 0===s?void 0:s.fn)||r;t.removeEventListener(n,o,i),e.current.delete(r)},[]),r=(0,ei.useCallback)(()=>{e.current.forEach((e,t)=>{n(e.eventTarget,e.type,t,e.options)})},[n]);return(0,ei.useEffect)(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function WM(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=e,s=(0,ei.useRef)({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:a}=zM(),c=(0,ei.useCallback)(e=>{e.currentTarget.contains(e.target)&&s.current.isFocusWithin&&!e.currentTarget.contains(e.relatedTarget)&&(s.current.isFocusWithin=!1,a(),n&&n(e),i&&i(!1))},[n,i,s,a]),l=dM(c),u=(0,ei.useCallback)(e=>{if(!e.currentTarget.contains(e.target))return;const t=xM(e.target),n=DM(t);if(!s.current.isFocusWithin&&n===FM(e.nativeEvent)){r&&r(e),i&&i(!0),s.current.isFocusWithin=!0,l(e);let n=e.currentTarget;o(t,"focus",e=>{if(s.current.isFocusWithin&&!UM(n,e.target)){let r=new t.defaultView.FocusEvent("blur",{relatedTarget:e.target});!function(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}(r,n);let i=uM(r);c(i)}},{capture:!0})}},[r,i,l,o,c]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:c}}}function qM(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,i=(0,ei.useRef)({isFocused:!1,isFocusVisible:t||LM()}),[s,o]=(0,ei.useState)(!1),[a,c]=(0,ei.useState)(()=>i.current.isFocused&&i.current.isFocusVisible),l=(0,ei.useCallback)(()=>c(i.current.isFocused&&i.current.isFocusVisible),[]),u=(0,ei.useCallback)(e=>{i.current.isFocused=e,o(e),l()},[l]);!function(e,t,n){$M(),(0,ei.useEffect)(()=>{let t=(t,r)=>{(function(e,t,n){let r=xM(null==n?void 0:n.target);const i="undefined"!=typeof window?EM(null==n?void 0:n.target).HTMLInputElement:HTMLInputElement,s="undefined"!=typeof window?EM(null==n?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,o="undefined"!=typeof window?EM(null==n?void 0:n.target).HTMLElement:HTMLElement,a="undefined"!=typeof window?EM(null==n?void 0:n.target).KeyboardEvent:KeyboardEvent;return!((e=e||r.activeElement instanceof i&&!BM.has(r.activeElement.type)||r.activeElement instanceof s||r.activeElement instanceof o&&r.activeElement.isContentEditable)&&"keyboard"===t&&n instanceof a&&!AM[n.key])})(!!(null==n?void 0:n.isTextInput),t,r)&&e(LM())};return _M.add(t),()=>{_M.delete(t)}},t)}(e=>{i.current.isFocusVisible=e,l()},[],{isTextInput:n});let{focusProps:d}=function(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:i}=e;const s=(0,ei.useCallback)(e=>{if(e.target===e.currentTarget)return r&&r(e),i&&i(!1),!0},[r,i]),o=dM(s),a=(0,ei.useCallback)(e=>{const t=xM(e.target),r=t?DM(t):DM();e.target===e.currentTarget&&r===FM(e.nativeEvent)&&(n&&n(e),i&&i(!0),o(e))},[i,n,o]);return{focusProps:{onFocus:!t&&(n||i||r)?a:void 0,onBlur:t||!r&&!i?void 0:s}}}({isDisabled:r,onFocusChange:u}),{focusWithinProps:h}=WM({isDisabled:!r,onFocusWithinChange:u});return{isFocused:s,isFocusVisible:a,focusProps:r?h:d}}let HM=!1,VM=0;function KM(e){"touch"===e.pointerType&&(HM=!0,setTimeout(()=>{HM=!1},50))}function GM(){if("undefined"!=typeof document)return 0===VM&&"undefined"!=typeof PointerEvent&&document.addEventListener("pointerup",KM),VM++,()=>{VM--,VM>0||"undefined"!=typeof PointerEvent&&document.removeEventListener("pointerup",KM)}}var ZM=Object.defineProperty,YM=(e,t,n)=>(((e,t,n)=>{t in e?ZM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);let JM=new class{constructor(){YM(this,"current",this.detect()),YM(this,"handoffState","pending"),YM(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}};function QM(e){var t;return JM.isServer?null:null==e?document:null!=(t=null==e?void 0:e.ownerDocument)?t:document}function XM(e){var t,n;return JM.isServer?null:null==e?document:null!=(n=null==(t=null==e?void 0:e.getRootNode)?void 0:t.call(e))?n:document}function eL(e){var t,n;return null!=(n=null==(t=XM(e))?void 0:t.activeElement)?n:null}function tL(e){return eL(e)===e}function nL(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch(e=>setTimeout(()=>{throw e}))}function rL(){let e=[],t={addEventListener:(e,n,r,i)=>(e.addEventListener(n,r,i),t.add(()=>e.removeEventListener(n,r,i))),requestAnimationFrame(...e){let n=requestAnimationFrame(...e);return t.add(()=>cancelAnimationFrame(n))},nextFrame:(...e)=>t.requestAnimationFrame(()=>t.requestAnimationFrame(...e)),setTimeout(...e){let n=setTimeout(...e);return t.add(()=>clearTimeout(n))},microTask(...e){let n={current:!0};return nL(()=>{n.current&&e[0]()}),t.add(()=>{n.current=!1})},style(e,t,n){let r=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:n}),this.add(()=>{Object.assign(e.style,{[t]:r})})},group(e){let t=rL();return e(t),this.add(()=>t.dispose())},add:t=>(e.includes(t)||e.push(t),()=>{let n=e.indexOf(t);if(n>=0)for(let t of e.splice(n,1))t()}),dispose(){for(let t of e.splice(0))t()}};return t}function iL(){let[e]=(0,ei.useState)(rL);return(0,ei.useEffect)(()=>()=>e.dispose(),[e]),e}let sL=(e,t)=>{JM.isServer?(0,ei.useEffect)(e,t):(0,ei.useLayoutEffect)(e,t)};function oL(e){let t=(0,ei.useRef)(e);return sL(()=>{t.current=e},[e]),t}let aL=function(e){let t=oL(e);return ei.useCallback((...e)=>t.current(...e),[t])};function cL(e){if(null===e)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function lL(e,t,n=!1){let[r,i]=(0,ei.useState)(()=>cL(t));return sL(()=>{if(!t||!e)return;let n=rL();return n.requestAnimationFrame(function e(){n.requestAnimationFrame(e),i(e=>{let n=cL(t);return n.width===e.width&&n.height===e.height?e:n})}),()=>{n.dispose()}},[t,e]),n?{width:`${r.width}px`,height:`${r.height}px`}:r}var uL,dL=((uL=dL||{})[uL.Left=0]="Left",uL[uL.Right=2]="Right",uL);function hL(e){return"object"==typeof e&&null!==e&&"nodeType"in e}function fL(e){return hL(e)&&"tagName"in e}function pL(e){return fL(e)&&"accessKey"in e}function gL(e){return fL(e)&&"tabIndex"in e}function mL(e){return pL(e)&&"INPUT"===e.nodeName}function yL(e){return pL(e)&&"LABEL"===e.nodeName}function wL(e){return pL(e)&&"FIELDSET"===e.nodeName}function bL(e){return pL(e)&&"LEGEND"===e.nodeName}function vL(e){let t=e.parentElement,n=null;for(;t&&!wL(t);)bL(t)&&(n=t),t=t.parentElement;let r=""===(null==t?void 0:t.getAttribute("disabled"));return(!r||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(bL(t))return!1;t=t.previousElementSibling}return!0}(n))&&r}class xL extends Map{constructor(e){super(),this.factory=e}get(e){let t=super.get(e);return void 0===t&&(t=this.factory(e),this.set(e,t)),t}}var EL,kL,_L,CL=Object.defineProperty,SL=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},IL=(e,t,n)=>(SL(e,t,"read from private field"),n?n.call(e):t.get(e)),AL=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},TL=(e,t,n,r)=>(SL(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);class PL{constructor(e){AL(this,EL,{}),AL(this,kL,new xL(()=>new Set)),AL(this,_L,new Set),((e,t,n)=>{((e,t,n)=>{t in e?CL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"disposables",rL()),TL(this,EL,e),JM.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return IL(this,EL)}subscribe(e,t){if(JM.isServer)return()=>{};let n={selector:e,callback:t,current:e(IL(this,EL))};return IL(this,_L).add(n),this.disposables.add(()=>{IL(this,_L).delete(n)})}on(e,t){return JM.isServer?()=>{}:(IL(this,kL).get(e).add(t),this.disposables.add(()=>{IL(this,kL).get(e).delete(t)}))}send(e){let t=this.reduce(IL(this,EL),e);if(t!==IL(this,EL)){TL(this,EL,t);for(let e of IL(this,_L)){let t=e.selector(IL(this,EL));OL(e.current,t)||(e.current=t,e.callback(t))}for(let t of IL(this,kL).get(e.type))t(IL(this,EL),e)}}}function OL(e,t){return!!Object.is(e,t)||"object"==typeof e&&null!==e&&"object"==typeof t&&null!==t&&(Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&jL(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size===t.size&&jL(e.entries(),t.entries()):!(!NL(e)||!NL(t))&&jL(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()))}function jL(e,t){for(;;){let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}}function NL(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||null===Object.getPrototypeOf(t)}function RL(e){let[t,n]=e(),r=rL();return(...e)=>{t(...e),r.dispose(),r.microTask(n)}}function $L(e,t,...n){if(e in t){let r=t[e];return"function"==typeof r?r(...n):r}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(e=>`"${e}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,$L),r}EL=new WeakMap,kL=new WeakMap,_L=new WeakMap;var ML=Object.defineProperty,LL=(e,t,n)=>(((e,t,n)=>{t in e?ML(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),BL=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(BL||{});let UL={0(e,t){let n=t.id,r=e.stack,i=e.stack.indexOf(n);if(-1!==i){let t=e.stack.slice();return t.splice(i,1),t.push(n),r=t,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(-1===r)return e;let i=e.stack.slice();return i.splice(r,1),{...e,stack:i}}};class DL extends PL{constructor(){super(...arguments),LL(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),LL(this,"selectors",{isTop:(e,t)=>e.stack[e.stack.length-1]===t,inStack:(e,t)=>e.stack.includes(t)})}static new(){return new DL({stack:[]})}reduce(e,t){return $L(t.type,UL,e,t)}}const FL=new xL(()=>DL.new());var zL=o(8011);function WL(e,t,n=OL){return(0,zL.useSyncExternalStoreWithSelector)(aL(t=>e.subscribe(qL,t)),aL(()=>e.state),aL(()=>e.state),aL(t),n)}function qL(e){return e}function HL(e,t){let n=(0,ei.useId)(),r=FL.get(t),[i,s]=WL(r,(0,ei.useCallback)(e=>[r.selectors.isTop(e,n),r.selectors.inStack(e,n)],[r,n]));return sL(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),!!e&&(!s||i)}let VL=new Map,KL=new Map;function GL(e){var t;let n=null!=(t=KL.get(e))?t:0;return KL.set(e,n+1),0!==n||(VL.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0),()=>function(e){var t;let n=null!=(t=KL.get(e))?t:1;if(1===n?KL.delete(e):KL.set(e,n-1),1!==n)return;let r=VL.get(e);r&&(null===r["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,VL.delete(e))}(e)}function ZL(e,{allowed:t,disallowed:n}={}){let r=HL(e,"inert-others");sL(()=>{var e,i;if(!r)return;let s=rL();for(let t of null!=(e=null==n?void 0:n())?e:[])t&&s.add(GL(t));let o=null!=(i=null==t?void 0:t())?i:[];for(let e of o){if(!e)continue;let t=QM(e);if(!t)continue;let n=e.parentElement;for(;n&&n!==t.body;){for(let e of n.children)o.some(t=>e.contains(t))||s.add(GL(e));n=n.parentElement}}return s.dispose},[r,t,n])}function YL(e,t,n){let r=oL(e=>{let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&n()});(0,ei.useEffect)(()=>{if(!e)return;let n=null===t?null:pL(t)?t:t.current;if(!n)return;let i=rL();if("undefined"!=typeof ResizeObserver){let e=new ResizeObserver(()=>r.current(n));e.observe(n),i.add(()=>e.disconnect())}if("undefined"!=typeof IntersectionObserver){let e=new IntersectionObserver(()=>r.current(n));e.observe(n),i.add(()=>e.disconnect())}return()=>i.dispose()},[t,r,e])}let JL=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),QL=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var XL,eB=((XL=eB||{})[XL.First=1]="First",XL[XL.Previous=2]="Previous",XL[XL.Next=4]="Next",XL[XL.Last=8]="Last",XL[XL.WrapAround=16]="WrapAround",XL[XL.NoScroll=32]="NoScroll",XL[XL.AutoFocus=64]="AutoFocus",XL),tB=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(tB||{}),nB=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(nB||{});function rB(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(JL)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var iB=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(iB||{});function sB(e,t=0){var n;return e!==(null==(n=QM(e))?void 0:n.body)&&$L(t,{0:()=>e.matches(JL),1(){let t=e;for(;null!==t;){if(t.matches(JL))return!0;t=t.parentElement}return!1}})}function oB(e){rL().nextFrame(()=>{let t=eL(e);t&&gL(t)&&!sB(t,0)&&cB(e)})}var aB=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(aB||{});function cB(e){null==e||e.focus({preventScroll:!0})}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let lB=["textarea","input"].join(",");function uB(e,t=e=>e){return e.slice().sort((e,n)=>{let r=t(e),i=t(n);if(null===r||null===i)return 0;let s=r.compareDocumentPosition(i);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function dB(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(e)?e.length>0?XM(e[0]):document:XM(e),o=Array.isArray(e)?n?uB(e):e:64&t?function(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(QL)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}(e):rB(e);i.length>0&&o.length>1&&(o=o.filter(e=>!i.some(t=>null!=t&&"current"in t?(null==t?void 0:t.current)===e:t===e))),r=null!=r?r:null==s?void 0:s.activeElement;let a,c=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,o.indexOf(r))-1;if(4&t)return Math.max(0,o.indexOf(r))+1;if(8&t)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=32&t?{preventScroll:!0}:{},d=0,h=o.length;do{if(d>=h||d+h<=0)return 0;let e=l+d;if(16&t)e=(e+h)%h;else{if(e<0)return 3;if(e>=h)return 1}a=o[e],null==a||a.focus(u),d+=c}while(a!==eL(a));return 6&t&&function(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,lB))&&n}(a)&&a.select(),2}function hB(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function fB(){return hB()||/Android/gi.test(window.navigator.userAgent)}function pB(e,t,n,r){let i=oL(n);(0,ei.useEffect)(()=>{if(e)return document.addEventListener(t,n,r),()=>document.removeEventListener(t,n,r);function n(e){i.current(e)}},[e,t,r])}function gB(e,t,n,r){let i=oL(n);(0,ei.useEffect)(()=>{if(e)return window.addEventListener(t,n,r),()=>window.removeEventListener(t,n,r);function n(e){i.current(e)}},[e,t,r])}function mB(e,t,n){let r=oL(n),i=(0,ei.useCallback)(function(e,n){if(e.defaultPrevented)return;let i=n(e);if(null===i||!i.getRootNode().contains(i)||!i.isConnected)return;let s=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(t);for(let t of s)if(null!==t&&(t.contains(i)||e.composed&&e.composedPath().includes(t)))return;return!sB(i,iB.Loose)&&-1!==i.tabIndex&&e.preventDefault(),r.current(e,i)},[r,t]),s=(0,ei.useRef)(null);pB(e,"pointerdown",e=>{var t,n;fB()||(s.current=(null==(n=null==(t=e.composedPath)?void 0:t.call(e))?void 0:n[0])||e.target)},!0),pB(e,"pointerup",e=>{if(fB()||!s.current)return;let t=s.current;return s.current=null,i(e,()=>t)},!0);let o=(0,ei.useRef)({x:0,y:0});pB(e,"touchstart",e=>{o.current.x=e.touches[0].clientX,o.current.y=e.touches[0].clientY},!0),pB(e,"touchend",e=>{let t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY;if(!(Math.abs(t-o.current.x)>=30||Math.abs(n-o.current.y)>=30))return i(e,()=>gL(e.target)?e.target:null)},!0),gB(e,"blur",e=>i(e,()=>{return pL(e=window.document.activeElement)&&"IFRAME"===e.nodeName?window.document.activeElement:null;var e}),!0)}function yB(...e){return(0,ei.useMemo)(()=>QM(...e),[...e])}var wB,bB=((wB=bB||{})[wB.Ignore=0]="Ignore",wB[wB.Select=1]="Select",wB[wB.Close=2]="Close",wB);const vB={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}};function xB(e,t){return(0,ei.useMemo)(()=>{var n;if(e.type)return e.type;let r=null!=(n=e.as)?n:"button";return"string"==typeof r&&"button"===r.toLowerCase()||"BUTTON"===(null==t?void 0:t.tagName)&&!t.hasAttribute("type")?"button":void 0},[e.type,e.as,t])}function EB(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=null!=(n=t.defaultView)?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,e-i);n.style(r,"paddingRight",`${s}px`)}}}function kB(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let _B=function(e,t){let n=new Map,r=new Set;return{getSnapshot:()=>n,subscribe:e=>(r.add(e),()=>r.delete(e)),dispatch(e,...i){let s=t[e].call(n,...i);s&&(n=s,r.forEach(e=>e()))}}}(0,{PUSH(e,t){var n;let r=null!=(n=this.get(e))?n:{doc:e,count:0,d:rL(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(t),r.computedMeta=kB(r.meta),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t),n.computedMeta=kB(n.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta:()=>e.computedMeta},n=[hB()?{before({doc:e,d:t,meta:n}){function r(e){for(let t of n().containers)for(let n of t())if(n.contains(e))return!0;return!1}t.microTask(()=>{var n;if("auto"!==window.getComputedStyle(e.documentElement).scrollBehavior){let n=rL();n.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>n.dispose()))}let i=null!=(n=window.scrollY)?n:window.pageYOffset,s=null;t.addEventListener(e,"click",t=>{if(gL(t.target))try{let n=t.target.closest("a");if(!n)return;let{hash:i}=new URL(n.href),o=e.querySelector(i);gL(o)&&!r(o)&&(s=o)}catch{}},!0),t.group(n=>{t.addEventListener(e,"touchstart",e=>{if(n.dispose(),gL(e.target)&&function(e){return fL(e)&&"style"in e}(e.target))if(r(e.target)){let t=e.target;for(;t.parentElement&&r(t.parentElement);)t=t.parentElement;n.style(t,"overscrollBehavior","contain")}else n.style(e.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",e=>{if(gL(e.target)){if(mL(e.target))return;if(r(e.target)){let t=e.target;for(;t.parentElement&&""!==t.dataset.headlessuiPortal&&!(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth);)t=t.parentElement;""===t.dataset.headlessuiPortal&&e.preventDefault()}else e.preventDefault()}},{passive:!1}),t.add(()=>{var e;let t=null!=(e=window.scrollY)?e:window.pageYOffset;i!==t&&window.scrollTo(0,i),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{},EB(),{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}];n.forEach(({before:e})=>null==e?void 0:e(t)),n.forEach(({after:e})=>null==e?void 0:e(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});function CB(e,t,n=()=>[document.body]){!function(e,t,n=()=>({containers:[]})){let r=function(e){return(0,ei.useSyncExternalStore)(e.subscribe,e.getSnapshot,e.getSnapshot)}(_B),i=t?r.get(t):void 0,s=!!i&&i.count>0;sL(()=>{if(t&&e)return _B.dispatch("PUSH",t,n),()=>_B.dispatch("POP",t,n)},[e,t])}(HL(e,"scroll-lock"),t,e=>{var t;return{containers:[...null!=(t=e.containers)?t:[],n]}})}function SB(e){return(0,ei.useMemo)(()=>e,Object.values(e))}_B.subscribe(()=>{let e=_B.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let e="hidden"===t.get(n.doc),r=0!==n.count;(r&&!e||!r&&e)&&_B.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),0===n.count&&_B.dispatch("TEARDOWN",n)}});let IB=Symbol();function AB(...e){let t=(0,ei.useRef)(e);(0,ei.useEffect)(()=>{t.current=e},[e]);let n=aL(e=>{for(let n of t.current)null!=n&&("function"==typeof n?n(e):n.current=e)});return e.every(e=>null==e||(null==e?void 0:e[IB]))?void 0:n}let TB=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function PB(e){var t,n;let r=null!=(t=e.innerText)?t:"",i=e.cloneNode(!0);if(!pL(i))return r;let s=!1;for(let e of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))e.remove(),s=!0;let o=s?null!=(n=i.innerText)?n:"":r;return TB.test(o)&&(o=o.replace(TB,"")),o}function OB(e){return[e.screenX,e.screenY]}var jB,NB,RB=o(5606);void 0!==RB&&"undefined"!=typeof globalThis&&"undefined"!=typeof Element&&"test"===(null==(jB=null==RB?void 0:RB.env)?void 0:jB.NODE_ENV)&&void 0===(null==(NB=null==Element?void 0:Element.prototype)?void 0:NB.getAnimations)&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join("\n")),[]});var $B,MB=(($B=MB||{})[$B.None=0]="None",$B[$B.Closed=1]="Closed",$B[$B.Enter=2]="Enter",$B[$B.Leave=4]="Leave",$B);function LB(e){let t={};for(let n in e)!0===e[n]&&(t[`data-${n}`]="");return t}function BB(e,t,n,r){let[i,s]=(0,ei.useState)(n),{hasFlag:o,addFlag:a,removeFlag:c}=function(e=0){let[t,n]=(0,ei.useState)(e),r=(0,ei.useCallback)(e=>n(e),[]),i=(0,ei.useCallback)(e=>n(t=>t|e),[]),s=(0,ei.useCallback)(e=>(t&e)===e,[t]),o=(0,ei.useCallback)(e=>n(t=>t&~e),[]),a=(0,ei.useCallback)(e=>n(t=>t^e),[]);return{flags:t,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}(e&&i?3:0),l=(0,ei.useRef)(!1),u=(0,ei.useRef)(!1),d=iL();return sL(()=>{var i;if(e)return n&&s(!0),t?(null==(i=null==r?void 0:r.start)||i.call(r,n),function(e,{prepare:t,run:n,done:r,inFlight:i}){let s=rL();return function(e,{inFlight:t,prepare:n}){if(null!=t&&t.current)return void n();let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}(e,{prepare:t,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(function(e,t){var n,r;let i=rL();if(!e)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=null!=(r=null==(n=e.getAnimations)?void 0:n.call(e).filter(e=>e instanceof CSSTransition))?r:[];return 0===o.length?(t(),i.dispose):(Promise.allSettled(o.map(e=>e.finished)).then(()=>{s||t()}),i.dispose)}(e,r))})}),s.dispose}(t,{inFlight:l,prepare(){u.current?u.current=!1:u.current=l.current,l.current=!0,!u.current&&(n?(a(3),c(4)):(a(4),c(2)))},run(){u.current?n?(c(3),a(4)):(c(4),a(3)):n?c(1):a(1)},done(){var e;u.current&&function(e){var t,n;return(null!=(n=null==(t=e.getAnimations)?void 0:t.call(e))?n:[]).some(e=>e instanceof CSSTransition&&"finished"!==e.playState)}(t)||(l.current=!1,c(7),n||s(!1),null==(e=null==r?void 0:r.end)||e.call(r,n))}})):void(n&&a(3))},[e,n,t,d]),e?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function UB(){return"undefined"!=typeof window}function DB(e){return WB(e)?(e.nodeName||"").toLowerCase():"#document"}function FB(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function zB(e){var t;return null==(t=(WB(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function WB(e){return!!UB()&&(e instanceof Node||e instanceof FB(e).Node)}function qB(e){return!!UB()&&(e instanceof Element||e instanceof FB(e).Element)}function HB(e){return!!UB()&&(e instanceof HTMLElement||e instanceof FB(e).HTMLElement)}function VB(e){return!(!UB()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof FB(e).ShadowRoot)}const KB=new Set(["inline","contents"]);function GB(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=oU(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!KB.has(i)}const ZB=new Set(["table","td","th"]);function YB(e){return ZB.has(DB(e))}const JB=[":popover-open",":modal"];function QB(e){return JB.some(t=>{try{return e.matches(t)}catch(e){return!1}})}const XB=["transform","translate","scale","rotate","perspective"],eU=["transform","translate","scale","rotate","perspective","filter"],tU=["paint","layout","strict","content"];function nU(e){const t=rU(),n=qB(e)?oU(e):e;return XB.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||eU.some(e=>(n.willChange||"").includes(e))||tU.some(e=>(n.contain||"").includes(e))}function rU(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const iU=new Set(["html","body","#document"]);function sU(e){return iU.has(DB(e))}function oU(e){return FB(e).getComputedStyle(e)}function aU(e){return qB(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function cU(e){if("html"===DB(e))return e;const t=e.assignedSlot||e.parentNode||VB(e)&&e.host||zB(e);return VB(t)?t.host:t}function lU(e){const t=cU(e);return sU(t)?e.ownerDocument?e.ownerDocument.body:e.body:HB(t)&&GB(t)?t:lU(t)}function uU(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=lU(e),s=i===(null==(r=e.ownerDocument)?void 0:r.body),o=FB(i);if(s){const e=dU(o);return t.concat(o,o.visualViewport||[],GB(i)?i:[],e&&n?uU(e):[])}return t.concat(i,uU(i,[],n))}function dU(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function hU(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(n=n.shadowRoot)?void 0:n.activeElement);){var n;t=t.shadowRoot.activeElement}return t}function fU(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&VB(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function pU(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(e=>{let{brand:t,version:n}=e;return t+"/"+n}).join(" "):navigator.userAgent}function gU(){const e=/android/i;return e.test(function(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}())||e.test(pU())}function mU(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function yU(e){return(null==e?void 0:e.ownerDocument)||document}function wU(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}function bU(e){return"composedPath"in e?e.composedPath()[0]:e.target}function vU(e){return HB(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}function xU(e){e.preventDefault(),e.stopPropagation()}const EU=Math.min,kU=Math.max,_U=Math.round,CU=Math.floor,SU=e=>({x:e,y:e}),IU={left:"right",right:"left",bottom:"top",top:"bottom"},AU={start:"end",end:"start"};function TU(e,t,n){return kU(e,EU(t,n))}function PU(e,t){return"function"==typeof e?e(t):e}function OU(e){return e.split("-")[0]}function jU(e){return e.split("-")[1]}function NU(e){return"x"===e?"y":"x"}function RU(e){return"y"===e?"height":"width"}const $U=new Set(["top","bottom"]);function MU(e){return $U.has(OU(e))?"y":"x"}function LU(e){return NU(MU(e))}function BU(e){return e.replace(/start|end/g,e=>AU[e])}const UU=["left","right"],DU=["right","left"],FU=["top","bottom"],zU=["bottom","top"];function WU(e){return e.replace(/left|right|bottom|top/g,e=>IU[e])}function qU(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}var HU=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"].join(","),VU="undefined"==typeof Element,KU=VU?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,GU=!VU&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},ZU=function(e,t){var n;void 0===t&&(t=!0);var r=null==e||null===(n=e.getAttribute)||void 0===n?void 0:n.call(e,"inert");return""===r||"true"===r||t&&e&&ZU(e.parentNode)},YU=function(e,t,n){for(var r=[],i=Array.from(e);i.length;){var s=i.shift();if(!ZU(s,!1))if("SLOT"===s.tagName){var o=s.assignedElements(),a=o.length?o:s.children,c=YU(a,!0,n);n.flatten?r.push.apply(r,c):r.push({scopeParent:s,candidates:c})}else{KU.call(s,HU)&&n.filter(s)&&(t||!e.includes(s))&&r.push(s);var l=s.shadowRoot||"function"==typeof n.getShadowRoot&&n.getShadowRoot(s),u=!ZU(l,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(s));if(l&&u){var d=YU(!0===l?s.children:l.children,!0,n);n.flatten?r.push.apply(r,d):r.push({scopeParent:s,candidates:d})}else i.unshift.apply(i,s.children)}}return r},JU=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},QU=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!JU(e)?0:e.tabIndex},XU=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},eD=function(e){return"INPUT"===e.tagName},tD=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},nD=function(e,t){return!(t.disabled||ZU(t)||function(e){return eD(e)&&"hidden"===e.type}(t)||function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("full-native"===n&&"checkVisibility"in e)return!e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});if("hidden"===getComputedStyle(e).visibility)return!0;var i=KU.call(e,"details>summary:first-of-type")?e.parentElement:e;if(KU.call(i,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"full-native"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return tD(e)}else{if("function"==typeof r){for(var s=e;e;){var o=e.parentElement,a=GU(e);if(o&&!o.shadowRoot&&!0===r(o))return tD(e);e=e.assignedSlot?e.assignedSlot:o||a===e.ownerDocument?o:a.host}e=s}if(function(e){var t,n,r,i,s=e&&GU(e),o=null===(t=s)||void 0===t?void 0:t.host,a=!1;if(s&&s!==e)for(a=!!(null!==(n=o)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(o)||null!=e&&null!==(i=e.ownerDocument)&&void 0!==i&&i.contains(e));!a&&o;){var c,l,u;a=!(null===(l=o=null===(c=s=GU(o))||void 0===c?void 0:c.host)||void 0===l||null===(u=l.ownerDocument)||void 0===u||!u.contains(o))}return a}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1}(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some(function(e){return"SUMMARY"===e.tagName})}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!KU.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},rD=function(e,t){return!(function(e){return function(e){return eD(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||GU(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!i||i===e}(e)}(t)||QU(t)<0||!nD(e,t))},iD=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},sD=function(e){var t=[],n=[];return e.forEach(function(e,r){var i=!!e.scopeParent,s=i?e.scopeParent:e,o=function(e,t){var n=QU(e);return n<0&&t&&!JU(e)?0:n}(s,i),a=i?sD(e.candidates):s;0===o?i?t.push.apply(t,a):t.push(s):n.push({documentOrder:r,tabIndex:o,item:e,isScope:i,content:a})}),n.sort(XU).reduce(function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e},[]).concat(t)},oD=function(e,t){var n;return n=(t=t||{}).getShadowRoot?YU([e],t.includeContainer,{filter:rD.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:iD}):function(e,t,n){if(ZU(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(HU));return t&&KU.call(e,HU)&&r.unshift(e),r.filter(n)}(e,t.includeContainer,rD.bind(null,t)),sD(n)};function aD(e,t,n){let{reference:r,floating:i}=e;const s=MU(t),o=LU(t),a=RU(o),c=OU(t),l="y"===s,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let f;switch(c){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(jU(t)){case"start":f[o]-=h*(n&&l?-1:1);break;case"end":f[o]+=h*(n&&l?-1:1)}return f}async function cD(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=PU(t,e),p=function(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}(f),g=a[h?"floating"===d?"reference":"floating":d],m=qU(await s.getClippingRect({element:null==(n=await(null==s.isElement?void 0:s.isElement(g)))||n?g:g.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),y="floating"===d?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(null==s.getOffsetParent?void 0:s.getOffsetParent(a.floating)),b=await(null==s.isElement?void 0:s.isElement(w))&&await(null==s.getScale?void 0:s.getScale(w))||{x:1,y:1},v=qU(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:w,strategy:c}):y);return{top:(m.top-v.top+p.top)/b.y,bottom:(v.bottom-m.bottom+p.bottom)/b.y,left:(m.left-v.left+p.left)/b.x,right:(v.right-m.right+p.right)/b.x}}const lD=new Set(["left","top"]);function uD(e){const t=oU(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=HB(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=_U(n)!==s||_U(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function dD(e){return qB(e)?e:e.contextElement}function hD(e){const t=dD(e);if(!HB(t))return SU(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=uD(t);let o=(s?_U(n.width):n.width)/r,a=(s?_U(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}const fD=SU(0);function pD(e){const t=FB(e);return rU()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:fD}function gD(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),s=dD(e);let o=SU(1);t&&(r?qB(r)&&(o=hD(r)):o=hD(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==FB(e))&&t}(s,n,r)?pD(s):SU(0);let c=(i.left+a.x)/o.x,l=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const e=FB(s),t=r&&qB(r)?FB(r):r;let n=e,i=dU(n);for(;i&&r&&t!==n;){const e=hD(i),t=i.getBoundingClientRect(),r=oU(i),s=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,l*=e.y,u*=e.x,d*=e.y,c+=s,l+=o,n=FB(i),i=dU(n)}}return qU({width:u,height:d,x:c,y:l})}function mD(e,t){const n=aU(e).scrollLeft;return t?t.left+n:gD(zB(e)).left+n}function yD(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-mD(e,n),y:n.top+t.scrollTop}}const wD=new Set(["absolute","fixed"]);function bD(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=FB(e),r=zB(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const e=rU();(!e||e&&"fixed"===t)&&(a=i.offsetLeft,c=i.offsetTop)}const l=mD(r);if(l<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,o=Math.abs(r.clientWidth-t.clientWidth-i);o<=25&&(s-=o)}else l<=25&&(s+=l);return{width:s,height:o,x:a,y:c}}(e,n);else if("document"===t)r=function(e){const t=zB(e),n=aU(e),r=e.ownerDocument.body,i=kU(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=kU(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+mD(e);const a=-n.scrollTop;return"rtl"===oU(r).direction&&(o+=kU(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}(zB(e));else if(qB(t))r=function(e,t){const n=gD(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=HB(e)?hD(e):SU(1);return{width:e.clientWidth*s.x,height:e.clientHeight*s.y,x:i*s.x,y:r*s.y}}(t,n);else{const n=pD(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return qU(r)}function vD(e,t){const n=cU(e);return!(n===t||!qB(n)||sU(n))&&("fixed"===oU(n).position||vD(n,t))}function xD(e,t,n){const r=HB(t),i=zB(t),s="fixed"===n,o=gD(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const c=SU(0);function l(){c.x=mD(i)}if(r||!r&&!s)if(("body"!==DB(t)||GB(i))&&(a=aU(t)),r){const e=gD(t,!0,s,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else i&&l();s&&!r&&i&&l();const u=!i||r||s?SU(0):yD(i,a);return{x:o.left+a.scrollLeft-c.x-u.x,y:o.top+a.scrollTop-c.y-u.y,width:o.width,height:o.height}}function ED(e){return"static"===oU(e).position}function kD(e,t){if(!HB(e)||"fixed"===oU(e).position)return null;if(t)return t(e);let n=e.offsetParent;return zB(e)===n&&(n=n.ownerDocument.body),n}function _D(e,t){const n=FB(e);if(QB(e))return n;if(!HB(e)){let t=cU(e);for(;t&&!sU(t);){if(qB(t)&&!ED(t))return t;t=cU(t)}return n}let r=kD(e,t);for(;r&&YB(r)&&ED(r);)r=kD(r,t);return r&&sU(r)&&ED(r)&&!nU(r)?n:r||function(e){let t=cU(e);for(;HB(t)&&!sU(t);){if(nU(t))return t;if(QB(t))return null;t=cU(t)}return null}(e)||n}const CD={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s="fixed"===i,o=zB(r),a=!!t&&QB(t.floating);if(r===o||a&&s)return n;let c={scrollLeft:0,scrollTop:0},l=SU(1);const u=SU(0),d=HB(r);if((d||!d&&!s)&&(("body"!==DB(r)||GB(o))&&(c=aU(r)),HB(r))){const e=gD(r);l=hD(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const h=!o||d||s?SU(0):yD(o,c);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+h.x,y:n.y*l.y-c.scrollTop*l.y+u.y+h.y}},getDocumentElement:zB,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s="clippingAncestors"===n?QB(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=uU(e,[],!1).filter(e=>qB(e)&&"body"!==DB(e)),i=null;const s="fixed"===oU(e).position;let o=s?cU(e):e;for(;qB(o)&&!sU(o);){const t=oU(o),n=nU(o);n||"fixed"!==t.position||(i=null),(s?!n&&!i:!n&&"static"===t.position&&i&&wD.has(i.position)||GB(o)&&!n&&vD(e,o))?r=r.filter(e=>e!==o):i=t,o=cU(o)}return t.set(e,r),r}(t,this._c):[].concat(n),o=[...s,r],a=o[0],c=o.reduce((e,n)=>{const r=bD(t,n,i);return e.top=kU(r.top,e.top),e.right=EU(r.right,e.right),e.bottom=EU(r.bottom,e.bottom),e.left=kU(r.left,e.left),e},bD(t,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:_D,getElementRects:async function(e){const t=this.getOffsetParent||_D,n=this.getDimensions,r=await n(e.floating);return{reference:xD(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=uD(e);return{width:t,height:n}},getScale:hD,isElement:qB,isRTL:function(e){return"rtl"===oU(e).direction}};function SD(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ID(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:c=!1}=r,l=dD(e),u=i||s?[...l?uU(l):[],...uU(t)]:[];u.forEach(e=>{i&&e.addEventListener("scroll",n,{passive:!0}),s&&e.addEventListener("resize",n)});const d=l&&a?function(e,t){let n,r=null;const i=zB(e);function s(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function o(a,c){void 0===a&&(a=!1),void 0===c&&(c=1),s();const l=e.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=l;if(a||t(),!h||!f)return;const p={rootMargin:-CU(d)+"px "+-CU(i.clientWidth-(u+h))+"px "+-CU(i.clientHeight-(d+f))+"px "+-CU(u)+"px",threshold:kU(0,EU(1,c))||1};let g=!0;function m(t){const r=t[0].intersectionRatio;if(r!==c){if(!g)return o();r?o(!1,r):n=setTimeout(()=>{o(!1,1e-7)},1e3)}1!==r||SD(l,e.getBoundingClientRect())||o(),g=!1}try{r=new IntersectionObserver(m,{...p,root:i.ownerDocument})}catch(e){r=new IntersectionObserver(m,p)}r.observe(e)}(!0),s}(l,n):null;let h,f=-1,p=null;o&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===l&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;null==(e=p)||e.observe(t)})),n()}),l&&!c&&p.observe(l),p.observe(t));let g=c?gD(e):null;return c&&function t(){const r=gD(e);g&&!SD(g,r)&&n(),g=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener("scroll",n),s&&e.removeEventListener("resize",n)}),null==d||d(),null==(e=p)||e.disconnect(),p=null,c&&cancelAnimationFrame(h)}}const AD=cD,TD=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,c=await async function(e,t){const{placement:n,platform:r,elements:i}=e,s=await(null==r.isRTL?void 0:r.isRTL(i.floating)),o=OU(n),a=jU(n),c="y"===MU(n),l=lD.has(o)?-1:1,u=s&&c?-1:1,d=PU(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&"number"==typeof p&&(f="end"===a?-1*p:p),c?{x:f*u,y:h*l}:{x:h*l,y:f*u}}(t,e);return o===(null==(n=a.offset)?void 0:n.placement)&&null!=(r=a.arrow)&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},PD=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...c}=PU(e,t),l={x:n,y:r},u=await cD(t,c),d=MU(OU(i)),h=NU(d);let f=l[h],p=l[d];if(s){const e="y"===h?"bottom":"right";f=TU(f+u["y"===h?"top":"left"],f,f-u[e])}if(o){const e="y"===d?"bottom":"right";p=TU(p+u["y"===d?"top":"left"],p,p-u[e])}const g=a.fn({...t,[h]:f,[d]:p});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:s,[d]:o}}}}}},OD=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:l}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=PU(e,t);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};const y=OU(i),w=MU(a),b=OU(a)===a,v=await(null==c.isRTL?void 0:c.isRTL(l.floating)),x=h||(b||!g?[WU(a)]:function(e){const t=WU(e);return[BU(e),t,BU(t)]}(a)),E="none"!==p;!h&&E&&x.push(...function(e,t,n,r){const i=jU(e);let s=function(e,t,n){switch(e){case"top":case"bottom":return n?t?DU:UU:t?UU:DU;case"left":case"right":return t?FU:zU;default:return[]}}(OU(e),"start"===n,r);return i&&(s=s.map(e=>e+"-"+i),t&&(s=s.concat(s.map(BU)))),s}(a,g,p,v));const k=[a,...x],_=await cD(t,m),C=[];let S=(null==(r=s.flip)?void 0:r.overflows)||[];if(u&&C.push(_[y]),d){const e=function(e,t,n){void 0===n&&(n=!1);const r=jU(e),i=LU(e),s=RU(i);let o="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=WU(o)),[o,WU(o)]}(i,o,v);C.push(_[e[0]],_[e[1]])}if(S=[...S,{placement:i,overflows:C}],!C.every(e=>e<=0)){var I,A;const e=((null==(I=s.flip)?void 0:I.index)||0)+1,t=k[e];if(t&&("alignment"!==d||w===MU(t)||S.every(e=>MU(e.placement)!==w||e.overflows[0]>0)))return{data:{index:e,overflows:S},reset:{placement:t}};let n=null==(A=S.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:A.placement;if(!n)switch(f){case"bestFit":{var T;const e=null==(T=S.filter(e=>{if(E){const t=MU(e.placement);return t===w||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:T[0];e&&(n=e);break}case"initialPlacement":n=a}if(i!==n)return{reset:{placement:n}}}return{}}}},jD=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:o,elements:a}=t,{apply:c=()=>{},...l}=PU(e,t),u=await cD(t,l),d=OU(i),h=jU(i),f="y"===MU(i),{width:p,height:g}=s.floating;let m,y;"top"===d||"bottom"===d?(m=d,y=h===(await(null==o.isRTL?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,m="end"===h?"top":"bottom");const w=g-u.top-u.bottom,b=p-u.left-u.right,v=EU(g-u[m],w),x=EU(p-u[y],b),E=!t.middlewareData.shift;let k=v,_=x;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(_=b),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(k=w),E&&!h){const e=kU(u.left,0),t=kU(u.right,0),n=kU(u.top,0),r=kU(u.bottom,0);f?_=p-2*(0!==e||0!==t?e+t:kU(u.left,u.right)):k=g-2*(0!==n||0!==r?n+r:kU(u.top,u.bottom))}await c({...t,availableWidth:_,availableHeight:k});const C=await o.getDimensions(a.floating);return p!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}},ND=(e,t,n)=>{const r=new Map,i={platform:CD,...n},s={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),c=await(null==o.isRTL?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=aD(l,r,c),h=r,f={},p=0;for(let n=0;n<a.length;n++){const{name:s,fn:g}=a[n],{x:m,y,data:w,reset:b}=await g({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:l,platform:o,elements:{reference:e,floating:t}});u=null!=m?m:u,d=null!=y?y:d,f={...f,[s]:{...f[s],...w}},b&&p<=50&&(p++,"object"==typeof b&&(b.placement&&(h=b.placement),b.rects&&(l=!0===b.rects?await o.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:u,y:d}=aD(l,h,c))),n=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}})(e,t,{...i,platform:s})};var RD="undefined"!=typeof document?ei.useLayoutEffect:function(){};function $D(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!$D(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(!("_owner"===n&&e.$$typeof||$D(e[n],t[n])))return!1}return!0}return e!=e&&t!=t}function MD(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function LD(e,t){const n=MD(e);return Math.round(t*n)/n}function BD(e){const t=ei.useRef(e);return RD(()=>{t.current=e}),t}const UD=(e,t)=>({...TD(e),options:[e,t]}),DD=(e,t)=>({...PD(e),options:[e,t]}),FD=(e,t)=>({...OD(e),options:[e,t]});function zD(e){return ei.useMemo(()=>e.every(e=>null==e)?null:t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})},e)}const WD={...ti},qD=WD.useInsertionEffect||(e=>e());function HD(e){const t=ei.useRef(()=>{});return qD(()=>{t.current=e}),ei.useCallback(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}var VD="undefined"!=typeof document?ei.useLayoutEffect:ei.useEffect;function KD(){return KD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KD.apply(this,arguments)}let GD=!1,ZD=0;const YD=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+ZD++,JD=WD.useId||function(){const[e,t]=ei.useState(()=>GD?YD():void 0);return VD(()=>{null==e&&t(YD())},[]),ei.useEffect(()=>{GD=!0},[]),e};const QD=ei.createContext(null),XD=ei.createContext(null),eF=()=>{var e;return(null==(e=ei.useContext(QD))?void 0:e.id)||null},tF=()=>ei.useContext(XD);function nF(e){return"data-floating-ui-"+e}function rF(e){const t=(0,ei.useRef)(e);return VD(()=>{t.current=e}),t}let iF=0;function sF(e,t){void 0===t&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=t;r&&cancelAnimationFrame(iF);const s=()=>null==e?void 0:e.focus({preventScroll:n});i?s():iF=requestAnimationFrame(s)}function oF(e,t){let n=e.filter(e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)}),r=n;for(;r.length;)r=e.filter(e=>{var t;return null==(t=r)?void 0:t.some(t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)})}),n=n.concat(r);return n}let aF=new WeakMap,cF=new WeakSet,lF={},uF=0;const dF=e=>e&&(e.host||dF(e.parentNode));function hF(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=yU(e[0]).body;return function(e,t,n,r){const i="data-floating-ui-inert",s=r?"inert":n?"aria-hidden":null,o=(a=t,e.map(e=>{if(a.contains(e))return e;const t=dF(e);return a.contains(t)?t:null}).filter(e=>null!=e));var a;const c=new Set,l=new Set(o),u=[];lF[i]||(lF[i]=new WeakMap);const d=lF[i];return o.forEach(function e(t){t&&!c.has(t)&&(c.add(t),t.parentNode&&e(t.parentNode))}),function e(t){t&&!l.has(t)&&[].forEach.call(t.children,t=>{if("script"!==DB(t))if(c.has(t))e(t);else{const e=s?t.getAttribute(s):null,n=null!==e&&"false"!==e,r=(aF.get(t)||0)+1,o=(d.get(t)||0)+1;aF.set(t,r),d.set(t,o),u.push(t),1===r&&n&&cF.add(t),1===o&&t.setAttribute(i,""),!n&&s&&t.setAttribute(s,"true")}})}(t),c.clear(),uF++,()=>{u.forEach(e=>{const t=(aF.get(e)||0)-1,n=(d.get(e)||0)-1;aF.set(e,t),d.set(e,n),t||(!cF.has(e)&&s&&e.removeAttribute(s),cF.delete(e)),n||e.removeAttribute(i)}),uF--,uF||(aF=new WeakMap,aF=new WeakMap,cF=new WeakSet,lF={})}}(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const fF=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function pF(e,t){const n=oD(e,fF());"prev"===t&&n.reverse();const r=n.indexOf(hU(yU(e)));return n.slice(r+1)[0]}function gF(){return pF(document.body,"next")}function mF(){return pF(document.body,"prev")}function yF(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!fU(n,r)}function wF(e){oD(e,fF()).forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")})}function bF(e){e.querySelectorAll("[data-tabindex]").forEach(e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")})}const vF={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function xF(e){"Tab"===e.key&&(e.target,clearTimeout(void 0))}const EF=ei.forwardRef(function(e,t){const[n,r]=ei.useState();VD(()=>(/apple/i.test(navigator.vendor)&&r("button"),document.addEventListener("keydown",xF),()=>{document.removeEventListener("keydown",xF)}),[]);const i={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[nF("focus-guard")]:"",style:vF};return ei.createElement("span",KD({},e,i))}),kF=ei.createContext(null),_F=nF("portal");function CF(e){const{children:t,id:n,root:r,preserveTabOrder:i=!0}=e,s=function(e){void 0===e&&(e={});const{id:t,root:n}=e,r=JD(),i=SF(),[s,o]=ei.useState(null),a=ei.useRef(null);return VD(()=>()=>{null==s||s.remove(),queueMicrotask(()=>{a.current=null})},[s]),VD(()=>{if(!r)return;if(a.current)return;const e=t?document.getElementById(t):null;if(!e)return;const n=document.createElement("div");n.id=r,n.setAttribute(_F,""),e.appendChild(n),a.current=n,o(n)},[t,r]),VD(()=>{if(null===n)return;if(!r)return;if(a.current)return;let e=n||(null==i?void 0:i.portalNode);e&&!qB(e)&&(e=e.current),e=e||document.body;let s=null;t&&(s=document.createElement("div"),s.id=t,e.appendChild(s));const c=document.createElement("div");c.id=r,c.setAttribute(_F,""),e=s||e,e.appendChild(c),a.current=c,o(c)},[t,n,r,i]),s}({id:n,root:r}),[o,a]=ei.useState(null),c=ei.useRef(null),l=ei.useRef(null),u=ei.useRef(null),d=ei.useRef(null),h=null==o?void 0:o.modal,f=null==o?void 0:o.open,p=!!o&&!o.modal&&o.open&&i&&!(!r&&!s);return ei.useEffect(()=>{if(s&&i&&!h)return s.addEventListener("focusin",e,!0),s.addEventListener("focusout",e,!0),()=>{s.removeEventListener("focusin",e,!0),s.removeEventListener("focusout",e,!0)};function e(e){s&&yF(e)&&("focusin"===e.type?bF:wF)(s)}},[s,i,h]),ei.useEffect(()=>{s&&(f||bF(s))},[f,s]),ei.createElement(kF.Provider,{value:ei.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:c,afterOutsideRef:l,beforeInsideRef:u,afterInsideRef:d,portalNode:s,setFocusManagerState:a}),[i,s])},p&&s&&ei.createElement(EF,{"data-type":"outside",ref:c,onFocus:e=>{if(yF(e,s)){var t;null==(t=u.current)||t.focus()}else{const e=mF()||(null==o?void 0:o.refs.domReference.current);null==e||e.focus()}}}),p&&s&&ei.createElement("span",{"aria-owns":s.id,style:vF}),s&&_w.createPortal(t,s),p&&s&&ei.createElement(EF,{"data-type":"outside",ref:l,onFocus:e=>{if(yF(e,s)){var t;null==(t=d.current)||t.focus()}else{const t=gF()||(null==o?void 0:o.refs.domReference.current);null==t||t.focus(),(null==o?void 0:o.closeOnFocusOut)&&(null==o||o.onOpenChange(!1,e.nativeEvent,"focus-out"))}}}))}const SF=()=>ei.useContext(kF),IF="data-floating-ui-focusable";let AF=[];function TF(e){AF=AF.filter(e=>e.isConnected);let t=e;if(t&&"body"!==DB(t)){if(!function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==KU.call(e,HU)&&rD(t,e)}(t,fF())){const e=oD(t,fF())[0];e&&(t=e)}AF.push(t),AF.length>20&&(AF=AF.slice(-20))}}function PF(){return AF.slice().reverse().find(e=>e.isConnected)}const OF=ei.forwardRef(function(e,t){return ei.createElement("button",KD({},e,{type:"button",ref:t,tabIndex:-1,style:vF}))});function jF(e){const{context:t,children:n,disabled:r=!1,order:i=["content"],guards:s=!0,initialFocus:o=0,returnFocus:a=!0,restoreFocus:c=!1,modal:l=!0,visuallyHiddenDismiss:u=!1,closeOnFocusOut:d=!0}=e,{open:h,refs:f,nodeId:p,onOpenChange:g,events:m,dataRef:y,floatingId:w,elements:{domReference:b,floating:v}}=t,x="number"==typeof o&&o<0,E=!!(k=b)&&"combobox"===k.getAttribute("role")&&vU(k)&&x;var k;const _="undefined"==typeof HTMLElement||!("inert"in HTMLElement.prototype)||s,C=rF(i),S=rF(o),I=rF(a),A=tF(),T=SF(),P=ei.useRef(null),O=ei.useRef(null),j=ei.useRef(!1),N=ei.useRef(!1),R=ei.useRef(-1),$=null!=T,M=(U=v)?U.hasAttribute(IF)?U:U.querySelector("["+IF+"]")||U:null,L=HD(function(e){return void 0===e&&(e=M),e?oD(e,fF()):[]}),B=HD(e=>{const t=L(e);return C.current.map(e=>b&&"reference"===e?b:M&&"floating"===e?M:t).filter(Boolean).flat()});var U;function D(e){return!r&&u&&l?ei.createElement(OF,{ref:"start"===e?P:O,onClick:e=>g(!1,e.nativeEvent)},"string"==typeof u?u:"Dismiss"):null}ei.useEffect(()=>{if(r)return;if(!l)return;function e(e){if("Tab"===e.key){fU(M,hU(yU(M)))&&0===L().length&&!E&&xU(e);const t=B(),n=bU(e);"reference"===C.current[0]&&n===b&&(xU(e),e.shiftKey?sF(t[t.length-1]):sF(t[1])),"floating"===C.current[1]&&n===M&&e.shiftKey&&(xU(e),sF(t[0]))}}const t=yU(M);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}},[r,b,M,l,C,E,L,B]),ei.useEffect(()=>{if(!r&&v)return v.addEventListener("focusin",e),()=>{v.removeEventListener("focusin",e)};function e(e){const t=bU(e),n=L().indexOf(t);-1!==n&&(R.current=n)}},[r,v,L]),ei.useEffect(()=>{if(!r&&d)return v&&HB(b)?(b.addEventListener("focusout",t),b.addEventListener("pointerdown",e),v.addEventListener("focusout",t),()=>{b.removeEventListener("focusout",t),b.removeEventListener("pointerdown",e),v.removeEventListener("focusout",t)}):void 0;function e(){N.current=!0,setTimeout(()=>{N.current=!1})}function t(e){const t=e.relatedTarget;queueMicrotask(()=>{const n=!(fU(b,t)||fU(v,t)||fU(t,v)||fU(null==T?void 0:T.portalNode,t)||null!=t&&t.hasAttribute(nF("focus-guard"))||A&&(oF(A.nodesRef.current,p).find(e=>{var n,r;return fU(null==(n=e.context)?void 0:n.elements.floating,t)||fU(null==(r=e.context)?void 0:r.elements.domReference,t)})||function(e,t){var n;let r=[],i=null==(n=e.find(e=>e.id===t))?void 0:n.parentId;for(;i;){const t=e.find(e=>e.id===i);i=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}(A.nodesRef.current,p).find(e=>{var n,r;return(null==(n=e.context)?void 0:n.elements.floating)===t||(null==(r=e.context)?void 0:r.elements.domReference)===t})));if(c&&n&&hU(yU(M))===yU(M).body){HB(M)&&M.focus();const e=R.current,t=L(),n=t[e]||t[t.length-1]||M;HB(n)&&n.focus()}!E&&l||!t||!n||N.current||t===PF()||(j.current=!0,g(!1,e,"focus-out"))})}},[r,b,v,M,l,p,A,T,g,d,c,L,E]),ei.useEffect(()=>{var e;if(r)return;const t=Array.from((null==T||null==(e=T.portalNode)?void 0:e.querySelectorAll("["+nF("portal")+"]"))||[]);if(v){const e=[v,...t,P.current,O.current,C.current.includes("reference")||E?b:null].filter(e=>null!=e),n=l||E?hF(e,_,!_):hF(e);return()=>{n()}}},[r,b,v,l,C,T,E,_]),VD(()=>{if(r||!HB(M))return;const e=hU(yU(M));queueMicrotask(()=>{const t=B(M),n=S.current,r=("number"==typeof n?t[n]:n.current)||M,i=fU(M,e);x||i||!h||sF(r,{preventScroll:r===M})})},[r,h,M,x,B,S]),VD(()=>{if(r||!M)return;let e=!1;const t=yU(M),n=hU(t);let i=y.current.openEvent;function s(t){let{open:n,reason:r,event:s,nested:o}=t;n&&(i=s),"escape-key"===r&&f.domReference.current&&TF(f.domReference.current),"hover"===r&&"mouseleave"===s.type&&(j.current=!0),"outside-press"===r&&(o?(j.current=!1,e=!0):j.current=!(function(e){return!(0!==e.mozInputSource||!e.isTrusted)||(gU()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}(s)||function(e){return!pU().includes("jsdom/")&&(!gU()&&0===e.width&&0===e.height||gU()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}(s)))}TF(n),m.on("openchange",s);const o=t.createElement("span");return o.setAttribute("tabindex","-1"),o.setAttribute("aria-hidden","true"),Object.assign(o.style,vF),$&&b&&b.insertAdjacentElement("afterend",o),()=>{m.off("openchange",s);const n=hU(t),r=fU(v,n)||A&&oF(A.nodesRef.current,p).some(e=>{var t;return fU(null==(t=e.context)?void 0:t.elements.floating,n)});(r||i&&["click","mousedown"].includes(i.type))&&f.domReference.current&&TF(f.domReference.current);const a="boolean"==typeof I.current?PF()||o:I.current.current||o;queueMicrotask(()=>{I.current&&!j.current&&HB(a)&&(a===n||n===t.body||r)&&a.focus({preventScroll:e}),o.remove()})}},[r,v,M,I,y,f,m,A,p,$,b]),ei.useEffect(()=>{queueMicrotask(()=>{j.current=!1})},[r]),VD(()=>{if(!r&&T)return T.setFocusManagerState({modal:l,closeOnFocusOut:d,open:h,onOpenChange:g,refs:f}),()=>{T.setFocusManagerState(null)}},[r,T,l,h,g,f,d]),VD(()=>{if(r)return;if(!M)return;if("function"!=typeof MutationObserver)return;if(x)return;const e=()=>{const e=M.getAttribute("tabindex"),t=L(),n=hU(yU(v)),r=t.indexOf(n);-1!==r&&(R.current=r),C.current.includes("floating")||n!==f.domReference.current&&0===t.length?"0"!==e&&M.setAttribute("tabindex","0"):"-1"!==e&&M.setAttribute("tabindex","-1")};e();const t=new MutationObserver(e);return t.observe(M,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}},[r,v,M,f,C,L,x]);const F=!r&&_&&(!l||!E)&&($||l);return ei.createElement(ei.Fragment,null,F&&ei.createElement(EF,{"data-type":"inside",ref:null==T?void 0:T.beforeInsideRef,onFocus:e=>{if(l){const e=B();sF("reference"===i[0]?e[0]:e[e.length-1])}else if(null!=T&&T.preserveTabOrder&&T.portalNode)if(j.current=!1,yF(e,T.portalNode)){const e=gF()||b;null==e||e.focus()}else{var t;null==(t=T.beforeOutsideRef.current)||t.focus()}}}),!E&&D("start"),n,D("end"),F&&ei.createElement(EF,{"data-type":"inside",ref:null==T?void 0:T.afterInsideRef,onFocus:e=>{if(l)sF(B()[0]);else if(null!=T&&T.preserveTabOrder&&T.portalNode)if(d&&(j.current=!0),yF(e,T.portalNode)){const e=mF()||b;null==e||e.focus()}else{var t;null==(t=T.afterOutsideRef.current)||t.focus()}}}))}function NF(e){return HB(e.target)&&"BUTTON"===e.target.tagName}function RF(e){return vU(e)}function $F(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:s}}=e,{enabled:o=!0,event:a="click",toggle:c=!0,ignoreMouse:l=!1,keyboardHandlers:u=!0,stickIfOpen:d=!0}=t,h=ei.useRef(),f=ei.useRef(!1),p=ei.useMemo(()=>({onPointerDown(e){h.current=e.pointerType},onMouseDown(e){const t=h.current;0===e.button&&"click"!==a&&(mU(t,!0)&&l||(!n||!c||i.current.openEvent&&d&&"mousedown"!==i.current.openEvent.type?(e.preventDefault(),r(!0,e.nativeEvent,"click")):r(!1,e.nativeEvent,"click")))},onClick(e){const t=h.current;"mousedown"===a&&h.current?h.current=void 0:mU(t,!0)&&l||(!n||!c||i.current.openEvent&&d&&"click"!==i.current.openEvent.type?r(!0,e.nativeEvent,"click"):r(!1,e.nativeEvent,"click"))},onKeyDown(e){h.current=void 0,e.defaultPrevented||!u||NF(e)||(" "!==e.key||RF(s)||(e.preventDefault(),f.current=!0),"Enter"===e.key&&r(!n||!c,e.nativeEvent,"click"))},onKeyUp(e){e.defaultPrevented||!u||NF(e)||RF(s)||" "===e.key&&f.current&&(f.current=!1,r(!n||!c,e.nativeEvent,"click"))}}),[i,s,a,l,u,r,n,d,c]);return ei.useMemo(()=>o?{reference:p}:{},[o,p])}const MF={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},LF={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},BF=e=>{var t,n;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function UF(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:s}=e,{enabled:o=!0,escapeKey:a=!0,outsidePress:c=!0,outsidePressEvent:l="pointerdown",referencePress:u=!1,referencePressEvent:d="pointerdown",ancestorScroll:h=!1,bubbles:f,capture:p}=t,g=tF(),m=HD("function"==typeof c?c:()=>!1),y="function"==typeof c?m:c,w=ei.useRef(!1),b=ei.useRef(!1),{escapeKey:v,outsidePress:x}=BF(f),{escapeKey:E,outsidePress:k}=BF(p),_=ei.useRef(!1),C=HD(e=>{var t;if(!n||!o||!a||"Escape"!==e.key)return;if(_.current)return;const i=null==(t=s.current.floatingContext)?void 0:t.nodeId,c=g?oF(g.nodesRef.current,i):[];if(!v&&(e.stopPropagation(),c.length>0)){let e=!0;if(c.forEach(t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__escapeKeyBubbles||(e=!1)}),!e)return}r(!1,function(e){return"nativeEvent"in e}(e)?e.nativeEvent:e,"escape-key")}),S=HD(e=>{var t;const n=()=>{var t;C(e),null==(t=bU(e))||t.removeEventListener("keydown",n)};null==(t=bU(e))||t.addEventListener("keydown",n)}),I=HD(e=>{var t;const n=w.current;w.current=!1;const o=b.current;if(b.current=!1,"click"===l&&o)return;if(n)return;if("function"==typeof y&&!y(e))return;const a=bU(e),c="["+nF("inert")+"]",u=yU(i.floating).querySelectorAll(c);let d=qB(a)?a:null;for(;d&&!sU(d);){const e=cU(d);if(sU(e)||!qB(e))break;d=e}if(u.length&&qB(a)&&!a.matches("html,body")&&!fU(a,i.floating)&&Array.from(u).every(e=>!fU(d,e)))return;if(HB(a)&&P){const t=a.clientWidth>0&&a.scrollWidth>a.clientWidth,n=a.clientHeight>0&&a.scrollHeight>a.clientHeight;let r=n&&e.offsetX>a.clientWidth;if(n&&"rtl"===oU(a).direction&&(r=e.offsetX<=a.offsetWidth-a.clientWidth),r||t&&e.offsetY>a.clientHeight)return}const h=null==(t=s.current.floatingContext)?void 0:t.nodeId,f=g&&oF(g.nodesRef.current,h).some(t=>{var n;return wU(e,null==(n=t.context)?void 0:n.elements.floating)});if(wU(e,i.floating)||wU(e,i.domReference)||f)return;const p=g?oF(g.nodesRef.current,h):[];if(p.length>0){let e=!0;if(p.forEach(t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)}),!e)return}r(!1,e,"outside-press")}),A=HD(e=>{var t;const n=()=>{var t;I(e),null==(t=bU(e))||t.removeEventListener(l,n)};null==(t=bU(e))||t.addEventListener(l,n)});ei.useEffect(()=>{if(!n||!o)return;s.current.__escapeKeyBubbles=v,s.current.__outsidePressBubbles=x;let e=-1;function t(e){r(!1,e,"ancestor-scroll")}function c(){window.clearTimeout(e),_.current=!0}function u(){e=window.setTimeout(()=>{_.current=!1},rU()?5:0)}const d=yU(i.floating);a&&(d.addEventListener("keydown",E?S:C,E),d.addEventListener("compositionstart",c),d.addEventListener("compositionend",u)),y&&d.addEventListener(l,k?A:I,k);let f=[];return h&&(qB(i.domReference)&&(f=uU(i.domReference)),qB(i.floating)&&(f=f.concat(uU(i.floating))),!qB(i.reference)&&i.reference&&i.reference.contextElement&&(f=f.concat(uU(i.reference.contextElement)))),f=f.filter(e=>{var t;return e!==(null==(t=d.defaultView)?void 0:t.visualViewport)}),f.forEach(e=>{e.addEventListener("scroll",t,{passive:!0})}),()=>{a&&(d.removeEventListener("keydown",E?S:C,E),d.removeEventListener("compositionstart",c),d.removeEventListener("compositionend",u)),y&&d.removeEventListener(l,k?A:I,k),f.forEach(e=>{e.removeEventListener("scroll",t)}),window.clearTimeout(e)}},[s,i,a,y,l,n,r,h,o,v,x,C,E,S,I,k,A]),ei.useEffect(()=>{w.current=!1},[y,l]);const T=ei.useMemo(()=>({onKeyDown:C,[MF[d]]:e=>{u&&r(!1,e.nativeEvent,"reference-press")}}),[C,r,u,d]),P=ei.useMemo(()=>({onKeyDown:C,onMouseDown(){b.current=!0},onMouseUp(){b.current=!0},[LF[l]]:()=>{w.current=!0}}),[C,l]);return ei.useMemo(()=>o?{reference:T,floating:P}:{},[o,T,P])}function DF(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=JD(),s=ei.useRef({}),[o]=ei.useState(()=>function(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach(e=>e(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter(e=>e!==n))||[])}}}()),a=null!=eF(),[c,l]=ei.useState(r.reference),u=HD((e,t,r)=>{s.current.openEvent=e?t:void 0,o.emit("openchange",{open:e,event:t,reason:r,nested:a}),null==n||n(e,t,r)}),d=ei.useMemo(()=>({setPositionReference:l}),[]),h=ei.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return ei.useMemo(()=>({dataRef:s,open:t,onOpenChange:u,elements:h,events:o,floatingId:i,refs:d}),[t,u,h,o,i,d])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[s,o]=ei.useState(null),[a,c]=ei.useState(null),l=(null==i?void 0:i.domReference)||s,u=ei.useRef(null),d=tF();VD(()=>{l&&(u.current=l)},[l]);const h=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:l}=e,[u,d]=ei.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,f]=ei.useState(r);$D(h,r)||f(r);const[p,g]=ei.useState(null),[m,y]=ei.useState(null),w=ei.useCallback(e=>{e!==E.current&&(E.current=e,g(e))},[]),b=ei.useCallback(e=>{e!==k.current&&(k.current=e,y(e))},[]),v=s||p,x=o||m,E=ei.useRef(null),k=ei.useRef(null),_=ei.useRef(u),C=null!=c,S=BD(c),I=BD(i),A=BD(l),T=ei.useCallback(()=>{if(!E.current||!k.current)return;const e={placement:t,strategy:n,middleware:h};I.current&&(e.platform=I.current),ND(E.current,k.current,e).then(e=>{const t={...e,isPositioned:!1!==A.current};P.current&&!$D(_.current,t)&&(_.current=t,_w.flushSync(()=>{d(t)}))})},[h,t,n,I,A]);RD(()=>{!1===l&&_.current.isPositioned&&(_.current.isPositioned=!1,d(e=>({...e,isPositioned:!1})))},[l]);const P=ei.useRef(!1);RD(()=>(P.current=!0,()=>{P.current=!1}),[]),RD(()=>{if(v&&(E.current=v),x&&(k.current=x),v&&x){if(S.current)return S.current(v,x,T);T()}},[v,x,T,S,C]);const O=ei.useMemo(()=>({reference:E,floating:k,setReference:w,setFloating:b}),[w,b]),j=ei.useMemo(()=>({reference:v,floating:x}),[v,x]),N=ei.useMemo(()=>{const e={position:n,left:0,top:0};if(!j.floating)return e;const t=LD(j.floating,u.x),r=LD(j.floating,u.y);return a?{...e,transform:"translate("+t+"px, "+r+"px)",...MD(j.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,a,j.floating,u.x,u.y]);return ei.useMemo(()=>({...u,update:T,refs:O,elements:j,floatingStyles:N}),[u,T,O,j,N])}({...e,elements:{...i,...a&&{reference:a}}}),f=ei.useCallback(e=>{const t=qB(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;c(t),h.refs.setReference(t)},[h.refs]),p=ei.useCallback(e=>{(qB(e)||null===e)&&(u.current=e,o(e)),(qB(h.refs.reference.current)||null===h.refs.reference.current||null!==e&&!qB(e))&&h.refs.setReference(e)},[h.refs]),g=ei.useMemo(()=>({...h.refs,setReference:p,setPositionReference:f,domReference:u}),[h.refs,p,f]),m=ei.useMemo(()=>({...h.elements,domReference:l}),[h.elements,l]),y=ei.useMemo(()=>({...h,...r,refs:g,elements:m,nodeId:t}),[h,g,m,t,r]);return VD(()=>{r.dataRef.current.floatingContext=y;const e=null==d?void 0:d.nodesRef.current.find(e=>e.id===t);e&&(e.context=y)}),ei.useMemo(()=>({...h,context:y,refs:g,elements:m}),[h,g,m,y])}const FF="active",zF="selected";function WF(e,t,n){const r=new Map,i="item"===n;let s=e;if(i&&e){const{[FF]:t,[zF]:n,...r}=e;s=r}return{..."floating"===n&&{tabIndex:-1,[IF]:""},...s,...t.map(t=>{const r=t?t[n]:null;return"function"==typeof r?e?r(e):null:r}).concat(e).reduce((e,t)=>t?(Object.entries(t).forEach(t=>{let[n,s]=t;var o;i&&[FF,zF].includes(n)||(0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"==typeof s&&(null==(o=r.get(n))||o.push(s),e[n]=function(){for(var e,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return null==(e=r.get(n))?void 0:e.map(e=>e(...i)).find(e=>void 0!==e)})):e[n]=s)}),e):e,{})}}function qF(e){void 0===e&&(e=[]);const t=e.map(e=>null==e?void 0:e.reference),n=e.map(e=>null==e?void 0:e.floating),r=e.map(e=>null==e?void 0:e.item),i=ei.useCallback(t=>WF(t,e,"reference"),t),s=ei.useCallback(t=>WF(t,e,"floating"),n),o=ei.useCallback(t=>WF(t,e,"item"),r);return ei.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}const HF=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function VF(e,t){var n;void 0===t&&(t={});const{open:r,floatingId:i}=e,{enabled:s=!0,role:o="dialog"}=t,a=null!=(n=HF.get(o))?n:o,c=JD(),l=null!=eF(),u=ei.useMemo(()=>"tooltip"===a||"label"===o?{["aria-"+("label"===o?"labelledby":"describedby")]:r?i:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":"alertdialog"===a?"dialog":a,"aria-controls":r?i:void 0,..."listbox"===a&&{role:"combobox"},..."menu"===a&&{id:c},..."menu"===a&&l&&{role:"menuitem"},..."select"===o&&{"aria-autocomplete":"none"},..."combobox"===o&&{"aria-autocomplete":"list"}},[a,i,l,r,c,o]),d=ei.useMemo(()=>{const e={id:i,...a&&{role:a}};return"tooltip"===a||"label"===o?e:{...e,..."menu"===a&&{"aria-labelledby":c}}},[a,i,c,o]),h=ei.useCallback(e=>{let{active:t,selected:n}=e;const r={role:"option",...t&&{id:i+"-option"}};switch(o){case"select":return{...r,"aria-selected":t&&n};case"combobox":return{...r,...t&&{"aria-selected":!0}}}return{}},[i,o]);return ei.useMemo(()=>s?{reference:u,floating:d,item:h}:{},[s,u,d,h])}const KF=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,t)=>(t?"-":"")+e.toLowerCase());function GF(e,t){return"function"==typeof e?e(t):e}function ZF(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}let YF=(0,ei.createContext)({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});YF.displayName="FloatingContext";let JF=(0,ei.createContext)(null);function QF({children:e,enabled:t=!0}){let[n,r]=(0,ei.useState)(null),[i,s]=(0,ei.useState)(0),o=(0,ei.useRef)(null),[a,c]=(0,ei.useState)(null);!function(e){sL(()=>{if(!e)return;let t=new MutationObserver(()=>{let t=window.getComputedStyle(e).maxHeight,n=parseFloat(t);if(isNaN(n))return;let r=parseInt(t);isNaN(r)||n!==r&&(e.style.maxHeight=`${Math.ceil(n)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}(a);let l=t&&null!==n&&null!==a,{to:u="bottom",gap:d=0,offset:h=0,padding:f=0,inner:p}=function(e,t){var n,r,i;let s=XF(null!=(n=null==e?void 0:e.gap)?n:"var(--anchor-gap, 0)",t),o=XF(null!=(r=null==e?void 0:e.offset)?r:"var(--anchor-offset, 0)",t),a=XF(null!=(i=null==e?void 0:e.padding)?i:"var(--anchor-padding, 0)",t);return{...e,gap:s,offset:o,padding:a}}(n,a),[g,m="center"]=u.split(" ");sL(()=>{l&&s(0)},[l]);let{refs:y,floatingStyles:w,context:b}=DF({open:l,placement:"selection"===g?"center"===m?"bottom":`bottom-${m}`:"center"===m?`${g}`:`${g}-${m}`,strategy:"absolute",transform:!1,middleware:[UD({mainAxis:"selection"===g?0:d,crossAxis:h}),DD({padding:f}),"selection"!==g&&FD({padding:f}),"selection"===g&&p?(k={...p,padding:f,overflowRef:o,offset:i,minItemsVisible:4,referenceOverflowThreshold:f,onFallbackChange(e){var t,n;if(!e)return;let r=b.elements.floating;if(!r)return;let i=parseFloat(getComputedStyle(r).scrollPaddingBottom)||0,o=Math.min(4,r.childElementCount),a=0,c=0;for(let e of null!=(n=null==(t=b.elements.floating)?void 0:t.childNodes)?n:[])if(pL(e)){let t=e.offsetTop,n=t+e.clientHeight+i,s=r.scrollTop,l=s+r.clientHeight;if(!(t>=s&&n<=l)){c=Math.max(0,Math.min(n,l)-Math.max(t,s)),a=e.clientHeight;break}o--}o>=1&&s(e=>{let t=a*o-c+i;return e>=t?e:t})}},{name:"inner",options:k,async fn(e){const{listRef:t,overflowRef:n,onFallbackChange:r,offset:i=0,index:s=0,minItemsVisible:o=4,referenceOverflowThreshold:a=0,scrollRef:c,...l}=PU(k,e),{rects:u,elements:{floating:d}}=e,h=t.current[s],f=(null==c?void 0:c.current)||d,p=d.clientTop||f.clientTop,g=0!==d.clientTop,m=0!==f.clientTop,y=d===f;if(!h)return{};const w={...e,...await UD(-h.offsetTop-d.clientTop-u.reference.height/2-h.offsetHeight/2-i).fn(e)},b=await AD(ZF(w,f.scrollHeight+p+d.clientTop),l),v=await AD(w,{...l,elementContext:"reference"}),x=kU(0,b.top),E=w.y+x,_=(f.scrollHeight>f.clientHeight?e=>e:_U)(kU(0,f.scrollHeight+(g&&y||m?2*p:0)-x-kU(0,b.bottom)));if(f.style.maxHeight=_+"px",f.scrollTop=x,r){const e=f.offsetHeight<h.offsetHeight*EU(o,t.current.length)-1||v.top>=-a||v.bottom>=-a;_w.flushSync(()=>r(e))}return n&&(n.current=await AD(ZF({...w,y:E},f.offsetHeight+p+d.clientTop),l)),{y:E}}}):null,(E={padding:f,apply({availableWidth:e,availableHeight:t,elements:n}){Object.assign(n.floating.style,{overflow:"auto",maxWidth:`${e}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${t}px)`})}},{...jD(E),options:[E,undefined]})].filter(Boolean),whileElementsMounted:ID}),[v=g,x=m]=b.placement.split("-");var E,k;"selection"===g&&(v="selection");let _=(0,ei.useMemo)(()=>({anchor:[v,x].filter(Boolean).join(" ")}),[v,x]),C=function(e,t){const{open:n,elements:r}=e,{enabled:i=!0,overflowRef:s,scrollRef:o,onChange:a}=t,c=HD(a),l=ei.useRef(!1),u=ei.useRef(null),d=ei.useRef(null);ei.useEffect(()=>{if(!i)return;function e(e){if(e.ctrlKey||!t||null==s.current)return;const n=e.deltaY,r=s.current.top>=-.5,i=s.current.bottom>=-.5,o=t.scrollHeight-t.clientHeight,a=n<0?-1:1,l=n<0?"max":"min";t.scrollHeight<=t.clientHeight||(!r&&n>0||!i&&n<0?(e.preventDefault(),_w.flushSync(()=>{c(e=>e+Math[l](n,o*a))})):/firefox/i.test(pU())&&(t.scrollTop+=n))}const t=(null==o?void 0:o.current)||r.floating;return n&&t?(t.addEventListener("wheel",e),requestAnimationFrame(()=>{u.current=t.scrollTop,null!=s.current&&(d.current={...s.current})}),()=>{u.current=null,d.current=null,t.removeEventListener("wheel",e)}):void 0},[i,n,r.floating,s,o,c]);const h=ei.useMemo(()=>({onKeyDown(){l.current=!0},onWheel(){l.current=!1},onPointerMove(){l.current=!1},onScroll(){const e=(null==o?void 0:o.current)||r.floating;if(s.current&&e&&l.current){if(null!==u.current){const t=e.scrollTop-u.current;(s.current.bottom<-.5&&t<-1||s.current.top<-.5&&t>1)&&_w.flushSync(()=>c(e=>e+t))}requestAnimationFrame(()=>{u.current=e.scrollTop})}}}),[r.floating,c,s,o]);return ei.useMemo(()=>i?{floating:h}:{},[i,h])}(b,{overflowRef:o,onChange:s}),{getReferenceProps:S,getFloatingProps:I}=qF([C]),A=aL(e=>{c(e),y.setFloating(e)});return ei.createElement(JF.Provider,{value:r},ei.createElement(YF.Provider,{value:{setFloating:A,setReference:y.setReference,styles:w,getReferenceProps:S,getFloatingProps:I,slot:_}},e))}function XF(e,t,n=void 0){let r=iL(),i=aL((e,t)=>{if(null==e)return[n,null];if("number"==typeof e)return[e,null];if("string"==typeof e){if(!t)return[n,null];let i=tz(e,t);return[i,n=>{let s=ez(e);{let o=s.map(e=>window.getComputedStyle(t).getPropertyValue(e));r.requestAnimationFrame(function a(){r.nextFrame(a);let c=!1;for(let[e,n]of s.entries()){let r=window.getComputedStyle(t).getPropertyValue(n);if(o[e]!==r){o[e]=r,c=!0;break}}if(!c)return;let l=tz(e,t);i!==l&&(n(l),i=l)})}return r.dispose}]}return[n,null]}),s=(0,ei.useMemo)(()=>i(e,t)[0],[e,t]),[o=s,a]=(0,ei.useState)();return sL(()=>{let[n,r]=i(e,t);if(a(n),r)return r(a)},[e,t]),o}function ez(e){let t=/var\((.*)\)/.exec(e);if(t){let e=t[1].indexOf(",");if(-1===e)return[t[1]];let n=t[1].slice(0,e).trim(),r=t[1].slice(e+1).trim();return r?[n,...ez(r)]:[n]}return[]}function tz(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}JF.displayName="PlacementContext";let nz=(0,ei.createContext)(null);nz.displayName="OpenClosedContext";var rz=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(rz||{});function iz(){return(0,ei.useContext)(nz)}function sz({value:e,children:t}){return ei.createElement(nz.Provider,{value:e},t)}function oz({children:e}){return ei.createElement(nz.Provider,{value:null},e)}var az=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(az||{});function cz(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=null!=r?r:-1;switch(e.focus){case 0:for(let e=0;e<n.length;++e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 1:-1===i&&(i=n.length);for(let e=i-1;e>=0;--e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 2:for(let e=i+1;e<n.length;++e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 3:for(let e=n.length-1;e>=0;--e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 4:for(let r=0;r<n.length;++r)if(t.resolveId(n[r],r,n)===e.id)return r;return r;case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}function lz(...e){return Array.from(new Set(e.flatMap(e=>"string"==typeof e?e.split(" "):[]))).filter(Boolean).join(" ")}var uz=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(uz||{}),dz=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(dz||{});function hz(){let e=function(){let e=(0,ei.useRef)([]),t=(0,ei.useCallback)(t=>{for(let n of e.current)null!=n&&("function"==typeof n?n(t):n.current=t)},[]);return(...n)=>{if(!n.every(e=>null==e))return e.current=n,t}}();return(0,ei.useCallback)(t=>function({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=null!=a?a:pz;let c=gz(t,e);if(s)return fz(c,n,r,o,a);let l=null!=i?i:0;if(2&l){let{static:e=!1,...t}=c;if(e)return fz(t,n,r,o,a)}if(1&l){let{unmount:e=!0,...t}=c;return $L(e?0:1,{0:()=>null,1:()=>fz({...t,hidden:!0,style:{display:"none"}},n,r,o,a)})}return fz(c,n,r,o,a)}({mergeRefs:e,...t}),[e])}function fz(e,t={},n,r,i){let{as:s=n,children:o,refName:a="ref",...c}=bz(e,["unmount","static"]),l=void 0!==e.ref?{[a]:e.ref}:{},u="function"==typeof o?o(t):o;"className"in c&&c.className&&"function"==typeof c.className&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let d={};if(t){let e=!1,n=[];for(let[r,i]of Object.entries(t))"boolean"==typeof i&&(e=!0),!0===i&&n.push(r.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`));if(e){d["data-headlessui-state"]=n.join(" ");for(let e of n)d[`data-${e}`]=""}}if(xz(s)&&(Object.keys(wz(c)).length>0||Object.keys(wz(d)).length>0)){if(!(!(0,ei.isValidElement)(u)||Array.isArray(u)&&u.length>1||function(e){return xz(e.type)}(u))){let e=u.props,t=null==e?void 0:e.className,n="function"==typeof t?(...e)=>lz(t(...e),c.className):lz(t,c.className),r=n?{className:n}:{},s=gz(u.props,wz(bz(c,["ref"])));for(let e in d)e in s&&delete d[e];return(0,ei.cloneElement)(u,Object.assign({},s,d,l,{ref:i(vz(u),l.ref)},r))}if(Object.keys(wz(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(wz(c)).concat(Object.keys(wz(d))).map(e=>`  - ${e}`).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(e=>`  - ${e}`).join("\n")].join("\n"))}return(0,ei.createElement)(s,Object.assign({},bz(c,["ref"]),!xz(s)&&l,!xz(s)&&d),u)}function pz(...e){return e.every(e=>null==e)?void 0:t=>{for(let n of e)null!=n&&("function"==typeof n?n(t):n.current=t)}}function gz(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},n={};for(let r of e)for(let e in r)e.startsWith("on")&&"function"==typeof r[e]?(null!=n[e]||(n[e]=[]),n[e].push(r[e])):t[e]=r[e];if(t.disabled||t["aria-disabled"])for(let e in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(e)&&(n[e]=[e=>{var t;return null==(t=null==e?void 0:e.preventDefault)?void 0:t.call(e)}]);for(let e in n)Object.assign(t,{[e](t,...r){let i=n[e];for(let e of i){if((t instanceof Event||(null==t?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;e(t,...r)}}});return t}function mz(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},n={};for(let r of e)for(let e in r)e.startsWith("on")&&"function"==typeof r[e]?(null!=n[e]||(n[e]=[]),n[e].push(r[e])):t[e]=r[e];for(let e in n)Object.assign(t,{[e](...t){let r=n[e];for(let e of r)null==e||e(...t)}});return t}function yz(e){var t;return Object.assign((0,ei.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function wz(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}function bz(e,t=[]){let n=Object.assign({},e);for(let e of t)e in n&&delete n[e];return n}function vz(e){return ei.version.split(".")[0]>="19"?e.props.ref:e.ref}function xz(e){return e===ei.Fragment||e===Symbol.for("react.fragment")}let Ez=(0,ei.createContext)(void 0);function kz(){return(0,ei.useContext)(Ez)}let _z=(0,ei.createContext)(null);function Cz(){let e=(0,ei.useContext)(_z);if(null===e){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Cz),e}return e}function Sz(){let[e,t]=(0,ei.useState)([]);return[e.length>0?e.join(" "):void 0,(0,ei.useMemo)(()=>function(e){let n=aL(e=>(t(t=>[...t,e]),()=>t(t=>{let n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))),r=(0,ei.useMemo)(()=>({register:n,slot:e.slot,name:e.name,props:e.props,value:e.value}),[n,e.slot,e.name,e.props,e.value]);return ei.createElement(_z.Provider,{value:r},e.children)},[t])]}_z.displayName="DescriptionContext";let Iz=yz(function(e,t){let n=(0,ei.useId)(),r=kz(),{id:i=`headlessui-description-${n}`,...s}=e,o=Cz(),a=AB(t);sL(()=>o.register(i),[i,o.register]);let c=SB({...o.slot,disabled:r||!1}),l={ref:a,...o.props,id:i};return hz()({ourProps:l,theirProps:s,slot:c,defaultTag:"p",name:o.name||"Description"})}),Az=Object.assign(Iz,{});var Tz,Pz=((Tz=Pz||{}).Space=" ",Tz.Enter="Enter",Tz.Escape="Escape",Tz.Backspace="Backspace",Tz.Delete="Delete",Tz.ArrowLeft="ArrowLeft",Tz.ArrowUp="ArrowUp",Tz.ArrowRight="ArrowRight",Tz.ArrowDown="ArrowDown",Tz.Home="Home",Tz.End="End",Tz.PageUp="PageUp",Tz.PageDown="PageDown",Tz.Tab="Tab",Tz);let Oz=(0,ei.createContext)(void 0),jz=(0,ei.createContext)(null);function Nz(){let e=(0,ei.useContext)(jz);if(null===e){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Nz),e}return e}function Rz({inherit:e=!1}={}){let t=function(e){var t,n;let r=null!=(n=null==(t=(0,ei.useContext)(jz))?void 0:t.value)?n:void 0;return(null!=void 0?undefined:0)>0?[r,...e].filter(Boolean).join(" "):r}(),[n,r]=(0,ei.useState)([]),i=e?[t,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,(0,ei.useMemo)(()=>function(e){let t=aL(e=>(r(t=>[...t,e]),()=>r(t=>{let n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))),n=(0,ei.useMemo)(()=>({register:t,slot:e.slot,name:e.name,props:e.props,value:e.value}),[t,e.slot,e.name,e.props,e.value]);return ei.createElement(jz.Provider,{value:n},e.children)},[r])]}jz.displayName="LabelContext";let $z=yz(function(e,t){var n;let r=(0,ei.useId)(),i=Nz(),s=(0,ei.useContext)(Oz),o=kz(),{id:a=`headlessui-label-${r}`,htmlFor:c=(null!=s?s:null==(n=i.props)?void 0:n.htmlFor),passive:l=!1,...u}=e,d=AB(t);sL(()=>i.register(a),[a,i.register]);let h=aL(e=>{let t=e.currentTarget;if((e.target===e.currentTarget||!function(e){return!!fL(e)&&e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]')}(e.target))&&(yL(t)&&e.preventDefault(),i.props&&"onClick"in i.props&&"function"==typeof i.props.onClick&&i.props.onClick(e),yL(t))){let e=document.getElementById(t.htmlFor);if(e){let t=e.getAttribute("disabled");if("true"===t||""===t)return;let n=e.getAttribute("aria-disabled");if("true"===n||""===n)return;(mL(e)&&("file"===e.type||"radio"===e.type||"checkbox"===e.type)||"radio"===e.role||"checkbox"===e.role||"switch"===e.role)&&e.click(),e.focus({preventScroll:!0})}}}),f=SB({...i.slot,disabled:o||!1}),p={ref:d,...i.props,id:a,htmlFor:c,onClick:h};return l&&("onClick"in p&&(delete p.htmlFor,delete p.onClick),"onClick"in u&&delete u.onClick),hz()({ourProps:p,theirProps:u,slot:f,defaultTag:c?"label":"div",name:i.name||"Label"})});function Mz(e){let t=aL(e),n=(0,ei.useRef)(!1);(0,ei.useEffect)(()=>(n.current=!1,()=>{n.current=!0,nL(()=>{n.current&&t()})}),[t])}Object.assign($z,{});let Lz=(0,ei.createContext)(!1);function Bz(e){return ei.createElement(Lz.Provider,{value:e.force},e.children)}let Uz=ei.Fragment,Dz=yz(function(e,t){let{ownerDocument:n=null,...r}=e,i=(0,ei.useRef)(null),s=AB(function(e,t=!0){return Object.assign(e,{[IB]:t})}(e=>{i.current=e}),t),o=yB(i.current),a=function(e){let t=(0,ei.useContext)(Lz),n=(0,ei.useContext)(zz),[r,i]=(0,ei.useState)(()=>{var r;if(!t&&null!==n)return null!=(r=n.current)?r:null;if(JM.isServer)return null;let i=null==e?void 0:e.getElementById("headlessui-portal-root");if(i)return i;if(null===e)return null;let s=e.createElement("div");return s.setAttribute("id","headlessui-portal-root"),e.body.appendChild(s)});return(0,ei.useEffect)(()=>{null!==r&&(null!=e&&e.body.contains(r)||null==e||e.body.appendChild(r))},[r,e]),(0,ei.useEffect)(()=>{t||null!==n&&i(n.current)},[n,i,t]),r}(null!=n?n:o),c=(0,ei.useContext)(Wz),l=iL(),u=hz();return Mz(()=>{var e;a&&a.childNodes.length<=0&&(null==(e=a.parentElement)||e.removeChild(a))}),a?(0,_w.createPortal)(ei.createElement("div",{"data-headlessui-portal":"",ref:e=>{l.dispose(),c&&e&&l.add(c.register(e))}},u({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:Uz,name:"Portal"})),a):null}),Fz=ei.Fragment,zz=(0,ei.createContext)(null),Wz=(0,ei.createContext)(null),qz=yz(function(e,t){let n=AB(t),{enabled:r=!0,ownerDocument:i,...s}=e,o=hz();return r?ei.createElement(Dz,{...s,ownerDocument:i,ref:n}):o({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:Uz,name:"Portal"})}),Hz=yz(function(e,t){let{target:n,...r}=e,i={ref:AB(t)},s=hz();return ei.createElement(zz.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:Fz,name:"Popover.Group"}))}),Vz=Object.assign(qz,{Group:Hz});const Kz={Idle:{kind:"Idle"},Tracked:e=>({kind:"Tracked",position:e}),Moved:{kind:"Moved"}};function Gz(e){let t=e.getBoundingClientRect();return`${t.x},${t.y}`}var Zz=Object.defineProperty,Yz=(e,t,n)=>(((e,t,n)=>{t in e?Zz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),Jz=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Jz||{}),Qz=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Qz||{}),Xz=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItems=5]="RegisterItems",e[e.UnregisterItems=6]="UnregisterItems",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e[e.SortItems=9]="SortItems",e[e.MarkButtonAsMoved=10]="MarkButtonAsMoved",e))(Xz||{});function eW(e,t=e=>e){let n=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,r=uB(t(e.items.slice()),e=>e.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return-1===i&&(i=null),{items:r,activeItemIndex:i}}let tW={1(e){if(1===e.menuState)return e;let t=e.buttonElement?Kz.Tracked(Gz(e.buttonElement)):e.buttonPositionState;return{...e,activeItemIndex:null,pendingFocus:{focus:az.Nothing},menuState:1,buttonPositionState:t}},0:(e,t)=>0===e.menuState?e:{...e,__demoMode:!1,pendingFocus:t.focus,menuState:0,buttonPositionState:Kz.Idle},2:(e,t)=>{var n,r,i,s,o;if(1===e.menuState)return e;let a={...e,searchQuery:"",activationTrigger:null!=(n=t.trigger)?n:1,__demoMode:!1};if(t.focus===az.Nothing)return{...a,activeItemIndex:null};if(t.focus===az.Specific)return{...a,activeItemIndex:e.items.findIndex(e=>e.id===t.id)};if(t.focus===az.Previous){let n=e.activeItemIndex;if(null!==n){let s=e.items[n].dataRef.current.domRef,o=cz(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==o){let t=e.items[o].dataRef.current.domRef;if((null==(r=s.current)?void 0:r.previousElementSibling)===t.current||null===(null==(i=t.current)?void 0:i.previousElementSibling))return{...a,activeItemIndex:o}}}}else if(t.focus===az.Next){let n=e.activeItemIndex;if(null!==n){let r=e.items[n].dataRef.current.domRef,i=cz(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==i){let t=e.items[i].dataRef.current.domRef;if((null==(s=r.current)?void 0:s.nextElementSibling)===t.current||null===(null==(o=t.current)?void 0:o.nextElementSibling))return{...a,activeItemIndex:i}}}}let c=eW(e),l=cz(t,{resolveItems:()=>c.items,resolveActiveIndex:()=>c.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...a,...c,activeItemIndex:l}},3:(e,t)=>{let n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(e=>{var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))&&!e.dataRef.current.disabled}),s=i?e.items.indexOf(i):-1;return-1===s||s===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:s,activationTrigger:1}},4:e=>""===e.searchQuery?e:{...e,searchQuery:"",searchActiveItemIndex:null},5:(e,t)=>{let n=e.items.concat(t.items.map(e=>e)),r=e.activeItemIndex;return e.pendingFocus.focus!==az.Nothing&&(r=cz(e.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>e.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled})),{...e,items:n,activeItemIndex:r,pendingFocus:{focus:az.Nothing},pendingShouldSort:!0}},6:(e,t)=>{let n=e.items,r=[],i=new Set(t.items);for(let[e,t]of n.entries())if(i.has(t.id)&&(r.push(e),i.delete(t.id),0===i.size))break;if(r.length>0){n=n.slice();for(let e of r.reverse())n.splice(e,1)}return{...e,items:n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element},9:e=>e.pendingShouldSort?{...e,...eW(e),pendingShouldSort:!1}:e,10:e=>"Tracked"!==e.buttonPositionState.kind?e:{...e,buttonPositionState:Kz.Moved}};class nW extends PL{constructor(e){super(e),Yz(this,"actions",{registerItem:RL(()=>{let e=[],t=new Set;return[(n,r)=>{t.has(r)||(t.add(r),e.push({id:n,dataRef:r}))},()=>(t.clear(),this.send({type:5,items:e.splice(0)}))]}),unregisterItem:RL(()=>{let e=[];return[t=>e.push(t),()=>this.send({type:6,items:e.splice(0)})]})}),Yz(this,"selectors",{activeDescendantId(e){var t;let n=e.activeItemIndex,r=e.items;return null===n||null==(t=r[n])?void 0:t.id},isActive(e,t){var n;let r=e.activeItemIndex,i=e.items;return null!==r&&(null==(n=i[r])?void 0:n.id)===t},shouldScrollIntoView(e,t){return!e.__demoMode&&0===e.menuState&&0!==e.activationTrigger&&this.isActive(e,t)},didButtonMove:e=>"Moved"===e.buttonPositionState.kind}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let e=this.state.id,t=FL.get(null);this.disposables.add(t.on(BL.Push,n=>{!t.selectors.isTop(n,e)&&0===this.state.menuState&&this.send({type:1})})),this.on(0,()=>t.actions.push(e)),this.on(1,()=>t.actions.pop(e))}this.disposables.group(e=>{this.on(1,t=>{t.buttonElement&&(e.dispose(),e.add(function(e,t,n){let r=rL();if("Tracked"===t.kind){let i=function(){s!==Gz(e)&&(r.dispose(),n())},{position:s}=t,o=new ResizeObserver(i);o.observe(e),r.add(()=>o.disconnect()),r.addEventListener(window,"scroll",i,{passive:!0}),r.addEventListener(window,"resize",i)}return()=>r.dispose()}(t.buttonElement,t.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:e,__demoMode:t=!1}){return new nW({id:e,__demoMode:t,menuState:t?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:az.Nothing},buttonPositionState:Kz.Idle})}reduce(e,t){return $L(t.type,tW,e,t)}}const rW=(0,ei.createContext)(null);function iW(e){let t=(0,ei.useContext)(rW);if(null===t){let t=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,sW),t}return t}function sW({id:e,__demoMode:t=!1}){let n=(0,ei.useMemo)(()=>nW.new({id:e,__demoMode:t}),[]);return Mz(()=>n.dispose()),n}let oW=ei.Fragment,aW=uz.RenderStrategy|uz.Static,cW=ei.Fragment,lW=yz(function(e,t){let n=(0,ei.useId)(),{__demoMode:r=!1,...i}=e,s=sW({id:n,__demoMode:r}),[o,a,c]=WL(s,e=>[e.menuState,e.itemsElement,e.buttonElement]),l=AB(t),u=FL.get(null);mB(WL(u,(0,ei.useCallback)(e=>u.selectors.isTop(e,n),[u,n])),[c,a],(e,t)=>{var n;s.send({type:Xz.CloseMenu}),sB(t,iB.Loose)||(e.preventDefault(),null==(n=s.state.buttonElement)||n.focus())});let d=aL(()=>{s.send({type:Xz.CloseMenu})}),h=SB({open:o===Jz.Open,close:d}),f={ref:l},p=hz();return ei.createElement(QF,null,ei.createElement(rW.Provider,{value:s},ei.createElement(sz,{value:$L(o,{[Jz.Open]:rz.Open,[Jz.Closed]:rz.Closed})},p({ourProps:f,theirProps:i,slot:h,defaultTag:oW,name:"Menu"}))))}),uW=yz(function(e,t){let n=iW("Menu.Button"),r=(0,ei.useId)(),{id:i=`headlessui-menu-button-${r}`,disabled:s=!1,autoFocus:o=!1,...a}=e,c=(0,ei.useRef)(null),l=(0,ei.useContext)(YF).getReferenceProps,u=AB(t,c,(0,ei.useContext)(YF).setReference,aL(e=>n.send({type:Xz.SetButtonElement,element:e}))),d=aL(e=>{switch(e.key){case Pz.Space:case Pz.Enter:case Pz.ArrowDown:e.preventDefault(),e.stopPropagation(),n.send({type:Xz.OpenMenu,focus:{focus:az.First}});break;case Pz.ArrowUp:e.preventDefault(),e.stopPropagation(),n.send({type:Xz.OpenMenu,focus:{focus:az.Last}})}}),h=aL(e=>{e.key===Pz.Space&&e.preventDefault()}),[f,p,g]=WL(n,e=>[e.menuState,e.buttonElement,e.itemsElement]);!function(e,{trigger:t,action:n,close:r,select:i}){let s=(0,ei.useRef)(null),o=(0,ei.useRef)(null),a=(0,ei.useRef)(null);pB(e&&null!==t,"pointerdown",e=>{hL(null==e?void 0:e.target)&&null!=t&&t.contains(e.target)&&(o.current=e.x,a.current=e.y,s.current=e.timeStamp)}),pB(e&&null!==t,"pointerup",e=>{var t,c;let l=s.current;if(null===l||(s.current=null,!gL(e.target))||Math.abs(e.x-(null!=(t=o.current)?t:e.x))<5&&Math.abs(e.y-(null!=(c=a.current)?c:e.y))<5)return;let u=n(e);switch(u.kind){case 0:return;case 1:e.timeStamp-l>200&&(i(u.target),r());break;case 2:r()}},{capture:!0})}(f===Jz.Open,{trigger:p,action:(0,ei.useCallback)(e=>{if(null!=p&&p.contains(e.target))return vB.Ignore;let t=e.target.closest('[role="menuitem"]:not([data-disabled])');return pL(t)?vB.Select(t):null!=g&&g.contains(e.target)?vB.Ignore:vB.Close},[p,g]),close:(0,ei.useCallback)(()=>n.send({type:Xz.CloseMenu}),[]),select:(0,ei.useCallback)(e=>e.click(),[])});let m=function(e){let t=(0,ei.useRef)(null);return{onPointerDown:aL(n=>{t.current=n.pointerType,!vL(n.currentTarget)&&"mouse"===n.pointerType&&n.button===dL.Left&&(n.preventDefault(),e(n))}),onClick:aL(n=>{"mouse"!==t.current&&(vL(n.currentTarget)||e(n))})}}(e=>{var t;s||(f===Jz.Open?((0,_w.flushSync)(()=>n.send({type:Xz.CloseMenu})),null==(t=c.current)||t.focus({preventScroll:!0})):(e.preventDefault(),n.send({type:Xz.OpenMenu,focus:{focus:az.Nothing},trigger:Qz.Pointer})))}),{isFocusVisible:y,focusProps:w}=qM({autoFocus:o}),{isHovered:b,hoverProps:v}=function(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:i}=e,[s,o]=(0,ei.useState)(!1),a=(0,ei.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,ei.useEffect)(GM,[]);let{addGlobalListener:c,removeAllGlobalListeners:l}=zM(),{hoverProps:u,triggerHoverEnd:d}=(0,ei.useMemo)(()=>{let e=(e,t)=>{let i=a.target;a.pointerType="",a.target=null,"touch"!==t&&a.isHovered&&i&&(a.isHovered=!1,l(),r&&r({type:"hoverend",target:i,pointerType:t}),n&&n(!1),o(!1))},s={};return"undefined"!=typeof PointerEvent&&(s.onPointerEnter=r=>{HM&&"mouse"===r.pointerType||((r,s)=>{if(a.pointerType=s,i||"touch"===s||a.isHovered||!r.currentTarget.contains(r.target))return;a.isHovered=!0;let l=r.currentTarget;a.target=l,c(xM(r.target),"pointerover",t=>{a.isHovered&&a.target&&!UM(a.target,t.target)&&e(0,t.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:l,pointerType:s}),n&&n(!0),o(!0)})(r,r.pointerType)},s.onPointerLeave=t=>{!i&&t.currentTarget.contains(t.target)&&e(0,t.pointerType)}),{hoverProps:s,triggerHoverEnd:e}},[t,n,r,i,a,c,l]);return(0,ei.useEffect)(()=>{i&&d({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:u,isHovered:s}}({isDisabled:s}),{pressed:x,pressProps:E}=function({disabled:e=!1}={}){let t=(0,ei.useRef)(null),[n,r]=(0,ei.useState)(!1),i=iL(),s=aL(()=>{t.current=null,r(!1),i.dispose()}),o=aL(e=>{if(i.dispose(),null===t.current){t.current=e.currentTarget,r(!0);{let n=QM(e.currentTarget);i.addEventListener(n,"pointerup",s,!1),i.addEventListener(n,"pointermove",e=>{if(t.current){let n=function(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}(e);r(function(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}(n,t.current.getBoundingClientRect()))}},!1),i.addEventListener(n,"pointercancel",s,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}({disabled:s}),k=SB({open:f===Jz.Open,active:x||f===Jz.Open,disabled:s,hover:b,focus:y,autofocus:o}),_=mz(l(),{ref:u,id:i,type:xB(e,c.current),"aria-haspopup":"menu","aria-controls":null==g?void 0:g.id,"aria-expanded":f===Jz.Open,disabled:s||void 0,autoFocus:o,onKeyDown:d,onKeyUp:h},m,w,v,E);return hz()({ourProps:_,theirProps:a,slot:k,defaultTag:"button",name:"Menu.Button"})}),dW=yz(function(e,t){let n=(0,ei.useId)(),{id:r=`headlessui-menu-items-${n}`,anchor:i,portal:s=!1,modal:o=!0,transition:a=!1,...c}=e,l=function(e){return(0,ei.useMemo)(()=>e?"string"==typeof e?{to:e}:e:null,[e])}(i),u=iW("Menu.Items"),[d,h]=function(e=null){!1===e&&(e=null),"string"==typeof e&&(e={to:e});let t=(0,ei.useContext)(JF),n=(0,ei.useMemo)(()=>e,[JSON.stringify(e,(e,t)=>{var n;return null!=(n=null==t?void 0:t.outerHTML)?n:t})]);sL(()=>{null==t||t(null!=n?n:null)},[t,n]);let r=(0,ei.useContext)(YF);return(0,ei.useMemo)(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}(l),f=function(){let{getFloatingProps:e,slot:t}=(0,ei.useContext)(YF);return(0,ei.useCallback)((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}(),[p,g]=(0,ei.useState)(null),m=AB(t,l?d:null,aL(e=>u.send({type:Xz.SetItemsElement,element:e})),g),[y,w]=WL(u,e=>[e.menuState,e.buttonElement]),b=yB(w),v=yB(p);l&&(s=!0);let x=iz(),[E,k]=BB(a,p,null!==x?(x&rz.Open)===rz.Open:y===Jz.Open);YL(E,w,()=>{u.send({type:Xz.CloseMenu})});let _=WL(u,e=>e.__demoMode);CB(!_&&o&&y===Jz.Open,v),ZL(!_&&o&&y===Jz.Open,{allowed:(0,ei.useCallback)(()=>[w,p],[w,p])});let C=!WL(u,u.selectors.didButtonMove)&&E;(0,ei.useEffect)(()=>{let e=p;e&&y===Jz.Open&&(tL(e)||e.focus({preventScroll:!0}))},[y,p]),function(e,{container:t,accept:n,walk:r}){let i=(0,ei.useRef)(n),s=(0,ei.useRef)(r);(0,ei.useEffect)(()=>{i.current=n,s.current=r},[n,r]),sL(()=>{if(!t||!e)return;let n=QM(t);if(!n)return;let r=i.current,o=s.current,a=Object.assign(e=>r(e),{acceptNode:r}),c=n.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,a,!1);for(;c.nextNode();)o(c.currentNode)},[t,e,i,s])}(y===Jz.Open,{container:p,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let S=iL(),I=aL(e=>{var t,n,r;switch(S.dispose(),e.key){case Pz.Space:if(""!==u.state.searchQuery)return e.preventDefault(),e.stopPropagation(),u.send({type:Xz.Search,value:e.key});case Pz.Enter:if(e.preventDefault(),e.stopPropagation(),null!==u.state.activeItemIndex){let{dataRef:e}=u.state.items[u.state.activeItemIndex];null==(n=null==(t=e.current)?void 0:t.domRef.current)||n.click()}u.send({type:Xz.CloseMenu}),oB(u.state.buttonElement);break;case Pz.ArrowDown:return e.preventDefault(),e.stopPropagation(),u.send({type:Xz.GoToItem,focus:az.Next});case Pz.ArrowUp:return e.preventDefault(),e.stopPropagation(),u.send({type:Xz.GoToItem,focus:az.Previous});case Pz.Home:case Pz.PageUp:return e.preventDefault(),e.stopPropagation(),u.send({type:Xz.GoToItem,focus:az.First});case Pz.End:case Pz.PageDown:return e.preventDefault(),e.stopPropagation(),u.send({type:Xz.GoToItem,focus:az.Last});case Pz.Escape:e.preventDefault(),e.stopPropagation(),(0,_w.flushSync)(()=>u.send({type:Xz.CloseMenu})),null==(r=u.state.buttonElement)||r.focus({preventScroll:!0});break;case Pz.Tab:e.preventDefault(),e.stopPropagation(),(0,_w.flushSync)(()=>u.send({type:Xz.CloseMenu})),function(e,t,n=(null===e?document.body:XM(e))){dB(rB(n),t,{relativeTo:e})}(u.state.buttonElement,e.shiftKey?eB.Previous:eB.Next);break;default:1===e.key.length&&(u.send({type:Xz.Search,value:e.key}),S.setTimeout(()=>u.send({type:Xz.ClearSearch}),350))}}),A=aL(e=>{e.key===Pz.Space&&e.preventDefault()}),T=SB({open:y===Jz.Open}),P=mz(l?f():{},{"aria-activedescendant":WL(u,u.selectors.activeDescendantId),"aria-labelledby":WL(u,e=>{var t;return null==(t=e.buttonElement)?void 0:t.id}),id:r,onKeyDown:I,onKeyUp:A,role:"menu",tabIndex:y===Jz.Open?0:void 0,ref:m,style:{...c.style,...h,"--button-width":lL(E,w,!0).width},...LB(k)}),O=hz();return ei.createElement(Vz,{enabled:!!s&&(e.static||E),ownerDocument:b},O({ourProps:P,theirProps:c,slot:T,defaultTag:"div",features:aW,visible:C,name:"Menu.Items"}))}),hW=yz(function(e,t){let n=(0,ei.useId)(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...s}=e,o=iW("Menu.Item"),a=WL(o,e=>o.selectors.isActive(e,r)),c=(0,ei.useRef)(null),l=AB(t,c),u=WL(o,e=>o.selectors.shouldScrollIntoView(e,r));sL(()=>{if(u)return rL().requestAnimationFrame(()=>{var e,t;null==(t=null==(e=c.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})},[u,c]);let d=function(e){let t=(0,ei.useRef)(""),n=(0,ei.useRef)("");return aL(()=>{let r=e.current;if(!r)return"";let i=r.innerText;if(t.current===i)return n.current;let s=function(e){let t=e.getAttribute("aria-label");if("string"==typeof t)return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let e=n.split(" ").map(e=>{let t=document.getElementById(e);if(t){let e=t.getAttribute("aria-label");return"string"==typeof e?e.trim():PB(t).trim()}return null}).filter(Boolean);if(e.length>0)return e.join(", ")}return PB(e).trim()}(r).trim().toLowerCase();return t.current=i,n.current=s,s})}(c),h=(0,ei.useRef)({disabled:i,domRef:c,get textValue(){return d()}});sL(()=>{h.current.disabled=i},[h,i]),sL(()=>(o.actions.registerItem(r,h),()=>o.actions.unregisterItem(r)),[h,r]);let f=aL(()=>{o.send({type:Xz.CloseMenu})}),p=aL(e=>{if(i)return e.preventDefault();o.send({type:Xz.CloseMenu}),oB(o.state.buttonElement)}),g=aL(()=>{if(i)return o.send({type:Xz.GoToItem,focus:az.Nothing});o.send({type:Xz.GoToItem,focus:az.Specific,id:r})}),m=function(){let e=(0,ei.useRef)([-1,-1]);return{wasMoved(t){let n=OB(t);return(e.current[0]!==n[0]||e.current[1]!==n[1])&&(e.current=n,!0)},update(t){e.current=OB(t)}}}(),y=aL(e=>m.update(e)),w=aL(e=>{m.wasMoved(e)&&(i||a||o.send({type:Xz.GoToItem,focus:az.Specific,id:r,trigger:Qz.Pointer}))}),b=aL(e=>{m.wasMoved(e)&&(i||a&&o.state.activationTrigger===Qz.Pointer&&o.send({type:Xz.GoToItem,focus:az.Nothing}))}),[v,x]=Rz(),[E,k]=Sz(),_=SB({active:a,focus:a,disabled:i,close:f}),C={id:r,ref:l,role:"menuitem",tabIndex:!0===i?void 0:-1,"aria-disabled":!0===i||void 0,"aria-labelledby":v,"aria-describedby":E,disabled:void 0,onClick:p,onFocus:g,onPointerEnter:y,onMouseEnter:y,onPointerMove:w,onMouseMove:w,onPointerLeave:b,onMouseLeave:b},S=hz();return ei.createElement(x,null,ei.createElement(k,null,S({ourProps:C,theirProps:s,slot:_,defaultTag:cW,name:"Menu.Item"})))}),fW=yz(function(e,t){let[n,r]=Rz(),i=e,s={ref:t,"aria-labelledby":n,role:"group"},o=hz();return ei.createElement(r,null,o({ourProps:s,theirProps:i,slot:{},defaultTag:"div",name:"Menu.Section"}))}),pW=yz(function(e,t){let n=(0,ei.useId)(),{id:r=`headlessui-menu-heading-${n}`,...i}=e,s=Nz();sL(()=>s.register(r),[r,s.register]);let o={id:r,ref:t,role:"presentation",...s.props};return hz()({ourProps:o,theirProps:i,slot:{},defaultTag:"header",name:"Menu.Heading"})}),gW=yz(function(e,t){let n=e,r={ref:t,role:"separator"};return hz()({ourProps:r,theirProps:n,slot:{},defaultTag:"div",name:"Menu.Separator"})}),mW=Object.assign(lW,{Button:uW,Items:dW,Item:hW,Section:fW,Heading:pW,Separator:gW});function yW({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const wW=ei.forwardRef(yW),bW=function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}(),vW=function e(t={}){const{fetch:n=globalThis.fetch,Headers:r=globalThis.Headers,AbortController:i=globalThis.AbortController}=t;async function s(e){const t=e.error&&"AbortError"===e.error.name&&!e.options.timeout||!1;if(!1!==e.options.retry&&!t){let t;t="number"==typeof e.options.retry?e.options.retry:Ed(e.options.method)?0:1;const n=e.response&&e.response.status||500;if(t>0&&(Array.isArray(e.options.retryStatusCodes)?e.options.retryStatusCodes.includes(n):Id.has(n))){const n="function"==typeof e.options.retryDelay?e.options.retryDelay(e):e.options.retryDelay||0;return n>0&&await new Promise(e=>setTimeout(e,n)),o(e.request,{...e.options,retry:t-1})}}const n=function(e){const t=e.error?.message||e.error?.toString()||"",n=e.request?.method||e.options?.method||"GET",r=e.request?.url||String(e.request)||"/",i=`[${n}] ${JSON.stringify(r)}`,s=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",o=new vd(`${i}: ${s}${t?` ${t}`:""}`,e.error?{cause:e.error}:void 0);for(const t of["request","options","response"])Object.defineProperty(o,t,{get:()=>e[t]});for(const[t,n]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(o,t,{get:()=>e.response&&e.response[n]});return o}(e);throw Error.captureStackTrace&&Error.captureStackTrace(n,o),n}const o=async function(e,o={}){const a={request:e,options:Cd(e,o,t.defaults,r),response:void 0,error:void 0};let c;if(a.options.method&&(a.options.method=a.options.method.toUpperCase()),a.options.onRequest&&await Sd(a,a.options.onRequest),"string"==typeof a.request&&(a.options.baseURL&&(a.request=md(a.request,a.options.baseURL)),a.options.query&&(a.request=function(e,t){const n=wd(e),r={...ad(n.search),...t};return n.search=function(e){return Object.keys(e).filter(t=>void 0!==e[t]).map(t=>{return n=t,"number"!=typeof(r=e[t])&&"boolean"!=typeof r||(r=String(r)),r?Array.isArray(r)?r.map(e=>`${rd(n)}=${nd(e)}`).join("&"):`${rd(n)}=${nd(r)}`:rd(n);var n,r}).filter(Boolean).join("&")}(r),function(e){const t=e.pathname||"",n=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",r=e.hash||"",i=e.auth?e.auth+"@":"",s=e.host||"";return(e.protocol||e[yd]?(e.protocol||"")+"//":"")+i+s+t+n+r}(n)}(a.request,a.options.query),delete a.options.query),"query"in a.options&&delete a.options.query,"params"in a.options&&delete a.options.params),a.options.body&&Ed(a.options.method)&&(function(e){if(void 0===e)return!1;const t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===t||"object"===t&&(!!Array.isArray(e)||!e.buffer&&(e.constructor&&"Object"===e.constructor.name||"function"==typeof e.toJSON))}(a.options.body)?(a.options.body="string"==typeof a.options.body?a.options.body:JSON.stringify(a.options.body),a.options.headers=new r(a.options.headers||{}),a.options.headers.has("content-type")||a.options.headers.set("content-type","application/json"),a.options.headers.has("accept")||a.options.headers.set("accept","application/json")):("pipeTo"in a.options.body&&"function"==typeof a.options.body.pipeTo||"function"==typeof a.options.body.pipe)&&("duplex"in a.options||(a.options.duplex="half"))),!a.options.signal&&a.options.timeout){const e=new i;c=setTimeout(()=>{const t=new Error("[TimeoutError]: The operation was aborted due to timeout");t.name="TimeoutError",t.code=23,e.abort(t)},a.options.timeout),a.options.signal=e.signal}try{a.response=await n(a.request,a.options)}catch(e){return a.error=e,a.options.onRequestError&&await Sd(a,a.options.onRequestError),await s(a)}finally{c&&clearTimeout(c)}if((a.response.body||a.response._bodyInit)&&!Ad.has(a.response.status)&&"HEAD"!==a.options.method){const e=(a.options.parseResponse?"json":a.options.responseType)||function(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return _d.test(t)?"json":kd.has(t)||t.startsWith("text/")?"text":"blob"}(a.response.headers.get("content-type")||"");switch(e){case"json":{const e=await a.response.text(),t=a.options.parseResponse||Vu.Ay;a.response._data=t(e);break}case"stream":a.response._data=a.response.body||a.response._bodyInit;break;default:a.response._data=await a.response[e]()}}return a.options.onResponse&&await Sd(a,a.options.onResponse),!a.options.ignoreResponseError&&a.response.status>=400&&a.response.status<600?(a.options.onResponseError&&await Sd(a,a.options.onResponseError),await s(a)):a.response},a=async function(e,t){return(await o(e,t))._data};return a.raw=o,a.native=(...e)=>n(...e),a.create=(n={},r={})=>e({...t,...r,defaults:{...t.defaults,...r.defaults,...n}}),a}({fetch:bW.fetch?(...e)=>bW.fetch(...e):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),Headers:bW.Headers,AbortController:bW.AbortController});function xW({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}const EW=ei.forwardRef(xW);function kW({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const _W=ei.forwardRef(kW);function CW({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const SW=ei.forwardRef(CW);function IW({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const AW=ei.forwardRef(IW);function TW({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const PW=ei.forwardRef(TW);function OW({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const jW=ei.forwardRef(OW);function NW({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const RW=ei.forwardRef(NW);function $W({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const MW=ei.forwardRef($W);function LW({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const BW=ei.forwardRef(LW);function UW({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const DW=ei.forwardRef(UW);function FW({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const zW=ei.forwardRef(FW),WW=({origin:e,path:t,query:n={},hash:r={}})=>{let i=new URL(t,e.endsWith("/")?e:`${e}/`);for(let[e,t]of Object.entries(n))void 0!==t&&i.searchParams.set(e,t);let s=Object.entries(r);if(s.length>0){let e=new URLSearchParams;for(let[t,n]of s)void 0!==n&&e.append(t,n);i.hash=e.toString()}return i.href};class qW{get(e){let t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}put(e,t){void 0!==t?localStorage.setItem(e,JSON.stringify(t)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map(([e])=>e)}}function HW(){try{let e="privy:__session_storage__test",t=new qW;return t.put(e,"blobby"),t.del(e),!0}catch(e){return!1}}var VW="undefined"!=typeof window&&window.localStorage?new qW:new class{get(e){return this._cache[e]}put(e,t){void 0!==t?this._cache[e]=t:this.del(e)}del(e){delete this._cache[e]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}};function KW(e){return{name:e.metadata?.shortName||e.name||"",universalLink:e.mobile.universal,deepLink:e.mobile.native}}function GW(e,t){let n=KW(t);if(n.universalLink)return QW(n.universalLink,e)}let ZW="WALLETCONNECT_DEEPLINK_CHOICE";function YW(e){return e.startsWith("http://")||e.startsWith("https://")}function JW(e,t){if(YW(e))return QW(e,t);let n=e;return n.includes("://")||(n=e.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(t)}`,href:n}}function QW(e,t){if(!YW(e))return JW(e,t);let n=e;return n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(t)}`,href:n}}function XW(e,t){window.open(e,t,"noreferrer noopener")}class eq{execute(e){return null===this.promise&&(this.promise=(async()=>{try{return await this.fn(e)}finally{this.promise=null}})()),this.promise}constructor(e){this.promise=null,this.fn=e}}function tq(e){return crypto.getRandomValues(new Uint8Array(e))}function nq(){return Wa(tq(36))}function rq(){return nq()}async function iq(e,t="S256"){if("S256"!=t)return e;{let t=await async function(e){let t=(new TextEncoder).encode(e);return new Uint8Array(await crypto.subtle.digest("SHA-256",t))}(e);return Wa(t)}}function sq(e){return e.charAt(0).toUpperCase()+e.slice(1)}function oq(e){return"string"==typeof e&&/^custom:[a-zA-Z0-9_-]+$/i.test(e)}const aq=({style:e,...t})=>(0,ri.jsxs)("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...e},...t,children:[(0,ri.jsx)("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#040507"}),(0,ri.jsx)("path",{d:"M17.2949 6.37537C18.0156 5.44684 19.4671 4.57877 20.4927 4.46512C20.8178 4.42885 20.8581 4.43127 20.9312 4.50139L20.9967 4.56426L20.9816 4.99225C20.9564 5.65963 20.8682 6.12873 20.6716 6.6341C20.4751 7.13705 20.1198 7.71738 19.8426 7.97852C19.7594 8.06074 19.6007 8.22516 19.4948 8.34848C19.0563 8.84901 18.439 9.20205 17.5973 9.4366C17.2823 9.52606 17.2596 9.52848 16.8917 9.52606C16.4482 9.52365 16.3852 9.51156 16.3524 9.43176C16.3398 9.39791 16.3272 9.18996 16.3222 8.9675L16.3171 8.56127L16.423 8.17922C16.6347 7.41512 16.8791 6.90733 17.2949 6.37537Z",fill:"white"}),(0,ri.jsx)("path",{d:"M17.4512 10.2081C18.4163 9.84541 19.7595 9.48754 20.2584 9.46336C20.6616 9.4416 21.2966 9.49238 21.7225 9.57943C22.1383 9.66164 22.4357 9.76078 22.8666 9.96148C23.5571 10.2831 24.1442 10.7135 24.6104 11.2382C24.9582 11.6299 24.9783 11.6807 24.8397 11.8113C24.7944 11.8548 24.6885 11.9249 24.6054 11.9709C24.4542 12.0507 23.8368 12.5464 23.8368 12.5875C23.8368 12.5971 23.736 12.7108 23.6125 12.8341C23.2068 13.25 23.0279 13.5861 22.7683 14.4252C22.7078 14.6186 22.6448 14.8725 22.6272 14.9934C22.5566 15.4577 22.5919 16.125 22.7154 16.7344C22.7885 17.1044 23.0808 17.7306 23.3706 18.1489C23.7763 18.7317 24.3786 19.2491 24.9909 19.5514C25.316 19.7086 25.5 19.8464 25.5 19.9334C25.5 19.96 25.4773 20.0205 25.4521 20.064C25.4244 20.1075 25.3866 20.2164 25.3639 20.3034C25.311 20.521 25.001 21.244 24.807 21.5971C24.0862 22.9052 23.3731 23.8748 22.6095 24.5833C21.8611 25.2725 21.1606 25.582 20.4348 25.5385C19.9359 25.5094 19.4596 25.3934 18.7842 25.1322C18.2248 24.917 18.0081 24.8493 17.7939 24.8203C17.688 24.8058 17.4915 24.7768 17.3604 24.7574C16.9774 24.697 16.7254 24.6921 16.4533 24.7478C15.5461 24.9267 15.5133 24.9364 15.0144 25.1371C14.2231 25.4562 13.8073 25.5578 13.2907 25.5578C12.8875 25.5602 12.696 25.5143 12.2575 25.3087C11.8694 25.125 11.5948 24.9315 11.2546 24.5978C10.9295 24.2811 10.7052 24.0151 10.2642 23.4323C9.18818 22.0081 9.02187 21.7276 8.49519 20.4582C8.28612 19.9546 8.19971 19.7502 8.13026 19.5402C8.07498 19.373 8.03043 19.2023 7.94332 18.8744C7.73164 18.074 7.70896 17.9869 7.70896 17.8709C7.70896 17.8153 7.68628 17.675 7.66108 17.5565C7.44184 16.5917 7.44688 15.0007 7.67116 14.1713C7.82236 13.6127 8.02648 13.088 8.30367 12.5512C8.92863 11.3325 9.71738 10.5539 10.874 10.0123C11.2571 9.8309 11.5444 9.74627 12.0534 9.65922C12.2903 9.62054 12.5523 9.56976 12.6355 9.54799C12.8421 9.49238 13.3184 9.49963 13.6057 9.56008C14.2911 9.71 14.7548 9.84058 15.2059 10.0123C16.0551 10.3411 16.549 10.4789 16.7506 10.4475C16.7692 10.4444 16.7848 10.4418 16.8002 10.4387C16.8815 10.4225 16.9601 10.3929 17.4512 10.2081Z",fill:"white"})]}),cq=({style:e,...t})=>(0,ri.jsxs)("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...e},...t,children:[(0,ri.jsx)("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#5462EB"}),(0,ri.jsx)("path",{d:"M23.5433 8.87438C22.2479 8.26174 20.8587 7.81038 19.4063 7.55187C19.3799 7.54688 19.3534 7.55934 19.3398 7.58428C19.1612 7.91179 18.9633 8.33905 18.8247 8.67487C17.2625 8.43382 15.7084 8.43382 14.1782 8.67487C14.0396 8.33158 13.8345 7.91179 13.6551 7.58428C13.6414 7.56018 13.615 7.54771 13.5886 7.55187C12.1369 7.80955 10.7478 8.26092 9.45159 8.87438C9.44037 8.87937 9.43075 8.88769 9.42437 8.89849C6.78947 12.9558 6.06766 16.9134 6.42176 20.8219C6.42336 20.841 6.43378 20.8593 6.4482 20.871C8.18663 22.1868 9.87059 22.9857 11.5233 23.5152C11.5497 23.5235 11.5778 23.5135 11.5946 23.491C11.9855 22.9408 12.334 22.3606 12.6328 21.7504C12.6505 21.7147 12.6336 21.6723 12.5976 21.6581C12.0448 21.442 11.5185 21.1785 11.0122 20.8793C10.9721 20.8552 10.9689 20.7961 11.0058 20.7679C11.1123 20.6856 11.2189 20.6 11.3206 20.5135C11.339 20.4977 11.3647 20.4944 11.3863 20.5044C14.7125 22.0696 18.3136 22.0696 21.6006 20.5044C21.6222 20.4936 21.6479 20.4969 21.6671 20.5127C21.7688 20.5991 21.8754 20.6856 21.9827 20.7679C22.0196 20.7961 22.0172 20.8552 21.9771 20.8793C21.4708 21.1843 20.9445 21.442 20.3909 21.6573C20.3548 21.6715 20.3388 21.7147 20.3564 21.7504C20.6617 22.3597 21.0101 22.9399 21.3939 23.4902C21.4099 23.5135 21.4387 23.5235 21.4652 23.5152C23.1259 22.9857 24.8099 22.1868 26.5483 20.871C26.5635 20.8593 26.5731 20.8419 26.5747 20.8228C26.9985 16.3041 25.8649 12.3789 23.5697 8.89931C23.5641 8.88769 23.5545 8.87937 23.5433 8.87438ZM13.1295 18.442C12.1281 18.442 11.303 17.4944 11.303 16.3307C11.303 15.1669 12.1121 14.2193 13.1295 14.2193C14.155 14.2193 14.9721 15.1752 14.9561 16.3307C14.9561 17.4944 14.1469 18.442 13.1295 18.442ZM19.883 18.442C18.8816 18.442 18.0564 17.4944 18.0564 16.3307C18.0564 15.1669 18.8655 14.2193 19.883 14.2193C20.9084 14.2193 21.7255 15.1752 21.7095 16.3307C21.7095 17.4944 20.9084 18.442 19.883 18.442Z",fill:"#F7F7F7"})]}),lq=({style:e,...t})=>(0,ri.jsxs)("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...e},...t,children:[(0,ri.jsx)("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),(0,ri.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.5083 5.62451C10.8896 5.62451 6.34741 10.2078 6.34741 15.878C6.34741 20.4104 9.25774 24.2471 13.2951 25.605C13.7999 25.7071 13.9848 25.3844 13.9848 25.1129C13.9848 24.8752 13.9682 24.0604 13.9682 23.2115C11.1417 23.8227 10.5531 21.9892 10.5531 21.9892C10.0988 20.8009 9.42579 20.4954 9.42579 20.4954C8.50068 19.8673 9.49318 19.8673 9.49318 19.8673C10.5194 19.9352 11.0578 20.9198 11.0578 20.9198C11.9661 22.4815 13.4297 22.0402 14.0185 21.7686C14.1025 21.1065 14.3719 20.6482 14.6579 20.3936C12.4035 20.1559 10.0317 19.2732 10.0317 15.3347C10.0317 14.2142 10.4351 13.2976 11.0745 12.5847C10.9736 12.3301 10.6202 11.2774 11.1756 9.86844C11.1756 9.86844 12.0335 9.59678 13.968 10.9209C14.7962 10.6965 15.6503 10.5823 16.5083 10.5814C17.3662 10.5814 18.2408 10.7003 19.0484 10.9209C20.9831 9.59678 21.841 9.86844 21.841 9.86844C22.3963 11.2774 22.0428 12.3301 21.9419 12.5847C22.5981 13.2976 22.9849 14.2142 22.9849 15.3347C22.9849 19.2732 20.6131 20.1388 18.3419 20.3936C18.7121 20.7161 19.0316 21.3271 19.0316 22.2948C19.0316 23.6698 19.0149 24.7733 19.0149 25.1127C19.0149 25.3844 19.2 25.7071 19.7046 25.6052C23.742 24.2469 26.6523 20.4104 26.6523 15.878C26.669 10.2078 22.1102 5.62451 16.5083 5.62451Z",fill:"white"})]}),uq=e=>(0,ri.jsxs)("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,ri.jsx)("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#F1F2F9"}),(0,ri.jsx)("path",{d:"M26.1001 16.2273C26.1001 15.5182 26.0365 14.8364 25.9183 14.1818H16.5001V18.05H21.8819C21.6501 19.3 20.9456 20.3591 19.8865 21.0682V23.5773H23.1183C25.0092 21.8364 26.1001 19.2727 26.1001 16.2273Z",fill:"#4285F4"}),(0,ri.jsx)("path",{d:"M16.5001 26C19.2001 26 21.4637 25.1046 23.1182 23.5773L19.8864 21.0682C18.991 21.6682 17.8455 22.0227 16.5001 22.0227C13.8955 22.0227 11.691 20.2637 10.9046 17.9H7.56372V20.4909C9.20917 23.7591 12.591 26 16.5001 26Z",fill:"#34A853"}),(0,ri.jsx)("path",{d:"M10.9047 17.8999C10.7047 17.2999 10.591 16.659 10.591 15.9999C10.591 15.3408 10.7047 14.6999 10.9047 14.0999V11.509H7.56376C6.86376 12.9025 6.49951 14.4405 6.50012 15.9999C6.50012 17.6136 6.88649 19.1408 7.56376 20.4908L10.9047 17.8999Z",fill:"#FBBC05"}),(0,ri.jsx)("path",{d:"M16.5001 9.97726C17.9682 9.97726 19.2864 10.4818 20.3228 11.4727L23.191 8.60454C21.4591 6.99091 19.1955 6 16.5001 6C12.591 6 9.20917 8.2409 7.56372 11.5091L10.9046 14.1C11.691 11.7364 13.8955 9.97726 16.5001 9.97726Z",fill:"#EA4335"})]});function dq(e){return(0,ri.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:26,height:26,viewBox:"0 0 140 140",x:"0px",y:"0px",fill:"none",...e,children:[(0,ri.jsxs)("defs",{children:[(0,ri.jsxs)("linearGradient",{id:"b",children:[(0,ri.jsx)("stop",{offset:"0",stopColor:"#3771c8"}),(0,ri.jsx)("stop",{stopColor:"#3771c8",offset:".128"}),(0,ri.jsx)("stop",{offset:"1",stopColor:"#60f",stopOpacity:"0"})]}),(0,ri.jsxs)("linearGradient",{id:"a",children:[(0,ri.jsx)("stop",{offset:"0",stopColor:"#fd5"}),(0,ri.jsx)("stop",{offset:".1",stopColor:"#fd5"}),(0,ri.jsx)("stop",{offset:".5",stopColor:"#ff543e"}),(0,ri.jsx)("stop",{offset:"1",stopColor:"#c837ab"})]}),(0,ri.jsx)("radialGradient",{id:"c",cx:"158.429",cy:"578.088",r:"65",xlinkHref:"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -1.98198 1.8439 0 -1031.402 454.004)",fx:"158.429",fy:"578.088"}),(0,ri.jsx)("radialGradient",{id:"d",cx:"147.694",cy:"473.455",r:"65",xlinkHref:"#b",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.17394 .86872 -3.5818 .71718 1648.348 -458.493)",fx:"147.694",fy:"473.455"})]}),(0,ri.jsx)("path",{fill:"url(#c)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),(0,ri.jsx)("path",{fill:"url(#d)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),(0,ri.jsx)("path",{fill:"#fff",d:"M66.004 18c-13.036 0-14.672.057-19.792.29-5.11.234-8.598 1.043-11.65 2.23-3.157 1.226-5.835 2.866-8.503 5.535-2.67 2.668-4.31 5.346-5.54 8.502-1.19 3.053-2 6.542-2.23 11.65C18.06 51.327 18 52.964 18 66s.058 14.667.29 19.787c.235 5.11 1.044 8.598 2.23 11.65 1.227 3.157 2.867 5.835 5.536 8.503 2.667 2.67 5.345 4.314 8.5 5.54 3.054 1.187 6.543 1.996 11.652 2.23 5.12.233 6.755.29 19.79.29 13.037 0 14.668-.057 19.788-.29 5.11-.234 8.602-1.043 11.656-2.23 3.156-1.226 5.83-2.87 8.497-5.54 2.67-2.668 4.31-5.346 5.54-8.502 1.18-3.053 1.99-6.542 2.23-11.65.23-5.12.29-6.752.29-19.788 0-13.036-.06-14.672-.29-19.792-.24-5.11-1.05-8.598-2.23-11.65-1.23-3.157-2.87-5.835-5.54-8.503-2.67-2.67-5.34-4.31-8.5-5.535-3.06-1.187-6.55-1.996-11.66-2.23-5.12-.233-6.75-.29-19.79-.29zm-4.306 8.65c1.278-.002 2.704 0 4.306 0 12.816 0 14.335.046 19.396.276 4.68.214 7.22.996 8.912 1.653 2.24.87 3.837 1.91 5.516 3.59 1.68 1.68 2.72 3.28 3.592 5.52.657 1.69 1.44 4.23 1.653 8.91.23 5.06.28 6.58.28 19.39s-.05 14.33-.28 19.39c-.214 4.68-.996 7.22-1.653 8.91-.87 2.24-1.912 3.835-3.592 5.514-1.68 1.68-3.275 2.72-5.516 3.59-1.69.66-4.232 1.44-8.912 1.654-5.06.23-6.58.28-19.396.28-12.817 0-14.336-.05-19.396-.28-4.68-.216-7.22-.998-8.913-1.655-2.24-.87-3.84-1.91-5.52-3.59-1.68-1.68-2.72-3.276-3.592-5.517-.657-1.69-1.44-4.23-1.653-8.91-.23-5.06-.276-6.58-.276-19.398s.046-14.33.276-19.39c.214-4.68.996-7.22 1.653-8.912.87-2.24 1.912-3.84 3.592-5.52 1.68-1.68 3.28-2.72 5.52-3.592 1.692-.66 4.233-1.44 8.913-1.655 4.428-.2 6.144-.26 15.09-.27zm29.928 7.97c-3.18 0-5.76 2.577-5.76 5.758 0 3.18 2.58 5.76 5.76 5.76 3.18 0 5.76-2.58 5.76-5.76 0-3.18-2.58-5.76-5.76-5.76zm-25.622 6.73c-13.613 0-24.65 11.037-24.65 24.65 0 13.613 11.037 24.645 24.65 24.645C79.617 90.645 90.65 79.613 90.65 66S79.616 41.35 66.003 41.35zm0 8.65c8.836 0 16 7.163 16 16 0 8.836-7.164 16-16 16-8.837 0-16-7.164-16-16 0-8.837 7.163-16 16-16z"})]})}function hq(e){return(0,ri.jsxs)("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...e,children:[(0,ri.jsx)("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),(0,ri.jsx)("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#06C755"}),(0,ri.jsx)("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"url(#pattern0_1769_69)"}),(0,ri.jsxs)("defs",{children:[(0,ri.jsx)("pattern",{id:"pattern0_1769_69",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:(0,ri.jsx)("use",{xlinkHref:"#image0_1769_69",transform:"scale(0.003125)"})}),(0,ri.jsx)("image",{id:"image0_1769_69",width:"320",height:"320",preserveAspectRatio:"none",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAYAAADNkKWqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABpkSURBVHgB7d1fbFTXtcfxdWZs45h7g6lClajoetJIRKIqGKmhTSvF5qEvqUqIitM+XEIikYf+QWlVaF+IACVPBamN0ps8NFL5cx+qmioOVXsf+oCJ1Pg2VMKkKlKRSMZVqlalCiaSHf9hZvesMx5jm/k/58w5Z+/vR3KM8cSAPf55rbX32ccTx/Rf3tO/uNiXWygsDnri5UTMgOd5/UZMTozXX3qU/2vAOl4++K+Y4LUR8V97U5KRyUwxM93bOzc5vWNsWhziicU07GYXeoY9I0P+mzljZJBwA6rzv0emM55MGvEuajD29SyM2xyKVgWgBt7cXO+g8YpP+BXdsASBB6AtfiD63dK4ZzJvzj36i3GxSOoDUENvZq57T0Zkf9EPPM+TfgEQGX9kNFY05s31vYtjaa8OUxuAvRPfGDZSOEroAfHRMDSenF74/C/HJIVSFYDBTG+u53ljzHcJPSBR8hqGfpv8st8m5yUlUhGAWu0VTfF58cweAZB0pzKSPZ6GIEx0AJbbXH+5flgApE3igzCRAdj9+5HBTEZ+TPABVkhsECYqAIMV3fmeo54/4xMAtklcECYmANf9/9efLxaLx1jcAKyW9zu744uPjp6SBIg9AP05X86f8/2cdhdwSt6vBnfFXQ1mJEZa9RVM4TLhBzgnV5TC+z0TTx2VGMVSAVL1AVjmyWTGZJ+MoxrseAXY84ev7aHqA7DMyKBfDV7onhh5RjqsowHY8we/3C1m3mChA8AaOb8d/XmnW+KOtMC6veXjue43qPoA1KOX1N2zbuHZThy0EHkA6ryvKMULnMMHoAkdWSWOtAXWKzoIPwAt0FXiC1pASYQiqwA1/PyPfoF5H4CWeTLdnZFdMztHJyUCkQQg4QcgNBGGYOgBSPgBCF1EIRhqABJ+ACITQQiGFoA6rNQNzoQfgMiEHIKhrAKXt7oQfgAiZaR/sSBvhLU63HYA6iZntroA6KBgi4xmj7Sp7QCc/bjn54QfgA7L6dVl0qa2AjC4tpcbFQGIgV5a2+61wy0vgujJDXrxsgBAnDLFJxc+/6uW7kvcUgByfS+AxPBXhjMmu6OV64ZbaoGLXuENwg9AIvgrw3rAsrSg6QAM5n5GBgUAEkLngeve/nrTd5NsqgUutb6F9wUAkqaFVripCrA09wOABGqhFW44AEvn9TP3A5BczbbCDbXArPoCSA2/Fe5bt/hgI0fqN1QB+nO/o4QfgFTwW+GZj3sa2iBdtwJk4QNAGnVnZUe9U2PqVoCl6g8A0uV2QX5c7zE1K0CqPwBplhGza+7Rc+PV318D1R+ANDPi1cywqhUg1R8AG9SqAqtWgFR/AGxgvMzz1d5XsQKk+gNgk77exY2V9gVWrAAL3u2qiQkAaTM721Px6pCKAeiZDKc8A7BH1lQs6u4KwJ63v7aHqz4AWMVIf+/E3uG1v31XAHqZ7H4BAMtU2hKzehHkwp7+nt7umwIAtqlwSMKqCrC7t5vZHwA76SEJc6szblUAZjzvCQEAS/mBt3/N23cYwz1+AdjLeDLYf3lPf/nt5QDsnfjGsACAzfw2eG6ua/mmbssBWDAFqj8A1jPGW8665QD0l4OHBAAsZ1ZkXWkbDNtfADikfG1wUAH2rMsOCwA4YvbjnmF9XWqBveygAIAjPDHD+rpr6Y0hI0B7+rvWy4bsehlYtyl4CX4v2ycb/N9XuXWfbOjj5Of/Gby+dXtGpguzcqvgv749G7w9tXDD//WMAG3K6X+CADRGBhu7QzBcpgE30LNJtq3PBQGngVYOu3Lgdcq7s/kgFKfmbwSBWX679JqARG3Gk+362mMBBJUM+OH22L1bZbuGnR9625dCLw3KQXjFf3nroz/L1NyN4NfASroQ4ukG6KIULgicpZWdht1j935GtvflZJv/0t/VJzYph+JFPxDf+ugqlSKkO9u9o6toFvvFq3t7YFhEA09DbvcnHpEhP/j017bTQC+F/Nbl3ysF4lU5/+GloFKEWxYKi4NdpRVglkBspy3t7o2f80Nvp5UVXiu2LVW7B+9/PHhbK8OzN8aDUJxaWoiBvTzxcroIkhNYSVtarfD2bRpOzfwuTisrRK0O3/Qrw1/7L8wPLeWZAW/dxMgFv/4bFlhBK72nNw0ReiHSleZX/v4bOX/zj1SGFvGMvEkAWkBnevvuGwra25UzLoSv3Caf8V+QckYmvZ6Jp97nJkjppC2uLmTsu2+YmV6HaVWoCycvfnCOqjC98gRgCmmlp4N7qr1koCpMLQ3AEZaAU0DbXA2979z/Faq9hNKq8KUPRgnCFCEAE47gSx8WTdKDAEwogi/9NAhLrfFFgjChCMCEIfjsQ2ucXARggujevZMDzxB8liIIk4cATADdzvLC5hFWdR1xZSYvI9dO0hYnAAEYI213Twzsl6f9yg/u0fkg+wjjRQDGROd8RzY/RbvrONrieBGAHabX6r7+0Ldod7EK1WA8CMAOoupDLXpA6+Gp01SDHUQAdgBVH5pBNdg5BGDE9LCCn33621R9aIrOBg9cf5WTqiPGWfgROpl7Rka3HCb80DQ9y/F3W48G26MQHSrACGjLe+7hQ07cawPR0yrwwPXXaIkjQAUYMt3UrD+5CT+EpfycGmjwxvJoHAEYIl3lLT1ROYoe4dLn1LUdP12+gRPCQQCGRGc1OvMDoqTPMeaC4ekStEUvZzs5sD84yADohCN+AG7I9smhqdOC9hCAbdDwY96HOBx84CtBW/zce68FG6jRGlrgFulAmvBDnPTeMPoc1B/EaA0B2ALCD0mhz8F3PvsjVohbRAA2qRx+rPQiKcqbpgnB5hGATSD8kFTlEKQdbg4B2CDCD0lHCDaPAGyAPqH00jbCD0mnM8HRLYcEjSEAG/CzT3+LBQ+khl46p8evoT4CsA7dda9HWgFpohvzuWKkPgKwBn0CHeFJhJTS5y7XDtdGAFahbQThh7TTa4e3M76pigCsoHyEPWCD0YcPs0ewCgKwAra7wCb6XH79oW8K7kYArqEtA+EH2+hIR08twmoE4Aq6csbQGLbSE2Q0CHEHAbhEZyRsG4DtdLbNlSJ3EIBLjmzeS+sL6+lz/Min9gpKCEAptb5Pc6IzHEErfIfzAUjrCxfRCpc4H4C0vnARrXCJ0wGoBxzQ+sJV2gq7fpWI0wF47uHDArjsZM7tvYHOBqAufND6wnW6GOLygoizAcjCB1Di8nXvTgYg1R9wh34vuDoLdzIAqf6A1Vw9+s25AKT6A+7mahXoXABS/QGVuVgFOhWAVH9Adfq94dqKsFMBSPUH1PbCZreuDnEmAPUnG9UfUJtr+wKdCcB9m4YEQH0u3QbWiQDUE1+45hdozL77hpw5KcaJAHzs3q0CoDEafo/9pxvfM13igCRUf1PzN2q+P+75ZL2/n0rLDHX69ozcKszWfMyGbB/n4dVw8IHH5fzNS2I76wNQ2984K8Cp+X/Kl68ebygAdR9WHGF94PqrcvbGeN3H6fFhl7b9qOZjzvgf55W//7ZuAOnXJIprUPXzvfNPPwxCsJ7RLYdrzrvenc0HX7tGPlZU9DkRx+4F/VrrD4g4/+2dYH0LHHf7q2HQSHWlj3npg1HptLc+utpQ+CkNhDM1Hqvh85wfpvo4/XWtF/0zD02dlrAdyp9u+Jv2lX/8tub7v9/Ex4qKPiemb89Kp2n4fXWj/Ysh1gdg3O3vdKHzT964TM3/q6nHv/L33/gB/GcJUzOfbw3iWv5a5/2dMl2IJ4SHHJidWx2AwTCXBZBEG7l2sm4QIR5UgCm3zfHjvtNAW8wD118TJE+pgLB7U7TVAejShs400zb4xRjmn6jP9g7K6gB0/YYvaaLD/rDngWif7XNAawOQ+V/66HacOFY8UZ3tYyRrA5D5X/roVqCRaycEyaGFhM2dlMUBOCBIH22D6+3PQ2dtW58TW1kbgEMb3L3VX9odyp9iHrhEr2TKxXwJ4naLA9DaS+H6s1znmWY6D3znsyf8FqxP0kCDKuwj17T93HffsMRtoOc+sZW1AcgMMN10Hvjce6/K6JZDkgZ6LbetJ45vX/+g2MrKFlh/cqalckB15z98h3lgAmi423pyjpUBSPVnD90fqIcrIF79WTsLCmsrQNhBL5Xb+5cT7A+Mma1FhZUB+F8WD21dpPPAQ1OnBPHZQAucHlSA9tHzA5kHxocWOEW4/aWddB7I0VnxsLUCdOKeILCDzgP1iPok7g/UhRrduxgmrbr03hy6xzBucW/GjoqVAUgLbK/g1gF/G5WTA/slSTScG721QDP0xkRp2hCeNnbOALkKJBUOPvCVln5Y6VH6ZyIImyTSwI/rSHwXOHFfYCSTHlhx5FN7pRWHp04zD0TbCEDESqvAVm5cVdofeFKAdhCAiN0Jf57XyqBfFx6iuLUm3GFlAOZpjVJF54DnHm7t0AOdB57/8JIAraACRCLopVatruzqqTHMA6Nl6/2tCUAkhs4DW7kNI7fWjJ5+jm1kZQDq1gGkk57/18o8UE+QZh4YnVsEYHoQgOml88DXH/qmtELngTYenZWEfa20wECHaBvc6jzQplZNfxiczD2TiKtAbC0qrLwU7t3ZKUG66Tzw/M0/pubmSBrav9t6VGxFC5wirAja4fWHvpWIgwAgcsXSU7mtDEBtgzhBOP30WLNW54EIz5WZvNjK2hngXxeoAm2greXB+x8XxOeWpQsgytoAnLT4p5ZrdCGglf2BCIet7a+yNgBtLttdpPNAznmMx1u30rEQ1QprA5CVYLvoPPBnn2YeGAeb99VaeyR+WjfEhv1k25Dts6Zy2v2JncE8MIk3R9I5mY1fO91RYXMLbG0A6kqw7iFL0+xIv4G2XP62hE331CXtCPlW6TzwrY+uJu6b8srM+5F87Y5sHpEX/Je42D5KsvpKkCu0wQHbLhEbffiwM/NAvRNePsYW9Nc3/yg2szoAOSfuDpv2Reo80JaKNumoAFNMqx42RNtp36Zh9gdGzPb5n7I6AHUO+O7s+wI76Xxse19OEA2dtdrO+tNg3qQNtpbOAV2aB3bamRsXxXbWB+D//sv+L6LLdB7Y6q01UZ22v2k5iacd1gdgeTsM7KXbfJgHhsuF9lc5cSAqbbD9dB7I0VnhefGDUXGBEwGobTCrweFI6rytfGvNZv5+/V3/Ibibbn1x5bYSTgSgtsFn/zUucRi6d6vETSsjnZVVsq1voOHKScOl1qqrfqxmAmgo5Kt09NaazcwDd2/8XM33//emYYmbfm1yVb52UflpAi81jIrXMzFixAFxHlmu85SLMc0hNZB2b3ykagAq/Wl/5sZ42x9Hnf/wHXnlH/9X52P1yVf9j/V0RAGjn2/9oVfrHDv9dzzWwA+ns/7nJa4rMfRzvu++4Y7eE0QXP7Zc/o64wpkAVBqAnCsHVKeXTbp0e1Gn7grnwr4moB1JPGknSk4F4K9vXmIxBKhC233X7qntVADqXOiVf/xGANzNla0vKzl3Y3Rd4aIKBFZzsfpTzgUgVSCwmn5PuFj9KecCUFEFAnfowoeL1Z9yMgD1J96hqVMCuE73/b3kaPWnnAxApTMPDkmA61764Jy4zNkAVC86/sWH2/SWEfWuALKd0wGoFaDrTwC4izGQ4wGoDk+dZkEEztFVX1cXPlZyPgB1QeSlv7k7BIZ7XF/4WMn5AFR6ATgLInDFl68eF5QQgEsOXH+VVhjWo/VdjQBcok+K5957VQBb6aovre9qBOAKpcM83ToOCG7QuR+rvncjANd4KWgR/imATfb+5SStbwUE4Bq6KqxDYuaBsIXO/d6dzQvuRgBWwDwQttBLPpn7VUcAVqHzQFePCIIdSnM/d+7v0QoCsAb9ycmiCNJIw680ypkRVEcA1nEof4pN0kgVDT0WPRpDADZg5NpJhshIDZ1f83xtDAHYgNJP1BNsj0Hi6dxaNzyjMQRgg7Sd0JkKIYik0vBjxbc5BGATCEEklS7WEX7NIwCbRAgiabTl1cU6NI8AbAEhiKTQxQ427beOAGxROQRZbUNc9LnHXr/2EIBtKIcgq27oNDY6h4MAbJM+AUeuneCyOXQM4RceAjAkugJHCCJq5fDjKo9wEIAh0hBkcQRR0Znfzj/9kPALEQEYMr1umBBE2FjwiAYBGAH9Cb3l8nc4SQaheOujq4RfRAjACOnmVL3bHNUgWnXmxrgffscIv4gQgBE7GzyBj3OkFpqmi2rPXWeTc5QIwA4o7xdklRiN4mCDzvB6JkaMoGMG1m2Scw8flm19OQEq0dEJ8+POIABjsm/TsLywea8fiJ8UQJU21Z9kXNJBBGCMtBo8snlEnvbDEG5jg3M8CMAE2L4+J6NbDlENOkr3+JVOHCf8Oo1FkAS4MpMP9g2yZcY9Z5Z2CRB+8aACTCDmg25gpTd+BGBC6XxQg/DpTUMEoWV0sUNvWK57RBEvAjDhNAgfu/czVISW0BGH3rOXg3STgQBMEVrjdGOxI3kIwBTa/YmdcvD+x/3KcKsgHXRjMzcuSh4CMMXK+wiH/CCkKkwuruxILgLQEtoe7974iF8dPiJIBuZ9yUcAWqa8aKJXl9Aix0fP8Dtw/X+Y9yUcAWgxwjAe7O9LDwLQEf1d6+WrfousQcjMMBocZpA+BKCj9DguDUKtEDUUNSDROra4pBMBiIAGoh7KoGE46L/mvMLGscUlvQhAVKQVYRCKfQMy0PtJ/7WG4gCV4gra8j733qty/sNLgnQiANGUcjDq6/I80cVqkVVeOxCAaJuuNusexIMPPO7E4gotrz0IQITK5uuVdWPzgeuvscprEQIQodOK8OTAM1ZdlaJzPp33cX9eu3AiNEKnc7GRayesqJSCs/v8dlf/PYSffQhAREYP/Uwz3du3808/4CADixGAiIze6yStBwFo6D3y7g9Y5bVclwARmvRDME3bZFjocAsBiEilqYLSqk8PMWDW5w4CEJFKQwBS9bmLAITTqPrcRgDCSVzHC0UAIlK6KTpp2NSMMgIQkUrS6TFUfViLAESkklIBMutDJQQgItWfjbcCZIUXtRCAiFScm6Cp+lAPAYjIbF//oD8D7JNOo+pDowhARGZDtrPhp5VeueoDGkEAIjJ6D5FO4Yh6tIIARGSGNnxGoqZV3+Gp03LmxrgAzfID0MuLmJwAIYt6BZhFDrQpTwWIyES1Aqzt7ot+8LHIgXZ1iTHT4gkQqihWgLXS04qPE5oRBk8rQC/j5Y0xgwKEKOwVYNpdRKHLGLklQMjCWgFmdRdRMV5pBpgXIGS53vbuC6z3Evl+/jRzPkTHeFNdRkyeESDC1moLzLYWdIyRya6erEwuFgQI1a3CbFOPL1/F8VP/hTkfOiHjFae7ZmYW8z293QKESWd3B+9/vO7jCD7Epbf39mTQ/fZMPPU+m6ERtkvbflR1LyB7+RArT6YXvjC6MdgI7Xky6a8G5wQIkd5YfN+mYRm6t3RJ3HRhJgg+DT2qPcTJ8+d/+joIwGLRTHmshCACZ/3FjLMsaCBhjHgX9XVG/+NJcVwAwBVLFWAQgAvzhXEBAEf03bMwrq+DAJRdY9PlRAQAq/lZN73DzzwpB2Dwe3JRAMBy3oqsWw7ArGfGBAAs563IuuUAnJu7PemXgdMCABabe/TcePnXywGoc0DdDygAYCnPyJsr386sfKMocloAwFJ+kbdq1LcqABfnFsdogwHYqrd3sXoA0gYDsJW2v+XtL2WZux4k5rgAgGWMeKfW/l7FK4B73h656b+nXwDAAnoDpPlHRx9c+/uZyo/2XhYAsETR8yruc64YgAtzCz8RALBE1mQqFnWVK8BgMcTjyhAA6efJqblHf5Gv9K5M1f/HFGmDAaRexmSrLuxWDUC9XMQfHI4LAKRVjepPZWr/v2yJAZBetaq/4P213kkVCCC16lR/qmYAqmJRvicAkDL1qr/gMfUesPil0UnDggiANGmg+lN1A1AtzheOcUgCgDTQqz4aqf5UQwEY7AvMsCACIPn8ADzeSPW39NjGrZsYuWBEhgUAEqjaNb/VNFYBLn/w7LO0wgCSys+oXc08vqkA1LKSVhhAIhVNw61vWVMtcBmtMIAk0YOc578wukOa1FQFuPyH0QoDSAid+3km+6S0oKUALJWZxWcFAGLWzKrvWi0FoFr44q/GhGuFAcQpmPuNnpIWtTQDXIl5IIBYeN7Ywhd+2VLrW9ZyBVg2P7f4pCdeXgCgQ3Tu17duoe0xXNsBGFwlIpldhCCATggWPSS7a+0tLlv8WOHo/v3IoL8UfYG7yQGIjJHpjJfd0eqix1rtV4BLSqfGyC62xwCIhJ8tmjFhhZ8KrQIsoxIEELql8NNCS0IUegAqQhBAaCIKPxVJACpCEEDbIgw/FdoMcC39C+uwktVhAK3Q1d4ow2/pz4hW78Q3ckaKF4yYnABAA8pbXcJc8KgksgqwTP8B83MLO8R4YwIAdeidKO/pXdwRdfgt/Vmd0zOx95j/Rx4VAKikaI4vfOncMemQjgag6p0Yecb4IUhLDGCZv9jRlS0+O/v5X3W0U+x4ACqdCxZN4Q3/Tx8UAE7TllfPGO1Ey7tWLAFYRksMOMyv+jwxx+e/eO4nEpNYA1CxSgy4J86qb83fIxmYDQIOSEDVt1JiAlAFs0G5fcz/a+0XAFbxTPHle+4pHAvjGKuwJCoAywhCwB7a7haL8r0or+hoVSIDsIwgBNKrNOfTe3acG5eESnQAlhGEQHp4njem7W6Sg68sFQFYpkFYMIvfzXjZJ1gsARJED0L2zMt9vbd/kqQZXz2pCsCVet7+2h6R7H7/k75HAHSeruh6Mpn0NreW1AZgWf/lPf1zc917isZ7gjAEIrYUekWR0+t7F8fSVO1VkvoAXKt3Yu+w8bw9pihDXGoHhMD4VV5GLnrGjPX23p5Me+itZF0ArqTV4ezH2WHxsoN+mT5kjB+InFAN1ODlS4FnpkyxON53T2HcpsBby+oArKTUMncNFo3p12D0f7wN+J+EnL7PiJcrPYoFFtho6XR2Y6aDX3vB6yl/QTEvRZlc37eYtznsKvk3kqxyUwkTXfIAAAAASUVORK5CYII="})]})]})}function fq(e){return(0,ri.jsxs)("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,ri.jsxs)("g",{"clip-path":"url(#clip0_1715_1956)",children:[(0,ri.jsx)("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#0977B6"}),(0,ri.jsx)("path",{d:"M9.46878 6.82104C10.6699 6.82104 11.6461 7.79742 11.6461 8.999C11.6461 10.2017 10.6699 11.1782 9.46878 11.1782C8.26447 11.1782 7.28967 10.2017 7.28967 8.999C7.28967 7.79742 8.26447 6.82104 9.46878 6.82104ZM7.58908 12.8309H11.3467V24.9207H7.58908V12.8309Z",fill:"white"}),(0,ri.jsx)("path",{d:"M13.7032 12.8309H17.3076V14.4827H17.3576C17.8589 13.5322 19.0846 12.53 20.9127 12.53C24.7175 12.53 25.42 15.0341 25.42 18.2891V24.9207H21.6651V19.0415C21.6651 17.6388 21.6394 15.8355 19.7126 15.8355C17.7573 15.8355 17.4579 17.363 17.4579 18.9399V24.9207H13.7032L13.7032 12.8309Z",fill:"white"})]}),(0,ri.jsx)("defs",{children:(0,ri.jsx)("clipPath",{id:"clip0_1715_1956",children:(0,ri.jsx)("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"white"})})})]})}function pq(e){return(0,ri.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",...e,children:[(0,ri.jsx)("path",{fill:"#1ed760",d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8Z"}),(0,ri.jsx)("path",{d:"M406.6 231.1c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3zm-31 76.2c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm-26.9 65.6c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4z"})]})}function gq(e){return(0,ri.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd",viewBox:"0 0 1000 1000",...e,children:(0,ri.jsx)("path",{d:"M906.25 0H93.75C42.19 0 0 42.19 0 93.75v812.49c0 51.57 42.19 93.75 93.75 93.75l812.5.01c51.56 0 93.75-42.19 93.75-93.75V93.75C1000 42.19 957.81 0 906.25 0zM684.02 319.72c-32.42-21.13-55.81-54.96-63.11-94.38-1.57-8.51-2.45-17.28-2.45-26.25H515l-.17 414.65c-1.74 46.43-39.96 83.7-86.8 83.7-14.57 0-28.27-3.63-40.35-9.99-27.68-14.57-46.63-43.58-46.63-76.97 0-47.96 39.02-86.98 86.97-86.98 8.95 0 17.54 1.48 25.66 4.01V421.89c-8.41-1.15-16.95-1.86-25.66-1.86-105.01 0-190.43 85.43-190.43 190.45 0 64.42 32.18 121.44 81.3 155.92 30.93 21.72 68.57 34.51 109.14 34.51 105.01 0 190.43-85.43 190.43-190.43V400.21c40.58 29.12 90.3 46.28 143.95 46.28V343.03c-28.89 0-55.8-8.59-78.39-23.31z"})})}function mq(e){return(0,ri.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 2400 2800",...e,children:(0,ri.jsxs)("g",{children:[(0,ri.jsx)("polygon",{fill:"#FFFFFF",points:"2200,1300 1800,1700 1400,1700 1050,2050 1050,1700 600,1700 600,200 2200,200"}),(0,ri.jsx)("g",{children:(0,ri.jsxs)("g",{id:"Layer_1-2",children:[(0,ri.jsx)("path",{fill:"#9146FF",d:"M500,0L0,500v1800h600v500l500-500h400l900-900V0H500z M2200,1300l-400,400h-400l-350,350v-350H600V200h1600V1300z"}),(0,ri.jsx)("rect",{x:"1700",y:"550",width:"200",height:"600",fill:"#9146FF"}),(0,ri.jsx)("rect",{x:"1150",y:"550",width:"200",height:"600",fill:"#9146FF"})]})})]})})}const yq=e=>(0,ri.jsxs)("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,ri.jsx)("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),(0,ri.jsx)("path",{d:"M8.53901 8L14.7164 16.2153L8.5 22.8947H9.89907L15.3415 17.0468L19.7389 22.8947H24.5L17.975 14.2173L23.7612 8H22.3621L17.3499 13.3858L13.3001 8H8.53901ZM10.5964 9.02501H12.7837L22.4422 21.8695H20.255L10.5964 9.02501Z",fill:"#F7F7F7"})]});function wq(){let e=new URL(window.location.href);e.searchParams.delete("privy_oauth_code"),e.searchParams.delete("privy_oauth_provider"),e.searchParams.delete("privy_oauth_state"),VW.del(mf),window.history.replaceState({},"",e)}const bq=({address:e,chainId:t,nonce:n})=>`${window.location.host} wants you to sign in with your Ethereum account:\n${e}\n\nBy signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.\n\nURI: ${window.location.origin}\nVersion: 1\nChain ID: ${t}\nNonce: ${n}\nIssued At: ${(new Date).toISOString()}\nResources:\n- https://privy.io`;class vq{get meta(){return{connectorType:this.wallet?.connectorType,walletClientType:this.wallet?.walletClientType,chainId:this.wallet?.chainId,address:this.wallet?.address,disableSignup:this._meta.disableSignup}}async authenticate(){if(!this.client)throw new jd("SiweFlow has no client instance");try{if(this.preparedMessage&&this.signature)return await this.client.authenticateWithSiweInternal({message:this.preparedMessage,signature:this.signature,chainId:this.wallet?.chainId,walletClientType:this.walletClientType??this.wallet?.walletClientType,connectorType:this.connectorType??this.wallet?.connectorType,mode:this._meta.disableSignup?"no-signup":"login-or-sign-up"});if(!this.wallet)throw new jd("SiweFlow has no wallet instance");let{message:e,signature:t}=await this.sign();return await this.client.authenticateWithSiweInternal({message:e,signature:t,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw $d(e)}}async link(){if(!this.client)throw new jd("SiweFlow has no client instance");try{if(!this.wallet)throw new jd("SiweFlow has no wallet instance");let{message:e,signature:t}=await this.sign();return await this.client.linkWithSiweInternal({message:e,signature:t,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw $d(e)}}async sign(){if(!this.client)throw new jd("SiweFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new jd("Could not prepare SIWE message");if(!this.wallet)throw new jd("SiweFlow has no wallet instance");let e=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:e}}async _getNonceOnce(){if(!this.client)throw new jd("SiweFlow has no client instance");if(!this.wallet)throw new jd("UI SiweFlow has no wallet instance");return await this.client.generateSiweNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new jd("SiweFlow has no client instance");if(!this.wallet)throw new jd("SiweFlow has no wallet instance");let e=this.wallet.address,t=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=bq({address:e,chainId:t,nonce:this.nonce}),this.preparedMessage}constructor(e,t,n,r=!1,i){this._meta={disableSignup:!1},this.getNonceOnce=new eq(this._getNonceOnce.bind(this)),this.wallet=t,this.captchaToken=n,this.client=e,this._meta.disableSignup=r,this.preparedMessage=i?.message,this.signature=i?.signature,this.walletClientType=i?.walletClientType,this.connectorType=i?.connectorType}}class xq{get meta(){return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,disableSignup:this._meta.disableSignup,messageType:this._meta.messageType,address:this.wallet?.address}}set messageType(e){this._meta.messageType=e}async authenticate(){if(!this.client)throw new jd("SiwsFlow has no client instance");try{let{message:e,signature:t}=await this.sign();return await this.client.authenticateWithSiwsInternal({message:e,signature:t,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up",messageType:this.meta.messageType})}catch(e){throw $d(e)}}async link(){if(!this.client)throw new jd("SiwsFlow has no client instance");try{let{message:e,signature:t}=await this.sign();return await this.client.linkWithSiwsInternal({message:e,signature:t,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,messageType:this.meta.messageType})}catch(e){throw $d(e)}}async sign(){let e,t;if(!this.client)throw new jd("SiwsFlow has no client instance");await this.buildMessage();let n="transaction"===this.meta.messageType;if(!this.preparedMessage)throw new jd("Could not prepare SIWS message");if(!n&&!this.wallet.provider.signMessage||n&&!this.wallet.provider.signTransaction)throw new jd("Wallet does not support the necessary signing methods");if(n&&this._plugin){let n=await this.wallet.provider.signTransaction({transaction:zw.K3.decode(this.preparedMessage)});e=zw.K3.encode(n.signedTransaction),t=this._plugin.getSignatureFromTransaction(n.signedTransaction,this.wallet.address)}else{e=this.preparedMessage;let n=await this.wallet.provider.signMessage({message:(new TextEncoder).encode(this.preparedMessage)});t=zw.K3.encode(n.signature)}return{message:e,signature:t}}async _getNonceOnce(){if(!this.client)throw new jd("SiwsFlow has no client instance");return await this.client.generateSiwsNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new jd("SiwsFlow has no client instance");let e=this.wallet.address;return this.nonce||(this.nonce=await this.getNonceOnce.execute()),"transaction"===this.meta.messageType&&this._plugin?this.preparedMessage=this._plugin.createSiwsMemoTransaction({address:e,nonce:this.nonce}):this.preparedMessage=(({address:e,nonce:t})=>`${window.location.host} wants you to sign in with your Solana account:\n${e}\n\nYou are proving you own ${e}.\n\nURI: ${window.location.origin}\nVersion: 1\nChain ID: mainnet\nNonce: ${t}\nIssued At: ${(new Date).toISOString()}\nResources:\n- https://privy.io`)({address:e,nonce:this.nonce}),this.preparedMessage}constructor(e,t,n,r=!1,i="plain",s){this._meta={disableSignup:!1,messageType:"plain"},this.getNonceOnce=new eq(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=n,this.client=t,this._meta.disableSignup=r,this._meta.messageType=i,this._plugin=s}}const Eq=e=>e.isApexWallet?"Apex Wallet":e.isAvalanche?"Core Wallet":e.isBackpack?"Backpack":e.isBifrost?"Bifrost Wallet":e.isBitKeep?"BitKeep":e.isBitski?"Bitski":e.isBlockWallet?"BlockWallet":e.isBraveWallet?"Brave Wallet":e.isClover?"Clover":e.isCoin98?"Coin98 Wallet":e.isCoinbaseWallet?"Coinbase Wallet":e.isDawn?"Dawn Wallet":e.isDefiant?"Defiant":e.isDesig?"Desig Wallet":e.isEnkrypt?"Enkrypt":e.isExodus?"Exodus":e.isFordefi?"Fordefi":e.isFrame?"Frame":e.isFrontier?"Frontier Wallet":e.isGamestop?"GameStop Wallet":e.isHaqqWallet?"HAQQ Wallet":e.isHyperPay?"HyperPay Wallet":e.isImToken?"ImToken":e.isHaloWallet?"Halo Wallet":e.isKuCoinWallet?"KuCoin Wallet":e.isMathWallet?"MathWallet":e.isNovaWallet?"Nova Wallet":e.isOkxWallet||e.isOKExWallet?"OKX Wallet":e.isOneInchIOSWallet||e.isOneInchAndroidWallet?"1inch Wallet":e.isOneKey?"OneKey Wallet":e.isOpera?"Opera":e.isPhantom||"isPhantom"in e?"Phantom":e.isPortal?"Ripio Portal":e.isRabby?"Rabby Wallet":e.isRainbow?"Rainbow":e.isSafePal?"SafePal Wallet":e.isStatus?"Status":e.isSubWallet?"SubWallet":e.isTalisman?"Talisman":e.isTally||e.isTaho?"Taho":e.isTokenPocket?"TokenPocket":e.isTokenary?"Tokenary":e.isTrust||e.isTrustWallet?"Trust Wallet":e.isTTWallet?"TTWallet":e.isXDEFI?"XDEFI Wallet":e.isZeal?"Zeal":e.isZerion?"Zerion":e.isMetaMask?"MetaMask":void 0,kq=(e,t)=>{if(!e.isMetaMask)return!1;if(e.isMetaMask&&!t)return!0;if(e.isBraveWallet&&!e._events&&!e._state||"MetaMask"!==Eq(e))return!1;if(e.providers)for(let t of e.providers)if(!kq(t))return!1;return!0},_q=()=>{let e=window;if(!e.ethereum)return!1;if(e.ethereum.isCoinbaseWallet)return!0;if(e.ethereum.providers)for(let t of e.ethereum.providers)if(t&&t.isCoinbaseWallet)return!0;return!1},Cq=(e,t,n,r)=>{let i=Number(e),s=t.find(e=>e.id===i);if(!s)throw new Rd(`Unsupported chainId ${e}`,4901);return(0,lc.l)({transport:(0,uc.L)(Sq(s,n,r.appId)),chain:s})},Sq=(e,t,n)=>{let r,i=e.id,s=Number(e.id);if(e.rpcUrls.privyWalletOverride&&e.rpcUrls.privyWalletOverride.http[0])r=e.rpcUrls.privyWalletOverride.http[0];else if(t.rpcUrls&&t.rpcUrls[s])r=t.rpcUrls[s];else if(e.rpcUrls.privy?.http[0]){let t=new URL(e.rpcUrls.privy.http[0]);t.searchParams.append("privyAppId",n),r=t.toString()}else r=e.rpcUrls.public?.http[0]?e.rpcUrls.public.http[0]:e.rpcUrls.default?.http[0];if(!r)throw new Rd(`No RPC url found for ${i}`);return r},Iq=e=>!!String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),Aq=(e,t=3,n=4,r="ethereum")=>{if(!e)return"";let i="ethereum"===r?2:0;return t+n+i+3>=e.length?e:`${e.slice(0,i+t)}...${e.slice(e.length-n,e.length)}`},Tq=(e,t=3,n=4)=>Aq(e,t,n,"solana"),Pq=e=>new Promise(t=>setTimeout(t,e)),Oq=(e,t={})=>{let n=t.delayMs||150,r=t.maxAttempts||270;return new Promise(async(i,s)=>{let o=!1,a=0;for(;!o&&a<r;){if(t.abortSignal?.aborted)return;e().then(e=>{o=!0,i(e)},(...e)=>{o=!0,s(...e)}),a+=1,await Pq(n)}o||s(Error("Exceeded max attempts before resolving function"))})},jq=e=>e.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),Nq=e=>"string"==typeof e?e:"0x"+e.toString(16);function Rq(e){return`eip155:${String(Number(e))}`}const $q=(e,t,n,r)=>{let i=Number(e),s=t.find(e=>e.id===i);if(!s)throw new Rd(`Unsupported chainId ${e}`,4901);return Sq(s,n,r)},Mq=e=>{let t={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},n=e.types.EIP712Domain??Object.entries(e.domain).map(([e,n])=>{if(null!=n&&"string"==typeof e&&e in t)return{name:e,type:t[e]}}).filter(e=>void 0!==e);return{...e,types:{...e.types,EIP712Domain:n}}},Lq=(0,ei.createContext)({siteKey:"",enabled:!1,appId:void 0,token:void 0,error:void 0,status:"disabled",setToken:Gd,setError:Gd,setExecuting:Gd,waitForResult:()=>Promise.resolve(""),ref:{current:null},remove:Gd,reset:Gd,execute:Gd});class Bq extends Pd{constructor(e,t,n){super(e||"Captcha failed"),this.type="Captcha",t instanceof Error&&(this.cause=t),this.privyErrorCode=n}}const Uq=({children:e,id:t,captchaSiteKey:n,captchaEnabled:r})=>{let i=(0,ei.useRef)(null),[s,o]=(0,ei.useState)(),[a,c]=(0,ei.useState)(),[l,u]=(0,ei.useState)(!1),d=(0,ei.useMemo)(()=>r?l||s||a?!l||s||a?s&&!a?{status:"success",token:s}:a?{status:"error",error:a}:{status:"ready"}:{status:"loading"}:{status:"ready"}:{status:"disabled"},[r,s,a,l]);return(0,ri.jsx)(Lq.Provider,{value:{...d,ref:i,enabled:r,siteKey:n,appId:t,setToken:o,setError:c,setExecuting:u,remove(){r&&(i.current?.remove(),u(!1),c(void 0),o(void 0))},reset(){r&&(i.current?.reset(),u(!1),c(void 0),o(void 0))},execute(){r&&(u(!0),i.current?.execute())},async waitForResult(){if(!r)return"";try{return await function(e,{interval:t=100,timeout:n=5e3}={}){return new Promise((r,i)=>{let s,o=0,a=()=>{o>=n?i("Max attempts reached without result"):(s=e(),o+=t,null==s?setTimeout(a,t):r(s))};a()})}(()=>i.current?.getResponse(),{interval:200,timeout:2e4})}catch(e){throw new Bq("Captcha failed",null,Ld.CAPTCHA_TIMEOUT)}}},children:e})},Dq=()=>(0,ei.useContext)(Lq);class Fq{async authenticate(){if(!this.api)throw new jd("Auth flow has no API instance");try{return await this.api.post("/api/v1/telegram/authenticate",{captcha_token:this.meta.captchaToken,telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw $d(e)}}async link(){if(!this.api)throw new jd("Auth flow has no API instance");try{return await this.api.post("/api/v1/telegram/link",{telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData})}catch(e){throw $d(e)}}constructor(e,t=!1){this.meta={disableSignup:!1},this.meta={captchaToken:e,disableSignup:!1},this.meta.disableSignup=t}}function zq(e){let t={detail:"",retryable:!1};return e?.privyErrorCode===Ld.LINKED_TO_ANOTHER_USER&&(t.detail="This account has already been linked to another user."),e?.privyErrorCode===Ld.DISALLOWED_LOGIN_METHOD&&(t.detail="Login with Telegram not allowed."),e?.privyErrorCode===Ld.INVALID_DATA&&(t.retryable=!0,t.detail="Something went wrong. Try again."),e?.privyErrorCode===Ld.CANNOT_LINK_MORE_OF_TYPE&&(t.retryable=!0,t.detail="Something went wrong. Try again."),e?.privyErrorCode===Ld.INVALID_CREDENTIALS&&(t.retryable=!0,t.detail="Something went wrong. Try again."),e?.privyErrorCode===Ld.TOO_MANY_REQUESTS&&(t.detail="Too many requests. Please wait before trying again."),e?.privyErrorCode===Ld.TOO_MANY_REQUESTS&&e.message.includes("rate limit")&&(t.detail="Request limit reached for Telegram. Please wait a moment and try again."),e instanceof Bq&&(t.retryable=!0,t.detail="Something went wrong. Try again."),t}function Wq(e){return Object.fromEntries(decodeURIComponent(e).split("&").map(e=>e.split("=").map(decodeURIComponent)))}function qq(){let e=new URL(window.location.href);e.searchParams.delete("id"),e.searchParams.delete("hash"),e.searchParams.delete("auth_date"),e.searchParams.delete("first_name"),e.searchParams.delete("last_name"),e.searchParams.delete("username"),e.searchParams.delete("photo_url"),e.hash="",window.history.replaceState({},"",e)}function Hq(e){return e?new Date(1e3*e):null}function Vq(e,t){return e.slice().sort((e,t)=>(e.firstVerifiedAt?.getTime()??0)-(t.firstVerifiedAt?.getTime()??0)).find(e=>e.type===t)}const Kq=e=>e?Gq(e).find(e=>0===e.walletIndex)??null:null,Gq=e=>e?Zq(e,"ethereum"):[],Zq=(e,t)=>e.linkedAccounts.filter(e=>"wallet"===e.type&&"privy"===e.walletClientType&&!e.imported&&e.chainType===t),Yq=e=>e?Zq(e,"solana"):[],Jq=e=>e?Yq(e).find(e=>0===e.walletIndex)??null:null,Qq=e=>(e?.linkedAccounts??[]).filter(e=>"wallet"===e.type&&"privy"===e.walletClientType&&e.imported&&"ethereum"===e.chainType),Xq=e=>(e?.linkedAccounts??[]).filter(e=>"wallet"===e.type&&e.imported&&"privy"===e.walletClientType&&"solana"===e.chainType);let eH=(e,t)=>e===t||!(!e.startsWith("0x")||!t.startsWith("0x"))&&(0,ai.b)(e)===(0,ai.b)(t);const tH=(e,t)=>e?.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType&&eH(e.address,t))||null,nH=(e,t)=>e.find(e=>eH(e.address,t))||null,rH=e=>Kq(e)??Jq(e);function iH(e){if(!e)return null;let t=function(e){let t=[];for(let n of e){let e=n.type;switch(n.type){case"wallet":let r={id:n.id,address:n.address,type:n.type,imported:n.imported,delegated:n.delegated,firstVerifiedAt:Hq(n.first_verified_at),latestVerifiedAt:Hq(n.latest_verified_at),chainType:n.chain_type,walletClientType:n.wallet_client_type,connectorType:n.connector_type,recoveryMethod:n.recovery_method,walletIndex:n.wallet_index,publicKey:n.public_key};t.push(r);break;case"smart_wallet":let i={address:n.address,type:n.type,firstVerifiedAt:Hq(n.first_verified_at),latestVerifiedAt:Hq(n.latest_verified_at),smartWalletType:n.smart_wallet_type,smartWalletVersion:n.smart_wallet_version};t.push(i);break;case"cross_app":let s={type:n.type,subject:n.subject,embeddedWallets:n.embedded_wallets,smartWallets:n.smart_wallets,providerApp:{id:n.provider_app_id},firstVerifiedAt:Hq(n.first_verified_at),latestVerifiedAt:Hq(n.latest_verified_at)};t.push(s);break;case"email":let o={address:n.address,type:n.type,firstVerifiedAt:Hq(n.first_verified_at),latestVerifiedAt:Hq(n.latest_verified_at)};t.push(o);break;case"phone":let a={number:n.phoneNumber,type:n.type,firstVerifiedAt:Hq(n.first_verified_at),latestVerifiedAt:Hq(n.latest_verified_at)};t.push(a);break;case"google_oauth":let c={subject:n.subject,email:n.email,name:n.name,type:n.type,firstVerifiedAt:Hq(n.first_verified_at),latestVerifiedAt:Hq(n.latest_verified_at)};t.push(c);break;case"spotify_oauth":let l={subject:n.subject,email:n.email,name:n.name,type:n.type,firstVerifiedAt:Hq(n.first_verified_at),latestVerifiedAt:Hq(n.latest_verified_at)};t.push(l);break;case"instagram_oauth":let u={subject:n.subject,username:n.username,type:n.type,firstVerifiedAt:Hq(n.first_verified_at),latestVerifiedAt:Hq(n.latest_verified_at)};t.push(u);break;case"twitter_oauth":let d={subject:n.subject,username:n.username,name:n.name,type:n.type,profilePictureUrl:n.profile_picture_url,firstVerifiedAt:Hq(n.first_verified_at),latestVerifiedAt:Hq(n.latest_verified_at)};t.push(d);break;case"discord_oauth":let h={subject:n.subject,username:n.username,email:n.email,type:n.type,firstVerifiedAt:Hq(n.first_verified_at),latestVerifiedAt:Hq(n.latest_verified_at)};t.push(h);break;case"github_oauth":let f={subject:n.subject,username:n.username,name:n.name,email:n.email,type:n.type,firstVerifiedAt:Hq(n.first_verified_at),latestVerifiedAt:Hq(n.latest_verified_at)};t.push(f);break;case"tiktok_oauth":let p={subject:n.subject,username:n.username,name:n.name,type:n.type,firstVerifiedAt:Hq(n.first_verified_at),latestVerifiedAt:Hq(n.latest_verified_at)};t.push(p);break;case"line_oauth":let g={subject:n.subject,name:n.name,email:n.email,profilePictureUrl:n.profile_picture_url,type:n.type,firstVerifiedAt:Hq(n.first_verified_at),latestVerifiedAt:Hq(n.latest_verified_at)};t.push(g);break;case"twitch_oauth":let m={subject:n.subject,username:n.username,type:n.type,firstVerifiedAt:Hq(n.first_verified_at),latestVerifiedAt:Hq(n.latest_verified_at)};t.push(m);break;case"linkedin_oauth":let y={subject:n.subject,name:n.name,email:n.email,vanityName:n.vanity_name,type:n.type,firstVerifiedAt:Hq(n.first_verified_at),latestVerifiedAt:Hq(n.latest_verified_at)};t.push(y);break;case"apple_oauth":let w={subject:n.subject,email:n.email,type:n.type,firstVerifiedAt:Hq(n.first_verified_at),latestVerifiedAt:Hq(n.latest_verified_at)};t.push(w);break;case"custom_auth":t.push({type:n.type,customUserId:n.custom_user_id,firstVerifiedAt:Hq(n.first_verified_at),latestVerifiedAt:Hq(n.latest_verified_at)});break;case"farcaster":let b={type:n.type,fid:n.fid,ownerAddress:n.owner_address,displayName:n.display_name,username:n.username,bio:n.bio,pfp:n.profile_picture_url,url:n.homepage_url,firstVerifiedAt:Hq(n.first_verified_at),latestVerifiedAt:Hq(n.latest_verified_at),signerPublicKey:n.signer_public_key};t.push(b);break;case"passkey":let v={type:n.type,enrolledInMfa:n.enrolled_in_mfa,credentialId:n.credential_id,publicKey:n.public_key,authenticatorName:n.authenticator_name,createdWithDevice:n.created_with_device,createdWithOs:n.created_with_os,createdWithBrowser:n.created_with_browser,firstVerifiedAt:Hq(n.first_verified_at),latestVerifiedAt:Hq(n.latest_verified_at)};t.push(v);break;case"telegram":let x={type:n.type,telegramUserId:n.telegram_user_id,firstName:n.first_name,lastName:n.last_name,username:n.username,photoUrl:n.photo_url,firstVerifiedAt:Hq(n.first_verified_at),latestVerifiedAt:Hq(n.latest_verified_at)};t.push(x);break;default:if(oq(n.type)){let e={type:n.type,subject:n.subject,name:n.name,username:n.username,email:n.email,profilePictureUrl:n.profile_picture_url,firstVerifiedAt:Hq(n.first_verified_at),latestVerifiedAt:Hq(n.latest_verified_at)};t.push(e);break}console.warn(`Unrecognized account type: ${e}. Please consider upgrading the Privy SDK.`)}}return t}(e.linked_accounts),n=Vq(t,"wallet"),r=Vq(t,"smart_wallet"),i=Vq(t,"email"),s=Vq(t,"phone"),o=Vq(t,"google_oauth"),a=Vq(t,"twitter_oauth"),c=Vq(t,"discord_oauth"),l=Vq(t,"github_oauth"),u=Vq(t,"spotify_oauth"),d=Vq(t,"instagram_oauth"),h=Vq(t,"tiktok_oauth"),f=Vq(t,"line_oauth"),p=Vq(t,"twitch_oauth"),g=Vq(t,"linkedin_oauth"),m=Vq(t,"apple_oauth"),y=Vq(t,"farcaster"),w=Vq(t,"telegram"),b=e.mfa_methods.map(({type:e,verified_at:t})=>({type:e,verifiedAt:Hq(t)}));return{id:e.id,createdAt:Hq(e.created_at),linkedAccounts:t,email:i&&{address:i?.address},phone:s&&{number:s?.number},wallet:n&&{id:n.id,address:n.address,chainType:n.chainType,walletClientType:n.walletClientType,connectorType:n.connectorType,recoveryMethod:n.recoveryMethod,imported:n.imported,delegated:n.delegated,walletIndex:n.walletIndex,publicKey:n.publicKey},smartWallet:r&&{address:r.address,smartWalletType:r.smartWalletType,smartWalletVersion:r.smartWalletVersion},google:o&&{subject:o.subject,email:o.email,name:o.name},twitter:a&&{subject:a.subject,username:a.username,name:a.name,profilePictureUrl:a.profilePictureUrl},discord:c&&{subject:c.subject,username:c.username,email:c.email},github:l&&{subject:l.subject,username:l.username,name:l.name,email:l.email},spotify:u&&{subject:u.subject,email:u.email,name:u.name},instagram:d&&{subject:d.subject,username:d.username},tiktok:h&&{subject:h.subject,username:h.username,name:h.name},line:f&&{subject:f.subject,name:f.name,email:f.email,profilePictureUrl:f.profilePictureUrl},twitch:p&&{subject:p.subject,username:p.username},linkedin:g&&{subject:g.subject,name:g.name,email:g.email,vanityName:g.vanityName},apple:m&&{subject:m.subject,email:m.email},farcaster:y&&{fid:y.fid,ownerAddress:y.ownerAddress,displayName:y.displayName,username:y.username,bio:y.bio,pfp:y.pfp,url:y.url,signerPublicKey:y.signerPublicKey},telegram:w&&{telegramUserId:w.telegramUserId,firstName:w.firstName,lastName:w.lastName,username:w.username,photoUrl:w.photoUrl},delegatedWallets:[],mfaMethods:b.map(e=>e.type),hasAcceptedTerms:e.has_accepted_terms??!1,isGuest:e.is_guest,customMetadata:e.custom_metadata}}let sH=e=>{if("ethereum"===e.chainType)return{entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier"};if("solana"===e.chainType)return{entropyId:e.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")};const oH=(e,t)=>{if(t?.imported)return sH(t);let n=rH(e);if(!n)throw Error("Failed to find primary wallet");return sH(n)},aH=({style:e,...t})=>(0,ri.jsxs)("svg",{viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...e},...t,children:[(0,ri.jsx)("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),(0,ri.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}),cH="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==",lH="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAALZJREFUaEPtmjEOhDAMBNc/O14GvOzys3CAKK6eAlmaVGl2Zc+kTOU685vkc9/bnD2prZK5/TZY24z9P+g4F5hNh7/GdoG37WlAA5CATwgCxHENYISwQAMQII5rACOEBRqAAHFcAxghLNAABIjjGsAIYYEGIEAc1wBGCAs0AAHiuAYwQligAQgQxzWAEcICDUCAOK4BjBAWaAACxHENYISwQAMQII6fBjr+VHkW3+u+tfyxMpJaDgYzYxb/ALZVAAAAAElFTkSuQmCC";class uH extends Rd{constructor(){super("Wallet timeout"),this.type="wallet_error"}}const dH=e=>e instanceof Rd?e:e?.code?new fH(e):new Rd("Unknown connector error",e);class hH extends Pd{constructor(e,t,n){super(e),this.type="provider_error",this.code=t,this.data=n}}class fH extends hH{constructor(e){super(e.message,e.code,e.data);let t=Object.values(sc).find(t=>t.eipCode===e.code);this.details=t||sc.UNKNOWN_ERROR,-32002===e.code&&(e.message?.includes("already pending for origin")?e.message?.includes("wallet_requestPermissions")?this.details=sc.E32002_CONNECTION_ALREADY_PENDING:this.details=sc.E32002_REQUEST_ALREADY_PENDING:e.message?.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=sc.E32002_WALLET_LOCKED))}}const pH={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...sc};function gH(e){return"ethereum"===e.type}function mH(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],i=t[n];if(r?.address!==i?.address||r&&i&&gH(r)&&gH(i)&&r?.chainId!==i?.chainId||r?.connectorType!==i?.connectorType||r?.connectedAt!==i?.connectedAt||r?.walletClientType!==i?.walletClientType||r?.isConnected!==i?.isConnected||r?.linked!==i?.linked)return!1}return!0}class yH extends vc.A{constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}}const wH=(e,t)=>e.rpcTimeouts&&e.rpcTimeouts[t]||Ef;function bH(e){return"ethereum"===e.chainType}class vH extends yH{buildConnectedWallet(e,t,n,r){let i=async()=>!!this.wallets.find(t=>(0,ai.b)(t.address)===(0,ai.b)(e));return{type:"ethereum",address:(0,ai.b)(e),chainId:t,meta:n,imported:r,switchChain:async n=>{let r,s;if(!i)throw new Rd("Wallet is not currently connected.");let o=this.wallets.find(t=>(0,ai.b)(t.address)===(0,ai.b)(e))?.chainId;if(!o)throw new Rd("Unable to determine current chainId.");if("number"==typeof n?(r=`0x${n.toString(16)}`,s=n):(r=n,s=Number(n)),o===Rq(r))return;let a=this.chains.find(e=>e.id===s);if(!a)throw new Rd(`Unsupported chainId: ${n}`);let c=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]})};try{return await c()}catch(e){if((e=>{switch(this.walletClientType){case"coinbase_wallet":case"base_account":return e.message.includes("addEthereumChain");case"rabby_wallet":return e.message.includes("Unrecognized chain ID");default:return 4902===e.code||e.message?.includes("4902")}})(e))return"rabby_wallet"===this.walletClientType&&await Pq(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:r,chainName:a.name,nativeCurrency:a.nativeCurrency,rpcUrls:[a.rpcUrls.default?.http[0]??""],blockExplorerUrls:[a.blockExplorers?.default.url??""]}]}),c();if("rainbow"===this.walletClientType&&e.message?.includes("wallet_switchEthereumChain"))throw new Rd(`Rainbow does not support the chainId ${t}`);throw e}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:i,getEthereumProvider:async()=>{if(!await i())throw new Rd("Wallet is not currently connected.");return this.proxyProvider},sign:async e=>{if(!await i())throw new Rd("Wallet is not currently connected.");return await this.sign(e)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let t,n=e;try{if(void 0===n){let e=await Oq(()=>this.proxyProvider.request({method:"eth_accounts"}),{maxAttempts:10,delayMs:500});console.debug(`eth_accounts for ${this.walletClientType}:`,e),Array.isArray(e)&&(n=e)}}catch(e){console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.",e)}if(!n||!Array.isArray(n)||n.length<=0||!n[0])return;let r=n[0],i=(0,ai.b)(r),s=[];if("privy"===this.walletClientType){let n=VW.get(vf(i));this.chains.find(e=>e.id===Number(n))||(VW.del(vf(i)),n=null),t=n||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]})}catch(e){console.warn(`Unable to switch embedded wallet to chain ID ${t} on initialization`)}}else try{let e=await Oq(()=>this.proxyProvider.request({method:"eth_chainId"}),{maxAttempts:10,delayMs:500});if(console.debug(`eth_chainId for ${this.walletClientType}:`,e),"string"==typeof e)t=e;else{if("number"!=typeof e)throw Error("Invalid chainId returned from provider");t=`0x${e.toString(16)}`}}catch(e){console.warn("Failed to get chainId from provider, defaulting to 0x1",e),t="0x1"}let o=Rq(t);if(!s.find(e=>(0,ai.b)(e.address)===i)){let e={name:this.walletBranding.name,icon:"string"==typeof this.walletBranding.icon?this.walletBranding.icon:void 0,id:this.walletBranding.id};s.push(this.buildConnectedWallet((0,ai.b)(r),o,e,"embedded_imported"===this.connectorType))}mH(s,this.wallets)||(this.wallets=s,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort((e,t)=>t.connectedAt-e.connectedAt).find(t=>e.find(e=>(0,ai.b)(e)===(0,ai.b)(t.address)))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[(0,oi.nj)(e),this.wallets[0]?.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,t,n,r){super(e),this.chainType="ethereum",this.onAccountsChanged=e=>{0===e.length?this.onDisconnect():this.syncAccounts(e)},this.onChainChanged=e=>{this.wallets.forEach(t=>{t.chainId=Rq(e),"privy"===this.walletClientType&&VW.put(vf(t.address),e)}),this.emit("walletsUpdated")},this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{"base_account"===this.connectorType&&this.connected||(this.connected=!0,"coinbase_wallet"===this.connectorType&&await Pq(500),this.syncAccounts())},this.wallets=[],this.walletClientType=e,this.chains=t,this.defaultChain=n,this.rpcConfig=r,this.rpcTimeoutDuration=wH(r,e),this.connected=!1,this.initialized=!1}}class xH{on(e,t){if(this.walletProvider)return this.walletProvider.on(e,t);this._subscriptions.push({eventName:e,listener:t})}async request(e){if(!this.walletProvider)throw new Rd(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch(e=>{throw dH(e)})}constructor(e,t){this.removeListener=(e,t)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(e,t)}catch(e){console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(e=new uH,t=this.rpcTimeoutDuration)=>new Promise((n,r)=>setTimeout(()=>{r(e)},t)),this.setWalletProvider=e=>{this.walletProvider&&this._subscriptions.forEach(e=>{this.removeListener(e.eventName,e.listener)}),this.walletProvider=e,this._subscriptions.forEach(e=>{this.walletProvider?.on(e.eventName,e.listener)})},this.walletProvider=e,this.rpcTimeoutDuration=t||Ef,this._subscriptions=[]}}const EH=({...e})=>(0,ri.jsx)("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,ri.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z",fill:e.color||"var(--privy-color-foreground-3)"})}),kH=e=>!!e.id&&"privy-v2"===e.recoveryMethod;class _H extends vH{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:t,icon:n,walletClientType:r,defaultChain:i}){super(r,[],i,{}),this.connectorType="null",this.proxyProvider=new xH(void 0,Ef),this.id=e,this.name=t,this.icon=n}}const CH=({style:e,...t})=>(0,ri.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",style:{...e},...t,children:(0,ri.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),SH=({...e})=>(0,ri.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...e,children:[(0,ri.jsx)("rect",{width:"32",height:"32",rx:"6",fill:"#121314"}),(0,ri.jsx)("g",{transform:"translate(4, 4)",children:(0,ri.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 318.6 318.6",children:[(0,ri.jsx)("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),(0,ri.jsx)("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),(0,ri.jsx)("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),(0,ri.jsx)("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),(0,ri.jsx)("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),(0,ri.jsx)("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),(0,ri.jsx)("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),(0,ri.jsx)("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),(0,ri.jsx)("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),(0,ri.jsx)("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),(0,ri.jsx)("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),(0,ri.jsx)("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),(0,ri.jsx)("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]})})]}),IH=({style:e,...t})=>(0,ri.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108",height:"108",viewBox:"0 0 108 108",fill:"none",style:{height:"28px",width:"28px",...e},...t,children:[(0,ri.jsx)("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),(0,ri.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]}),AH=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","bitget_wallet","coinbase_wallet","coinbase_smart_wallet","base_account","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitget_wallet","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack","mobile_wallet_adapter"],TH=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:si.gm?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){if("phantom"in window){let e=window;if(e?.phantom?.ethereum?.isPhantom&&e?.phantom?.ethereum?.chainId||e?.phantom?.solana?.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:e,isSolana:t,connectOnly:n}){let r=OH({client:this.client,isSolana:t,connectOnly:n});return`${e?"phantom://":"https://phantom.app/ul/"}browse/${r}?ref=${r}`}},solflare:{client:"solflare",name:"Solflare",installLink:si.gm?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){return"solflare"in window&&!!window?.solflare?.isSolflare},getMobileRedirect({useUniversalLink:e,isSolana:t,connectOnly:n}){let r=OH({client:this.client,isSolana:t,connectOnly:n});return`${e?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${r}?ref=${r}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){return!(!("backpack"in window)||!window?.backpack?.ethereum?.isBackpack&&!window?.backpack?.solana?.isBackpack)},getMobileRedirect({useUniversalLink:e,isSolana:t,connectOnly:n}){let r=OH({client:this.client,isSolana:t,connectOnly:n});return`${e?"backpack://ul/v1/":"https://backpack.app/ul/v1/"}browse/${r}?ref=${r}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["solana"],get isInstalled(){return"okxwallet"in window&&!!window?.okxwallet?.isOkxWallet},getMobileRedirect({isSolana:e,connectOnly:t}){return"https://www.okx.com/download?deeplink="+encodeURIComponent("okx://wallet/dapp/url?dappUrl="+OH({client:this.client,isSolana:e,connectOnly:t}))}}});function PH({connectorType:e,walletClientType:t}){for(let n of AH)if(e===n||t===n)return TH[n]}function OH({client:e,isSolana:t,connectOnly:n}){let r=new URL(window.location.href);return r.searchParams.set("privy_connector",t?"solana_adapter":"injected"),r.searchParams.set("privy_wallet_client",e),r.searchParams.set("privy_connect_only",String(n)),encodeURIComponent(r.href.replace(/\/$/g,""))}const jH=()=>{let e=VW.get(xf);return e&&Array.isArray(e)&&e.map(e=>(e=>e&&"string"==typeof e.address&&"string"==typeof e.connectorType&&"string"==typeof e.walletClientType&&"number"==typeof e.connectedAt)(e)).every(Boolean)?e:[]};let NH=["phantom","glow","solflare","backpack","okx_wallet","walletconnect","mobile_wallet_adapter"];function RH(e){return e.toLowerCase().split(" ").join("_")}class $H extends yH{get isInstalled(){return!0}get wallet(){return this._wallet}buildConnectedWallet(){return this._wallet.accounts.map(e=>({type:"solana",provider:new rw({wallet:this._wallet,account:e}),address:e.address,connectedAt:Date.now(),walletClientType:this._wallet.name,connectorType:this.connectorType,imported:!1,meta:{name:this._wallet.name,id:this._wallet.name,icon:this._wallet.icon},isConnected:async()=>this._wallet.accounts.length>0,disconnect:async()=>{await this.disconnect()}}))}async syncAccounts(){this.wallets=this.buildConnectedWallet(),this.emit("walletsUpdated")}get walletBranding(){return{id:MH(this.wallet)?"walletconnect_solana":this.wallet.name,name:this.wallet.name,icon:this.wallet.icon}}async initialize(){this.subscribeListeners(),await this.syncAccounts(),this.shouldAttemptAutoConnect()&&await(this.wallet.features["standard:connect"]?.connect({silent:!0}).catch(()=>{})),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}async getConnectedWallet(){return this.wallets.sort((e,t)=>t.connectedAt-e.connectedAt)[0]||null}async isConnected(){return this._wallet.accounts.length>0}subscribeListeners(){this._unsubscribeListeners=this.wallet.features["standard:events"]?.on("change",this.onChange)}unsubscribeListeners(){this._unsubscribeListeners?.()}shouldAttemptAutoConnect(){return!(!this.autoConnectEnabled||!NH.includes(this.walletClientType))&&("phantom"!==this.walletClientType||jH().some(({walletClientType:e})=>"phantom"===e))}constructor(e,t){super(RH(MH(e)?"walletconnect_solana":e.name)),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=async()=>{await(this.wallet.features["standard:disconnect"]?.disconnect().catch(e=>console.error("Error disconnecting",e)))},this.promptConnection=async()=>{try{await(this.wallet.features["standard:connect"]?.connect())}catch(e){throw dH(e)}},this.onChange=()=>{this.syncAccounts()},this._wallet=e,this.autoConnectEnabled=t,this.wallets=[]}}function MH(e){return"isWalletConnectSolana"in e&&e.isWalletConnectSolana}class LH extends $H{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:t,icon:n}){super({name:t},!1),this.connectorType="null",this.proxyProvider=new xH(void 0,Ef),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=t,this.icon=n}}const BH=({style:e,...t})=>{let n=Mf();return(0,ri.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...e},...t,children:[(0,ri.jsx)("rect",{width:"28",height:"28",rx:"3",fill:"dark"===n?.appearance.palette.colorScheme?"#3396ff":"#141414"}),(0,ri.jsx)("g",{clipPath:"url(#clip0_1765_9946)",children:(0,ri.jsx)("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),(0,ri.jsx)("defs",{children:(0,ri.jsx)("clipPath",{id:"clip0_1765_9946",children:(0,ri.jsx)("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})},UH="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC";function DH(e){return"solana"===e.chainType}const FH=gw(()=>({listings:[],loading:!1})),zH=FH.setState,WH=e=>{let t;try{t=new URL(e).hostname}catch(e){return}return FH.getState().listings.find(({homepage:e})=>{let n;try{n=new URL(e).hostname}catch(e){return!1}return t.includes(n)})},qH=(e=!0)=>{let t=Mf(),n=FH(e=>e.listings),r=FH(e=>e.loading),i=!!n.length;return(0,ei.useEffect)(()=>{e&&!i&&(zH({listings:[],loading:!0}),(async e=>{let t=new URL("v3/wallets","https://explorer-api.walletconnect.com");t.searchParams.append("projectId",e);let n=await fetch(t);return n.ok?Object.values((await n.json()).listings).sort(({slug:e},{slug:t})=>"rainbow"===e&&"metamask"===t?1:"metamask"===e||"rainbow"===e?-1:1):(console.debug(`Failed to fetch WalletConnect listings: ${await n.text().catch(()=>"No response.")}`),[])})(t.walletConnectCloudProjectId).then(e=>zH({listings:e,loading:!1})).catch(e=>{console.error(e),zH({listings:[],loading:!1})}))},[e,i,t.walletConnectCloudProjectId]),{listings:n,loading:r}},HH=e=>{let{listings:t}=qH();return t.find(({slug:t})=>VH(t)===VH(e))};function VH(e){return"cryptocom"===e?"cryptocom-defi":"binance"===e?"binance-defi":e.replace(/[-_]wallet$/,"")}function KH(e){return["wallet_connect","backpack","binance","binanceus","bitget_wallet","bybit_wallet","cryptocom","haha_wallet","metamask","okx_wallet","phantom","rabby_wallet","rainbow","ronin_wallet","safe","solflare","uniswap","zerion"].some(t=>e?.includes(t))}class GH extends vH{async initialize(){let e=await this.createProvider();this.provider=e,this.proxyProvider.setWalletProvider(e),this.subscribeListeners(),e.session&&(this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=WH(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown"),this.connected=!0,await this.syncAccounts()),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),this.getConnectedWallet()}async isConnected(){return!!this.walletProvider?.connected}get walletBranding(){let e=this.walletProvider?.session?.peer.metadata.icons?.[0];return{name:jq(this.walletProvider?.session?.peer.metadata.name||"")||"WalletConnect",icon:"string"==typeof e?e:UH,id:this.walletProvider?.session?.peer.metadata.name.toLowerCase()||"wallet_connect_v2"}}async resetConnection(e){this.walletProvider&&this.walletProvider.connected&&(await this.walletProvider.disconnect(),this.walletProvider.signer.session=void 0,this.walletClientType=e,this.redirectUri=void 0,this.fallbackUniversalRedirectUri=void 0,function(){try{localStorage.removeItem(ZW)}catch{}}(),this.onDisconnect())}async promptConnection(){if(this.provider)return new Promise((e,t)=>{(async()=>{let t="",n=await Promise.race([this.walletProvider?.enable(),this.proxyProvider.walletTimeout()]);if(n?.length&&(t=n[0]),!t||""===t)throw new Rd("Unable to retrieve address");this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=WH(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown",this.proxyProvider.rpcTimeoutDuration=wH(this.rpcConfig,this.walletClientType)),this.connected=!0,await this.syncAccounts(n),e()})().catch(e=>{t(e?dH(e):new Rd("Unknown error during connection"))})})}disconnect(){this.walletProvider?.disconnect().then(()=>this.onDisconnect()).catch(()=>console.warn("Unable to disconnect WalletConnect provider"))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(e){this.proxyProvider.setWalletProvider(e)}async createProvider(){let e={};for(let t of this.chains){let n=$q(t.id,this.chains,this.rpcConfig,this.privyAppId);n&&(e[t.id]=n)}let t=this.shouldEnforceDefaultChainOnConnect?[this.defaultChain.id]:[],n=this.chains.map(e=>e.id),r=await O$.init({projectId:this.walletConnectCloudProjectId,chains:t,optionalChains:n,optionalEvents:y$,optionalMethods:g$,rpcMap:e,showQrModal:!1,metadata:{description:this.privyAppName,name:this.privyAppName,url:window.location.origin,icons:[]}});return r.on("display_uri",e=>{if(r.signer.abortPairingAttempt(),function(){try{localStorage.removeItem(ZW)}catch{}}(),!this.showPrivyQrModal)throw new Rd("WalletConnect modal not available - Privy handles wallet connections through its own UI");if(si.Fr&&this.walletEntry){let{redirect:t,href:n}=function(e,t){let n=KW(t);if(n.deepLink)return JW(n.deepLink,e);if(n.universalLink)return QW(n.universalLink,e);throw new jd(`Unsupported wallet ${t.id}`)}(e,this.walletEntry);XW(t,"_self"),function({href:e,name:t}){try{localStorage.setItem(ZW,JSON.stringify({href:e,name:t}))}catch{}}({href:n,name:this.walletEntry.metadata?.shortName||this.walletEntry.name});let r=GW(e,this.walletEntry);return this.redirectUri=t,this.fallbackUniversalRedirectUri=r?.redirect,this.showPrivyQrModal({native:t,universal:t})}if(this.redirectUri=void 0,this.walletEntry){let t=GW(e,this.walletEntry);this.fallbackUniversalRedirectUri=t?.redirect}this.showPrivyQrModal({native:e,universal:void 0})}),r.on("connect",()=>{r.session?.peer.metadata.url&&(this.walletEntry=WH(r.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown")}),r}async enableProvider(){return this.walletProvider?.connected?Promise.resolve(this.walletProvider.accounts):await(this.walletProvider?.enable())}setWalletEntry(e,t){this.walletEntry=e,this.showPrivyQrModal=t}constructor({walletConnectCloudProjectId:e,rpcConfig:t,chains:n,defaultChain:r,shouldEnforceDefaultChainOnConnect:i,privyAppId:s,privyAppName:o,walletClientType:a}){super(a||"unknown",n,r,t),this.connectorType="wallet_connect_v2",this.privyAppId=s,this.privyAppName=o,this.walletConnectCloudProjectId=e,this.rpcConfig=t,this.shouldEnforceDefaultChainOnConnect=i,this.proxyProvider=new xH(void 0,this.rpcTimeoutDuration),a&&(this.walletEntry=(e=>FH.getState().listings.find(({slug:t})=>VH(t)===VH(e)))(a),this.walletClientType=a)}}function ZH({src:e,...t}){return(0,ri.jsx)("img",{src:e,...t,style:{display:"none"}})}const YH=(0,ei.createContext)({currentScreen:null,lastScreen:null,navigate:Gd,navigateBack:Gd,resetNavigation:Gd,setModalData:Gd,onUserCloseViaDialogOrKeybindRef:void 0}),JH=e=>{let t=Mf(),n=e.authenticated,[r,i]=(0,ei.useState)(e.initialScreen);(0,ei.useEffect)(()=>{n||!e.initialScreen||e.initialScreen.isUnauthenticatedScreem||e.setInitialScreen(null)},[n]);let s=(0,ei.useRef)(null);(0,ei.useEffect)(()=>{e.open||(s.current=null)},[e.open]),(0,ei.useEffect)(()=>{s.current=null},[e.initialScreen]);let o={data:e.data,setModalData:e.setModalData,currentScreen:e.initialScreen,lastScreen:r,navigate:(t,n=!0)=>{e.setInitialScreen(t),n&&i(e.initialScreen)},navigateBack:()=>{e.setInitialScreen(r)},resetNavigation:()=>{e.setInitialScreen(null),i(null)},onUserCloseViaDialogOrKeybindRef:s};return(0,ri.jsxs)(YH.Provider,{value:o,children:[("string"==typeof t.appearance.logo||"img"===t.appearance.logo?.type)&&(0,ri.jsx)(ZH,{src:"string"==typeof t.appearance.logo?t.appearance.logo:t.appearance.logo.props.src}),e.children]})},QH=()=>(0,ei.useContext)(YH),XH=(0,ei.createContext)({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:Gd,login:Gd,connectOrCreateWallet:Gd,linkEmail:Gd,linkPhone:Gd,linkFarcaster:Gd,linkWallet:Gd,startCrossAppAuthFlow:Gd,linkGoogle:Gd,linkTwitter:Gd,linkTwitch:Gd,linkDiscord:Gd,linkGithub:Gd,linkSpotify:Gd,linkInstagram:Gd,linkTelegram:Gd,linkTiktok:Gd,linkLine:Gd,linkLinkedIn:Gd,linkApple:Gd,linkPasskey:Gd,updateEmail:Gd,updatePhone:Gd,logout:Gd,getAccessToken:Gd,unlinkEmail:Gd,unlinkPhone:Gd,unlinkWallet:Gd,unlinkGoogle:Gd,unlinkTwitter:Gd,unlinkTwitch:Gd,unlinkDiscord:Gd,unlinkGithub:Gd,unlinkSpotify:Gd,unlinkInstagram:Gd,unlinkTiktok:Gd,unlinkLine:Gd,unlinkLinkedIn:Gd,unlinkApple:Gd,unlinkCrossAppAccount:Gd,unlinkFarcaster:Gd,unlinkTelegram:Gd,unlinkPasskey:Gd,signMessage:Gd,signTypedData:Gd,enrollInMfa:Gd,initEnrollmentWithSms:Gd,initEnrollmentWithTotp:Gd,initEnrollmentWithPasskey:Gd,promptMfa:Gd,init:Gd,submitEnrollmentWithSms:Gd,submitEnrollmentWithTotp:Gd,submitEnrollmentWithPasskey:Gd,unenroll:Gd,submit:Gd,cancel:Gd,sendTransaction:Gd,signTransaction:Gd,exportWallet:Gd,setWalletPassword:Gd,setWalletRecovery:Gd,requestFarcasterSignerFromWarpcast:Gd,getFarcasterSignerPublicKey:Gd,signFarcasterMessage:Gd,signMessageWithCrossAppWallet:Gd,signTypedDataWithCrossAppWallet:Gd,sendTransactionWithCrossAppWallet:Gd,signTransactionWithCrossAppWallet:Gd,isModalOpen:!1,mfaMethods:[]}),eV=()=>(0,ei.useContext)(XH),tV=Ay.div.withConfig({displayName:"Grow",componentId:"sc-681ff332-0"})(["text-align:left;flex-grow:1;"]),nV=Ay.div.withConfig({displayName:"AlignBottom",componentId:"sc-681ff332-1"})(["display:flex;flex-direction:column;justify-content:flex-end;flex-grow:1;"]),rV=Ay.div.withConfig({displayName:"LoginMethodContainer",componentId:"sc-681ff332-2"})(["display:flex;flex-direction:column;gap:8px;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),iV=Ay(rV).withConfig({displayName:"LoginMethodContainerWithScrollShadows",componentId:"sc-681ff332-3"})([""," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;max-height:400px;overflow-y:auto;scrollbar-width:none;padding:3px;"],e=>"light"===e.$colorScheme?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":"dark"===e.$colorScheme?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0);let sV=Cy(["&&{width:100%;font-size:16px;line-height:24px;min-height:56px;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;align-items:center;color:var(--privy-color-foreground);padding:10px 12px;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);transition:background-color 200ms ease;cursor:pointer;&:hover{background-color:var(--privy-color-background-2);}&:disabled{cursor:pointer;background-color:var(--privy-color-background-2);}}"]);const oV=Ay.div.withConfig({displayName:"Subtitle",componentId:"sc-681ff332-4"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),aV=Ay.button.attrs({className:"login-method-button"}).withConfig({displayName:"LoginMethodButton",componentId:"sc-681ff332-5"})(["",""],sV),cV=Ay.div.withConfig({displayName:"LoginMethodIconWrapper",componentId:"sc-681ff332-7"})(["width:32px;height:32px;border-radius:",";background:",";display:flex;align-items:center;justify-content:center;flex-shrink:0;svg{width:",";height:",";color:",";}"],e=>e.$fullSize?"0":"4px",e=>e.$fullSize?"transparent":"var(--privy-color-background-2)",e=>e.$fullSize?"32px":"18px",e=>e.$fullSize?"32px":"18px",e=>e.$fullSize?"inherit":"var(--privy-color-icon-muted)"),lV=Ay.div.withConfig({displayName:"Hide",componentId:"sc-681ff332-8"})(["width:100%;height:100%;min-height:inherit;display:flex;flex-direction:column;",""],e=>e.$if?"display: none;":""),uV=Ay.div.withConfig({displayName:"EmptyWalletState",componentId:"sc-681ff332-9"})(["width:100%;height:100%;padding:",";"],e=>e.$withPadding?"64px 0px":"0px"),dV=Ay.div.withConfig({displayName:"Header",componentId:"sc-681ff332-10"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:32px;gap:12px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]);function hV(e){return(0,ri.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 460 40",...e,children:(0,ri.jsx)("g",{fill:e.color||"var(--privy-color-foreground)",children:(0,ri.jsx)("path",{d:"M0 15.4v15.38h4.64V19.96h3.58c2.47 0 3.63-.01 3.77-.02 1-.08 1.49-.15 2.18-.3a9.45 9.45 0 0 0 4.6-2.37c1.66-1.57 2.64-3.87 2.81-6.56.02-.3.02-1.19 0-1.49-.1-1.77-.56-3.35-1.36-4.72A8.84 8.84 0 0 0 15.14.57c-.93-.3-1.75-.43-3.09-.54C11.9.02 10.2 0 5.93 0H0ZM10.85 4c1.85.05 3.1.45 4.16 1.3.22.17.54.49.69.68a5.97 5.97 0 0 1 1.19 3.13c.04.35.04 1.36 0 1.71-.08.68-.23 1.3-.44 1.85a4.8 4.8 0 0 1-1.09 1.68A5.63 5.63 0 0 1 12 15.92c-.6.08-.4.08-4.01.09H4.64V3.98h2.9c1.6 0 3.08 0 3.31.02ZM187.65 5.71v5.72h-.27l-.09-.14a15.9 15.9 0 0 0-1.21-1.73c-.43-.5-1-.95-1.7-1.36-.54-.3-1.05-.5-1.73-.63a8.98 8.98 0 0 0-1.7-.17 8.84 8.84 0 0 0-7.8 4.03 12.95 12.95 0 0 0-2.03 6.39c-.07.98-.06 2.15.02 3.13.2 2.47.87 4.53 2.02 6.25a8.98 8.98 0 0 0 10.22 3.65 6.5 6.5 0 0 0 2.8-1.93c.41-.51.84-1.1 1.1-1.55l.1-.17h.37v3.58h4.38V0h-4.48Zm-5.24 5.54c1.3.14 2.3.6 3.17 1.48.9.9 1.5 2.09 1.85 3.64.36 1.6.39 3.72.06 5.43a8.13 8.13 0 0 1-1.54 3.62 5.1 5.1 0 0 1-3.93 1.96 6.13 6.13 0 0 1-2.32-.31 5.87 5.87 0 0 1-3.33-3.5c-.39-1-.62-2.05-.72-3.32-.03-.32-.04-1.35-.02-1.73.08-1.56.4-2.91.96-4.05a6.2 6.2 0 0 1 1.06-1.58 5.08 5.08 0 0 1 3.6-1.66c.25-.02.9 0 1.16.02ZM210.07 15.39l.01 15.38h4.38l.01-3.57h.37l.09.15c.24.44.84 1.26 1.21 1.7a6.79 6.79 0 0 0 2.57 1.75 9.3 9.3 0 0 0 6.86-.49 9.28 9.28 0 0 0 4.05-4.07A13.05 13.05 0 0 0 231 21.6c.21-1.73.18-3.7-.09-5.32a13.03 13.03 0 0 0-1.5-4.3 9.1 9.1 0 0 0-3.75-3.63 9.15 9.15 0 0 0-4.43-.96 7.46 7.46 0 0 0-2.8.5A7.07 7.07 0 0 0 216 9.7c-.4.52-.82 1.12-1.1 1.59l-.07.14h-.27V0h-4.5Zm11.13-4.14c1.07.1 1.94.44 2.7 1.04a6.1 6.1 0 0 1 1.64 1.98c.43.84.78 2 .94 3.11.15 1.16.16 2.4.02 3.54a9.34 9.34 0 0 1-1.39 4.03 5.33 5.33 0 0 1-2.69 2.15c-.9.3-2.04.38-3.06.2a5.14 5.14 0 0 1-3.45-2.37 6.03 6.03 0 0 1-.45-.8c-.5-1.03-.8-2.2-.92-3.58-.04-.49-.06-.89-.05-1.53.01-.76.05-1.23.13-1.85.38-2.53 1.47-4.38 3.15-5.31a5.46 5.46 0 0 1 2.3-.63 10 10 0 0 1 1.13.02ZM69.05 2.17l-.01 2.77V7.7h-3.36v3.6h3.36v6.8l.01 7.15c.06 1.4.4 2.44 1.1 3.37a5.8 5.8 0 0 0 2.97 2.07c.91.3 1.83.42 2.9.38a8.71 8.71 0 0 0 2.66-.48l-.8-3.7-.38.06a4.96 4.96 0 0 1-2.43-.06c-.33-.1-.56-.25-.8-.49-.4-.41-.6-.88-.7-1.67-.02-.2-.02-.62-.03-6.82v-6.6h4.73V7.7h-4.73V2.16h-4.49ZM133.34 2.17V7.7h-3.39v3.6h3.38v6.9l.01 7.17a5.66 5.66 0 0 0 2.36 4.49c.85.6 2.03 1.03 3.26 1.17.85.1 2.03.05 2.81-.1.3-.06.75-.18 1-.26l.2-.06v-.05l-.81-3.67-.37.06a4.99 4.99 0 0 1-1.8.09c-.85-.13-1.32-.4-1.7-.97a2.63 2.63 0 0 1-.39-1.04c-.06-.4-.06 0-.06-7.1V11.3h4.7V7.7h-4.7l-.01-2.77V2.16h-4.49ZM293.41 2.36a14.56 14.56 0 0 0-13.7 16.07 14.59 14.59 0 0 0 21.86 11.08 14.5 14.5 0 0 0 7.11-14.07 14.61 14.61 0 0 0-6.53-10.73 14.49 14.49 0 0 0-8.74-2.35ZM350.8 2.36a10.17 10.17 0 0 0-7.56 4.2c-.16.2-.45.63-.58.83l-.05.1h-.47l-.01-4.36h-7.36v36.4h7.82V27.27h.49l.05.07a11.3 11.3 0 0 0 7.49 4.15 10.52 10.52 0 0 0 9.38-4.1c1.66-2.1 2.73-4.9 3.07-8.06.1-.87.13-1.4.13-2.37 0-.8 0-1.1-.07-1.76a15.95 15.95 0 0 0-3.23-8.72 12.8 12.8 0 0 0-1.85-1.84 10.49 10.49 0 0 0-7.26-2.28Zm-.94 6.05c1.27.15 2.33.65 3.2 1.5.98.96 1.67 2.31 2.03 4 .34 1.57.38 3.68.12 5.39a9.78 9.78 0 0 1-1.04 3.25c-.14.25-.44.69-.6.89a5.35 5.35 0 0 1-4.31 2.07 5.25 5.25 0 0 1-4.41-1.9 7.35 7.35 0 0 1-1.26-2.32 14.09 14.09 0 0 1-.62-4.83c.05-1.98.38-3.53 1.02-4.85a5.63 5.63 0 0 1 2.5-2.65c.66-.34 1.3-.5 2.14-.58.18-.02 1.04 0 1.23.03ZM363.63 3.1l-.01 3.2v3.16h1.43c1.26.01 1.44.02 1.54.04.42.09.66.28.79.62.08.23.08.08.08 2.96a911.57 911.57 0 0 1 .03 10.18v7.54h7.82v-7.4l.01-7.83c.03-.94.11-1.63.27-2.28.46-1.9 1.54-2.93 3.35-3.23.52-.08.2-.08 5-.08h4.4V3.08h-3.1c-3.48 0-3.91.01-4.67.1-1.83.2-3.04.79-3.96 1.88-.5.6-.9 1.32-1.26 2.26l-.06.17h-.46V3.09h-5.6c-4.46 0-5.6 0-5.6.02ZM390.8 16.95V30.8h3.87l3.86-.01V3.09h-7.73ZM400.6 3.1l-.01.4v.38l4.66 13.4 4.69 13.47.02.05h10.3l.03-.05 4.67-13.45 4.67-13.4V3.1h-7.43l-6.7 19.26h-.5l-3.28-9.5-3.31-9.64-.05-.12h-3.88l-3.88.01ZM430.98 3.1c-.01 0-.02.19-.02.4v.39l5.08 14.59c2.8 8.02 5.08 14.6 5.08 14.61.01.02-.22.02-4.8.02h-4.82v6.42h4.95c5.09 0 5.23 0 5.87-.06 3.15-.28 5.29-1.63 6.63-4.15.28-.55.44-.95.87-2.16L459 6.78l1-2.89v-.8h-7.43l-6.69 19.26h-.5l-3.27-9.46-3.31-9.64-.06-.16h-3.88l-3.88.01ZM36.57 7.36c-1.36.1-2.6.6-3.62 1.45a5.65 5.65 0 0 0-1.67 2.42l-.05.13H31V7.7h-4.35v23.08h4.5v-7.3c0-8 0-7.34.08-7.82a4.89 4.89 0 0 1 2.06-3.18c.83-.58 1.74-.89 2.87-.98a11.87 11.87 0 0 1 2.8.25H39v-4.3l-.21-.02c-.61-.07-1.74-.1-2.22-.07ZM51.08 7.41c-2.33.12-4.3.84-5.95 2.16a9.89 9.89 0 0 0-2.03 2.2 12.5 12.5 0 0 0-2 5.78 18.04 18.04 0 0 0 0 3.65 12.13 12.13 0 0 0 2.26 6.05 9.74 9.74 0 0 0 5 3.52c2.11.64 4.7.64 6.8 0a9.78 9.78 0 0 0 4.88-3.37c1.38-1.78 2.19-4 2.4-6.58.13-1.46.06-3.06-.18-4.42a11.24 11.24 0 0 0-3.58-6.6 10 10 0 0 0-5.75-2.35c-.56-.06-1.31-.07-1.85-.04Zm1.42 3.78c.88.1 1.62.34 2.28.75a6.13 6.13 0 0 1 1.99 2.15 10.31 10.31 0 0 1 1.2 5c.02 1.23-.12 2.44-.42 3.51a7.14 7.14 0 0 1-1.81 3.32c-.61.6-1.2.98-1.95 1.24a6 6 0 0 1-2 .3 5.7 5.7 0 0 1-2.72-.6 5 5 0 0 1-1.28-.94A7.1 7.1 0 0 1 46 22.73c-.57-1.99-.6-4.46-.08-6.5a7.24 7.24 0 0 1 2.03-3.67 5.13 5.13 0 0 1 3.35-1.4 11 11 0 0 1 1.2.03ZM92.05 7.4c-.96.06-1.56.15-2.3.33a9.62 9.62 0 0 0-6.09 4.66 13.5 13.5 0 0 0-1.71 7c0 .83 0 1.04.06 1.6.16 1.77.58 3.32 1.29 4.7A9.72 9.72 0 0 0 90.28 31c1.84.37 4.08.32 5.85-.13a9.07 9.07 0 0 0 5.02-3.1A7.64 7.64 0 0 0 102.5 25l-2.11-.39-2.11-.38-.08.13a4.72 4.72 0 0 1-2.35 2.55 6.3 6.3 0 0 1-2.23.58c-.29.03-1.13.03-1.44 0a6.35 6.35 0 0 1-3.02-1.04 5.93 5.93 0 0 1-2.02-2.43 8.44 8.44 0 0 1-.72-3.18v-.26h16.38v-.81c0-1.83-.06-2.76-.25-3.87-.2-1.22-.53-2.24-1.05-3.28a8.9 8.9 0 0 0-2.66-3.26 10.1 10.1 0 0 0-5.34-1.94 18.3 18.3 0 0 0-1.46-.03Zm1.3 3.75c1.2.13 2.19.55 3.05 1.3a5.8 5.8 0 0 1 1.78 2.96c.13.51.21 1.17.21 1.66v.15H86.43v-.12c.08-.97.3-1.78.72-2.61.5-1 1.2-1.8 2.14-2.42a5.32 5.32 0 0 1 2.9-.95c.2-.01.97 0 1.17.03ZM116.79 7.41c-2 .1-3.73.65-5.22 1.65a10.7 10.7 0 0 0-4.25 6.06 16.1 16.1 0 0 0-.5 5.8c.2 2.17.84 4.13 1.88 5.76.58.9 1.32 1.73 2.15 2.4a9.37 9.37 0 0 0 3.6 1.8 12.06 12.06 0 0 0 3.92.34 10.2 10.2 0 0 0 3.84-.95 8.31 8.31 0 0 0 4.76-6.75l.01-.04h-4.37l-.05.16a4.87 4.87 0 0 1-4.24 3.75c-.59.07-1.32.06-1.93-.05a5.47 5.47 0 0 1-3.5-2.27c-.56-.75-1-1.73-1.26-2.79a13.8 13.8 0 0 1-.16-5.24 7.77 7.77 0 0 1 2.1-4.3 5.48 5.48 0 0 1 2.15-1.3 6.4 6.4 0 0 1 3.89.1c.59.21 1.03.5 1.5.96a5.32 5.32 0 0 1 1.46 2.5l.04.15h4.37v-.06a8.22 8.22 0 0 0-5.31-6.94 10.98 10.98 0 0 0-4.88-.74ZM156.2 7.41a9.87 9.87 0 0 0-6 2.29 11.02 11.02 0 0 0-3.41 5.43c-.52 1.78-.68 3.9-.48 5.97.17 1.8.63 3.38 1.37 4.8a9.68 9.68 0 0 0 5.91 4.86c1.65.48 3.63.61 5.53.36 3.72-.49 6.55-2.62 7.56-5.69.12-.39.13-.42.1-.43-.02 0-4.13-.75-4.19-.75-.03 0-.04 0-.1.16-.18.42-.45.9-.72 1.22-.16.2-.49.53-.7.7-.67.54-1.5.9-2.43 1.08-.48.08-.83.11-1.41.11-.64 0-1.07-.04-1.6-.15a5.76 5.76 0 0 1-3.93-2.83 8 8 0 0 1-.99-3.79v-.16h16.38v-1.11l-.02-1.43c-.1-2.25-.53-4-1.35-5.59a9.24 9.24 0 0 0-6.18-4.75c-1.04-.26-2.2-.36-3.33-.3Zm1.45 3.74a5.35 5.35 0 0 1 3.66 1.94 6.1 6.1 0 0 1 1.38 4.01v.12h-11.97v-.06c0-.02 0-.14.02-.25a6.6 6.6 0 0 1 2.15-4.32 5.73 5.73 0 0 1 3.5-1.46c.25-.02 1 0 1.26.02ZM233.58 7.82l8.37 23.22a49.22 49.22 0 0 1-.67 1.9 5.36 5.36 0 0 1-1.14 1.8c-.41.4-.82.58-1.48.69-.27.04-1.03.03-1.35 0a8.05 8.05 0 0 1-1.1-.23l-1.08 3.67c0 .02.32.14.66.22.83.21 1.57.29 2.56.28.56-.01.8-.03 1.24-.1 2.71-.4 4.66-2.09 5.86-5.08l9.64-26.44c0-.02-4.82-.06-4.83-.05l-2.93 8.96-2.91 8.94h-.24l-.22-.65-2.91-8.95-2.7-8.3H233.53ZM293.05 35.8c-1.18.04-1.93.09-2.8.16-2.52.24-4.53.69-5.43 1.23-.7.41-.76.86-.2 1.28.88.66 3.29 1.19 6.36 1.4a48.55 48.55 0 0 0 5.75.05c3.47-.19 6.24-.78 7.11-1.5.22-.19.3-.34.3-.53 0-.1 0-.12-.04-.22-.35-.69-2.32-1.3-5.25-1.63a41.09 41.09 0 0 0-5.8-.24Zm0 0"})})})}let fV=Ay.span.withConfig({displayName:"TermsAndConditionsContainer",componentId:"sc-ff3bd734-0"})(["margin-top:16px;font-size:13px;text-align:center;color:var(--privy-color-foreground-3);display:block;&& > a{color:var(--privy-color-accent);}"]);function pV({app:{legal:{privacyPolicyUrl:e,termsAndConditionsUrl:t,requireUsersAcceptTerms:n}},alwaysShowImplicitConsent:r}){let i=!(!e||!t);return n&&!r||!t&&!e?(0,ri.jsx)(fV,{}):(0,ri.jsxs)(fV,{children:["By logging in I agree to the"," ",t&&(0,ri.jsx)("a",{href:t,target:"_blank",children:i?"Terms":"Terms of Service"}),i&&" & ",e&&(0,ri.jsx)("a",{href:e,target:"_blank",children:"Privacy Policy"})]})}const gV=({className:e})=>{let{appearance:t}=Mf();return(0,ri.jsx)(yV,{className:e,children:t.footerLogo??(0,ri.jsx)(mV,{href:"https://www.privy.io/",target:"_blank",id:"protected-by-privy",children:(0,ri.jsx)(hV,{color:"currentColor",height:13,width:150})})})};let mV=Ay.a.withConfig({displayName:"PrivyLink",componentId:"sc-ff3bd734-1"})(["&&{padding:0;color:var(--privy-color-foreground-3);}"]);const yV=Ay.div.withConfig({displayName:"ModalFooter",componentId:"sc-ff3bd734-2"})(["display:flex;align-items:center;justify-content:center;padding-top:8px;padding-bottom:12px;gap:8px;font-size:13px;&& a{padding:0.5rem 0;&:hover{text-decoration:none;}}@media all and (display-mode:standalone){padding-bottom:30px;}"]),wV=({success:e,fail:t})=>(0,ri.jsxs)(vV,{children:[(0,ri.jsx)(bV,{children:(0,ri.jsx)(EV,{className:e?"success":t?"fail":""})}),(0,ri.jsx)(bV,{children:(0,ri.jsx)(xV,{className:e?"success":t?"fail":""})})]});let bV=Ay.span.withConfig({displayName:"PositionedAbsoluteLoader",componentId:"sc-aba6339d-0"})(["&&{position:absolute;top:0;left:0;z-index:2;}"]),vV=Ay.span.withConfig({displayName:"ConnectionLoaderContainer",componentId:"sc-aba6339d-1"})(["position:relative;width:82px;height:82px;display:inline-block;"]);const xV=Ay.span.withConfig({displayName:"Loader",componentId:"sc-aba6339d-2"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;}@keyframes rotation{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}&&&.success{border-color:var(--privy-color-icon-success);border-bottom-color:var(--privy-color-icon-success);}&&&.fail{border-color:var(--privy-color-icon-error);border-bottom-color:var(--privy-color-icon-error);}"],e=>e.color??"var(--privy-color-icon-subtle)"),EV=Ay(xV).withConfig({displayName:"LoaderFaint",componentId:"sc-aba6339d-3"})(["&&{border-bottom-color:",";border-color:",";animation:none;opacity:0.5;}"],e=>e.color??"var(--privy-color-border-default)",e=>e.color??"var(--privy-color-border-default)"),kV=e=>(0,ri.jsx)(_V,{color:e.color||"var(--privy-color-foreground-3)"});let _V=Ay(xV).withConfig({displayName:"StyledButtonLoader",componentId:"sc-aba6339d-4"})(["&&{height:1rem;width:1rem;margin:2px 0;border-width:1.5px;transition:border-color 200ms ease;}"]);const CV=({variant:e="primary",size:t="lg",children:n,success:r,...i})=>{switch(e){case"secondary":return(0,ri.jsx)(OV,{size:t,...i,children:n});case"error":return(0,ri.jsx)(OV,{$warn:!0,size:t,...i,children:n});case"muted":return(0,ri.jsx)(jV,{size:t,...i,children:n});default:return(0,ri.jsx)(IV,{size:t,success:r,...i,children:n})}},SV=Ay.button.withConfig({displayName:"BaseButton",componentId:"sc-e537b447-0"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:auto;cursor:pointer;border-radius:",";font-size:14px;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{height:",";padding:0 ",";}"],({$size:e})=>"sm"===e?"6px":"var(--privy-border-radius-sm)",({$size:e})=>"sm"===e?"28px":"48px",({$size:e})=>"sm"===e?"10px":"16px"),IV=({children:e,loading:t,disabled:n,success:r,size:i="lg",loadingText:s="Loading...",as:o,onClick:a,...c})=>{let l="a"===o,u=!(!t&&!n);return(0,ri.jsx)(PV,{as:o,disabled:l?void 0:u,"aria-disabled":l?u:void 0,$success:r,$size:i,onClick:e=>{l&&u?e.preventDefault():a?.(e)},...c,children:t?(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(kV,{}),s?(0,ri.jsx)("span",{style:{marginLeft:"8px"},children:s}):null]}):e})},AV=({children:e,loading:t,disabled:n,...r})=>(0,ri.jsx)(TV,{disabled:n,...r,children:t?(0,ri.jsx)(kV,{color:"var(--privy-color-foreground-accent)"}):e});let TV=Ay(SV).withConfig({displayName:"StyledPrimaryButtonWithoutGray",componentId:"sc-e537b447-1"})(["position:relative;&&{background-color:var(--privy-color-accent);color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:var(--privy-color-accent-dark);}&:active{background-color:var(--privy-color-accent-dark);}&:disabled,&:hover:disabled,&:active:disabled{cursor:not-allowed;color:var(--privy-color-foreground-disabled);background-color:var(--privy-color-accent-dark);}"]),PV=Ay(SV).withConfig({displayName:"StyledPrimaryButton",componentId:"sc-e537b447-2"})(["position:relative;&&{background-color:",";color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:",";}&:active{background-color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],e=>e.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",e=>e.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)",e=>e.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)",e=>e.disabled&&Cy(["&&&,&&&:hover,&&&:active{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"]));const OV=({children:e,loading:t,disabled:n,size:r="lg",loadingText:i="Loading...",as:s,onClick:o,...a})=>{let c="a"===s,l=!(!t&&!n);return(0,ri.jsx)(NV,{as:s,disabled:c?void 0:l,"aria-disabled":c?l:void 0,$size:r,onClick:e=>{c&&l?e.preventDefault():o?.(e)},...a,children:t?(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(kV,{}),i?(0,ri.jsx)("span",{style:{marginLeft:"8px"},children:i}):null]}):e})},jV=({children:e,loading:t,disabled:n,size:r="lg",loadingText:i="Loading...",as:s,onClick:o,...a})=>{let c="a"===s,l=!(!t&&!n);return(0,ri.jsx)(RV,{as:s,disabled:c?void 0:l,"aria-disabled":c?l:void 0,$size:r,onClick:e=>{c&&l?e.preventDefault():o?.(e)},...a,children:t?(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(kV,{}),i?(0,ri.jsx)("span",{style:{marginLeft:"8px"},children:i}):null]}):e})};let NV=Ay(SV).withConfig({displayName:"StyledSecondaryButton",componentId:"sc-e537b447-3"})(["&&{border-width:1px;border-style:solid;border-color:",";background-color:var(--privy-color-background);color:",";transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:",";background-color:",";color:",";}&:active{border-color:",";background-color:",";color:",";}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],e=>e.$warn?"var(--privy-color-border-error)":"var(--privy-color-accent)",e=>e.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",e=>e.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive-hover)",e=>e.$warn?"var(--privy-color-error-light)":"var(--privy-color-info-bg-hover)",e=>e.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",e=>e.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive)",e=>e.$warn?"var(--privy-color-error-bg-hover)":"var(--privy-color-info-bg)",e=>e.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",e=>e.disabled&&Cy(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"])),RV=Ay(SV).withConfig({displayName:"StyledMutedButton",componentId:"sc-e537b447-4"})(["&&{border-width:1px;border-style:solid;border-color:var(--privy-color-border-default);background-color:transparent;color:var(--privy-color-text-muted);transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg-hover);color:var(--privy-color-foreground-2);}&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg);color:var(--privy-color-foreground-2);}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],e=>e.disabled&&Cy(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"]));const $V=({children:e,onClick:t,disabled:n,isSubmitting:r,...i})=>(0,ri.jsxs)(MV,{$isSubmitting:r,onClick:t,disabled:n,...i,children:[(0,ri.jsx)("span",{children:e}),(0,ri.jsx)("span",{children:(0,ri.jsx)(kV,{})})]});let MV=Ay.button.withConfig({displayName:"StyledEmbeddedButton",componentId:"sc-e537b447-7"})(["&&{color:var(--privy-color-accent);font-size:16px;font-style:normal;font-weight:500;line-height:24px;cursor:pointer;border-radius:0px var(--privy-border-radius-mdlg) var(--privy-border-radius-mdlg) 0px;border:none;transition:color 200ms ease;@media (min-width:441px){font-size:14px;}:hover{color:var(--privy-color-accent-dark);}&& > :first-child{opacity:",";}&& > :last-child{position:absolute;display:flex;top:50%;left:50%;transform:translate3d(-50%,-50%,0);opacity:",";}:disabled,:hover:disabled{color:var(--privy-color-foreground-disabled);cursor:not-allowed;}}"],e=>e.$isSubmitting?0:1,e=>e.$isSubmitting?1:0);const LV=({backFn:e})=>(0,ri.jsx)("div",{children:(0,ri.jsx)(FV,{onClick:e,children:(0,ri.jsx)(Ny,{height:"16px",width:"16px",strokeWidth:2})})}),BV=({infoFn:e})=>(0,ri.jsx)("div",{children:(0,ri.jsx)(zV,{"aria-label":"info",onClick:e,children:(0,ri.jsx)($y,{height:"22px",width:"22px",strokeWidth:2})})}),UV=e=>(0,ri.jsx)("div",{children:(0,ri.jsx)(FV,{"aria-label":"close modal",onClick:e.onClose,children:(0,ri.jsx)(Ly,{height:"16px",width:"16px",strokeWidth:2})})}),DV=({backFn:e,infoFn:t,onClose:n,title:r,closeable:i=!0,className:s})=>{let{closePrivyModal:o}=Jd(),a=Mf();return(0,ri.jsxs)(WV,{className:s,children:[(0,ri.jsxs)(qV,{children:[e&&(0,ri.jsx)(LV,{backFn:e}),t&&(0,ri.jsx)(BV,{infoFn:t})]}),r&&(0,ri.jsx)(VV,{id:"privy-dialog-title",children:r}),(0,ri.jsx)(HV,{children:!a.render.standalone&&i&&(0,ri.jsx)(UV,{onClose:n||(()=>o())})})]})};let FV=Ay.button.withConfig({displayName:"StyledButton",componentId:"sc-e033e17a-0"})(["&&{cursor:pointer;display:flex;opacity:0.6;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-full);padding:4px;> svg{margin:auto;color:var(--privy-color-foreground);}:hover{opacity:1;}}"]),zV=Ay(FV).withConfig({displayName:"TransparentStyledButton",componentId:"sc-e033e17a-1"})(["&&{background-color:transparent;}"]),WV=Ay.div.withConfig({displayName:"StyledHeader",componentId:"sc-e033e17a-2"})(["padding:16px 0;display:flex;align-items:center;justify-content:space-between;h2{font-size:16px;line-height:24px;font-weight:600;color:var(--privy-color-foreground);}"]),qV=Ay.div.withConfig({displayName:"LeftActionContainer",componentId:"sc-e033e17a-3"})(["flex:1;align-items:center;display:flex;gap:8px;"]),HV=Ay.div.withConfig({displayName:"RightActionContainer",componentId:"sc-e033e17a-4"})(["flex:1;display:flex;justify-content:flex-end;"]),VV=Ay.div.withConfig({displayName:"TitleContainer",componentId:"sc-e033e17a-5"})(["overflow:hidden;white-space:nowrap;max-width:100%;text-overflow:ellipsis;text-align:center;color:var(--privy-color-foreground-2);"]);const KV=({size:e,centerIcon:t})=>(0,ri.jsx)(GV,{$size:e,children:(0,ri.jsxs)(ZV,{children:[(0,ri.jsx)(JV,{}),(0,ri.jsx)(QV,{}),t?(0,ri.jsx)(YV,{children:t}):null]})});let GV=Ay.div.withConfig({displayName:"LoadingContainer",componentId:"sc-ebc93df8-0"})(["--spinner-size:",";display:inline-flex;justify-content:center;align-items:center;@media all and (display-mode:standalone){margin-bottom:30px;}"],e=>e.$size?e.$size:"96px"),ZV=Ay.div.withConfig({displayName:"SpinnerContainer",componentId:"sc-ebc93df8-1"})(["position:relative;height:var(--spinner-size);width:var(--spinner-size);opacity:1;animation:fadein 200ms ease;"]),YV=Ay.div.withConfig({displayName:"CenterIconContainer",componentId:"sc-ebc93df8-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;svg,img{width:calc(var(--spinner-size) * 0.4);height:calc(var(--spinner-size) * 0.4);border-radius:var(--privy-border-radius-full);}"]),JV=Ay.div.withConfig({displayName:"CircleFixed",componentId:"sc-ebc93df8-3"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);&&{border:4px solid var(--privy-color-border-default);border-radius:50%;}"]),QV=Ay.div.withConfig({displayName:"CircleRotate",componentId:"sc-ebc93df8-4"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:var(--privy-color-icon-subtle) transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"]);const XV=Ay.div.withConfig({displayName:"ScreenRoot",componentId:"sc-cc9e9a32-0"})(["--screen-space:16px;--screen-space-lg:calc(var(--screen-space) * 1.5);position:relative;overflow:hidden;margin:0 calc(-1 * var(--screen-space));height:100%;border-radius:var(--privy-border-radius-lg);"]),eK=Ay.div.withConfig({displayName:"ScreenRootInner",componentId:"sc-cc9e9a32-1"})(["display:flex;flex-direction:column;gap:calc(var(--screen-space) * 1.5);width:100%;background:var(--privy-color-background);padding:0 var(--screen-space-lg) var(--screen-space);height:100%;border-radius:var(--privy-border-radius-lg);"]),tK=Ay.div.withConfig({displayName:"HeaderContainer",componentId:"sc-cc9e9a32-2"})(["position:relative;display:flex;flex-direction:column;"]),nK=Ay(DV).withConfig({displayName:"StyledModalHeader",componentId:"sc-cc9e9a32-3"})(["margin:0 -8px;"]),rK=Ay.div.withConfig({displayName:"BodyContainer",componentId:"sc-cc9e9a32-4"})(["flex:1 1 auto;display:flex;flex-direction:column;overflow-y:auto;padding:3px;margin:-3px;&::-webkit-scrollbar{display:none;}scrollbar-gutter:stable both-edges;scrollbar-width:none;-ms-overflow-style:none;"," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;"],({$colorScheme:e})=>"light"===e?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":"dark"===e?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0),iK=Ay.div.withConfig({displayName:"FooterContainer",componentId:"sc-cc9e9a32-5"})(["display:flex;flex-direction:column;gap:var(--screen-space-lg);"]);let sK=Ay.div.withConfig({displayName:"CenteredHeader",componentId:"sc-cc9e9a32-6"})(["text-align:center;display:flex;flex-direction:column;align-items:center;gap:var(--screen-space);"]),oK=Ay.div.withConfig({displayName:"TitleContainer",componentId:"sc-cc9e9a32-7"})(["display:flex;flex-direction:column;gap:4px;"]),aK=Ay.h3.withConfig({displayName:"HeaderTitle",componentId:"sc-cc9e9a32-8"})(["&&{font-size:20px;line-height:32px;font-weight:500;color:var(--privy-color-foreground);margin:0;}"]),cK=Ay.p.withConfig({displayName:"HeaderSubtitle",componentId:"sc-cc9e9a32-9"})(["&&{margin:0;font-size:16px;font-weight:300;line-height:24px;color:var(--privy-color-foreground);}"]),lK=Ay.div.withConfig({displayName:"IconContainer",componentId:"sc-cc9e9a32-10"})(["background:",";border-radius:50%;width:64px;height:64px;display:flex;align-items:center;justify-content:center;"],({$variant:e})=>{switch(e){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"warning":return"var(--privy-color-warn, #FEF3C7)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";case"loading":case"logo":return"transparent";default:return"var(--privy-color-background-2)"}}),uK=Ay.div.withConfig({displayName:"LogoContainer",componentId:"sc-cc9e9a32-11"})(["display:flex;align-items:center;justify-content:center;margin-bottom:var(--screen-space);img,svg{max-height:90px;max-width:180px;}"]),dK=Ay.div.withConfig({displayName:"LoadingWithIconContainer",componentId:"sc-cc9e9a32-12"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > :first-child{position:relative;}> div > :last-child{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);}"]);const hK=({children:e,...t})=>(0,ri.jsx)(XV,{children:(0,ri.jsx)(eK,{...t,children:e})});let fK=Ay.div.withConfig({displayName:"ProgressBarContainer",componentId:"sc-cc9e9a32-13"})(["position:absolute;top:0;left:calc(-1 * var(--screen-space-lg));width:calc(100% + calc(var(--screen-space-lg) * 2));height:4px;background:var(--privy-color-background-2);border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden;"]),pK=Ay(gV).withConfig({displayName:"StyledBlobbyFooter",componentId:"sc-cc9e9a32-14"})(["padding:0;&& a{padding:0;color:var(--privy-color-foreground-3);}"]),gK=Ay.div.withConfig({displayName:"ProgressBarFill",componentId:"sc-cc9e9a32-15"})(["height:100%;width:","%;background:var(--privy-color-foreground-3);border-radius:2px;transition:width 300ms ease-in-out;"],({pct:e})=>e),mK=({step:e})=>e?(0,ri.jsx)(fK,{children:(0,ri.jsx)(gK,{pct:Math.min(100,e.current/e.total*100)})}):null;hK.Header=({title:e,subtitle:t,icon:n,iconVariant:r,iconLoadingStatus:i,showBack:s,onBack:o,showInfo:a,onInfo:c,showClose:l,onClose:u,step:d,...h})=>(0,ri.jsxs)(tK,{...h,children:[(0,ri.jsx)(nK,{backFn:s?o:void 0,infoFn:a?c:void 0,onClose:l?u:void 0,closeable:l}),(n||r||e||t)&&(0,ri.jsxs)(sK,{children:[n||r?(0,ri.jsx)(hK.Icon,{icon:n,variant:r,loadingStatus:i}):null,(0,ri.jsxs)(oK,{children:[e&&(0,ri.jsx)(aK,{children:e}),t&&(0,ri.jsx)(cK,{children:t})]})]}),d&&(0,ri.jsx)(mK,{step:d})]}),hK.Body=ei.forwardRef(({children:e,...t},n)=>(0,ri.jsx)(rK,{ref:n,...t,children:e})),hK.Body.displayName="Screen.Body",hK.Footer=({children:e,...t})=>(0,ri.jsx)(iK,{...t,children:e}),hK.Actions=({children:e,...t})=>(0,ri.jsx)(yK,{...t,children:e}),hK.HelpText=({children:e,...t})=>(0,ri.jsx)(wK,{...t,children:e}),hK.Watermark=()=>(0,ri.jsx)(pK,{}),hK.Icon=({icon:e,variant:t="subtle",loadingStatus:n})=>"logo"===t&&e?(0,ri.jsx)(uK,"string"==typeof e?{children:(0,ri.jsx)("img",{src:e,alt:""})}:ei.isValidElement(e)?{children:e}:{children:ei.createElement(e)}):"loading"===t?e?(0,ri.jsx)(dK,{children:(0,ri.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,ri.jsx)(wV,{success:n?.success,fail:n?.fail}),"string"==typeof e?(0,ri.jsx)("span",{style:{background:`url('${e}') 0 0 / contain`,height:"38px",width:"38px",borderRadius:"6px",margin:"auto",backgroundSize:"contain"}}):ei.isValidElement(e)?ei.cloneElement(e,{style:{width:"38px",height:"38px"}}):ei.createElement(e,{style:{width:"38px",height:"38px"}})]})}):(0,ri.jsx)(lK,{$variant:t,children:(0,ri.jsx)(KV,{size:"64px"})}):(0,ri.jsx)(lK,{$variant:t,children:e&&("string"==typeof e?(0,ri.jsx)("img",{src:e,alt:"",style:{width:"32px",height:"32px",borderRadius:"6px"}}):ei.isValidElement(e)?e:ei.createElement(e,{width:32,height:32,stroke:(()=>{switch(t){case"success":return"var(--privy-color-icon-success)";case"warning":return"var(--privy-color-icon-warning)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}})(),strokeWidth:2}))});let yK=Ay.div.withConfig({displayName:"ActionsContainer",componentId:"sc-cc9e9a32-16"})(["width:100%;display:flex;flex-direction:column;gap:calc(var(--screen-space) / 2);"]),wK=Ay.p.withConfig({displayName:"HelpTextContainer",componentId:"sc-cc9e9a32-17"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-foreground-3);font-size:14px;line-height:22px;& a{color:var(--privy-color-accent);}}"]);const bK=({primaryCta:e,secondaryCta:t,helpText:n,watermark:r=!0,children:i,...s})=>{let o=e||t?(0,ri.jsxs)(ri.Fragment,{children:[e&&(()=>{let{label:t,...n}=e,r=n.variant||"primary";return(0,ri.jsx)(CV,{...n,variant:r,style:{width:"100%",...n.style},children:t})})(),t&&(()=>{let{label:e,...n}=t,r=n.variant||"secondary";return(0,ri.jsx)(CV,{...n,variant:r,style:{width:"100%",...n.style},children:e})})()]}):null;return(0,ri.jsxs)(hK,{id:s.id,className:s.className,children:[(0,ri.jsx)(hK.Header,{...s}),i?(0,ri.jsx)(hK.Body,{children:i}):null,n||o||r?(0,ri.jsxs)(hK.Footer,{children:[n?(0,ri.jsx)(hK.HelpText,{children:n}):null,o?(0,ri.jsx)(hK.Actions,{children:o}):null,r?(0,ri.jsx)(hK.Watermark,{}):null]}):null]})},vK=({label:e,children:t,valueStyles:n})=>(0,ri.jsxs)(xK,{children:[(0,ri.jsx)("div",{children:e}),(0,ri.jsx)(EK,{style:{...n},children:t})]});let xK=Ay.div.withConfig({displayName:"StyledDetailsRow",componentId:"sc-4ebfdd45-0"})(["display:flex;align-items:center;justify-content:space-between;width:100%;> :first-child{color:var(--privy-color-foreground-3);text-align:left;}> :last-child{color:var(--privy-color-foreground-2);text-align:right;}"]),EK=Ay.div.withConfig({displayName:"ValueWrapper",componentId:"sc-4ebfdd45-1"})(["font-size:14px;line-height:100%;display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-full);background-color:var(--privy-color-background-2);padding:4px 8px;"]),kK=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}),_K=e=>kK.format(e);const CK=(e,t)=>{let n=_K(t*parseFloat(e));return"$0.00"!==n?n:"<$0.01"},SK=(e,t)=>{let n=_K(t*parseFloat((0,qf.c)(e)));return"$0.00"===n?"<$0.01":n},IK=(e,t,n=6,r=!1)=>`${AK(e,n,r)} ${t}`,AK=(e,t=6,n=!1)=>{let r=parseFloat((0,qf.c)(e)).toFixed(t).replace(/0+$/,"").replace(/\.$/,"");return n?r:`${"0"===r?"<0.001":r}`},TK=e=>e.reduce((e,t)=>e+t,0n),PK=(e,t)=>{let{chains:n}=Jd(),r=`https://etherscan.io/address/${t}`,i=`${((e,t)=>{let n=Number(e),r=t.find(e=>e.id===n);if(!r)throw new Rd(`Unsupported chainId ${e}`,4901);return r.blockExplorers?.default.url})(e,n)}/address/${t}`;if(!i)return r;try{new URL(i)}catch{return r}return i},OK=1e9,jK="11111111111111111111111111111111",NK="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",RK=["CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C","CPMDWBwJDtYax9qW7AyRuVC19Cc4L4Vcy4n2BHAbHkCW"],$K=["JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4"],MK={"solana:mainnet":{EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:{symbol:"USDC",decimals:6,address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:{symbol:"USDT",decimals:6,address:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},"solana:devnet":{"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU":{symbol:"USDC",decimals:6,address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"},EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS:{symbol:"USDT",decimals:6,address:"EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},"solana:testnet":{}};function LK(e,t){let n=parseFloat(e.toString())/OK,r=BK.format(t*n);return"$0.00"===r?"<$0.01":r}let BK=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2});function UK(e,t=6,n=!1,r=!1){let i=(parseFloat(e.toString())/1e9).toFixed(t).replace(/0+$/,"").replace(/\.$/,""),s=r?"":" SOL";return n?`${i}${s}`:`${"0"===i?"<0.001":i}${s}`}const DK=({weiQuantities:e,tokenPrice:t,tokenSymbol:n})=>{let r=TK(e),i=t?SK(r,t):void 0,s=IK(r,n);return(0,ri.jsx)(WK,{children:i||s})},FK=({weiQuantities:e,tokenPrice:t,tokenSymbol:n})=>{let r=TK(e),i=t?SK(r,t):void 0,s=IK(r,n);return(0,ri.jsx)(WK,{children:i?(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(qK,{children:"USD"}),"<$0.01"===i?(0,ri.jsxs)(VK,{children:[(0,ri.jsx)(HK,{children:"<"}),"$0.01"]}):i]}):s})},zK=({quantities:e,tokenPrice:t,tokenSymbol:n="SOL",tokenDecimals:r=9})=>{let i=e.reduce((e,t)=>e+t,0n),s=t&&"SOL"===n&&9===r?LK(i,t):void 0,o="SOL"===n&&9===r?UK(i):`${(0,Hf.J)(i,r)} ${n}`;return(0,ri.jsx)(WK,{children:s?(0,ri.jsx)(ri.Fragment,{children:"<$0.01"===s?(0,ri.jsxs)(VK,{children:[(0,ri.jsx)(HK,{children:"<"}),"$0.01"]}):s}):o})};let WK=Ay.span.withConfig({displayName:"StyledPriceDisplay",componentId:"sc-3cd56c8a-0"})(["font-size:14px;line-height:140%;display:flex;gap:4px;align-items:center;"]),qK=Ay.span.withConfig({displayName:"StyledPriceUnit",componentId:"sc-3cd56c8a-1"})(["font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);"]),HK=Ay.span.withConfig({displayName:"TinyLessThan",componentId:"sc-3cd56c8a-2"})(["font-size:10px;"]),VK=Ay.span.withConfig({displayName:"FlexCenter",componentId:"sc-3cd56c8a-3"})(["display:flex;align-items:center;"]);const KK=Ay.div.withConfig({displayName:"BottomPusherContainer",componentId:"sc-cb963810-0"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;margin-top:auto;gap:16px;flex-grow:100;"]),GK=Ay.div.withConfig({displayName:"CenteredItem",componentId:"sc-cb963810-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;width:100%;"]),ZK=Ay.div.withConfig({displayName:"HorizontallyCenteredItem",componentId:"sc-cb963810-2"})(["display:flex;flex-direction:column;align-items:center;width:100%;"]),YK=Ay(GK).withConfig({displayName:"CenteredItemWithPadding",componentId:"sc-cb963810-3"})(["padding:20px 0;"]),JK=Ay(GK).withConfig({displayName:"CenteredItemWithGap",componentId:"sc-cb963810-4"})(["gap:16px;"]),QK=Ay.div.withConfig({displayName:"FlexContainer",componentId:"sc-cb963810-5"})(["display:flex;flex-direction:column;width:100%;"]),XK=Ay.div.withConfig({displayName:"FixedGappedContainer",componentId:"sc-cb963810-6"})(["display:flex;flex-direction:column;gap:8px;"]),eG=Ay.div.withConfig({displayName:"StyledCalloutSection",componentId:"sc-cb963810-8"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;padding:16px;margin-top:16px;margin-bottom:16px;width:100%;background:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);&& h4{color:var(--privy-color-foreground-3);font-size:14px;text-decoration:underline;font-weight:medium;}&& p{color:var(--privy-color-foreground-3);font-size:14px;}"]),tG=Ay.div.withConfig({displayName:"RefactorSpacerTop",componentId:"sc-cb963810-9"})(["height:16px;"]),nG=Ay.div.withConfig({displayName:"RefactorSpacerBottom",componentId:"sc-cb963810-10"})(["height:12px;"]),rG=Ay.div.withConfig({displayName:"ConfigurableSpacer",componentId:"sc-cb963810-12"})(["height:","px;"],e=>e.height??"12"),iG=({gas:e,tokenPrice:t,tokenSymbol:n})=>(0,ri.jsxs)(QK,{style:{paddingBottom:"12px"},children:[(0,ri.jsxs)(oG,{children:[(0,ri.jsx)(cG,{children:"Est. Fees"}),(0,ri.jsx)("div",{children:(0,ri.jsx)(FK,{weiQuantities:[BigInt(e)],tokenPrice:t,tokenSymbol:n})})]}),t&&(0,ri.jsx)(aG,{children:`${IK(BigInt(e),n)}`})]}),sG=({value:e,gas:t,tokenPrice:n,tokenSymbol:r})=>{let i=BigInt(e??0)+BigInt(t);return(0,ri.jsxs)(QK,{children:[(0,ri.jsxs)(oG,{children:[(0,ri.jsx)(cG,{children:"Total (including fees)"}),(0,ri.jsx)("div",{children:(0,ri.jsx)(FK,{weiQuantities:[BigInt(e||0),BigInt(t)],tokenPrice:n,tokenSymbol:r})})]}),n&&(0,ri.jsx)(aG,{children:IK(i,r)})]})};let oG=Ay.div.withConfig({displayName:"TransactionTotalRow",componentId:"sc-f8ef9b74-0"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-top:4px;"]),aG=Ay.div.withConfig({displayName:"ValueConversionRow",componentId:"sc-f8ef9b74-1"})(["display:flex;flex-direction:row;height:12px;font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);font-weight:400;"]),cG=Ay.div.withConfig({displayName:"TotalText",componentId:"sc-f8ef9b74-2"})(["font-size:14px;line-height:22.4px;font-weight:400;"]);const lG=(0,ei.createContext)(void 0),uG=(0,ei.createContext)(void 0),dG=({defaultValue:e,children:t})=>{let[n,r]=(0,ei.useState)(e||null);return(0,ri.jsx)(lG.Provider,{value:{activePanel:n,togglePanel:e=>{r(n===e?null:e)}},children:(0,ri.jsx)(mG,{children:t})})},hG=({value:e,children:t})=>{let{activePanel:n,togglePanel:r}=(0,ei.useContext)(lG),i=n===e;return(0,ri.jsx)(uG.Provider,{value:{onToggle:()=>r(e),value:e},children:(0,ri.jsx)(vG,{isActive:i?"true":"false","data-open":String(i),children:t})})},fG=({children:e})=>{let{activePanel:t}=(0,ei.useContext)(lG),{onToggle:n,value:r}=(0,ei.useContext)(uG),i=t===r;return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsxs)(yG,{onClick:n,"data-open":String(i),children:[(0,ri.jsx)(bG,{children:e}),(0,ri.jsx)(kG,{isactive:i?"true":"false",children:(0,ri.jsx)(xw,{height:"16px",width:"16px",strokeWidth:"2"})})]}),(0,ri.jsx)(wG,{})]})},pG=({children:e})=>{let{activePanel:t}=(0,ei.useContext)(lG),{value:n}=(0,ei.useContext)(uG);return(0,ri.jsx)(xG,{"data-open":String(t===n),children:(0,ri.jsx)(EG,{children:e})})},gG=({children:e})=>{let{activePanel:t}=(0,ei.useContext)(lG),{value:n}=(0,ei.useContext)(uG);return(0,ri.jsx)(EG,{children:"function"==typeof e?e({isActive:t===n}):e})};let mG=Ay.div.withConfig({displayName:"AccordionRoot",componentId:"sc-d25f9267-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;"]),yG=Ay.div.withConfig({displayName:"AccordionTriggerContainer",componentId:"sc-d25f9267-1"})(["display:flex;justify-content:space-between;align-items:center;width:100%;cursor:pointer;padding-bottom:8px;"]),wG=Ay.div.withConfig({displayName:"AccordionDivider",componentId:"sc-d25f9267-2"})(["width:100%;&&{border-top:1px solid;border-color:var(--privy-color-foreground-4);}padding-bottom:12px;"]),bG=Ay.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-d25f9267-3"})(["font-size:14px;font-weight:500;line-height:19.6px;width:100%;padding-right:8px;"]),vG=Ay.div.withConfig({displayName:"AccordionPanelContainer",componentId:"sc-d25f9267-4"})(["display:flex;flex-direction:column;width:100%;overflow:hidden;padding:12px;&&{border:1px solid;border-color:var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);}"]),xG=Ay.div.withConfig({displayName:"AccordionContentContainer",componentId:"sc-d25f9267-5"})(["position:relative;overflow:hidden;transition:max-height 25ms ease-out;&[data-open='true']{max-height:700px;}&[data-open='false']{max-height:0;}"]),EG=Ay.div.withConfig({displayName:"ContentWrapper",componentId:"sc-d25f9267-6"})(["display:flex;flex-direction:column;gap:12px;flex:1 1 auto;min-height:1px;"]),kG=Ay.div.withConfig({displayName:"IconWrapper",componentId:"sc-d25f9267-7"})(["transform:",";"],e=>"true"===e.isactive?"rotate(180deg)":"rotate(0deg)");function _G(e,t){return`https://explorer.solana.com/account/${e}?chain=${t}`}const CG=e=>(0,ri.jsx)(SG,{href:"ethereum"===e.chainType?PK(e.chainId,e.walletAddress):_G(e.walletAddress,e.chainId),target:"_blank",children:Aq(e.walletAddress)});let SG=Ay.a.withConfig({displayName:"StyledLink",componentId:"sc-dd6c0f9f-0"})(["&:hover{text-decoration:underline;}"]);const IG=({from:e,to:t,txn:n,transactionInfo:r,tokenPrice:i,gas:s,tokenSymbol:o})=>{let a=BigInt(n?.value||0);return(0,ri.jsx)(dG,{...Mf().render.standalone?{defaultValue:"details"}:{},children:(0,ri.jsxs)(hG,{value:"details",children:[(0,ri.jsx)(fG,{children:(0,ri.jsxs)(AG,{children:[(0,ri.jsx)("div",{children:r?.title||"Details"}),(0,ri.jsx)(TG,{children:(0,ri.jsx)(DK,{weiQuantities:[a],tokenPrice:i,tokenSymbol:o})})]})}),(0,ri.jsxs)(pG,{children:[(0,ri.jsx)(vK,{label:"From",children:(0,ri.jsx)(CG,{walletAddress:e,chainId:n.chainId||1,chainType:"ethereum"})}),(0,ri.jsx)(vK,{label:"To",children:(0,ri.jsx)(CG,{walletAddress:t,chainId:n.chainId||1,chainType:"ethereum"})}),r&&r.action&&(0,ri.jsx)(vK,{label:"Action",children:r.action}),s&&(0,ri.jsx)(iG,{value:n.value,gas:s,tokenPrice:i,tokenSymbol:o})]}),(0,ri.jsx)(gG,{children:({isActive:e})=>(0,ri.jsx)(sG,{value:n.value,displayFee:e,gas:s||"0x0",tokenPrice:i,tokenSymbol:o})})]})})};let AG=Ay.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-2eff9f5c-0"})(["display:flex;flex-direction:row;justify-content:space-between;"]),TG=Ay.div.withConfig({displayName:"TotalText",componentId:"sc-2eff9f5c-1"})(["flex-shrink:0;padding-left:8px;"]);const PG=({enabled:e=!0}={})=>{let{showFiatPrices:t,getUsdPriceForSol:n}=Jd(),[r,i]=(0,ei.useState)(!0),[s,o]=(0,ei.useState)(void 0),[a,c]=(0,ei.useState)(void 0);return(0,ei.useEffect)(()=>{(async()=>{if(t&&e)try{i(!0);let e=await n();e?c(e):o(Error("Unable to fetch SOL price"))}catch(e){o(e)}finally{i(!1)}else i(!1)})()},[]),{solPrice:a,isSolPriceLoading:r,solPriceError:s}};function OG(e){let{tokenPrice:t,isTokenPriceLoading:n,tokenPriceError:r}=(e=>{let{showFiatPrices:t,getUsdTokenPrice:n,chains:r}=Jd(),[i,s]=(0,ei.useState)(!0),[o,a]=(0,ei.useState)(void 0),[c,l]=(0,ei.useState)(void 0);return(0,ei.useEffect)(()=>{e||=1;let i=iw(r).find(t=>t.id===Number(e));(async()=>{if(t){if(!i)return s(!1),void a(Error(`Unable to fetch token price on chain id ${e}`));try{s(!0);let e=await n(i);e?l(e):a(Error(`Unable to fetch token price on chain id ${i.id}`))}catch(e){a(e)}finally{s(!1)}}else s(!1)})()},[e]),{tokenPrice:c,isTokenPriceLoading:i,tokenPriceError:o}})("solana"===e?-1:e),{solPrice:i,isSolPriceLoading:s,solPriceError:o}=PG({enabled:"solana"===e});return"solana"===e?{tokenPrice:i,isTokenPriceLoading:s,tokenPriceError:o}:{tokenPrice:t,isTokenPriceLoading:n,tokenPriceError:r}}const jG=(0,ei.createContext)(null);function NG(){let e=(0,ei.useContext)(jG);return null===e?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):e}async function RG(e,t,n,r){let i=_c(e),s=await(async()=>r?await r():await t.prepareTransactionRequest({...i,account:{address:n,type:"json-rpc"}}))();return{...s,type:Ec[s.type]}}let $G=Ay.div.withConfig({displayName:"StackedContainer",componentId:"sc-f7e7d474-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]);const MG=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","missing_or_invalid_mfa","mfa_verification_max_attempts_reached","mfa_timeout","twilio_verification_failed"];class LG extends Error{constructor(e,t){super(t),this.type=e}}function BG(e){let t=e.type;return"string"==typeof t&&MG.includes(t)}function UG(e){return BG(e)&&"wallet_not_on_device"===e.type}function DG(e){return!!BG(e)&&"mfa_timeout"===e.type}function FG(e){return!!BG(e)&&"missing_or_invalid_mfa"===e.type}function zG(e){return!(!BG(e)||!e.message.includes("code 429"))}function WG(e){return!!function(e){let t=e.type;return"string"==typeof t&&"client_error"===t}(e)&&"MFA canceled"===e.message}const qG=()=>window.open(void 0,void 0,HG({w:440,h:680}));let HG=({w:e,h:t})=>{let n=void 0!==window.screenLeft?window.screenLeft:window.screenX,r=void 0!==window.screenTop?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${t},width=${e},popup=1,left=${(i-e)/2/(i/window.screen.availWidth)+n},top=${(s-t)/2/(s/window.screen.availHeight)+r}`};const VG=({title:e,description:t,children:n,...r})=>(0,ri.jsx)(GG,{...r,children:(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)("h3",{children:e}),"string"==typeof t?(0,ri.jsx)("p",{children:t}):t,n]})}),KG=({title:e,description:t,icon:n,children:r,...i})=>(0,ri.jsxs)(ZG,{...i,children:[n||null,(0,ri.jsx)("h3",{children:e}),t&&"string"==typeof t?(0,ri.jsx)("p",{children:t}):t,r]});let GG=Ay.div.withConfig({displayName:"StyledSection",componentId:"sc-523a75d6-1"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;width:100%;margin-bottom:24px;&& h3{font-size:17px;color:var(--privy-color-foreground);}&& p{color:var(--privy-color-foreground-2);font-size:14px;}"]),ZG=Ay(GG).withConfig({displayName:"CenteredStyledSection",componentId:"sc-523a75d6-2"})(["align-items:center;text-align:center;gap:16px;h3{margin-bottom:24px;}"]);const YG=e=>(0,ri.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 21 20",...e,children:[(0,ri.jsx)("path",{fill:"url(#icloud-gradient)",d:"M12.34 7.315a4.26 4.26 0 0 0-3.707 2.18 2.336 2.336 0 0 0-1.02-.236 2.336 2.336 0 0 0-2.3 1.963 3.217 3.217 0 0 0 1.244 6.181c.135-.001.27-.01.404-.029h8.943c.047.004.094.006.141.007.045-.001.09-.004.135-.007h.214v-.016a2.99 2.99 0 0 0 1.887-.988c.487-.55.757-1.261.757-1.998v-.006a3.017 3.017 0 0 0-.69-1.915 2.992 2.992 0 0 0-1.748-1.034 4.26 4.26 0 0 0-4.26-4.102Z"}),(0,ri.jsx)("defs",{children:(0,ri.jsxs)("linearGradient",{id:"icloud-gradient",x1:19.086,x2:3.333,y1:14.38,y2:14.163,gradientUnits:"userSpaceOnUse",children:[(0,ri.jsx)("stop",{stopColor:"#3E82F4"}),(0,ri.jsx)("stop",{offset:1,stopColor:"#93DCF7"})]})})]}),JG=({style:e,...t})=>(0,ri.jsxs)("svg",{width:"16",height:"14",style:e,viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,ri.jsxs)("g",{clipPath:"url(#clip0_2115_829)",children:[(0,ri.jsx)("path",{d:"M2.34709 12.9404L2.3471 12.9404L2.34565 12.938L1.64031 11.7448L1.64004 11.7444L0.651257 10.0677C0.640723 10.0496 0.630746 10.0314 0.621325 10.0129H4.16461L2.39424 13.0139C2.3775 12.9901 2.36178 12.9656 2.34709 12.9404Z",fill:"#0066DA",stroke:"#6366F1"}),(0,ri.jsx)("path",{d:"M8 4.48713L5.47995 0.215332C5.23253 0.358922 5.02176 0.556358 4.87514 0.80764L0.219931 8.70508C0.076007 8.95094 0.000191627 9.22937 0 9.51277H5.04009L8 4.48713Z",fill:"#00AC47"}),(0,ri.jsx)("path",{d:"M13.48 13.7847C13.7274 13.6411 13.9382 13.4437 14.0848 13.1924L14.3781 12.6988L15.7801 10.3206C15.9267 10.0693 16.0001 9.79114 16.0001 9.51294H10.9596L12.0321 11.577L13.48 13.7847Z",fill:"#EA4335"}),(0,ri.jsx)("path",{d:"M8.00003 4.48718L10.5201 0.215385C10.2726 0.0717949 9.98857 0 9.69533 0H6.30472C6.01148 0 5.7274 0.0807692 5.47998 0.215385L8.00003 4.48718Z",fill:"#00832D"}),(0,ri.jsx)("path",{d:"M10.9599 9.51294H5.04007L2.52002 13.7847C2.76744 13.9283 3.05152 14.0001 3.34476 14.0001H12.6552C12.9484 14.0001 13.2325 13.9194 13.4799 13.7847L10.9599 9.51294Z",fill:"#2684FC"}),(0,ri.jsx)("path",{d:"M13.4525 4.75636L11.1249 0.80764C10.9782 0.556358 10.7675 0.358922 10.52 0.215332L8 4.48713L10.9599 9.51277H15.9908C15.9908 9.23456 15.9175 8.95636 15.7709 8.70508L13.4525 4.75636Z",fill:"#FFBA00"})]}),(0,ri.jsx)("defs",{children:(0,ri.jsx)("clipPath",{id:"clip0_2115_829",children:(0,ri.jsx)("rect",{width:"16",height:"14",fill:"white"})})})]});async function QG({url:e,popup:t,provider:n}){return t.location=e,new Promise((e,n)=>{function r(){t?.close(),window.removeEventListener("message",i)}function i(t){t.data&&("PRIVY_OAUTH_RESPONSE"===t.data.type&&t.data.stateCode&&t.data.authorizationCode&&(e(t.data),r()),"https://cdn.apple-cloudkit.com"===t.origin&&t.data.ckSession&&(e({type:"PRIVY_OAUTH_RESPONSE",ckWebAuthToken:t.data.ckSession}),r()),"PRIVY_OAUTH_ERROR"===t.data.type&&(n(t.data.error),r()))}window.addEventListener("message",i)})}async function XG({api:e,provider:t,stateCode:n,codeVerifier:r,authorizationCode:i}){if(!i||!n)throw new jd("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if("undefined"===i)throw new jd("User denied confirmation during OAuth flow");try{return(await e.post("/api/v1/recovery/oauth/authenticate",{authorization_code:i,state_code:n,code_verifier:r,provider:t})).access_token}catch(e){let t=$d(e);if(t.privyErrorCode)throw new jd(t.message||"Invalid code during OAuth flow.",void 0,t.privyErrorCode);if("User denied confirmation during OAuth flow"===t.message)throw new jd("Invalid code during oauth flow.",void 0,Ld.OAUTH_USER_DENIED);throw new jd("Invalid code during OAuth flow.",void 0,Ld.UNKNOWN_AUTH_ERROR)}}async function eZ({api:e,provider:t}){let n=nq(),r=rq(),i=await iq(n);try{return"icloud"===t?{url:(await e.post("/api/v1/recovery/oauth/init_icloud",{client_type:"web"})).url}:{url:(await e.post("/api/v1/recovery/oauth/init",{redirect_to:window.location.href,code_challenge:i,state_code:r})).url,codeVerifier:n,stateCode:r,provider:t}}catch(e){throw $d(e)}}const tZ=(e,{chainType:t,walletIndex:n}={})=>e?.linkedAccounts.filter(e=>!("wallet"!==e.type||"privy"!==e.walletClientType||void 0!==n&&e.walletIndex!==n||void 0!==t&&e.chainType!==t))??[],nZ=async({user:e,accessToken:t,proxy:n,refreshSessionAndUser:r,privy:i,appConfig:s,recoverEmbeddedWallet:o,setUser:a,walletIndex:c,chainType:l,recoveryMethod:u,recoveryPassword:d,recoveryAccessToken:h})=>{if(0===c)if("user-controlled-server-wallets-only"===s.embeddedWallets.mode)await ac(i,{request:{chain_type:l}});else if("ethereum"===l){let r=Jq(e);r&&await o({address:r.address}),await n.create({accessToken:t,solanaAddress:r?.address,recoveryMethod:u,recoveryPassword:d,recoveryAccessToken:h})}else{if("solana"!==l)throw Error("Invalid input to create wallet");{let r=Kq(e);r&&await o({address:r.address}),await n.createSolana({accessToken:t,ethereumAddress:r?.address,recoveryMethod:u,recoveryPassword:d,recoveryAccessToken:h})}}else if("user-controlled-server-wallets-only"===s.embeddedWallets.mode)await ac(i,{request:{chain_type:l}});else{let{entropyId:r,entropyIdVerifier:i}=oH(e);await o(),await n.addWallet({accessToken:t,entropyId:r,entropyIdVerifier:i,chainType:l,hdWalletIndex:c})}let f=await r(),p=tZ(f,{chainType:l,walletIndex:c})[0];return a(f),{user:f,account:p}},rZ=()=>{let{walletProxy:e,recoverEmbeddedWallet:t,setUser:n,refreshSessionAndUser:r,privy:i,client:s}=Jd(),o=Mf();return{create:async({walletIndex:a,chainType:c,latestUser:l,recoveryMethod:u,recoveryPassword:d,recoveryAccessToken:h})=>{let f=l;f||(f=await r());let p=await s.getAccessToken();if(!f||!p||!e)throw Error("User must be authenticated before creating a Privy wallet");return await nZ({appConfig:o,user:f,refreshSessionAndUser:r,privy:i,accessToken:p,proxy:e,recoverEmbeddedWallet:t,setUser:n,walletIndex:a,chainType:c,recoveryMethod:u,recoveryPassword:d,recoveryAccessToken:h})}}},iZ=({title:e,description:t,onClose:n})=>(0,ri.jsx)(bK,{title:e,subtitle:t,icon:rh,iconVariant:"success",watermark:!0,onBack:n}),sZ={component:()=>{let{user:e}=eV(),{closePrivyModal:t,isNewUserThisSession:n,updateWallets:r}=Jd(),{data:i,onUserCloseViaDialogOrKeybindRef:s}=QH(),o=Mf(),{onSuccess:a,onFailure:c,callAuthOnSuccessOnClose:l}=i.createWallet,u=()=>{let n=Kq(e)??Jq(e);e&&n?(r(),a({user:e,account:n})):c(Error("Failed to create wallet")),t({shouldCallAuthOnSuccess:l})};return(0,ei.useEffect)(()=>{let e=setTimeout(u,rf);return()=>clearTimeout(e)},[]),s.current=u,(0,ri.jsx)(iZ,{title:n?"Welcome"+(o?.name?` to ${o?.name}`:""):"All set!",description:n?"You've successfully created an account.":"Your account is secured.",onClose:u})}},oZ=Ay.div.withConfig({displayName:"RecoveryContainer",componentId:"sc-12b46968-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),aZ=Ay.div.withConfig({displayName:"RecoveryExplainerContainer",componentId:"sc-12b46968-1"})(["padding-bottom:24px;"]);let cZ={"google-drive":{name:"Google Drive",component:JG},icloud:{name:"iCloud",component:YG}};const lZ={component:()=>{let{logout:e}=eV(),{navigate:t,setModalData:n,data:r}=QH(),{closePrivyModal:i,createAnalyticsEvent:s}=Jd(),{execute:o}=(()=>{let{client:e,walletProxy:t,refreshSessionAndUser:n}=Jd(),{data:r}=QH(),{user:i}=eV(),s=Wf(),{create:o}=rZ();return{execute:async({provider:a,action:c,popup:l,shouldCreateEth:u,shouldCreateSol:d})=>{let h,f;if(!e)throw new jd("Missing client");function p(t){if(!t&&e)throw e.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:"Unable to open recovery OAuth popup",provider:a}}),new jd("Recovery OAuth failed")}switch(a){case"google-drive":{let t,n,{url:r,codeVerifier:i,stateCode:s}=await eZ({api:e.api,provider:a});p(r);try{let i=await QG({url:r,popup:l,provider:a});if(t=i.stateCode,n=i.authorizationCode,t!==s)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:a,storedStateCode:s??"",returnedStateCode:t??""}}),new jd("Unexpected auth flow. This may be a phishing attempt.",void 0,Ld.OAUTH_UNEXPECTED)}catch(t){throw e.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:t.toString(),provider:a}}),new jd("Recovery OAuth failed")}[h,f]=await Promise.all([e.getAccessToken(),XG({api:e.api,provider:a,codeVerifier:i,stateCode:t,authorizationCode:n})]);break}case"icloud":{let{url:t}=await eZ({api:e.api,provider:a});p(t);let{ckWebAuthToken:n}=await QG({url:t,popup:l,provider:a});f=n,h=await e.getAccessToken()}}if(!t)throw new jd("Cannot connect to wallet proxy");if(!h)throw new jd("Unable to authorize user");switch(c){case"recover":{let n=r?.recoverWallet?.entropyId,i=r?.recoverWallet?.entropyIdVerifier;if(!n||!i)throw new jd("Recovery OAuth failed");e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:n,recoveryMethod:a}}),await t.recover({accessToken:h,entropyId:n,entropyIdVerifier:i,recoveryAccessToken:f}),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:n,recoveryMethod:a}});break}case"create-wallet":{let t;if(e.createAnalyticsEvent({eventName:"embedded_wallet_creation_started"}),u&&d)t=await o({recoveryMethod:a,recoveryAccessToken:f,chainType:"ethereum",walletIndex:0,latestUser:i}),t=await o({chainType:"solana",walletIndex:0,latestUser:t.user});else if(d)t=await o({recoveryMethod:a,recoveryAccessToken:f,chainType:"solana",walletIndex:0,latestUser:i});else{if(!u)throw Error("Invalid args to create wallet");t=await o({recoveryMethod:a,recoveryAccessToken:f,chainType:"ethereum",walletIndex:0,latestUser:i})}if(!t)throw s("createWallet","onError",Ld.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to create wallet");e.createAnalyticsEvent({eventName:"embedded_wallet_creation_completed",payload:{walletAddress:t.account.address}}),s("createWallet","onSuccess",{wallet:t.account});break}case"set-recovery":{let r=rH(i);if(!r)throw s("setWalletRecovery","onError",Ld.EMBEDDED_WALLET_NOT_FOUND),Error("Embedded wallet not found");e.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:r.address,existingRecoveryMethod:r.recoveryMethod,targetRecoveryMethod:a}});let{entropyId:o,entropyIdVerifier:c}=oH(i);await t.setRecovery({accessToken:h,entropyId:o,entropyIdVerifier:c,recoveryMethod:a,recoveryAccessToken:f});let l=rH(await n());if(!l)throw s("createWallet","onError",Ld.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to set recovery on wallet");e.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:r.address,existingRecoveryMethod:r.recoveryMethod,targetRecoveryMethod:a}}),s("setWalletRecovery","onSuccess",{method:a,wallet:l});break}default:throw new jd("Unsupported recovery action")}}}})(),[a,c]=(0,ei.useState)(!1),{provider:l,action:u,isInAccountCreateFlow:d,shouldCreateEth:h,shouldCreateSol:f}=r?.recoveryOAuthStatus,[p,g]=(0,ei.useState)(void 0),[m,y]=(0,ei.useState)("create-wallet"===u);if("user-passcode"===l)throw Error("RecoveryOAuthScreen should never be called with a wallet that specifies recoveryMethod: `user-passcode`");let w=cZ[l].name,b=cZ[l].component,v=r?.recoverWallet?.onCompleteNavigateTo,x=new eq(async(e="create-wallet")=>(y(!0),new Promise((t,n)=>{setTimeout(async()=>{try{let n=window.open();await o({provider:l,action:e,popup:n,shouldCreateEth:h,shouldCreateSol:f}),c(!0),t()}catch(t){g({message:`${"recover"===e?"Recovery":"Back up"} with ${w} unsuccessful`,detail:"recover"===u?`Please verify that you are selecting the ${w} account associated with your backup.`:"",retryable:!0}),n()}},0)})));(0,ei.useEffect)(()=>{"recover"!==u&&x.execute(d?"create-wallet":"set-recovery")},[]),(0,ei.useEffect)(()=>{if(!a)return;let r=setTimeout(()=>{d?(n({createWallet:{onSuccess:()=>{},onFailure:t=>{s({eventName:"embedded_wallet_creation_failure_logout",payload:{error:t,screen:"RecoveryOAuthScreen"}}),e()},callAuthOnSuccessOnClose:!0,shouldCreateEth:!1,shouldCreateSol:!1}}),t(sZ)):i({shouldCallAuthOnSuccess:!1})},nf);return()=>clearTimeout(r)},[a]);let E=(0,ei.useCallback)(async()=>{await x.execute("recover"),v?t(v):c(!0)},[]),k="google-drive"===l?"Google Drive":"Apple iCloud",_=a&&`Successfully ${"recover"===u?"recovered":"backed up"} with ${k}.`||p&&p.message||`${"recover"===u?"Recovering":"Backing up"} with ${k}...`,C=p?p.detail:"";return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{}),m?(0,ri.jsx)(ri.Fragment,{children:(0,ri.jsxs)(oZ,{children:[(0,ri.jsx)(KG,{title:_,icon:(0,ri.jsx)(b,{style:{width:"38px",height:"38px"}}),description:C}),p&&p?.retryable?(0,ri.jsx)(IV,{onClick:()=>{wq(),g(void 0),"create-wallet"===u?x.execute("create-wallet"):E()},disabled:!a&&!p?.retryable,children:"Try again"}):null]})}):(0,ri.jsxs)(oZ,{children:[(0,ri.jsx)(KG,{title:"Confirm it's really you",icon:(0,ri.jsx)(b,{style:{height:42,width:48}}),description:`To confirm your identity, please log in to ${k} where your account is backed up.`}),(0,ri.jsxs)(IV,{onClick:E,children:["Confirm with ",k]})]}),(0,ri.jsx)(gV,{})]})}};let uZ=Ay.div.withConfig({displayName:"IconContainer",componentId:"sc-ccfae04f-0"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;"]),dZ={"google-drive":"Google Drive",icloud:"iCloud","user-passcode":"password",privy:"Privy","privy-v2":"Privy"},hZ=({onClose:e})=>(0,ri.jsxs)(aZ,{children:[(0,ri.jsx)(KG,{title:"Why do I need to secure my account?",icon:(0,ri.jsx)($y,{width:48}),description:(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)("p",{children:"Your app uses cryptography to secure your account. App secrets are split and encrypted so only you can access them."}),(0,ri.jsx)("p",{children:"To use this app on new devices, secure account secrets using a password, your Google or your Apple account. Its important you dont lose access to the method you choose."})]})}),(0,ri.jsx)(IV,{onClick:e,children:"Select backup method"})]});const fZ={component:()=>{let[e,t]=(0,ei.useState)(!1),{navigate:n,lastScreen:r,navigateBack:i,setModalData:s,data:o,onUserCloseViaDialogOrKeybindRef:a}=QH(),{user:c}=eV(),{embeddedWallets:l}=Mf(),{closePrivyModal:u}=Jd(),d=rH(c),h=null===d,{isInAccountCreateFlow:f,isResettingPassword:p,shouldCreateEth:g,shouldCreateSol:m}=o.recoverySelection,y=d&&"privy"!==d.recoveryMethod,w=y?(0,ri.jsxs)("span",{children:["Your account is currently secured using"," ",(0,ri.jsx)("strong",{children:dZ[d?.recoveryMethod||"user-passcode"]}),"."]}):"Select a method for logging in on new devices and recovering your account.";function b(e){s({recoveryOAuthStatus:{provider:e,action:h?"create-wallet":"set-recovery",isInAccountCreateFlow:f,shouldCreateEth:g,shouldCreateSol:m}}),n(lZ)}function v(){o?.setWalletPassword?.onFailure(Error("User exited set recovery flow")),u({shouldCallAuthOnSuccess:o?.setWalletPassword?.callAuthOnSuccessOnClose??!1})}return a.current=v,(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{onClose:v,backFn:e?()=>t(!1):r?i:void 0,infoFn:r||e?void 0:()=>t(!0)},"header"),e?(0,ri.jsx)(hZ,{onClose:()=>t(!1)}):(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(KG,{title:y?"Update backup method":"Secure your account",icon:(0,ri.jsx)(_W,{width:48}),description:w}),(0,ri.jsx)(oZ,{children:l.userOwnedRecoveryOptions.filter(e=>!["icloud","google-drive"].includes(d?.recoveryMethod||"")||e!==d?.recoveryMethod).sort().map(e=>{switch(e){case"google-drive":return(0,ri.jsxs)(aV,{onClick:()=>b("google-drive"),children:[(0,ri.jsx)(uZ,{children:(0,ri.jsx)(JG,{style:{width:18}})}),"Back up to Google Drive"]},e);case"icloud":return(0,ri.jsxs)(aV,{onClick:()=>b("icloud"),children:[(0,ri.jsx)(uZ,{children:(0,ri.jsx)(YG,{style:{width:24}})}),"Back up to Apple iCloud"]},e);case"user-passcode":return(0,ri.jsxs)(aV,{onClick:()=>{n(w3({isCreatingWallet:h,skipSplashScreen:!0}))},children:[(0,ri.jsx)(uZ,{children:(0,ri.jsx)(SW,{style:{width:18}})}),p?"Reset your":"Set a"," password"]},e);default:return null}})})]}),(0,ri.jsx)(gV,{})]})}};let pZ=Cy(["font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;text-align:left;transition:color 0.1s ease-in;"]);const gZ=Ay.span.withConfig({displayName:"StatusText",componentId:"sc-acac4b9-0"})([""," transition:color 0.1s ease-in;color:",";text-transform:",";&[aria-hidden='true']{visibility:hidden;}"],pZ,({error:e})=>e?"var(--privy-color-error)":"var(--privy-color-foreground-3)",({error:e})=>e?"":"capitalize"),mZ=Ay.div.withConfig({displayName:"EmbeddedWalletScreenContainer",componentId:"sc-acac4b9-1"})(["display:flex;flex-direction:column;justify-content:center;flex-grow:1;"]),yZ=Ay(IV).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-acac4b9-2"})(["",""],({$hideAnimations:e})=>e&&Cy(["&&{transition:none;}"]));let wZ=Cy(["&&{width:100%;border-width:1px;border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);background:var(--privy-color-background);color:var(--privy-color-foreground);padding:12px;font-size:16px;font-style:normal;font-weight:300;line-height:22px;}"]);const bZ=Ay.input.withConfig({displayName:"PasswordInput",componentId:"sc-acac4b9-3"})([""," &::placeholder{color:var(--privy-color-foreground-3);font-style:italic;font-size:14px;}overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],wZ),vZ=Ay.div.withConfig({displayName:"PasswordDisplay",componentId:"sc-acac4b9-4"})(["",""],wZ),xZ=Ay.div.withConfig({displayName:"PasswordContainer",componentId:"sc-acac4b9-5"})(["position:relative;width:100%;display:flex;align-items:center;justify-content:",";"],({centered:e})=>e?"center":"space-between"),EZ=Ay.div.withConfig({displayName:"Header",componentId:"sc-acac4b9-6"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:32px 0;gap:4px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),kZ=Ay.div.withConfig({displayName:"Details",componentId:"sc-acac4b9-7"})(["display:flex;flex-direction:column;gap:10px;padding-bottom:1rem;"]),_Z=Ay.div.withConfig({displayName:"DetailItem",componentId:"sc-acac4b9-8"})(["display:flex;text-align:left;align-items:center;gap:8px;max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;margin:0 8px;color:var(--privy-color-foreground-2);> :first-child{min-width:24px;}"]),CZ=Ay(CV).withConfig({displayName:"ExportButton",componentId:"sc-acac4b9-10"})(["display:flex;flex:1;gap:4px;justify-content:center;&&{background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);border-width:1px;}"]),SZ=Ay.div.withConfig({displayName:"InputRightIcons",componentId:"sc-acac4b9-11"})(["position:absolute;right:0.5rem;display:flex;flex-direction:row;justify-content:space-around;align-items:center;"]),IZ=Ay(AW).withConfig({displayName:"RegenerateIcon",componentId:"sc-acac4b9-12"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),AZ=Ay(jW).withConfig({displayName:"HiddenIcon",componentId:"sc-acac4b9-13"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),TZ=Ay(PW).withConfig({displayName:"ShownIcon",componentId:"sc-acac4b9-14"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),PZ=Ay.progress.withConfig({displayName:"StrengthMeter",componentId:"sc-acac4b9-15"})(["height:4px;width:100%;margin:8px 0;::-webkit-progress-bar{border-radius:8px;background:var(--privy-color-foreground-4);}::-webkit-progress-value{border-radius:8px;transition:all 0.1s ease-out;background:",";}"],({label:e})=>("Strong"===e?"#78dca6":"Medium"===e&&"var(--privy-color-warn)")||"var(--privy-color-error)"),OZ=({buttonHideAnimations:e,buttonLoading:t,password:n,onSubmit:r,onBack:i})=>{let[s,o]=(0,ei.useState)(!0),[a,c]=(0,ei.useState)(!1),[l,u]=(0,ei.useState)(""),d=n===l;return(0,ei.useEffect)(()=>{l&&!a&&c(!0)},[l]),(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{closeable:!1,backFn:i}),(0,ri.jsx)(tG,{}),(0,ri.jsxs)(mZ,{children:[(0,ri.jsxs)(EZ,{children:[(0,ri.jsx)(Hy,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),(0,ri.jsx)("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm your password"}),(0,ri.jsx)("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Please re-enter your password below to continue."})]}),(0,ri.jsxs)(xZ,{children:[(0,ri.jsx)(bZ,{value:l,onChange:e=>u(e.target.value),onKeyUp:e=>{"Enter"===e.key&&r()},onBlur:()=>c(!0),placeholder:"confirm your password",type:s?"password":"text",style:{paddingRight:"2.3rem"}}),(0,ri.jsx)(SZ,{style:{right:"0.75rem"},children:s?(0,ri.jsx)(AZ,{onClick:()=>o(!1)}):(0,ri.jsx)(TZ,{onClick:()=>o(!0)})})]}),(0,ri.jsx)(gZ,{"aria-hidden":!a||d,error:!0,children:"Passwords do not match"})]}),(0,ri.jsx)(yZ,{onClick:r,loading:t,disabled:!d,$hideAnimations:e,children:"Continue"}),(0,ri.jsx)(nG,{}),(0,ri.jsx)(gV,{})]})},jZ=({className:e,checked:t,color:n="var(--privy-color-accent)",...r})=>(0,ri.jsx)("label",{children:(0,ri.jsxs)(NZ,{className:e,children:[(0,ri.jsx)($Z,{checked:t,...r}),(0,ri.jsx)(MZ,{color:n,checked:t,children:(0,ri.jsx)(RZ,{viewBox:"0 0 24 24",children:(0,ri.jsx)("polyline",{points:"20 6 9 17 4 12"})})})]})});let NZ=Ay.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-db51b935-1"})(["display:inline-block;vertical-align:middle;"]),RZ=Ay.svg.withConfig({displayName:"Icon",componentId:"sc-db51b935-2"})(["fill:none;stroke:white;stroke-width:3px;"]),$Z=Ay.input.attrs({type:"checkbox"}).withConfig({displayName:"HiddenCheckbox",componentId:"sc-db51b935-3"})(["border:0;clip:rect(0 0 0 0);clippath:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;"]),MZ=Ay.div.withConfig({displayName:"StyledCheckbox",componentId:"sc-db51b935-4"})(["display:inline-block;width:18px;height:18px;transition:all 150ms;cursor:pointer;border-color:",";border-radius:3px;background:",";&&{border-width:1px;}",":focus + &{box-shadow:0 0 0 1px ",";}","{visibility:",";}"],e=>e.color,e=>e.checked?e.color:"var(--privy-color-background)",$Z,e=>e.color,RZ,e=>e.checked?"visible":"hidden");const LZ=({buttonHideAnimations:e,buttonLoading:t,onSubmit:n,onBack:r,config:i})=>{let[s,o]=(0,ei.useState)(!1);return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{closeable:!1,backFn:r}),(0,ri.jsx)(tG,{}),(0,ri.jsxs)(mZ,{children:[(0,ri.jsxs)(EZ,{children:[(0,ri.jsx)(Hy,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-error)"}),(0,ri.jsx)("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm you have saved"}),(0,ri.jsx)("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Losing access to your password means you will lose access to your account."})]}),(0,ri.jsx)(kZ,{children:(0,ri.jsxs)(_Z,{style:{color:"var(--privy-color-error)",cursor:"pointer"},onClick:e=>{e.preventDefault(),o(e=>!e)},children:[(0,ri.jsx)(jZ,{color:"var(--privy-color-error)",readOnly:!0,checked:s}),(0,ri.jsx)(ri.Fragment,{children:"I understand that if I lose my password and device, I will lose access to my account and my assets."})]})})]}),(0,ri.jsxs)(BZ,{children:["user"===i.initiatedBy&&(0,ri.jsx)(OV,{onClick:i.onCancel,disabled:t,children:"Cancel"}),(0,ri.jsx)(yZ,{onClick:n,loading:t,$hideAnimations:e,disabled:!s,children:"Set Password"})]}),(0,ri.jsx)(nG,{}),(0,ri.jsx)(gV,{})]})};let BZ=Ay.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-d1659c5f-0"})(["display:flex;gap:10px;"]),UZ=/[a-z]/,DZ=/[A-Z]/,FZ=/[0-9]/,zZ="!@#$%^&*()\\-_+.",WZ=`a-zA-Z0-9${zZ}`,qZ=RegExp(`[${zZ}]`),HZ=RegExp(`[${WZ}]`);const VZ=RegExp(`^[${WZ}]{6,}$`),KZ=()=>function(e,t,n="-"){if("number"!=typeof e||e<1)throw new Error("Invalid argument: length argument must be a number greater than or equal to 1");if(!Array.isArray(t)||t.length<2)throw new Error("Invalid argument: wordlist argument must be an array with length greater than or equal to 2");if("string"!=typeof n)throw new Error("Invalid argument: sep argument must be a string");return function(e,t,n){if("number"!=typeof e||e<1)throw new Error("Invalid argument: length must be a number greater than or equal to 1");if("number"!=typeof t||t<0)throw new Error("Invalid argument: start must be a number greater than or equal to 0");if("number"!=typeof n||n>Rp)throw new Error("Invalid argument: end must be a number less than or equal to 65536");if(n-t<2)throw new Error("Invalid range: range must contain at least two values");const r=[];for(let i=0;i<e;i++)r[i]=t+Lp(n-t);return r}(e,0,t.length).reduce((e,r,i)=>{const s=t[r];return e+(0===i?s:n+s)},"")}(4,Up);function GZ(e){return e>.9?"Strong":e>.5?"Medium":"Weak"}const ZZ=({buttonHideAnimations:e,buttonLoading:t,password:n="",config:r,isResettingPassword:i,onSubmit:s,onClose:o,onBack:a,onPasswordChange:c,onPasswordGenerate:l})=>{let[u,d]=(0,ei.useState)(!1),[h,f]=(0,ei.useState)(!1);(0,ei.useEffect)(()=>{n&&!h&&f(!0)},[n]);let p=(0,ei.useMemo)(()=>h?6>(n?.length||0)?"Password must be at least 6 characters":VZ.test(n||"")?null:`Invalid characters used ( ${((e="")=>[...new Set(e.split("").filter(e=>!HZ.test(e)).map(e=>e.replace(" ","SPACE")))])(n).join(" ")} )`:null,[n,h]),g=(0,ei.useMemo)(()=>p?{value:0,label:"Weak"}:function(e=""){let t=function(e=""){return(.3*function(e){if(e.length<8)return 0;let t=0;return UZ.test(e)&&(t+=1),DZ.test(e)&&(t+=1),FZ.test(e)&&(t+=1),qZ.test(e)&&(t+=1),Math.max(0,Math.min(1,t/3))}(e)+jp(e)/95)/2}(e);return{value:t,label:GZ(t)}}(n),[n,p]),m=(0,ei.useMemo)(()=>!n?.length||!!p,[p,n]);return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{onClose:o,closeable:"user"===r.initiatedBy,backFn:a}),(0,ri.jsx)(tG,{}),(0,ri.jsxs)(mZ,{children:[(0,ri.jsxs)(EZ,{children:[(0,ri.jsx)(RW,{height:48,width:48,stroke:"var(--privy-color-accent)"}),(0,ri.jsxs)("h3",{style:{color:"var(--privy-color-foreground)"},children:[i?"Reset":"Set"," your password"]}),(0,ri.jsx)("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Select a strong, memorable password to secure your account."})]}),(0,ri.jsxs)(xZ,{children:[(0,ri.jsx)(bZ,{value:n,onChange:e=>c(e.target.value),onKeyUp:e=>{"Enter"===e.key&&s()},placeholder:"enter or generate a strong password",type:u?"password":"text",style:{paddingRight:"3.8rem"}}),(0,ri.jsxs)(SZ,{style:{width:"3.5rem"},children:[u?(0,ri.jsx)(AZ,{onClick:()=>d(!1)}):(0,ri.jsx)(TZ,{onClick:()=>d(!0)}),(0,ri.jsx)(IZ,{onClick:l})]})]}),(0,ri.jsx)(PZ,{value:0===g.value?.01:g.value,label:g.label}),(0,ri.jsx)(gZ,{error:!!p,children:p||`Password Strength: ${h?g.label:"--"}`}),(0,ri.jsxs)(JZ,{children:[(0,ri.jsx)(YZ,{children:(0,ri.jsxs)(kZ,{children:[(0,ri.jsxs)(_Z,{children:[(0,ri.jsx)(wW,{width:24,height:24,fill:"var(--privy-color-accent)"}),"This password is used to secure your account."]}),(0,ri.jsxs)(_Z,{children:[(0,ri.jsx)(wW,{width:24,height:24,fill:"var(--privy-color-accent)"}),"Use it to log in on a new environment, like another browser or device."]})]})}),(0,ri.jsx)(yZ,{onClick:s,loading:t,disabled:m,$hideAnimations:e,children:"Continue"})]})]}),(0,ri.jsx)(nG,{}),(0,ri.jsx)(gV,{})]})};let YZ=Ay(kZ).withConfig({displayName:"DetailsContainer",componentId:"sc-2da5fe90-0"})(["flex:1;padding-top:1rem;"]),JZ=Ay.div.withConfig({displayName:"LowerContainer",componentId:"sc-2da5fe90-1"})(["display:flex;flex-direction:column;height:100%;"]);const QZ=({buttonHideAnimations:e,buttonLoading:t,appName:n,password:r,onSubmit:i,onBack:s})=>{let[o,a]=(0,ei.useState)(!1),[c,l]=(0,ei.useState)(!0),u=(0,ei.useCallback)(()=>{a(!0),r&&navigator.clipboard.writeText(r)},[r]),d=(0,ei.useCallback)(()=>{let e=document.createElement("a"),t=n.toLowerCase().replace(/[^a-z\s]/g,"").replace(/\s/g,"-"),i=new Blob([XZ(n,r)],{type:"text/plain"}),s=URL.createObjectURL(i);e.href=s,e.target="_blank",e.download=`${t}-privy-wallet-recovery.txt`,document.body.appendChild(e),e.click(),setTimeout(()=>{e.remove(),URL.revokeObjectURL(s)},5e3)},[r]);return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{backFn:s,closeable:!1}),(0,ri.jsx)(tG,{}),(0,ri.jsxs)(mZ,{children:[(0,ri.jsxs)(EZ,{children:[(0,ri.jsx)(Hy,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),(0,ri.jsx)("h3",{style:{color:"var(--privy-color-foreground)"},children:"Save your password"}),(0,ri.jsx)("p",{style:{color:"var(--privy-color-foreground-2)"},children:"For your security, this password cannot be reset, so keep it somewhere safe."})]}),(0,ri.jsxs)(xZ,{centered:!0,children:[(0,ri.jsx)(vZ,{children:c?"".repeat(r.length):r}),(0,ri.jsx)(SZ,{style:{right:"0.75rem"},children:c?(0,ri.jsx)(AZ,{onClick:()=>l(!1)}):(0,ri.jsx)(TZ,{onClick:()=>l(!0)})})]}),(0,ri.jsxs)("div",{style:{display:"flex",margin:"12px 0",gap:"12px"},children:[(0,ri.jsx)(CZ,{onClick:u,children:(0,ri.jsxs)(ri.Fragment,o?{children:[(0,ri.jsx)(eM,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copied"]}:{children:[(0,ri.jsx)(BW,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copy"]})}),(0,ri.jsxs)(CZ,{onClick:d,children:[(0,ri.jsx)(MW,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Download"]})]})]}),(0,ri.jsx)(yZ,{onClick:i,loading:t,$hideAnimations:e,children:"Continue"}),(0,ri.jsx)(nG,{}),(0,ri.jsx)(gV,{})]})};let XZ=(e,t)=>`Your wallet recovery password for ${e} is\n\n${t}\n\nYou will need this password to access your ${e} wallet on a new device. Please keep it somewhere safe.`;const eY=({error:e,onClose:t})=>(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{closeable:!1}),(0,ri.jsx)(tG,{}),(0,ri.jsxs)(JK,e?{children:[(0,ri.jsx)(DW,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}),(0,ri.jsx)(KG,{title:"Something went wrong",description:e})]}:{children:[(0,ri.jsx)(wW,{fill:"var(--privy-color-success)",width:"64px",height:"64px"}),(0,ri.jsx)(KG,{title:"Success"})]}),(0,ri.jsx)(IV,{onClick:t,children:"Close"}),(0,ri.jsx)(nG,{}),(0,ri.jsx)(gV,{})]});let tY=(e,t)=>{switch(e){case"creating":return"back"===t?e:"saving";case"saving":return"back"===t?"creating":"confirming";case"confirming":return"back"===t?"saving":"finalizing";case"finalizing":return"back"===t?"confirming":"done";default:return e}};const nY=({onSubmit:e,...t})=>{let{lastScreen:n,navigate:r}=QH(),{send:i,state:s}=(()=>{let[e,t]=(0,ei.useReducer)(tY,"creating");return{send:t,state:e}})(),o=(0,ei.useCallback)(async()=>{"finalizing"===s&&await e(),i("next")},[s,i,e]);(0,ei.useEffect)(()=>{let e;return"done"===s&&"automatic"===t.config.initiatedBy&&(e=setTimeout(()=>t.onClose?.(),nf)),()=>{e&&clearTimeout(e)}},[s,t.config.initiatedBy,t.onClose]);let a=(0,ei.useCallback)(()=>{i("back")},[i]),c=(0,ei.useCallback)(()=>{r(fZ)},[n,r]);return"creating"===s?(0,ri.jsx)(ZZ,{...t,onSubmit:o,onBack:n===fZ?c:void 0}):"saving"===s?(0,ri.jsx)(QZ,{...t,onSubmit:o,onBack:a}):"confirming"===s?(0,ri.jsx)(OZ,{...t,onSubmit:o,onBack:a}):"finalizing"===s?(0,ri.jsx)(LZ,{...t,onSubmit:o,onBack:a}):"done"===s?(0,ri.jsx)(eY,{...t,onSubmit:o}):null};let rY={apple_oauth:"apple",custom_auth:"custom",discord_oauth:"discord",email:"email",farcaster:"farcaster",github_oauth:"github",google_oauth:"google",instagram_oauth:"instagram",linkedin_oauth:"linkedin",passkey:"passkey",phone:"sms",spotify_oauth:"spotify",telegram:"telegram",tiktok_oauth:"tiktok",line_oauth:"line",twitch_oauth:"twitch",twitter_oauth:"twitter",wallet:"siwe",smart_wallet:"siwe",cross_app:"privy:"};const iY=e=>{if(oq(e))return{displayName:e.replace("custom:",""),loginMethod:"custom"};let t=rY[e];return"wallet"===e||"phone"===e?{displayName:e,loginMethod:t}:{displayName:t,loginMethod:t}};let sY=(0,ei.createContext)({});const oY=({children:e})=>{let t=Mf(),[n,r]=(0,ei.useState)({});return Ff("login",{onComplete:({loginAccount:e})=>{e&&"passkey"!==e.type&&"cross_app"!==e.type&&("wallet"!==e.type||"privy"!==e.walletClientType)&&(VW.put(aY(t.id),e.type),"wallet"===e.type?(VW.put(cY(t.id),e.walletClientType),VW.put(lY(t.id),e.chainType),r({accountType:e.type,walletClientType:e.walletClientType,chainType:e.chainType})):(VW.del(cY(t.id)),VW.del(lY(t.id)),r({accountType:e.type})))}}),(0,ei.useEffect)(()=>{if(!t.id)return;let e=VW.get(aY(t.id)),n=VW.get(cY(t.id)),i=VW.get(lY(t.id));e&&r("wallet"===e?{accountType:e,walletClientType:n,chainType:i}:{accountType:e})},[t.id]),(0,ri.jsx)(sY.Provider,{value:n,children:e})};let aY=e=>`privy:${e}:recent-login-method`,cY=e=>`privy:${e}:recent-login-wallet-client`,lY=e=>`privy:${e}:recent-login-chain-type`;const uY=()=>(0,ei.useContext)(sY),dY=()=>{let e=Mf(),t=e?.appearance?.logo,n=`${e?.name} logo`,r={maxHeight:"90px",maxWidth:"180px"};return t?"string"==typeof t?(0,ri.jsx)("img",{src:t,alt:n,style:r}):"svg"===t.type||"img"===t.type?ei.cloneElement(t,{alt:n,style:r}):(console.warn("`config.appearance.logo` must be a string, or an SVG / IMG element. Nothing will be rendered."),null):null},hY=e=>{let t=Mf();return t?.appearance.logo?(0,ri.jsx)(fY,{...e,children:(0,ri.jsx)(dY,{})}):null},fY=Ay.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-b210074-0"})(["display:flex;flex-direction:column;align-items:center;padding:24px 0;flex-grow:1;justify-content:center;"]),pY=({name:e,logoUrl:t,size:n="38px"})=>"string"==typeof t?(0,ri.jsx)("img",{src:t,alt:`${e??"Provider app"} logo`,style:{width:n,height:n,maxHeight:"90px",maxWidth:"180px",borderRadius:"8px"}}):(0,ri.jsx)("span",{}),gY=({appId:e})=>{let[t,n]=(0,ei.useState)(void 0),{startCrossAppAuthFlow:r,authenticated:i}=eV(),{client:s}=Jd();return(0,ei.useEffect)(()=>{(async()=>{s&&n(await s.getCrossAppProviderDetails(e))})()},[s]),(0,ri.jsx)(aV,{onClick:()=>r({appId:e,action:i?"link":"login"}),disabled:!t,children:t?(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(pY,{name:t.name,logoUrl:t.icon_url||void 0,size:"24px"})," ",t.name]}):(0,ri.jsx)(kV,{})})};let mY=Ay.a.withConfig({displayName:"StyledLink",componentId:"sc-c8577138-0"})(["&&{color:",";font-weight:400;text-decoration:",";text-underline-offset:4px;text-decoration-thickness:1px;cursor:",";opacity:",";font-size:",";line-height:",";transition:color 200ms ease,text-decoration-color 200ms ease,opacity 200ms ease;&:hover{color:",";text-decoration:",";text-underline-offset:4px;}&:active{color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;border-radius:2px;}}"],({$variant:e})=>"underlined"===e?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))",({$variant:e})=>"underlined"===e?"underline":"var(--privy-link-navigation-decoration, none)",({$disabled:e})=>e?"not-allowed":"pointer",({$disabled:e})=>e?.5:1,({$size:e})=>{switch(e){case"xs":return"12px";case"sm":return"14px";default:return"16px"}},({$size:e})=>{switch(e){case"xs":return"18px";case"sm":return"22px";default:return"24px"}},({$variant:e,$disabled:t})=>"underlined"===e?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))",({$disabled:e})=>e?"none":"underline",({$variant:e,$disabled:t})=>t?"underlined"===e?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))":"var(--privy-color-foreground)");const yY=({size:e="md",variant:t="navigation",disabled:n=!1,as:r,children:i,onClick:s,...o})=>(0,ri.jsx)(mY,{as:r,$size:e,$variant:t,$disabled:n,onClick:e=>{n?e.preventDefault():s?.(e)},...o,children:i}),wY=(e,t)=>!Kq(e)&&("all-users"===t||"users-without-wallets"===t&&!bY(e).length);let bY=e=>e.linkedAccounts.filter(e=>"wallet"===e.type&&"ethereum"===e.chainType);const vY=(e,t)=>!Jq(e)&&("all-users"===t||"users-without-wallets"===t&&!xY(e).length);let xY=e=>e.linkedAccounts.filter(e=>"wallet"===e.type&&"solana"===e.chainType);const EY=(e,t)=>wY(e,t.ethereum.createOnLogin)||vY(e,t.solana.createOnLogin),kY=({title:e="Account not found",subtitle:t,appName:n="this app",ctaText:r="Try logging in again",onRetry:i})=>(0,ri.jsx)(bK,{title:e,subtitle:t||`Please try logging in again or go to ${n} to create an account.`,icon:ih,iconVariant:"warning",primaryCta:{label:r,onClick:i},watermark:!0}),_Y={component:()=>{let{navigate:e,setModalData:t,data:n}=QH(),r=Mf(),{getAuthMeta:i,client:s}=Jd();return(0,ri.jsx)(kY,{appName:r?.name,onRetry:()=>{let r=i();t({...n,login:{...n?.login,...r?.disableSignup?{disableSignup:!0}:{}}}),s?.authFlow&&(s.authFlow=void 0),e(a3)}})}},CY=Ay.span.withConfig({displayName:"CircleBorder",componentId:"sc-9056b8b8-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;border-bottom-color:",";}"],e=>e.color??"var(--privy-color-accent)",e=>e.color??"var(--privy-color-accent)"),SY=({address:e,showCopyIcon:t,url:n,className:r})=>{let[i,s]=(0,ei.useState)(!1);function o(t){t.stopPropagation(),navigator.clipboard.writeText(e).then(()=>s(!0)).catch(console.error)}return(0,ei.useEffect)(()=>{if(i){let e=setTimeout(()=>s(!1),3e3);return()=>clearTimeout(e)}},[i]),(0,ri.jsxs)(IY,n?{children:[(0,ri.jsx)(TY,{title:e,className:r,href:`${n}/address/${e}`,target:"_blank",children:Aq(e)}),t&&(0,ri.jsx)(OV,{onClick:o,size:"sm",style:{gap:"0.375rem"},children:(0,ri.jsxs)(ri.Fragment,i?{children:["Copied",(0,ri.jsx)(sh,{size:16})]}:{children:["Copy",(0,ri.jsx)(oh,{size:16})]})})]}:{children:[(0,ri.jsx)(AY,{title:e,className:r,children:Aq(e)}),t&&(0,ri.jsx)(OV,{onClick:o,size:"sm",style:{gap:"0.375rem",fontSize:"14px"},children:(0,ri.jsxs)(ri.Fragment,i?{children:["Copied",(0,ri.jsx)(sh,{size:14})]}:{children:["Copy",(0,ri.jsx)(oh,{size:14})]})})]})};let IY=Ay.span.withConfig({displayName:"AddressContainer",componentId:"sc-3a987cc8-0"})(["display:inline-flex;align-items:center;gap:0.5rem;"]),AY=Ay.span.withConfig({displayName:"AddressText",componentId:"sc-3a987cc8-1"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),TY=Ay.a.withConfig({displayName:"AddressLink",componentId:"sc-3a987cc8-2"})(["font-size:14px;color:var(--privy-color-foreground);text-decoration:none;&:hover{text-decoration:underline;}"]);function PY(e){return(0,ri.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...e,children:[(0,ri.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,ri.jsx)("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),(0,ri.jsx)("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]})}const OY=792703809,jY="11111111111111111111111111111111";let NY="0x0000000000000000000000000000000000000000";const RY=({appId:e,originCurrency:t,destinationCurrency:n,...r})=>({tradeType:"EXPECTED_OUTPUT",originCurrency:t??NY,destinationCurrency:n??NY,referrer:`privy|${e}`,...r});let $Y="https://api.relay.link",MY="https://api.testnets.relay.link";const LY=async({input:e,isTestnet:t})=>{let n=await fetch((t?MY:$Y)+"/quote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await n.json();if(!(n.ok||"string"==typeof r.message&&r.message.startsWith("Invalid address")))throw console.error("Relay error:",r),Error(r.message??"Error fetching quote from relay");return r},BY=e=>{let t=e.steps[0]?.items?.[0];if(t)return{from:t.data.from,to:t.data.to,value:Number(t.data.value),chainId:Number(t.data.chainId),data:t.data.data}};function UY({transactionHash:e,isTestnet:t,bridgingStatus:n,setBridgingStatus:r,onSuccess:i,onFailure:s}){(0,ei.useEffect)(()=>{if(e&&n){if(["delayed","waiting","pending"].includes(n)){let n=setInterval(async()=>{try{let n=await async function({transactionHash:e,isTestnet:t}){let n=await fetch((t?MY:$Y)+"/requests/v2?hash="+e),r=await n.json();if(!n.ok){if("message"in r&&"string"==typeof r.message)throw Error(r.message);throw Error("Error fetching request from relay")}return r.requests.at(0)?.status??"pending"}({transactionHash:e,isTestnet:t});r(n)}catch(e){console.error(e)}},1e3);return()=>clearInterval(n)}"success"===n?i({transactionHash:e}):["refund","failure"].includes(n)&&s({error:new DY(e,t)})}},[n,e,t])}class DY extends jd{constructor(e,t){super("We were unable to complete the bridging transaction. Funds will be refunded on your wallet.",void 0,Ld.TRANSACTION_FAILURE),this.relayLink=t?`https://testnets.relay.link/transaction/${e}`:`https://relay.link/transaction/${e}`}}const FY=({error:e,allowlistConfig:t,onRetry:n,onCaptchaReset:r,onBack:i})=>{let s=((e,t)=>{if(e instanceof DY)return{title:"Transaction failed",detail:(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)("span",{children:e.message}),(0,ri.jsxs)("span",{children:[" ","Check the"," ",(0,ri.jsx)(WY,{href:e.relayLink,target:"_blank",children:"refund status"}),"."]})]}),ctaText:"Try again",icon:ah};if(e instanceof jd)switch(e.privyErrorCode){case Ld.CLIENT_REQUEST_TIMEOUT:return{title:"Timed out",detail:e.message,ctaText:"Try again",icon:ah};case Ld.INSUFFICIENT_BALANCE:return{title:"Insufficient balance",detail:e.message,ctaText:"Try again",icon:ah};case Ld.TRANSACTION_FAILURE:return{title:"Transaction failure",detail:e.message,ctaText:"Try again",icon:ah};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:ah}}else{if(e instanceof LG&&"twilio_verification_failed"===e.type)return{title:"Something went wrong",detail:e.message,ctaText:"Try again",icon:ch};if(!(e instanceof Pd))return e instanceof Od&&e.status&&[400,422].includes(e.status)?{title:"Something went wrong",detail:e.message,ctaText:"Try again",icon:ah}:{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:ah};switch(e.privyErrorCode){case Ld.INVALID_CAPTCHA:return{title:"Something went wrong",detail:"Please try again.",ctaText:"Try again",icon:ah};case Ld.DISALLOWED_LOGIN_METHOD:return{title:"Not allowed",detail:e.message,ctaText:"Try another method",icon:ah};case Ld.ALLOWLIST_REJECTED:return{title:t.errorTitle||"You don't have access to this app",detail:t.errorDetail||"Have you been invited?",ctaText:t.errorCtaText||"Try another account",icon:lh};case Ld.CAPTCHA_FAILURE:return{title:"Something went wrong",detail:"You did not pass CAPTCHA. Please try again.",ctaText:"Try again",icon:null};case Ld.CAPTCHA_TIMEOUT:return{title:"Something went wrong",detail:"Something went wrong! Please try again later.",ctaText:"Try again",icon:null};case Ld.LINKED_TO_ANOTHER_USER:return{title:"Authentication failed",detail:"This account has already been linked to another user.",ctaText:"Try again",icon:ah};case Ld.NOT_SUPPORTED:return{title:"This region is not supported",detail:"SMS authentication from this region is not available",ctaText:"Try another method",icon:ah};case Ld.TOO_MANY_REQUESTS:return{title:"Request failed",detail:"Too many attempts.",ctaText:"Try again later",icon:ah};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:ah}}}})(e,t);return(0,ri.jsx)(bK,{title:s.title,subtitle:s.detail,icon:s.icon,onBack:i,iconVariant:"error",primaryCta:{label:s.ctaText,onClick:()=>{e instanceof Pd&&(e.privyErrorCode===Ld.INVALID_CAPTCHA&&r?.(),e.privyErrorCode===Ld.ALLOWLIST_REJECTED&&t.errorCtaLink)?window.location.href=t.errorCtaLink:n?.()},variant:"error"},watermark:!0})},zY={component:()=>{let{navigate:e,data:t,lastScreen:n,currentScreen:r}=QH(),i=Mf(),{reset:s}=Dq(),o=t?.errorModalData?.previousScreen||(n===r?void 0:n);return(0,ri.jsx)(FY,{error:t?.errorModalData?.error||Error(),allowlistConfig:i.allowlistConfig,onRetry:()=>{e(o||a3,!1)},onCaptchaReset:s})}};let WY=Ay.a.withConfig({displayName:"Link",componentId:"sc-e29a7de8-0"})(["color:var(--privy-color-accent) !important;font-weight:600;"]);const qY=({onTransfer:e,isTransferring:t,transferSuccess:n})=>(0,ri.jsx)(IV,{...n?{success:!0,children:"Success!"}:{warn:!0,loading:t,onClick:e,children:"Transfer and delete account"}}),HY=Ay.div.withConfig({displayName:"ConnectContainer",componentId:"sc-3505eb4c-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;width:100%;padding-bottom:16px;"]),VY=Ay.div.withConfig({displayName:"GappedContainer",componentId:"sc-3505eb4c-1"})(["display:flex;flex-direction:column;&& p{font-size:14px;}width:100%;gap:16px;"]),KY=Ay.div.withConfig({displayName:"DisclosedAccountContainer",componentId:"sc-3505eb4c-2"})(["display:flex;cursor:pointer;align-items:center;width:100%;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);padding:8px 10px;font-size:14px;font-weight:500;gap:8px;"]),GY=Ay(Zy).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-3505eb4c-3"})(["position:relative;width:",";height:",";color:var(--privy-color-foreground-3);margin-left:auto;"],({$iconSize:e})=>`${e}px`,({$iconSize:e})=>`${e}px`),ZY=Ay(Jy).withConfig({displayName:"StyledCopyIcon",componentId:"sc-3505eb4c-4"})(["position:relative;width:15px;height:15px;color:var(--privy-color-foreground-3);margin-left:auto;"]),YY=Ay.ol.withConfig({displayName:"ListContainer",componentId:"sc-3505eb4c-5"})(["display:flex;flex-direction:column;font-size:14px;width:100%;text-align:left;"]),JY=Ay.li.withConfig({displayName:"ListItem",componentId:"sc-3505eb4c-6"})(["font-size:14px;list-style-type:auto;list-style-position:outside;margin-left:1rem;margin-bottom:0.5rem;&:last-child{margin-bottom:0;}"]),QY=Ay.div.withConfig({displayName:"CircleContainer",componentId:"sc-3505eb4c-7"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]);let XY=()=>(0,ri.jsx)(QY,{children:(0,ri.jsx)(GY,{$iconSize:60})});const eJ=({address:e,onClose:t,onRetry:n,onTransfer:r,isTransferring:i,transferSuccess:s})=>{let{defaultChain:o}=Mf(),a=o.blockExplorers?.default.url??"https://etherscan.io";return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{onClose:t,backFn:n}),(0,ri.jsxs)(HY,{children:[(0,ri.jsx)(XY,{}),(0,ri.jsxs)(VY,{children:[(0,ri.jsx)("h3",{children:"Check account assets before transferring"}),(0,ri.jsx)("p",{children:"Before transferring, ensure there are no assets in the other account. Assets in that account will not transfer automatically and may be lost."}),(0,ri.jsxs)(YY,{children:[(0,ri.jsx)("p",{children:" To check your balance, you can:"}),(0,ri.jsx)(JY,{children:"Log out and log back into the other account, or "}),(0,ri.jsxs)(JY,{children:["Copy your wallet address and use a"," ",(0,ri.jsx)("u",{children:(0,ri.jsx)("a",{target:"_blank",href:a,children:"block explorer"})})," ","to see if the account holds any assets."]})]}),(0,ri.jsxs)(KY,{onClick:()=>navigator.clipboard.writeText(e).catch(console.error),children:[(0,ri.jsx)(Ky,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),(0,ri.jsx)(SY,{address:e,showCopyIcon:!1}),(0,ri.jsx)(ZY,{})]}),(0,ri.jsx)(qY,{onTransfer:r,isTransferring:i,transferSuccess:s})]})]}),(0,ri.jsx)(gV,{})]})},tJ={component:()=>{let{initiateAccountTransfer:e,closePrivyModal:t}=Jd(),{data:n,navigate:r,lastScreen:i,setModalData:s}=QH(),[o,a]=(0,ei.useState)(void 0),[c,l]=(0,ei.useState)(!1),[u,d]=(0,ei.useState)(!1),h=async()=>{try{if(!n?.accountTransfer?.nonce||!n?.accountTransfer?.account)throw Error("missing account transfer inputs");d(!0),await e({nonce:n?.accountTransfer?.nonce,account:n?.accountTransfer?.account,accountType:n?.accountTransfer?.linkMethod,externalWalletMetadata:n?.accountTransfer?.externalWalletMetadata,telegramWebAppData:n?.accountTransfer?.telegramWebAppData,telegramAuthResult:n?.accountTransfer?.telegramAuthResult,farcasterEmbeddedAddress:n?.accountTransfer?.farcasterEmbeddedAddress,oAuthUserInfo:n?.accountTransfer?.oAuthUserInfo}),l(!0),d(!1),setTimeout(t,1e3)}catch(e){s({errorModalData:{error:e,previousScreen:i||tJ}}),r(zY,!0)}};return o?(0,ri.jsx)(eJ,{address:o,onClose:t,onRetry:()=>a(void 0),onTransfer:h,isTransferring:u,transferSuccess:c}):(0,ri.jsx)(nJ,{onClose:t,onInfo:()=>a(n?.accountTransfer?.embeddedWalletAddress),onContinue:()=>a(n?.accountTransfer?.embeddedWalletAddress),onTransfer:h,isTransferring:u,transferSuccess:c,data:n})}},nJ=({onClose:e,onContinue:t,onInfo:n,onTransfer:r,transferSuccess:i,isTransferring:s,data:o})=>{if(!o?.accountTransfer?.linkMethod||!o?.accountTransfer?.displayName)return;let a={method:o?.accountTransfer?.linkMethod,handle:o?.accountTransfer?.displayName,disclosedAccount:o?.accountTransfer?.embeddedWalletAddress?{type:"wallet",handle:o?.accountTransfer?.embeddedWalletAddress}:void 0};return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{closeable:!0}),(0,ri.jsxs)(HY,{children:[(0,ri.jsx)($G,{children:(0,ri.jsxs)("div",{children:[(0,ri.jsx)(CY,{color:"var(--privy-color-error)"}),(0,ri.jsx)(Hy,{height:38,width:38,stroke:"var(--privy-color-error)"})]})}),(0,ri.jsxs)(VY,{children:[(0,ri.jsxs)("h3",{children:[function(e){switch(e){case"sms":return"Phone number";case"email":return"Email address";case"siwe":return"Wallet address";case"siws":return"Solana wallet address";case"linkedin":return"LinkedIn profile";case"google":case"apple":case"discord":case"github":case"instagram":case"spotify":case"tiktok":case"line":case"twitch":case"twitter":case"telegram":case"farcaster":return`${sq(e.replace("_oauth",""))} profile`;default:return e.startsWith("privy:")?"Cross-app account":e}}(a.method)," is associated with another account"]}),(0,ri.jsxs)("p",{children:["Do you want to transfer",(0,ri.jsx)("b",{children:a.handle?` ${a.handle}`:""})," to this account instead? This will delete your other account."]}),(0,ri.jsx)(rJ,{onClick:n,disclosedAccount:a.disclosedAccount})]}),(0,ri.jsxs)(VY,{style:{gap:12,marginTop:12},children:[o?.accountTransfer?.embeddedWalletAddress?(0,ri.jsx)(IV,{onClick:t,children:"Continue"}):(0,ri.jsx)(qY,{onTransfer:r,transferSuccess:i,isTransferring:s}),(0,ri.jsx)(OV,{onClick:e,children:"No thanks"})]})]}),(0,ri.jsx)(gV,{})]})};function rJ({disclosedAccount:e,onClick:t}){return e?(0,ri.jsxs)(KY,{onClick:t,children:[(0,ri.jsx)(Ky,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),(0,ri.jsx)(SY,{address:e.handle,showCopyIcon:!1}),(0,ri.jsx)(PY,{width:15,height:15,color:"var(--privy-color-foreground-3)",style:{marginLeft:"auto"}})]}):null}const iJ=({errorMessage:e,onClose:t})=>(0,ri.jsx)(bK,e?{title:"Something went wrong",subtitle:e,icon:uh,iconVariant:"error",primaryCta:{label:"Close",onClick:t},watermark:!0}:{title:"Creating your wallet",subtitle:"Please wait...",iconVariant:"loading",watermark:!1}),sJ={component:()=>{let{setModalData:e,navigate:t,data:n,onUserCloseViaDialogOrKeybindRef:r}=QH(),i=Mf(),[s,o]=(0,ei.useState)(""),{embeddedWallets:a}=Mf(),{authenticated:c,user:l}=eV(),{closePrivyModal:u,walletProxy:d,client:h}=Jd(),{onSuccess:f,onFailure:p,callAuthOnSuccessOnClose:g,shouldCreateEth:m,shouldCreateSol:y}=n.createWallet,w="legacy-embedded-wallets-only"===i.embeddedWallets.mode&&!0===i?.embeddedWallets.requireUserOwnedRecoveryOnCreate,[b,v]=(0,ei.useState)(null),{create:x}=rZ(),E=m??(!!l&&wY(l,i.embeddedWallets.ethereum.createOnLogin)),k=y??(!!l&&vY(l,i.embeddedWallets.solana.createOnLogin)),_=new eq(async()=>{let e=await h.getAccessToken();if(l&&e&&d)try{let e;if(E&&k)e=await x({chainType:"ethereum",walletIndex:0,latestUser:l}),e=await x({chainType:"solana",walletIndex:0,latestUser:e.user});else if(k)e=await x({chainType:"solana",walletIndex:0,latestUser:l});else{if(!E)return void u({shouldCallAuthOnSuccess:g});e=await x({chainType:"ethereum",walletIndex:0,latestUser:l})}v(e),t(sZ)}catch(e){o(e.message)}});return(0,ei.useEffect)(()=>c&&l?w?(e({...n,createWallet:{...n.createWallet,shouldCreateEth:E,shouldCreateSol:k},recoverySelection:{...n?.recoverySelection,isInAccountCreateFlow:!0,shouldCreateEth:E,shouldCreateSol:k}}),t(b3({walletAction:"create",showAutomaticRecovery:!1,availableRecoveryMethods:a.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:!1,isResettingPassword:!1}))):void _.execute():(t(a3),void p(Error("User must be authenticated before creating a Privy wallet"))),[w,c]),r.current=()=>null,(0,ri.jsx)(iJ,{errorMessage:s||void 0,onClose:()=>{b?(f(b),u({shouldCallAuthOnSuccess:g})):(p(new Ud("User wallet creation failed")),u({shouldCallAuthOnSuccess:!1}))}})}},oJ={component:()=>{let{user:e,logout:t}=eV(),{onUserCloseViaDialogOrKeybindRef:n,setModalData:r,navigate:i}=QH(),s=Mf(),{acceptTerms:o,closePrivyModal:a,createAnalyticsEvent:c}=Jd(),l=e=>{e?.preventDefault(),a({shouldCallAuthOnSuccess:!1}),t()};return n.current=l,(0,ri.jsx)(aJ,{termsAndConditionsUrl:s?.legal.termsAndConditionsUrl,privacyPolicyUrl:s?.legal.privacyPolicyUrl,onAccept:async n=>{n?.preventDefault(),await o(),e&&EY(e,s.embeddedWallets)?(r({createWallet:{onSuccess:()=>{},onFailure:e=>{console.error(e),c({eventName:"embedded_wallet_creation_failure_logout",payload:{error:e,screen:"AffirmativeConsentScreen"}}),t()},callAuthOnSuccessOnClose:!0}}),i(sJ)):a()},onDecline:l})}},aJ=({termsAndConditionsUrl:e,privacyPolicyUrl:t,onAccept:n,onDecline:r,title:i="One last step",subtitle:s="By signing up, you agree to our terms and privacy policy."})=>(0,ri.jsx)(bK,{title:i,subtitle:s,icon:dh,primaryCta:{label:"Accept",onClick:n},secondaryCta:{label:"No thanks",onClick:r},watermark:!0,children:(e||t)&&(0,ri.jsxs)(cJ,{children:[e&&(0,ri.jsxs)(CV,{variant:"muted",href:e,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Terms",(0,ri.jsx)(hh,{width:16,height:16,strokeWidth:2.25})]}),t&&(0,ri.jsxs)(CV,{variant:"muted",href:t,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Privacy Policy",(0,ri.jsx)(hh,{width:16,height:16,strokeWidth:2.25})]})]})});let cJ=Ay.div.withConfig({displayName:"LinksContainer",componentId:"sc-21e1b98c-0"})(["display:flex;flex-direction:column;gap:12px;margin-top:var(--screen-space);"]);const lJ=({color:e,...t})=>(0,ri.jsx)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 115.77 122.88",xmlSpace:"preserve",...t,children:(0,ri.jsx)("g",{children:(0,ri.jsx)("path",{fill:e||"currentColor",className:"st0",d:"M89.62,13.96v7.73h12.19h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02v0.02 v73.27v0.01h-0.02c-0.01,3.84-1.57,7.33-4.1,9.86c-2.51,2.5-5.98,4.06-9.82,4.07v0.02h-0.02h-61.7H40.1v-0.02 c-3.84-0.01-7.34-1.57-9.86-4.1c-2.5-2.51-4.06-5.98-4.07-9.82h-0.02v-0.02V92.51H13.96h-0.01v-0.02c-3.84-0.01-7.34-1.57-9.86-4.1 c-2.5-2.51-4.06-5.98-4.07-9.82H0v-0.02V13.96v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07V0h0.02h61.7 h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02V13.96L89.62,13.96z M79.04,21.69v-7.73v-0.02h0.02 c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v64.59v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h12.19V35.65 v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07v-0.02h0.02H79.04L79.04,21.69z M105.18,108.92V35.65v-0.02 h0.02c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v73.27v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h61.7h0.02 v0.02c0.91,0,1.75-0.39,2.37-1.01c0.61-0.61,1-1.46,1-2.37h-0.02V108.92L105.18,108.92z"})})});let uJ=Ay.button.withConfig({displayName:"CopyTextButton",componentId:"sc-4b0620dc-0"})(["display:flex;align-items:center;gap:0.5rem;&:hover{text-decoration:underline;}svg{width:0.875rem;height:0.875rem;}"]),dJ=Ay.span.withConfig({displayName:"CopiedText",componentId:"sc-4b0620dc-1"})(["display:flex;align-items:center;gap:0.25rem;font-size:0.875rem;color:var(--privy-color-foreground-2);"]),hJ=Ay(Fw).withConfig({displayName:"GreenCheck",componentId:"sc-4b0620dc-2"})(["color:var(--privy-color-success);"]),fJ=Ay(lJ).withConfig({displayName:"StyledCopy",componentId:"sc-4b0620dc-3"})(["color:var(--privy-color-foreground-3);opactiy:0.5;"]);function pJ({children:e,iconOnly:t,value:n,hideCopyIcon:r,...i}){let[s,o]=(0,ei.useState)(!1);return(0,ri.jsxs)(uJ,{...i,onClick:()=>{navigator.clipboard.writeText(n||e).catch(console.error),o(!0),setTimeout(()=>o(!1),1500)},children:[e," ",s?(0,ri.jsxs)(dJ,{children:[(0,ri.jsx)(hJ,{})," ",!t&&"Copied"]}):!r&&(0,ri.jsx)(fJ,{})]})}const gJ=()=>(0,ri.jsx)("svg",{width:"200",height:"200",viewBox:"-77 -77 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px"},children:(0,ri.jsx)("rect",{width:"50",height:"50",fill:"black",rx:10,ry:10})});let mJ=(e,t,n,r,i)=>{for(let s=t;s<t+r;s++)for(let t=n;t<n+i;t++){let n=e?.[t];n&&n[s]&&(n[s]=0)}return e},yJ=({x:e,y:t,cellSize:n,bgColor:r,fgColor:i})=>(0,ri.jsx)(ri.Fragment,{children:[0,1,2].map(s=>(0,ri.jsx)("circle",{r:n*(7-2*s)/2,cx:e+7*n/2,cy:t+7*n/2,fill:s%2!=0?r:i},`finder-${e}-${t}-${s}`))}),wJ=({cellSize:e,matrixSize:t,bgColor:n,fgColor:r})=>(0,ri.jsx)(ri.Fragment,{children:[[0,0],[(t-7)*e,0],[0,(t-7)*e]].map(([t,i])=>(0,ri.jsx)(yJ,{x:t,y:i,cellSize:e,bgColor:n,fgColor:r},`finder-${t}-${i}`))}),bJ=({matrix:e,cellSize:t,color:n})=>(0,ri.jsx)(ri.Fragment,{children:e.map((e,r)=>e.map((e,i)=>e?(0,ri.jsx)("rect",{height:t-.4,width:t-.4,x:r*t+.1*t,y:i*t+.1*t,rx:.5*t,ry:.5*t,fill:n},`cell-${r}-${i}`):(0,ri.jsx)(ei.Fragment,{},`circle-${r}-${i}`)))}),vJ=({cellSize:e,matrixSize:t,element:n,sizePercentage:r,bgColor:i})=>{if(!n)return(0,ri.jsx)(ri.Fragment,{});let s=t*(r||.14),o=Math.floor(t/2-s/2),a=Math.floor(t/2+s/2);(a-o)%2!=t%2&&(a+=1);let c=(a-o)*e,l=c-.2*c,u=o*e;return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)("rect",{x:o*e,y:o*e,width:c,height:c,fill:i}),(0,ri.jsx)(n,{x:u+.1*c,y:u+.1*c,height:l,width:l})]})},xJ=e=>{let t=e.outputSize,n=((e,t)=>{let n=Yr.create(e,{errorCorrectionLevel:t}).modules,r=((e,t)=>{let n=e.slice(0),r=[];for(;n.length;)r.push(n.splice(0,t));return r})(Array.from(n.data),n.size);return r=mJ(r,0,0,7,7),r=mJ(r,r.length-7,0,7,7),mJ(r,0,r.length-7,7,7)})(e.url,e.errorCorrectionLevel),r=t/n.length,i=function(e,{min:t,max:n}){return Math.min(Math.max(e,t),n)}(2*r,{min:.025*t,max:.036*t});return(0,ri.jsxs)("svg",{height:e.outputSize,width:e.outputSize,viewBox:`0 0 ${e.outputSize} ${e.outputSize}`,style:{height:"100%",width:"100%",padding:`${i}px`},children:[(0,ri.jsx)(bJ,{matrix:n,cellSize:r,color:e.fgColor}),(0,ri.jsx)(wJ,{cellSize:r,matrixSize:n.length,fgColor:e.fgColor,bgColor:e.bgColor}),(0,ri.jsx)(vJ,{cellSize:r,element:e.logo?.element,bgColor:e.bgColor,matrixSize:n.length})]})},EJ=Ay.div.attrs({className:"ph-no-capture"}).withConfig({displayName:"QrContainer",componentId:"sc-597e27f3-0"})(["display:flex;justify-content:center;align-items:center;height:",";width:",";margin:auto;background-color:",";&&{border-width:2px;border-color:",";border-radius:var(--privy-border-radius-md);}"],e=>`${e.$size}px`,e=>`${e.$size}px`,e=>e.$bgColor,e=>e.$borderColor);const kJ=e=>{let{appearance:t}=Mf(),n=e.bgColor||"#FFFFFF",r=e.fgColor||"#000000",i=e.size||160,s="dark"===t.palette.colorScheme?n:r;return(0,ri.jsx)(EJ,{$size:i,$bgColor:n,$fgColor:r,$borderColor:s,children:(0,ri.jsx)(xJ,{url:e.url,logo:{element:e.squareLogoElement??gJ},outputSize:i,bgColor:n,fgColor:r,errorCorrectionLevel:e.errorCorrectionLevel||"Q"})})},_J=Ay.span.withConfig({displayName:"ErrorMessage",componentId:"sc-fcb8cd50-0"})(["text-align:left;font-size:0.75rem;font-weight:500;line-height:1.125rem;color:var(--privy-color-error);"]);let CJ=Ay.label.withConfig({displayName:"BaseEmailForm",componentId:"sc-f34af797-0"})(["display:block;position:relative;width:100%;height:56px;&& > :first-child{position:absolute;left:0.75em;top:50%;transform:translate(0,-50%);}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);padding:12px 88px 12px 52px;flex-grow:1;background:var(--privy-color-background);border:1px solid ",";border-radius:var(--privy-border-radius-md);width:100%;height:100%;@media (min-width:441px){font-size:14px;padding-right:78px;}:focus{outline:none;border-color:",";box-shadow:",";}:autofill,:-webkit-autofill{background:var(--privy-color-background);}&& > input::placeholder{color:var(--privy-color-foreground-3);}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}"],({$error:e})=>e?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)",({$error:e})=>e?"var(--privy-color-error) !important":"var(--privy-color-accent-light)",({$error:e})=>e?"none":"0 0 0 1px var(--privy-color-accent-light)");const SJ=Ay(CJ).withConfig({displayName:"EmailUpdateForm",componentId:"sc-f34af797-1"})(["background-color:var(--privy-color-background);transition:background-color 200ms ease;&& > button{right:0;line-height:24px;position:absolute;padding:13px 17px;background-color:#090;:focus{outline:none;border-color:var(--privy-color-accent);}}"]),IJ=Ay(CJ).withConfig({displayName:"EmailInputForm",componentId:"sc-f34af797-2"})(["&& > input{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:",";border:1px solid ",";&& > input::placeholder{color:var(--privy-color-foreground-3);}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}}"],e=>e.$stacked?"16px":"88px",({$error:e})=>e?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)"),AJ=Ay.div.withConfig({displayName:"InputContainerForm",componentId:"sc-f34af797-3"})(["width:100%;&& > ","{display:block;text-align:left;padding-left:var(--privy-border-radius-md);padding-bottom:5px;}"],_J),TJ=({...e})=>(0,ri.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[(0,ri.jsx)("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),(0,ri.jsx)("path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2"}),(0,ri.jsx)("path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21"})]}),PJ={phantom:{mobile:{native:"phantom://",universal:"https://phantom.app/ul/"}},solflare:{mobile:{native:void 0,universal:"https://solflare.com/ul/v1/"}},metamask:{image_url:{sm:SH,md:SH}}};class OJ{static normalize(e){return e.replace(/[-_]wallet$/,"").replace(/[-_]extension$/,"").toLowerCase()}isEth(e){return e.chains.some(e=>e.startsWith("eip155:"))}isSol(e){return e.chains.some(e=>e.startsWith("solana:"))}inAllowList(e,t){if(!this.normalizedAllowList||0===this.normalizedAllowList.length||"listing"===t&&this.includeWalletConnect)return!0;let n=OJ.normalize(e);return this.normalizedAllowList.some(e=>n===OJ.normalize(e))}chainMatches(e){return"ethereum-only"===this.chainFilter?"ethereum"===e:"solana-only"!==this.chainFilter||"solana"===e}connectorOk(e){return!("null"===e.connectorType||"walletconnect_solana"===e.walletBranding.id||!this.chainMatches(e.chainType)||!this.inAllowList(e.walletClientType,"connector")&&("injected"!==e.connectorType&&"solana_adapter"!==e.connectorType||!("ethereum"===e.chainType&&this.detectedEth||"solana"===e.chainType&&this.detectedSol)))}listingOk(e){if(e.slug.includes("coinbase"))return!1;if("ethereum-only"===this.chainFilter){if(!this.isEth(e))return!1}else if("solana-only"===this.chainFilter&&!this.isSol(e))return!1;return!!this.inAllowList(e.slug,"listing")}getWallets(e,t){let n=new Map,r=e=>{let t=n.get(e.id);if(t){t.chainType!==e.chainType&&(t.chainType="multi");let n=new Set(t.chains);e.chains.forEach(e=>n.add(e)),t.chains=Array.from(n),!t.icon&&e.icon&&(t.icon=e.icon),!t.url&&e.url&&(t.url=e.url),!t.listing&&e.listing&&(t.listing=e.listing)}else n.set(e.id,e)};e.filter(e=>this.connectorOk(e)).forEach(e=>{let t=OJ.normalize(e.walletClientType);r({id:t,label:e.walletBranding?.name??t,source:"connector",connector:e,chainType:e.chainType,icon:e.walletBranding?.icon,url:void 0,chains:["ethereum"===e.chainType?"eip155":"solana"]})});let i=e.find(e=>"walletconnect_solana"===e.walletBranding.id);t.filter(e=>this.listingOk(e)).forEach(e=>{let t=[...e.chains].filter(e=>e.startsWith("eip155")||e.startsWith("solana"));if(this.includeWalletConnect||(t=t.filter(e=>!e.startsWith("eip155"))),e.mobile.native||e.mobile.universal||i||(t=t.filter(e=>!e.startsWith("solana"))),!t.length)return;let n=OJ.normalize(e.slug),s=PJ[e.slug],o=s?.image_url?.sm||e.image_url?.sm;t.some(e=>e.startsWith("eip155"))&&r({id:n,label:e.name||n,source:"listing",listing:e,chainType:"ethereum",icon:o,url:e.homepage,chains:t}),t.some(e=>e.startsWith("solana"))&&r({id:n,label:e.name||n,source:"listing",listing:e,chainType:"solana",icon:o,url:e.homepage,chains:t})});let s=e.find(e=>"wallet_connect_v2"===e.connectorType);this.includeWalletConnectQr&&s&&r({id:"wallet_connect_qr",label:"WalletConnect",source:"connector",connector:s,chainType:"ethereum",icon:UH,url:void 0,chains:["eip155"]}),this.includeWalletConnectQrSolana&&i&&r({id:"wallet_connect_qr_solana",label:"WalletConnect",source:"connector",connector:i,chainType:"solana",icon:UH,url:void 0,chains:["solana"]});let o=Array.from(n.values());o.forEach(e=>{let t=PJ[e.listing?.slug||e.id];t?.image_url?.sm&&(e.icon=t.image_url.sm)});let a=new Map;return this.normalizedAllowList?.forEach((e,t)=>{a.set(OJ.normalize(e),t)}),{wallets:o.slice().sort((e,t)=>{let n=OJ.normalize(e.id),r=OJ.normalize(t.id);"binance-defi"===n?n="binance":"universalprofiles"===n?n="universal_profile":"cryptocom-defi"===n&&(n="cryptocom"),"binance-defi"===r?r="binance":"universalprofiles"===r?r="universal_profile":"cryptocom-defi"===r&&(r="cryptocom");let i=a.has(n),s=a.has(r);return i&&s?a.get(n)-a.get(r):i?-1:s?1:"connector"===e.source&&"listing"===t.source?-1:"listing"===e.source&&"connector"===t.source?1:e.label.toLowerCase().localeCompare(t.label.toLowerCase())}),walletCount:o.length}}constructor(e,t){this.chainFilter=e,t&&t.length>0&&(this.normalizedAllowList=t.map(String),this.normalizedAllowList.includes("binance")&&this.normalizedAllowList.push("binance-defi-wallet")),this.detectedEth=this.normalizedAllowList?.includes("detected_ethereum_wallets")??!1,this.detectedSol=this.normalizedAllowList?.includes("detected_solana_wallets")??!1,this.includeWalletConnect=this.normalizedAllowList?.includes("wallet_connect")??!1,this.includeWalletConnectQr=this.normalizedAllowList?.includes("wallet_connect_qr")??!1,this.includeWalletConnectQrSolana=this.normalizedAllowList?.includes("wallet_connect_qr_solana")??!1}}var jJ=e=>(0,ri.jsxs)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,ri.jsx)("path",{d:"m0 0h32v32h-32z",fill:"#5469d4"}),(0,ri.jsx)("path",{d:"m15.997 5.333-.143.486v14.106l.143.143 6.548-3.87z",fill:"#c2ccf4"}),(0,ri.jsx)("path",{d:"m15.996 5.333-6.548 10.865 6.548 3.87z",fill:"#fff"}),(0,ri.jsx)("path",{d:"m15.997 21.306-.08.098v5.025l.08.236 6.552-9.227z",fill:"#c2ccf4"}),(0,ri.jsx)("path",{d:"m15.996 26.665v-5.36l-6.548-3.867z",fill:"#fff"}),(0,ri.jsx)("path",{d:"m15.995 20.07 6.548-3.87-6.548-2.976v6.847z",fill:"#8698e8"}),(0,ri.jsx)("path",{d:"m9.448 16.2 6.548 3.87v-6.846z",fill:"#c2ccf4"})]}),NJ=e=>(0,ri.jsxs)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,ri.jsxs)("linearGradient",{id:"a",gradientUnits:"userSpaceOnUse",x1:"7.233",x2:"24.766",y1:"24.766",y2:"7.234",children:[(0,ri.jsx)("stop",{offset:"0",stopColor:"#9945ff"}),(0,ri.jsx)("stop",{offset:".2",stopColor:"#7962e7"}),(0,ri.jsx)("stop",{offset:"1",stopColor:"#00d18c"})]}),(0,ri.jsx)("path",{d:"m0 0h32v32h-32z",fill:"#10111a"}),(0,ri.jsx)("path",{clipRule:"evenodd",d:"m9.873 20.41a.645.645 0 0 1 .476-.21l14.662.012a.323.323 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54zm15.376-2.862a.322.322 0 0 1 -.238.54l-14.662.012a.642.642 0 0 1 -.476-.21l-3.122-3.44a.323.323 0 0 1 .238-.54l14.662-.012a.644.644 0 0 1 .475.21zm-15.376-9.738a.644.644 0 0 1 .476-.21l14.662.012a.322.322 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54z",fill:"url(#a)",fillRule:"evenodd"})]});const RJ=Ay.div.withConfig({displayName:"WalletIconWithActiveIndicator",componentId:"sc-9b65f2b6-2"})(["position:relative;display:inline-flex;align-items:center;&::after{content:' ';border-radius:var(--privy-border-radius-full);height:6px;width:6px;background-color:var(--privy-color-icon-success);position:absolute;right:-3px;top:-3px;}"]),$J=Ay.img.withConfig({displayName:"WalletIcon",componentId:"sc-9b65f2b6-3"})(["width:32px;height:32px;border-radius:0.25rem;object-fit:contain;"]),MJ=Ay.span.withConfig({displayName:"Chip",componentId:"sc-9b65f2b6-4"})(["display:flex;gap:0.25rem;align-items:center;padding:0.25rem 0.5rem;font-size:0.75rem;font-weight:500;line-height:1.125rem;border-radius:var(--privy-border-radius-sm);background-color:var(--privy-color-background-2);svg{width:100%;max-width:1rem;max-height:1rem;stroke-width:2;}"]),LJ=gw(()=>({isModalOpen:!1,resolvers:null}));gw(()=>({}));function BJ({enabled:e=!0,walletList:t,walletChainType:n}){let r=Mf(),{connectors:i}=Jd(),{listings:s,loading:o}=qH(e),a=n??r.appearance.walletChainType,c=t??r.appearance?.walletList,l=(0,ei.useMemo)(()=>new OJ(a,c),[a,c]),{wallets:u,walletCount:d}=(0,ei.useMemo)(()=>l.getWallets(i,s),[l,i,s]),[h,f]=(0,ei.useState)(""),p=(0,ei.useMemo)(()=>h?u.filter(e=>e.label.toLowerCase().includes(h.toLowerCase())):u,[h,u]),[g,m]=(0,ei.useState)();return{selected:g,setSelected:m,search:h,setSearch:f,loadingListings:o,wallets:p,walletCount:d}}let UJ=e=>!e||"string"!=typeof e&&(e instanceof _H||e instanceof LH);const DJ=({index:e,style:t,data:n,recent:r})=>{let i=n.wallets[e],{walletChainType:s,handleWalletClick:o}=n,a={...t,boxSizing:"border-box"};return i?(0,ri.jsxs)(qJ,{style:a,onClick:()=>o(i),children:[i.icon&&(i.connector&&!UJ(i.connector)?(0,ri.jsx)(RJ,{children:"string"==typeof i.icon?(0,ri.jsx)($J,{src:i.icon}):(0,ri.jsx)(i.icon,{style:{width:"32px",height:"32px"}})}):"string"==typeof i.icon?(0,ri.jsx)($J,{src:i.icon}):(0,ri.jsx)(i.icon,{style:{width:"32px",height:"32px"}})),(0,ri.jsx)(KJ,{children:i.label}),r?(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(MJ,{children:"Last used"}),(0,ri.jsx)(HJ,{children:(0,ri.jsxs)(ri.Fragment,{children:["ethereum-only"===s&&(0,ri.jsx)(jJ,{}),"solana-only"===s&&(0,ri.jsx)(NJ,{})]})})]}):(0,ri.jsx)(HJ,{children:!("ethereum-only"===s||"solana-only"===s)&&(0,ri.jsxs)(ri.Fragment,{children:[i.chains?.some(e=>e.startsWith("eip155"))&&(0,ri.jsx)(jJ,{}),i.chains?.some(e=>e.startsWith("solana"))&&(0,ri.jsx)(NJ,{})]})})]}):null};var FJ=({className:e,customDescription:t,connectOnly:n,preSelectedWalletId:r,...i})=>{let s=Mf(),{connectors:o}=Jd(),a=i.walletChainType||s.appearance.walletChainType,c=i.walletList||s.appearance?.walletList,{onBack:l,onClose:u,app:d}=i,{selected:h,setSelected:f,qrUrl:p,setQrUrl:g,connecting:m,uiState:y,wallets:w,walletCount:b,handleConnect:v,handleBack:x,showSearchBar:E,isInitialConnectView:k,title:_,search:C,setSearch:S}=function({onConnect:e,onBack:t,onClose:n,onConnectError:r,walletList:i,walletChainType:s,app:o}){let a=Mf(),{connectors:c}=Jd(),{wallets:l,walletCount:u,search:d,setSearch:h,selected:f,setSelected:p}=BJ({enabled:KH(i??[]),walletList:i,walletChainType:s}),[g,m]=(0,ei.useState)(),[y,w]=(0,ei.useState)(),[b,v]=(0,ei.useState)(),x=!f&&!y&&!b,E=x&&(u>6||d.length>0),k=c.find(e=>"wallet_connect_v2"===e.connectorType),_=(0,ei.useCallback)(async(t,n)=>{if(t){if(b?.connector===t)return void console.log("Already connecting to this wallet, skipping duplicate attempt");if(m("loading"),"string"==typeof t)return v({connector:t,name:n?.name??"Wallet",icon:n?.icon}),void window.open(t,"_blank");v({connector:t,name:n?.name??t.walletBranding.name??"Wallet",icon:n?.icon??t.walletBranding.icon});try{let n=await t.connect({showPrompt:!0});if(!n)return m("error"),void r?.(new Rd("Unable to connect wallet"));m("success"),(({address:e,client:t,appId:n})=>{let r=`${t}:${e}`;n&&VW.put((e=>`privy:${e}:active-wallet-connection`)(n),r),LJ.setState({wallet:r})})({address:n.address,client:n.walletClientType,appId:a.id}),setTimeout(()=>{e({connector:t,wallet:n})},nf)}catch(t){if(console.error("ERROR: ",{e:t}),t?.message?.includes("already pending for origin")||t?.message?.includes("wallet_requestPermissions"))return void console.log("Connection request already pending, maintaining loading state");m("error"),r?.(new Rd("Unable to connect wallet"))}}},[a.id,e,b]),C=(0,ei.useCallback)(()=>y?(m(void 0),v(void 0),void w(void 0)):b?(m(void 0),void v(void 0)):f?(m(void 0),v(void 0),void p(void 0)):"error"===g||"loading"===g?(m(void 0),void v(void 0)):void t?.(),[y,b,f,g,t]),S=(0,ei.useMemo)(()=>b?.connector===k&&y&&si.Fr&&b?.name?`Go to ${b.name} to continue`:b?.connector===k&&y&&b?.name?`Scan code to connect to ${b.name}`:y&&b?.name?si.Fr?`Go to ${b.name} to continue`:`Scan code to connect to ${b.name}`:"string"==typeof b?.connector?`Open or install ${b.name}`:f&&!b?"Select network":b?null:"Select your wallet",[b,y,f,k]);return{selected:f,setSelected:p,qrUrl:y,setQrUrl:w,connecting:b,uiState:g,search:d,setSearch:h,wallets:l,walletCount:u,wc:k,isInitialConnectView:x,showSearchBar:E,title:S,handleConnect:_,handleBack:C,onClose:n,onConnect:e,app:o}}({...i,walletList:c,walletChainType:a}),I=o.find(e=>"wallet_connect_v2"===e.connectorType),A=o.find(e=>"walletconnect_solana"===e.walletBranding.id),T=(0,ei.useRef)(null),P=(R={count:w.length,getScrollElement:()=>T.current,estimateSize:()=>56,overscan:6,gap:5},function(e){const t=ei.useReducer(()=>({}),{})[1],n={...e,onChange:(n,r)=>{var i;r?(0,_w.flushSync)(t):t(),null==(i=e.onChange)||i.call(e,n,r)}},[r]=ei.useState(()=>new Lw(n));return r.setOptions(n),Uw(()=>r._didMount(),[]),Uw(()=>r._willUpdate()),r}({observeElementRect:Ow,observeElementOffset:Rw,scrollToFn:Mw,...R})),O=(0,ei.useCallback)(async e=>{let t,r="solana-only"!==a&&e.chains?.some(e=>e.startsWith("eip155")),i="ethereum-only"!==a&&e.chains?.some(e=>e.startsWith("solana")),s=TH[e.id];if(i&&s)t=s.getMobileRedirect({isSolana:!0,connectOnly:!!n,useUniversalLink:!1});else{let n=e.listing?.mobile?.native;t=e.listing?.mobile?.universal||n||e.url}if(r&&i){let n=OJ.normalize(e.id),r=o.filter(e=>OJ.normalize(e.walletClientType)===n&&!("ethereum"===e.chainType&&e instanceof _H||"solana"===e.chainType&&e instanceof LH)),i=r.find(e=>"ethereum"===e.chainType),s=r.find(e=>"solana"===e.chainType);if(!i&&I&&e.listing){let t=PJ[e.listing.slug]?{...e.listing,...PJ[e.listing.slug]}:e.listing;I.setWalletEntry(t,g),await I.resetConnection(e.id),i=I}if(!s&&A&&e.listing&&!si.Fr?(await A.disconnect(),A.wallet.setWalletEntry(e.listing,g),await new Promise(e=>setTimeout(e,100)),s=A):!s&&t&&(s=t),i||s)return void f({eth:i,sol:s,name:e.label,icon:e.icon})}if(!UJ(e.connector))return I&&"wallet_connect_v2"===e.connector?.connectorType&&(await I.resetConnection(e.id),I.setWalletEntry({id:"wallet_connect_qr",name:"WalletConnect",rdns:"",slug:"wallet-connect",homepage:"",chains:["eip155"],mobile:{native:"",universal:void 0}},g)),A&&"walletconnect_solana"===e.connector?.walletBranding.id&&(await A.disconnect(),A.wallet.setWalletEntry({id:"wallet_connect_solana_qr",name:"WalletConnect",rdns:"",slug:"wallet-connect-solana",homepage:"",chains:["solana"],mobile:{native:"",universal:void 0}},g),await new Promise(e=>setTimeout(e,100))),void await v(e.connector,{name:e.label,icon:e.icon});if(r||i||e.url||e.listing){if(r&&e.listing){let t=PJ[e.listing.slug]?{...e.listing,...PJ[e.listing.slug]}:e.listing;I.setWalletEntry(t,g),await I.resetConnection(e.id)}if(r&&i)return void f({eth:I,sol:t,name:e.label,icon:e.icon});if(i)return(!si.Fr||si.Fr&&!t)&&A&&e.listing&&!e.connector&&(await A.disconnect(),A.wallet.setWalletEntry(e.listing,g),await v(A,{name:e.label,icon:e.icon})),void(t&&await v(t,{name:e.label,icon:e.icon}));if(r)return void(e.listing?await v(I,{name:e.label,icon:e.icon}):e.url?await v(e.url,{name:e.label,icon:e.icon}):console.warn("Cannot connect to EVM wallet without connector or listing details:",e.label));if(e.url)return void await v(e.url,{name:e.label,icon:e.icon})}},[I,v,f,g,x,u,d,k,_,t,s,o]),j=l||x,N=!!l||!k;var R;return(0,ei.useEffect)(()=>{if(!r)return;let e=w.find(({id:e})=>e===r);e&&O(e).catch(console.error)},[r]),(0,ri.jsxs)(hK,{className:e,children:[(0,ri.jsx)(hK.Header,{icon:m&&!p||p&&si.Fr&&m?.icon?m.icon:m?void 0:TJ,iconVariant:m&&!p||p&&si.Fr?"loading":void 0,iconLoadingStatus:m&&!p||p&&si.Fr?{success:"success"===y,fail:"error"===y}:void 0,title:m&&!p?`Waiting for ${m.name}`:p&&si.Fr?`Waiting for ${m?.name??"connection"}`:_,subtitle:m&&!p&&"string"==typeof m.connector?`To connect to ${m.name}, install and open the app. Then confirm the connection when prompted.`:m&&!p&&"string"!=typeof m.connector?"error"===y?"Please try connecting again.":"For the best experience, connect only one wallet at a time.":k?t??(d?`Connect a wallet to your ${d.name} account`:null):null,showBack:N,showClose:!0,onBack:j,onClose:u}),(0,ri.jsxs)(hK.Body,{ref:T,$colorScheme:s.appearance.palette.colorScheme,style:{marginBottom:p?"0.5rem":void 0},children:[E&&(0,ri.jsx)(zJ,{children:(0,ri.jsxs)(SJ,{style:{background:"transparent"},children:[(0,ri.jsx)(cV,{children:(0,ri.jsx)(yw,{})}),(0,ri.jsx)("input",{className:"login-method-button",type:"text",placeholder:"Search wallets",onChange:e=>S(e.target.value),value:C})]})}),p&&si.Fr&&"loading"===y&&(0,ri.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:[(0,ri.jsx)(CV,{variant:"primary",onClick:()=>window.open(p.universal??p.native,"_blank"),style:{width:"100%"},children:"Open in app"}),(0,ri.jsx)(GJ,{value:p.universal??p.native,iconOnly:!0,children:"Copy link"})]}),p&&!si.Fr&&"loading"===y&&(0,ri.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:(0,ri.jsx)(GJ,{value:p.universal??p.native,iconOnly:!0,children:"Copy link"})}),p&&!si.Fr&&(0,ri.jsx)(kJ,{size:280,url:p.universal??p.native,squareLogoElement:m?.icon?"string"==typeof m.icon?e=>(0,ri.jsx)("svg",{...e,children:(0,ri.jsx)("image",{href:m.icon,height:e.height,width:e.width})}):m.icon:BH}),(0,ri.jsxs)(WJ,{children:[m&&!p&&"string"==typeof m.connector&&(0,ri.jsxs)(qJ,{onClick:()=>window.open(m.connector,"_blank"),children:[m.icon&&("string"==typeof m.icon?(0,ri.jsx)($J,{src:m.icon}):(0,ri.jsx)(m.icon,{})),(0,ri.jsx)(KJ,{children:m.name})]}),h?.eth&&!m&&(0,ri.jsxs)(qJ,{onClick:()=>v(h.eth,{name:h.name,icon:h.icon}),children:[h.icon&&("string"==typeof h.icon?(0,ri.jsx)($J,{src:h.icon}):(0,ri.jsx)(h.icon,{})),(0,ri.jsx)(KJ,{children:h.name}),(0,ri.jsx)(HJ,{children:(0,ri.jsx)(jJ,{})})]}),h?.sol&&!m&&(0,ri.jsxs)(qJ,{onClick:()=>v(h.sol,{name:h.name,icon:h.icon}),children:[h.icon&&("string"==typeof h.icon?(0,ri.jsx)($J,{src:h.icon}):(0,ri.jsx)(h.icon,{})),(0,ri.jsx)(KJ,{children:h.name}),(0,ri.jsx)(HJ,{children:(0,ri.jsx)(NJ,{})})]}),k&&(0,ri.jsxs)(ri.Fragment,{children:[!(b>0)&&(0,ri.jsx)(VJ,{children:"No wallets found. Try another search."}),b>0&&!p&&(0,ri.jsx)("div",{style:{maxHeight:56*Math.min(w.length,5)+5,width:"100%"},children:(0,ri.jsx)("div",{style:{height:`${P.getTotalSize()}px`,width:"100%",position:"relative"},children:P.getVirtualItems().map(e=>(0,ri.jsx)(DJ,{index:e.index,style:{position:"absolute",top:0,left:0,height:`${e.size}px`,transform:`translateY(${e.start}px)`},data:{wallets:w,walletChainType:a,handleWalletClick:O}},e.key))})})]})]})]}),(0,ri.jsxs)(hK.Footer,{children:[m&&!p&&"string"!=typeof m.connector&&"error"===y&&(0,ri.jsx)(hK.Actions,{children:(0,ri.jsx)(CV,{style:{width:"100%",alignItems:"center"},variant:"error",onClick:()=>v(m.connector,{name:m.name,icon:m.icon}),children:"Retry"})}),!!(d&&d.legal.privacyPolicyUrl&&d.legal.termsAndConditionsUrl)&&(0,ri.jsx)(pV,{app:d,alwaysShowImplicitConsent:!0}),(0,ri.jsx)(hK.Watermark,{})]})]})};let zJ=Ay.div.withConfig({displayName:"StickySearchContainer",componentId:"sc-2e9f1caf-0"})(["position:sticky;margin-top:-3px;padding-top:3px;top:-3px;z-index:1;background:var(--privy-color-background);padding-bottom:calc(var(--screen-space) / 2);"]),WJ=Ay.div.withConfig({displayName:"WalletListContainer",componentId:"sc-2e9f1caf-1"})(["display:flex;flex-direction:column;gap:","px;"],5),qJ=Ay.button.withConfig({displayName:"Button",componentId:"sc-2e9f1caf-2"})(["&&{gap:0.5rem;align-items:center;display:flex;position:relative;text-align:left;font-weight:500;transition:background 200ms ease-in;width:calc(100% - 4px);border-radius:var(--privy-border-radius-md);padding:0.75em;border:1px solid var(--privy-color-foreground-4);justify-content:space-between;}&:hover{background:var(--privy-color-background-2);}"]),HJ=Ay.span.withConfig({displayName:"ButtonBadge",componentId:"sc-2e9f1caf-3"})(["display:flex;align-items:center;justify-content:end;position:relative;& > svg{border-radius:var(--privy-border-radius-full);stroke-width:2.5;width:100%;max-height:1rem;max-width:1rem;flex-shrink:0;}& > svg:not(:last-child){border-radius:var(--privy-border-radius-full);margin-right:-0.375rem;}"]),VJ=Ay.div.withConfig({displayName:"EmptyContainer",componentId:"sc-2e9f1caf-4"})(["height:60px;display:flex;align-items:center;justify-content:center;text-align:center;"]),KJ=Ay.span.withConfig({displayName:"WalletName",componentId:"sc-2e9f1caf-5"})(["text-overflow:ellipsis;white-space:nowrap;color:var(--privy-color-foreground);font-weight:400;flex:1;"]),GJ=Ay(pJ).withConfig({displayName:"StyledCopyableText",componentId:"sc-2e9f1caf-6"})(["&&{margin:0.5rem auto 0 auto;}"]);const ZJ=({...e})=>(0,ri.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",...e,children:[(0,ri.jsxs)("g",{clipPath:"url(#clip0_2856_1743)",children:[(0,ri.jsx)("path",{d:"M22.1673 8.24075V16.3642C22.1673 17.3256 21.3421 18.105 20.3241 18.105H17.0028M22.1673 8.24075C22.1673 7.27936 21.3421 6.5 20.3241 6.5H11.5302M22.1673 8.24075V8.42852C22.1673 9.03302 21.8352 9.59423 21.2901 9.91105L15.1463 13.4818C14.5539 13.8261 13.8067 13.8261 13.2143 13.4818L10.1621 11.5401",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,ri.jsx)("path",{d:"M3.12913 6.64816C0.508085 12.9507 3.49251 20.1847 9.79504 22.8057L11.5068 23.5176C12.4522 23.9108 13.7783 23.2222 14.1714 22.2768L14.6054 21.2333C14.7687 20.8406 14.6438 20.3871 14.3024 20.1334L11.2872 17.8927C10.9878 17.6702 10.5843 17.6488 10.2632 17.8384L9.11575 18.5156C8.78274 18.7121 8.3597 18.6844 8.07552 18.4221C5.94293 16.4542 4.77629 13.6264 4.90096 10.7273C4.91757 10.3409 5.19796 10.023 5.57269 9.92753L6.86381 9.59869C7.22522 9.50664 7.49627 9.20696 7.55169 8.83815L8.10986 5.12321C8.17306 4.70259 7.94188 4.29293 7.54915 4.1296L6.50564 3.69564C5.56026 3.30248 4.23416 3.99103 3.84101 4.9364L3.12913 6.64816Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,ri.jsx)("defs",{children:(0,ri.jsx)("clipPath",{id:"clip0_2856_1743",children:(0,ri.jsx)("rect",{x:"0.5",y:"0.5",width:"24",height:"24",rx:"6",fill:"white"})})})]}),YJ=e=>{let t=localStorage.getItem("-walletlink:https://www.walletlink.org:Addresses")?.split(" ").filter(e=>(0,ci.q)(e,{strict:!0})).map(e=>(0,ai.b)(e));return!!t?.length&&!!e?.linkedAccounts.filter(e=>"wallet"==e.type&&t.includes(e.address)).length};let JJ=(0,ei.createContext)({plugins:{current:{}}});const QJ=({children:e})=>{let t=(0,ei.useRef)({});return(0,ri.jsx)(JJ.Provider,{value:{plugins:t},children:e})},XJ=()=>{let{plugins:e}=(0,ei.useContext)(JJ);return(0,ei.useCallback)(t=>e.current[t],[e])},eQ=Symbol("solana-ledger-plugin"),tQ=({title:e="You don't have access to this app",subtitle:t="Have you been invited?",ctaText:n="Try another account",ctaLink:r,onCtaClick:i})=>(0,ri.jsx)(bK,{title:e,subtitle:t,icon:lh,iconVariant:"warning",primaryCta:{label:n,onClick:()=>{r?window.open(r,"_blank"):i?.()}},watermark:!0}),nQ={component:()=>{let{navigate:e}=QH(),t=Mf(),n=t?.allowlistConfig.errorTitle||"You don't have access to this app",r=t?.allowlistConfig.errorDetail||"Have you been invited?",i=t?.allowlistConfig.errorCtaText||"Try another account",s=t?.allowlistConfig.errorCtaLink;return(0,ri.jsx)(tQ,{title:n,subtitle:r,ctaText:i,ctaLink:s??void 0,onCtaClick:()=>{e(a3)}})}},rQ=({status:e,title:t,description:n,userIntentRequired:r,retriesRemaining:i,hasSelectedCta:s,onContinue:o,onRetry:a})=>{let c=(0,ei.useMemo)(()=>{switch(e){case"loading":default:return;case"success":return r?{label:s?"Continuing...":"Continue",onClick:o,disabled:s,loading:s}:void 0;case"error":return i>0?{label:"Retry",onClick:a}:void 0}},[e,s,o,a]),l=(0,ei.useMemo)(()=>({loading:"loading",ready:"subtle",disabled:"subtle",success:"success",error:"error"}[e]||"loading"),[e]);return(0,ri.jsx)(bK,{icon:"loading"===e||"ready"===e?void 0:"success"===e?rh:uh,iconVariant:l,title:t,subtitle:n,primaryCta:c,watermark:!0})},iQ={component:()=>{let{lastScreen:e,data:t,navigate:n,setModalData:r}=QH(),{status:i,token:s,waitForResult:o,reset:a,execute:c}=Dq(),l=(0,ei.useRef)([]),u=e=>{l.current=[e,...l.current]},[d,h]=(0,ei.useState)(!0);(0,ei.useEffect)(()=>(u(setTimeout(h,1e3,!1)),()=>{l.current.forEach(e=>clearTimeout(e)),l.current=[]}),[]);let[f,p]=(0,ei.useState)(""),[g,m]=(0,ei.useState)("Checking that you are a human..."),[y,w]=(0,ei.useState)(!1),[b,v]=(0,ei.useState)(3),x=t?.captchaModalData,E=async t=>{try{await(x?.callback(t)),x?.onSuccessNavigateTo&&n(x?.onSuccessNavigateTo,!1)}catch(t){if(t instanceof Bq)return;r({errorModalData:{error:t,previousScreen:e||a3}}),n(x?.onErrorNavigateTo||zY,!1)}};return(0,ei.useEffect)(()=>{"success"===i?u(setTimeout(async()=>{let e=await o();!e||x?.userIntentRequired||E(e)},1e3)):"ready"===i&&u(setTimeout(()=>{"ready"===i&&c()},500))},[i]),(0,ei.useEffect)(()=>{if(!d)switch(i){case"success":p("Success!"),m("CAPTCHA passed successfully."),x?.userIntentRequired||setTimeout(()=>{w(!0),E(s)},2e3);break;case"loading":p(""),m("Checking that you are a human...");break;case"error":p("Something went wrong"),m(b<=0?"If you use an adblocker or VPN, try disabling and re-attempting.":"You did not pass CAPTCHA. Please try again.")}},[i,d,y]),(0,ri.jsx)(rQ,{status:i,title:f,description:g,userIntentRequired:x?.userIntentRequired,retriesRemaining:b,hasSelectedCta:y,onContinue:()=>{w(!0),E(s)},onRetry:async()=>{if(b<=0)return;v(e=>e-1),a(),c();let e=await o();!e||x?.userIntentRequired||E(e)}})}},sQ=e=>(0,ri.jsx)("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"-0.625 12.48 397.647 399.546",width:"2500",height:"674",preserveAspectRatio:"none",...e,children:(0,ri.jsx)("g",{children:(0,ri.jsx)("path",{fill:"#333745",d:"M 333.9 12.8 L 150.9 12.8 L 150.9 258.4 L 396.5 258.4 L 396.5 76.7 C 396.6 42.2 368.4 12.8 333.9 12.8 Z M 94.7 12.8 L 64 12.8 C 29.5 12.8 0 40.9 0 76.8 L 0 107.5 L 94.7 107.5 L 94.7 12.8 Z M 0 165 L 94.7 165 L 94.7 259.7 L 0 259.7 L 0 165 Z M 301.9 410.6 L 332.6 410.6 C 367.1 410.6 396.6 382.5 396.6 346.6 L 396.6 316 L 301.9 316 L 301.9 410.6 Z M 150.9 316 L 245.6 316 L 245.6 410.7 L 150.9 410.7 L 150.9 316 Z M 0 316 L 0 346.7 C 0 381.2 28.1 410.7 64 410.7 L 94.7 410.7 L 94.7 316 L 0 316 Z"})})}),oQ=({onContinueWithLedger:e,onContinueWithoutLedger:t,title:n="Phantom supports Ledger",subtitle:r="Are you using a Ledger hardware wallet?\nContinue to sign with Ledger"})=>(0,ri.jsx)(bK,{title:n,subtitle:(0,ri.jsx)(lQ,{children:r}),primaryCta:{label:"Continue with Ledger",onClick:e},secondaryCta:{label:"Continue without Ledger",onClick:t},watermark:!0,children:(0,ri.jsxs)(cQ,{children:[(0,ri.jsx)(IH,{style:{width:"48px",height:"48px"}}),(0,ri.jsx)(fh,{strokeWidth:2,color:"var(--privy-color-icon-subtle)",width:22,height:22}),(0,ri.jsx)(sQ,{style:{width:"48px",height:"48px"}})]})}),aQ={component:function(){let{data:e,setModalData:t,navigate:n}=QH();return(0,ri.jsx)(oQ,{onContinueWithLedger:function(){t({...e,login:{...e?.login,isSigningInWithLedgerSolana:!0}}),n(gQ)},onContinueWithoutLedger:function(){t({...e,login:{...e?.login,isSigningInWithLedgerSolana:!1}}),n(gQ)}})}};let cQ=Ay.div.withConfig({displayName:"IconContainer",componentId:"sc-218811f1-0"})(["display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:var(--screen-space);"]),lQ=Ay.span.withConfig({displayName:"SubtitleText",componentId:"sc-218811f1-1"})(["white-space:pre-wrap;"]);const uQ=({style:e,...t})=>(0,ri.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"38px",width:"38px",...e},...t,children:(0,ri.jsx)("path",{d:"M20 13.6V20M20 26.4H20.016M36 20C36 28.8365 28.8366 36 20 36C11.1635 36 4.00001 28.8365 4.00001 20C4.00001 11.1634 11.1635 3.99999 20 3.99999C28.8366 3.99999 36 11.1634 36 20Z",stroke:"currentColor",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round"})}),dQ=({title:e="Unable to sign in",subtitle:t="This is a test application that has reached its user limit. To allow more users, this app needs to be upgraded to production.",onGoBack:n})=>(0,ri.jsx)(bK,{title:e,subtitle:t,icon:uQ,iconVariant:"subtle",primaryCta:{label:"Go back",onClick:n},showBack:!0,onBack:n,watermark:!0}),hQ={component:()=>{let{navigate:e}=QH();return(0,ri.jsx)(dQ,{onGoBack:()=>{e(a3)}})}},fQ=e=>e?.privyErrorCode===Ld.LINKED_TO_ANOTHER_USER?pH.ERROR_USER_EXISTS:e instanceof fH&&!e.details.default?e.details:e instanceof uH?pH.ERROR_TIMED_OUT:e?.privyErrorCode===Ld.CANNOT_LINK_MORE_OF_TYPE?pH.ERROR_USER_LIMIT_REACHED:pH.ERROR_WALLET_CONNECTION,pQ=({walletLogo:e,title:t,subtitle:n,signSuccess:r,errorMessage:i,connectSuccess:s,separateConnectAndSign:o,signing:a,walletConnectRedirectUri:c,walletConnectFallbackUniversalUri:l,hasTabbedAway:u,showCoinbaseWalletResetCta:d,numRetries:h,onBack:f,onSign:p,onRetry:g,onCoinbaseReset:m,onDifferentWallet:y})=>{let w=d?{label:"Use a different wallet",onClick:m,disabled:r}:i===pH.ERROR_USER_EXISTS&&f?{label:"Use a different wallet",onClick:y}:s&&!r&&o?{label:a?"Signing":"Sign with your wallet",onClick:p,disabled:a}:!r&&i?.retryable&&h<2?{label:"Retry",onClick:g,disabled:!1}:r||i?void 0:{label:"Connecting",onClick:()=>{},disabled:!0};return(0,ri.jsx)(bK,{title:t,subtitle:n,icon:e,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!i},primaryCta:w,onBack:f,watermark:!0,children:!s&&c&&!u&&(0,ri.jsxs)(mQ,{children:["Still here?"," ",(0,ri.jsx)(yY,{href:c,target:"_blank",variant:"underlined",size:"sm",children:"Try connecting again"}),l&&(0,ri.jsxs)(ri.Fragment,{children:[" ","or"," ",(0,ri.jsx)(yY,{href:l,target:"_blank",variant:"underlined",size:"sm",children:"use this different link"})]})]})})},gQ={component:()=>{let e,[t,n]=(0,ei.useState)(!1),[r,i]=(0,ei.useState)(!1),[s,o]=(0,ei.useState)(void 0),{authenticated:a,logout:c}=eV(),{navigate:l,navigateBack:u,lastScreen:d,currentScreen:h,setModalData:f,data:p}=QH(),g=Mf(),{getAuthFlow:m,walletConnectionStatus:y,closePrivyModal:w,initLoginWithWallet:b,loginWithWallet:v,updateWallets:x,createAnalyticsEvent:E}=Jd(),{walletConnectors:k}=eV(),[_,C]=(0,ei.useState)(0),{user:S}=eV(),I=XJ(),[A]=(0,ei.useState)(S?.linkedAccounts.length||0),[T,P]=(0,ei.useState)(""),[O,j]=(0,ei.useState)(""),[N,R]=(0,ei.useState)(!1),{hasTabbedAway:$}=function(){let[e,t]=(0,ei.useState)(!1),n=(0,ei.useCallback)(()=>{document.hidden&&t(!0)},[]);return(0,ei.useEffect)(()=>(document.addEventListener("visibilitychange",n),()=>document.removeEventListener("visibilitychange",n)),[n]),{hasTabbedAway:e,reset:()=>t(!1)}}(),{enabled:M,token:L}=Dq(),B=HH(y?.connector?.walletClientType||"unknown"),U=si.Fr&&"wallet_connect_v2"===y?.connector?.connectorType||si.Fr&&"coinbase_wallet"===y?.connector?.connectorType||si.Fr&&"base_account"===y?.connector?.connectorType||si.Fr&&"injected"===y?.connector?.connectorType&&"phantom"===y?.connector?.walletClientType||si.Fr&&"solana_adapter"===y?.connector?.connectorType&&"mobile_wallet_adapter"===y.connector.walletClientType,D="connected"===y?.status,F="switching_to_supported_chain"===y?.status;(0,ei.useEffect)(()=>{let e=m(),t=e instanceof vq||e instanceof xq?e:void 0;D&&"solana"===y.connector?.chainType&&"phantom"===y.connector?.walletClientType&&I(eQ)&&void 0===p?.login?.isSigningInWithLedgerSolana?l(aQ,!1):(D&&!t&&(!M||L||a?b(y.connectedWallet,L,p?.login?.disableSignup,p?.login?.isSigningInWithLedgerSolana?"transaction":"plain").then(()=>{R(!0)}):(f({captchaModalData:{callback:e=>b(y.connectedWallet,e,p?.login?.disableSignup,p?.login?.isSigningInWithLedgerSolana?"transaction":"plain").then(()=>{R(!0)}),userIntentRequired:!1,onSuccessNavigateTo:gQ,onErrorNavigateTo:zY}}),l(iQ,!1))),t instanceof xq&&p?.login?.isSigningInWithLedgerSolana&&(t.messageType="transaction"),t&&U&&D&&!t.preparedMessage?t.buildMessage():t&&!U&&D&&(r||(async()=>{i(!0),o(void 0);try{"wallet_connect_v2"===y?.connector?.connectorType&&"metamask"===y?.connector?.walletClientType&&await Pq(2500),await W()}catch(e){console.warn("Auto-prompted signature failed",e)}finally{i(!1)}})()))},[_,D,N]),(0,ei.useEffect)(()=>{if(S&&t){let e=900;if(g?.legal.requireUsersAcceptTerms&&!S.hasAcceptedTerms){let t=setTimeout(()=>{l(oJ)},e);return()=>clearTimeout(t)}if(EY(S,g.embeddedWallets)){let t=setTimeout(()=>{f({createWallet:{onSuccess:()=>{},onFailure:e=>{console.error(e),E({eventName:"embedded_wallet_creation_failure_logout",payload:{error:e,screen:"ConnectionStatusScreen"}}),c()},callAuthOnSuccessOnClose:!0}}),l(sJ)},e);return()=>clearTimeout(t)}x();let t=setTimeout(()=>w({shouldCallAuthOnSuccess:!0,isSuccess:!0}),nf);return()=>clearTimeout(t)}},[S,t]);let z=e=>{if(e?.privyErrorCode!==Ld.ALLOWLIST_REJECTED){if(e?.privyErrorCode===Ld.USER_LIMIT_REACHED)return console.error(new Fd(e).toString()),void l(hQ);if(e?.privyErrorCode!==Ld.USER_DOES_NOT_EXIST)return e?.privyErrorCode===Ld.ACCOUNT_TRANSFER_REQUIRED&&e.data?.data?.nonce?(f({accountTransfer:{nonce:e.data?.data?.nonce,account:m()?.meta.address,displayName:e.data?.data?.account?.displayName,externalWalletMetadata:{walletClientType:m()?.meta.walletClientType,chainId:m()?.meta.chainId,connectorType:m()?.meta.connectorType},linkMethod:m()instanceof vq?"siwe":"siws",embeddedWalletAddress:e.data?.data?.otherUser?.embeddedWalletAddress}}),void l(tJ)):void o(fQ(e));l(_Y)}else l(nQ)};async function W(){try{await v(),n(!0)}catch(e){z(e)}finally{i(!1)}}(0,ei.useEffect)(()=>{y?.connectError&&z(y?.connectError)},[y]),((e,t)=>{let n=(0,ei.useRef)(()=>{});(0,ei.useEffect)(()=>{n.current=e}),(0,ei.useEffect)(()=>{if(null!==t){let e=setInterval(()=>n.current(),t||0);return()=>clearInterval(e)}},[t])})(()=>{let e="wallet_connect_v2"===q&&y?.connector instanceof GH?y.connector.redirectUri:void 0;e&&P(e);let t="wallet_connect_v2"===q&&y?.connector instanceof GH?y.connector.fallbackUniversalRedirectUri:void 0;t&&j(t)},y?.connector instanceof GH&&!T?500:null);let q=y?.connector?.connectorType||"injected",H=y?.connector?.walletClientType||"unknown",V=B?.metadata?.shortName||B?.name||y?.connector?.walletBranding.name||"Browser Extension",K=B?.image_url?.md||y?.connector?.walletBranding.icon||(e=>(0,ri.jsx)(CH,{...e})),G="Browser Extension"===V?V.toLowerCase():V;e=t?`Successfully connected with ${G}`:s?s.message:F?"Switching networks":D?r&&U?"Signing":"Sign to verify":`Waiting for ${G}`;let Z="Dont see your wallet? Check your other browser windows.";t?Z=A===(S?.linkedAccounts.length||0)?"Wallet was already linked.":"Youre good to go!":_>=2&&s?Z="Unable to connect wallet":s?Z=s.detail:F?Z="Switch your wallet to the requested network.":D&&U?Z="Sign the message in your wallet to verify it belongs to you.":"metamask"===H&&si.Fr?Z="Click continue to open and connect MetaMask.":"metamask"===H?Z="For the best experience, connect only one wallet at a time.":"wallet_connect"===q?Z="Open your mobile wallet app to continue":"coinbase_wallet"===q?_q()||(Z=YJ(S)?"Continue with the Coinbase app. Not the right wallet? Reset your connection below.":"Confirm in the Coinbase app/popup to continue."):p?.login?.isSigningInWithLedgerSolana&&(Z="Ledger requires a transaction to verify your identity. Youll sign a transaction that performs no onchain action.");let Y=k?.walletConnectors?.find(e=>"coinbase_wallet"===e.walletClientType),J="coinbase_wallet"===H&&(YJ(S)||s===pH.ERROR_USER_EXISTS);return(0,ri.jsx)(pQ,{walletLogo:K,title:e,subtitle:Z,signSuccess:t,errorMessage:s,connectSuccess:D,separateConnectAndSign:U,signing:r,walletConnectRedirectUri:T,walletConnectFallbackUniversalUri:O,hasTabbedAway:$,showCoinbaseWalletResetCta:J,numRetries:_,onBack:d&&h!==d?u:void 0,onSign:()=>{i(!0),W()},onRetry:()=>{C(_+1),o(void 0),D?(i(!0),W()):y?.connectRetry()},onCoinbaseReset:()=>{Y&&Y?.disconnect()},onDifferentWallet:u})}};let mQ=Ay.p.withConfig({displayName:"RedirectLinksContainer",componentId:"sc-7b4251f2-0"})(["text-align:center;color:var(--privy-color-foreground-2);font-size:14px;line-height:22px;margin:16px 0;"]);const yQ={component:()=>{let{setWalletConnectionStatus:e,closePrivyModal:t,inProgressAuthFlowRef:n}=Jd(),{data:r,navigate:i}=QH(),s=Mf(),o=Wf(),a=r?.externalConnectWallet?.description,c=(0,ei.useRef)(r?.externalConnectWallet?.walletList??s.appearance.walletList),l=(0,ei.useRef)(r?.externalConnectWallet?.walletChainType??s.appearance.walletChainType),u=c.current,d=l.current,h="link"===n.current?void 0:()=>i(a3);return(0,ri.jsx)(FJ,{walletList:u,walletChainType:d,onClose:t,onConnect:(0,ei.useCallback)(({connector:t,wallet:n})=>{o("connectWallet","onSuccess",{wallet:n}),e({status:"connected",connectedWallet:n,connector:t,connectError:null,connectRetry:()=>null}),i(gQ,!r?.externalConnectWallet?.preSelectedWalletId)},[e,i,r?.login?.disableSignup,r?.externalConnectWallet?.preSelectedWalletId]),onConnectError:e=>{e instanceof Pd?(console.warn(e.cause?e.cause:e.message),o("connectWallet","onError",e.privyErrorCode||Ld.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(e),o("connectWallet","onError",Ld.UNKNOWN_CONNECT_WALLET_ERROR))},onBack:h,customDescription:a||"",preSelectedWalletId:r?.externalConnectWallet?.preSelectedWalletId,app:s})},isUnauthenticatedScreem:!0},wQ=({children:e,theme:t})=>(0,ri.jsxs)(bQ,{$theme:t,children:[(0,ri.jsx)(Q$,{width:"20px",height:"20px",color:"var(--privy-color-icon-subtle)",strokeWidth:2,style:{flexShrink:0}}),(0,ri.jsx)(vQ,{$theme:t,children:e})]});let bQ=Ay.div.withConfig({displayName:"Container",componentId:"sc-1b5ed8dd-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-background-2);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),vQ=Ay.div.withConfig({displayName:"Content",componentId:"sc-1b5ed8dd-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],e=>"dark"===e.$theme?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const xQ=Ay.span.withConfig({displayName:"Subtitle",componentId:"sc-7a11f796-0"})(["margin-top:4px;color:var(--privy-color-foreground);text-align:center;font-size:0.875rem;font-weight:400;line-height:1.375rem;&& a{color:var(--privy-color-accent);}"]),EQ=Ay.span.withConfig({displayName:"Title",componentId:"sc-66de63c-0"})(["color:var(--privy-color-foreground);font-size:1.125rem;font-weight:600;line-height:1.875rem;text-align:center;"]),kQ=Ay.span.withConfig({displayName:"LabelXs",componentId:"sc-4c43f9fd-0"})(["color:var(--privy-color-foreground-3);font-size:0.75rem;font-weight:500;line-height:1.125rem;"]),_Q=Cy(["&&{border-width:1px;padding:0.5rem 1rem;}width:100%;text-align:left;border:solid 1px var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);display:flex;justify-content:space-between;align-items:center;",""],e=>"error"===e.$state?"\n        border-color: var(--privy-color-error);\n        background: var(--privy-color-error-bg);\n      ":""),CQ=Ay.div.withConfig({displayName:"Box",componentId:"sc-7252360a-0"})(["",""],_Q);let SQ=Ay(CQ).withConfig({displayName:"StyledBox",componentId:"sc-4010d8f3-0"})(["&&{padding:0.75rem;height:56px;}"]),IQ=Ay.div.withConfig({displayName:"WalletContent",componentId:"sc-4010d8f3-1"})(["display:flex;align-items:center;justify-content:space-between;width:100%;"]),AQ=Ay.div.withConfig({displayName:"AddressContainer",componentId:"sc-4010d8f3-2"})(["display:flex;flex-direction:column;gap:0;"]),TQ=Ay.div.withConfig({displayName:"BalanceText",componentId:"sc-4010d8f3-3"})(["font-size:12px;line-height:1rem;color:var(--privy-color-foreground-3);"]),PQ=Ay(kQ).withConfig({displayName:"TitleLabel",componentId:"sc-4010d8f3-4"})(["text-align:left;margin-bottom:0.5rem;"]),OQ=Ay(_J).withConfig({displayName:"StyledErrorMessage",componentId:"sc-4010d8f3-5"})(["margin-top:0.25rem;"]),jQ=Ay(OV).withConfig({displayName:"CopyButton",componentId:"sc-4010d8f3-6"})(["&&{gap:0.375rem;font-size:14px;}"]);const NQ=({errMsg:e,balance:t,address:n,className:r,title:i,showCopyButton:s=!1})=>{let[o,a]=(0,ei.useState)(!1);return(0,ei.useEffect)(()=>{if(o){let e=setTimeout(()=>a(!1),3e3);return()=>clearTimeout(e)}},[o]),(0,ri.jsxs)("div",{children:[i&&(0,ri.jsx)(PQ,{children:i}),(0,ri.jsx)(SQ,{className:r,$state:e?"error":void 0,children:(0,ri.jsxs)(IQ,{children:[(0,ri.jsxs)(AQ,{children:[(0,ri.jsx)(SY,{address:n,showCopyIcon:!1}),void 0!==t&&(0,ri.jsx)(TQ,{children:t})]}),s&&(0,ri.jsx)(jQ,{onClick:function(e){e.stopPropagation(),navigator.clipboard.writeText(n).then(()=>a(!0)).catch(console.error)},size:"sm",children:(0,ri.jsxs)(ri.Fragment,o?{children:["Copied",(0,ri.jsx)(sh,{size:14})]}:{children:["Copy",(0,ri.jsx)(oh,{size:14})]})})]})}),e&&(0,ri.jsx)(OQ,{children:e})]})};function RQ({rpcConfig:e,appId:t,address:n,chain:r}){let{chains:i}=Jd(),[s,o]=(0,ei.useState)(0n),[a,c]=(0,ei.useState)(!1),l=(0,ei.useMemo)(()=>{let n=r||i[0];if(n)return(0,lc.l)({chain:r,transport:(0,uc.L)(Sq(n,e,t))})},[r,e,t]),u=(0,ei.useCallback)(async()=>{if(!n||!l)return;c(!0);let e=await l.getBalance({address:n}).catch(console.error);return e?(o(e),c(!1),e):void 0},[l,n,o]);return(0,ei.useEffect)(()=>{u().catch(console.error)},[]),{balance:s,isLoading:a,reloadBalance:u}}const $Q="sdk_fiat_on_ramp_completed_with_status";async function MQ({rpc:e,address:t}){return(await e.getBalance(t,{commitment:"confirmed"}).send()).value??0n}function LQ(e){switch(e){case"solana:mainnet":return"Solana";case"solana:devnet":return"Devnet";case"solana:testnet":return"Testnet"}}function BQ(e){let[t]=Object.entries(MK[e]).find(([e,t])=>"USDC"===t.symbol)??[];return t}const UQ=async({chain:e,address:t,appId:n,rpcConfig:r,erc20Address:i})=>{let s=(0,lc.l)({chain:e,transport:(0,uc.L)(Sq(e,r,n))});return{balance:await s.readContract({address:i,abi:DQ,functionName:"balanceOf",args:[t]}).catch(()=>0n),chain:e}};let DQ=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];const FQ={component:()=>{let{wallets:e}=NG(),{connectors:t}=Jd(),n=t.filter(DH).flatMap(e=>e.wallets),{data:r,setModalData:i,navigate:s,lastScreen:o}=QH(),{rpcConfig:a,appId:c,createAnalyticsEvent:l,closePrivyModal:u}=Jd(),d=Mf(),[h,f]=(0,ei.useState)(void 0),[p,g]=(0,ei.useState)(!1),m=r?.funding,{reloadBalance:y}=RQ({rpcConfig:a,appId:c,address:"ethereum"===m.chainType?m.address:void 0,chain:"ethereum"===m.chainType?m.chain:void 0}),w="solana"===m.chainType,b=w?m.isUSDC?"USDC":"SOL":m.erc20Address?m.erc20ContractInfo?.symbol:m.chain.nativeCurrency.symbol,v=w?n.find(({address:e})=>e===m.address):e.find(({address:e})=>Aq(e)===Aq(m.address));if(!m)return i({errorModalData:{error:Error("Couldn't find funding config"),previousScreen:o||z1},funding:r?.funding,solanaFundingData:r?.solanaFundingData,sendTransaction:r?.sendTransaction}),s(zY),(0,ri.jsx)(ri.Fragment,{});(0,ei.useEffect)(()=>{let e=w?async function(){if("solana"!==m.chainType)return;let e=d.solanaRpcs[m.chain];e?(m.isUSDC?async function({rpc:e,address:t,mintAddress:n}){let r=await e.getTokenAccountsByOwner(t,{mint:n},{encoding:"jsonParsed",commitment:"confirmed"}).send(),i=r.value[0]?.account;return i?BigInt(i.data.parsed.info.tokenAmount.amount):0n}({rpc:e.rpc,address:m.address,mintAddress:BQ(m.chain)}):MQ({rpc:e.rpc,address:m.address})).then(e=>{let t=BigInt(e);h&&t>h&&(g(!0),l({eventName:$Q,payload:{provider:"manual",status:"success",chainType:"solana",address:v?.address,value:m.isUSDC?(0,Hf.J)(t-h,6):(0,Hf.J)(t-h,9),token:m.isUSDC?"USDC":"SOL"}})),f(t)}):console.warn("Unable to load solana rpc, skipping balance")}:async function(){"ethereum"===m.chainType&&(async()=>{if(!m.erc20Address)return await y()??BigInt(0);{let{balance:e}=await UQ({chain:m.chain,address:m.address,erc20Address:m.erc20Address,rpcConfig:a,appId:c});return e}})().then(e=>{h&&e>h&&(g(!0),l({eventName:$Q,payload:{provider:"manual",status:"success",chainType:"ethereum",address:v?.address,chainId:m.chain.id,value:(0,Hf.J)(e-h,m.erc20ContractInfo?.decimals??18),token:m.erc20ContractInfo?.symbol??m.erc20Address??"ETH"}})),f(e)}).catch(()=>f(void 0))},t=setInterval(e,2e3);return e(),()=>clearInterval(t)},[h]);let x=(0,ei.useMemo)(()=>null==h?"":m.isUSDC?ow({amount:h,decimals:6}):w?UK(h,3,!0,!0):null!=m.erc20ContractInfo?.decimals?ow({amount:h,decimals:m.erc20ContractInfo.decimals}):function({wei:e,precision:t=3}){return parseFloat((0,qf.c)(e)).toFixed(t).replace(/0+$/,"").replace(/\.$/,"")}({wei:h}),[h,w,m]),E="ethereum"===m.chainType?m.chain.name:LQ(m.chain),k=(0,ei.useMemo)(()=>""===m.uiConfig?.receiveFundsTitle?null:(0,ri.jsx)(EQ,{children:m.uiConfig?.receiveFundsTitle??`Receive ${m.amount} ${b??""}`.trim()}),[m.uiConfig?.receiveFundsTitle,m.amount,b]),_=(0,ei.useMemo)(()=>""===m.uiConfig?.receiveFundsSubtitle?null:(0,ri.jsx)(xQ,{children:m.uiConfig?.receiveFundsSubtitle??`Scan this code or copy your wallet address to receive funds on ${E}.`}),[m.uiConfig?.receiveFundsSubtitle,E]),C="solana"===m.chainType&&m.isUSDC&&BQ(m.chain)?`?spl-token=${BQ(m.chain)}`:"";return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(f0,{}),k,_,(0,ri.jsxs)(QK,{style:{gap:"1rem",margin:k||_?"1rem 0":"0"},children:[(0,ri.jsx)(kJ,{url:`${m.chainType}:${m.address}${C}`,size:200,squareLogoElement:zQ}),(0,ri.jsxs)(wQ,{theme:d.appearance.palette.colorScheme,children:["Make sure to send funds on ",E,"."]}),(0,ri.jsx)(NQ,{title:"Your wallet",errMsg:void 0,showCopyButton:!0,balance:`${x} ${b}`,address:m.address}),p&&(0,ri.jsx)(IV,{onClick:()=>u({shouldCallAuthOnSuccess:!1,isSuccess:!0}),children:"Continue"})]}),(0,ri.jsx)(gV,{})]})}};let zQ=({...e})=>(0,ri.jsx)(EH,{color:"black",...e}),WQ=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];const qQ=async({address:e,chain:t,rpcConfig:n,privyAppId:r})=>{try{let i=(0,lc.l)({chain:t,transport:(0,uc.L)(Sq(t,n,r))}),[s,o]=await Promise.all([i.readContract({abi:HQ,address:e,functionName:"symbol"}),i.readContract({abi:HQ,address:e,functionName:"decimals"})]);return{decimals:o,symbol:s}}catch(e){return console.log(e),null}};let HQ=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],VQ=2n**256n-1n;const KQ=({amount:e,decimals:t})=>e===VQ?"Maximum":Intl.NumberFormat(void 0,{maximumFractionDigits:t}).format(Number(e)/10**t);let GQ=({data:e})=>{let t=e=>"object"==typeof e&&null!==e?(0,ri.jsx)(YQ,{children:Object.entries(e).map(([e,n])=>(0,ri.jsxs)("li",{children:[(0,ri.jsxs)("strong",{children:[e,":"]})," ",t(n)]},e))}):(0,ri.jsx)("span",{children:String(e)});return(0,ri.jsx)("div",{children:t(e)})};const ZQ=Ay.div.withConfig({displayName:"Message",componentId:"sc-70ec2a4f-0"})(["margin-top:1.5rem;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);padding:12px;text-align:left;max-height:310px;overflow:scroll;white-space:pre-wrap;width:100%;font-size:0.875rem;font-weight:400;color:var(--privy-color-foreground);line-height:1.5;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]);let YQ=Ay.ul.withConfig({displayName:"MessageList",componentId:"sc-70ec2a4f-1"})(["margin-left:12px !important;white-space:nowrap;&:first-child{margin-left:0 !important;}strong{font-weight:500 !important;}"]);const JQ=({data:e,className:t})=>(0,ri.jsx)(ZQ,{className:t,children:(0,ri.jsx)(GQ,{data:e})});let QQ=Ay.div.withConfig({displayName:"Container",componentId:"sc-b3a607dd-0"})(["display:flex;flex-direction:column;min-height:72px;"]);var XQ=({onBack:e,details:t})=>(0,ri.jsxs)(QQ,{children:[(0,ri.jsx)(DV,{backFn:e}),(0,ri.jsx)(JQ,{data:t}),(0,ri.jsx)(gV,{})]});const eX=Ay.span.withConfig({displayName:"LabelSm",componentId:"sc-6c002d6-0"})(["color:var(--privy-color-foreground-3);font-size:0.875rem;font-weight:400;line-height:1.375rem;"]),tX=Ay(eX).withConfig({displayName:"LabelSmPrimary",componentId:"sc-6c002d6-1"})(["color:var(--privy-color-accent);"]),nX=Ay(eX).withConfig({displayName:"InteractiveLabel",componentId:"sc-b57d0824-0"})(["cursor:pointer;display:inline-flex;gap:8px;align-items:center;color:var(--privy-color-accent);svg{fill:var(--privy-color-accent);}"]),rX=Ay.span.withConfig({displayName:"Rows",componentId:"sc-b764aab6-0"})(["display:flex;flex-direction:column;gap:0.35rem;width:100%;"]),iX=Ay.span.withConfig({displayName:"Row",componentId:"sc-b764aab6-1"})(["display:flex;width:100%;justify-content:space-between;gap:0.5rem;"]);let sX=Oy(["from,to{background:var(--privy-color-foreground-4);color:var(--privy-color-foreground-4);}50%{background:var(--privy-color-foreground-accent);color:var(--privy-color-foreground-accent);}"]);const oX=Cy(["",""],e=>e.$isLoading?Cy(["width:35%;animation:"," 2s linear infinite;border-radius:var(--privy-border-radius-sm);"],sX):""),aX=Ay.span.withConfig({displayName:"Value",componentId:"sc-72aa026-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;",""],oX);var cX=({iconUrl:e,value:t,symbol:n,usdValue:r,nftName:i,nftCount:s,decimals:o,$isLoading:a})=>{if(a)return(0,ri.jsx)(lX,{$isLoading:a});let c=t&&r&&o?function(e,t,n){let r=parseFloat(e),i=parseFloat(n);if(0===r||0===i||Number.isNaN(r)||Number.isNaN(i))return e;let s=Math.ceil(-Math.log10(.01/(i/r))),o=Math.pow(10,s=Math.max(s=Math.min(s,t),1)),a=+(Math.floor(r*o)/o).toFixed(s).replace(/\.?0+$/,"");return Intl.NumberFormat(void 0,{maximumFractionDigits:t}).format(a)}(t,o,r):t;return(0,ri.jsxs)("div",{children:[(0,ri.jsxs)(lX,{$isLoading:a,children:[e&&(0,ri.jsx)(dX,{src:e,alt:"Token icon"}),s&&s>1?s+"x":void 0," ",i,c," ",n]}),r&&(0,ri.jsxs)(uX,{$isLoading:a,children:["$",r]})]})};let lX=Ay.span.withConfig({displayName:"Value",componentId:"sc-991db279-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],oX);const uX=Ay.span.withConfig({displayName:"Subvalue",componentId:"sc-991db279-1"})(["color:var(--privy-color-foreground-2);font-size:12px;font-weight:400;line-height:18px;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],oX);let dX=Ay.img.withConfig({displayName:"TokenIcon",componentId:"sc-991db279-2"})(["height:14px;width:14px;margin-right:4px;object-fit:contain;"]);const hX=e=>{let{chain:t,transactionDetails:n,isTokenContractInfoLoading:r,symbol:i}=e,{action:s,functionName:o}=n;return(0,ri.jsx)(CQ,{children:(0,ri.jsxs)(rX,{children:["transaction"!==s&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Action"}),(0,ri.jsx)(aX,{children:o})]}),"mint"===o&&"args"in n&&n.args.filter(e=>e).map((e,n)=>(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:`Param ${n}`}),(0,ri.jsx)(aX,{children:"string"==typeof e&&(0,li.P)(e)?(0,ri.jsx)(SY,{address:e,url:t?.blockExplorers?.default?.url,showCopyIcon:!1}):e?.toString()})]},n)),"setApprovalForAll"===o&&n.operator&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Operator"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:n.operator,url:t?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),"setApprovalForAll"===o&&void 0!==n.approved&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Set approval to"}),(0,ri.jsx)(aX,{children:n.approved?"true":"false"})]}),"transfer"===o||"transferFrom"===o||"safeTransferFrom"===o||"approve"===o?(0,ri.jsxs)(ri.Fragment,{children:["formattedAmount"in n&&n.formattedAmount&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Amount"}),(0,ri.jsxs)(aX,{$isLoading:r,children:[n.formattedAmount," ",i]})]}),"tokenId"in n&&n.tokenId&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Token ID"}),(0,ri.jsx)(aX,{children:n.tokenId.toString()})]})]}):null,"safeBatchTransferFrom"===o&&(0,ri.jsxs)(ri.Fragment,{children:["amounts"in n&&n.amounts&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Amounts"}),(0,ri.jsx)(aX,{children:n.amounts.join(", ")})]}),"tokenIds"in n&&n.tokenIds&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Token IDs"}),(0,ri.jsx)(aX,{children:n.tokenIds.join(", ")})]})]}),"approve"===o&&n.spender&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Spender"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:n.spender,url:t?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),("transferFrom"===o||"safeTransferFrom"===o||"safeBatchTransferFrom"===o)&&n.transferFrom&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Transferring from"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:n.transferFrom,url:t?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),("transferFrom"===o||"safeTransferFrom"===o||"safeBatchTransferFrom"===o)&&n.transferTo&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Transferring to"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:n.transferTo,url:t?.blockExplorers?.default?.url,showCopyIcon:!1})})]})]})})},fX=({children:e,theme:t})=>(0,ri.jsxs)(pX,{$theme:t,children:[(0,ri.jsx)(Zy,{width:"20px",height:"20px",color:"var(--privy-color-icon-error)",strokeWidth:2,style:{flexShrink:0}}),(0,ri.jsx)(gX,{$theme:t,children:e})]});let pX=Ay.div.withConfig({displayName:"Container",componentId:"sc-34910fd1-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-error-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),gX=Ay.div.withConfig({displayName:"Content",componentId:"sc-34910fd1-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],e=>"dark"===e.$theme?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const mX=({children:e,theme:t})=>(0,ri.jsxs)(yX,{$theme:t,children:[(0,ri.jsx)(Hy,{width:"20px",height:"20px",color:"var(--privy-color-icon-warning)",strokeWidth:2,style:{flexShrink:0}}),(0,ri.jsx)(wX,{$theme:t,children:e})]});let yX=Ay.div.withConfig({displayName:"Container",componentId:"sc-a77c2854-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-warn-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),wX=Ay.div.withConfig({displayName:"Content",componentId:"sc-a77c2854-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],e=>"dark"===e.$theme?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const bX=({variant:e,setPreventMaliciousTransaction:t,colorScheme:n="light",preventMaliciousTransaction:r})=>"warn"===e?(0,ri.jsx)(vX,{children:(0,ri.jsxs)(mX,{theme:n,children:[(0,ri.jsx)("span",{style:{fontWeight:"500"},children:"Warning: Suspicious transaction"}),(0,ri.jsx)("br",{}),"This has been flagged as a potentially deceptive request. Approving could put your assets or funds at risk."]})}):"error"===e?(0,ri.jsx)(ri.Fragment,{children:(0,ri.jsxs)(vX,{children:[(0,ri.jsx)(fX,{theme:n,children:(0,ri.jsxs)("div",{children:[(0,ri.jsx)("strong",{children:"This is a malicious transaction"}),(0,ri.jsx)("br",{}),"This transaction transfers tokens to a known malicious address. Proceeding may result in the loss of valuable assets."]})}),(0,ri.jsxs)(xX,{children:[(0,ri.jsx)(jZ,{color:"var(--privy-color-error)",checked:!r,readOnly:!0,onClick:()=>t(!r)}),(0,ri.jsx)("span",{children:"I understand and want to proceed anyways."})]})]})}):null;let vX=Ay.div.withConfig({displayName:"BannerContainer",componentId:"sc-ab8a5a0b-0"})(["margin-top:1.5rem;"]),xX=Ay.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-ab8a5a0b-1"})(["display:flex;align-items:center;gap:0.5rem;margin-top:0.75rem;"]);const EX=({transactionIndex:e,maxIndex:t})=>"number"!=typeof e||0===t?"":` (${e+1} / ${t+1})`,kX=({img:e,submitError:t,prepareError:n,onClose:r,action:i,title:s,subtitle:o,to:a,tokenAddress:c,network:l,missingFunds:u,fee:d,from:h,cta:f,disabled:p,chain:g,isSubmitting:m,isPreparing:y,isTokenPriceLoading:w,isTokenContractInfoLoading:b,isSponsored:v,symbol:x,balance:E,onClick:k,transactionDetails:_,transactionIndex:C,maxIndex:S,onBack:I,chainName:A,validation:T,hasScanDetails:P,setIsScanDetailsOpen:O,preventMaliciousTransaction:j,setPreventMaliciousTransaction:N,tokensSent:R,tokensReceived:$,isScanning:M,isCancellable:L,functionName:B})=>{let{showTransactionDetails:U,setShowTransactionDetails:D,hasMoreDetails:F,isErc20Ish:z}=(e=>{let[t,n]=(0,ei.useState)(!1),r=!0,i=!1;return(!e||e.isErc20Ish||"transaction"===e.action)&&(r=!1),r&&(i=Object.entries(e||{}).some(([e,t])=>t&&!["action","isErc20Ish","isNFTIsh"].includes(e))),{showTransactionDetails:t,setShowTransactionDetails:n,hasMoreDetails:r&&i,isErc20Ish:e?.isErc20Ish}})(_),W=Mf(),q=z&&b||y||w||M;return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{onClose:r,backFn:I}),e&&(0,ri.jsx)(AX,{children:e}),(0,ri.jsxs)(EQ,{style:{marginTop:e?"1.5rem":0},children:[s,(0,ri.jsx)(EX,{maxIndex:S,transactionIndex:C})]}),(0,ri.jsx)(xQ,{children:o}),(0,ri.jsxs)(rX,{style:{marginTop:"2rem"},children:[(!!R[0]||q)&&(0,ri.jsxs)(iX,{children:[$.length>0?(0,ri.jsx)(eX,{children:"Send"}):(0,ri.jsx)(eX,{children:"approve"===i?"Approval amount":"Amount"}),(0,ri.jsx)("div",{className:"flex flex-col",children:R.map((e,t)=>(0,ri.jsx)(cX,{iconUrl:e.iconUrl,value:"setApprovalForAll"===B?"All":e.value,usdValue:e.usdValue,symbol:e.symbol,nftName:e.nftName,nftCount:e.nftCount,decimals:e.decimals},t))})]}),$.length>0&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Receive"}),(0,ri.jsx)("div",{className:"flex flex-col",children:$.map((e,t)=>(0,ri.jsx)(cX,{iconUrl:e.iconUrl,value:e.value,usdValue:e.usdValue,symbol:e.symbol,nftName:e.nftName,nftCount:e.nftCount,decimals:e.decimals},t))})]}),_&&"spender"in _&&_?.spender?(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Spender"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:_.spender,url:g?.blockExplorers?.default?.url})})]}):null,a&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"To"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:a,url:g?.blockExplorers?.default?.url,showCopyIcon:!0})})]}),c&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Token address"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:c,url:g?.blockExplorers?.default?.url})})]}),(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Network"}),(0,ri.jsx)(aX,{children:l})]}),(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Estimated fee"}),(0,ri.jsx)(aX,{$isLoading:y||w||void 0===v,children:v?(0,ri.jsxs)(TX,{children:[(0,ri.jsxs)(PX,{children:["Sponsored by ",W.name]}),(0,ri.jsx)(bw,{height:16,width:16})]}):d})]}),F&&!P&&(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(iX,{className:"cursor-pointer",onClick:()=>D(!U),children:(0,ri.jsxs)(tX,{className:"flex items-center gap-x-1",children:["Details"," ",(0,ri.jsx)(xw,{style:{width:"0.75rem",marginLeft:"0.25rem",transform:U?"rotate(180deg)":void 0}})]})}),U&&_&&(0,ri.jsx)(hX,{action:i,chain:g,transactionDetails:_,isTokenContractInfoLoading:b,symbol:x})]}),P&&(0,ri.jsx)(iX,{children:(0,ri.jsxs)(nX,{onClick:()=>O(!0),children:[(0,ri.jsx)("span",{className:"text-color-primary",children:"Details"}),(0,ri.jsx)(kw,{height:"14px",width:"14px",strokeWidth:"2"})]})})]}),(0,ri.jsx)(tV,{}),t?(0,ri.jsx)(_J,{style:{marginTop:"2rem"},children:t.message}):n&&0===C?(0,ri.jsx)(_J,{style:{marginTop:"2rem"},children:n.shortMessage??IX}):null,(0,ri.jsx)(bX,{variant:T,preventMaliciousTransaction:j,setPreventMaliciousTransaction:N}),(0,ri.jsx)(CX,{$useSmallMargins:!(!n&&!t&&"warn"!==T&&"error"!==T),address:h,balance:E,errMsg:y||n||t||!u?void 0:`Add funds on ${g?.name??A} to complete transaction.`}),(0,ri.jsx)(IV,{style:{marginTop:"1rem"},loading:m,disabled:p||y,onClick:k,children:f}),L&&(0,ri.jsx)($V,{style:{marginTop:"1rem"},onClick:r,isSubmitting:!1,children:"Not now"}),(0,ri.jsx)(gV,{})]})},_X=({img:e,title:t,subtitle:n,cta:r,instructions:i,network:s,blockExplorerUrl:o,isMissingFunds:a,submitError:c,parseError:l,total:u,swap:d,transactingWalletAddress:h,fee:f,balance:p,disabled:g,isSubmitting:m,isPreparing:y,isTokenPriceLoading:w,onClick:b,onClose:v,onBack:x,isSponsored:E})=>{let k=y||w,[_,C]=(0,ei.useState)(!1),S=Mf();return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{onClose:v,backFn:x}),e&&(0,ri.jsx)(AX,{children:e}),(0,ri.jsx)(EQ,{style:{marginTop:e?"1.5rem":0},children:t}),(0,ri.jsx)(xQ,{children:n}),(0,ri.jsxs)(rX,{style:{marginTop:"2rem",marginBottom:".5rem"},children:[(u||k)&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Amount"}),(0,ri.jsx)(aX,{$isLoading:k,children:u})]}),d&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Swap"}),(0,ri.jsx)(aX,{children:d})]}),s&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Network"}),(0,ri.jsx)(aX,{children:s})]}),(f||k||void 0!==E)&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Estimated fee"}),(0,ri.jsx)(aX,{$isLoading:k,children:E&&!k?(0,ri.jsxs)(TX,{children:[(0,ri.jsxs)(PX,{children:["Sponsored by ",S.name]}),(0,ri.jsx)(bw,{height:16,width:16})]}):f})]})]}),(0,ri.jsx)(iX,{children:(0,ri.jsxs)(nX,{onClick:()=>C(e=>!e),children:[(0,ri.jsx)("span",{children:"Advanced"}),(0,ri.jsx)(xw,{height:"16px",width:"16px",strokeWidth:"2",style:{transition:"all 300ms",transform:_?"rotate(180deg)":void 0}})]})}),_&&(0,ri.jsx)(ri.Fragment,{children:i.map((e,t)=>"sol-transfer"===e.type?(0,ri.jsxs)(SX,{children:[(0,ri.jsx)(iX,{children:(0,ri.jsxs)(kQ,{children:["Transfer ",e.withSeed?"with seed":""]})}),(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Amount"}),(0,ri.jsxs)(aX,{children:[ow({amount:e.value,decimals:e.token.decimals})," ",e.token.symbol]})]}),!!e.toAccount&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Destination"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:e.toAccount,url:o})})]})]},t):"spl-transfer"===e.type?(0,ri.jsxs)(SX,{children:[(0,ri.jsx)(iX,{children:(0,ri.jsxs)(kQ,{children:["Transfer ",e.token.symbol]})}),(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Amount"}),(0,ri.jsx)(aX,{children:e.value.toString()})]}),!!e.fromAta&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Source"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:e.fromAta,url:o})})]}),!!e.toAta&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Destination"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:e.toAta,url:o})})]}),!!e.token.address&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Token"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:e.token.address,url:o})})]})]},t):"ata-creation"===e.type?(0,ri.jsxs)(SX,{children:[(0,ri.jsx)(iX,{children:(0,ri.jsx)(kQ,{children:"Create token account"})}),(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Program ID"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:e.program,url:o})})]}),!!e.owner&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Owner"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:e.owner,url:o})})]})]},t):"create-account"===e.type?(0,ri.jsxs)(SX,{children:[(0,ri.jsx)(iX,{children:(0,ri.jsxs)(kQ,{children:["Create account ",e.withSeed?"with seed":""]})}),!!e.account&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Account"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:e.account,url:o})})]}),(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Amount"}),(0,ri.jsxs)(aX,{children:[ow({amount:e.value,decimals:9})," SOL"]})]})]},t):"spl-init-account"===e.type?(0,ri.jsxs)(SX,{children:[(0,ri.jsx)(iX,{children:(0,ri.jsx)(kQ,{children:"Initialize token account"})}),!!e.account&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Account"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:e.account,url:o})})]}),!!e.mint&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Mint"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:e.mint,url:o})})]}),!!e.owner&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Owner"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:e.owner,url:o})})]})]},t):"spl-close-account"===e.type?(0,ri.jsxs)(SX,{children:[(0,ri.jsx)(iX,{children:(0,ri.jsx)(kQ,{children:"Close token account"})}),!!e.source&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Source"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:e.source,url:o})})]}),!!e.destination&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Destination"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:e.destination,url:o})})]}),!!e.owner&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Owner"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:e.owner,url:o})})]})]},t):"spl-sync-native"===e.type?(0,ri.jsxs)(SX,{children:[(0,ri.jsx)(iX,{children:(0,ri.jsx)(kQ,{children:"Sync native"})}),(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Program ID"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:e.program,url:o})})]})]},t):"raydium-swap-base-input"===e.type?(0,ri.jsxs)(SX,{children:[(0,ri.jsx)(iX,{children:(0,ri.jsxs)(kQ,{children:["Raydium swap"," ",e.tokenIn&&e.tokenOut?`${e.tokenIn.symbol}  ${e.tokenOut.symbol}`:""]})}),(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Amount in"}),(0,ri.jsx)(aX,{children:e.amountIn.toString()})]}),(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Minimum amount out"}),(0,ri.jsx)(aX,{children:e.minimumAmountOut.toString()})]}),e.mintIn&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Token in"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:e.mintIn,url:o})})]}),e.mintOut&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Token out"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:e.mintOut,url:o})})]})]},t):"raydium-swap-base-output"===e.type?(0,ri.jsxs)(SX,{children:[(0,ri.jsx)(iX,{children:(0,ri.jsxs)(kQ,{children:["Raydium swap"," ",e.tokenIn&&e.tokenOut?`${e.tokenIn.symbol}  ${e.tokenOut.symbol}`:""]})}),(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Max amount in"}),(0,ri.jsx)(aX,{children:e.maxAmountIn.toString()})]}),(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Amount out"}),(0,ri.jsx)(aX,{children:e.amountOut.toString()})]}),e.mintIn&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Token in"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:e.mintIn,url:o})})]}),e.mintOut&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Token out"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:e.mintOut,url:o})})]})]},t):"jupiter-swap-shared-accounts-route"===e.type?(0,ri.jsxs)(SX,{children:[(0,ri.jsx)(iX,{children:(0,ri.jsxs)(kQ,{children:["Jupiter swap"," ",e.tokenIn&&e.tokenOut?`${e.tokenIn.symbol}  ${e.tokenOut.symbol}`:""]})}),(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"In amount"}),(0,ri.jsx)(aX,{children:e.inAmount.toString()})]}),(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Quoted out amount"}),(0,ri.jsx)(aX,{children:e.quotedOutAmount.toString()})]}),e.mintIn&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Token in"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:e.mintIn,url:o})})]}),e.mintOut&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Token out"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:e.mintOut,url:o})})]})]},t):"jupiter-swap-exact-out-route"===e.type?(0,ri.jsxs)(SX,{children:[(0,ri.jsx)(iX,{children:(0,ri.jsxs)(kQ,{children:["Jupiter swap"," ",e.tokenIn&&e.tokenOut?`${e.tokenIn.symbol}  ${e.tokenOut.symbol}`:""]})}),(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Quoted in amount"}),(0,ri.jsx)(aX,{children:e.quotedInAmount.toString()})]}),(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Amount out"}),(0,ri.jsx)(aX,{children:e.outAmount.toString()})]}),e.mintIn&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Token in"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:e.mintIn,url:o})})]}),e.mintOut&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Token out"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:e.mintOut,url:o})})]})]},t):(0,ri.jsxs)(SX,{children:[(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Program ID"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:e.program,url:o})})]}),(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Data"}),(0,ri.jsx)(aX,{children:e.discriminator})]})]},t))}),(0,ri.jsx)(tV,{}),c?(0,ri.jsx)(_J,{style:{marginTop:"2rem"},children:c.message}):l?(0,ri.jsx)(_J,{style:{marginTop:"2rem"},children:IX}):null,(0,ri.jsx)(CX,{$useSmallMargins:!(!l&&!c),title:"",address:h,balance:p,errMsg:y||l||c||!a?void 0:"Add funds on Solana to complete transaction."}),(0,ri.jsx)(IV,{style:{marginTop:"1rem"},loading:m,disabled:g||y,onClick:b,children:r}),(0,ri.jsx)(gV,{})]})};let CX=Ay(NQ).withConfig({displayName:"StyledWalletInfoCard",componentId:"sc-cbe5ab37-0"})(["",""],e=>e.$useSmallMargins?"margin-top: 0.5rem;":"margin-top: 2rem;"),SX=Ay(rX).withConfig({displayName:"InstructionRows",componentId:"sc-cbe5ab37-1"})(["margin-top:0.5rem;border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-sm);padding:0.5rem;"]),IX="There was an error preparing your transaction. Your transaction request will likely fail.",AX=Ay.div.withConfig({displayName:"ImageContainer",componentId:"sc-cbe5ab37-2"})(["display:flex;width:100%;justify-content:center;max-height:40px;> img{object-fit:contain;border-radius:var(--privy-border-radius-sm);}"]),TX=Ay.span.withConfig({displayName:"SponsoredRow",componentId:"sc-cbe5ab37-3"})(["display:inline-flex;align-items:center;gap:0.3rem;"]),PX=Ay.span.withConfig({displayName:"SponsoredText",componentId:"sc-cbe5ab37-4"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),OX=()=>(0,ri.jsxs)(MX,{children:[(0,ri.jsx)(BX,{}),(0,ri.jsx)(LX,{})]});const jX=({transactionError:e,chainId:t,onClose:n,onRetry:r,chainType:i,transactionHash:s})=>{let{chains:o}=Jd(),[a,c]=(0,ei.useState)(!1),{errorCode:l,errorMessage:u}=((e,t)=>{if("ethereum"===t)return{errorCode:e.details??e.message,errorMessage:e.shortMessage};let n=e.txSignature,r=e?.transactionMessage||"Something went wrong.";if(Array.isArray(e.logs)){let t=e.logs.find(e=>/insufficient (lamports|funds)/gi.test(e));t&&(r=t)}return{transactionHash:n,errorMessage:r}})(e,i),d=(({chains:e,chainId:t,chainType:n,transactionHash:r})=>"ethereum"===n?e.find(e=>e.id===t)?.blockExplorers?.default.url??"https://etherscan.io":function(e,t){return`https://explorer.solana.com/tx/${e}?chain=${t}`}(r||"",t))({chains:o,chainId:t,chainType:i,transactionHash:s});return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{onClose:n}),(0,ri.jsxs)(NX,{children:[(0,ri.jsx)(OX,{}),(0,ri.jsx)(RX,{children:l}),(0,ri.jsx)($X,{children:"Please try again."}),(0,ri.jsxs)(FX,{children:[(0,ri.jsx)(DX,{children:"Error message"}),(0,ri.jsx)(WX,{$clickable:!1,children:u})]}),s&&(0,ri.jsxs)(FX,{children:[(0,ri.jsx)(DX,{children:"Transaction hash"}),(0,ri.jsxs)(zX,{children:["Copy this hash to view details about the transaction on a"," ",(0,ri.jsx)("u",{children:(0,ri.jsx)("a",{href:d,children:"block explorer"})}),"."]}),(0,ri.jsxs)(WX,{$clickable:!0,onClick:async()=>{await navigator.clipboard.writeText(s),c(!0)},children:[s,(0,ri.jsx)(VX,{clicked:a})]})]}),(0,ri.jsx)(UX,{onClick:()=>r({resetNonce:!!s}),children:"Retry transaction"})]}),(0,ri.jsx)(yV,{})]})};let NX=Ay.div.withConfig({displayName:"TransactionErrorScreenContainer",componentId:"sc-d58f10e6-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;"]),RX=Ay.span.withConfig({displayName:"ErrorCode",componentId:"sc-d58f10e6-1"})(["color:var(--privy-color-foreground);text-align:center;font-size:1.125rem;font-weight:500;line-height:1.25rem;text-align:center;margin:10px;"]),$X=Ay.span.withConfig({displayName:"Subtitle",componentId:"sc-d58f10e6-2"})(["margin-top:4px;margin-bottom:10px;color:var(--privy-color-foreground-3);text-align:center;font-size:0.875rem;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;"]),MX=Ay.div.withConfig({displayName:"CircleContainer",componentId:"sc-d58f10e6-3"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]),LX=Ay(Zy).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-d58f10e6-4"})(["position:absolute;width:35px;height:35px;color:var(--privy-color-error);"]),BX=Ay.div.withConfig({displayName:"StyledRedCircle",componentId:"sc-d58f10e6-5"})(["position:absolute;width:60px;height:60px;border-radius:50%;background-color:var(--privy-color-error);opacity:0.1;"]),UX=Ay(IV).withConfig({displayName:"RetryButton",componentId:"sc-d58f10e6-6"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]),DX=Ay.span.withConfig({displayName:"TextBoxTitle",componentId:"sc-d58f10e6-7"})(["width:100%;text-align:left;font-size:0.825rem;color:var(--privy-color-foreground);padding:4px;"]),FX=Ay.div.withConfig({displayName:"TextBoxContainer",componentId:"sc-d58f10e6-8"})(["width:100%;margin:5px;display:flex;flex-direction:column;justify-content:center;align-items:center;"]),zX=Ay.text.withConfig({displayName:"HelperText",componentId:"sc-d58f10e6-9"})(["position:relative;width:100%;padding:5px;font-size:0.8rem;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;"]),WX=Ay.span.withConfig({displayName:"TextBox",componentId:"sc-d58f10e6-10"})(["position:relative;width:100%;background-color:var(--privy-color-background-2);padding:8px 12px;border-radius:10px;margin-top:5px;font-size:14px;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;",""],e=>e.$clickable&&"cursor: pointer;\n  transition: background-color 0.3s;\n  padding-right: 45px;\n\n  &:hover {\n    background-color: var(--privy-color-foreground-4);\n  }"),qX=Ay(nM).withConfig({displayName:"StyledClipboardIcon",componentId:"sc-d58f10e6-11"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),HX=Ay(eM).withConfig({displayName:"StyledClipboardCheckIcon",componentId:"sc-d58f10e6-12"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),VX=({clicked:e})=>(0,ri.jsx)(e?HX:qX,{}),KX=({gasUsed:e,effectiveGasPrice:t})=>{if(e&&t)try{return(0,oi.nj)(e*t)}catch(e){return}};const GX=({txn:e,receipt:t,transactionInfo:n,onClose:r,tokenPrice:i,tokenSymbol:s,receiptHeader:o,receiptDescription:a})=>(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{onClose:r}),(0,ri.jsx)(VG,{title:o??"Transaction complete!",description:a??"You're all set."}),(0,ri.jsx)(IG,{tokenPrice:i,from:t.from,to:t.to,gas:KX(t),txn:e,transactionInfo:n,tokenSymbol:s}),(0,ri.jsx)(tV,{}),(0,ri.jsx)(ZX,{loading:!1,onClick:r,children:"All Done"}),(0,ri.jsx)(nG,{}),(0,ri.jsx)(gV,{})]});let ZX=Ay(IV).withConfig({displayName:"SubmitButton",componentId:"sc-f70d0f7a-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);const YX=[{constant:!1,inputs:[{name:"_salt",type:"bytes32"},{name:"_initializer",type:"bytes"}],name:"deployAccount",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],JX=[{name:"from",type:"address"},{name:"param2",type:"address"},{name:"param3",type:"bytes"},{name:"param4",type:"tuple",components:[]},{type:"tuple",components:[{name:"param5",type:"address"},{name:"param6",type:"uint256"},{name:"param7",type:"uint256"},{name:"encodedInitData",type:"bytes"}]}],QX=[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],XX=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],e0=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"payable",type:"function"}],t0=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],n0=[{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],r0=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],i0=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenIds",type:"uint256[]"},{name:"_amounts",type:"uint256[]"},{name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],s0=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],o0=(e,t)=>{let n=a0(QX,e);if(n)return{action:"approve",functionName:"approve",isErc20Ish:!0,isNFTIsh:!1,spender:n.args[0],amount:n.args[1]};let r=a0(XX,e);if(r)return{action:"transfer",functionName:"transfer",isErc20Ish:!0,isNFTIsh:!1,transferTo:r.args[0],amount:r.args[1]};if(!t)return{action:"transaction",functionName:"",isErc20Ish:!1,isNFTIsh:!1};let i=a0(YX,e);if(i&&"string"==typeof i.args[1]){let e=c0(i.args[1]);if(e&&e[4].encodedInitData)return o0(e[4].encodedInitData,t)}let s=a0(n0,e);if(s)return{action:"approve",functionName:"setApprovalForAll",isNFTIsh:!0,isErc20Ish:!1,operator:s.args[0],approved:s.args[1]};let o=a0(r0,e);if(o)return{action:"transfer",functionName:"transferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:o.args[0],transferTo:o.args[1],tokenId:o.args[2]};let a=a0(t0,e);if(a)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:a.args[0],transferTo:a.args[1],tokenId:a.args[2]};let c=a0(s0,e);if(c)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:c.args[0],transferTo:c.args[1],tokenId:c.args[2],amount:c.args[3]};let l=a0(i0,e);if(l)return{action:"batch transfer",functionName:"safeBatchTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:l.args[0],transferTo:l.args[1],tokenIds:l.args[2],amounts:l.args[3]};let u=a0(e0,e);return u?{action:"mint",functionName:u.functionName,isNFTIsh:!0,isErc20Ish:!1,args:u.args}:{action:"transaction",isErc20Ish:!1,isNFTIsh:!1}};let a0=(e,t)=>{try{let n=(0,Vf.J)({abi:e,data:t});return{functionName:n.functionName,args:n.args||[]}}catch(e){return null}},c0=e=>{try{if("string"==typeof e)return(0,Kf.n)(JX,`0x${e.slice(10)}`)}catch(e){return null}},l0=e=>`${parseFloat(e).toFixed(2)}`,u0=new fH(new hH("There was an issue preparing your transaction",sc.E32603_DEFAULT_INTERNAL_ERROR.eipCode)),d0=(e,t)=>e?.sendTransaction?"transactionRequest"in e.sendTransaction?e.sendTransaction.transactionRequest:e.sendTransaction.transactionRequests[t]:void 0;const h0={component:()=>{let{data:e,onUserCloseViaDialogOrKeybindRef:t,setModalData:n,navigate:r}=QH(),{client:i,rpcConfig:s,chains:o,closePrivyModal:a,walletProxy:c,showFiatPrices:l}=Jd(),{user:u}=eV(),d=Mf(),[h,f]=(0,ei.useState)(0),[p,g]=(0,ei.useState)(0),[m,y]=(0,ei.useState)(d0(e,h)),[w,b]=(0,ei.useState)(null),[v,x]=(0,ei.useState)(),[E,k]=(0,ei.useState)(!1),[_,C]=(0,ei.useState)(null),[S,I]=(0,ei.useState)(null),[A,T]=(0,ei.useState)(null),[P,O]=(0,ei.useState)(void 0),[j,N]=(0,ei.useState)(void 0),[R,$]=(0,ei.useState)(!1),[M,L]=(0,ei.useState)(!1),[B,U]=(0,ei.useState)([]),[D,F]=(0,ei.useState)([]),[z,W]=(0,ei.useState)("uninitiated"),[q,H]=(0,ei.useState)(void 0);if(!m||!e?.sendTransaction||!e?.sendTransaction)return(0,ri.jsx)(FY,{error:Error("Invalid transaction request"),allowlistConfig:d.allowlistConfig,onRetry:()=>{e?.sendTransaction?.onFailure(u0),a({shouldCallAuthOnSuccess:!1})}});let{transactingWalletAddress:V}=e.sendTransaction,K=(0,ei.useMemo)(()=>o.find(e=>Number(e.id)===Number(m.chainId)),[m.chainId]),G=K?.nativeCurrency.symbol??"ETH",Z=(0,ei.useMemo)(()=>o0(m.data,!!d.embeddedWallets.extendedCalldataDecoding),[m.data]),{action:Y,isErc20Ish:J,isNFTIsh:Q,functionName:X}=Z,{toAddress:ee,tokenAddress:te}=(0,ei.useMemo)(()=>({toAddress:Z.isErc20Ish?Z.transferTo:m.to??void 0,tokenAddress:Z.isErc20Ish?m.to:void 0}),[Z]);(0,ei.useEffect)(()=>{m.to&&K&&J&&qQ({address:m.to,chain:K,rpcConfig:d.rpcConfig,privyAppId:d.id}).then(b).catch(console.error)},[m.to,K]);let{tokenPrice:ne,isTokenPriceLoading:re}=OG(m.chainId),{balance:ie}=RQ({rpcConfig:d.rpcConfig,appId:d.id,address:V,chain:K}),se=function({rpcConfig:e,appId:t,address:n,chain:r,tokenInfo:i}){let{chains:s}=Jd(),[o,a]=(0,ei.useState)(null),[c,l]=(0,ei.useState)(!1),u=(0,ei.useMemo)(()=>{let n=r||s[0];if(n)return(0,lc.l)({chain:r,transport:(0,uc.L)(hc(n,e,t))})},[r,e,t]),d=(0,ei.useCallback)(async()=>{if(n&&u&&i.address)try{return l(!0),await u.readContract({address:i.address,abi:WQ,functionName:"balanceOf",args:[n]})}catch(e){console.error(e)}finally{l(!1)}},[u,n,i?.address,r]);return(0,ei.useEffect)(()=>{d().then(e=>null!=e&&a(e))},[d]),{balance:o,isLoading:c&&null==o,formattedBalance:ow({amount:o??BigInt(0),decimals:i.decimals})}}({rpcConfig:d.rpcConfig,appId:d.id,address:V,tokenInfo:{address:te||"",decimals:w?.decimals??18},chain:K}),oe=(0,ei.useMemo)(()=>Cq(Number(m.chainId),o,s,{appId:d.id}),[m.chainId,s]),ae=((e,t,n,r)=>{let[i,s]=(0,ei.useState)(null),{walletProxy:o}=Jd();return(0,ei.useEffect)(()=>{i&&s(null),(async()=>{if(!o||!t)return null;let i=[],s=!0,a=await RG(e,n,t,r).catch(t=>(t.message&&t.message.includes("Insufficient balance for transaction")||t.details&&t.details.includes("insufficient funds")?s=!1:i.push(t),e));return{tx:a,totalGasEstimate:a.gas,hasFunds:s,errors:i}})().then(s)},[e]),i})(m,V,oe,e?.sendTransaction?.prepareTransactionRequest);(0,ei.useEffect)(()=>{y(d0(e,h))},[h]),(0,ei.useEffect)(()=>{e.sendTransaction?.getIsSponsored?e.sendTransaction.getIsSponsored().then(x).catch(console.error):x(!1)},[e.sendTransaction.getIsSponsored]);let ce=()=>{if(!E)return _?e?.sendTransaction?.onSuccess({hash:_}):A||ae?.errors[0]?e?.sendTransaction?.onFailure(A??ae?.errors[0]??u0):e?.sendTransaction?.onFailure(new fH(new hH("The user rejected the request",sc.E4001_USER_REJECTED_REQUEST.eipCode))),a({shouldCallAuthOnSuccess:!1})};t.current=ce;let le=!!(e.funding&&e.funding.supportedOptions.length>0),ue=IK(BigInt(ae?.totalGasEstimate??0n),G),de=l&&ne?SK(BigInt(ae?.totalGasEstimate??0n),ne):void 0,he=IK(ie??0n,G,void 0,!0),fe=l&&ne?SK(ie??0n,ne):void 0,pe=w&&!se.isLoading&&J&&"approve"!==Y?`${se.formattedBalance} ${w.symbol}`:void 0,ge=e.sendTransaction?.uiOptions?.transactionInfo?.title;ge||(ge="approve"===Y?J?"Confirm address":"Confirm action":`Approve ${Y}`);let me=(0,ei.useMemo)(()=>{if(e.sendTransaction?.uiOptions?.description)return e.sendTransaction?.uiOptions?.description;if("approve"===Y&&"setApprovalForAll"===X&&Z.approved){let e=(0,ri.jsx)(SY,{address:Z.operator||"",url:K?.blockExplorers?.default?.url});return(0,ri.jsxs)(ri.Fragment,{children:[d.name," would like your permission for ",e," to transfer tokens on your behalf."]})}if("approve"===Y&&"setApprovalForAll"===X&&!Z.approved){let e=(0,ri.jsx)(SY,{address:Z.operator||"",url:K?.blockExplorers?.default?.url});return(0,ri.jsxs)(ri.Fragment,{children:[d.name," would like your permission to revoke permissions of ",e," from transferring tokens on your behalf."]})}return J&&"approve"===Y||J&&"approve"===Y?`${d.name} would like your permission for ${Aq(Z.spender)} to spend tokens on your behalf.`:`${d.name} wants your permission to approve the following transaction.`},[d.name,J,Z,e.sendTransaction?.uiOptions.description,X]),ye=e.sendTransaction?.uiOptions?.transactionInfo?.contractInfo?.imgUrl?(0,ri.jsx)("img",{src:e.sendTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:e.sendTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,we=!(!ae||ae.errors[0]||ae.hasFunds||!1!==v),be=we&&le,ve=be?"Add funds":e.sendTransaction?.uiOptions?.buttonText||(h<p?"Continue":"Approve");if((0,ei.useEffect)(()=>{e.sendTransaction?.scanTransaction&&d.embeddedWallets.transactionScanning.enabled&&"uninitiated"===z&&(W("in progress"),e.sendTransaction.scanTransaction().then(e=>{(e=>{if(!e)throw Error("Transaction scan failed");if("Success"===e.validation.status&&("Benign"===e.validation.result_type?N("safe"):"Warning"===e.validation.result_type?N("warn"):"Malicious"===e.validation.result_type&&(N("error"),L(!0))),"Success"!==e.simulation.status)throw Error("Simulation failed");{O(e.simulation.params);let{assetsIn:t,assetsOut:n}=function(e,t){let n=[],r=new Map;if(e)for(let t of e)if(t.in[0]){let e;e="ERC721"===t.asset.type||"approve_for_all"===t.in[0].value?{id:`nft:${t.asset.name}`,nftName:t.asset.name,nftCount:t.in.length}:{id:`token:${t.asset.type}:${t.asset.symbol}:${t.asset.name}`,iconUrl:t.asset.logo_url,value:t.in[0].value,symbol:t.asset.symbol,usdValue:t.in[0].usd_price?l0(t.in[0].usd_price):void 0,decimals:t.asset.decimals},n.push(e)}else if(t.out[0]?.value){let e;e="ERC721"===t.asset.type||"approve_for_all"===t.out[0].value?{id:`nft:${t.asset.name}`,nftName:t.asset.name}:{id:`token:${t.asset.type}:${t.asset.symbol}:${t.asset.name}`,iconUrl:t.asset.logo_url,value:t.out[0].value,symbol:t.asset.symbol,usdValue:t.out[0].usd_price?l0(t.out[0].usd_price):void 0,decimals:t.asset.decimals},r.has(e.id)||r.set(e.id,e)}for(let e of t)for(let t of Object.keys(e.spenders)){let n;n="ERC721"===e.asset.type||"approve_for_all"===e.spenders[t]?.value?{id:`nft:${e.asset.name}`,nftName:e.asset.name}:{id:`token:${e.asset.type}:${e.asset.symbol}:${e.asset.name}`,iconUrl:e.asset.logo_url,value:e.spenders[t]?.value,symbol:e.asset.symbol,usdValue:e.spenders[t]?.usd_price?l0(e.spenders[t]?.usd_price):void 0,decimals:e.asset.decimals},r.has(n.id)||r.set(n.id,n)}return{assetsIn:n,assetsOut:Array.from(r.values())}}(e.simulation.assets_diffs,e.simulation.exposures);if(0===n.length&&0===t.length)throw Error("No tokens found");U(n),F(t)}})(e),W("completed")}).catch(()=>W("failed")))},[!!e.sendTransaction?.scanTransaction]),(0,ei.useEffect)(()=>{e.sendTransaction?.scanTransaction&&"failed"!==z||((t,n,r)=>{if(g((e=>e?.sendTransaction?"transactionRequest"in e.sendTransaction?0:e.sendTransaction.transactionRequests.length-1:0)(e)),n.isErc20Ish&&n.amount&&r){let e=KQ({amount:n.amount,decimals:r.decimals});H(e),U([{value:e,symbol:r?.symbol,decimals:r?.decimals}])}else if(t.value){let e=BigInt(t.value),n=ne?SK(e,ne):void 0;U(l&&n?[{value:n}]:[{value:AK(e),symbol:G,decimals:18,usdValue:n}])}else U(l?[{value:"$0"}]:[{value:"0",symbol:G,decimals:18}])})(ae?.tx??m,Z,w)},[m,ae?.tx,Z,w,z]),S)return(0,ri.jsx)(GX,{txn:ae?.tx??m,onClose:ce,receipt:S,transactionInfo:e.sendTransaction?.uiOptions.transactionInfo,tokenPrice:ne,tokenSymbol:G,receiptHeader:e.sendTransaction?.uiOptions.successHeader,receiptDescription:e.sendTransaction?.uiOptions.successDescription});if(A)return(0,ri.jsx)(jX,{transactionError:A,transactionHash:_??void 0,chainType:"ethereum",chainId:ae?.tx.chainId??m.chainId,onClose:ce,onRetry:({resetNonce:e})=>{T(null);let t={...ae?.tx??m};e&&(t.nonce=void 0),y(t)}});let xe=0!==p&&"number"==typeof h&&0!==h?()=>{f(h-1)}:void 0;return R&&P?(0,ri.jsx)(XQ,{details:P,onBack:()=>$(!1)}):(0,ri.jsx)(kX,{transactionIndex:h,onBack:xe,maxIndex:p,disabled:we&&!le||M,isSubmitting:E,submitError:A,isPreparing:!ae,isTokenPriceLoading:re,isTokenContractInfoLoading:!Q&&!w,prepareError:ae?.errors[0],symbol:w?.symbol,chain:K,img:ye,title:ge,subtitle:me,txValue:m.value,fee:de??ue,isSponsored:v,from:V??"",to:ee,tokenAddress:te??void 0,network:d.chains.find(e=>e.id===m.chainId)?.name??"",transactionDetails:{...Z,formattedAmount:q},cta:ve,missingFunds:we,action:Y,balance:pe??fe??he,onClose:ce,onClick:be?async()=>{if(V){if(!le)throw Error("Funding wallet is not enabled");n({...e,funding:{...e.funding,methodScreen:z1,chainType:"ethereum",amount:(0,qf.c)(BigInt(ae?.tx.value??0)+BigInt(ae?.totalGasEstimate?.toString()??0)),chain:K},solanaFundingData:e?.solanaFundingData}),r(z1)}}:async()=>{if(h<p)f(h+1);else{k(!0);try{let t=await i.getAccessToken();if(E||!t||!c||!u)return;let n=await e.sendTransaction.onConfirm({transactionRequest:ae?.tx??m});if(C(n),e.sendTransaction?.signOnly)return await new Promise(e=>setTimeout(e,nf)),e?.sendTransaction?.onSuccess({hash:n}),a({shouldCallAuthOnSuccess:!1});let r=await oe.waitForTransactionReceipt({hash:n});if("reverted"===r.status)throw Error("Transaction failed");I(r)}catch(e){console.warn({transaction:ae?.tx??m,error:e}),T(e)}finally{k(!1)}}},validation:j,hasScanDetails:!!P,setIsScanDetailsOpen:$,preventMaliciousTransaction:M,setPreventMaliciousTransaction:L,tokensSent:B,tokensReceived:D,isScanning:"in progress"===z,isCancellable:e.sendTransaction?.uiOptions?.isCancellable??!1,functionName:X})}};function f0({title:e}){let{currentScreen:t,navigateBack:n,navigate:r,data:i,setModalData:s}=QH();return(0,ri.jsx)(DV,{title:e,backFn:t===FQ?n:t===i?.funding?.methodScreen?i.funding.comingFromSendTransactionScreen?()=>r(h0):void 0:i?.funding?.methodScreen?()=>{let e=i.funding;e.usingDefaultFundingMethod&&(e.usingDefaultFundingMethod=!1),s({funding:e,solanaFundingData:i?.solanaFundingData}),r(e.methodScreen)}:void 0})}const p0=e=>(0,ri.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 210.2",xmlSpace:"preserve",...e,children:(0,ri.jsx)("path",{d:"M93.6,27.1C87.6,34.2,78,39.8,68.4,39c-1.2-9.6,3.5-19.8,9-26.1c6-7.3,16.5-12.5,25-12.9  C103.4,10,99.5,19.8,93.6,27.1 M102.3,40.9c-13.9-0.8-25.8,7.9-32.4,7.9c-6.7,0-16.8-7.5-27.8-7.3c-14.3,0.2-27.6,8.3-34.9,21.2  c-15,25.8-3.9,64,10.6,85c7.1,10.4,15.6,21.8,26.8,21.4c10.6-0.4,14.8-6.9,27.6-6.9c12.9,0,16.6,6.9,27.8,6.7  c11.6-0.2,18.9-10.4,26-20.8c8.1-11.8,11.4-23.3,11.6-23.9c-0.2-0.2-22.4-8.7-22.6-34.3c-0.2-21.4,17.5-31.6,18.3-32.2  C123.3,42.9,107.7,41.3,102.3,40.9 M182.6,11.9v155.9h24.2v-53.3h33.5c30.6,0,52.1-21,52.1-51.4c0-30.4-21.1-51.2-51.3-51.2H182.6z   M206.8,32.3h27.9c21,0,33,11.2,33,30.9c0,19.7-12,31-33.1,31h-27.8V32.3z M336.6,169c15.2,0,29.3-7.7,35.7-19.9h0.5v18.7h22.4V90.2  c0-22.5-18-37-45.7-37c-25.7,0-44.7,14.7-45.4,34.9h21.8c1.8-9.6,10.7-15.9,22.9-15.9c14.8,0,23.1,6.9,23.1,19.6v8.6l-30.2,1.8  c-28.1,1.7-43.3,13.2-43.3,33.2C298.4,155.6,314.1,169,336.6,169z M343.1,150.5c-12.9,0-21.1-6.2-21.1-15.7c0-9.8,7.9-15.5,23-16.4  l26.9-1.7v8.8C371.9,140.1,359.5,150.5,343.1,150.5z M425.1,210.2c23.6,0,34.7-9,44.4-36.3L512,54.7h-24.6l-28.5,92.1h-0.5  l-28.5-92.1h-25.3l41,113.5l-2.2,6.9c-3.7,11.7-9.7,16.2-20.4,16.2c-1.9,0-5.6-0.2-7.1-0.4v18.7C417.3,210,423.3,210.2,425.1,210.2z"})}),g0=e=>(0,ri.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 38.1",xmlSpace:"preserve",...e,children:[(0,ri.jsx)("path",{style:{fill:"#5F6368"},d:"M37.8,19.7V29h-3V6h7.8c1.9,0,3.7,0.7,5.1,2c1.4,1.2,2.1,3,2.1,4.9c0,1.9-0.7,3.6-2.1,4.9c-1.4,1.3-3.1,2-5.1,2  L37.8,19.7L37.8,19.7z M37.8,8.8v8h5c1.1,0,2.2-0.4,2.9-1.2c1.6-1.5,1.6-4,0.1-5.5c0,0-0.1-0.1-0.1-0.1c-0.8-0.8-1.8-1.3-2.9-1.2  L37.8,8.8L37.8,8.8z"}),(0,ri.jsx)("path",{style:{fill:"#5F6368"},d:"M56.7,12.8c2.2,0,3.9,0.6,5.2,1.8s1.9,2.8,1.9,4.8V29H61v-2.2h-0.1c-1.2,1.8-2.9,2.7-4.9,2.7  c-1.7,0-3.2-0.5-4.4-1.5c-1.1-1-1.8-2.4-1.8-3.9c0-1.6,0.6-2.9,1.8-3.9c1.2-1,2.9-1.4,4.9-1.4c1.8,0,3.2,0.3,4.3,1v-0.7  c0-1-0.4-2-1.2-2.6c-0.8-0.7-1.8-1.1-2.9-1.1c-1.7,0-3,0.7-3.9,2.1l-2.6-1.6C51.8,13.8,53.9,12.8,56.7,12.8z M52.9,24.2  c0,0.8,0.4,1.5,1,1.9c0.7,0.5,1.5,0.8,2.3,0.8c1.2,0,2.4-0.5,3.3-1.4c1-0.9,1.5-2,1.5-3.2c-0.9-0.7-2.2-1.1-3.9-1.1  c-1.2,0-2.2,0.3-3,0.9C53.3,22.6,52.9,23.3,52.9,24.2z"}),(0,ri.jsx)("path",{style:{fill:"#5F6368"},d:"M80,13.3l-9.9,22.7h-3l3.7-7.9l-6.5-14.7h3.2l4.7,11.3h0.1l4.6-11.3H80z"}),(0,ri.jsx)("path",{style:{fill:"#4285F4"},d:"M25.9,17.7c0-0.9-0.1-1.8-0.2-2.7H13.2v5.1h7.1c-0.3,1.6-1.2,3.1-2.6,4v3.3H22C24.5,25.1,25.9,21.7,25.9,17.7z"}),(0,ri.jsx)("path",{style:{fill:"#34A853"},d:"M13.2,30.6c3.6,0,6.6-1.2,8.8-3.2l-4.3-3.3c-1.2,0.8-2.7,1.3-4.5,1.3c-3.4,0-6.4-2.3-7.4-5.5H1.4v3.4  C3.7,27.8,8.2,30.6,13.2,30.6z"}),(0,ri.jsx)("path",{style:{fill:"#FBBC04"},d:"M5.8,19.9c-0.6-1.6-0.6-3.4,0-5.1v-3.4H1.4c-1.9,3.7-1.9,8.1,0,11.9L5.8,19.9z"}),(0,ri.jsx)("path",{style:{fill:"#EA4335"},d:"M13.2,9.4c1.9,0,3.7,0.7,5.1,2l0,0l3.8-3.8c-2.4-2.2-5.6-3.5-8.8-3.4c-5,0-9.6,2.8-11.8,7.3l4.4,3.4  C6.8,11.7,9.8,9.4,13.2,9.4z"})]}),m0=e=>{let[t,n]=(0,ei.useState)();return(0,ei.useEffect)(()=>{e().then(e=>{n(e)}).catch(()=>{})},[]),t},y0=({children:e,color:t,isLoading:n,isPulsing:r,...i})=>(0,ri.jsx)(w0,{$color:t,$isLoading:n,$isPulsing:r,...i,children:e});let w0=Ay.span.withConfig({displayName:"StyledSpan",componentId:"sc-80725f4-0"})(["padding:0.25rem;font-size:0.75rem;font-weight:500;line-height:1rem;border-radius:var(--privy-border-radius-xs);display:flex;align-items:center;"," ",""],e=>{let t,n;"green"===e.$color&&(t="var(--privy-color-success-dark)",n="var(--privy-color-success-light)"),"red"===e.$color&&(t="var(--privy-color-error)",n="var(--privy-color-error-light)"),"gray"===e.$color&&(t="var(--privy-color-foreground-2)",n="var(--privy-color-background-2)");let r=Oy(["from,to{background-color:",";}50%{background-color:rgba(",",0.8);}"],n,n);return Cy(["color:",";background-color:",";",";"],t,n,e.$isPulsing&&Cy(["animation:"," 3s linear infinite;"],r))},oX);const b0=({onClick:e,text:t})=>(0,ri.jsxs)(aV,{onClick:e,children:[(0,ri.jsx)(cV,{children:(0,ri.jsx)(ph,{})}),(0,ri.jsx)(tV,{children:t})]}),v0=({chainType:e,withPadding:t})=>{let n="";return n="ethereum-only"===e||"ethereum-and-solana"===e?"Rainbow, Phantom, or Coinbase Wallet":"Phantom or Solflare",(0,ri.jsx)(uV,{$withPadding:t,children:(0,ri.jsxs)(dV,{children:[(0,ri.jsx)($y,{style:{color:"var(--privy-color-warn)",height:48,width:48}}),(0,ri.jsx)("h3",{children:"No wallets available"}),(0,ri.jsxs)("p",{children:["Please download an external wallet provider, like ",n,"."]})]})},"empty-wallet-state")},x0=({icon:e,name:t})=>"string"==typeof e?(0,ri.jsx)("img",{alt:`${t||"wallet"} logo`,src:e,style:{height:24,width:24,borderRadius:4}}):void 0===e?(0,ri.jsx)(Ky,{style:{height:24,width:24}}):e?(0,ri.jsx)(e,{}):null;function E0(e){let t=e.toLowerCase();return!!window?.webkit?.messageHandlers?.ReactNativeWebView||!!window?.ReactNativeWebView||["fbav","fban","instagram","snapchat","linkedinapp"].some(e=>t.includes(e))}const k0=({walletLogo:e,success:t,errorMessage:n,title:r,subtitle:i,onRetry:s,onUseDifferentWallet:o,onBack:a,numRetries:c,maxRetries:l})=>(0,ri.jsx)(bK,{title:r,subtitle:i,icon:e,iconVariant:"loading",iconLoadingStatus:{success:t,fail:!!n},primaryCta:n===pH.ERROR_USER_EXISTS?{label:"Use a different wallet",onClick:o}:!t&&n?.retryable&&c<l?{label:"Retry",onClick:s,disabled:!n?.retryable||c>=l}:!t&&n&&c>=l?{label:"Use a different wallet",onClick:o}:void 0,onBack:a,watermark:!0}),_0={component:()=>{let e,{navigateBack:t,navigate:n,lastScreen:r,currentScreen:i,data:s,setModalData:o}=QH(),{walletConnectionStatus:a,closePrivyModal:c}=Jd(),[l,u]=(0,ei.useState)(void 0),[d,h]=(0,ei.useState)(0),f=HH(a?.connector?.walletClientType||"unknown"),p="connected"===a?.status,g="switching_to_supported_chain"===a?.status;(0,ei.useEffect)(()=>{if(p){let e;if(s?.externalConnectWallet?.onCompleteNavigateTo){let t=s.externalConnectWallet.onCompleteNavigateTo,r=a.connectedWallet?.address;e=setTimeout(()=>{s.funding&&o({...s,funding:{...s.funding,connectedWalletAddress:r}}),n(t({address:r,walletClientType:a.connector?.walletClientType,walletChainType:a.connector?.chainType}))},nf)}else e=setTimeout(c,nf);return()=>clearTimeout(e)}},[p]),(0,ei.useEffect)(()=>{a?.connectError&&(e=>{u(fQ(e))})(a?.connectError)},[a]);let m=a?.connector?.connectorType||"injected",y=a?.connector?.walletClientType||"unknown",w=f?.metadata?.shortName||f?.name||a?.connector?.walletBranding.name||"Browser Extension",b=f?.image_url?.md||a?.connector?.walletBranding.icon||(e=>(0,ri.jsx)(CH,{...e})),v="Browser Extension"===w?w.toLowerCase():w;e=p?`Successfully connected with ${v}`:l?l.message:g?"Switching networks":`Waiting for ${v}`;let x="Dont see your wallet? Check your other browser windows.";return p?x="Youre good to go!":d>=2&&l?x="Unable to connect wallet":l?x=l.detail:g?x="Switch your wallet to the requested network.":"metamask"===y&&si.Fr?x="Click to continue to open and connect MetaMask.":"metamask"===y?x="For the best experience, connect only one wallet at a time.":"wallet_connect_v2"===m?x="Open your mobile wallet app to continue":"coinbase_wallet"===m&&(x="Confirm in the Coinbase app/popup to continue."),(0,ri.jsx)(k0,{walletName:w,walletLogo:b,success:p,errorMessage:l,title:e,subtitle:x,onRetry:()=>{h(d+1),u(void 0),a?.connectRetry()},onUseDifferentWallet:t,onBack:i===r?void 0:t,numRetries:d,maxRetries:2})}},C0=Ay.div.withConfig({displayName:"TodoList",componentId:"sc-bcc78743-0"})(["display:flex;flex-direction:column;justify-content:flex-start;gap:10px;padding-left:8px;"]),S0=({children:e,variant:t="default",icon:n})=>{let r=()=>{switch(t){case"success":return"var(--privy-color-icon-success)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}};return(0,ri.jsxs)(A0,{children:[(0,ri.jsx)(I0,{$variant:t,"data-variant":t,children:(()=>{if(n)return ei.isValidElement(n)?ei.cloneElement(n,{stroke:r(),strokeWidth:2}):n;switch(t){case"success":default:return(0,ri.jsx)(sh,{size:12,stroke:r(),strokeWidth:3});case"error":return(0,ri.jsx)(gh,{size:12,stroke:r(),strokeWidth:3})}})()}),e]})};let I0=Ay.div.withConfig({displayName:"IconBackground",componentId:"sc-bcc78743-2"})(["display:flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;background-color:",";flex-shrink:0;"],({$variant:e})=>{switch(e){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";default:return"var(--privy-color-background-2)"}}),A0=Ay.div.withConfig({displayName:"TodoItemWrapper",componentId:"sc-bcc78743-3"})(["display:flex;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;&&{a{color:var(--privy-color-accent);}}"]);const T0=({walletName:e,installLink:t,title:n,subtitle:r="Follow the instructions below to get started.",onReload:i,onBack:s})=>{let o=n||`Create a ${e} wallet`.replace(/wallet wallet/gi,"wallet");return(0,ri.jsx)(bK,{title:o,subtitle:r,onBack:s,showBack:!0,primaryCta:{label:"Reload the page to use your wallet",onClick:i},helpText:(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)("span",{children:"Still not sure? "}),(0,ri.jsx)(yY,{size:"sm",target:"_blank",href:"https://solana.com/docs/intro/wallets",children:"Learn more"})]}),watermark:!0,children:(0,ri.jsxs)(C0,{children:[(0,ri.jsx)(S0,{children:(0,ri.jsxs)("div",{children:[(0,ri.jsx)("span",{children:"Install the "})," ",(0,ri.jsxs)(yY,{href:t,target:"_blank",children:[e," browser extension"]})]})}),(0,ri.jsx)(S0,{children:"Set up your first wallet"}),(0,ri.jsx)(S0,{children:"Store your recovery phrase in a safe place!"})]})})},P0={component:()=>{let{navigateBack:e,data:t}=QH();if(!t?.installWalletModalData)throw Error("Wallet data is missing");let{walletConfig:n}=t.installWalletModalData;return(0,ri.jsx)(T0,{walletName:n.name,installLink:n.installLink,onReload:()=>{window.location.reload()},onBack:e})}},O0=({title:e,subtitle:t,buttonText:n,buttonHref:r,isLoading:i=!1,helpText:s,onButtonClick:o})=>(0,ri.jsx)(bK,{title:e,subtitle:t,primaryCta:{label:n,onClick:()=>{r&&window.open(r,"_self"),o?.()},disabled:i},helpText:s,watermark:!0}),j0={component:()=>{let{ready:e}=eV(),{data:t}=QH(),[n,r]=(0,ei.useState)(!1);if(!t?.installWalletModalData)throw Error("Wallet data is missing");let{walletConfig:i,connectOnly:s,chainType:o}=t.installWalletModalData,a=i.getMobileRedirect({useUniversalLink:!n,isSolana:"solana"===o,connectOnly:s}),c=i.name.replace(/ wallet/gi,""),l={title:`Redirecting to ${c} Mobile Wallet`,description:`We'll take you to the ${c} Mobile Wallet app to continue your login experience.`,footnote:""};return e&&(l.description=`For the best experience, we'll automatically log you into the ${c} Mobile Wallet in-app browser.`,l.footnote="You can always return here to login via other methods."),n&&(l.title="Still here?",l.description=`You may need to install the ${i.name} mobile app.`,l.footnote=`Once you're done, you can connect with ${i.name} wallet to complete the login.`),(0,ri.jsx)(O0,{title:l.title,subtitle:l.description,buttonText:n?"Go to App Store":"Continue",buttonHref:a,isLoading:e&&!a,helpText:l.footnote||void 0,onButtonClick:()=>{setTimeout(()=>r(!0),1e3)}})}},N0=({provider:e,displayName:t,logo:n,connectOnly:r,connector:i})=>{let s,{navigate:o,setModalData:a}=QH(),{connectWallet:c}=Jd(),l=uY(),u=HH(e),d="wallet_connect_v2"===i.connectorType?e:i.walletClientType,h=window.matchMedia("(display-mode: standalone)").matches,f=PH({connectorType:i.connectorType,walletClientType:d});s=f&&f.chainTypes.includes(i.chainType)?()=>{f.isInstalled||"solana"===i.chainType&&"isInstalled"in i&&i.isInstalled?(c(i,d),o(r?_0:gQ)):si.Fr?(a({installWalletModalData:{walletConfig:f,chainType:i.chainType,connectOnly:r}}),o(j0)):(a({installWalletModalData:{walletConfig:f,chainType:i.chainType,connectOnly:r}}),o(P0))}:"coinbase_wallet"!==i.connectorType||"eoaOnly"!==i.coinbaseWalletConfig.preference?.options||!si.Fr||h||_q()?()=>{(!E0(window.navigator.userAgent)||event?.isTrusted)&&(c(i,d),r?"wallet_connect_v2"===i.connectorType?(a(e=>({...e,externalConnectWallet:{...e?.externalConnectWallet,preSelectedWalletId:"wallet_connect_qr"}})),o(W1)):o(_0):o(gQ))}:()=>{window.location.href=`https://go.cb-w.com/dapp?cb_url=${encodeURI(window.location.href)}`};let p=t||u?.metadata?.shortName||u?.name||i.walletClientType;return(0,ri.jsxs)(R0,{onClick:s,children:[(0,ri.jsx)(x0,{icon:n||u?.image_url?.md,name:p}),(0,ri.jsx)("span",{children:p}),(0,ri.jsxs)(M0,{id:"chip-container",children:[l?.walletClientType===d&&l?.chainType===i.chainType?(0,ri.jsx)($0,{color:"gray",children:"Recent"}):(0,ri.jsx)("span",{id:"connect-text",children:"Connect"}),"solana"===i.chainType&&(0,ri.jsx)($0,{color:"gray",children:"Solana"})]})]})};let R0=Ay(aV).withConfig({displayName:"ConnectWalletButton",componentId:"sc-89605346-0"})(["> span{color:var(--privy-color-foreground);}> #chip-container > #connect-text{font-weight:500;color:var(--privy-color-accent);opacity:0;transition:opacity 0.1s ease-out;}:hover > #chip-container > #connect-text{opacity:1;}@media (max-width:440px){> #chip-container > #connect-text{display:none;}}"]),$0=Ay(y0).withConfig({displayName:"StyledChip",componentId:"sc-89605346-1"})(["margin-left:auto;"]),M0=Ay.div.withConfig({displayName:"ChipContainer",componentId:"sc-89605346-2"})(["display:flex;flex-wrap:wrap;gap:8px;margin-left:auto;"]);const L0=["coinbase_wallet","base_account"];let B0=["metamask","okx_wallet","rainbow","uniswap","bybit_wallet","ronin_wallet","haha_wallet","uniswap_extension","zerion","rabby_wallet","cryptocom","binance"];const U0=["safe"],D0=["phantom","backpack","solflare","universal_profile"],F0=({walletList:e,walletChainType:t,connectors:n,connectOnly:r,ignore:i,walletConnectEnabled:s,forceWallet:o})=>{let a=[],c=[],l=[],u=n.filter(e=>"ethereum-only"===t?"ethereum"===e.chainType:"solana-only"!==t||"solana"===e.chainType),d=u.find(e=>"wallet_connect_v2"===e.connectorType);for(let[n,h]of(o?[o.wallet]:e).entries()){if("detected_ethereum_wallets"===h)for(let[e,t]of u.filter(({chainType:e,connectorType:t,walletClientType:n})=>"solana"!==e&&("uniswap_wallet_extension"===n||"uniswap_extension"===n?!i.includes("uniswap"):"crypto.com_wallet_extension"===n||"crypto.com_onchain"===n?!i.includes("cryptocom"):"injected"===t&&!i.includes(n))).entries()){let{walletClientType:i,walletBranding:s,chainType:o}=t;("unknown"===i?c:a).push((0,ri.jsx)(N0,{connectOnly:r,provider:i,logo:s.icon,displayName:s.name,connector:t},`${n}-${h}-${i}-${o}-${e}`))}if("detected_solana_wallets"===h)for(let[e,s]of u.filter(({chainType:e,walletClientType:n})=>{if("solana"===e)return"ethereum-only"!==t&&!i.includes(n)}).entries()){let{walletClientType:t,walletBranding:i,chainType:o}=s;("unknown"===t?c:a).push((0,ri.jsx)(N0,{connectOnly:r,provider:t,logo:i.icon,displayName:i.name,connector:s},`${n}-${h}-${t}-${o}-${e}`))}if(D0.includes(h)){let e=u.find(e=>"injected"===e.connectorType&&e.walletClientType===h||e.connectorType===h);if(e&&a.push((0,ri.jsx)(N0,{connectOnly:r,provider:h,connector:e},`${n}-${h}`)),"solana-only"===t||"ethereum-and-solana"===t){let e=u.find(({chainType:e,walletClientType:t})=>"solana"===e&&t===h);e&&a.push((0,ri.jsx)(N0,{connectOnly:r,provider:h,connector:e},`${h}-solana`))}}else if(B0.includes(h)){let e=u.find(e=>"uniswap"===h?"uniswap_wallet_extension"===e.walletClientType||"uniswap_extension"===e.walletClientType:"cryptocom"===h?"crypto.com_wallet_extension"===e.walletClientType||"crypto.com_onchain"===e.walletClientType:"injected"===e.connectorType&&e.walletClientType===h);if(s&&!e&&(e=d),e&&a.push((0,ri.jsx)(N0,{connectOnly:r,provider:h,connector:e,logo:"injected"===e.connectorType?e.walletBranding.icon:void 0,displayName:"injected"===e.connectorType?e.walletBranding.name:void 0},`${n}-${h}`)),"solana-only"===t||"ethereum-and-solana"===t){let e=u.find(({chainType:e,walletClientType:t})=>"solana"===e&&t===h);e&&a.push((0,ri.jsx)(N0,{connectOnly:r,provider:h,connector:e},`${h}-solana`))}}else if(L0.includes(h)){let e=u.find(({connectorType:e})=>e===h);e&&a.push((0,ri.jsx)(N0,{connectOnly:r,provider:h,connector:e,displayName:"coinbase_wallet"===e.walletClientType?"Coinbase":"Base",logo:"coinbase_wallet"===e.walletClientType?cH:lH},`${n}-${h}`))}else if(U0.includes(h))d&&l.push((0,ri.jsx)(N0,{connectOnly:r,provider:h,connector:d},`${n}-${h}`));else if("wallet_connect"===h)d&&l.push((0,ri.jsx)(N0,{connectOnly:r,provider:h,connector:d,logo:d.walletBranding.icon,displayName:"WalletConnect"},`${n}-${h}`));else if(h===o?.wallet){let t="ethereum"===o.chainType&&e.includes("detected_ethereum_wallets"),i="solana"===o.chainType&&e.includes("detected_solana_wallets");if(t||i){let e=u.find(({walletClientType:e})=>e===h);e&&a.push((0,ri.jsx)(N0,{connectOnly:r,provider:h,displayName:e.walletBranding?.name,logo:e.walletBranding?.icon,connector:e},`${n}-${h}`))}}}return[...c,...a,...l]},z0=({chains:e,appId:t,address:n,rpcConfig:r,includeUsdc:i})=>Promise.all(e.map(async e=>{let s=(0,lc.l)({chain:e,transport:(0,uc.L)(Sq(e,r,t))}),o=await s.getBalance({address:n}).catch(()=>0n),a=null,c=aw[e.id];if(i&&c){let{balance:i}=await UQ({address:n,chain:e,rpcConfig:r,appId:t,erc20Address:c});a=i}return{balance:o,erc20Balance:a,erc20Address:c,chain:e}})),W0=e=>(0,ri.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 397.7 311.7",enableBackground:"new 0 0 397.7 311.7",xmlSpace:"preserve",...e,children:[(0,ri.jsxs)("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:"360.8791",y1:"351.4553",x2:"141.213",y2:"-69.2936",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[(0,ri.jsx)("stop",{offset:"0",stopColor:"#00FFA3"}),(0,ri.jsx)("stop",{offset:"1",stopColor:"#DC1FFF"})]}),(0,ri.jsx)("path",{d:"M64.6,237.9c2.4-2.4,5.7-3.8,9.2-3.8h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,237.9z",fill:"url(#SVGID_1_)"}),(0,ri.jsxs)("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:"264.8291",y1:"401.6014",x2:"45.163",y2:"-19.1475",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[(0,ri.jsx)("stop",{offset:"0",stopColor:"#00FFA3"}),(0,ri.jsx)("stop",{offset:"1",stopColor:"#DC1FFF"})]}),(0,ri.jsx)("path",{d:"M64.6,3.8C67.1,1.4,70.4,0,73.8,0h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,3.8z",fill:"url(#SVGID_2_)"}),(0,ri.jsxs)("linearGradient",{id:"SVGID_3_",gradientUnits:"userSpaceOnUse",x1:"312.5484",y1:"376.688",x2:"92.8822",y2:"-44.061",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[(0,ri.jsx)("stop",{offset:"0",stopColor:"#00FFA3"}),(0,ri.jsx)("stop",{offset:"1",stopColor:"#DC1FFF"})]}),(0,ri.jsx)("path",{d:"M333.1,120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8,0-8.7,7-4.6,11.1l62.7,62.7c2.4,2.4,5.7,3.8,9.2,3.8h317.4  c5.8,0,8.7-7,4.6-11.1L333.1,120.1z",fill:"url(#SVGID_3_)"})]});let q0={[ui.id]:e=>(0,ri.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 2500 2500",xmlSpace:"preserve",...e,children:(0,ri.jsx)("g",{id:"Layer_x0020_1",children:(0,ri.jsxs)("g",{id:"_2405588477232",children:[(0,ri.jsx)("rect",{fill:"none",width:"2500",height:"2500"}),(0,ri.jsx)("g",{children:(0,ri.jsxs)("g",{children:[(0,ri.jsx)("path",{fill:"#213147",d:"M226,760v980c0,63,33,120,88,152l849,490c54,31,121,31,175,0l849-490c54-31,88-89,88-152V760      c0-63-33-120-88-152l-849-490c-54-31-121-31-175,0L314,608c-54,31-87,89-87,152H226z"}),(0,ri.jsx)("g",{children:(0,ri.jsxs)("g",{children:[(0,ri.jsx)("g",{children:(0,ri.jsx)("path",{fill:"#12AAFF",d:"M1435,1440l-121,332c-3,9-3,19,0,29l208,571l241-139l-289-793C1467,1422,1442,1422,1435,1440z"})}),(0,ri.jsx)("g",{children:(0,ri.jsx)("path",{fill:"#12AAFF",d:"M1678,882c-7-18-32-18-39,0l-121,332c-3,9-3,19,0,29l341,935l241-139L1678,883V882z"})})]})}),(0,ri.jsx)("g",{children:(0,ri.jsx)("path",{fill:"#9DCCED",d:"M1250,155c6,0,12,2,17,5l918,530c11,6,17,18,17,30v1060c0,12-7,24-17,30l-918,530c-5,3-11,5-17,5       s-12-2-17-5l-918-530c-11-6-17-18-17-30V719c0-12,7-24,17-30l918-530c5-3,11-5,17-5l0,0V155z M1250,0c-33,0-65,8-95,25L237,555       c-59,34-95,96-95,164v1060c0,68,36,130,95,164l918,530c29,17,62,25,95,25s65-8,95-25l918-530c59-34,95-96,95-164V719       c0-68-36-130-95-164L1344,25c-29-17-62-25-95-25l0,0H1250z"})}),(0,ri.jsx)("polygon",{fill:"#213147",points:"642,2179 727,1947 897,2088 738,2234     "}),(0,ri.jsxs)("g",{children:[(0,ri.jsx)("path",{fill:"#FFFFFF",d:"M1172,644H939c-17,0-33,11-39,27L401,2039l241,139l550-1507c5-14-5-28-19-28L1172,644z"}),(0,ri.jsx)("path",{fill:"#FFFFFF",d:"M1580,644h-233c-17,0-33,11-39,27L738,2233l241,139l620-1701c5-14-5-28-19-28V644z"})]})]})})]})})}),[hi.id]:e=>(0,ri.jsxs)("svg",{width:"1503",height:"1504",viewBox:"0 0 1503 1504",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,ri.jsx)("rect",{x:"287",y:"258",width:"928",height:"844",fill:"white"}),(0,ri.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1502.5 752C1502.5 1166.77 1166.27 1503 751.5 1503C336.734 1503 0.5 1166.77 0.5 752C0.5 337.234 336.734 1 751.5 1C1166.27 1 1502.5 337.234 1502.5 752ZM538.688 1050.86H392.94C362.314 1050.86 347.186 1050.86 337.962 1044.96C327.999 1038.5 321.911 1027.8 321.173 1015.99C320.619 1005.11 328.184 991.822 343.312 965.255L703.182 330.935C718.495 303.999 726.243 290.531 736.021 285.55C746.537 280.2 759.083 280.2 769.599 285.55C779.377 290.531 787.126 303.999 802.438 330.935L876.42 460.079L876.797 460.738C893.336 489.635 901.723 504.289 905.385 519.669C909.443 536.458 909.443 554.169 905.385 570.958C901.695 586.455 893.393 601.215 876.604 630.549L687.573 964.702L687.084 965.558C670.436 994.693 661.999 1009.46 650.306 1020.6C637.576 1032.78 622.263 1041.63 605.474 1046.62C590.161 1050.86 573.004 1050.86 538.688 1050.86ZM906.75 1050.86H1115.59C1146.4 1050.86 1161.9 1050.86 1171.13 1044.78C1181.09 1038.32 1187.36 1027.43 1187.92 1015.63C1188.45 1005.1 1181.05 992.33 1166.55 967.307C1166.05 966.455 1165.55 965.588 1165.04 964.706L1060.43 785.75L1059.24 783.735C1044.54 758.877 1037.12 746.324 1027.59 741.472C1017.08 736.121 1004.71 736.121 994.199 741.472C984.605 746.453 976.857 759.552 961.544 785.934L857.306 964.891L856.949 965.507C841.69 991.847 834.064 1005.01 834.614 1015.81C835.352 1027.62 841.44 1038.5 851.402 1044.96C860.443 1050.86 875.94 1050.86 906.75 1050.86Z",fill:"#E84142"})]}),[pi.id]:e=>(0,ri.jsxs)("svg",{width:"146",height:"146",viewBox:"0 0 146 146",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,ri.jsx)("circle",{cx:"73",cy:"73",r:"73",fill:"#0052FF"}),(0,ri.jsx)("path",{d:"M73.323 123.729C101.617 123.729 124.553 100.832 124.553 72.5875C124.553 44.343 101.617 21.4463 73.323 21.4463C46.4795 21.4463 24.4581 42.0558 22.271 68.2887H89.9859V76.8864H22.271C24.4581 103.119 46.4795 123.729 73.323 123.729Z",fill:"white"})]}),[mi.id]:e=>(0,ri.jsxs)("svg",{fill:"none",height:"400",viewBox:"0 0 400 400",width:"400",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,ri.jsx)("path",{d:"m0 0h400v400h-400z",fill:"#fcff52"}),(0,ri.jsx)("path",{d:"m300 100h-200v200h199.996v-69.813h-33.191c-11.442 25.468-37.194 43.206-66.665 43.206-40.63 0-73.533-33.187-73.533-73.533s32.903-73.249 73.533-73.249c30.043 0 55.795 18.313 67.24 44.349h32.62z",fill:"#000"})]}),[yi.id]:e=>(0,ri.jsxs)("svg",{width:"200",height:"208",viewBox:"0 0 200 208",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,ri.jsx)("rect",{width:"199.4",height:"207.623",fill:"#121212"}),(0,ri.jsxs)("g",{"clip-path":"url(#clip0_2303_643)",children:[(0,ri.jsx)("path",{d:"M132.369 155.99H49.7001V68.8854H68.6148V139.109H132.369V155.981V155.99Z",fill:"white"}),(0,ri.jsx)("path",{d:"M132.369 85.7575C141.687 85.7575 149.241 78.2036 149.241 68.8855C149.241 59.5673 141.687 52.0134 132.369 52.0134C123.05 52.0134 115.497 59.5673 115.497 68.8855C115.497 78.2036 123.05 85.7575 132.369 85.7575Z",fill:"white"})]}),(0,ri.jsx)("defs",{children:(0,ri.jsx)("clipPath",{id:"clip0_2303_643",children:(0,ri.jsx)("rect",{width:"99.5407",height:"103.977",fill:"white",transform:"translate(49.7001 52.0134)"})})})]}),[wi.id]:e=>(0,ri.jsxs)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 327.5 533.3",enableBackground:"new 0 0 327.5 533.3;",xmlSpace:"preserve",...e,children:[(0,ri.jsx)("path",{fill:"#8492B2",d:"M163.7,197.2V0L0,271.6L163.7,197.2z"}),(0,ri.jsx)("path",{fill:"#62688F",d:"M163.7,368.4V197.2L0,271.6L163.7,368.4z M163.7,197.2l163.7,74.4L163.7,0V197.2z"}),(0,ri.jsx)("path",{fill:"#454A75",d:"M163.7,197.2v171.2l163.7-96.8L163.7,197.2z"}),(0,ri.jsx)("path",{fill:"#8492B2",d:"M163.7,399.4L0,302.7l163.7,230.7V399.4z"}),(0,ri.jsx)("path",{fill:"#62688F",d:"M327.5,302.7l-163.8,96.7v134L327.5,302.7z"})]}),[bi.id]:e=>(0,ri.jsxs)("svg",{width:"500",height:"500",viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,ri.jsx)("circle",{cx:"250",cy:"250",r:"250",fill:"#FF0420"}),(0,ri.jsx)("path",{d:"M177.133 316.446C162.247 316.446 150.051 312.943 140.544 305.938C131.162 298.808 126.471 288.676 126.471 275.541C126.471 272.789 126.784 269.411 127.409 265.408C129.036 256.402 131.35 245.581 134.352 232.947C142.858 198.547 164.812 181.347 200.213 181.347C209.845 181.347 218.476 182.973 226.107 186.225C233.738 189.352 239.742 194.106 244.12 200.486C248.498 206.74 250.688 214.246 250.688 223.002C250.688 225.629 250.375 228.944 249.749 232.947C247.873 244.08 245.621 254.901 242.994 265.408C238.616 282.546 231.048 295.368 220.29 303.874C209.532 312.255 195.147 316.446 177.133 316.446ZM179.76 289.426C186.766 289.426 192.707 287.362 197.586 283.234C202.59 279.106 206.155 272.789 208.281 264.283C211.158 252.524 213.348 242.266 214.849 233.51C215.349 230.883 215.599 228.194 215.599 225.441C215.599 214.058 209.657 208.366 197.774 208.366C190.768 208.366 184.764 210.43 179.76 214.558C174.882 218.687 171.379 225.004 169.253 233.51C167.001 241.891 164.749 252.149 162.498 264.283C161.997 266.784 161.747 269.411 161.747 272.163C161.747 283.672 167.752 289.426 179.76 289.426Z",fill:"white"}),(0,ri.jsx)("path",{d:"M259.303 314.57C257.927 314.57 256.863 314.132 256.113 313.256C255.487 312.255 255.3 311.13 255.55 309.879L281.444 187.914C281.694 186.538 282.382 185.412 283.508 184.536C284.634 183.661 285.822 183.223 287.073 183.223H336.985C350.87 183.223 362.003 186.1 370.384 191.854C378.891 197.609 383.144 205.927 383.144 216.81C383.144 219.937 382.769 223.19 382.018 226.567C378.891 240.953 372.574 251.586 363.067 258.466C353.685 265.346 340.8 268.786 324.413 268.786H299.082L290.451 309.879C290.2 311.255 289.512 312.38 288.387 313.256C287.261 314.132 286.072 314.57 284.822 314.57H259.303ZM325.727 242.892C330.98 242.892 335.546 241.453 339.424 238.576C343.427 235.699 346.054 231.571 347.305 226.192C347.68 224.065 347.868 222.189 347.868 220.563C347.868 216.935 346.805 214.183 344.678 212.307C342.551 210.305 338.924 209.305 333.795 209.305H311.278L304.148 242.892H325.727Z",fill:"white"})]}),[xi.id]:e=>(0,ri.jsxs)("svg",{width:"360",height:"360",viewBox:"0 0 360 360",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,ri.jsx)("rect",{width:"360",height:"360",rx:"180",fill:"#6C00F6"}),(0,ri.jsx)("path",{d:"M157.743 154.241L141.052 144.58L90.9766 173.561V231.519L141.052 260.5L191.13 231.519V141.359L218.948 125.26L246.77 141.359V173.561L218.948 189.66L202.257 180.002V205.759L218.948 215.42L269.024 186.439V128.481L218.948 99.5L168.873 128.481V218.641L141.052 234.74L113.233 218.641V186.439L141.052 170.34L157.743 179.998V154.241Z",fill:"white"})]}),[_i.id]:e=>(0,ri.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",...e,children:[(0,ri.jsx)("g",{clipPath:"url(#clip0)",children:(0,ri.jsx)("g",{clipPath:"url(#clip1)",children:(0,ri.jsx)("path",{d:"M14.9188 29.8373C6.67944 29.8373 0.00012207 23.1581 0.00012207 14.9187C0.00012207 6.67931 6.67944 0 14.9188 0C23.1581 0 29.8373 6.67931 29.8373 14.9187C29.8373 23.1581 23.1581 29.8373 14.9188 29.8373Z",fill:"url(#paint0)"})})}),(0,ri.jsxs)("defs",{children:[(0,ri.jsxs)("radialGradient",{id:"paint0",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.6921 8.02215) rotate(180) scale(25.2008)",children:[(0,ri.jsx)("stop",{offset:"0.00682297",stopColor:"#F2CEFE"}),(0,ri.jsx)("stop",{offset:"0.1913",stopColor:"#AFBAF1"}),(0,ri.jsx)("stop",{offset:"0.4982",stopColor:"#4281D3"}),(0,ri.jsx)("stop",{offset:"0.666667",stopColor:"#2E427D"}),(0,ri.jsx)("stop",{offset:"0.822917",stopColor:"#230101"}),(0,ri.jsx)("stop",{offset:"1",stopColor:"#8F6B40"})]}),(0,ri.jsx)("clipPath",{id:"clip0",children:(0,ri.jsx)("rect",{width:"30",height:"30",fill:"white"})}),(0,ri.jsx)("clipPath",{id:"clip1",children:(0,ri.jsx)("rect",{width:"30",height:"30",fill:"white"})})]})]})};const H0=({chainId:e,...t})=>{if("solana"===e)return(0,ri.jsx)(W0,{...t});let n=q0[e];return(0,ri.jsx)(n||oM,{...t})},V0=({balance:e,className:t,chain:n})=>(0,ri.jsx)(CQ,{className:t,$state:void 0,children:(0,ri.jsx)(K0,{balance:e,chain:n})}),K0=({balance:e,chain:t})=>(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsxs)(G0,{children:[(0,ri.jsx)(Y0,{chainId:"object"==typeof t?t.id:"solana"}),(0,ri.jsx)(aX,{children:"object"==typeof t?t.name:LQ(t)})]}),(0,ri.jsxs)(y0,{isLoading:!1,isPulsing:!1,color:"gray",children:[(0,ri.jsx)(Z0,{children:(0,ri.jsx)(Ky,{})}),e]})]});let G0=Ay.div.withConfig({displayName:"Container",componentId:"sc-63f80cee-0"})(["display:flex;align-items:center;"]),Z0=Ay.div.withConfig({displayName:"IconContainer",componentId:"sc-63f80cee-1"})(["height:0.75rem;width:0.75rem;margin-right:0.2rem;"]),Y0=Ay(H0).withConfig({displayName:"StyledNetworkIcon",componentId:"sc-63f80cee-2"})(["height:1.25rem;width:1.25rem;display:inline-block;margin-right:0.5rem;border-radius:4px;"]);const J0=({options:e,onSelect:t,selected:n,className:r})=>(0,ri.jsxs)(mW,{as:Q0,children:[(0,ri.jsxs)(uW,{as:n1,children:[(0,ri.jsx)(K0,{balance:n.balance,chain:n.chain}),(0,ri.jsx)(t1,{height:16})]}),(0,ri.jsx)(dW,{as:X0,className:r,children:e.map((e,n)=>(0,ri.jsx)(hW,{as:e1,onClick:()=>t(n),children:(0,ri.jsx)(K0,{balance:e.balance,chain:e.chain})},n))})]});let Q0=Ay.div.withConfig({displayName:"Wrapper",componentId:"sc-31c00f79-0"})(["width:100%;position:relative;"]),X0=Ay.div.withConfig({displayName:"Popover",componentId:"sc-31c00f79-1"})(["width:100%;margin-top:0.5rem;position:absolute;background-color:var(--privy-color-background);border-radius:var(--privy-border-radius-md);overflow-x:hidden;overflow-y:auto;box-shadow:0px 1px 2px 0px rgba(16,24,40,0.05);max-height:11.75rem;&&{border:solid 1px var(--privy-color-foreground-4);}z-index:1;"]),e1=Ay.button.withConfig({displayName:"Button",componentId:"sc-31c00f79-2"})(["width:100%;display:flex;justify-content:space-between;&&{padding:1rem;}:not(:last-child){border-bottom:solid 1px var(--privy-color-foreground-4);}:hover{background:var(--privy-color-background-2);}"]),t1=Ay(xw).withConfig({displayName:"StyledChevronIcon",componentId:"sc-31c00f79-3"})(["height:1rem;margin-left:0.5rem;"]),n1=Ay.button.withConfig({displayName:"StyledMenuButton",componentId:"sc-31c00f79-4"})([""," span{margin-left:auto;}","{transition:rotate 100ms ease-in;}&[aria-expanded='true']{","{rotate:-180deg;}}"],_Q,t1,t1);const r1=Ay.div.withConfig({displayName:"FundingMethodContainer",componentId:"sc-eaaa12a-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),i1=Ay.div.withConfig({displayName:"IconContainer",componentId:"sc-eaaa12a-1"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;svg{border-radius:var(--privy-border-radius-sm);}"]),s1=Ay.div.withConfig({displayName:"FundingQuantityWrapper",componentId:"sc-eaaa12a-2"})(["display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:8px;"]),o1=Ay.div.withConfig({displayName:"FundingQuantity",componentId:"sc-eaaa12a-3"})(["display:flex;align-items:center;gap:4px;width:100%;padding:0 16px;border-width:1px !important;border-radius:12px;cursor:text;&:focus-within{border-color:var(--privy-color-accent);}"]),a1=Ay.input.withConfig({displayName:"FundingAmountInput",componentId:"sc-eaaa12a-5"})(["background-color:var(--privy-color-background);width:100%;&:focus{outline:none !important;border:none !important;box-shadow:none !important;}&&{font-size:26px;}"]),c1=Ay(a1).withConfig({displayName:"FundingAmountInputLarge",componentId:"sc-eaaa12a-6"})(["&&{font-size:42px;}"]),l1=Ay.div.withConfig({displayName:"FundingCurrency",componentId:"sc-eaaa12a-8"})(["font-size:18px;"]),u1=Ay.div.withConfig({displayName:"FundingDollars",componentId:"sc-eaaa12a-9"})(["font-size:12px;color:var(--privy-color-foreground-3);height:20px;"]),d1=Ay.div.withConfig({displayName:"InfoButtonText",componentId:"sc-eaaa12a-13"})([""]),h1=Ay.a.withConfig({displayName:"InfoButtonLink",componentId:"sc-eaaa12a-14"})(["&&{color:var(--privy-color-accent);}cursor:pointer;"]),f1=({displayName:e,errorMessage:t,configuredFundingChain:n,formattedBalance:r,fundingAmount:i,fundingCurrency:s,fundingAmountInUsd:o,options:a,selectedOption:c,isPreparing:l,isSubmitting:u,addressToFund:d,fundingWalletAddress:h,onSubmit:f,onSelect:p,onAmountChange:g,erc20ContractInfo:m})=>{let y=(0,ei.useRef)(null);return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(f0,{}),(0,ri.jsx)(tG,{}),(0,ri.jsx)(EQ,{children:"Transfer from another network"}),(0,ri.jsxs)(xQ,{children:["You need more funds on the"," ","object"==typeof n?n.name:LQ(n)," ","network. Bridge from another blockchain network."]}),(0,ri.jsxs)(s1,{style:{marginTop:"2rem"},children:[(0,ri.jsxs)(o1,{onClick:()=>y.current?.focus(),children:[(0,ri.jsx)(a1,{ref:y,value:i,onChange:e=>{let t=e.target.value;if(/^[0-9.]*$/.test(t)&&t.split(".").length-1<=1){let e=/\.$/.test(t)?".":"",n=Number(t.replace(/\.$/,"")||"0");if(Number.isNaN(n))return void g("0");g(n.toString()+e)}}}),(0,ri.jsx)(l1,{children:s})]}),o&&(0,ri.jsx)(u1,{children:o})]}),(0,ri.jsxs)(iX,{style:{marginTop:"1.5rem"},children:[(0,ri.jsx)(eX,{children:"From"}),(0,ri.jsx)(eX,{children:sw(h)})]}),(0,ri.jsx)(J0,{selected:{chain:c.chain,balance:c.isErc20Quote?KQ({amount:c.erc20Balance??0n,decimals:m?.decimals??6})+` ${m?.symbol||""}`:IK(c.balance,c.chain.nativeCurrency.symbol,3,!0)},options:a.map(({chain:e,balance:t,isErc20Quote:n,erc20Balance:r})=>({chain:e,balance:n?KQ({amount:r??0n,decimals:m?.decimals??6})+` ${m?.symbol||""}`:IK(t,e.nativeCurrency.symbol,3,!0)})),onSelect:p}),(0,ri.jsxs)(iX,{style:{marginTop:"1.5rem"},children:[(0,ri.jsx)(eX,{children:"To"}),(0,ri.jsx)(eX,{children:sw(d)})]}),(0,ri.jsx)(V0,{chain:n,balance:r}),(0,ri.jsx)(_J,{style:{marginTop:"1rem"},children:t}),(0,ri.jsxs)(AV,{style:{marginTop:"1rem"},loading:u||l,disabled:l||u,onClick:f,children:["Confirm with ",e]}),(0,ri.jsx)(nG,{}),(0,ri.jsx)(gV,{})]})},p1=({walletClientType:e,displayName:t,addressToFund:n,chainId:r,chainName:i,isBridging:s,isErc20Flow:o,totalPriceInNativeCurrency:a,totalPriceInUsd:c,gasPriceInNativeCurrency:l,gasPriceInUsd:u})=>{let d=HH(e);return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(f0,{}),(0,ri.jsx)(KV,{centerIcon:(0,ri.jsx)(x0,{icon:d?.image_url?.md,name:e})}),(0,ri.jsx)(KG,{style:{marginTop:"8px",marginBottom:"12px"},title:`${s?"Bridging":"Confirming"} with ${t}`}),!s&&!o&&(0,ri.jsxs)(rX,{children:[(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Total"}),(0,ri.jsx)(aX,{children:c||a})]}),(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"To"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(SY,{address:n,showCopyIcon:!1})})]}),(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Network"}),(0,ri.jsx)(aX,{children:(0,ri.jsxs)(g1,{children:[(0,ri.jsx)(H0,{chainId:r,height:16,width:16})," ",i]})})]}),l&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Estimated fee"}),(0,ri.jsx)(aX,{children:u||l})]})]}),(0,ri.jsx)(rG,{height:24}),(0,ri.jsx)(gV,{})]})};let g1=Ay.div.withConfig({displayName:"NetworkColumn",componentId:"sc-5bdbf842-0"})(["display:flex;flex-direction:row;align-items:center;gap:4px;"]);const m1={component:()=>{let e=Mf(),{rpcConfig:t,appId:n,closePrivyModal:r,createAnalyticsEvent:i}=Jd(),{navigate:s,setModalData:o,data:a}=QH(),c=Mf(),{wallets:l}=NG(),[u,d]=(0,ei.useState)(null),[h,f]=(0,ei.useState)(null),[p,g]=(0,ei.useState)([]),[m,y]=(0,ei.useState)(0),[w,b]=(0,ei.useState)(!1),[v,x]=(0,ei.useState)(!1),[E,k]=(0,ei.useState)(!1),[_,C]=(0,ei.useState)(!1),[S,I]=(0,ei.useState)(),[A,T]=(0,ei.useState)();if(!a?.funding||"solana"!==a.funding.chainType)throw Error("Invalid funding data");let{address:P,chain:O,connectedWalletAddress:j}=a.funding,[N,R]=(0,ei.useState)(a.funding.amount),$=j?l.find(({address:e})=>e===j):l[0],M=HH($?.walletClientType||"unknown"),L=M?.name||"wallet",[B,U]=(0,ei.useState)(null);(0,ei.useEffect)(()=>{(async()=>{if(!$)return;let e=await $.getEthereumProvider();U(Cp({account:$.address,transport:Ip(e)}).extend(Ap.$))})().catch(console.error)},[$]);let[D,F]=(0,ei.useState)(0n),z=UK(D);(0,ei.useEffect)(()=>{let t=e.solanaRpcs[O];t?MQ({rpc:t.rpc,address:P}).then(e=>F(BigInt(e))).catch(console.error):console.warn("Unable to load solana rpc, skipping balance")},[]);let[W,q]=(0,ei.useState)(),{tokenPrice:H}=OG("solana"),{fundingAmountInBaseUnit:V,fundingAmountInUsd:K}=function({amount:e,fee:t,tokenPrice:n,isUsdc:r}){let i=BigInt(Math.floor(parseFloat(e)*10**(r?6:9))),s=r?i:i+t;return{fundingAmountInBaseUnit:i,fundingAmountInUsd:n?LK(i,n):void 0,totalPriceInUsd:n?LK(s,n):void 0,totalPriceInNativeCurrency:UK(s),feePriceInNativeCurrency:UK(t),feePriceInUsd:n?LK(t,n):void 0}}({amount:N,fee:0n,tokenPrice:H,isUsdc:a.funding.isUSDC});if((0,ei.useEffect)(()=>{(async()=>{if(!B||!$)return;let e=["solana:testnet","solana:devnet"].includes(O);e&&console.warn("Solana testnets are not supported for bridging");let r=iw(c.chains).filter(({testnet:t})=>!!t===e),i=(await z0({chains:r,address:$.address,appId:n,rpcConfig:t})).filter(e=>e.balance>0n);if(i.length<1)return void d(new jd(`Wallet ${Aq($.address)} does not have enough funds.`,void 0,Ld.INSUFFICIENT_BALANCE));i.sort((e,t)=>Number(t.balance-e.balance));let s=(await Promise.allSettled(i.map(async e=>({...e,quote:await LY({isTestnet:!1,input:RY({appId:n,amount:V.toString(),user:$.address,recipient:P,destinationChainId:OY,destinationCurrency:jY,originChainId:e.chain.id})})})))).filter(e=>"fulfilled"===e.status).map(e=>e.value);if(s.length<1)return void d(new jd(`Unable to fetch quotes for bridging. Wallet ${Aq($.address)} does not have enough funds.`,void 0,Ld.INSUFFICIENT_BALANCE));let o=s.map(({quote:e,balance:t,chain:n})=>({bridgeTx:BY(e),balance:t,chain:n,isErc20Quote:!1})).filter(({bridgeTx:e})=>!!e);if(o.length>1)return void g(o);let a=o.at(0);a?(x(!0),q({data:a.bridgeTx.data,to:a.bridgeTx.to,value:a.bridgeTx.value,chain:a.chain})):d(new jd(`Unable to select bridge option from quotes. Wallet ${Aq($.address)} does not have enough funds.`,void 0,Ld.INSUFFICIENT_BALANCE))})().catch(console.error)},[B]),(0,ei.useEffect)(()=>{(async()=>{let e,r;if(!B||!$||w||E||!W)return;b(!0);let s=(0,lc.l)({chain:W.chain,transport:(0,uc.L)(Sq(W.chain,t,n))});try{e=await s.prepareTransactionRequest({account:$.address,to:W.to,chain:W.chain,data:W.data,value:BigInt(W.value??0)})}catch(e){console.error(e),p.length>1&&f(e.shortMessage??"Something went wrong")}if(e){b(!1),k(!0);try{await B.switchChain({id:W.chain.id})}catch(e){await B.addChain({chain:W.chain}),await B.switchChain({id:W.chain.id})}try{r=await B.sendTransaction(e)}catch(e){console.error(e),"TransactionExecutionError"===e.name&&(p.length<1?d(new jd(e.shortMessage,void 0,Ld.TRANSACTION_FAILURE)):f(e.shortMessage??"Something went wrong"))}if(r)return await B.waitForTransactionReceipt({hash:r}),v?(T("pending"),void I(r)):(k(!1),C(!0),void i({eventName:$Q,payload:{provider:"external",status:"success",txHash:r,address:$.address,chainId:W.chain.id,chainType:"ethereum",value:W.value?(0,Hf.J)(BigInt(W.value),18):void 0,token:"ETH",destination:P,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:(0,Hf.J)(V,9),destinationToken:"SOL"}}));k(!1)}else b(!1)})().catch(console.error)},[B,W]),UY({transactionHash:S,isTestnet:!1,bridgingStatus:A,setBridgingStatus:T,onSuccess({transactionHash:e}){x(!1),C(!0),i({eventName:$Q,payload:{provider:"external",status:"success",txHash:e,address:$?.address,chainId:W?.chain.id,chainType:"ethereum",value:W?.value?(0,Hf.J)(BigInt(W.value),18):void 0,token:"ETH",destination:P,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:(0,Hf.J)(V,9),destinationToken:"SOL"}})},onFailure({error:e}){x(!1),d(e)}}),(0,ei.useEffect)(()=>{u&&(o({funding:a?.funding,solanaFundingData:a?.solanaFundingData,sendTransaction:a?.sendTransaction,errorModalData:{error:u,previousScreen:x1}}),s(zY,!1))},[u]),(0,ei.useEffect)(()=>{if(!_)return;let e=setTimeout(r,sf);return()=>clearTimeout(e)},[_]),_)return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(f0,{}),(0,ri.jsx)(tG,{}),(0,ri.jsxs)(JK,{children:[(0,ri.jsx)(iM,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),(0,ri.jsx)(KG,{title:"Success!",description:`Youve successfully added ${N} SOL to your ${c.name} wallet. It may take a minute before the funds are available to use.`})]}),(0,ri.jsx)(nG,{}),(0,ri.jsx)(gV,{})]});let G=p[m];return p.length>1&&G?(0,ri.jsx)(f1,{displayName:L,configuredFundingChain:O,formattedBalance:z,fundingAmount:N,fundingCurrency:"SOL",fundingAmountInUsd:K,options:p,selectedOption:G,isPreparing:w,isSubmitting:E,addressToFund:P,fundingWalletAddress:$?.address||"",errorMessage:h,onSubmit:()=>{a.funding?.amount!==N?async function(){if($&&G)try{let e=await LY({isTestnet:!1,input:RY({appId:n,amount:V.toString(),user:$.address,recipient:P,destinationChainId:OY,destinationCurrency:jY,originChainId:G.chain.id})}),t=BY(e);if(!t)throw Error("Invalid transaction request");x(!0),q({data:t.data,to:t.to,value:t.value,chain:G.chain})}catch(e){console.error(e),d(new jd("Unable to fetch quotes for bridging",e,Ld.INSUFFICIENT_BALANCE))}}().catch(console.error):q({to:G.bridgeTx.to,data:G.bridgeTx.data,value:G.bridgeTx.value,chain:G.chain})},onSelect:e=>{e!==m&&(f(null),y(e))},onAmountChange:R}):E&&$?(0,ri.jsx)(p1,{walletClientType:$?.walletClientType||"unknown",displayName:L,addressToFund:P,isBridging:v,isErc20Flow:!1,chainId:"solana",chainName:LQ(O),totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(f0,{}),(0,ri.jsx)(KV,{}),(0,ri.jsx)("div",{style:{marginTop:"1rem"}}),(0,ri.jsx)(gV,{})]})}},y1={component:()=>{let{rpcConfig:e,appId:t,closePrivyModal:n,createAnalyticsEvent:r}=Jd(),{navigate:i,setModalData:s,data:o}=QH(),a=Mf(),{wallets:c}=NG(),[l,u]=(0,ei.useState)(!1),[d,h]=(0,ei.useState)(0n),[f,p]=(0,ei.useState)(!1),[g,m]=(0,ei.useState)(null),[y,w]=(0,ei.useState)(null),[b,v]=(0,ei.useState)([]),[x,E]=(0,ei.useState)(0),[k,_]=(0,ei.useState)(!1),[C,S]=(0,ei.useState)(!1),[I,A]=(0,ei.useState)(!1),[T,P]=(0,ei.useState)(!1),[O,j]=(0,ei.useState)(),[N,R]=(0,ei.useState)();if(!o?.funding||"ethereum"!==o.funding.chainType)throw Error("Invalid funding data");let{erc20ContractInfo:$,chain:M,connectedWalletAddress:L}=o.funding,B=o.funding.address,U=o.funding.erc20Address,[D,F]=(0,ei.useState)(o.funding.amount);(0,ei.useEffect)(()=>{U&&!$&&m(Error("Unable to fetch token details"))},[]);let z=!!U&&!!$,W=z?BigInt(parseFloat(D)*10**$.decimals):Op(D),q=L?c.find(({address:e})=>e===L):c[0],H=HH(q?.walletClientType||"unknown"),V=H?.name||"wallet",[K,G]=(0,ei.useState)(null);(0,ei.useEffect)(()=>{(async()=>{if(!q)return;let e=await q.getEthereumProvider();G(Cp({account:q.address,transport:Ip(e)}).extend(Ap.$))})().catch(console.error)},[q]);let[Z,Y]=(0,ei.useState)(0n);(0,ei.useEffect)(()=>{(0,lc.l)({chain:M,transport:(0,uc.L)(Sq(M,e,t))}).getBalance({address:B}).then(Y).catch(console.error)},[]);let[J,Q]=(0,ei.useState)(0n);(0,ei.useEffect)(()=>{z&&UQ({chain:M,address:B,appId:t,rpcConfig:e,erc20Address:U}).then(e=>Q(e.balance)).catch(console.error)},[]);let{tokenPrice:X}=OG(M.id),[ee,te]=(0,ei.useState)({to:B,chain:M,value:W,data:void 0});(0,ei.useEffect)(()=>{(async()=>{let n,i;if(!K||!q||k||I)return;_(!0);let s=(0,lc.l)({chain:ee.chain,transport:(0,uc.L)(Sq(ee.chain,e,t))});if(z&&!ee.data)return await s.simulateContract({address:U,chain:ee.chain,abi:XX,functionName:"transfer",args:[B,W],account:q.address}).catch(e=>{console.warn("Simulated token transfer failed with error, fetching bridge options.",e)})?(_(!1),void te({to:U,chain:ee.chain,data:(0,xp.p)({abi:XX,functionName:"transfer",args:[B,W]}),value:"0x0"})):(_(!1),void p(!0));try{n=await s.prepareTransactionRequest({account:q.address,to:ee.to,chain:ee.chain,data:ee.data,value:BigInt(ee.value??0)})}catch(n){if(console.error(n),b.length>1)w(n.shortMessage??"Something went wrong");else if(C&&0===b.length)return void m(new jd(`Wallet ${Aq(q.address)} does not have enough funds.`,void 0,Ld.INSUFFICIENT_BALANCE))}if(!n)return _(!1),void p(!0);_(!1),A(!0),u(!0),h(n.gas);try{await K.switchChain({id:ee.chain.id})}catch(n){await K.addChain({chain:ee.chain}),await K.switchChain({id:ee.chain.id})}try{i=await K.sendTransaction(n)}catch(n){if(console.error(n),"TransactionExecutionError"===n.name)if(b.length<1){let e=n.shortMessage;(n.shortMessage.includes("rejected the request")||n.details.includes("rejected the request"))&&(e="User rejected the request."),m(new jd(e,void 0,Ld.TRANSACTION_FAILURE))}else w(n.shortMessage??"Something went wrong")}if(i)return await K.waitForTransactionReceipt({hash:i}),A(!1),C?(j(i),void R("pending")):(P(!0),void r({eventName:$Q,payload:{provider:"external",status:"success",txHash:i,address:q.address,chainId:ee.chain.id,chainType:"ethereum",value:ee.value?(0,Hf.J)(BigInt(ee.value),$?.decimals??18):void 0,token:$?.symbol??U??"ETH",destinationAddress:B,destinationChainId:M.id,destinationChainType:"ethereum",destinationValue:W?(0,Hf.J)(W,$?.decimals??18):void 0,destinationToken:$?.symbol??U??M.nativeCurrency.name}}));A(!1)})().catch(console.error)},[K,ee]),(0,ei.useEffect)(()=>{(async()=>{if(!f||!K||!q)return;let n=iw(a.chains).filter(e=>e.id!==M.id&&!!e.testnet==!!M.testnet);z&&n.unshift(M);let r=await z0({chains:n,address:q.address,appId:t,rpcConfig:e,includeUsdc:o.funding?.isUSDC}),i=z?r.filter(e=>e.balance>0n):r.filter(e=>e.balance>W),s=z&&r.every(e=>0n===e.balance);if(i.length<1)return void m(new jd(s?`Wallet ${Aq(q.address)} doesn't have enough funds to cover gas fees. Top up your wallet and try again.`:`Wallet ${Aq(q.address)} does not have enough funds.`,void 0,Ld.INSUFFICIENT_BALANCE));i.sort((e,t)=>Number(z?(t.erc20Balance??0n)-(e.erc20Balance??0n):t.balance-e.balance));let c=i.flatMap(e=>{let n=[{...e,isErc20Quote:!1,isTestnet:!!M.testnet,input:RY({appId:t,amount:W.toString(),user:q.address,recipient:B,destinationChainId:M.id,destinationCurrency:U,originChainId:e.chain.id})}];return z&&U&&(e.erc20Balance??0n)>=W&&n.push({...e,isErc20Quote:!0,isTestnet:!!M.testnet,input:RY({appId:t,amount:W.toString(),user:q.address,recipient:B,destinationChainId:M.id,destinationCurrency:U,originChainId:e.chain.id,originCurrency:e.erc20Address})}),n}),l=(await Promise.allSettled(c.map(async e=>({...e,quote:await LY(e)})))).filter(e=>"fulfilled"===e.status).map(e=>e.value);if(l.length<1)return void m(new jd(`Wallet ${Aq(q.address)} does not have enough funds.`,void 0,Ld.INSUFFICIENT_BALANCE));let u=l.map(e=>({bridgeTx:BY(e.quote),balance:e.balance,chain:e.chain,erc20Balance:e.erc20Balance,isErc20Quote:e.isErc20Quote})).filter(e=>!!e.bridgeTx);if(u.length>1)return void v(u);let d=u[0];d?(S(!0),te({data:d.bridgeTx.data,to:d.bridgeTx.to,value:d.bridgeTx.value,chain:d.chain})):m(new jd(`Wallet ${Aq(q.address)} does not have enough funds.`,void 0,Ld.INSUFFICIENT_BALANCE))})().catch(console.error)},[f]),UY({transactionHash:O,isTestnet:!!M.testnet,bridgingStatus:N,setBridgingStatus:R,onSuccess({transactionHash:e}){S(!1),P(!0),r({eventName:$Q,payload:{provider:"external",status:"success",txHash:e,address:q?.address,chainId:ee.chain.id,chainType:"ethereum",value:ee.value?(0,Hf.J)(BigInt(ee.value),$?.decimals??18):void 0,token:$?.symbol??U??"ETH",destinationAddress:B,destinationChainId:M.id,destinationChainType:"ethereum",destinationValue:W?(0,Hf.J)(W,$?.decimals??18):void 0,destinationToken:$?.symbol??U??M.nativeCurrency.name}})},onFailure({error:e}){S(!1),m(e)}}),(0,ei.useEffect)(()=>{g&&(s({funding:o?.funding,solanaFundingData:o?.solanaFundingData,sendTransaction:o?.sendTransaction,errorModalData:{error:g,previousScreen:x1}}),i(zY,!1))},[g]);let ne=!z&&X?CK(D??"0",X):void 0,re=z?d:TK([d,W]),ie=re&&X?SK(re,X):void 0,se=re?IK(re,o?.funding?.erc20Address?o?.funding?.erc20ContractInfo?.symbol||"ETH":o?.funding?.chain.nativeCurrency.symbol||"ETH"):void 0,oe=d&&X?SK(d,X):void 0,ae=d?IK(d,M?.nativeCurrency?.symbol||"ETH"):void 0;if((0,ei.useEffect)(()=>{if(!T)return;let e=setTimeout(n,sf);return()=>clearTimeout(e)},[T]),T)return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(f0,{}),(0,ri.jsx)(tG,{}),(0,ri.jsxs)(JK,{children:[(0,ri.jsx)(iM,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),(0,ri.jsx)(KG,{title:"Success!",description:`Youve successfully added ${D} ${z?$.symbol:M.nativeCurrency.symbol} to your ${a.name} wallet. It may take a minute before the funds are available to use.`})]}),(0,ri.jsx)(nG,{}),(0,ri.jsx)(gV,{})]});let ce=z?`${KQ({amount:J,decimals:$.decimals})}  ${$.symbol}`:IK(Z,M.nativeCurrency.symbol,3,!0),le=b[x];return b.length>1&&le?(0,ri.jsx)(f1,{displayName:V,configuredFundingChain:M,erc20ContractInfo:$,formattedBalance:ce,fundingAmount:D,fundingCurrency:z?$.symbol:M.nativeCurrency.symbol,fundingAmountInUsd:ne,options:b,selectedOption:le,isPreparing:k,isSubmitting:I,addressToFund:B,fundingWalletAddress:q?.address||"",errorMessage:y,onSubmit:()=>{o.funding?.amount!==D?async function(){if(q&&le)try{let e=await LY({isTestnet:!!M.testnet,input:RY({appId:t,amount:W.toString(),user:q.address,recipient:B,destinationChainId:M.id,destinationCurrency:U,originChainId:le.chain.id})}),n=BY(e);if(!n)throw Error("Invalid transaction request");S(!0),te({data:n.data,to:n.to,value:n.value,chain:le.chain})}catch(e){console.error(e),m(new jd("Unable to fetch quotes for bridging",e,Ld.INSUFFICIENT_BALANCE))}}().catch(console.error):te({to:le.bridgeTx.to,data:le.bridgeTx.data,value:le.bridgeTx.value,chain:le.chain})},onSelect:e=>{e!==x&&(w(null),E(e))},onAmountChange:F}):l&&d&&q&&o?.funding?(0,ri.jsx)(p1,{walletClientType:q?.walletClientType||"unknown",displayName:V,addressToFund:B,isBridging:C,isErc20Flow:z,totalPriceInUsd:ie,totalPriceInNativeCurrency:se,gasPriceInUsd:oe,gasPriceInNativeCurrency:ae,chainId:M.id,chainName:M.name}):(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(f0,{}),(0,ri.jsx)(KV,{}),(0,ri.jsx)("div",{style:{marginTop:"1rem"}}),(0,ri.jsx)(gV,{})]})}},w1=Symbol("solana-funding-plugin"),b1={component:function(){let e=Mf(),{closePrivyModal:t,createAnalyticsEvent:n,connectors:r}=Jd(),{navigate:i,setModalData:s,data:o}=QH(),a=Mf(),c=(0,ei.useRef)(!1),l=XJ(),[u,d]=(0,ei.useState)(!1),[h,f]=(0,ei.useState)(!1),[p,g]=(0,ei.useState)(null),[m,y]=(0,ei.useState)(),[w,b]=(0,ei.useState)();if(!o?.funding||"ethereum"!==o.funding.chainType)throw Error("Invalid funding data");let{amount:v,connectedWalletAddress:x,chain:E,solanaChain:k,isUSDC:_}=o.funding,C=o.funding.address,S=o.funding.erc20Address,I=o.funding.isUSDC?"USDC":E.nativeCurrency.symbol,A=(0,ei.useMemo)(()=>function({connectors:e,connectedWalletAddress:t}){let n=e.find(e=>"solana"===e.chainType&&e.wallets.some(e=>e.address===t)),r=n?.wallet.accounts.find(e=>e.address===t);if(!n||!r)throw new jd("Unable to find source wallet connector");return new rw({wallet:n.wallet,account:r})}({connectors:r,connectedWalletAddress:x||""}),[r,x]),T=(0,ei.useMemo)(()=>{let t=l(w1);if(!t)throw new jd("Unable to load solana plugin");let n=e.solanaRpcs["solana:mainnet"];if(!n)throw new jd("Unable to load mainnet RPC");return t.getSolanaRpcClient({rpc:n.rpc,rpcSubscriptions:n.rpcSubscriptions,chain:"solana:mainnet",blockExplorerUrl:n.blockExplorerUrl??"https://explorer.solana.com"})},[]),P=HH(RH(A?.standardWallet.name||"unknown")),O=P?.name||"wallet";return(0,ei.useEffect)(()=>{(async function(){if(!A||!E||c.current)return;let e=l(w1);if(!e)return void g(new jd("Unable to solana plugin"));c.current=!0,E?.testnet&&console.warn("Solana testnets are not supported for bridging");let t=_?1e6*parseFloat(v):Op(v),n=await LY({isTestnet:!!E.testnet,input:RY({appId:a.id,amount:t.toString(),user:A.address,recipient:C,destinationChainId:E.id,originChainId:OY,originCurrency:_?"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v":jY,destinationCurrency:_?S:void 0})}).catch(console.error);if(!n)return void g(new jd(`Unable to fetch quotes for bridging. Wallet ${Tq(A.address)} does not have enough funds.`,void 0,Ld.INSUFFICIENT_BALANCE));let r=await e.createTransactionFromRelayQuote({quote:n,source:A.address,solanaClient:T});if(r)try{d(!0);let t=await e.simulateTransaction({solanaClient:T,tx:r});if(t.hasError)return t.hasFunds?(console.error("Transaction failed:",t.error),void g(new jd("Something went wrong",void 0,Ld.TRANSACTION_FAILURE))):void g(new jd(`Wallet ${Tq(A?.address)} does not have enough funds. ${n.details.currencyIn.amountFormatted} ${I} are needed to complete the transaction.`,void 0,Ld.INSUFFICIENT_BALANCE));let{signature:i}=await A.signAndSendTransaction({chain:"solana:mainnet",transaction:r}),s=e.getAddressFromBuffer(i);y(s),b("pending")}catch(e){if(console.error(e),/user rejected the request/gi.test(e.message||""))return void g(new jd("Transaction was rejected by the user",void 0,Ld.TRANSACTION_FAILURE));g(new jd("Something went wrong",void 0,Ld.TRANSACTION_FAILURE))}else g(new jd(`Unable to select bridge option from quotes. Wallet ${Tq(A.address)} does not have enough funds.`,void 0,Ld.INSUFFICIENT_BALANCE))})().catch(console.error)},[]),UY({transactionHash:m,isTestnet:!1,bridgingStatus:w,setBridgingStatus:b,onSuccess({transactionHash:e}){d(!1),f(!0),n({eventName:$Q,payload:{provider:"external",status:"success",txHash:e,address:A.address,chainType:"solana",clusterName:k,token:"SOL",destinationAddress:C,destinationChainId:E.id,destinationChainType:"ethereum",destinationValue:v,destinationToken:_?"USDC":"ETH"}})},onFailure({error:e}){d(!1),g(e)}}),(0,ei.useEffect)(()=>{if(!h)return;let e=setTimeout(t,sf);return()=>clearTimeout(e)},[h]),(0,ei.useEffect)(()=>{p&&(s({funding:o?.funding,solanaFundingData:o?.solanaFundingData,sendTransaction:o?.sendTransaction,errorModalData:{error:p,previousScreen:x1}}),i(zY,!1))},[p]),h?(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(f0,{}),(0,ri.jsx)(tG,{}),(0,ri.jsxs)(JK,{children:[(0,ri.jsx)(iM,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),(0,ri.jsx)(KG,{title:"Success!",description:`Youve successfully added ${v} ${I} to your ${a.name} wallet. It may take a minute before the funds are available to use.`})]}),(0,ri.jsx)(nG,{}),(0,ri.jsx)(gV,{})]}):u&&A?(0,ri.jsx)(p1,{walletClientType:RH(A?.standardWallet.name||"unknown"),displayName:O,addressToFund:C,isBridging:u,isErc20Flow:!1,chainId:E.id,chainName:E.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(f0,{}),(0,ri.jsx)(KV,{}),(0,ri.jsx)("div",{style:{marginTop:"1rem"}}),(0,ri.jsx)(gV,{})]})}},v1={component:()=>{let{data:e,setModalData:t}=QH(),n=e?.funding,r="solana"===n.chainType,i=(0,ei.useRef)(null),{tokenPrice:s}=OG(r?"solana":n.chain.id),o=r?void 0:n,a=!(!o?.erc20Address||o?.erc20ContractInfo),c=r?n.isUSDC?"USDC":"SOL":n.erc20Address?n.erc20ContractInfo?.symbol:n.chain.nativeCurrency.symbol||"ETH",l=parseFloat(n.amount),u=!isNaN(l)&&l>0,d=s?CK(n.amount,s):void 0;return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(f0,{}),(0,ri.jsx)(EQ,{children:"Confirm or edit amount"}),(0,ri.jsxs)(QK,{style:{marginTop:"32px"},children:[(0,ri.jsx)(s1,{children:a?(0,ri.jsx)(KV,{size:"50px"}):(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsxs)(o1,{onClick:()=>i.current?.focus(),children:[(0,ri.jsx)(c1,{ref:i,value:n.amount,onChange:r=>{let i=r.target.value;/^[0-9.]*$/.test(i)&&i.split(".").length-1<=1&&t({...e,funding:{...n,amount:i},solanaFundingData:e?.solanaFundingData?{...e.solanaFundingData,amount:i}:void 0})}}),(0,ri.jsx)(l1,{children:c})]}),!o?.erc20Address&&(0,ri.jsx)(u1,{children:d&&u?`${d} USD`:""})]})}),(0,ri.jsx)(AV,{style:{marginTop:"1rem"},disabled:!u,onClick:n.onContinueWithExternalWallet,children:"Continue"})]}),(0,ri.jsx)(gV,{})]})}},x1={component:()=>{let e,{connectors:t}=Jd(),{setModalData:n,data:r,navigate:i}=QH(),s=Mf(),{wallets:o}=NG(),a=t.filter(DH).flatMap(e=>e.wallets),[c,l]=(0,ei.useState)("default"),u="solana"===r?.funding?.chainType,d=!!r?.funding?.crossChainBridgingEnabled;e="ethereum"===r?.funding?.chainType?r.funding.erc20Address&&!r.funding.isUSDC?"ethereum-only":d&&!r.funding.chain.testnet?"ethereum-and-solana":"ethereum-only":d&&!r.funding?.isUSDC?"ethereum-and-solana":"solana-only";let h=o.filter(e=>"privy"!==e.walletClientType),f=h.map(e=>e.walletClientType),p=a.filter(e=>"privy"!==e.walletClientType),g=p.map(e=>e.walletClientType),m=[],y={...r.funding};y.usingDefaultFundingMethod&&(y.usingDefaultFundingMethod=!1);let w=({address:e,walletChainType:t,walletClientType:s})=>{n({...r,funding:{...y,connectedWalletAddress:e,onContinueWithExternalWallet:()=>i(v({destChainType:u?"solana":"ethereum",sourceChainType:t}))},solanaFundingData:r?.solanaFundingData?{...r.solanaFundingData,sourceWalletData:{address:e,walletClientType:s}}:void 0}),i(v1)};"solana-only"!==e&&m.push(...h.map((e,t)=>(0,ri.jsx)(E1,{onClick:()=>w({address:e.address,walletChainType:"ethereum",walletClientType:e.walletClientType}),icon:e.meta.icon,name:e.meta.name,chainType:e.type},t))),"ethereum-only"!==e&&m.push(...p.map((e,t)=>(0,ri.jsx)(E1,{onClick:()=>w({address:e.address,walletChainType:"solana",walletClientType:e.walletClientType}),icon:e.meta.icon,name:e.meta.name,chainType:e.type},t))),m.push(...F0({walletList:s.appearance.walletList.filter(e=>!h.some(t=>t.walletClientType===e)&&!p.some(t=>t.walletClientType===e)),walletChainType:e,connectors:t,connectOnly:!0,ignore:[...s.appearance.walletList,...f,...g],walletConnectEnabled:s.externalWallets.walletConnect.enabled}));let b=(0,ri.jsx)(b0,{text:"More wallets",onClick:()=>l("overflow")}),v=({sourceChainType:e,destChainType:t})=>"ethereum"===e&&"solana"===t?m1:"ethereum"===e&&"ethereum"===t?y1:"solana"===e&&"ethereum"===t?b1:y.externalSolanaFundingScreen;return(0,ei.useEffect)(()=>{n({...r,externalConnectWallet:{onCompleteNavigateTo:({address:e,walletClientType:t,walletChainType:s})=>(n({...r,funding:{...y,connectedWalletAddress:e,onContinueWithExternalWallet:()=>{i(v({destChainType:u?"solana":"ethereum",sourceChainType:s??"ethereum"}))}},solanaFundingData:r?.solanaFundingData?{...r.solanaFundingData,sourceWalletData:{address:e||"",walletClientType:t||""}}:void 0}),v1)}})},[]),(0,ri.jsxs)(ri.Fragment,"overflow"===c?{children:[(0,ri.jsx)(DV,{backFn:()=>l("default")},"header"),(0,ri.jsxs)(rV,{children:[(0,ri.jsx)(xQ,{style:{color:"var(--privy-color-foreground-3)",textAlign:"left"},children:"More wallets"}),m]}),(0,ri.jsx)(gV,{})]}:{children:[(0,ri.jsx)(f0,{}),(0,ri.jsx)(KG,{title:"Transfer from wallet",description:"Connect a wallet to deposit funds or send funds manually to your wallet address."}),(0,ri.jsxs)(rV,{children:[m.length>4?m.slice(0,3):m,m.length>4&&b]}),(0,ri.jsx)(gV,{})]})}};let E1=({onClick:e,icon:t,name:n,chainType:r})=>(0,ri.jsxs)(aV,{onClick:e,children:[(0,ri.jsx)(i1,{style:{width:20},children:(0,ri.jsx)("img",{src:t})}),n,(0,ri.jsx)(y0,{color:"gray",style:{marginLeft:"auto"},children:"Connected"}),"solana"===r&&(0,ri.jsx)(y0,{color:"gray",children:"Solana"})]});const k1={component:()=>{let{data:e,setModalData:t,navigate:n,navigateBack:r}=QH(),{closePrivyModal:i,createAnalyticsEvent:s,client:o}=Jd(),[a,c]=(0,ei.useState)("pending-in-flow"),l=(0,ei.useRef)(0),u={...e?.funding,showAlternateFundingMethod:!0};u.usingDefaultFundingMethod&&(u.usingDefaultFundingMethod=!1);let{partnerUserId:d,popup:h}=e?.coinbaseOnrampStatus??{};return(0,ei.useEffect)(()=>{if("pending-in-flow"===a||"pending-after-flow"===a){let r=setInterval(async()=>{if(d)try{let{status:r}=await o.getCoinbaseOnRampStatus({partnerUserId:d});if("success"===r)return void c("success");if("failure"===r)throw Error("There was an error completing Coinbase Onramp flow.");if(l.current>=3)return t({funding:u,solanaFundingData:e?.solanaFundingData}),void n(z1);h?.closed&&(l.current=l.current+1,c("pending-after-flow"))}catch(r){console.error(r),c("error"),s({eventName:$Q,payload:{status:"failure",provider:"coinbase-onramp",error:r.message}}),t({funding:{...u,errorMessage:"Something went wrong adding funds. Please try again or use another method."},solanaFundingData:e?.solanaFundingData}),n(z1)}},1500);return()=>clearInterval(r)}},[d,h,a]),(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{title:"Fund account",backFn:()=>{t({funding:u,solanaFundingData:e?.solanaFundingData}),r()}},"header"),(0,ri.jsx)(_1,{status:a,onClickCta:i}),(0,ri.jsx)(gV,{})]})}};let _1=({status:e,onClickCta:t})=>{let{title:n,body:r,cta:i}=(0,ei.useMemo)(()=>(e=>{switch(e){case"success":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"pending-after-flow":return{title:"In Progress",body:"Almost done. Retrieving transaction status from Coinbase",cta:""};case"error":case"pending-in-flow":return{title:"In Progress",body:"Go back to Coinbase Onramp to finish funding your account.",cta:""}}})(e),[e]);return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsxs)(I1,{children:[(0,ri.jsx)(C1,{isSucccess:"success"===e}),(0,ri.jsxs)(XK,{children:[(0,ri.jsx)("h3",{children:n}),(0,ri.jsx)(S1,{children:r})]})]}),i&&(0,ri.jsx)(IV,{onClick:t,children:i})]})},C1=({isSucccess:e})=>{if(!e){let e="var(--privy-color-foreground-4)";return(0,ri.jsxs)("div",{style:{position:"relative"},children:[(0,ri.jsx)(xV,{color:e,style:{position:"absolute"}}),(0,ri.jsx)(EV,{color:e}),(0,ri.jsx)(aH,{style:{position:"absolute",width:"2.8rem",height:"2.8rem",top:"1.2rem",left:"1.2rem"}})]})}let t=(e=>e?wW:()=>(0,ri.jsx)(Y$,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}}))(e),n=(e=>e?"var(--privy-color-success)":"var(--privy-color-foreground-4)")(e);return(0,ri.jsx)("div",{style:{borderColor:n,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:t&&(0,ri.jsx)(t,{width:"4rem",height:"4rem",color:n})})},S1=Ay.p.withConfig({displayName:"StatusBody",componentId:"sc-8428a551-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),I1=Ay.div.withConfig({displayName:"ConnectContainer",componentId:"sc-8428a551-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]),A1={[wi.id]:"ethereum",[pi.id]:"base",[bi.id]:"optimism",[xi.id]:"polygon",[ui.id]:"arbitrum",[hi.id]:"avacchain"};const T1=(e,t,n,r,i,s)=>new Promise(async(o,a)=>{let c=qG();if(!c)return void a(Error("Unable to initialize flow"));let l="ethereum"===t.chainType?function(e){let t=A1[e];if(!t)throw new jd(`Unsupported chainId: ${e} for Coinbase Onramp`);return t}(t.chain.id):"solana",u=t.isUSDC?"USDC":"ethereum"===t.chainType?function(e){return e===xi.id?"POL":"ETH"}(t.chain.id):"SOL",d=await e.initCoinbaseOnRamp({addresses:[{address:t.address,blockchains:[l]}],assets:[u]}),{url:h}=function({appId:e,input:t,amount:n,blockchain:r,asset:i,experience:s}){let o=new URL("https://pay.coinbase.com/buy/select-asset");return o.searchParams.set("appId",t.app_id),o.searchParams.set("sessionToken",t.session_token),o.searchParams.set("endPartnerName",`privy:${e}`),o.searchParams.set("defaultExperience",s),o.searchParams.set("presetCryptoAmount",n.startsWith(".")?`0${n}`:n),o.searchParams.set("defaultNetwork",r),o.searchParams.set("defaultPaymentMethod",uw[s]),o.searchParams.set("defaultAsset",dw[i]),o.searchParams.set("partnerUserId",t.partner_user_id),{url:o}}({appId:e.getAppId(),input:d,amount:t.amount,blockchain:l,asset:u,experience:s});c.location=h.toString();let f={...i?.funding,showAlternateFundingMethod:!0};t.usingDefaultFundingMethod&&(f.usingDefaultFundingMethod=!1),n({funding:f,solanaFundingData:i?.solanaFundingData,coinbaseOnrampStatus:{popup:c}}),r(k1),e.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"coinbase-onramp",value:t.amount,chainType:t.chainType,chainId:"ethereum"===t.chainType?t.chain.id:t.chain}}),setTimeout(()=>{n({funding:f,solanaFundingData:i?.solanaFundingData,coinbaseOnrampStatus:{partnerUserId:d.partner_user_id,popup:c}})},5e3),o()}),P1="moonpay";function O1(e){return parseFloat(e)}const j1=({size:e=61,...t})=>(0,ri.jsx)("svg",{width:e,height:e,viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:(0,ri.jsxs)("g",{id:"moonpay_symbol_wht 2",children:[(0,ri.jsx)("rect",{x:"1.3374",y:"1",width:"59",height:"59",rx:"11.5",fill:"#7715F5"}),(0,ri.jsx)("path",{id:"Vector",d:"M43.8884 23.3258C45.0203 23.3258 46.1268 22.9901 47.068 22.3613C48.0091 21.7324 48.7427 20.8386 49.1759 19.7928C49.6091 18.747 49.7224 17.5962 49.5016 16.4861C49.2807 15.3759 48.7357 14.3561 47.9353 13.5557C47.1349 12.7553 46.1151 12.2102 45.0049 11.9893C43.8947 11.7685 42.7439 11.8819 41.6982 12.3151C40.6524 12.7482 39.7585 13.4818 39.1297 14.423C38.5008 15.3641 38.1651 16.4707 38.1651 17.6026C38.165 18.3542 38.3131 19.0985 38.6007 19.7929C38.8883 20.4873 39.3098 21.1182 39.8413 21.6496C40.3728 22.1811 41.0037 22.6027 41.6981 22.8903C42.3925 23.1778 43.1367 23.3259 43.8884 23.3258ZM26.3395 49.1017C23.5804 49.1017 20.8832 48.2836 18.5891 46.7507C16.295 45.2178 14.5069 43.039 13.4511 40.49C12.3952 37.9409 12.1189 35.1359 12.6572 32.4298C13.1955 29.7237 14.5241 27.238 16.4751 25.287C18.4262 23.336 20.9118 22.0074 23.6179 21.4691C26.324 20.9308 29.129 21.2071 31.6781 22.2629C34.2272 23.3189 36.406 25.1069 37.9389 27.401C39.4717 29.6952 40.2899 32.3923 40.2899 35.1514C40.2899 36.9835 39.9291 38.7975 39.2281 40.49C38.527 42.1826 37.4994 43.7205 36.204 45.0159C34.9086 46.3113 33.3707 47.3389 31.6781 48.04C29.9856 48.741 28.1715 49.1018 26.3395 49.1017Z",fill:"white"})]})}),N1={component:()=>{let{data:e,setModalData:t,navigateBack:n}=QH(),r=Mf(),{closePrivyModal:i}=Jd(),{externalTransactionId:s}=e?.moonpayStatus,o=function(e,t=!1){let[n,r]=(0,ei.useState)(null),{createAnalyticsEvent:i}=Jd(),{data:s,navigate:o,setModalData:a}=QH(),c=s?.funding,l=(0,ei.useRef)(0);return(0,ei.useEffect)(()=>{let n=setInterval(async()=>{if(e)try{let[l]=await async function(e,t){return vW(`https://api.moonpay.com/v1/transactions/ext/${e}`,{query:{apiKey:t?"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI":"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"}})}(e,t),u="waitingAuthorization"===l.status&&"credit_debit_card"===l.paymentMethod?"pending":l.status;if(["failed","completed","awaitingAuthorization"].includes(u)&&(i({eventName:$Q,payload:{status:u,provider:P1,paymentMethod:l.paymentMethod,cardPaymentType:l.cardPaymentType,currency:l.currency?.code,baseCurrencyAmount:l.baseCurrencyAmount,quoteCurrencyAmount:l.quoteCurrencyAmount,feeAmount:l.feeAmount,extraFeeAmount:l.extraFeeAmount,networkFeeAmount:l.networkFeeAmount,isSandbox:t}}),clearInterval(n)),"failed"===u||"serviceFailure"===u)return a({funding:{...c,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:s?.solanaFundingData}),void o(z1);r(u)}catch(e){404!==e.response?.status&&(l.current+=1),l.current>=3&&(i({eventName:$Q,payload:{status:"serviceFailure",provider:P1}}),clearInterval(n),a({funding:{...c,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:s?.solanaFundingData}),o(z1))}},3e3);return()=>clearInterval(n)},[e,l]),n}(s||null,r.fundingMethodConfig.moonpay.useSandbox??!1);return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{title:"Fund account",backFn:()=>{let r={...e?.funding,showAlternateFundingMethod:!0};r.usingDefaultFundingMethod&&(r.usingDefaultFundingMethod=!1),t({funding:r,solanaFundingData:e?.solanaFundingData}),n()}}),(0,ri.jsx)(R1,{status:o,onClickCta:i}),(0,ri.jsx)(gV,{})]})}};let R1=({status:e,onClickCta:t})=>{let{title:n,body:r,cta:i}=(0,ei.useMemo)(()=>(e=>{switch(e){case"completed":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"waitingAuthorization":return{title:"Processing payment",body:"This may take up to a few hours. You will receive an email when the purchase is complete.",cta:"Continue"};default:return{title:"In Progress",body:"Go back to MoonPay to finish funding your account.",cta:""}}})(e),[e]);return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsxs)(L1,{children:[(0,ri.jsx)($1,{status:e}),(0,ri.jsxs)(XK,{children:[(0,ri.jsx)("h3",{children:n}),(0,ri.jsx)(M1,{children:r})]})]}),i&&(0,ri.jsx)(IV,{onClick:t,children:i})]})},$1=({status:e})=>{if(!e||"pending"===e){let e="var(--privy-color-foreground-4)";return(0,ri.jsxs)("div",{style:{position:"relative"},children:[(0,ri.jsx)(xV,{color:e,style:{position:"absolute"}}),(0,ri.jsx)(EV,{color:e}),(0,ri.jsx)(j1,{size:"3rem",style:{position:"absolute",top:"1rem",left:"1rem"}})]})}let t=(e=>{switch(e){case"completed":return wW;case"waitingAuthorization":return()=>(0,ri.jsx)(Y$,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}});default:return}})(e),n=(e=>e?{completed:"var(--privy-color-success)",failed:"var(--privy-color-error)",serviceFailure:"var(--privy-color-error)",waitingAuthorization:"var(--privy-color-accent)",pending:"var(--privy-color-foreground-4)"}[e]:"var(--privy-color-foreground-4)")(e);return(0,ri.jsx)("div",{style:{borderColor:n,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:t&&(0,ri.jsx)(t,{width:"4rem",height:"4rem",color:n})})},M1=Ay.p.withConfig({displayName:"StatusBody",componentId:"sc-727a5a8d-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),L1=Ay.div.withConfig({displayName:"ConnectContainer",componentId:"sc-727a5a8d-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]);const B1=async(e,t,n,r,i,s,o,a)=>{let c=qG();if(!c)throw Error("Unable to initialize flow");let l="ethereum"===t.chainType?Tu(t.chain.id,r):t.isUSDC?"USDC_SOL":"SOL",{signedUrl:u,externalTransactionId:d}=await e.signMoonpayOnRampUrl({address:t.address,useSandbox:n.fundingMethodConfig.moonpay.useSandbox??!1,config:{uiConfig:{accentColor:n.appearance.palette.accent,theme:n.appearance.palette.colorScheme},paymentMethod:a,currencyCode:l,quoteCurrencyAmount:O1(t.amount)}});e.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"moonpay",value:t.amount,chainType:t.chainType,chainId:"ethereum"===t.chainType?t.chain.id:t.chain}}),c.location=u;let h={...o?.funding,showAlternateFundingMethod:!0};t.usingDefaultFundingMethod&&(h.usingDefaultFundingMethod=!1),i({moonpayStatus:{},funding:h,solanaFundingData:o?.solanaFundingData}),s(N1),setTimeout(()=>{i({moonpayStatus:{externalTransactionId:d},funding:h,solanaFundingData:o?.solanaFundingData})},8e3)};let U1=async e=>"undefined"!=typeof window&&"PaymentRequest"in window&&await new window.PaymentRequest([{supportedMethods:e}],{id:"0",total:{label:"Item",amount:{currency:"USD",value:"1.00"}}}).canMakePayment();const D1=()=>U1("https://apple.com/apple-pay"),F1=()=>U1("https://google.com/pay"),z1={component:()=>{let{wallets:e}=NG(),{connectors:t}=Jd(),n=t.filter(DH).flatMap(e=>e.wallets),{navigate:r,data:i,setModalData:s}=QH(),{client:o}=Jd(),a=Mf(),c=i?.funding,l=m0(D1),u=m0(F1),d="solana"===c.chainType,h=d?void 0:c,f=(0,ei.useMemo)(()=>((e,t,n,r,i,s)=>{let o,a,c="solana"===n.chainType,l=c?void 0:n,u=n.isUSDC?"USDC":l?.erc20Address?void 0:"native-currency",d=!!c||u&&function(e,t){switch(t){case"native-currency":return Iu.has(e);case"USDC":return Au.has(e);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}(Number(n.chain.id),u),h=!!c||u&&((e,t)=>{switch(t){case"native-currency":return cw.has(e);case"USDC":return lw.has(e);default:return console.warn("Unknown asset passed to Coinbase Onramp"),!1}})(Number(n.chain.id),u),f=[];for(let o of(n.preferredCardProvider&&n.supportedOptions.sort(e=>e.provider===n.preferredCardProvider?-1:1),n.supportedOptions))"card"===o.method&&"coinbase"===o.provider&&h&&f.push(()=>T1(t,n,r,i,s,"buy")),"card"===o.method&&"moonpay"===o.provider&&d&&u&&f.push(()=>B1(t,n,e,u,r,i,s,"credit_debit_card"));for(let e of n.supportedOptions)"exchange"===e.method&&"coinbase"===e.provider&&h&&(o=()=>T1(t,n,r,i,s,"buy"));for(let e of s?.funding?.supportedOptions??[])"wallets"===e.method&&(a=()=>i(x1));return{onFundWithCard:f,onFundWithExchange:o,onFundWithWallet:a}})(a,o,c,s,r,i),[a,o,c,i,s,r]),p=d?n.find(({address:e})=>e===c.address):e.find(({address:e})=>(0,ai.b)(e)===(0,ai.b)(c.address)),g=HH(p?.walletClientType||"unknown"),m=g?.name||"wallet",y=p&&"privy"!==p.walletClientType?m:a.name,w=(0,ei.useMemo)(()=>c.uiConfig?.landing?.title?c.uiConfig?.landing?.title:`Add funds to your ${y?.toLowerCase().endsWith("wallet")?y:y+" wallet"}`,[c.uiConfig?.landing?.title,y]);(0,ei.useEffect)(()=>{if(c?.defaultFundingMethod&&c.usingDefaultFundingMethod)switch(s({funding:{...c,usingDefaultFundingMethod:!1},solanaFundingData:i?.solanaFundingData}),c?.defaultFundingMethod){case"card":f.onFundWithCard[0]&&f.onFundWithCard[0]();break;case"exchange":f.onFundWithExchange&&f.onFundWithExchange();break;case"wallet":f.onFundWithWallet&&f.onFundWithWallet();break;case"manual":r(FQ)}},[]),(0,ei.useEffect)(()=>{h?.erc20Address&&!h.erc20ContractInfo&&qQ({address:h.erc20Address,chain:h.chain,rpcConfig:a.rpcConfig,privyAppId:a.id}).then(e=>{s({...i,funding:{...h,erc20ContractInfo:e?{symbol:e.symbol,decimals:e.decimals}:void 0}})}).catch(console.error)},[h?.erc20Address,h?.chain]);let b=!(!h?.erc20Address||h?.erc20ContractInfo);return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(f0,{}),(0,ri.jsx)("h3",{children:w}),(0,ri.jsxs)(r1,{children:[c.errorMessage&&(0,ri.jsx)(fX,{theme:a.appearance.palette.colorScheme,children:c.errorMessage}),f.onFundWithCard?.[0]&&(0,ri.jsxs)(aV,{disabled:b,onClick:f.onFundWithCard[0],children:[(0,ri.jsx)(i1,{children:(0,ri.jsx)(V$,{style:{width:24}})}),"Pay with card",l?(0,ri.jsx)(p0,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):u?(0,ri.jsx)(g0,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):null]}),f.onFundWithExchange&&(0,ri.jsxs)(aV,{disabled:b,onClick:f.onFundWithExchange,children:[(0,ri.jsx)(i1,{children:(0,ri.jsx)(Y$,{style:{width:24}})}),"Transfer from an exchange"]}),f.onFundWithWallet&&(0,ri.jsxs)(aV,{disabled:b,onClick:f.onFundWithWallet,children:[(0,ri.jsx)(i1,{children:(0,ri.jsx)(TJ,{style:{width:24}})}),"Transfer from wallet"]}),(0,ri.jsxs)(aV,{disabled:b,onClick:()=>r(FQ),children:[(0,ri.jsx)(i1,{children:(0,ri.jsx)(G$,{style:{width:24}})}),"Receive funds"]}),c?.showAlternateFundingMethod&&f.onFundWithCard?.[1]&&(0,ri.jsx)(wQ,{theme:a.appearance.palette.colorScheme,children:(0,ri.jsxs)(d1,{children:["Having trouble or facing location restrictions?"," ",(0,ri.jsx)(h1,{onClick:f.onFundWithCard[1],children:"Try a different provider."})]})})]}),(0,ri.jsx)(gV,{})]})}},W1={component:()=>{let{closePrivyModal:e}=Jd(),{data:t,navigate:n}=QH(),r=Mf(),i=Wf(),s=t?.externalConnectWallet?.description,o=(0,ei.useRef)(t?.externalConnectWallet?.walletList??r.appearance.walletList),a=(0,ei.useRef)(t?.externalConnectWallet?.walletChainType??r.appearance.walletChainType);return(0,ri.jsx)(FJ,{walletList:o.current,walletChainType:a.current,preSelectedWalletId:t?.externalConnectWallet?.preSelectedWalletId,onBack:t?.funding?()=>n(z1):void 0,onClose:()=>{i("connectWallet","onError",Ld.GENERIC_CONNECT_WALLET_ERROR),e()},onConnect:({connector:r,wallet:s})=>{i("connectWallet","onSuccess",{wallet:s});let o=t?.externalConnectWallet?.onCompleteNavigateTo;o?n(o({address:s.address,walletClientType:r?.walletClientType,walletChainType:r?.chainType})):e()},onConnectError:e=>{e instanceof Pd?(console.warn(e.cause?e.cause:e.message),i("connectWallet","onError",e.privyErrorCode||Ld.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(e),i("connectWallet","onError",Ld.UNKNOWN_CONNECT_WALLET_ERROR))},customDescription:s,app:r})},isUnauthenticatedScreem:!0},q1=e=>(0,ri.jsxs)("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,ri.jsx)("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#855DCD"}),(0,ri.jsxs)("g",{"clip-path":"url(#clip0_1715_1960)",children:[(0,ri.jsx)("path",{d:"M4.5 4H28.5V28H4.5V4Z",fill:"#855DCD"}),(0,ri.jsx)("path",{d:"M11.1072 8.42105H21.6983V23.5789H20.1437V16.6357H20.1284C19.9566 14.7167 18.3542 13.2129 16.4028 13.2129C14.4514 13.2129 12.849 14.7167 12.6771 16.6357H12.6619V23.5789H11.1072V8.42105Z",fill:"white"}),(0,ri.jsx)("path",{d:"M8.28943 10.5725L8.92101 12.7239H9.45542V21.4275C9.1871 21.4275 8.96959 21.6464 8.96959 21.9165V22.5032H8.87242C8.60411 22.5032 8.38659 22.7221 8.38659 22.9922V23.5789H13.8279V22.9922C13.8279 22.7221 13.6104 22.5032 13.3421 22.5032H13.2449V21.9165C13.2449 21.6464 13.0274 21.4275 12.7591 21.4275H12.1761V10.5725H8.28943Z",fill:"white"}),(0,ri.jsx)("path",{d:"M20.2408 21.4275C19.9725 21.4275 19.755 21.6464 19.755 21.9165V22.5032H19.6579C19.3895 22.5032 19.172 22.7221 19.172 22.9922V23.5789H24.6133V22.9922C24.6133 22.7221 24.3958 22.5032 24.1275 22.5032H24.0303V21.9165C24.0303 21.6464 23.8128 21.4275 23.5445 21.4275V12.7239H24.0789L24.7105 10.5725H20.8238V21.4275H20.2408Z",fill:"white"})]}),(0,ri.jsx)("defs",{children:(0,ri.jsx)("clipPath",{id:"clip0_1715_1960",children:(0,ri.jsx)("rect",{width:"24",height:"24",fill:"white",transform:"translate(4.5 4)"})})})]}),H1=e=>{let[t,n]=(0,ei.useState)(!1);return(0,ri.jsx)(V1,{color:e.color,href:e.url,target:"_blank",rel:"noreferrer noopener",onClick:()=>{n(!0),setTimeout(()=>n(!1),1500)},justOpened:t,children:e.text})};let V1=Ay.a.withConfig({displayName:"StyledOpenLinkButton",componentId:"sc-4e695c83-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],e=>e.justOpened?"var(--privy-color-foreground)":e.color||"var(--privy-color-foreground-3)",e=>e.justOpened?"medium":"normal",e=>e.justOpened?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)"),K1=Ay.div.withConfig({displayName:"Container",componentId:"sc-913deead-0"})(["width:100%;"]),G1=Ay.div.withConfig({displayName:"InputContainer",componentId:"sc-913deead-1"})(["display:flex;align-items:center;justify-content:space-between;gap:0.75rem;padding:0.75rem;height:56px;background:",";border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);&:hover{border-color:",";}"],e=>e.$disabled?"var(--privy-color-background-2)":"var(--privy-color-background)",e=>e.$disabled?"var(--privy-color-foreground-4)":"var(--privy-color-foreground-3)"),Z1=Ay.div.withConfig({displayName:"TextContainer",componentId:"sc-913deead-2"})(["flex:1;min-width:0;display:flex;align-items:center;"]),Y1=Ay.span.withConfig({displayName:"Text",componentId:"sc-913deead-3"})(["display:block;font-size:16px;line-height:24px;color:",";overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-all;@media (min-width:441px){font-size:14px;line-height:20px;}"],e=>e.$disabled?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"),J1=Ay(Y1).withConfig({displayName:"PlaceholderText",componentId:"sc-913deead-4"})(["color:var(--privy-color-foreground-3);font-style:italic;"]),Q1=Ay(kQ).withConfig({displayName:"TitleLabel",componentId:"sc-913deead-5"})(["margin-bottom:0.5rem;"]),X1=Ay(OV).withConfig({displayName:"CopyButton",componentId:"sc-913deead-6"})(["&&{gap:0.375rem;font-size:14px;flex-shrink:0;}"]);const e2=({value:e,title:t,placeholder:n,className:r,showCopyButton:i=!0,truncate:s,maxLength:o=40,disabled:a=!1})=>{let[c,l]=(0,ei.useState)(!1),u=s&&e?((e,t,n)=>{if((e=e.startsWith("https://")?e.slice(8):e).length<=n)return e;if("middle"===t){let t=Math.ceil(n/2)-2,r=Math.floor(n/2)-1;return`${e.slice(0,t)}...${e.slice(-r)}`}return`${e.slice(0,n-3)}...`})(e,s,o):e;return(0,ei.useEffect)(()=>{if(c){let e=setTimeout(()=>l(!1),3e3);return()=>clearTimeout(e)}},[c]),(0,ri.jsxs)(K1,{className:r,children:[t&&(0,ri.jsx)(Q1,{children:t}),(0,ri.jsxs)(G1,{$disabled:a,children:[(0,ri.jsx)(Z1,{children:e?(0,ri.jsx)(Y1,{$disabled:a,title:e,children:u}):(0,ri.jsx)(J1,{$disabled:a,children:n||"No value"})}),i&&e&&(0,ri.jsx)(X1,{onClick:function(t){t.stopPropagation(),navigator.clipboard.writeText(e).then(()=>l(!0)).catch(console.error)},size:"sm",children:(0,ri.jsxs)(ri.Fragment,c?{children:["Copied",(0,ri.jsx)(sh,{size:14})]}:{children:["Copy",(0,ri.jsx)(oh,{size:14})]})})]})]})},t2=({connectUri:e,loading:t,success:n,errorMessage:r,onBack:i,onClose:s,onOpenFarcaster:o})=>(0,ri.jsx)(bK,si.Fr||t?si.un?{title:r?r.message:"Sign in with Farcaster",subtitle:r?r.detail:"To sign in with Farcaster, please open the Farcaster app.",icon:q1,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},primaryCta:e&&o?{label:"Open Farcaster app",onClick:o}:void 0,onBack:i,onClose:s,watermark:!0}:{title:r?r.message:"Signing in with Farcaster",subtitle:r?r.detail:"This should only take a moment",icon:q1,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},onBack:i,onClose:s,watermark:!0,children:e&&si.Fr&&(0,ri.jsx)(r2,{children:(0,ri.jsx)(H1,{text:"Take me to Farcaster",url:e,color:"#8a63d2"})})}:{title:"Sign in with Farcaster",subtitle:"Scan with your phone's camera to continue.",onBack:i,onClose:s,watermark:!0,children:(0,ri.jsxs)(i2,{children:[(0,ri.jsx)(s2,{children:e?(0,ri.jsx)(kJ,{url:e,size:275,squareLogoElement:q1}):(0,ri.jsx)(c2,{children:(0,ri.jsx)(xV,{})})}),(0,ri.jsxs)(o2,{children:[(0,ri.jsx)(a2,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),e&&(0,ri.jsx)(e2,{value:e,truncate:"end",maxLength:30,showCopyButton:!0,disabled:!0})]})]})}),n2={component:()=>{let{authenticated:e,logout:t,ready:n,user:r}=eV(),{lastScreen:i,navigate:s,navigateBack:o,setModalData:a}=QH(),c=Mf(),{getAuthFlow:l,loginWithFarcaster:u,closePrivyModal:d,createAnalyticsEvent:h}=Jd(),[f,p]=(0,ei.useState)(void 0),[g,m]=(0,ei.useState)(!1),[y,w]=(0,ei.useState)(!1),b=(0,ei.useRef)([]),v=l(),x=v?.meta.connectUri;return(0,ei.useEffect)(()=>{let e=Date.now(),t=setInterval(async()=>{let n=await v.pollForReady.execute(),r=Date.now()-e;if(n){clearInterval(t),m(!0);try{await u(),w(!0)}catch(e){let t={retryable:!1,message:"Authentication failed"};if(e?.privyErrorCode===Ld.ALLOWLIST_REJECTED)return void s(nQ);if(e?.privyErrorCode===Ld.USER_LIMIT_REACHED)return console.error(new Fd(e).toString()),void s(hQ);if(e?.privyErrorCode===Ld.USER_DOES_NOT_EXIST)return void s(_Y);if(e?.privyErrorCode===Ld.LINKED_TO_ANOTHER_USER)t.detail=e.message??"This account has already been linked to another user.";else{if(e?.privyErrorCode===Ld.ACCOUNT_TRANSFER_REQUIRED&&e.data?.data?.nonce)return a({accountTransfer:{nonce:e.data?.data?.nonce,account:e.data?.data?.subject,displayName:e.data?.data?.account?.displayName,linkMethod:"farcaster",embeddedWalletAddress:e.data?.data?.otherUser?.embeddedWalletAddress,farcasterEmbeddedAddress:e.data?.data?.otherUser?.farcasterEmbeddedAddress}}),void s(tJ);e?.privyErrorCode===Ld.INVALID_CREDENTIALS?(t.retryable=!0,t.detail="Something went wrong. Try again."):e?.privyErrorCode===Ld.TOO_MANY_REQUESTS&&(t.detail="Too many requests. Please wait before trying again.")}p(t)}}else r>12e4&&(clearInterval(t),p({retryable:!0,message:"Authentication failed",detail:"The request timed out. Try again."}))},2e3);return()=>{clearInterval(t),b.current.forEach(e=>clearTimeout(e))}},[]),(0,ei.useEffect)(()=>{if(n&&e&&y&&r){if(c?.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms){let e=setTimeout(()=>{s(oJ)},nf);return()=>clearTimeout(e)}y&&(EY(r,c.embeddedWallets)?b.current.push(setTimeout(()=>{a({createWallet:{onSuccess:()=>{},onFailure:e=>{console.error(e),h({eventName:"embedded_wallet_creation_failure_logout",payload:{error:e,screen:"FarcasterConnectStatusScreen"}}),t()},callAuthOnSuccessOnClose:!0}}),s(sJ)},nf)):b.current.push(setTimeout(()=>d({shouldCallAuthOnSuccess:!0,isSuccess:!0}),nf)))}},[y,n,e,r]),(0,ri.jsx)(t2,{connectUri:x,loading:g,success:y,errorMessage:f,onBack:i?o:void 0,onClose:d,onOpenFarcaster:()=>{x&&(window.location.href=x)}})}};let r2=Ay.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-6e4b180b-0"})(["margin-top:24px;"]),i2=Ay.div.withConfig({displayName:"ContentContainer",componentId:"sc-6e4b180b-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),s2=Ay.div.withConfig({displayName:"QrContainer",componentId:"sc-6e4b180b-2"})(["display:flex;align-items:center;justify-content:center;min-height:275px;"]),o2=Ay.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-6e4b180b-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),a2=Ay.div.withConfig({displayName:"InstructionText",componentId:"sc-6e4b180b-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),c2=Ay.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-6e4b180b-5"})(["position:relative;width:82px;height:82px;"]);const l2=()=>{let[e,t]=(0,ei.useState)(!1),{currentScreen:n,navigate:r,setModalData:i,data:s}=QH(),{enabled:o,token:a}=Dq(),{initLoginWithFarcaster:c}=Jd(),{accountType:l}=uY();return(0,ri.jsxs)(aV,{onClick:async()=>{t(!0);try{o&&!a?(i({captchaModalData:{callback:e=>c(e,s?.login?.disableSignup),userIntentRequired:!0,onSuccessNavigateTo:n2,onErrorNavigateTo:zY}}),r(iQ)):(await c(a,s?.login?.disableSignup),r(n2))}catch(e){i({errorModalData:{error:e,previousScreen:n||a3}}),r(zY)}finally{t(!1)}},disabled:!1,children:[(0,ri.jsx)(q1,{width:32,height:32})," Farcaster",e&&(0,ri.jsx)(kV,{}),"farcaster"===l&&(0,ri.jsx)(u2,{color:"gray",children:"Recent"})]})};let u2=Ay(y0).withConfig({displayName:"StyledChip",componentId:"sc-c6317ff9-0"})(["margin-left:auto;"]);const d2=({status:e,passkeySignupFlow:t=!1,error:n,onRetry:r})=>(0,ri.jsx)(bK,{title:(()=>{switch(e){case"loading":return"Waiting for passkey";case"success":return"Success";case"error":return"Something went wrong"}})(),subtitle:(0,ri.jsx)(f2,{children:(()=>{switch(e){case"loading":return t?"Please follow prompts to register your passkey.":"Please follow prompts to verify your passkey.\nYou will have to sign up with another method first to register a passkey for your account.";case"success":return"You've successfully logged in with your passkey.";case"error":if(n instanceof Pd){if(n.privyErrorCode===Ld.CANNOT_LINK_MORE_OF_TYPE)return"Cannot link more passkeys to account.";if(n.privyErrorCode===Ld.PASSKEY_NOT_ALLOWED)return"Passkey request timed out or rejected by user.\nYou will have to sign up with another method first to register a passkey for your account."}return"An unknown error occurred.\nYou will have to sign up with another method first to register a passkey for your account."}})()}),icon:mh,iconVariant:"loading",iconLoadingStatus:{success:"success"===e,fail:"error"===e},primaryCta:"error"===e&&r?{label:"Retry",onClick:r}:"success"===e?{label:"Continue",disabled:!0}:void 0,watermark:!0}),h2={component:()=>{let{data:e,setModalData:t,navigate:n}=QH(),r=Mf(),{loginWithPasskey:i,signupWithPasskey:s,closePrivyModal:o,createAnalyticsEvent:a}=Jd(),{user:c,logout:l}=eV(),{passkeySignupFlow:u}=e?.passkeyAuthModalData??{},[d,h]=(0,ei.useState)("loading"),[f,p]=(0,ei.useState)(null),g=(0,ei.useRef)([]),m=e=>{g.current=[e,...g.current]};(0,ei.useEffect)(()=>()=>{g.current.forEach(e=>clearTimeout(e)),g.current=[]},[]);let y=async()=>{h("loading");try{u?await s():await i(),h("success")}catch(e){p(e),h("error")}};return(0,ei.useEffect)(()=>{if("success"===d&&c){if(r?.legal.requireUsersAcceptTerms&&!c.hasAcceptedTerms)return void m(setTimeout(()=>{n(oJ)},900));if(!EY(c,r?.embeddedWallets))return void m(setTimeout(()=>{o({shouldCallAuthOnSuccess:!0,isSuccess:!0})},nf));m(setTimeout(()=>{t({createWallet:{onSuccess:()=>{},onFailure:e=>{console.error(e),a({eventName:"embedded_wallet_creation_failure_logout",payload:{error:e,screen:"PasskeyStatusScreen"}}),l()},callAuthOnSuccessOnClose:!0}}),n(sJ)},900))}},[c,d]),(0,ei.useEffect)(()=>{y()},[]),(0,ri.jsx)(d2,{status:d,passkeySignupFlow:u,error:f,onRetry:y})}};let f2=Ay.span.withConfig({displayName:"SubtitleText",componentId:"sc-7ff4a13e-0"})(["white-space:pre-wrap;"]);const p2=({title:e="Log in or create a new account?",subtitle:t="Create a new account with a passkey or use a passkey to log in to an existing account.",onSignup:n,onLogin:r})=>(0,ri.jsx)(bK,{title:e,subtitle:t,icon:mh,primaryCta:{label:"Create new account",onClick:n},secondaryCta:{label:"Log in with a passkey",onClick:r},watermark:!0}),g2={component:()=>{let{enabled:e,token:t}=Dq(),{navigate:n,setModalData:r}=QH(),{initSignupWithPasskey:i,initLoginWithPasskey:s}=Jd();return(0,ri.jsx)(p2,{onSignup:async()=>{e&&!t?(r({passkeyAuthModalData:{passkeySignupFlow:!0},captchaModalData:{callback:e=>i({captchaToken:e,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:h2,onErrorNavigateTo:zY}}),n(iQ)):(await i({withPrivyUi:!0,captchaToken:t}),r({passkeyAuthModalData:{passkeySignupFlow:!0}}),n(h2))},onLogin:async()=>{e&&!t?(r({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:e=>s({captchaToken:e,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:h2,onErrorNavigateTo:zY}}),n(iQ)):(await s({withPrivyUi:!0,captchaToken:t}),r({passkeyAuthModalData:{passkeySignupFlow:!1}}),n(h2))}})}},m2=()=>{let{enabled:e,token:t}=Dq(),{navigate:n,setModalData:r,data:i}=QH(),s=Mf(),{initLoginWithPasskey:o}=Jd(),a=()=>{s.loginConfig.passkeysForSignupEnabled?n(g2):(async()=>{e&&!t?(r({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:e=>o({captchaToken:e,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:h2,onErrorNavigateTo:zY}}),n(iQ)):(await o({withPrivyUi:!0,captchaToken:t}),r({passkeyAuthModalData:{passkeySignupFlow:!1}}),n(h2))})()};return 0===(0,ei.useMemo)(()=>{let e=i?.login?.loginMethods;return e?e.filter(e=>"passkey"!==e).length:Object.entries(s.loginMethods).filter(([e,t])=>t).filter(([e])=>"passkey"!==e).length},[s.loginMethods,i?.login])?(0,ri.jsxs)(aV,{onClick:a,children:[(0,ri.jsx)(EW,{})," Continue with passkey"]}):(0,ri.jsx)(yY,{as:"button",onClick:a,size:"sm",variant:"navigation",style:{width:"100%",justifyContent:"center"},children:"I have a passkey"})},y2=({value:e,onChange:t})=>(0,ri.jsx)("select",{value:e,onChange:t,children:La.map(e=>(0,ri.jsxs)("option",{value:e.code,children:[e.code," +",e.callCode]},e.code))}),w2=(0,ei.forwardRef)((e,t)=>{let n=Mf(),[r,i]=(0,ei.useState)(!1),{accountType:s}=uY(),[o,a]=(0,ei.useState)(""),[c,l]=(0,ei.useState)(n?.intl.defaultCountry??"US"),u=Ra(o,c),d=(e=>new Oa(e))(c),h=(e=>{let t=function(){return Bi(Na,arguments)}(e,Mi)?.formatInternational();return t?.substring(t.indexOf(" ")+1)})(c),f=Ro(c),p=!u,[g,m]=(0,ei.useState)(!1),y=f.length,w=t=>{let n=t.target.value;l(n),a(""),e.onChange&&e.onChange({rawPhoneNumber:o,qualifiedPhoneNumber:$a(o,n),countryCode:n,isValid:Ra(o,c)})},b=(t,n)=>{try{let r=t.replace(/\D/g,"")===o.replace(/\D/g,"")?t:d.input(t);a(r),e.onChange&&e.onChange({rawPhoneNumber:r,qualifiedPhoneNumber:$a(t,n),countryCode:n,isValid:Ra(t,n)})}catch(t){console.error("Error processing phone number:",t)}},v=()=>{m(!0);let t=$a(o,c);e.onSubmit({rawPhoneNumber:o,qualifiedPhoneNumber:t,countryCode:c,isValid:Ra(o,c)}).finally(()=>m(!1))};return(0,ei.useEffect)(()=>{if(e.defaultValue){let t=(e=>{let t=new Oa;t.input(e);let n=t.getCountry()||"US",r=t.getCallingCode()||"1";return{countryCode:n,phone:e.replace("+"+r,"")}})(e.defaultValue);d.reset(),w({target:{value:t.countryCode}}),b(t.phone,t.countryCode)}},[e.defaultValue]),(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(b2,{children:(0,ri.jsxs)(v2,{$callingCodeLength:y,$stacked:e.stacked,children:[(0,ri.jsx)(y2,{value:c,onChange:w}),(0,ri.jsx)("input",{ref:t,id:"phone-number-input",className:"login-method-button",type:"tel",placeholder:h,onFocus:()=>i(!0),onChange:e=>{b(e.target.value,c)},onKeyUp:e=>{"Enter"===e.key&&v()},value:o,autoComplete:"tel"}),"phone"!==s||r||e.hideRecent?e.stacked||e.noIncludeSubmitButton?(0,ri.jsx)("span",{}):(0,ri.jsx)($V,{isSubmitting:g,onClick:v,disabled:p,children:"Submit"}):(0,ri.jsx)(y0,{color:"gray",children:"Recent"})]})}),e.stacked&&!e.noIncludeSubmitButton?(0,ri.jsx)(IV,{loading:g,loadingText:null,onClick:v,disabled:p,children:"Submit"}):null]})});let b2=Ay.div.withConfig({displayName:"InputContainer",componentId:"sc-545daacd-0"})(["width:100%;"]),v2=Ay.label.withConfig({displayName:"PhoneNumberInput",componentId:"sc-545daacd-1"})(["--country-code-dropdown-width:calc(54px + calc(12 * ","px));--phone-input-extra-padding-left:calc(12px + calc(3 * ","px));display:block;position:relative;width:100%;@media (min-width:441px){--country-code-dropdown-width:calc(52px + calc(10 * ","px));}&& > select{font-size:16px;height:24px;position:absolute;margin:13px calc(var(--country-code-dropdown-width) / 4);line-height:24px;width:var(--country-code-dropdown-width);background-color:var(--privy-color-background);background-size:auto;background-position-x:right;cursor:pointer;@media (min-width:441px){font-size:14px;width:var(--country-code-dropdown-width);}:focus{outline:none;box-shadow:none;}}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - var(--country-code-dropdown-width));padding:12px 88px 12px calc(var(--country-code-dropdown-width) + var(--phone-input-extra-padding-left));padding-right:",";flex-grow:1;background:var(--privy-color-background);border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);width:100%;:focus{outline:none;border-color:var(--privy-color-accent);}:autofill,:-webkit-autofill{background:var(--privy-color-background);}@media (min-width:441px){font-size:14px;padding-right:78px;}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;border-color:var(--privy-color-accent);}}&& > input::placeholder{color:var(--privy-color-foreground-3);}"],e=>e.$callingCodeLength,e=>e.$callingCodeLength,e=>e.$callingCodeLength,e=>e.$stacked?"16px":"88px");const x2=({isEditable:e,setIsEditable:t,defaultValue:n})=>{let r=(0,ei.useRef)(null),{authenticated:i}=eV(),{navigate:s,setModalData:o,currentScreen:a,data:c}=QH(),{initLoginWithSms:l}=Jd(),{enabled:u,token:d}=Dq(),{whatsAppEnabled:h}=Mf();return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(lV,{$if:!e,children:(0,ri.jsx)(w2,{ref:r,onSubmit:async function({qualifiedPhoneNumber:e}){if(!u||d||i)try{await l({phoneNumber:e,captchaToken:d,withPrivyUi:!0,disableSignup:c?.login?.disableSignup}),s(V2)}catch(e){o({errorModalData:{error:e,previousScreen:a||a3}}),s(zY)}else o({captchaModalData:{callback:t=>l({phoneNumber:e,captchaToken:t,withPrivyUi:!0,disableSignup:c?.login?.disableSignup}),userIntentRequired:!1,onSuccessNavigateTo:V2,onErrorNavigateTo:zY}}),s(iQ)},defaultValue:n})}),(0,ri.jsx)(lV,{$if:e,children:(0,ri.jsxs)(aV,{onClick:()=>{t(),setTimeout(()=>{r.current?.focus()},0)},children:[(0,ri.jsx)(cV,{children:(0,ri.jsx)(yh,{})}),"Continue with ",h?"WhatsApp":"SMS"]})})]})};let E2={apple:{logo:aq,displayName:"Apple"},discord:{logo:cq,displayName:"Discord"},github:{logo:lq,displayName:"GitHub"},google:{logo:uq,displayName:"Google"},linkedin:{logo:fq,displayName:"LinkedIn"},spotify:{logo:pq,displayName:"Spotify"},instagram:{logo:dq,displayName:"Instagram"},twitter:{logo:yq,displayName:"Twitter"},tiktok:{logo:gq,displayName:"TikTok"},line:{logo:hq,displayName:"LINE"},twitch:{logo:mq,displayName:"Twitch"}};const k2=({provider:e})=>{let{enabled:t,token:n}=Dq(),{navigate:r,setModalData:i,data:s}=QH(),[o,a]=(0,ei.useState)(!1),c=Mf(),{initLoginWithOAuth:l}=Jd(),{accountType:u}=uY(),d=(0,ei.useMemo)(()=>u&&"guest"!==u&&"authorization_key"!==u&&"cross_app"!==u?iY(u):null,[u]),{displayName:h,logo:f}=(0,ei.useMemo)(()=>{if(oq(e)){let t=c.customOAuthProviders.find(t=>t.provider===e),n=t.provider_icon_url,r=t.provider_display_name;return{displayName:r,logo:({style:e})=>(0,ri.jsx)("img",{alt:`${r} logo`,src:n,style:e})}}return E2[e]},[e,c.customOAuthProviders]);return(0,ri.jsxs)(aV,{onClick:()=>{a(!0),setTimeout(()=>{a(!1)},2e3),t&&!n?(i({captchaModalData:{callback:t=>l(e,t,s?.login?.disableSignup),userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:zY}}),r(iQ)):l(e,void 0,s?.login?.disableSignup)},disabled:o,children:[(0,ri.jsx)(cV,{$fullSize:!0,children:(0,ri.jsx)(f,{style:{width:"32px",height:"32px"}})}),h,d?.loginMethod===e&&(0,ri.jsx)(_2,{color:"gray",children:"Recent"})]})};let _2=Ay(y0).withConfig({displayName:"StyledChip",componentId:"sc-45a4e2df-0"})(["margin-left:auto;"]);function C2(e){return(0,ri.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...e,children:[(0,ri.jsx)("rect",{width:"512",height:"512",rx:"15%",fill:"#37aee2"}),(0,ri.jsx)("path",{fill:"#c8daea",d:"M199 404c-11 0-10-4-13-14l-32-105 245-144"}),(0,ri.jsx)("path",{fill:"#a9c9dd",d:"M199 404c7 0 11-4 16-8l45-43-56-34"}),(0,ri.jsx)("path",{fill:"#f6fbfe",d:"M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"})]})}const S2=({success:e,errorMessage:t,onRetry:n})=>{let r=e?"Successfully connected with Telegram":t?t.message:"Verifying connection to Telegram";return(0,ri.jsx)(bK,{title:r,subtitle:e?"You're good to go!":t?t.detail:"Just a few moments more",icon:C2,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!t},secondaryCta:t?.retryable&&n?{label:"Retry",onClick:n}:void 0,watermark:!0})},I2={component:()=>{let{authenticated:e,logout:t,ready:n,user:r}=eV(),{setModalData:i,navigate:s,resetNavigation:o,data:a}=QH(),c=Mf(),{initLoginWithTelegram:l,loginWithTelegram:u,updateWallets:d,setReadyToTrue:h,closePrivyModal:f,createAnalyticsEvent:p,getAuthMeta:g}=Jd(),[m,y]=(0,ei.useState)(!1),[w,b]=(0,ei.useState)(void 0),v=Dq();async function x(){try{let t=await async function(){let t;if(!e){if(v.enabled&&"error"===v.status)throw new Bq(v.error,null,Ld.CAPTCHA_FAILURE);return v.enabled&&"success"!==v.status&&(v.execute(),t=await v.waitForResult()),t}}();await u({captchaToken:t}),y(!0),h(!0)}catch(e){if(e?.privyErrorCode===Ld.ALLOWLIST_REJECTED)return b(void 0),o(),void s(nQ);if(e?.privyErrorCode===Ld.USER_LIMIT_REACHED)return console.error(new Fd(e).toString()),b(void 0),o(),void s(hQ);if(e?.privyErrorCode===Ld.USER_DOES_NOT_EXIST)return b(void 0),o(),void s(_Y);if(e?.privyErrorCode===Ld.ACCOUNT_TRANSFER_REQUIRED&&e.data?.data?.nonce)return b(void 0),o(),i({accountTransfer:{nonce:e.data?.data?.nonce,account:e.data?.data?.subject,telegramAuthResult:g()?.telegramAuthResult,telegramWebAppData:g()?.telegramWebAppData,displayName:e.data?.data?.account?.displayName,linkMethod:"telegram",embeddedWalletAddress:e.data?.data?.otherUser?.embeddedWalletAddress}}),void s(tJ);let{retryable:t,detail:n}=zq(e);b({retryable:t,detail:n,message:"Authentication failed"})}}return(0,ei.useEffect)(()=>{x()},[]),(0,ei.useEffect)(()=>{if(!(n&&e&&m&&r))return;if(c?.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms){let e=setTimeout(()=>{s(oJ)},nf);return()=>clearTimeout(e)}if(EY(r,c.embeddedWallets)){let e=setTimeout(()=>{i({createWallet:{onSuccess:()=>{},onFailure:e=>{console.error(e),p({eventName:"embedded_wallet_creation_failure_logout",payload:{error:e,provider:"telegram",screen:"TelegramAuthScreen"}}),t()},callAuthOnSuccessOnClose:!0}}),s(sJ)},nf);return()=>clearTimeout(e)}d();let o=setTimeout(()=>f({shouldCallAuthOnSuccess:!0,isSuccess:!0}),nf);return()=>clearTimeout(o)},[n,e,m,r]),(0,ri.jsx)(S2,{success:m,errorMessage:w,onRetry:w?.retryable?async()=>{try{b(void 0),a?.telegramAuthModalData?.seamlessAuth||await l(void 0,a?.login?.disableSignup),await x()}catch(e){let{retryable:t,detail:n}=zq(e);b({retryable:t,detail:n,message:"Authentication failed"})}}:void 0})},isCaptchaRequired:!0},A2=()=>{let{enabled:e,token:t}=Dq(),{navigate:n,setModalData:r,data:i}=QH(),[s,o]=(0,ei.useState)(!1),{initLoginWithTelegram:a}=Jd(),{accountType:c}=uY();async function l(e){try{await a(e,i?.login?.disableSignup),r({telegramAuthModalData:{seamlessAuth:!1}}),n(I2)}catch(e){console.error(e),o(!1)}}return(0,ri.jsxs)(aV,{onClick:async function(){if(o(!0),e&&!t)return r({captchaModalData:{callback:l,userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:zY}}),void n(iQ);await l(t)},disabled:s,children:[(0,ri.jsx)(C2,{width:32,height:32}),"Telegram","telegram"===c&&(0,ri.jsx)(T2,{color:"gray",children:"Recent"})]})};let T2=Ay(y0).withConfig({displayName:"StyledChip",componentId:"sc-4b233cf1-0"})(["margin-left:auto;"]);const P2=({onClick:e,text:t,icon:n})=>(0,ri.jsxs)(aV,{onClick:e,children:[(0,ri.jsx)(cV,{children:n}),(0,ri.jsx)(tV,{children:t})]}),O2=({connectOnly:e})=>{let{closePrivyModal:t}=Jd(),{data:n,setModalData:r,onUserCloseViaDialogOrKeybindRef:i,navigate:s}=QH(),o=Mf(),a=n?.login,c=o.appearance.walletList,l=a?.walletChainType??o.appearance.walletChainType,{accountType:u,walletClientType:d,chainType:h}=uY(),f=(0,ei.useMemo)(()=>u&&"guest"!==u&&"authorization_key"!==u&&"cross_app"!==u?iY(u):null,[u]),{email:p,sms:g,google:m,twitter:y,discord:w,github:b,spotify:v,instagram:x,tiktok:E,line:k,twitch:_,linkedin:C,apple:S,wallet:I,farcaster:A,telegram:T}=(0,ei.useMemo)(()=>a?.loginMethods?((e,t=!0)=>e.reduce((e,n)=>({...e,[n]:t}),{}))(a.loginMethods,!0):null,[a])??o.loginMethods,{wallets:P}=BJ({enabled:KH(I?c:[]),walletList:c,walletChainType:l}),O=o.customOAuthProviders,{passkey:j}=o.loginMethods,N=[p&&"email",g&&"sms",m&&"google",y&&"twitter",w&&"discord",b&&"github",v&&"spotify",x&&"instagram",E&&"tiktok",k&&"line",_&&"twitch",C&&"linkedin",S&&"apple",A&&"farcaster",T&&"telegram",...O.map(e=>e.provider)].filter(e=>!!e),R=N.length>0,$=(0,ei.useMemo)(()=>I&&!R?"web3-first":I&&o?.appearance.loginGroupPriority||"web2-first",[I,R,o?.appearance.loginGroupPriority]),M=o?.appearance.hideDirectWeb2Inputs,[L,B]=(0,ei.useState)("default"),[U,D]=(0,ei.useState)(L2({mostRecentlyUsedAccountType:u,smsAvailable:g,emailAvailable:p,prefilledType:a?.prefill?.type}));(0,ei.useEffect)(()=>{D(L2({mostRecentlyUsedAccountType:u,smsAvailable:g,emailAvailable:p,prefilledType:a?.prefill?.type}))},[p,g,u]);let F=()=>{t({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{B("default")},150)};i.current=F;let z=[];d&&I?z.push(d):f?.loginMethod&&N.includes(f.loginMethod)&&z.push(f.loginMethod);let W=t=>{if("email"===t)return(0,ri.jsx)(r3,{isEditable:"email"===U,setIsEditable:()=>{D("email")},defaultValue:"email"===a?.prefill?.type?a.prefill.value:void 0},t);if("sms"===t)return(0,ri.jsx)(x2,{isEditable:"sms"===U,setIsEditable:()=>{D("sms")},defaultValue:"phone"===a?.prefill?.type?a.prefill.value:void 0},t);if("apple"===t)return(0,ri.jsx)(k2,{provider:"apple"},t);if("discord"===t)return(0,ri.jsx)(k2,{provider:"discord"},t);if("farcaster"===t)return(0,ri.jsx)(l2,{},t);if("github"===t)return(0,ri.jsx)(k2,{provider:"github"},t);if("google"===t)return(0,ri.jsx)(k2,{provider:"google"},t);if("linkedin"===t)return(0,ri.jsx)(k2,{provider:"linkedin"},t);if("tiktok"===t)return(0,ri.jsx)(k2,{provider:"tiktok"},t);if("line"===t)return(0,ri.jsx)(k2,{provider:"line"},t);if("twitch"===t)return(0,ri.jsx)(k2,{provider:"twitch"},t);if("spotify"===t)return(0,ri.jsx)(k2,{provider:"spotify"},t);if("instagram"===t)return(0,ri.jsx)(k2,{provider:"instagram"},t);if("twitter"===t)return(0,ri.jsx)(k2,{provider:"twitter"},t);if("telegram"===t)return(0,ri.jsx)(A2,{},t);if(oq(t))return(0,ri.jsx)(k2,{provider:t},t);let n=P.findIndex(({id:e})=>e===OJ.normalize(t)),i="solana"===h?"solana-only":"ethereum-only";return(0,ri.jsx)(DJ,{recent:!0,index:n,data:{wallets:P,walletChainType:i,handleWalletClick(t){r(e=>({...e,externalConnectWallet:{walletList:c,walletChainType:i,preSelectedWalletId:t.id}})),s(e?W1:yQ)}}})},q=P.filter(e=>e.id!==OJ.normalize(d||"")),H=q.map((t,n)=>(0,ri.jsx)(DJ,{index:n,data:{walletChainType:l,wallets:q,handleWalletClick(t){r(e=>({...e,externalConnectWallet:{walletList:c,walletChainType:l,preSelectedWalletId:t.id}})),s(e?W1:yQ)}}},t.id)),V=N.filter(e=>e!==f?.loginMethod).flatMap(W),K=z.flatMap(W);"web3-first"===$&&"default"===L?H.unshift(...K):"web2-first"===$&&V.unshift(...K);let G="web2-overflow"===L?()=>B("default"):void 0,Z=N.filter(e=>"email"!==e&&"sms"!==e),Y=R2({priority:$,email:p,sms:g,social:Z}),J=$2({priority:$,email:p,sms:g,social:Z}),Q=(0,ri.jsx)(b0,{text:M2({priority:$}),onClick:()=>{r({...n,externalConnectWallet:{walletChainType:a?.walletChainType??o.appearance.walletChainType}}),s(e?W1:yQ)}}),X=(0,ri.jsx)(P2,{text:Y,icon:J,onClick:()=>B("web2-overflow")}),ee=M?0:1,te=I&&H.length>0,ne=0===V.length&&I&&0===H.length,re=5-(te?1:0),ie="default"===L&&o?.appearance.logo,se="default"===L&&o.appearance.loginMessage;return(0,ri.jsxs)(bK,{title:o.appearance.landingHeader,icon:ie?(0,ri.jsx)(dY,{}):void 0,iconVariant:ie?"logo":void 0,onClose:F,showClose:!0,onBack:G,showBack:!!G,helpText:o||j&&"default"===L?(0,ri.jsxs)(ri.Fragment,{children:[j&&"default"===L&&(0,ri.jsx)(m2,{}),o&&(0,ri.jsx)(pV,{app:o})]}):void 0,watermark:!0,children:[se&&("string"==typeof o.appearance.loginMessage?(0,ri.jsx)(j2,{children:o.appearance.loginMessage}):(0,ri.jsx)(N2,{children:o.appearance.loginMessage})),(0,ri.jsx)(iV,{$colorScheme:o.appearance.palette.colorScheme,children:"default"===L&&"web2-first"===$?(0,ri.jsxs)(ri.Fragment,{children:[V.length>re?V.slice(0,re-1):V,V.length>re&&X,te&&Q,ne&&(0,ri.jsx)(v0,{chainType:o.appearance.walletChainType})]}):"default"===L&&"web3-first"===$?(0,ri.jsxs)(ri.Fragment,{children:[I&&(0,ri.jsxs)(ri.Fragment,{children:[H.length>re?H.slice(0,re-1):H,H.length>re&&Q]}),V.length>ee&&X,V.length===ee&&V[0],ne&&(0,ri.jsx)(v0,{chainType:o.appearance.walletChainType})]}):"web2-overflow"===L?(0,ri.jsx)(ri.Fragment,{children:"web3-first"===$?V:V.slice(3)}):null})]})};let j2=Ay.div.withConfig({displayName:"StyledSubtitle",componentId:"sc-dfd9a95d-0"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),N2=Ay.div.withConfig({displayName:"MessageContainer",componentId:"sc-dfd9a95d-1"})(["margin-bottom:24px;"]),R2=({priority:e,email:t,sms:n,social:r})=>"web2-first"===e?"Other socials":t&&n&&r.length>0||t&&r.length>0?"Log in with email or socials":n&&r.length>0?"Log in with sms or socials":t&&n?"Continue with email or sms":t?"Continue with email":n?"Continue with sms":"Log in with a social account",$2=({priority:e,email:t,sms:n,social:r})=>"web2-first"===e||r.length>0?(0,ri.jsx)(wh,{}):t&&n?(0,ri.jsx)(ZJ,{}):t?(0,ri.jsx)(bh,{}):n?(0,ri.jsx)(yh,{}):null,M2=({priority:e})=>"web2-first"===e?"Continue with a wallet":"Other wallets";const L2=({mostRecentlyUsedAccountType:e,smsAvailable:t,emailAvailable:n,prefilledType:r})=>n&&("email"===e&&"phone"!==r||"email"===r)||!t||"phone"!==e&&"phone"!==r?"email":"sms",B2={component:()=>{let e=Mf();return e.loginMethodsAndOrder&&e.loginMethodsAndOrder.primary.length>0?(0,ri.jsx)(i3,{connectOnly:!0}):(0,ri.jsx)(O2,{connectOnly:!0})}},U2=({contactMethod:e,authFlow:t,appName:n="Privy",whatsAppEnabled:r=!1,onBack:i,onCodeSubmit:s,onResend:o,errorMessage:a,success:c=!1,resendCountdown:l=0,onInvalidInput:u,onClearError:d})=>{let[h,f]=(0,ei.useState)(F2);(0,ei.useEffect)(()=>{a||f(F2)},[a]);let p=async e=>{e.preventDefault();let t=e.currentTarget.value.replace(" ","");if(""===t)return;if(isNaN(Number(t)))return void u?.("Code should be numeric");d?.();let n=Number(e.currentTarget.name?.charAt(5)),r=[...t||[""]].slice(0,D2-n),i=[...h.slice(0,n),...r,...h.slice(n+r.length)];f(i);let o=Math.min(Math.max(n+r.length,0),D2-1);if(!isNaN(Number(e.currentTarget.value))){let e=document.querySelector(`input[name=code-${o}]`);e?.focus()}if(i.every(e=>e&&!isNaN(+e))){let e=document.querySelector(`input[name=code-${o}]`);e?.blur(),await(s?.(i.join("")))}};return(0,ri.jsx)(bK,{title:"Enter confirmation code",subtitle:(0,ri.jsxs)("span","email"===t?{children:["Please check ",(0,ri.jsx)(Q2,{children:e})," for an email from privy.io and enter your code below."]}:{children:["Please check ",(0,ri.jsx)(Q2,{children:e})," for a",r?" WhatsApp":""," message from ",n," and enter your code below."]}),icon:"email"===t?Fy:Wy,onBack:i,showBack:!0,helpText:(0,ri.jsxs)(Y2,{children:[(0,ri.jsxs)("span",{children:["Didn't get ","email"===t?"an email":"a message","?"]}),l?(0,ri.jsxs)(J2,{children:[(0,ri.jsx)(Uy,{color:"var(--privy-color-foreground)",strokeWidth:1.33,height:"12px",width:"12px"}),(0,ri.jsx)("span",{children:"Code sent"})]}):(0,ri.jsx)(yY,{as:"button",size:"sm",onClick:o,children:"Resend code"})]}),children:(0,ri.jsx)(K2,{children:(0,ri.jsx)(ZK,{children:(0,ri.jsxs)(G2,{children:[(0,ri.jsx)("div",{children:h.map((e,t)=>(0,ri.jsx)("input",{name:`code-${t}`,type:"text",value:h[t],onChange:p,onKeyUp:e=>{"Backspace"===e.key&&(e=>{if(d?.(),f([...h.slice(0,e),"",...h.slice(e+1)]),e>0){let t=document.querySelector(`input[name=code-${e-1}]`);t?.focus()}})(t)},inputMode:"numeric",autoFocus:0===t,pattern:"[0-9]",className:`${c?"success":""} ${a?"fail":""}`,autoComplete:si.Fr?"one-time-code":"off"},t))}),(0,ri.jsx)(Z2,{$fail:!!a,$success:c,children:(0,ri.jsx)("span",{children:"Invalid or expired verification code"===a?"Incorrect code":a||(c?"Success!":"")})})]})})})})};let D2=6,F2=Array(6).fill("");var z2,W2,q2=((z2=q2||{})[z2.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",z2[z2.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",z2),H2=((W2=H2||{})[W2.EMAIL=0]="EMAIL",W2[W2.SMS=1]="SMS",W2);const V2={component:()=>{let{navigate:e,lastScreen:t,navigateBack:n,setModalData:r,onUserCloseViaDialogOrKeybindRef:i}=QH(),s=Mf(),{closePrivyModal:o,resendEmailCode:a,resendSmsCode:c,getAuthMeta:l,loginWithCode:u,updateWallets:d,createAnalyticsEvent:h}=Jd(),{authenticated:f,logout:p,user:g}=eV(),{whatsAppEnabled:m}=Mf(),[y,w]=(0,ei.useState)(!1),[b,v]=(0,ei.useState)(null),[x,E]=(0,ei.useState)(null),[k,_]=(0,ei.useState)(0);i.current=()=>null;let C=l()?.email?0:1,S=0===C?l()?.email||"":l()?.phoneNumber||"";return(0,ei.useEffect)(()=>{if(k){let e=setTimeout(()=>{_(k-1)},1e3);return()=>clearTimeout(e)}},[k]),(0,ei.useEffect)(()=>{if(f&&y&&g){if(s?.legal.requireUsersAcceptTerms&&!g.hasAcceptedTerms){let t=setTimeout(()=>{e(oJ)},900);return()=>clearTimeout(t)}if(EY(g,s.embeddedWallets)){let t=setTimeout(()=>{r({createWallet:{onSuccess:()=>{},onFailure:e=>{console.error(e),h({eventName:"embedded_wallet_creation_failure_logout",payload:{error:e,screen:"AwaitingPasswordlessCodeScreen"}}),p()},callAuthOnSuccessOnClose:!0}}),e(sJ)},900);return()=>clearTimeout(t)}{d();let e=setTimeout(()=>o({shouldCallAuthOnSuccess:!0,isSuccess:!0}),nf);return()=>clearTimeout(e)}}},[f,y,g]),(0,ei.useEffect)(()=>{if(b&&0===x){let e=setTimeout(()=>{v(null),E(null);let e=document.querySelector("input[name=code-0]");e?.focus()},1400);return()=>clearTimeout(e)}},[b,x]),(0,ri.jsx)(U2,{contactMethod:S,authFlow:0===C?"email":"sms",appName:s?.name,whatsAppEnabled:m,onBack:()=>n(),onCodeSubmit:async n=>{try{await u(n),w(!0)}catch(n){if(n instanceof Od&&n.privyErrorCode===Ld.INVALID_CREDENTIALS)v("Invalid or expired verification code"),E(0);else if(n instanceof Od&&n.privyErrorCode===Ld.CANNOT_LINK_MORE_OF_TYPE)v(n.message);else{if(n instanceof Od&&n.privyErrorCode===Ld.USER_LIMIT_REACHED)return console.error(new Fd(n).toString()),void e(hQ);if(n instanceof Od&&n.privyErrorCode===Ld.USER_DOES_NOT_EXIST)return void e(_Y);if(n instanceof Od&&n.privyErrorCode===Ld.LINKED_TO_ANOTHER_USER)return r({errorModalData:{error:n,previousScreen:t??V2}}),void e(zY,!1);if(n instanceof Od&&n.privyErrorCode===Ld.DISALLOWED_PLUS_EMAIL)return r({inlineError:{error:n}}),void e(B2,!1);if(n instanceof Od&&n.privyErrorCode===Ld.ACCOUNT_TRANSFER_REQUIRED&&n.data?.data?.nonce)return r({accountTransfer:{nonce:n.data?.data?.nonce,account:S,displayName:n.data?.data?.account?.displayName,linkMethod:0===C?"email":"sms",embeddedWalletAddress:n.data?.data?.otherUser?.embeddedWalletAddress}}),void e(tJ);v("Issue verifying code"),E(0)}}},onResend:async()=>{_(30),0===C?await a():await c()},errorMessage:b||void 0,success:y,resendCountdown:k,onInvalidInput:e=>{v(e),E(1)},onClearError:()=>{1===x&&(v(null),E(null))}})}};let K2=Ay.div.withConfig({displayName:"PasswordlessCodeContainer",componentId:"sc-63a7dae3-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:auto;gap:16px;flex-grow:1;width:100%;"]),G2=Ay.div.withConfig({displayName:"CodeInput",componentId:"sc-63a7dae3-1"})(["display:flex;flex-direction:column;width:100%;gap:12px;> div:first-child{display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-sm);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-sm);padding:8px 10px;height:48px;width:40px;text-align:center;font-size:18px;font-weight:600;color:var(--privy-color-foreground);transition:all 0.2s ease;}> input:focus{border:1px solid var(--privy-color-foreground);box-shadow:0 0 0 1px var(--privy-color-foreground);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-border-success);background:var(--privy-color-success-bg);}> input.fail{border:1px solid var(--privy-color-border-error);background:var(--privy-color-error-bg);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),Z2=Ay.div.withConfig({displayName:"InputHelp",componentId:"sc-63a7dae3-2"})(["line-height:20px;min-height:20px;font-size:14px;font-weight:400;color:",";display:flex;justify-content:center;width:100%;text-align:center;"],e=>e.$success?"var(--privy-color-success-dark)":e.$fail?"var(--privy-color-error-dark)":"transparent"),Y2=Ay.div.withConfig({displayName:"HelpTextContainer",componentId:"sc-63a7dae3-3"})(["display:flex;gap:8px;align-items:center;justify-content:center;width:100%;color:var(--privy-color-foreground-2);"]),J2=Ay.div.withConfig({displayName:"Badge",componentId:"sc-63a7dae3-4"})(["display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-sm);padding:2px 8px;gap:4px;background:var(--privy-color-background-2);color:var(--privy-color-foreground-2);"]),Q2=Ay.span.withConfig({displayName:"BoldWrappingSpan",componentId:"sc-63a7dae3-5"})(["font-weight:500;word-break:break-all;color:var(--privy-color-foreground);"]);const X2=(0,ei.forwardRef)((e,t)=>{let[n,r]=(0,ei.useState)(e.defaultValue||""),[i,s]=(0,ei.useState)(""),[o,a]=(0,ei.useState)(!1),{authenticated:c}=eV(),{initLoginWithEmail:l}=Jd(),{navigate:u,setModalData:d,currentScreen:h,data:f}=QH(),{enabled:p,token:g}=Dq(),[m,y]=(0,ei.useState)(!1),{accountType:w}=uY(),b=Mf();(0,ei.useEffect)(()=>{!n&&b.disablePlusEmails&&f?.inlineError?.error instanceof Pd&&f?.inlineError?.error.privyErrorCode===Ld.DISALLOWED_PLUS_EMAIL&&!i&&s("Please enter a valid email address without a '+'."),i&&s("")},[n]);let v=Iq(n),x=o||!v,E=()=>{d({login:f?.login,inlineError:void 0}),!p||g||c?(e=>{a(!0),l({email:n,captchaToken:e,disableSignup:f?.login?.disableSignup,withPrivyUi:!0}).then(()=>{u(V2)}).catch(e=>{d({errorModalData:{error:e,previousScreen:h||a3}}),u(zY)}).finally(()=>{a(!1)})})(g):(d({captchaModalData:{callback:e=>l({email:n,captchaToken:e,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:V2,onErrorNavigateTo:zY}}),u(iQ))};return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsxs)(e3,{children:[i&&(0,ri.jsx)(_J,{style:{display:"block",marginTop:"0.25rem",textAlign:"left"},children:i}),(0,ri.jsxs)(t3,{stacked:e.stacked,$error:!!i,children:[(0,ri.jsx)(n3,{children:(0,ri.jsx)(bh,{})}),(0,ri.jsx)("input",{ref:t,id:"email-input",className:"login-method-button",type:"email",placeholder:"your@email.com",onFocus:()=>y(!0),onChange:e=>r(e.target.value),onKeyUp:e=>{"Enter"===e.key&&E()},value:n,autoComplete:"email"}),"email"!==w||m?e.stacked?(0,ri.jsx)("span",{}):(0,ri.jsx)($V,{isSubmitting:o,onClick:E,disabled:x,children:"Submit"}):(0,ri.jsx)(y0,{color:"gray",children:"Recent"})]})]}),e.stacked?(0,ri.jsx)(IV,{loadingText:null,loading:o,disabled:x,onClick:E,style:{width:"100%"},children:"Submit"}):null]})});let e3=AJ,t3=IJ,n3=Ay(cV).withConfig({displayName:"StyledLoginMethodIconWrapper",componentId:"sc-e33d938a-0"})(["display:inline-flex;"]);const r3=({isEditable:e,setIsEditable:t,defaultValue:n})=>{let r=(0,ei.useRef)(null);return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(lV,{$if:!e,children:(0,ri.jsx)(X2,{ref:r,defaultValue:n})}),(0,ri.jsx)(lV,{$if:e,children:(0,ri.jsxs)(aV,{onClick:()=>{t(),setTimeout(()=>{r.current?.focus()},0)},children:[(0,ri.jsx)(cV,{children:(0,ri.jsx)(bh,{})}),"Continue with Email"]})})]})},i3=({connectOnly:e})=>{let{closePrivyModal:t,connectors:n}=Jd(),{onUserCloseViaDialogOrKeybindRef:r,data:i}=QH(),s=Mf(),{appearance:{palette:{colorScheme:o}}}=Mf(),{accountType:a,walletClientType:c,chainType:l}=uY(),u=(0,ei.useMemo)(()=>a&&"guest"!==a&&"authorization_key"!==a&&"cross_app"!==a?iY(a):null,[a]),d=s.loginMethodsAndOrder?.primary??[],h=s.loginMethodsAndOrder?.overflow??[],f=(0,ei.useMemo)(()=>[...d,...h],[d,h]),p=s.loginMethods.passkey,g=i?.login,m=[];c&&f.includes(c)?m.push(c):a&&f.includes(u?.loginMethod)&&m.push(u?.loginMethod);let[y,w]=(0,ei.useState)("default"),[b,v]=(0,ei.useState)(L2({mostRecentlyUsedAccountType:a,smsAvailable:f.includes("sms"),emailAvailable:f.includes("email"),prefilledType:g?.prefill?.type}));(0,ei.useEffect)(()=>{v(L2({mostRecentlyUsedAccountType:a,smsAvailable:f.includes("sms"),emailAvailable:f.includes("email"),prefilledType:g?.prefill?.type}))},[f,a]),(0,ei.useEffect)(()=>{"phone"===a&&v("sms");let e=f.indexOf("sms"),t=f.indexOf("email");e>-1&&e<t&&v("sms")},[a,d,h]);let x=()=>{t({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{w("default")},150)};r.current=x;let E=t=>"email"===t?(0,ri.jsx)(r3,{isEditable:"email"===b,setIsEditable:()=>{v("email")},defaultValue:"email"===g?.prefill?.type?g.prefill.value:void 0},t):"sms"===t?(0,ri.jsx)(x2,{isEditable:"sms"===b,setIsEditable:()=>{v("sms")},defaultValue:"phone"===g?.prefill?.type?g.prefill.value:void 0},t):"apple"===t?(0,ri.jsx)(k2,{provider:"apple"},t):"discord"===t?(0,ri.jsx)(k2,{provider:"discord"},t):"farcaster"===t?(0,ri.jsx)(l2,{},t):"github"===t?(0,ri.jsx)(k2,{provider:"github"},t):"google"===t?(0,ri.jsx)(k2,{provider:"google"},t):"linkedin"===t?(0,ri.jsx)(k2,{provider:"linkedin"},t):"spotify"===t?(0,ri.jsx)(k2,{provider:"spotify"},t):"instagram"===t?(0,ri.jsx)(k2,{provider:"instagram"},t):"tiktok"===t?(0,ri.jsx)(k2,{provider:"tiktok"},t):"line"===t?(0,ri.jsx)(k2,{provider:"line"},t):"twitch"===t?(0,ri.jsx)(k2,{provider:"twitch"},t):"twitter"===t?(0,ri.jsx)(k2,{provider:"twitter"},t):"telegram"===t?(0,ri.jsx)(A2,{},t):t.startsWith("privy:")?(0,ri.jsx)(gY,{appId:t.replace("privy:","")},t):F0({walletList:s.appearance.walletList,walletChainType:g?.walletChainType??s.appearance.walletChainType,connectors:n,connectOnly:e,ignore:f,walletConnectEnabled:s.externalWallets.walletConnect.enabled,forceWallet:{wallet:t,chainType:l??"ethereum"}}),k=m.flatMap(E),_=d.filter(e=>e!==c&&e!==u?.loginMethod).flatMap(E),C=h.filter(e=>e!==c&&e!==u?.loginMethod).flatMap(E),[S,I]=((e,t)=>{let n=[],r=[];for(let[i,s]of e.entries())i<t?n.push(s):r.push(s);return[n,r]})([...k,..._,...C],s3({primary:_.length+k.length,overflow:C.length}));return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{title:s.appearance.landingHeader,onClose:x,backFn:"default"===y?void 0:()=>{w("default")}}),"default"===y&&(0,ri.jsx)(o3,{}),"default"===y&&("string"==typeof s.appearance.loginMessage?(0,ri.jsx)(oV,{children:s.appearance.loginMessage}):s.appearance.loginMessage),(0,ri.jsx)(nV,{style:{overflow:"hidden"},children:(0,ri.jsxs)(iV,{$colorScheme:o,children:["default"===y&&(0,ri.jsxs)(ri.Fragment,{children:[S,I.length>0&&(0,ri.jsx)(P2,{text:"More options",icon:(0,ri.jsx)(Fp,{}),onClick:()=>w("overflow")})]}),"overflow"===y&&(0,ri.jsx)(ri.Fragment,{children:I}),p&&"default"===y&&(0,ri.jsx)(m2,{})]})}),s&&(0,ri.jsx)(pV,{app:s}),(0,ri.jsx)(gV,{})]})};let s3=({primary:e,overflow:t})=>e<5?e:5===e&&0===t?5:4,o3=Ay(hY).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-7cdadd41-0"})(["margin-bottom:16px;"]);const a3={component:()=>{let e=Mf();return e.loginMethodsAndOrder&&e.loginMethodsAndOrder.primary.length>0?(0,ri.jsx)(i3,{connectOnly:!1}):(0,ri.jsx)(O2,{connectOnly:!1})},isCaptchaRequired:!0,isUnauthenticatedScreem:!0},c3={component:()=>{let[e,t]=(0,ei.useState)(null),[n,r]=(0,ei.useState)(!1),[i,s]=(0,ei.useState)(null),[o,a]=(0,ei.useState)(""),{authenticated:c,user:l}=eV(),{client:u,walletProxy:d,refreshSessionAndUser:h,closePrivyModal:f,createAnalyticsEvent:p}=Jd(),{navigate:g,data:m,onUserCloseViaDialogOrKeybindRef:y}=QH(),w=Mf(),{onSuccess:b,onFailure:v}=m.setWalletPassword,x=rH(l),E="user-passcode"===e?.recoveryMethod,k="user-passcode"===x?.recoveryMethod;(0,ei.useEffect)(()=>{c||(g(a3),v(new Dd("User must be authenticated before setting a password on a Privy wallet")))},[c]);let _=()=>i?(v(i),void f({shouldCallAuthOnSuccess:!1})):E?(b(e),void f({shouldCallAuthOnSuccess:!1})):(v(new Ud("Exited before password was added to wallet")),void f({shouldCallAuthOnSuccess:!1}));return y.current=_,(0,ri.jsx)(nY,{appName:w?.name||"privy",config:{initiatedBy:"user",onCancel:_},error:i?"An error has occurred, please try again.":void 0,buttonLoading:n,buttonHideAnimations:!1,password:o,isResettingPassword:k,onPasswordGenerate:()=>a(KZ()),onPasswordChange:a,onSubmit:async()=>{E?(b(e),f({shouldCallAuthOnSuccess:!1})):(r(!0),s(null),await(async()=>{let e=await u.getAccessToken();if(e&&l&&x?.address&&o&&d)try{p({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:x.address,existingRecoveryMethod:x.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:k}});let{entropyId:n,entropyIdVerifier:r}=oH(l);if(!(await d.setRecovery({accessToken:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:o,recoveryMethod:"user-passcode"})).entropyId)return s(new Ud("Error setting password on privy wallet")),void p({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:x.address,existingRecoveryMethod:x.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:k,reason:"error setting password"}});let i=await h(),a=rH(i);if(!a)return s(new Ud("Error setting password on privy wallet")),void p({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:x.address,existingRecoveryMethod:x.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:k,reason:"wallet disconnected"}});t(a),p({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:x.address,existingRecoveryMethod:x.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:k}})}catch(e){console.warn(e),s(e instanceof Error?e:Error("Error setting password on privy wallet")),p({eventName:"embedded_wallet_set_password_failed",payload:{walletAddress:x.address,reason:e}})}})(),r(!1))},onClose:_})}},l3=({onClose:e,onProceed:t})=>(0,ri.jsx)(bK,{title:"Secure Your Account",subtitle:(0,ri.jsxs)(ri.Fragment,{children:["Please set a password to secure your account.",(0,ri.jsx)("br",{}),"Losing access to this password and this device will make your account inaccessible."]}),icon:lh,primaryCta:{label:"Add password",onClick:t},onClose:e,watermark:!0}),u3={component:()=>{let{closePrivyModal:e}=Jd(),{data:t,navigate:n,onUserCloseViaDialogOrKeybindRef:r}=QH(),{onFailure:i}=t.setWalletPassword,s=()=>{i(new Ud("Exited before password was added to wallet")),e({shouldCallAuthOnSuccess:!1})};return r.current=s,(0,ri.jsx)(l3,{onClose:s,onProceed:()=>{n(c3)}})}},d3={component:()=>{let[e,t]=(0,ei.useState)(!0),{authenticated:n,user:r}=eV(),{walletProxy:i,closePrivyModal:s,createAnalyticsEvent:o,client:a}=Jd(),{navigate:c,data:l,onUserCloseViaDialogOrKeybindRef:u}=QH(),[d,h]=(0,ei.useState)(void 0),[f,p]=(0,ei.useState)(""),[g,m]=(0,ei.useState)(!1),{entropyId:y,entropyIdVerifier:w,onCompleteNavigateTo:b,onSuccess:v,onFailure:x}=l.recoverWallet,E=(e="User exited before their wallet could be recovered")=>{s({shouldCallAuthOnSuccess:!1}),x("string"==typeof e?new Ud(e):e)};return u.current=E,(0,ei.useEffect)(()=>{if(!n)return E("User must be authenticated and have a Privy wallet before it can be recovered")},[n]),(0,ri.jsxs)(hK,{children:[(0,ri.jsx)(hK.Header,{icon:zW,title:"Enter your password",subtitle:"Please provision your account on this new device. To continue, enter your recovery password.",showClose:!0,onClose:E}),(0,ri.jsx)(hK.Body,{children:(0,ri.jsx)(h3,{children:(0,ri.jsxs)("div",{children:[(0,ri.jsxs)(xZ,{children:[(0,ri.jsx)(bZ,{type:e?"password":"text",onChange:e=>(e=>{e&&h(e)})(e.target.value),disabled:g,style:{paddingRight:"2.3rem"}}),(0,ri.jsx)(SZ,{style:{right:"0.75rem"},children:e?(0,ri.jsx)(AZ,{onClick:()=>t(!1)}):(0,ri.jsx)(TZ,{onClick:()=>t(!0)})})]}),!!f&&(0,ri.jsx)(f3,{children:f})]})})}),(0,ri.jsxs)(hK.Footer,{children:[(0,ri.jsx)(hK.HelpText,{children:(0,ri.jsxs)(eG,{children:[(0,ri.jsx)("h4",{children:"Why is this necessary?"}),(0,ri.jsx)("p",{children:"You previously set a password for this wallet. This helps ensure only you can access it"})]})}),(0,ri.jsx)(hK.Actions,{children:(0,ri.jsx)(p3,{loading:g||!i,disabled:!d,onClick:async()=>{m(!0);let e=await a.getAccessToken(),t=tH(r,y);if(!e||!t||null===d)return E("User must be authenticated and have a Privy wallet before it can be recovered");try{o({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:t.address}}),await(i?.recover({accessToken:e,entropyId:y,entropyIdVerifier:w,recoveryPassword:d})),p(""),b?c(b):s({shouldCallAuthOnSuccess:!1}),v?.(t),o({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:t.address}})}catch(e){!function(e){return BG(e)&&("invalid_recovery_pin"===e.type||"invalid_request_arguments"===e.type)}(e)?p("An error has occurred, please try again."):p("Invalid recovery password, please try again.")}finally{m(!1)}},$hideAnimations:!y&&g,children:"Recover your account"})}),(0,ri.jsx)(hK.Watermark,{})]})]})}};let h3=Ay.div.withConfig({displayName:"Content",componentId:"sc-f366413c-0"})(["display:flex;flex-direction:column;gap:1.5rem;"]),f3=Ay.div.withConfig({displayName:"ErrorMessage",componentId:"sc-f366413c-1"})(["line-height:20px;height:20px;font-size:13px;color:var(--privy-color-error);text-align:left;margin-top:0.5rem;"]),p3=Ay(IV).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-f366413c-2"})(["",""],({$hideAnimations:e})=>e&&Cy(["&&{transition:none;}"]));const g3={component:()=>{let{navigate:e,data:t,onUserCloseViaDialogOrKeybindRef:n}=QH(),r=Mf(),[i,s]=(0,ei.useState)(""),[o,a]=(0,ei.useState)(!1),[c,l]=(0,ei.useState)(),[u,d]=(0,ei.useState)(null),{create:h}=rZ(),{authenticated:f,user:p}=eV(),{closePrivyModal:g,isNewUserThisSession:m,initializeWalletProxy:y}=Jd(),{onSuccess:w,onFailure:b,callAuthOnSuccessOnClose:v,shouldCreateEth:x,shouldCreateSol:E}=t.createWallet,[k,_]=(0,ei.useState)(null),C=new eq(async()=>{try{let t;if(x&&E)t=await h({recoveryMethod:"user-passcode",recoveryPassword:c,chainType:"ethereum",walletIndex:0,latestUser:p}),t=await h({chainType:"solana",walletIndex:0,latestUser:t.user});else if(E)t=await h({recoveryMethod:"user-passcode",recoveryPassword:c,chainType:"solana",walletIndex:0,latestUser:p});else{if(!x)throw Error("Invalid args to create wallet");t=await h({recoveryMethod:"user-passcode",recoveryPassword:c,chainType:"ethereum",walletIndex:0,latestUser:p})}_(t),m?e(sZ):(w(t),g({shouldCallAuthOnSuccess:v}))}catch(e){s(e.message)}});return(0,ei.useEffect)(()=>{u||y(3e4).then(e=>d(e))},[u]),(0,ei.useEffect)(()=>{if(!f||!p)return e(a3),void b(Error("User must be authenticated before creating a Privy wallet"))},[f]),n.current=()=>null,(0,ri.jsx)(nY,{config:{initiatedBy:"automatic"},appName:r?.name||"privy",loading:!u,buttonLoading:o,buttonHideAnimations:!k&&o,isResettingPassword:!1,error:i,password:c||"",onClose:()=>{k&&"user-passcode"!==k.account.recoveryMethod?(b(new Ud("User created a wallet but failed to set a password for it")),g({shouldCallAuthOnSuccess:!1})):k?(w(k),g({shouldCallAuthOnSuccess:v})):(b(new Ud("User wallet creation failed")),g({shouldCallAuthOnSuccess:!1}))},onPasswordChange:l,onPasswordGenerate:()=>l(KZ()),onSubmit:async()=>(a(!0),C.execute().then(()=>new Promise(e=>setTimeout(e,250))).finally(()=>a(!1)))})}},m3=Ay.div.withConfig({displayName:"WithCircleBorder",componentId:"sc-e4fc5563-0"})(["&&{border-width:4px;}display:flex;justify-content:center;align-items:center;padding:1rem;aspect-ratio:1;border-style:solid;border-color:",";border-radius:50%;"],e=>e.$color??"var(--privy-color-accent)"),y3={component:()=>{let{user:e}=eV(),{client:t,walletProxy:n,refreshSessionAndUser:r,closePrivyModal:i}=Jd(),s=QH(),{entropyId:o,entropyIdVerifier:a}=s.data?.recoverWallet,[c,l]=(0,ei.useState)(!1),[u,d]=(0,ei.useState)(null),[h,f]=(0,ei.useState)(null);function p(){if(!c){if(h)return s.data?.setWalletPassword?.onFailure(h),void i();if(!u)return s.data?.setWalletPassword?.onFailure(Error("User exited set recovery flow")),void i()}}s.onUserCloseViaDialogOrKeybindRef.current=p;let g=!(!c&&!u);return(0,ri.jsxs)(ri.Fragment,h?{children:[(0,ri.jsx)(DV,{onClose:p},"header"),(0,ri.jsx)(m3,{$color:"var(--privy-color-error)",style:{alignSelf:"center"},children:(0,ri.jsx)(Hy,{height:38,width:38,stroke:"var(--privy-color-error)"})}),(0,ri.jsx)(EQ,{style:{marginTop:"0.5rem"},children:"Something went wrong"}),(0,ri.jsx)(tV,{style:{minHeight:"2rem"}}),(0,ri.jsx)(AV,{onClick:()=>f(null),children:"Try again"}),(0,ri.jsx)(gV,{})]}:{children:[(0,ri.jsx)(DV,{onClose:p},"header"),(0,ri.jsx)(_W,{style:{width:"3rem",height:"3rem",alignSelf:"center"}}),(0,ri.jsx)(EQ,{style:{marginTop:"0.5rem"},children:"Automatically secure your account"}),(0,ri.jsx)(xQ,{style:{marginTop:"1rem"},children:"When you log into a new device, youll only need to authenticate to access your account. Never get logged out if you forget your password."}),(0,ri.jsx)(tV,{style:{minHeight:"2rem"}}),(0,ri.jsx)(AV,{loading:c,disabled:g,onClick:()=>async function(){l(!0);try{let c=await t.getAccessToken(),l=tH(e,o);if(!c||!n||!l)return;if(!(await n.setRecovery({accessToken:c,entropyId:o,entropyIdVerifier:a,existingRecoveryMethod:l.recoveryMethod,recoveryMethod:"privy"})).entropyId)throw Error("Unable to set recovery on wallet");let u=await r();if(!u)throw Error("Unable to set recovery on wallet");let h=tH(u,l.address);if(!h)throw Error("Unabled to set recovery on wallet");d(!!u),setTimeout(()=>{s.data?.setWalletPassword?.onSuccess(h),i()},nf)}catch(e){f(e)}finally{l(!1)}}(),children:u?"Success":"Confirm"}),(0,ri.jsx)(gV,{})]})}};function w3({isCreatingWallet:e,skipSplashScreen:t}){return e?g3:t?c3:u3}function b3({walletAction:e,availableRecoveryMethods:t,legacySetWalletPasswordFlow:n,isResettingPassword:r,showAutomaticRecovery:i}){return i?y3:n||1===t.length?w3({isCreatingWallet:"create"===e,skipSplashScreen:r}):fZ}function v3(e){switch(e){case"user-passcode":return d3;case"google-drive":case"icloud":return lZ;default:throw Error("Recovery method not supported")}}const x3=({address:e,accessToken:t,appConfigTheme:n,onClose:r,isLoading:i=!1,exportButtonProps:s})=>(0,ri.jsx)(bK,{title:"Export wallet",subtitle:(0,ri.jsxs)(ri.Fragment,{children:["Copy either your private key or seed phrase to export your wallet."," ",(0,ri.jsx)("a",{href:"https://privy-io.notion.site/Transferring-your-account-9dab9e16c6034a7ab1ff7fa479b02828",target:"blank",rel:"noopener noreferrer",children:"Learn more"})]}),onClose:r,watermark:!0,children:(0,ri.jsxs)(E3,{children:[(0,ri.jsx)(mX,{theme:n,children:"Never share your private key or seed phrase with anyone."}),(0,ri.jsx)(NQ,{title:"Your wallet",address:e,showCopyButton:!0}),(0,ri.jsx)("div",{style:{width:"100%"},children:i?(0,ri.jsx)(k3,{}):t&&s&&(0,ri.jsx)(S3,{accessToken:t,dimensions:{height:"44px"},...s})})]})});let E3=Ay.div.withConfig({displayName:"ContentContainer",componentId:"sc-a47f8be6-0"})(["display:flex;flex-direction:column;gap:1.25rem;text-align:left;"]),k3=()=>(0,ri.jsx)(_3,{children:(0,ri.jsx)(C3,{children:"Loading..."})}),_3=Ay.div.withConfig({displayName:"PlaceholderContainer",componentId:"sc-a47f8be6-1"})(["display:flex;gap:12px;height:44px;"]),C3=Ay.div.withConfig({displayName:"PlaceholderButton",componentId:"sc-a47f8be6-2"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);function S3(e){let[t,n]=(0,ei.useState)(e.dimensions.width),[r,i]=(0,ei.useState)(void 0),s=(0,ei.useRef)(null);(0,ei.useEffect)(()=>{if(s.current&&void 0===t){let{width:e}=s.current.getBoundingClientRect();n(e)}let e=getComputedStyle(document.documentElement);i({background:e.getPropertyValue("--privy-color-background"),background2:e.getPropertyValue("--privy-color-background-2"),foreground3:e.getPropertyValue("--privy-color-foreground-3"),foregroundAccent:e.getPropertyValue("--privy-color-foreground-accent"),accent:e.getPropertyValue("--privy-color-accent"),accentDark:e.getPropertyValue("--privy-color-accent-dark"),success:e.getPropertyValue("--privy-color-success"),colorScheme:e.getPropertyValue("color-scheme")})},[]);let o="ethereum"===e.chainType&&!e.imported&&!e.isUnifiedWallet;return(0,ri.jsx)("div",{ref:s,children:t&&(0,ri.jsxs)(A3,{children:[(0,ri.jsx)("iframe",{style:{position:"absolute",zIndex:1},width:t,height:e.dimensions.height,allow:"clipboard-write self *",src:WW({origin:e.origin,path:`/apps/${e.appId}/embedded-wallets/export`,query:e.isUnifiedWallet?{v:"1-unified",wallet_id:e.walletId,client_id:e.appClientId,width:`${t}px`,caid:e.clientAnalyticsId,phrase_export:o,...r}:{v:"1",entropy_id:e.entropyId,entropy_id_verifier:e.entropyIdVerifier,hd_wallet_index:e.hdWalletIndex,chain_type:e.chainType,client_id:e.appClientId,width:`${t}px`,caid:e.clientAnalyticsId,phrase_export:o,...r},hash:{token:e.accessToken}})}),(0,ri.jsx)(T3,{children:"Loading..."}),o&&(0,ri.jsx)(T3,{children:"Loading..."})]})})}const I3={component:()=>{let[e,t]=(0,ei.useState)(null),{authenticated:n,user:r}=eV(),{closePrivyModal:i,createAnalyticsEvent:s,clientAnalyticsId:o,client:a}=Jd(),c=Mf(),{data:l,onUserCloseViaDialogOrKeybindRef:u}=QH(),{onFailure:d,onSuccess:h,origin:f,appId:p,appClientId:g,entropyId:m,entropyIdVerifier:y,walletId:w,hdWalletIndex:b,chainType:v,address:x,isUnifiedWallet:E,imported:k}=l.keyExport,_=e=>{i({shouldCallAuthOnSuccess:!1}),d("string"==typeof e?Error(e):e)},C=()=>{i({shouldCallAuthOnSuccess:!1}),h(),s({eventName:"embedded_wallet_key_export_completed",payload:{walletAddress:x}})};return(0,ei.useEffect)(()=>{if(!n)return _("User must be authenticated before exporting their wallet");a.getAccessToken().then(t).catch(_)},[n,r]),u.current=C,(0,ri.jsx)(x3,{address:x,accessToken:e,appConfigTheme:c.appearance.palette.colorScheme,onClose:C,isLoading:!e,exportButtonProps:e?{origin:f,appId:p,appClientId:g,clientAnalyticsId:o,entropyId:m,entropyIdVerifier:y,walletId:w,hdWalletIndex:b,isUnifiedWallet:E,imported:k,chainType:v}:void 0})}};let A3=Ay.div.withConfig({displayName:"ButtonContainer",componentId:"sc-a47f8be6-3"})(["overflow:visible;position:relative;overflow:none;height:44px;display:flex;gap:12px;"]),T3=Ay.div.withConfig({displayName:"LoadingButton",componentId:"sc-a47f8be6-4"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);const P3=({connectionFailed:e,onClose:t})=>(0,ri.jsx)(bK,e?{title:"Something went wrong",subtitle:"We're on it. Please try again later.",icon:uh,iconVariant:"error",primaryCta:{label:"Close",onClick:t},watermark:!0}:{title:"Connecting to your wallet",subtitle:"Please wait...",iconVariant:"loading",showClose:!0,onClose:t,watermark:!1}),O3={component:()=>{let{authenticated:e,user:t}=eV(),{client:n,closePrivyModal:r,createAnalyticsEvent:i,walletProxy:s}=Jd(),{navigate:o,data:a,setModalData:c,onUserCloseViaDialogOrKeybindRef:l}=QH(),u=(0,ei.useMemo)(()=>Date.now(),[]),[d,h]=(0,ei.useState)(!1),{onCompleteNavigateTo:f,onFailure:p,shouldForceMFA:g,entropyId:m,entropyIdVerifier:y,recoveryMethod:w,connectingWalletAddress:b,isUnifiedWallet:v=!1}=a?.connectWallet,x=e=>{d||(h(!0),p("string"==typeof e?Error(e):e))};return(0,ei.useEffect)(()=>{let t;return e?s?((async()=>{let e=await n.getAccessToken();if(!e)return x("User must be authenticated and have a Privy wallet before it can be connected");try{if(!v){if(!m||!y)return x("For on-device first-class chain wallets, entropyId and entropyIdVerifier are required");await s.connect({accessToken:e,entropyId:m,entropyIdVerifier:y})}g&&await s.verifyMfa({accessToken:e});let n=(Date.now()-u)/1e3;f===I3&&n<1?t=setTimeout(()=>{o(f,!1)},1e3*(1-n)):o(f,!1)}catch(e){if(UG(e)&&"privy"===w){let t=await n.getAccessToken();if(!t)return x("User must be authenticated and have a Privy wallet before it can be recovered");try{i({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:b}});let e=await(s?.recover({accessToken:t,entropyId:m,entropyIdVerifier:y}));e?.entropyId||x(Error("Unable to recover wallet")),f?o(f):r({shouldCallAuthOnSuccess:!1}),i({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:b}}),o(f)}catch(e){x("An error has occurred, please try again.")}}else UG(e)&&"privy"!==w&&"privy-v2"!==w?(c({...a,recoverWallet:{entropyId:m,entropyIdVerifier:y,onCompleteNavigateTo:f,onFailure:p},recoveryOAuthStatus:{provider:w,action:"recover",isInAccountCreateFlow:!1,shouldCreateEth:!1,shouldCreateSol:!1}}),o(v3(w))):x(e)}})(),()=>clearTimeout(t)):void 0:x("User must be authenticated and have a Privy wallet before it can be connected")},[e,t,s]),l.current=()=>{x("User exited before wallet could be connected"),r({shouldCallAuthOnSuccess:!1})},(0,ri.jsx)(P3,{connectionFailed:d,onClose:()=>r({shouldCallAuthOnSuccess:!1})})}};class j3{constructor(e,t){this.scope=e,this.module=t}storeObject(e,t){this.setItem(e,JSON.stringify(t))}loadObject(e){const t=this.getItem(e);return t?JSON.parse(t):void 0}setItem(e,t){localStorage.setItem(this.scopedKey(e),t)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),t=[];for(let n=0;n<localStorage.length;n++){const r=localStorage.key(n);"string"==typeof r&&r.startsWith(e)&&t.push(r)}t.forEach(e=>localStorage.removeItem(e))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new j3("CBWSDK").clear(),new j3("walletlink").clear()}}const N3=-32602,R3=-32603,$3=4001,M3=4100,L3=4200,B3=4900,U3={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},D3="Unspecified error message.";function F3(e,t=D3){if(e&&Number.isInteger(e)){const t=e.toString();if(q3(U3,t))return U3[t].message;if(z3(e))return"Unspecified server error."}return t}function z3(e){return e>=-32099&&e<=-32e3}function W3(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function q3(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function H3(e,t){return"object"==typeof e&&null!==e&&t in e&&"string"==typeof e[t]}const V3=e=>X3(N3,e),K3=e=>X3(R3,e),G3=e=>e5($3,e),Z3=e=>e5(M3,e),Y3=e=>e5(L3,e),J3=e=>e5(B3,e),Q3=e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:n,data:r}=e;if(!n||"string"!=typeof n)throw new Error('"message" must be a nonempty string');return new r5(t,n,r)};function X3(e,t){const[n,r]=t5(t);return new n5(e,n||F3(e),r)}function e5(e,t){const[n,r]=t5(t);return new r5(e,n||F3(e),r)}function t5(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,n]}}return[]}class n5 extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==n&&(this.data=n)}}class r5 extends n5{constructor(e,t,n){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}}function i5(e){return Math.floor(e)}var s5=o(8287).Buffer;const o5=/^[0-9]*$/,a5=/^[a-f0-9]*$/;function c5(e){return l5(crypto.getRandomValues(new Uint8Array(e)))}function l5(e){return[...e].map(e=>e.toString(16).padStart(2,"0")).join("")}function u5(e){return new Uint8Array(e.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function d5(e,t=!1){const n=e.toString("hex");return t?`0x${n}`:n}function h5(e){return d5(x5(e),!0)}function f5(e){return e.toString(10)}function p5(e){return`0x${BigInt(e).toString(16)}`}function g5(e){return e.startsWith("0x")||e.startsWith("0X")}function m5(e){return g5(e)?e.slice(2):e}function y5(e){return g5(e)?`0x${e.slice(2)}`:`0x${e}`}function w5(e){if("string"!=typeof e)return!1;const t=m5(e).toLowerCase();return a5.test(t)}function b5(e,t=!1){let n=function(e,t=!1){if("string"==typeof e){const n=m5(e).toLowerCase();if(a5.test(n))return t?`0x${n}`:n}throw V3(`"${String(e)}" is not a hexadecimal string`)}(e,!1);return n.length%2==1&&(n=`0${n}`),t?`0x${n}`:n}function v5(e){if("string"==typeof e){const t=m5(e).toLowerCase();if(w5(t)&&40===t.length)return y5(t)}throw V3(`Invalid Ethereum address: ${String(e)}`)}function x5(e){if(s5.isBuffer(e))return e;if("string"==typeof e){if(w5(e)){const t=b5(e,!1);return s5.from(t,"hex")}return s5.from(e,"utf8")}throw V3(`Not binary data: ${String(e)}`)}function E5(e){if("number"==typeof e&&Number.isInteger(e))return i5(e);if("string"==typeof e){if(o5.test(e))return i5(Number(e));if(w5(e))return i5(Number(BigInt(b5(e,!0))))}throw V3(`Not an integer: ${String(e)}`)}function k5(e){if(null!==e&&("bigint"==typeof e||function(e){if(null==e||"function"!=typeof e.constructor)return!1;const{constructor:t}=e;return"function"==typeof t.config&&"number"==typeof t.EUCLID}(e)))return BigInt(e.toString(10));if("number"==typeof e)return BigInt(E5(e));if("string"==typeof e){if(o5.test(e))return BigInt(e);if(w5(e))return BigInt(b5(e,!0))}throw V3(`Not an integer: ${String(e)}`)}function _5(e){if("string"==typeof e)return JSON.parse(e);if("object"==typeof e)return e;throw V3(`Not a JSON string or an object: ${String(e)}`)}function C5(e){switch(e){case"public":return"spki";case"private":return"pkcs8"}}async function S5(e,t){const n=C5(e),r=await crypto.subtle.exportKey(n,t);return l5(new Uint8Array(r))}async function I5(e,t){const n=C5(e),r=u5(t).buffer;return await crypto.subtle.importKey(n,new Uint8Array(r),{name:"ECDH",namedCurve:"P-256"},!0,"private"===e?["deriveKey"]:[])}const A5={storageKey:"ownPrivateKey",keyType:"private"},T5={storageKey:"ownPublicKey",keyType:"public"},P5={storageKey:"peerPublicKey",keyType:"public"};class O5{constructor(){this.storage=new j3("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(P5,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(T5.storageKey),this.storage.removeItem(A5.storageKey),this.storage.removeItem(P5.storageKey)}async generateKeyPair(){const e=await async function(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(A5,e.privateKey),await this.storeKey(T5,e.publicKey)}async loadKeysIfNeeded(){if(null===this.ownPrivateKey&&(this.ownPrivateKey=await this.loadKey(A5)),null===this.ownPublicKey&&(this.ownPublicKey=await this.loadKey(T5)),null!==this.ownPrivateKey&&null!==this.ownPublicKey||await this.generateKeyPair(),null===this.peerPublicKey&&(this.peerPublicKey=await this.loadKey(P5)),null===this.sharedSecret){if(null===this.ownPrivateKey||null===this.peerPublicKey)return;this.sharedSecret=await async function(e,t){return crypto.subtle.deriveKey({name:"ECDH",public:t},e,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const t=this.storage.getItem(e.storageKey);return t?I5(e.keyType,t):null}async storeKey(e,t){const n=await S5(e.keyType,t);this.storage.setItem(e.storageKey,n)}}const j5="4.3.2",N5="@coinbase/wallet-sdk";async function R5(e,t){const n=Object.assign(Object.assign({},e),{jsonrpc:"2.0",id:crypto.randomUUID()}),r=await window.fetch(t,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":j5,"X-Cbw-Sdk-Platform":N5}}),{result:i,error:s}=await r.json();if(s)throw s;return i}const $5="accounts",M5="activeChain",L5="availableChains",B5="walletCapabilities";class U5{constructor(e){var t,n,r;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new O5,this.storage=new j3("CBWSDK","SCWStateManager"),this.accounts=null!==(t=this.storage.loadObject($5))&&void 0!==t?t:[],this.chain=this.storage.loadObject(M5)||{id:null!==(r=null===(n=e.metadata.appChainIds)||void 0===n?void 0:n[0])&&void 0!==r?r:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var t,n,r,i;await(null===(n=(t=this.communicator).waitForPopupLoaded)||void 0===n?void 0:n.call(t));const s=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,null!==(r=e.params)&&void 0!==r?r:{})}}),o=await this.communicator.postRequestAndWaitForResponse(s);if("failure"in o.content)throw o.content.failure;const a=await I5("public",o.sender);await this.keyManager.setPeerPublicKey(a);const c=(await this.decryptResponseMessage(o)).result;if("error"in c)throw c.error;switch(e.method){case"eth_requestAccounts":{const e=c.value;this.accounts=e,this.storage.storeObject($5,e),null===(i=this.callback)||void 0===i||i.call(this,"accountsChanged",e);break}}}async request(e){var t;if(0===this.accounts.length){if("wallet_sendCalls"===e.method)return this.sendRequestToPopup(e);throw Z3()}switch(e.method){case"eth_requestAccounts":return null===(t=this.callback)||void 0===t||t.call(this,"connect",{chainId:p5(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return p5(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(B5);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw K3("No RPC URL set for chain");return R5(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var t,n;await(null===(n=(t=this.communicator).waitForPopupLoaded)||void 0===n?void 0:n.call(t));const r=await this.sendEncryptedRequest(e),i=(await this.decryptResponseMessage(r)).result;if("error"in i)throw i.error;return i.value}async cleanup(){var e,t;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:null!==(t=null===(e=this.metadata.appChainIds)||void 0===e?void 0:e[0])&&void 0!==t?t:1}}async handleSwitchChainRequest(e){var t;const n=e.params;if(!n||!(null===(t=n[0])||void 0===t?void 0:t.chainId))throw V3();const r=E5(n[0].chainId);if(this.updateChain(r))return null;const i=await this.sendRequestToPopup(e);return null===i&&this.updateChain(r),i}async sendEncryptedRequest(e){const t=await this.keyManager.getSharedSecret();if(!t)throw Z3("No valid session found, try requestAccounts before other methods");const n=await async function(e,t){return async function(e,t){const n=crypto.getRandomValues(new Uint8Array(12));return{iv:n,cipherText:await crypto.subtle.encrypt({name:"AES-GCM",iv:n},e,(new TextEncoder).encode(t))}}(t,JSON.stringify(e,(e,t)=>{if(!(t instanceof Error))return t;const n=t;return Object.assign(Object.assign({},n.code?{code:n.code}:{}),{message:n.message})}))}({action:e,chainId:this.chain.id},t),r=await this.createRequestMessage({encrypted:n});return this.communicator.postRequestAndWaitForResponse(r)}async createRequestMessage(e){const t=await S5("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:t,content:e,timestamp:new Date}}async decryptResponseMessage(e){var t,n;const r=e.content;if("failure"in r)throw r.failure;const i=await this.keyManager.getSharedSecret();if(!i)throw Z3("Invalid session");const s=await async function(e,t){return JSON.parse(await async function(e,{iv:t,cipherText:n}){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,n);return(new TextDecoder).decode(r)}(t,e))}(r.encrypted,i),o=null===(t=s.data)||void 0===t?void 0:t.chains;if(o){const e=Object.entries(o).map(([e,t])=>({id:Number(e),rpcUrl:t}));this.storage.storeObject(L5,e),this.updateChain(this.chain.id,e)}const a=null===(n=s.data)||void 0===n?void 0:n.capabilities;return a&&this.storage.storeObject(B5,a),s}updateChain(e,t){var n;const r=null!=t?t:this.storage.loadObject(L5),i=null==r?void 0:r.find(t=>t.id===e);return!!i&&(i!==this.chain&&(this.chain=i,this.storage.storeObject(M5,i),null===(n=this.callback)||void 0===n||n.call(this,"chainChanged",p5(i.id))),!0)}}var D5=o(6532);const F5="Addresses";function z5(e){return void 0!==e.errorMessage}class W5{constructor(e){this.secret=e}async encrypt(e){const t=this.secret;if(64!==t.length)throw Error("secret must be 256 bits");const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.importKey("raw",u5(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},r,i.encode(e)),o=s.slice(s.byteLength-16),a=s.slice(0,s.byteLength-16),c=new Uint8Array(o),l=new Uint8Array(a);return l5(new Uint8Array([...n,...c,...l]))}async decrypt(e){const t=this.secret;if(64!==t.length)throw Error("secret must be 256 bits");return new Promise((n,r)=>{!async function(){const i=await crypto.subtle.importKey("raw",u5(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=u5(e),o=s.slice(0,12),a=s.slice(12,28),c=s.slice(28),l=new Uint8Array([...c,...a]),u={name:"AES-GCM",iv:new Uint8Array(o)};try{const e=await window.crypto.subtle.decrypt(u,i,l),t=new TextDecoder;n(t.decode(e))}catch(e){r(e)}}()})}}class q5{constructor(e,t,n){this.linkAPIUrl=e,this.sessionId=t;const r=`${t}:${n}`;this.auth=`Basic ${btoa(r)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(e=>fetch(`${this.linkAPIUrl}/events/${e.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(e=>console.error("Unabled to mark event as failed:",e))}async fetchUnseenEvents(){var e;const t=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(t.ok){const{events:n,error:r}=await t.json();if(r)throw new Error(`Check unseen events failed: ${r}`);const i=null!==(e=null==n?void 0:n.filter(e=>"Web3Response"===e.event).map(e=>({type:"Event",sessionId:this.sessionId,eventId:e.id,event:e.event,data:e.data})))&&void 0!==e?e:[];return this.markUnseenEventsAsSeen(i),i}throw new Error(`Check unseen events failed: ${t.status}`)}}var H5;!function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED"}(H5||(H5={}));class V5{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,t=WebSocket){this.WebSocketClass=t,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,t)=>{var n;let r;try{this.webSocket=r=new this.WebSocketClass(this.url)}catch(e){return void t(e)}null===(n=this.connectionStateListener)||void 0===n||n.call(this,H5.CONNECTING),r.onclose=e=>{var n;this.clearWebSocket(),t(new Error(`websocket error ${e.code}: ${e.reason}`)),null===(n=this.connectionStateListener)||void 0===n||n.call(this,H5.DISCONNECTED)},r.onopen=t=>{var n;e(),null===(n=this.connectionStateListener)||void 0===n||n.call(this,H5.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(e=>this.sendData(e)),this.pendingData=[])},r.onmessage=e=>{var t,n;if("h"===e.data)null===(t=this.incomingDataListener)||void 0===t||t.call(this,{type:"Heartbeat"});else try{const t=JSON.parse(e.data);null===(n=this.incomingDataListener)||void 0===n||n.call(this,t)}catch(e){}}})}disconnect(){var e;const{webSocket:t}=this;if(t){this.clearWebSocket(),null===(e=this.connectionStateListener)||void 0===e||e.call(this,H5.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{t.close()}catch(e){}}}sendData(e){const{webSocket:t}=this;if(!t)return this.pendingData.push(e),void this.connect();t.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}class K5{constructor({session:e,linkAPIUrl:t,listener:n}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=i5(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=e=>{e&&new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",t=>e.JsonRpcUrl&&this.handleChainUpdated(t,e.JsonRpcUrl)]]).forEach((t,n)=>{const r=e[n];void 0!==r&&t(r)})},this.handleDestroyed=e=>{var t;"1"===e&&(null===(t=this.listener)||void 0===t||t.resetAndReload())},this.handleAccountUpdated=async e=>{var t;const n=await this.cipher.decrypt(e);null===(t=this.listener)||void 0===t||t.accountUpdated(n)},this.handleMetadataUpdated=async(e,t)=>{var n;const r=await this.cipher.decrypt(t);null===(n=this.listener)||void 0===n||n.metadataUpdated(e,r)},this.handleWalletUsernameUpdated=async e=>{this.handleMetadataUpdated("walletUsername",e)},this.handleAppVersionUpdated=async e=>{this.handleMetadataUpdated("AppVersion",e)},this.handleChainUpdated=async(e,t)=>{var n;const r=await this.cipher.decrypt(e),i=await this.cipher.decrypt(t);null===(n=this.listener)||void 0===n||n.chainUpdated(r,i)},this.session=e,this.cipher=new W5(e.secret),this.listener=n;const r=new V5(`${t}/rpc`,WebSocket);r.setConnectionStateListener(async e=>{let t=!1;switch(e){case H5.DISCONNECTED:if(!this.destroyed){const e=async()=>{await new Promise(e=>setTimeout(e,5e3)),this.destroyed||r.connect().catch(()=>{e()})};e()}break;case H5.CONNECTED:t=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},1e4),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();case H5.CONNECTING:}this.connected!==t&&(this.connected=t)}),r.setIncomingDataListener(e=>{var t;switch(e.type){case"Heartbeat":return void this.updateLastHeartbeat();case"IsLinkedOK":case"Linked":{const t="IsLinkedOK"===e.type?e.linked:void 0;this.linked=t||e.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":this.handleSessionMetadataUpdated(e.metadata);break;case"Event":this.handleIncomingEvent(e)}void 0!==e.id&&(null===(t=this.requestResolutions.get(e.id))||void 0===t||t(e))}),this.ws=r,this.http=new q5(t,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:i5(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var t,n;this._linked=e,e&&(null===(t=this.onceLinked)||void 0===t||t.call(this)),null===(n=this.listener)||void 0===n||n.linkedUpdated(e)}setOnceLinked(e){return new Promise(t=>{this.linked?e().then(t):this.onceLinked=()=>{e().then(t),this.onceLinked=void 0}})}async handleIncomingEvent(e){var t;if("Event"!==e.type||"Web3Response"!==e.event)return;const n=await this.cipher.decrypt(e.data),r=JSON.parse(n);if("WEB3_RESPONSE"!==r.type)return;const{id:i,response:s}=r;null===(t=this.listener)||void 0===t||t.handleWeb3ResponseMessage(i,s)}async checkUnseenEvents(){if(this.connected){await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}else this.shouldFetchUnseenEventsOnConnect=!0}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(e=>this.handleIncomingEvent(e))}async publishEvent(e,t,n=!1){const r=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},t),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),i={type:"PublishEvent",id:i5(this.nextReqId++),sessionId:this.session.id,event:e,data:r,callWebhook:n};return this.setOnceLinked(async()=>{const e=await this.makeRequest(i);if("Fail"===e.type)throw new Error(e.error||"failed to publish event");return e.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>2e4)this.ws.disconnect();else try{this.ws.sendData("h")}catch(e){}}async makeRequest(e,t={timeout:6e4}){const n=e.id;let r;return this.sendData(e),Promise.race([new Promise((e,i)=>{r=window.setTimeout(()=>{i(new Error(`request ${n} timed out`))},t.timeout)}),new Promise(e=>{this.requestResolutions.set(n,t=>{clearTimeout(r),e(t),this.requestResolutions.delete(n)})})])}async handleConnected(){return"Fail"!==(await this.makeRequest({type:"HostSession",id:i5(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type&&(this.sendData({type:"IsLinked",id:i5(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:i5(this.nextReqId++),sessionId:this.session.id}),!0)}}class G5{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,t=y5(e.toString(16));return this.callbacks.get(t)&&this.callbacks.delete(t),e}}var Z5=o(8226);const Y5="session:id",J5="session:secret",Q5="session:linked";class X5{constructor(e,t,n,r=!1){this.storage=e,this.id=t,this.secret=n,this.key=(0,bb.My)((0,Z5.sc)(`${t}, ${n} WalletLink`)),this._linked=!!r}static create(e){const t=c5(16),n=c5(32);return new X5(e,t,n).save()}static load(e){const t=e.getItem(Y5),n=e.getItem(Q5),r=e.getItem(J5);return t&&r?new X5(e,t,r,"1"===n):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(Y5,this.id),this.storage.setItem(J5,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(Q5,this._linked?"1":"0")}}function e6(){var e,t;return null!==(t=null===(e=null===window||void 0===window?void 0:window.matchMedia)||void 0===e?void 0:e.call(window,"(prefers-color-scheme: dark)").matches)&&void 0!==t&&t}function t6(){const e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode('@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}')),document.documentElement.appendChild(e)}var n6=o(53),r6=o(172),i6=o(5994);class s6{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=e6()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const t=this.nextItemKey++;return this.items.set(t,e),this.render(),()=>{this.items.delete(t),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,r6.XX)((0,r6.h)("div",null,(0,r6.h)(o6,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,t])=>(0,r6.h)(a6,Object.assign({},t,{key:e}))))),this.root)}}const o6=e=>(0,r6.h)("div",{class:(0,n6.$)("-cbwsdk-snackbar-container")},(0,r6.h)("style",null,".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}"),(0,r6.h)("div",{class:"-cbwsdk-snackbar"},e.children)),a6=({autoExpand:e,message:t,menuItems:n})=>{const[r,i]=(0,i6.J0)(!0),[s,o]=(0,i6.J0)(null!=e&&e);return(0,i6.vJ)(()=>{const e=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{o(!0)},1e4)];return()=>{e.forEach(window.clearTimeout)}}),(0,r6.h)("div",{class:(0,n6.$)("-cbwsdk-snackbar-instance",r&&"-cbwsdk-snackbar-instance-hidden",s&&"-cbwsdk-snackbar-instance-expanded")},(0,r6.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:()=>{o(!s)}},(0,r6.h)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,r6.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},t),(0,r6.h)("div",{class:"-gear-container"},!s&&(0,r6.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r6.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,r6.h)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=",class:"-gear-icon",title:"Expand"}))),n&&n.length>0&&(0,r6.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},n.map((e,t)=>(0,r6.h)("div",{class:(0,n6.$)("-cbwsdk-snackbar-instance-menu-item",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:e.onClick,key:t},(0,r6.h)("svg",{width:e.svgWidth,height:e.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r6.h)("path",{"fill-rule":e.defaultFillRule,"clip-rule":e.defaultClipRule,d:e.path,fill:"#AAAAAA"})),(0,r6.h)("span",{class:(0,n6.$)("-cbwsdk-snackbar-instance-menu-item-info",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},e.info)))))},c6="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class l6{constructor(){this.attached=!1,this.snackbar=new s6}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,t=document.createElement("div");t.className="-cbwsdk-css-reset",e.appendChild(t),this.snackbar.attach(t),this.attached=!0,t6()}showConnecting(e){let t;return t=e.isUnlinkedErrorState?{autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:{message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:c6,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(t)}}class u6{constructor(){this.root=null,this.darkMode=e6()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),t6()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&((0,r6.XX)(null,this.root),e&&(0,r6.XX)((0,r6.h)(d6,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const d6=({title:e,buttonText:t,darkMode:n,onButtonClick:r,onDismiss:i})=>{const s=n?"dark":"light";return(0,r6.h)(o6,{darkMode:n},(0,r6.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,r6.h)("style",null,".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}"),(0,r6.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),(0,r6.h)("div",{class:(0,n6.$)("-cbwsdk-redirect-dialog-box",s)},(0,r6.h)("p",null,e),(0,r6.h)("button",{onClick:r},t))))},h6="https://www.walletlink.org";class f6{constructor(){this.attached=!1,this.redirectDialog=new u6}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const t=new URL("https://go.cb-w.com/walletlink");t.searchParams.append("redirect_url",function(){try{return function(){try{return null!==window.frameElement}catch(e){return!1}}()&&window.top?window.top.location:window.location}catch(e){return window.location}}().href),e&&t.searchParams.append("wl_url",e);const n=document.createElement("a");n.target="cbw-opener",n.href=t.href,n.rel="noreferrer noopener",n.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class p6{constructor(e){var t;this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(null===(t=null===window||void 0===window?void 0:window.navigator)||void 0===t?void 0:t.userAgent),this.linkedUpdated=e=>{this.isLinked=e;const t=this.storage.getItem(F5);if(e&&(this._session.linked=e),this.isUnlinkedErrorState=!1,t){const n=t.split(" "),r="true"===this.storage.getItem("IsStandaloneSigning");""===n[0]||e||!this._session.linked||r||(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(e,t)=>{this.storage.setItem(e,t)},this.chainUpdated=(e,t)=>{this.chainCallbackParams.chainId===e&&this.chainCallbackParams.jsonRpcUrl===t||(this.chainCallbackParams={chainId:e,jsonRpcUrl:t},this.chainCallback&&this.chainCallback(t,Number.parseInt(e,10)))},this.accountUpdated=e=>{this.accountsCallback&&this.accountsCallback([e]),p6.accountRequestCallbackIds.size>0&&(Array.from(p6.accountRequestCallbackIds.values()).forEach(t=>{this.invokeCallback(t,{method:"requestEthereumAccounts",result:[e]})}),p6.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:n,ui:r,connection:i}=this.subscribe();this._session=n,this.connection=i,this.relayEventManager=new G5,this.ui=r,this.ui.attach()}subscribe(){const e=X5.load(this.storage)||X5.create(this.storage),{linkAPIUrl:t}=this,n=new K5({session:e,linkAPIUrl:t,listener:this}),r=this.isMobileWeb?new f6:new l6;return n.connect(),{session:e,ui:r,connection:n}}resetAndReload(){this.connection.destroy().then(()=>{const e=X5.load(this.storage);(null==e?void 0:e.id)===this._session.id&&j3.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:f5(e.weiValue),data:d5(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?f5(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?f5(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?f5(e.gasPriceInWei):null,gasLimit:e.gasLimit?f5(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:f5(e.weiValue),data:d5(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?f5(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?f5(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?f5(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?f5(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,t){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:d5(e,!0),chainId:t}})}getWalletLinkSession(){return this._session}sendRequest(e){let t=null;const n=c5(8),r=r=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,r),null==t||t()};return new Promise((i,s)=>{t=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:r,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(n,e=>{if(null==t||t(),z5(e))return s(new Error(e.errorMessage));i(e)}),this.publishWeb3RequestEvent(n,e)})}publishWeb3RequestEvent(e,t){const n={type:"WEB3_REQUEST",id:e,request:t};this.publishEvent("Web3Request",n,!0).then(e=>{}).catch(e=>{this.handleWeb3ResponseMessage(n.id,{method:t.method,errorMessage:e.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(t.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof f6)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink()}}publishWeb3RequestCanceledEvent(e){const t={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",t,!1).then()}publishEvent(e,t,n){return this.connection.publishEvent(e,t,n)}handleWeb3ResponseMessage(e,t){if("requestEthereumAccounts"===t.method)return p6.accountRequestCallbackIds.forEach(e=>this.invokeCallback(e,t)),void p6.accountRequestCallbackIds.clear();this.invokeCallback(e,t)}handleErrorResponse(e,t,n){var r;const i=null!==(r=null==n?void 0:n.message)&&void 0!==r?r:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:t,errorMessage:i})}invokeCallback(e,t){const n=this.relayEventManager.callbacks.get(e);n&&(n(t),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:t}=this.metadata,n={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:t}},r=c5(8);return new Promise((e,t)=>{this.relayEventManager.callbacks.set(r,n=>{if(z5(n))return t(new Error(n.errorMessage));e(n)}),p6.accountRequestCallbackIds.add(r),this.publishWeb3RequestEvent(r,n)})}watchAsset(e,t,n,r,i,s){const o={method:"watchAsset",params:{type:e,options:{address:t,symbol:n,decimals:r,image:i},chainId:s}};let a=null;const c=c5(8);return a=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:e=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,o.method,e),null==a||a()},onResetConnection:this.resetAndReload}),new Promise((e,t)=>{this.relayEventManager.callbacks.set(c,n=>{if(null==a||a(),z5(n))return t(new Error(n.errorMessage));e(n)}),this.publishWeb3RequestEvent(c,o)})}addEthereumChain(e,t,n,r,i,s){const o={method:"addEthereumChain",params:{chainId:e,rpcUrls:t,blockExplorerUrls:r,chainName:i,iconUrls:n,nativeCurrency:s}};let a=null;const c=c5(8);return a=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:e=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,o.method,e),null==a||a()},onResetConnection:this.resetAndReload}),new Promise((e,t)=>{this.relayEventManager.callbacks.set(c,n=>{if(null==a||a(),z5(n))return t(new Error(n.errorMessage));e(n)}),this.publishWeb3RequestEvent(c,o)})}switchEthereumChain(e,t){const n={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:t})};let r=null;const i=c5(8);return r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:e=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,e),null==r||r()},onResetConnection:this.resetAndReload}),new Promise((e,t)=>{this.relayEventManager.callbacks.set(i,n=>(null==r||r(),z5(n)&&n.errorCode?t(Q3({code:n.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."})):z5(n)?t(new Error(n.errorMessage)):void e(n))),this.publishWeb3RequestEvent(i,n)})}}p6.accountRequestCallbackIds=new Set;var g6=o(8287).Buffer;const m6="DefaultChainId",y6="DefaultJsonRpcUrl";class w6{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new j3("walletlink",h6),this.callback=e.callback||null;const t=this._storage.getItem(F5);if(t){const e=t.split(" ");""!==e[0]&&(this._addresses=e.map(e=>v5(e)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:t,secret:n}=e.getWalletLinkSession();return{id:t,secret:n}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return null!==(e=this._storage.getItem(y6))&&void 0!==e?e:void 0}set jsonRpcUrl(e){this._storage.setItem(y6,e)}updateProviderInfo(e,t){var n;this.jsonRpcUrl=e;const r=this.getChainId();this._storage.setItem(m6,t.toString(10)),E5(t)!==r&&(null===(n=this.callback)||void 0===n||n.call(this,"chainChanged",p5(t)))}async watchAsset(e){const t=Array.isArray(e)?e[0]:e;if(!t.type)throw V3("Type is required");if("ERC20"!==(null==t?void 0:t.type))throw V3(`Asset of type '${t.type}' is not supported`);if(!(null==t?void 0:t.options))throw V3("Options are required");if(!(null==t?void 0:t.options.address))throw V3("Address is required");const n=this.getChainId(),{address:r,symbol:i,image:s,decimals:o}=t.options,a=this.initializeRelay(),c=await a.watchAsset(t.type,r,i,o,s,null==n?void 0:n.toString());return!z5(c)&&!!c.result}async addEthereumChain(e){var t,n;const r=e[0];if(0===(null===(t=r.rpcUrls)||void 0===t?void 0:t.length))throw V3("please pass in at least 1 rpcUrl");if(!r.chainName||""===r.chainName.trim())throw V3("chainName is a required field");if(!r.nativeCurrency)throw V3("nativeCurrency is a required field");const i=Number.parseInt(r.chainId,16);if(i===this.getChainId())return!1;const s=this.initializeRelay(),{rpcUrls:o=[],blockExplorerUrls:a=[],chainName:c,iconUrls:l=[],nativeCurrency:u}=r,d=await s.addEthereumChain(i.toString(),o,l,a,c,u);if(z5(d))return!1;if(!0===(null===(n=d.result)||void 0===n?void 0:n.isApproved))return this.updateProviderInfo(o[0],i),null;throw K3("unable to add ethereum chain")}async switchEthereumChain(e){const t=e[0],n=Number.parseInt(t.chainId,16),r=this.initializeRelay(),i=await r.switchEthereumChain(n.toString(10),this.selectedAddress||void 0);if(z5(i))throw i;const s=i.result;return s.isApproved&&s.rpcUrl.length>0&&this.updateProviderInfo(s.rpcUrl,n),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,t){var n;if(!Array.isArray(e))throw new Error("addresses is not an array");const r=e.map(e=>v5(e));JSON.stringify(r)!==JSON.stringify(this._addresses)&&(this._addresses=r,null===(n=this.callback)||void 0===n||n.call(this,"accountsChanged",r),this._storage.setItem(F5,r.join(" ")))}async request(e){const t=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return p5(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(t);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(t);case"eth_sendTransaction":return this._eth_sendTransaction(t);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(t);case"wallet_switchEthereumChain":return this.switchEthereumChain(t);case"wallet_watchAsset":return this.watchAsset(t);default:if(!this.jsonRpcUrl)throw K3("No RPC URL set for chain");return R5(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const t=v5(e),n=this._addresses.map(e=>v5(e));if(!n.includes(t))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const t=e.from?v5(e.from):this.selectedAddress;if(!t)throw new Error("Ethereum address is unavailable");return this._ensureKnownAddress(t),{fromAddress:t,toAddress:e.to?v5(e.to):null,weiValue:null!=e.value?k5(e.value):BigInt(0),data:e.data?x5(e.data):g6.alloc(0),nonce:null!=e.nonce?E5(e.nonce):null,gasPriceInWei:null!=e.gasPrice?k5(e.gasPrice):null,maxFeePerGas:null!=e.maxFeePerGas?k5(e.maxFeePerGas):null,maxPriorityFeePerGas:null!=e.maxPriorityFeePerGas?k5(e.maxPriorityFeePerGas):null,gasLimit:null!=e.gas?k5(e.gas):null,chainId:e.chainId?E5(e.chainId):this.getChainId()}}async ecRecover(e){const{method:t,params:n}=e;if(!Array.isArray(n))throw V3();const r=this.initializeRelay(),i=await r.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:h5(n[0]),signature:h5(n[1]),addPrefix:"personal_ecRecover"===t}});if(z5(i))throw i;return i.result}getChainId(){var e;return Number.parseInt(null!==(e=this._storage.getItem(m6))&&void 0!==e?e:"1",10)}async _eth_requestAccounts(){var e,t;if(this._addresses.length>0)return null===(e=this.callback)||void 0===e||e.call(this,"connect",{chainId:p5(this.getChainId())}),this._addresses;const n=this.initializeRelay(),r=await n.requestEthereumAccounts();if(z5(r))throw r;if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),null===(t=this.callback)||void 0===t||t.call(this,"connect",{chainId:p5(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw V3();const t=e[1],n=e[0];this._ensureKnownAddress(t);const r=this.initializeRelay(),i=await r.sendRequest({method:"signEthereumMessage",params:{address:v5(t),message:h5(n),addPrefix:!0,typedDataJson:null}});if(z5(i))throw i;return i.result}async _eth_signTransaction(e){const t=this._prepareTransactionParams(e[0]||{}),n=this.initializeRelay(),r=await n.signEthereumTransaction(t);if(z5(r))throw r;return r.result}async _eth_sendRawTransaction(e){const t=x5(e[0]),n=this.initializeRelay(),r=await n.submitEthereumTransaction(t,this.getChainId());if(z5(r))throw r;return r.result}async _eth_sendTransaction(e){const t=this._prepareTransactionParams(e[0]||{}),n=this.initializeRelay(),r=await n.signAndSubmitEthereumTransaction(t);if(z5(r))throw r;return r.result}async signTypedData(e){const{method:t,params:n}=e;if(!Array.isArray(n))throw V3();const r=n["eth_signTypedData_v1"===t?1:0],i=n["eth_signTypedData_v1"===t?0:1];this._ensureKnownAddress(r);const s=this.initializeRelay(),o=await s.sendRequest({method:"signEthereumMessage",params:{address:v5(r),message:(a=i,d5({eth_signTypedData_v1:D5.hashForSignTypedDataLegacy,eth_signTypedData_v3:D5.hashForSignTypedData_v3,eth_signTypedData_v4:D5.hashForSignTypedData_v4,eth_signTypedData:D5.hashForSignTypedData_v4}[t]({data:_5(a)}),!0)),typedDataJson:JSON.stringify(i,null,2),addPrefix:!1}});var a;if(z5(o))throw o;return o.result}initializeRelay(){return this._relay||(this._relay=new p6({linkAPIUrl:h6,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const b6="SignerType",v6=new j3("CBWSDK","SignerConfigurator");const{checkCrossOriginOpenerPolicy:x6,getCrossOriginOpenerPolicy:E6}=(()=>{let e;return{getCrossOriginOpenerPolicy:()=>void 0===e?"undefined":e,checkCrossOriginOpenerPolicy:async()=>{if("undefined"!=typeof window)try{const t=`${window.location.origin}${window.location.pathname}`,n=await fetch(t,{method:"HEAD"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=n.headers.get("Cross-Origin-Opener-Policy");e=null!=r?r:"null","same-origin"===e&&console.error("Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.\n\nPlease see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.")}catch(t){console.error("Error checking Cross-Origin-Opener-Policy:",t.message),e="error"}else e="non-browser-env"}}})(),k6={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:c6,defaultFillRule:"evenodd",defaultClipRule:"evenodd"};let _6=null;class C6{constructor({url:e="https://keys.coinbase.com/connect",metadata:t,preference:n}){this.popup=null,this.listeners=new Map,this.postMessage=async e=>{(await this.waitForPopupLoaded()).postMessage(e,this.url.origin)},this.postRequestAndWaitForResponse=async e=>{const t=this.onMessage(({requestId:t})=>t===e.id);return this.postMessage(e),await t},this.onMessage=async e=>new Promise((t,n)=>{const r=n=>{if(n.origin!==this.url.origin)return;const i=n.data;e(i)&&(t(i),window.removeEventListener("message",r),this.listeners.delete(r))};window.addEventListener("message",r),this.listeners.set(r,{reject:n})}),this.disconnect=()=>{var e;(e=this.popup)&&!e.closed&&e.close(),this.popup=null,this.listeners.forEach(({reject:e},t)=>{e(G3("Request rejected")),window.removeEventListener("message",t)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await function(e){const t=(window.innerWidth-420)/2+window.screenX,n=(window.innerHeight-540)/2+window.screenY;function r(){const r=`wallet_${crypto.randomUUID()}`,i=window.open(e,r,`width=420, height=540, left=${t}, top=${n}`);return null==i||i.focus(),i||null}!function(e){const t={sdkName:N5,sdkVersion:j5,origin:window.location.origin,coop:E6()};for(const[n,r]of Object.entries(t))e.searchParams.append(n,r.toString())}(e);let i=r();if(!i){const e=function(){if(!_6){const e=document.createElement("div");e.className="-cbwsdk-css-reset",document.body.appendChild(e),_6=new s6,_6.attach(e)}return _6}();return new Promise((t,n)=>{e.presentItem({autoExpand:!0,message:"Popup was blocked. Try again.",menuItems:[Object.assign(Object.assign({},k6),{onClick:()=>{i=r(),i?t(i):n(K3("Popup window was blocked")),e.clear()}})]})})}return Promise.resolve(i)}(this.url),this.onMessage(({event:e})=>"PopupUnload"===e).then(this.disconnect).catch(()=>{}),this.onMessage(({event:e})=>"PopupLoaded"===e).then(e=>{this.postMessage({requestId:e.id,data:{version:j5,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw K3();return this.popup})),this.url=new URL(e),this.metadata=t,this.preference=n}}function S6(e){const t=function(e,{shouldIncludeStack:t=!1}={}){const n={};if(e&&"object"==typeof e&&!Array.isArray(e)&&q3(e,"code")&&function(e){if(!Number.isInteger(e))return!1;const t=e.toString();return!!U3[t]||!!z3(e)}(e.code)){const t=e;n.code=t.code,t.message&&"string"==typeof t.message?(n.message=t.message,q3(t,"data")&&(n.data=t.data)):(n.message=F3(n.code),n.data={originalError:W3(e)})}else n.code=R3,n.message=H3(e,"message")?e.message:D3,n.data={originalError:W3(e)};return t&&(n.stack=H3(e,"stack")?e.stack:void 0),n}(function(e){var t;if("string"==typeof e)return{message:e,code:R3};if(z5(e)){const n=e.errorMessage,r=null!==(t=e.errorCode)&&void 0!==t?t:n.match(/(denied|rejected)/i)?$3:void 0;return Object.assign(Object.assign({},e),{message:n,code:r,data:{method:e.method}})}return e}(e),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return n.searchParams.set("version",j5),n.searchParams.set("code",t.code.toString()),n.searchParams.set("message",t.message),Object.assign(Object.assign({},t),{docUrl:n.href})}class I6 extends vc.b{}class A6 extends I6{constructor(e){var{metadata:t}=e,n=e.preference,{keysUrl:r}=n,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(n,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=t,this.preference=i,this.communicator=new C6({url:r,metadata:t,preference:i});const s=v6.getItem(b6);s&&(this.signer=this.initSigner(s))}async request(e){try{if(function(e){if(!e||"object"!=typeof e||Array.isArray(e))throw V3({message:"Expected a single, non-array, object argument.",data:e});const{method:t,params:n}=e;if("string"!=typeof t||0===t.length)throw V3({message:"'args.method' must be a non-empty string.",data:e});if(void 0!==n&&!Array.isArray(n)&&("object"!=typeof n||null===n))throw V3({message:"'args.params' must be an object or array if provided.",data:e});switch(t){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw Y3()}}(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const t=await this.requestSignerSelection(e),n=this.initSigner(t);await n.handshake(e),this.signer=n,function(e){v6.setItem(b6,e)}(t);break}case"wallet_sendCalls":{const t=this.initSigner("scw");await t.handshake({method:"handshake"});const n=await t.request(e);return await t.cleanup(),n}case"wallet_getCallsStatus":return R5(e,"https://rpc.wallet.coinbase.com");case"net_version":return 1;case"eth_chainId":return p5(1);default:throw Z3("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(e){const{code:t}=e;return t===M3&&this.disconnect(),Promise.reject(S6(e))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await(null===(e=this.signer)||void 0===e?void 0:e.cleanup()),this.signer=null,j3.clearAll(),this.emit("disconnect",J3("User initiated disconnection"))}requestSignerSelection(e){return async function(e){const{communicator:t,metadata:n,handshakeRequest:r,callback:i}=e;(async function(e,t,n){await e.onMessage(({event:e})=>"WalletLinkSessionRequest"===e);const r=new w6({metadata:t,callback:n});e.postMessage({event:"WalletLinkUpdate",data:{session:r.getSession()}}),await r.handshake(),e.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})})(t,n,i).catch(()=>{});const s={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},e.preference),{handshakeRequest:r})},{data:o}=await t.postRequestAndWaitForResponse(s);return o}({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return function(e){const{signerType:t,metadata:n,communicator:r,callback:i}=e;switch(t){case"scw":return new U5({metadata:n,callback:i,communicator:r});case"walletlink":return new w6({metadata:n,callback:i})}}({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}const T6={options:"all"};function P6(e){var t;new j3("CBWSDK").setItem("VERSION",j5),x6();const n={metadata:{appName:e.appName||"Dapp",appLogoUrl:e.appLogoUrl||"",appChainIds:e.appChainIds||[]},preference:Object.assign(T6,null!==(t=e.preference)&&void 0!==t?t:{})};!function(e){if(e){if(!["all","smartWalletOnly","eoaOnly"].includes(e.options))throw new Error(`Invalid options: ${e.options}`);if(e.attribution&&void 0!==e.attribution.auto&&void 0!==e.attribution.dataSuffix)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}(n.preference);let r=null;return{getProvider:()=>(r||(r=function(e){var t;const n={metadata:e.metadata,preference:e.preference};return null!==(t=function({metadata:e,preference:t}){var n,r;const{appName:i,appLogoUrl:s,appChainIds:o}=e;if("smartWalletOnly"!==t.options){const e=globalThis.coinbaseWalletExtension;if(e)return null===(n=e.setAppInfo)||void 0===n||n.call(e,i,s,o,t),e}const a=function(){var e,t;try{const n=globalThis;return null!==(e=n.ethereum)&&void 0!==e?e:null===(t=n.top)||void 0===t?void 0:t.ethereum}catch(e){return}}();if(null==a?void 0:a.isCoinbaseBrowser)return null===(r=a.setAppInfo)||void 0===r||r.call(a,i,s,o,t),a}(n))&&void 0!==t?t:new A6(n)}(n)),r)}}var O6=(0,ei.forwardRef)(({as:e="div",...t},n)=>(0,ri.jsx)(e,{...t,ref:n})),j6="cf-turnstile-script",N6="onloadTurnstileCallback",R6=e=>!!document.getElementById(e),$6={normal:{width:300,height:65},compact:{width:150,height:140},invisible:{width:0,height:0,overflow:"hidden"},flexible:{minWidth:300,width:"100%",height:65},interactionOnly:{width:"fit-content",height:"auto",display:"flex"}};function M6(e){if("invisible"!==e&&"interactionOnly"!==e)return e}var L6,B6="unloaded",U6=new Promise((e,t)=>{L6={resolve:e,reject:t},"ready"===B6&&e(void 0)}),D6=(0,ei.forwardRef)((e,t)=>{let{scriptOptions:n,options:r={},siteKey:i,onWidgetLoad:s,onSuccess:o,onExpire:a,onError:c,onBeforeInteractive:l,onAfterInteractive:u,onUnsupported:d,onTimeout:h,onLoadScript:f,id:p,style:g,as:m="div",injectScript:y=!0,rerenderOnCallbackChange:w=!1,...b}=e,v=r.size,x=(0,ei.useCallback)(()=>typeof v>"u"?{}:"execute"===r.execution?$6.invisible:"interaction-only"===r.appearance?$6.interactionOnly:$6[v],[r.execution,v,r.appearance]),[E,k]=(0,ei.useState)(x()),_=(0,ei.useRef)(null),[C,S]=(0,ei.useState)(!1),I=(0,ei.useRef)(),A=(0,ei.useRef)(!1),T=p||"cf-turnstile",P=(0,ei.useRef)({onSuccess:o,onError:c,onExpire:a,onBeforeInteractive:l,onAfterInteractive:u,onUnsupported:d,onTimeout:h});(0,ei.useEffect)(()=>{w||(P.current={onSuccess:o,onError:c,onExpire:a,onBeforeInteractive:l,onAfterInteractive:u,onUnsupported:d,onTimeout:h})});let O=n?.id||j6,j=function(e=j6){let[t,n]=(0,ei.useState)(!1);return(0,ei.useEffect)(()=>{let t=()=>{R6(e)&&n(!0)},r=new MutationObserver(t);return r.observe(document,{childList:!0,subtree:!0}),t(),()=>{r.disconnect()}},[e]),t}(O),N=n?.onLoadCallbackName||N6,R=r.appearance||"always",$=(0,ei.useMemo)(()=>({sitekey:i,action:r.action,cData:r.cData,theme:r.theme||"auto",language:r.language||"auto",tabindex:r.tabIndex,"response-field":r.responseField,"response-field-name":r.responseFieldName,size:M6(v),retry:r.retry||"auto","retry-interval":r.retryInterval||8e3,"refresh-expired":r.refreshExpired||"auto","refresh-timeout":r.refreshTimeout||"auto",execution:r.execution||"render",appearance:r.appearance||"always","feedback-enabled":r.feedbackEnabled||!0,callback:e=>{A.current=!0,w?o?.(e):P.current.onSuccess?.(e)},"error-callback":w?c:(...e)=>P.current.onError?.(...e),"expired-callback":w?a:(...e)=>P.current.onExpire?.(...e),"before-interactive-callback":w?l:(...e)=>P.current.onBeforeInteractive?.(...e),"after-interactive-callback":w?u:(...e)=>P.current.onAfterInteractive?.(...e),"unsupported-callback":w?d:(...e)=>P.current.onUnsupported?.(...e),"timeout-callback":w?h:(...e)=>P.current.onTimeout?.(...e)}),[r.action,r.appearance,r.cData,r.execution,r.language,r.refreshExpired,r.responseField,r.responseFieldName,r.retry,r.retryInterval,r.tabIndex,r.theme,r.feedbackEnabled,r.refreshTimeout,i,v,w,w?o:null,w?c:null,w?a:null,w?l:null,w?u:null,w?d:null,w?h:null]),M=(0,ei.useCallback)(()=>typeof window<"u"&&!!window.turnstile,[]);return(0,ei.useEffect)(function(){y&&!C&&(({render:e="explicit",onLoadCallbackName:t=N6,scriptOptions:{nonce:n="",defer:r=!0,async:i=!0,id:s="",appendTo:o,onError:a,crossOrigin:c=""}={}})=>{let l=s||j6;if(R6(l))return;let u=document.createElement("script");u.id=l,u.src=`https://challenges.cloudflare.com/turnstile/v0/api.js?onload=${t}&render=${e}`,document.querySelector(`script[src="${u.src}"]`)||(u.defer=!!r,u.async=!!i,n&&(u.nonce=n),c&&(u.crossOrigin=c),a&&(u.onerror=a,delete window[t]),("body"===o?document.body:document.getElementsByTagName("head")[0]).appendChild(u))})({onLoadCallbackName:N,scriptOptions:{...n,id:O}})},[y,C,n,O]),(0,ei.useEffect)(function(){"ready"!==B6&&((e=N6)=>("unloaded"===B6&&(B6="loading",window[e]=()=>{L6.resolve(),B6="ready",delete window[e]}),U6))(N).then(()=>S(!0)).catch(console.error)},[]),(0,ei.useEffect)(function(){if(!_.current||!C)return;let e=!1;return(async()=>{if(e||!_.current)return;let t=window.turnstile.render(_.current,$);I.current=t,I.current&&s?.(I.current)})(),()=>{e=!0,I.current&&(window.turnstile.remove(I.current),A.current=!1)}},[T,C,$]),(0,ei.useImperativeHandle)(t,()=>{let{turnstile:e}=window;return{getResponse(){if(e?.getResponse&&I.current&&M())return e.getResponse(I.current);console.warn("Turnstile has not been loaded")},getResponsePromise:async(e=3e4,t=100)=>new Promise((n,r)=>{let i,s=async()=>{if(A.current&&window.turnstile&&I.current)try{let e=window.turnstile.getResponse(I.current);return i&&clearTimeout(i),e?n(e):r(new Error("No response received"))}catch(e){return i&&clearTimeout(i),console.warn("Failed to get response",e),r(new Error("Failed to get response"))}i||(i=setTimeout(()=>{i&&clearTimeout(i),r(new Error("Timeout"))},e)),await new Promise(e=>setTimeout(e,t)),await s()};s()}),reset(){if(e?.reset&&I.current&&M()){"execute"===r.execution&&k($6.invisible);try{A.current=!1,e.reset(I.current)}catch(e){console.warn(`Failed to reset Turnstile widget ${I}`,e)}}else console.warn("Turnstile has not been loaded")},remove(){e?.remove&&I.current&&M()?(k($6.invisible),A.current=!1,e.remove(I.current),I.current=null):console.warn("Turnstile has not been loaded")},render(){if(!e?.render||!_.current||!M()||I.current)return void console.warn("Turnstile has not been loaded or container not found");let t=e.render(_.current,$);return I.current=t,I.current&&s?.(I.current),"execute"!==r.execution&&k(v?$6[v]:{}),t},execute(){"execute"===r.execution?e?.execute&&_.current&&I.current&&M()?(e.execute(_.current,$),k(v?$6[v]:{})):console.warn("Turnstile has not been loaded or container not found"):console.warn('Execution mode is not set to "execute"')},isExpired:()=>e?.isExpired&&I.current&&M()?e.isExpired(I.current):(console.warn("Turnstile has not been loaded"),!1)}},[I,r.execution,v,$,_,M,C,s]),(0,ei.useEffect)(()=>{j&&!C&&window.turnstile&&S(!0)},[C,j]),(0,ei.useEffect)(()=>{k(x())},[r.execution,v,R]),(0,ei.useEffect)(()=>{!j||"function"!=typeof f||f()},[j]),(0,ri.jsx)(O6,{ref:_,as:m,id:T,style:{...E,...g},...b})});D6.displayName="Turnstile";const F6=e=>{let[t,n]=(0,ei.useState)("auto");return(0,ei.useEffect)(()=>{let t=new ResizeObserver(e=>{n(e[0]?.contentRect.height??"auto")});return e.current&&t.observe(e.current),()=>{e.current&&t.unobserve(e.current)}},[e.current]),t};function z6(e){let{logout:t}=(0,ei.useContext)(XH);return Ff("logout",e),{logout:t}}const W6=Ay.div.withConfig({displayName:"Column",componentId:"sc-cfc52180-0"})(["display:flex;flex-direction:column;"]);function q6({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const H6=ei.forwardRef(q6);function V6({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const K6=ei.forwardRef(V6);function G6(){let e=(0,ei.useRef)(!1);return sL(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Z6(){let e=function(){let e="undefined"==typeof document;return(e=>e.useSyncExternalStore)(ti)(()=>()=>{},()=>!1,()=>!e)}(),[t,n]=ei.useState(JM.isHandoffComplete);return t&&!1===JM.isHandoffComplete&&n(!1),ei.useEffect(()=>{!0!==t&&n(!0)},[t]),ei.useEffect(()=>JM.handoff(),[]),!e&&t}function Y6(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!xz(null!=(t=e.as)?t:n4)||1===ei.Children.count(e.children)}let J6=(0,ei.createContext)(null);J6.displayName="TransitionContext";var Q6=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Q6||{});let X6=(0,ei.createContext)(null);function e4(e){return"children"in e?e4(e.children):e.current.filter(({el:e})=>null!==e.current).filter(({state:e})=>"visible"===e).length>0}function t4(e,t){let n=oL(e),r=(0,ei.useRef)([]),i=G6(),s=iL(),o=aL((e,t=dz.Hidden)=>{let o=r.current.findIndex(({el:t})=>t===e);-1!==o&&($L(t,{[dz.Unmount](){r.current.splice(o,1)},[dz.Hidden](){r.current[o].state="hidden"}}),s.microTask(()=>{var e;!e4(r)&&i.current&&(null==(e=n.current)||e.call(n))}))}),a=aL(e=>{let t=r.current.find(({el:t})=>t===e);return t?"visible"!==t.state&&(t.state="visible"):r.current.push({el:e,state:"visible"}),()=>o(e,dz.Unmount)}),c=(0,ei.useRef)([]),l=(0,ei.useRef)(Promise.resolve()),u=(0,ei.useRef)({enter:[],leave:[]}),d=aL((e,n,r)=>{c.current.splice(0),t&&(t.chains.current[n]=t.chains.current[n].filter(([t])=>t!==e)),null==t||t.chains.current[n].push([e,new Promise(e=>{c.current.push(e)})]),null==t||t.chains.current[n].push([e,new Promise(e=>{Promise.all(u.current[n].map(([e,t])=>t)).then(()=>e())})]),"enter"===n?l.current=l.current.then(()=>null==t?void 0:t.wait.current).then(()=>r(n)):r(n)}),h=aL((e,t,n)=>{Promise.all(u.current[t].splice(0).map(([e,t])=>t)).then(()=>{var e;null==(e=c.current.shift())||e()}).then(()=>n(t))});return(0,ei.useMemo)(()=>({children:r,register:a,unregister:o,onStart:d,onStop:h,wait:l,chains:u}),[a,o,r,d,h,u,l])}X6.displayName="NestingContext";let n4=ei.Fragment,r4=uz.RenderStrategy,i4=yz(function(e,t){let{show:n,appear:r=!1,unmount:i=!0,...s}=e,o=(0,ei.useRef)(null),a=AB(...Y6(e)?[o,t]:null===t?[]:[t]);Z6();let c=iz();if(void 0===n&&null!==c&&(n=(c&rz.Open)===rz.Open),void 0===n)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[l,u]=(0,ei.useState)(n?"visible":"hidden"),d=t4(()=>{n||u("hidden")}),[h,f]=(0,ei.useState)(!0),p=(0,ei.useRef)([n]);sL(()=>{!1!==h&&p.current[p.current.length-1]!==n&&(p.current.push(n),f(!1))},[p,n]);let g=(0,ei.useMemo)(()=>({show:n,appear:r,initial:h}),[n,r,h]);sL(()=>{n?u("visible"):!e4(d)&&null!==o.current&&u("hidden")},[n,d]);let m={unmount:i},y=aL(()=>{var t;h&&f(!1),null==(t=e.beforeEnter)||t.call(e)}),w=aL(()=>{var t;h&&f(!1),null==(t=e.beforeLeave)||t.call(e)}),b=hz();return ei.createElement(X6.Provider,{value:d},ei.createElement(J6.Provider,{value:g},b({ourProps:{...m,as:ei.Fragment,children:ei.createElement(s4,{ref:a,...m,...s,beforeEnter:y,beforeLeave:w})},theirProps:{},defaultTag:ei.Fragment,features:r4,visible:"visible"===l,name:"Transition"})))}),s4=yz(function(e,t){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:c,enter:l,enterFrom:u,enterTo:d,entered:h,leave:f,leaveFrom:p,leaveTo:g,...m}=e,[y,w]=(0,ei.useState)(null),b=(0,ei.useRef)(null),v=Y6(e),x=AB(...v?[b,t,w]:null===t?[]:[t]),E=null==(n=m.unmount)||n?dz.Unmount:dz.Hidden,{show:k,appear:_,initial:C}=function(){let e=(0,ei.useContext)(J6);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[S,I]=(0,ei.useState)(k?"visible":"hidden"),A=function(){let e=(0,ei.useContext)(X6);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:T,unregister:P}=A;sL(()=>T(b),[T,b]),sL(()=>{if(E===dz.Hidden&&b.current)return k&&"visible"!==S?void I("visible"):$L(S,{hidden:()=>P(b),visible:()=>T(b)})},[S,b,T,P,k,E]);let O=Z6();sL(()=>{if(v&&O&&"visible"===S&&null===b.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[b,S,O,v]);let j=C&&!_,N=_&&k&&C,R=(0,ei.useRef)(!1),$=t4(()=>{R.current||(I("hidden"),P(b))},A),M=aL(e=>{R.current=!0;let t=e?"enter":"leave";$.onStart(b,t,e=>{"enter"===e?null==s||s():"leave"===e&&(null==a||a())})}),L=aL(e=>{let t=e?"enter":"leave";R.current=!1,$.onStop(b,t,e=>{"enter"===e?null==o||o():"leave"===e&&(null==c||c())}),"leave"===t&&!e4($)&&(I("hidden"),P(b))});(0,ei.useEffect)(()=>{v&&i||(M(k),L(k))},[k,v,i]);let B=!(!i||!v||!O||j),[,U]=BB(B,y,k,{start:M,end:L}),D=wz({ref:x,className:(null==(r=lz(m.className,N&&l,N&&u,U.enter&&l,U.enter&&U.closed&&u,U.enter&&!U.closed&&d,U.leave&&f,U.leave&&!U.closed&&p,U.leave&&U.closed&&g,!U.transition&&k&&h))?void 0:r.trim())||void 0,...LB(U)}),F=0;"visible"===S&&(F|=rz.Open),"hidden"===S&&(F|=rz.Closed),k&&"hidden"===S&&(F|=rz.Opening),!k&&"visible"===S&&(F|=rz.Closing);let z=hz();return ei.createElement(X6.Provider,{value:$},ei.createElement(sz,{value:F},z({ourProps:D,theirProps:m,defaultTag:n4,features:r4,visible:"visible"===S,name:"Transition.Child"})))}),o4=yz(function(e,t){let n=null!==(0,ei.useContext)(J6),r=null!==iz();return ei.createElement(ei.Fragment,null,!n&&r?ei.createElement(i4,{ref:t,...e}):ei.createElement(s4,{ref:t,...e}))}),a4=Object.assign(i4,{Child:o4,Root:i4});function c4(e,t,n,r){let i=oL(n);(0,ei.useEffect)(()=>{function n(e){i.current(e)}return(e=null!=e?e:window).addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)},[e,t,r])}var l4=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(l4||{});let u4=yz(function(e,t){var n;let{features:r=1,...i}=e,s={ref:t,"aria-hidden":!(2&~r)||(null!=(n=i["aria-hidden"])?n:void 0),hidden:!(4&~r)||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...!(4&~r)&&!!(2&~r)&&{display:"none"}}};return hz()({ourProps:s,theirProps:i,slot:{},defaultTag:"span",name:"Hidden"})}),d4=(0,ei.createContext)(null);function h4({children:e,node:t}){let[n,r]=(0,ei.useState)(null),i=f4(null!=t?t:n);return ei.createElement(d4.Provider,{value:i},e,null===i&&ei.createElement(u4,{features:l4.Hidden,ref:e=>{var t,n;if(e)for(let i of null!=(n=null==(t=QM(e))?void 0:t.querySelectorAll("html > *, body > *"))?n:[])if(i!==document.body&&i!==document.head&&fL(i)&&null!=i&&i.contains(e)){r(i);break}}}))}function f4(e=null){var t;return null!=(t=(0,ei.useContext)(d4))?t:e}let p4=(0,ei.createContext)(()=>{});function g4({value:e,children:t}){return ei.createElement(p4.Provider,{value:e},t)}var m4=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(m4||{});function y4(e,t){let n=(0,ei.useRef)([]),r=aL(e);(0,ei.useEffect)(()=>{let e=[...n.current];for(let[i,s]of t.entries())if(n.current[i]!==s){let i=r(t,e);return n.current=t,i}},[r,...t])}let w4=[];function b4(e){if(!e)return new Set;if("function"==typeof e)return new Set(e());let t=new Set;for(let n of e.current)fL(n.current)&&t.add(n.current);return t}!function(){function e(){"loading"!==document.readyState&&((()=>{function e(e){if(!gL(e.target)||e.target===document.body||w4[0]===e.target)return;let t=e.target;t=t.closest(JL),w4.unshift(null!=t?t:e.target),w4=w4.filter(e=>null!=e&&e.isConnected),w4.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})})(),document.removeEventListener("DOMContentLoaded",e))}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("DOMContentLoaded",e),e())}();var v4=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(v4||{});let x4=yz(function(e,t){let n=(0,ei.useRef)(null),r=AB(n,t),{initialFocus:i,initialFocusFallback:s,containers:o,features:a=15,...c}=e;Z6()||(a=0);let l=yB(n.current);!function(e,{ownerDocument:t}){let n=!!(8&e),r=function(e=!0){let t=(0,ei.useRef)(w4.slice());return y4(([e],[n])=>{!0===n&&!1===e&&nL(()=>{t.current.splice(0)}),!1===n&&!0===e&&(t.current=w4.slice())},[e,w4,t]),aL(()=>{var e;return null!=(e=t.current.find(e=>null!=e&&e.isConnected))?e:null})}(n);y4(()=>{n||tL(null==t?void 0:t.body)&&cB(r())},[n]),Mz(()=>{n&&cB(r())})}(a,{ownerDocument:l});let u=function(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:i}){let s=(0,ei.useRef)(null),o=HL(!!(1&e),"focus-trap#initial-focus"),a=G6();return y4(()=>{if(0===e)return;if(!o)return void(null!=i&&i.current&&cB(i.current));let c=n.current;c&&nL(()=>{if(!a.current)return;let n=null==t?void 0:t.activeElement;if(null!=r&&r.current){if((null==r?void 0:r.current)===n)return void(s.current=n)}else if(c.contains(n))return void(s.current=n);if(null!=r&&r.current)cB(r.current);else{if(16&e){if(dB(c,eB.First|eB.AutoFocus)!==tB.Error)return}else if(dB(c,eB.First)!==tB.Error)return;if(null!=i&&i.current&&(cB(i.current),(null==t?void 0:t.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=null==t?void 0:t.activeElement})},[i,o,e]),s}(a,{ownerDocument:l,container:n,initialFocus:i,initialFocusFallback:s});!function(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:i}){let s=G6(),o=!!(4&e);c4(null==t?void 0:t.defaultView,"focus",e=>{if(!o||!s.current)return;let t=b4(r);pL(n.current)&&t.add(n.current);let a=i.current;if(!a)return;let c=e.target;pL(c)?k4(t,c)?(i.current=c,cB(c)):(e.preventDefault(),e.stopPropagation(),cB(a)):cB(i.current)},!0)}(a,{ownerDocument:l,container:n,containers:o,previousActiveElement:u});let d=function(){let e=(0,ei.useRef)(0);return gB(!0,"keydown",t=>{"Tab"===t.key&&(e.current=t.shiftKey?1:0)},!0),e}(),h=aL(e=>{if(!pL(n.current))return;let t=n.current;$L(d.current,{[m4.Forwards]:()=>{dB(t,eB.First,{skipElements:[e.relatedTarget,s]})},[m4.Backwards]:()=>{dB(t,eB.Last,{skipElements:[e.relatedTarget,s]})}})}),f=HL(!!(2&a),"focus-trap#tab-lock"),p=iL(),g=(0,ei.useRef)(!1),m={ref:r,onKeyDown(e){"Tab"==e.key&&(g.current=!0,p.requestAnimationFrame(()=>{g.current=!1}))},onBlur(e){if(!(4&a))return;let t=b4(o);pL(n.current)&&t.add(n.current);let r=e.relatedTarget;gL(r)&&"true"!==r.dataset.headlessuiFocusGuard&&(k4(t,r)||(g.current?dB(n.current,$L(d.current,{[m4.Forwards]:()=>eB.Next,[m4.Backwards]:()=>eB.Previous})|eB.WrapAround,{relativeTo:e.target}):gL(e.target)&&cB(e.target)))}},y=hz();return ei.createElement(ei.Fragment,null,f&&ei.createElement(u4,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:l4.Focusable}),y({ourProps:m,theirProps:c,defaultTag:"div",name:"FocusTrap"}),f&&ei.createElement(u4,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:l4.Focusable}))}),E4=Object.assign(x4,{features:v4});function k4(e,t){for(let n of e)if(n.contains(t))return!0;return!1}var _4=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(_4||{}),C4=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(C4||{});let S4={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},I4=(0,ei.createContext)(null);function A4(e){let t=(0,ei.useContext)(I4);if(null===t){let t=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,A4),t}return t}function T4(e,t){return $L(t.type,S4,e,t)}I4.displayName="DialogContext";let P4=yz(function(e,t){let n=(0,ei.useId)(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,role:a="dialog",autoFocus:c=!0,__demoMode:l=!1,unmount:u=!1,...d}=e,h=(0,ei.useRef)(!1);a="dialog"===a||"alertdialog"===a?a:(h.current||(h.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog");let f=iz();void 0===i&&null!==f&&(i=(f&rz.Open)===rz.Open);let p=(0,ei.useRef)(null),g=AB(p,t),m=yB(p.current),y=i?0:1,[w,b]=(0,ei.useReducer)(T4,{titleId:null,descriptionId:null,panelRef:(0,ei.createRef)()}),v=aL(()=>s(!1)),x=aL(e=>b({type:0,id:e})),E=!!Z6()&&0===y,[k,_]=function(){let e=(0,ei.useContext)(Wz),t=(0,ei.useRef)([]),n=aL(n=>(t.current.push(n),e&&e.register(n),()=>r(n))),r=aL(n=>{let r=t.current.indexOf(n);-1!==r&&t.current.splice(r,1),e&&e.unregister(n)}),i=(0,ei.useMemo)(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,(0,ei.useMemo)(()=>function({children:e}){return ei.createElement(Wz.Provider,{value:i},e)},[i])]}(),C={get current(){var e;return null!=(e=w.panelRef.current)?e:p.current}},S=f4(),{resolveContainers:I}=function({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=aL(()=>{var r,i;let s=QM(n),o=[];for(let t of e)null!==t&&(fL(t)?o.push(t):"current"in t&&fL(t.current)&&o.push(t.current));if(null!=t&&t.current)for(let e of t.current)o.push(e);for(let e of null!=(r=null==s?void 0:s.querySelectorAll("html > *, body > *"))?r:[])e!==document.body&&e!==document.head&&fL(e)&&"headlessui-portal-root"!==e.id&&(n&&(e.contains(n)||e.contains(null==(i=null==n?void 0:n.getRootNode())?void 0:i.host))||o.some(t=>e.contains(t))||o.push(e));return o});return{resolveContainers:r,contains:aL(e=>r().some(t=>t.contains(e)))}}({mainTreeNode:S,portals:k,defaultContainers:[C]}),A=null!==f&&(f&rz.Closing)===rz.Closing;ZL(!l&&!A&&E,{allowed:aL(()=>{var e,t;return[null!=(t=null==(e=p.current)?void 0:e.closest("[data-headlessui-portal]"))?t:null]}),disallowed:aL(()=>{var e;return[null!=(e=null==S?void 0:S.closest("body > *:not(#headlessui-portal-root)"))?e:null]})});let T=FL.get(null);sL(()=>{if(E)return T.actions.push(r),()=>T.actions.pop(r)},[T,r,E]);let P=WL(T,(0,ei.useCallback)(e=>T.selectors.isTop(e,r),[T,r]));mB(P,I,e=>{e.preventDefault(),v()}),function(e,t=("undefined"!=typeof document?document.defaultView:null),n){let r=HL(e,"escape");c4(t,"keydown",e=>{r&&(e.defaultPrevented||e.key===Pz.Escape&&n(e))})}(P,null==m?void 0:m.defaultView,e=>{e.preventDefault(),e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur(),v()}),CB(!l&&!A&&E,m,I),YL(E,p,v);let[O,j]=Sz(),N=(0,ei.useMemo)(()=>[{dialogState:y,close:v,setTitleId:x,unmount:u},w],[y,v,x,u,w]),R=SB({open:0===y}),$={ref:g,id:r,role:a,tabIndex:-1,"aria-modal":l?void 0:0===y||void 0,"aria-labelledby":w.titleId,"aria-describedby":O,unmount:u},M=!function(){var e;let[t]=(0,ei.useState)(()=>"undefined"!=typeof window&&"function"==typeof window.matchMedia?window.matchMedia("(pointer: coarse)"):null),[n,r]=(0,ei.useState)(null!=(e=null==t?void 0:t.matches)&&e);return sL(()=>{if(t)return t.addEventListener("change",e),()=>t.removeEventListener("change",e);function e(e){r(e.matches)}},[t]),n}(),L=v4.None;E&&!l&&(L|=v4.RestoreFocus,L|=v4.TabLock,c&&(L|=v4.AutoFocus),M&&(L|=v4.InitialFocus));let B=hz();return ei.createElement(oz,null,ei.createElement(Bz,{force:!0},ei.createElement(Vz,null,ei.createElement(I4.Provider,{value:N},ei.createElement(Hz,{target:p},ei.createElement(Bz,{force:!1},ei.createElement(j,{slot:R},ei.createElement(_,null,ei.createElement(E4,{initialFocus:o,initialFocusFallback:p,containers:I,features:L},ei.createElement(g4,{value:v},B({ourProps:$,theirProps:d,slot:R,defaultTag:O4,features:j4,visible:0===y,name:"Dialog"})))))))))))}),O4="div",j4=uz.RenderStrategy|uz.Static,N4=yz(function(e,t){let{transition:n=!1,open:r,...i}=e,s=iz(),o=e.hasOwnProperty("open")||null!==s,a=e.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&"boolean"!=typeof e.open)throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if("function"!=typeof e.onClose)throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return void 0===r&&!n||i.static?ei.createElement(h4,null,ei.createElement(P4,{ref:t,open:r,...i})):ei.createElement(h4,null,ei.createElement(a4,{show:r,transition:n,unmount:i.unmount},ei.createElement(P4,{ref:t,...i})))}),R4=yz(function(e,t){let n=(0,ei.useId)(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=e,[{dialogState:o,unmount:a},c]=A4("Dialog.Panel"),l=AB(t,c.panelRef),u=SB({open:0===o}),d={ref:l,id:r,onClick:aL(e=>{e.stopPropagation()})},h=i?o4:ei.Fragment,f=i?{unmount:a}:{},p=hz();return ei.createElement(h,{...f},p({ourProps:d,theirProps:s,slot:u,defaultTag:"div",name:"Dialog.Panel"}))}),$4=(yz(function(e,t){let{transition:n=!1,...r}=e,[{dialogState:i,unmount:s}]=A4("Dialog.Backdrop"),o=SB({open:0===i}),a={ref:t,"aria-hidden":!0},c=n?o4:ei.Fragment,l=n?{unmount:s}:{},u=hz();return ei.createElement(c,{...l},u({ourProps:a,theirProps:r,slot:o,defaultTag:"div",name:"Dialog.Backdrop"}))}),yz(function(e,t){let n=(0,ei.useId)(),{id:r=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:s,setTitleId:o}]=A4("Dialog.Title"),a=AB(t);(0,ei.useEffect)(()=>(o(r),()=>o(null)),[r,o]);let c=SB({open:0===s}),l={ref:a,id:r};return hz()({ourProps:l,theirProps:i,slot:c,defaultTag:"h2",name:"Dialog.Title"})})),M4=Object.assign(N4,{Panel:R4,Title:$4,Description:Az});function L4(e){return["ethereum","solana"].includes(e.chainType)}function B4(e){let t=e.replace("eip155:","");if(t)return parseInt(t);throw Error("Chain ID not compatible with CAIP-2 format.")}const U4=e=>e.filter(e=>"wallets"===e.method||("exchange"===e.method?"coinbase"===e.provider:"card"===e.method||"payment-request"===e.method?"coinbase"===e.provider||"moonpay"===e.provider:(e.method,!1))),D4={[wi.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[ki.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[bi.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[vi.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[xi.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[Ei.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[pi.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[gi.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[hi.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[fi.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[ui.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[di.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},F4=({address:e,appConfig:t,fundWalletConfig:n,methodScreen:r,chainIdOverride:i,comingFromSendTransactionScreen:s=!1})=>{let o,a;if(!t.fundingConfig)throw Error("Wallet funding is not enabled");let c=U4(t.fundingConfig.options);if(c.length<1)throw Error("Wallet funding is not enabled");o=i||(n?.chain?n.chain.id:B4(t.fundingConfig.defaultRecommendedCurrency.chain));let l=t.chains.find(e=>e.id===o);if(!l)throw new jd(`Funding chain ${o} is not in PrivyProvider chains list`);let u=n?.amount??t.fundingConfig.defaultRecommendedAmount,d=!1;function h(){if(!o)return;let e=D4[o];c.find(e=>"wallets"===e.method)&&!e&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),a=e,d=!0}var f;n&&"asset"in n?"USDC"===n.asset?h():"string"!=typeof n.asset&&"erc20"in n.asset&&(f=a=n.asset.erc20,d=f===D4[l.id]):"USDC"===t.fundingConfig.defaultRecommendedCurrency.asset&&h();let p=n?.defaultFundingMethod;return{chainType:"ethereum",address:e,amount:u,chain:l,erc20Address:a,erc20ContractInfo:d?{symbol:"USDC",decimals:6}:void 0,isUSDC:d,methodScreen:r,supportedOptions:c,comingFromSendTransactionScreen:s,defaultFundingMethod:p,usingDefaultFundingMethod:!!p,preferredCardProvider:n?.card?.preferredProvider,crossChainBridgingEnabled:t.fundingConfig.crossChainBridgingEnabled??!1,solanaChain:"solana:mainnet",uiConfig:n&&"uiConfig"in n?n.uiConfig:void 0,externalSolanaFundingScreen:null}};function z4({address:e,fundWalletConfig:t,appConfig:n,comingFromSendTransactionScreen:r,externalSolanaFundingScreen:i,methodScreen:s}){if(!n.fundingConfig)throw Error("Wallet funding is not enabled");let o=U4(n.fundingConfig.options);if(o.length<1)throw Error("Wallet funding is not enabled");if("USDC"===t?.asset&&"solana:testnet"===t?.chain)throw Error("USDC funding is not supported on the Solana testnet");let a=t?.amount??n.fundingConfig.defaultRecommendedAmount,c=t?.defaultFundingMethod;return{chainType:"solana",address:e,supportedOptions:o,amount:a,isUSDC:"USDC"===t?.asset,methodScreen:s,comingFromSendTransactionScreen:r,chain:t?.chain||"solana:mainnet",crossChainBridgingEnabled:n.fundingConfig.crossChainBridgingEnabled??!1,defaultFundingMethod:c,preferredCardProvider:t?.card?.preferredProvider,usingDefaultFundingMethod:!!c,uiConfig:t?.uiConfig,externalSolanaFundingScreen:i}}const W4=e=>e.reduce((e,t)=>!e||e.walletIndex<t.walletIndex?t:e,null);let q4=async({accessToken:e,appConfig:t,privy:n,emitPrivyEvent:r,proxy:i,refreshSessionAndUser:s,recoverEmbeddedWallet:o,user:a,walletIndex:c,setModalData:l,openModal:u,chainType:d,setUser:h})=>{if(c<0)throw r("createWallet","onError",Ld.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${c}) is invalid.`);let f=rH(a);if(c>0&&!f)throw r("createWallet","onError",Ld.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(t.embeddedWallets.requireUserOwnedRecoveryOnCreate&&"user-controlled-server-wallets-only"===t.embeddedWallets.mode)throw r("createWallet","onError",Ld.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!f&&t.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await H4({emitPrivyEvent:r,setModalData:l,openModal:u,chainType:d});let p=tZ(a,{chainType:d,walletIndex:c})[0];if(p)return{user:a,account:p};if(0===c&&!i)return H4({emitPrivyEvent:r,setModalData:l,openModal:u,chainType:d});if(!i)throw r("createWallet","onError",Ld.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return nZ({appConfig:t,walletIndex:c,chainType:d,user:a,accessToken:e,proxy:i,refreshSessionAndUser:s,privy:n,recoverEmbeddedWallet:o,setUser:h})},H4=async({emitPrivyEvent:e,setModalData:t,openModal:n,chainType:r})=>new Promise((i,s)=>{t({createWallet:{onSuccess:({user:t,account:n})=>{e("createWallet","onSuccess",{wallet:n}),i({user:t,account:n})},onFailure:t=>{e("createWallet","onError",Ld.UNKNOWN_EMBEDDED_WALLET_ERROR),s(t)},callAuthOnSuccessOnClose:!1,shouldCreateEth:"ethereum"===r,shouldCreateSol:"solana"===r}}),n(sJ)});const V4=()=>{let{importWallet:e}=(()=>{let{user:e}=eV(),{client:t,refreshSessionAndUser:n,initializeWalletProxy:r}=Jd(),i=Wf(),s=Mf();return{importWallet:(0,ei.useCallback)(({privateKey:o,additionalSigners:a})=>(async({emitPrivyEvent:e,getAccessToken:t,initializeWalletProxy:n,refreshSessionAndUser:r,user:i,appConfig:s},{privateKey:o,chainType:a,additionalSigners:c})=>{if(!i)throw e("linkAccount","onError",Ld.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new jd("User must be authenticated before linking an account.");let l="user-controlled-server-wallets-only"===s.embeddedWallets.mode?"tee":"on-device";if(c&&"on-device"===l)throw new jd("Specifying additionalSigners is only supported for TEE execution and this app uses On-device execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");let[u,d]=await Promise.all([t(),n(15e3)]);if(!d||!u)throw e("linkAccount","onError",Ld.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new jd("User must be authenticated before linking an account.");let{address:h}=await d.importWallet({privateKey:o,accessToken:u,chainType:a,mode:l,additionalSigners:c}),f=await r(),p="solana"===a?Xq(f):Qq(f),g=p?.find(e=>e.address===h);if(!g)throw e("createWallet","onError",Ld.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return e("createWallet","onSuccess",{wallet:g}),g})({getAccessToken:()=>t.getAccessToken(),user:e,initializeWalletProxy:r,refreshSessionAndUser:n,emitPrivyEvent:i,appConfig:s},{privateKey:o,chainType:"ethereum",additionalSigners:a}),[e,t,n,r,i,s])}})(),{createWallet:t}=function(){let{create:e}=(()=>{let e=Mf(),t=Wf(),{setModalData:n}=QH(),{initializeWalletProxy:r,recoverEmbeddedWallet:i,setUser:s,openModal:o,refreshSessionAndUser:a,privy:c,client:l}=Jd();return{create:async({chainType:u,options:d,latestUser:h})=>{let f=h;if(f||(f=await a()),!f)throw t("createWallet","onError",Ld.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await(async({appConfig:e,getAccessToken:t,initializeWalletProxy:n,user:r,privy:i,emitPrivyEvent:s,recoverEmbeddedWallet:o,setModalData:a,openModal:c,setUser:l,options:u,timeoutDuration:d,refreshSessionAndUser:h,chainType:f})=>{let[p,g]=await Promise.all([n(d),t()]);if(!g||!r)throw s("createWallet","onError",Ld.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!p&&e.customAuth?.enabled)throw s("createWallet","onError",Ld.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(u&&"walletIndex"in u&&"number"==typeof u.walletIndex){if("user-controlled-server-wallets-only"===e.embeddedWallets.mode)throw s("createWallet","onError",Ld.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return q4({accessToken:g,appConfig:e,privy:i,emitPrivyEvent:s,openModal:c,proxy:p,refreshSessionAndUser:h,recoverEmbeddedWallet:o,setModalData:a,user:r,walletIndex:u.walletIndex,chainType:f,setUser:l})}let m=u&&"createAdditional"in u&&u.createAdditional,y=tZ(r,{chainType:f});if(y[0]&&!m)throw s("createWallet","onError",Ld.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return q4({accessToken:g,appConfig:e,privy:i,emitPrivyEvent:s,openModal:c,proxy:p,recoverEmbeddedWallet:o,setModalData:a,user:r,walletIndex:(W4(y)?.walletIndex??-1)+1,chainType:f,refreshSessionAndUser:h,setUser:l})})({appConfig:e,privy:c,getAccessToken:()=>l.getAccessToken(),refreshSessionAndUser:a,initializeWalletProxy:r,user:f,emitPrivyEvent:t,recoverEmbeddedWallet:i,setModalData:n,openModal:o,setUser:s,options:d,timeoutDuration:3e4,chainType:u})}}})();return Ff("createWallet",void 0),{createWallet:async t=>{t&&"target"in t&&t&&(t=void 0);let{account:n}=await e({chainType:"ethereum",options:t});return n}}}();return{...(0,ei.useContext)(XH),importWallet:e,createWallet:t}},K4=nh("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),G4=nh("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Z4=nh("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Y4=nh("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),J4=nh("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);var Q4=o(6675);const X4=({style:e,color:t,...n})=>(0,ri.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:t||"currentColor",style:{height:"1.5rem",width:"1.5rem",...e},...n,children:(0,ri.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),e8=e=>{let[t,n]=(0,ei.useState)(!1);return(0,ri.jsxs)(t8,{color:e.color,onClick:()=>{n(!0),navigator.clipboard.writeText(e.text),setTimeout(()=>n(!1),1500)},$justCopied:t,children:[t?(0,ri.jsx)(X4,{style:{height:"14px",width:"14px"},strokeWidth:"2"}):(0,ri.jsx)(lJ,{style:{height:"14px",width:"14px"}}),t?"Copied":"Copy"," ",e.itemName?e.itemName:"to Clipboard"]})};let t8=Ay.button.withConfig({displayName:"StyledCopytoClipboardButton",componentId:"sc-46f4187f-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],e=>e.$justCopied?"var(--privy-color-foreground)":e.color||"var(--privy-color-foreground-3)",e=>e.$justCopied?"medium":"normal",e=>e.$justCopied?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)");const n8=Ay.img.withConfig({displayName:"StyledLogo",componentId:"sc-68c1b1ea-0"})(["&&{height:",";width:",";border-radius:16px;margin-bottom:12px;}"],e=>"sm"===e.size?"65px":"140px",e=>"sm"===e.size?"65px":"140px");let r8=e=>{if(!(0,ci.q)(e))return e;try{let t=(0,Q4.IQ)(e);return t.includes("")?e:t}catch{return e}},i8=e=>{try{let t=zw.K3.decode(e),n=(new TextDecoder).decode(t);return n.includes("")?e:n}catch{return e}},s8=e=>{let{types:t,primaryType:n,...r}=e.typedData;return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(u8,{data:r}),(0,ri.jsx)(e8,{text:(i=e.typedData,JSON.stringify(i,null,2)),itemName:"full payload to clipboard"})," "]});var i};const o8=({method:e,messageData:t,copy:n,iconUrl:r,isLoading:i,success:s,walletProxyIsLoading:o,errorMessage:a,isCancellable:c,onSign:l,onCancel:u,onClose:d})=>(0,ri.jsx)(bK,{title:n.title,subtitle:n.description,showClose:!0,onClose:d,icon:J4,iconVariant:"subtle",helpText:a?(0,ri.jsx)(l8,{children:a}):void 0,primaryCta:{label:n.buttonText,onClick:l,disabled:i||s||o,loading:i},secondaryCta:c?{label:"Not now",onClick:u,disabled:i||s||o}:void 0,watermark:!0,children:(0,ri.jsxs)(XK,{children:[r?(0,ri.jsx)(n8,{style:{alignSelf:"center"},size:"sm",src:r,alt:"app image"}):null,(0,ri.jsxs)(c8,{children:["personal_sign"===e&&(0,ri.jsx)(d8,{children:r8(t)}),"eth_signTypedData_v4"===e&&(0,ri.jsx)(s8,{typedData:t}),"solana_signMessage"===e&&(0,ri.jsx)(d8,{children:i8(t)})]})]})}),a8={component:()=>{let{authenticated:e}=eV(),{initializeWalletProxy:t,closePrivyModal:n}=Jd(),{navigate:r,data:i,onUserCloseViaDialogOrKeybindRef:s}=QH(),[o,a]=(0,ei.useState)(!0),[c,l]=(0,ei.useState)(""),[u,d]=(0,ei.useState)(),[h,f]=(0,ei.useState)(null),[p,g]=(0,ei.useState)(!1);(0,ei.useEffect)(()=>{e||r(a3)},[e]),(0,ei.useEffect)(()=>{t(3e4).then(e=>{a(!1),e||(l("An error has occurred, please try again."),d(new fH(new hH(c,sc.E32603_DEFAULT_INTERNAL_ERROR.eipCode))))})},[]);let{method:m,data:y,confirmAndSign:w,onSuccess:b,onFailure:v,uiOptions:x}=i.signMessage,E={title:x?.title||"Sign message",description:x?.description||"Signing this message will not cost you any fees.",buttonText:x?.buttonText||"Sign and continue"},k=e=>{e?b(e):v(u||new fH(new hH("The user rejected the request.",sc.E4001_USER_REJECTED_REQUEST.eipCode))),n({shouldCallAuthOnSuccess:!1}),setTimeout(()=>{f(null),l(""),d(void 0)},200)};return s.current=()=>{k(h)},(0,ri.jsx)(o8,{method:m,messageData:y,copy:E,iconUrl:x?.iconUrl&&"string"==typeof x.iconUrl?x.iconUrl:void 0,isLoading:p,success:null!==h,walletProxyIsLoading:o,errorMessage:c,isCancellable:x?.isCancellable,onSign:async()=>{g(!0),l("");try{let e=await w();f(e),g(!1),setTimeout(()=>{k(e)},nf)}catch(e){console.error(e),l("An error has occurred, please try again."),d(new fH(new hH(c,sc.E32603_DEFAULT_INTERNAL_ERROR.eipCode))),g(!1)}},onCancel:()=>k(null),onClose:()=>k(h)})}};let c8=Ay.div.withConfig({displayName:"MessageContainer",componentId:"sc-e01d451f-0"})(["flex:1;display:flex;flex-direction:column;gap:16px;"]),l8=Ay.p.withConfig({displayName:"ErrorText",componentId:"sc-e01d451f-1"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-error-dark);font-size:14px;line-height:22px;}"]),u8=Ay(JQ).withConfig({displayName:"StyledDisplayJsonTree",componentId:"sc-e01d451f-2"})(["margin-top:0;"]),d8=Ay(ZQ).withConfig({displayName:"StyledMessage",componentId:"sc-e01d451f-3"})(["margin-top:0;"]);function h8({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const f8=ei.forwardRef(h8);function p8({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z",clipRule:"evenodd"}))}const g8=ei.forwardRef(p8);function m8({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const y8=ei.forwardRef(m8);function w8({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const b8=ei.forwardRef(w8);function v8({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25"}))}const x8=ei.forwardRef(v8);function E8({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const k8=ei.forwardRef(E8);function _8({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const C8=ei.forwardRef(_8);function S8(e){return e?{"privy-ui":"t"}:void 0}class I8{async authenticate(){if(!this.api)throw new jd("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new jd("Email and email code must be set prior to calling authenticate.");try{return await this.api.post("/api/v1/passwordless/authenticate",{email:this.meta.email,code:this.meta.emailCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw $d(e)}}async link(){if(!this.api)throw new jd("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new jd("Email and email code must be set prior to calling authenticate.");try{return await this.api.post("/api/v1/passwordless/link",{email:this.meta.email,code:this.meta.emailCode})}catch(e){throw $d(e)}}async sendCodeEmail({email:e,captchaToken:t,withPrivyUi:n}){if(!this.api)throw new jd("Auth flow has no API instance");if(e&&(this.meta.email=e),t&&(this.meta.captchaToken=t),!this.meta.email)throw new jd("Email must be set when initialzing authentication.");let r=S8(n);try{return await this.api.post("/api/v1/passwordless/init",{email:this.meta.email,token:this.meta.captchaToken},{headers:{...r}})}catch(e){throw $d(e)}}constructor({email:e,captchaToken:t,disableSignup:n}){this.meta={email:e,captchaToken:t,disableSignup:n??!1}}}class A8 extends I8{async link(){if(!this.api)throw new jd("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode||!this.meta.oldAddress)throw new jd("Email, email code, and an old email address must be set prior to calling update.");try{return await this.api.post("/api/v1/passwordless/update",{oldAddress:this.meta.oldAddress,newAddress:this.meta.email,code:this.meta.emailCode})}catch(e){throw $d(e)}}constructor(e,t,n){super({email:t,captchaToken:n}),this.meta={email:t,captchaToken:n,oldAddress:e,disableSignup:!1}}}class T8{get meta(){return this._meta}async authenticate(){if(!this.api)throw new jd("Auth flow has no API instance");if(!this.meta.channelToken)throw new jd("Auth flow must be initialized first");try{let e=await this.api.post("/api/v1/farcaster/authenticate",{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});if(!e)throw new jd("No response from authentication");return e}catch(e){throw $d(e)}}async link(){if(!this.api)throw new jd("Auth flow has no API instance");try{return await this.api.post("/api/v1/farcaster/link",{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid})}catch(e){throw $d(e)}}async _startChannelOnce(){if(!this.api)throw new jd("Auth flow has no API instance");let e=await this.api.post("/api/v1/farcaster/init",{token:this.captchaToken});si.Fr&&!si.un&&e.connect_uri&&XW(e.connect_uri,"_blank"),this._meta={...this._meta,connectUri:e.connect_uri,channelToken:e.channel_token}}async initializeFarcasterConnect(){if(!this.api)throw new jd("Auth flow has no API instance");await this.startChannelOnce.execute()}async _pollForReady(){if(!this.api)throw new jd("Auth flow has no API instance");if(!this.meta.channelToken)throw new jd("Auth flow must be initialized first");let e=await this.api.get("/api/v1/farcaster/status",{headers:{"farcaster-channel-token":this.meta.channelToken}});return"completed"===e.state&&(this.message=e.message,this.signature=e.signature,this.fid=e.fid,!0)}constructor(e,t=!1){this._meta={disableSignup:!1},this.captchaToken=e,this.startChannelOnce=new eq(this._startChannelOnce.bind(this)),this.pollForReady=new eq(this._pollForReady.bind(this)),this._meta.disableSignup=t}}function P8(){return"undefined"!=typeof window&&"chrome-extension:"===window.location.protocol&&"chrome"in window}function O8(){if(!P8())return;let e=window.chrome;return e?.runtime?.id}function j8(){if(!P8())return!1;let e=window.chrome;return"function"==typeof e?.identity?.launchWebAuthFlow}async function N8(e){return new Promise((t,n)=>{j8()?window.chrome.identity.launchWebAuthFlow({url:e,interactive:!0},async e=>{try{let n=function(){if(!P8())return;let e=window.chrome;return e?.runtime?.lastError?.message}();if(n||!e){let e=`WebAuthFlow failed: ${n||"Response URI missing"}`;throw Error(e)}let r=new URL(e),i=O8();if(!i)throw Error("Invalid extension context");if("chrome-extension:"===r.protocol){if(r.hostname!==i)throw Error("Invalid responseUri origin")}else{if("https:"!==r.protocol)throw Error("Invalid responseUri protocol");{let e=r.hostname.split(".");if(3!==e.length||"chromiumapp"!==e[1]||"org"!==e[2]||e[0]!==i)throw Error("Invalid responseUri origin")}}let s=r.searchParams.get("privy_oauth_state"),o=r.searchParams.get("privy_oauth_code");if(!s||!o)throw Error("Invalid responseUri - missing required parameters");t({privyOAuthState:s,privyOAuthCode:o})}catch(e){n(e)}}):n(Error("Chrome identity API not available"))})}class R8{addCaptchaToken(e){this.meta.captchaToken=e}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new jd("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new jd("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if("undefined"===this.meta.authorizationCode)throw new jd("User denied confirmation during OAuth flow");let e=function(){let e=VW.get(yf);if(!e)throw new jd("Authentication error.");return e}();try{let t=await this.api.post(Hd,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});return VW.del(yf),VW.del(wf),VW.del(bf),t}catch(e){let t=$d(e);if(t.privyErrorCode)throw new jd(t.message||"Invalid code during OAuth flow.",void 0,t.privyErrorCode);if("User denied confirmation during OAuth flow"===t.message)throw new jd("Invalid code during oauth flow.",void 0,Ld.OAUTH_USER_DENIED);throw new jd("Invalid code during OAuth flow.",void 0,Ld.UNKNOWN_AUTH_ERROR)}}async link(){if(!this.api)throw new jd("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new jd("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if("undefined"===this.meta.authorizationCode)throw new jd("User denied confirmation during OAuth flow");let e=VW.get(yf);if(!e)throw new jd("Authentication error.");try{let t=await this.api.post(Vd,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e});return VW.del(yf),t}catch(e){throw $d(e)}}async getAuthorizationUrl(){if(!this.api)throw new jd("Auth flow has no API instance");if(!this.meta.provider)throw new jd("Provider must be set when initializing OAuth authentication.");let e=nq();VW.put(yf,e);let t=rq();VW.put(mf,t);let n=await iq(e);this.meta.withPrivyUi||VW.put(wf,!0),this.meta.disableSignup?VW.put(bf,!0):VW.del(bf);let r=S8(this.meta.withPrivyUi),i=window.location.href,s=function(){let e=O8();if(e)return`https://${e}.chromiumapp.org`}();s&&(i=s);try{return await this.api.post(qd,{provider:this.meta.provider,redirect_to:this.meta.customOAuthRedirectUrl||i,token:this.meta.captchaToken,code_challenge:n,state_code:t},{headers:{...r}})}catch(e){throw $d(e)}}constructor(e){this.meta=e}}const $8=({style:e})=>(0,ri.jsx)(oM,{style:{color:"var(--privy-color-error)",...e}});let M8={google:{name:"Google",component:uq},discord:{name:"Discord",component:cq},github:{name:"Github",component:lq},linkedin:{name:"LinkedIn",component:fq},twitter:{name:"Twitter",component:yq},spotify:{name:"Spotify",component:pq},instagram:{name:"Instagram",component:dq},tiktok:{name:"Tiktok",component:gq},line:{name:"LINE",component:hq},twitch:{name:"Twitch",component:mq},apple:{name:"Apple",component:aq}},L8=({iconUrl:e,...t})=>ei.createElement("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},ei.createElement("foreignObject",{x:"2",y:"2",width:"29",height:"28"},ei.createElement("img",{src:e,width:"29",height:"28",style:{display:"block",objectFit:"contain",borderRadius:"4px"},alt:"Provider icon"})));const B8=(e,t)=>{if(e in M8)return M8[e];if(oq(e)&&t){let n=t.find(t=>t.provider===e);if(n)return{name:n.provider_display_name,component:e=>ei.createElement(L8,{...e,iconUrl:n.provider_icon_url})}}return{name:"Unknown",component:$8}};function U8(){let e=new URLSearchParams(window.location.search),t=e.get("privy_oauth_code"),n=e.get("privy_oauth_state"),r=e.get("privy_oauth_provider");if(!t||!n||!r)return{inProgress:!1};let i=!1;try{i=!!window.opener.location.origin}catch{}return{inProgress:!0,authorizationCode:t,stateCode:n,provider:r,withPrivyUi:!VW.get(wf),popupFlow:null!==window.opener&&i,disableSignup:!!VW.get(bf)}}class D8{async initRegisterFlow(e){if(!this.api)throw new jd("Auth flow has no API instance");this.authenticateForRegistration=!0,this.meta.initRegisterResponse=await this.initRegisterOnce.execute(e)}async initAuthenticationFlow(e){if(!this.api)throw new jd("Auth flow has no API instance");this.authenticateForRegistration=!1,this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute(e)}async initLinkFlow(){if(!this.api)throw new jd("Auth flow has no API instance");this.meta.initLinkResponse=await this.initLinkOnce.execute()}async register(){let e=await o.e(4621).then(o.bind(o,4621));if(!this.api)throw new jd("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new jd("WebAuthn is not supported in this browser");this.meta.initRegisterResponse||(this.meta.initRegisterResponse=await this.initRegisterOnce.execute());try{let t=this.meta.initRegisterResponse.options,n=await e.startRegistration({optionsJSON:this._transformInitLinkOptionsToCamelCase(t)});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post("/api/v1/passkeys/register",{relying_party:this.meta.initRegisterResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(n)})}catch(e){if("NotAllowedError"===e.name)throw new jd("Passkey request timed out or rejected by user.",void 0,Ld.PASSKEY_NOT_ALLOWED);throw $d(e)}}async authenticate(){if(this.authenticateForRegistration)return this.register();let e=await o.e(4621).then(o.bind(o,4621));if(!this.api)throw new jd("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new jd("WebAuthn is not supported in this browser");this.meta.initAuthenticateResponse||(this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute());let t=this.meta.allowedCredentialsIds?.map(e=>({type:"public-key",id:e}))??this.meta.initAuthenticateResponse.options.allow_credentials;try{let n=await e.startAuthentication({optionsJSON:this._transformInitAuthenticateOptionsToCamelCase({...this.meta.initAuthenticateResponse.options,allow_credentials:t})});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post("/api/v1/passkeys/authenticate",{relying_party:this.meta.initAuthenticateResponse.relying_party,challenge:this.meta.initAuthenticateResponse.options.challenge,authenticator_response:this._transformAuthenticationResponseToSnakeCase(n)})}catch(e){if("NotAllowedError"===e.name)throw new jd("Passkey request timed out or rejected by user.",void 0,Ld.PASSKEY_NOT_ALLOWED);throw $d(e)}}async link(){let e=await o.e(4621).then(o.bind(o,4621));if(!this.api)throw new jd("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new jd("WebAuthn is not supported in this browser");this.meta.initLinkResponse||(this.meta.initLinkResponse=await this.initLinkOnce.execute());try{let t=this.meta.initLinkResponse.options,n=await e.startRegistration({optionsJSON:this._transformInitLinkOptionsToCamelCase(t)});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post("/api/v1/passkeys/link",{relying_party:this.meta.initLinkResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(n)})}catch(e){if("NotAllowedError"===e.name)throw new jd("Passkey request timed out or rejected by user.",void 0,Ld.PASSKEY_NOT_ALLOWED);throw $d(e)}}async _initRegisterOnce(e){if(!this.api)throw new jd("Auth flow has no API instance");let t=S8(e);return await this.api.post("/api/v1/passkeys/register/init",{token:this.meta.captchaToken},{headers:{...t}})}async _initAuthenticateOnce(e){if(!this.api)throw new jd("Auth flow has no API instance");let t=S8(e);return await this.api.post("/api/v1/passkeys/authenticate/init",{token:this.meta.captchaToken},{headers:{...t}})}async _initLinkOnce(){if(!this.api)throw new jd("Auth flow has no API instance");return await this.api.post("/api/v1/passkeys/link/init",{})}_transformInitLinkOptionsToCamelCase(e){return{rp:e.rp,user:{id:e.user.id,name:e.user.name,displayName:e.user.display_name},challenge:e.challenge,pubKeyCredParams:e.pub_key_cred_params.map(e=>({type:e.type,alg:e.alg})),timeout:e.timeout,excludeCredentials:e.exclude_credentials?.map(e=>({id:e.id,type:e.type,transports:e.transports})),authenticatorSelection:{authenticatorAttachment:e.authenticator_selection?.authenticator_attachment,requireResidentKey:e.authenticator_selection?.require_resident_key,residentKey:e.authenticator_selection?.resident_key,userVerification:e.authenticator_selection?.user_verification},attestation:e.attestation,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props?.rk,hmacCreateSecret:e.extensions?.hmac_create_secret},hints:this.meta.hints}}_transformRegistrationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}_transformInitAuthenticateOptionsToCamelCase(e){return{rpId:e.rp_id,challenge:e.challenge,allowCredentials:e.allow_credentials?.map(e=>({id:e.id,type:e.type,transports:e.transports}))||[],timeout:e.timeout,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props,hmacCreateSecret:e.extensions?.hmac_create_secret},userVerification:e.user_verification}}_transformAuthenticationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}constructor({captchaToken:e,setPasskeyAuthState:t,hints:n}){this.authenticateForRegistration=!1,this.initRegisterOnce=new eq(this._initRegisterOnce.bind(this)),this.initAuthenticateOnce=new eq(this._initAuthenticateOnce.bind(this)),this.initLinkOnce=new eq(this._initLinkOnce.bind(this)),this.meta={captchaToken:e,setPasskeyAuthState:t,hints:n}}}class F8{async authenticate(){if(!this.api)throw new jd("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new jd("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post("/api/v1/passwordless_sms/authenticate",{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw $d(e)}}async link(){if(!this.api)throw new jd("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new jd("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post("/api/v1/passwordless_sms/link",{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw $d(e)}}async sendSmsCode({phoneNumber:e,captchaToken:t,withPrivyUi:n}){if(!this.api)throw new jd("Auth flow has no API instance");if(e&&(this.meta.phoneNumber=e),t&&(this.meta.captchaToken=t),!this.meta.phoneNumber)throw new jd("phone nNumber must be set when initialzing authentication.");let r=S8(n);try{return await this.api.post("/api/v1/passwordless_sms/init",{phoneNumber:this.meta.phoneNumber,token:this.meta.captchaToken},{headers:{...r}})}catch(e){throw $d(e)}}constructor({phoneNumber:e,captchaToken:t,disableSignup:n}){this.meta={phoneNumber:e,captchaToken:t,disableSignup:n??!1}}}class z8 extends F8{async link(){if(!this.api)throw new jd("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode||!this.meta.oldPhoneNumber)throw new jd("Phone number, sms code, and an old phone number must be set prior to calling update.");try{return await this.api.post("/api/v1/passwordless_sms/update",{old_phone_number:this.meta.oldPhoneNumber,new_phone_number:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw $d(e)}}constructor(e,t,n){super({phoneNumber:t,captchaToken:n}),this.meta={phoneNumber:t,captchaToken:n,oldPhoneNumber:e,disableSignup:!1}}}class W8{static parse(e){try{return new W8(e)}catch(e){return null}}static throwIfNotWellFormedJwt(e){return Va(e),e}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=Va(e)}}class q8 extends W8{static parse(e){try{return new q8(e)}catch(e){return null}}get appId(){return this._decoded.aid?this._decoded.aid:this.audience}}let H8,V8;class K8 extends vH{async initialize(){await this.importPromise,await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:lH,id:"com.coinbase.wallet"}}async promptConnection(){try{await this.importPromise;let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||0===e.length||!e[0])throw new Rd("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw dH(e)}}constructor(e,t,n,r,i){super("base_account",e,t,n),this.connectorType="base_account",this.walletClientType="base_account",this.displayName="Base",this.setBaseAccountSdk=i,this.proxyProvider=new xH(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.baseAccountConfig={...r,appChainIds:[t.id].concat(e.map(e=>e.id))},H8?(this.proxyProvider.setWalletProvider(H8.getProvider()),this.setBaseAccountSdk(H8),console.log("Base Account SDK Initialized")):this.importPromise=o.e(6896).then(o.bind(o,6896)).then(({createBaseAccountSDK:e})=>{H8=e(this.baseAccountConfig),this.proxyProvider.setWalletProvider(H8.getProvider()),this.setBaseAccountSdk(H8),console.log("Base Account SDK Initialized")}).catch(console.error)}}let G8=[1,11155111,137,10,8453,84532,42161,7777777,43114,56];class Z8 extends vH{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:cH,id:"com.coinbase.wallet"}}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||0===e.length||!e[0])throw new Rd("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw dH(e)}}updateConnectionPreference(e){this.coinbaseWalletConfig={...this.coinbaseWalletConfig,preference:{...this.coinbaseWalletConfig.preference,options:e}},this.walletClientType="smartWalletOnly"===e?"coinbase_smart_wallet":"coinbase_wallet",V8=P6({...this.coinbaseWalletConfig}),this.proxyProvider.setWalletProvider(V8.getProvider())}constructor(e,t,n,r){if(super("coinbase_wallet",e,t,n),this.connectorType="coinbase_wallet",this.displayName="Coinbase Wallet",this.proxyProvider=new xH(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.coinbaseWalletConfig={...r,appChainIds:[t.id].concat(e.map(e=>e.id))},this.walletClientType="smartWalletOnly"===this.coinbaseWalletConfig.preference?.options?"coinbase_smart_wallet":"coinbase_wallet","coinbase_smart_wallet"===this.walletClientType&&(this.displayName="Coinbase Smart Wallet"),!V8){let e="eoaOnly"!==this.coinbaseWalletConfig.preference?.options?(this.coinbaseWalletConfig.appChainIds??[]).filter(e=>!G8.includes(e)):[];e.length>0&&!e.every(e=>Si.has(e))&&console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${e.join(", ")}`),V8=P6(this.coinbaseWalletConfig)}this.proxyProvider.setWalletProvider(V8.getProvider())}}class Y8 extends vH{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[Nq(e?.chainId||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:EH,id:"io.privy.wallet"}}disconnect(){this.connected=!1}async promptConnection(){}constructor({provider:e,chains:t,defaultChain:n,rpcConfig:r,imported:i,walletIndex:s}){super("privy",t,n,r),this.connectorType="embedded",this.proxyProvider=e,this.walletIndex=s,i&&(this.connectorType="embedded_imported"),this.subscribeListeners()}}const J8=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];class Q8 extends Error{constructor(e,t,n){super(e),this.code=t,this.data=n}}class X8 extends vc.A{async handleSendTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Q8(`Invalid params for ${e.method}`,4200);let t=e.params[0];if(!await hte()||!this.address)throw new Q8("Disconnected",4900);let{hash:n}=await mte(t,{address:this.address});return n}async handleSignTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Q8(`Invalid params for ${e.method}`,4200);let t=e.params[0];if(!await hte()||!this.address)throw new Q8("Disconnected",4900);let{signature:n}=await gte(t,{address:this.address});return n}handleSwitchEthereumChain(e){let t;if(!e.params||!Array.isArray(e.params))throw new Q8(`Invalid params for ${e.method}`,4200);if("string"==typeof e.params[0])t=e.params[0];else{if(!("chainId"in e.params[0])||"string"!=typeof e.params[0].chainId)throw new Q8(`Invalid params for ${e.method}`,4200);t=e.params[0].chainId}this.chainId=Number(t),this.publicClient=Cq(this.chainId,this.chains,this.rpcConfig,{appId:this.appId}),this.emit("chainChanged",t)}async handlePersonalSign(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for personal_sign");let t=e.params[0],n=e.params[1],{signature:r}=await fte({message:t},{address:n});return r}async handleSignedTypedData(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_signTypedData_v4");let t=e.params[0],n="string"==typeof e.params[1]?JSON.parse(e.params[1]):e.params[1],{signature:r}=await pte(Mq(n),{address:t});return r}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let t={...e.params[0],chainId:Nq(this.chainId)};return await this.publicClient.estimateGas({account:t.from??this.address,..._c(t)})}async request(e){switch(console.debug("Embedded1193Provider.request() called with args",e),e.method){case"eth_accounts":case"eth_requestAccounts":return this.address?[this.address]:[];case"eth_chainId":return Nq(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":return this.handleSendTransaction(e);case"eth_signTransaction":return this.handleSignTransaction(e);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"personal_sign":return this.handlePersonalSign(e);case"eth_signTypedData_v4":return this.handleSignedTypedData(e)}if(!(e=>J8.includes(e))(e.method))return this.publicClient.request({method:e.method,params:e.params});{let t=await hte();if(await yte({address:this.address}),!t||!this.address)throw new Q8("Disconnected",4900);try{let n={method:e.method,params:e.params},r=this.walletAccount;return r&&kH(r)?this.handleWalletApiRequest(n,r,t):(await this.walletProxy.rpc({accessToken:t,entropyId:this.entropyId,entropyIdVerifier:this.entropyIdVerifier,chainType:"ethereum",hdWalletIndex:this.walletIndex,request:n})).response.data}catch(e){throw console.error(e),new Q8("Disconnected",4900)}}}async handleWalletApiRequest(e,t,n){let r=this.privyClient;if(!r)throw new Q8("Disconnected",4900);if("secp256k1_sign"===e.method){let i=await $i(r,async({message:e})=>this.walletProxy.signWithUserSigner({accessToken:n,message:e}),{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:t.id,params:{hash:e.params[0]}});if("secp256k1_sign"!==i.method)throw new Q8(`Invalid params for ${e.method}`,4200);return i.data.signature}throw new Q8(`Method not supported: ${e.method}`,4200)}constructor({walletProxy:e,address:t,entropyId:n,entropyIdVerifier:r,rpcConfig:i,chains:s,appId:o,chainId:a=1,walletIndex:c,privyClient:l,walletAccount:u}){super(),this.walletProxy=e,this.address=t,this.entropyId=n,this.entropyIdVerifier=r,this.chainId=a,this.rpcConfig=i,this.chains=s,this.publicClient=Cq(a,this.chains,i,{appId:o}),this.rpcTimeoutDuration=wH(i,"privy"),this.appId=o,this.walletIndex=c,this.privyClient=l,this.walletAccount=u}}function e9(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw TypeError("attempted to use private field on non-instance");return e}var t9=0;class n9 extends vH{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return{name:this.providerDetail.info.name,icon:this.providerDetail.info.icon,id:this.providerDetail.info.rdns}}disconnect(){console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`)}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||0===e.length||!e[0])throw new Rd("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw dH(e)}}constructor(e,t,n,r,i){super(i||"unknown",e,t,n),this.connectorType="injected",this.proxyProvider=new xH(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.providerDetail=r;let s=r.provider;this.proxyProvider.setWalletProvider(s)}}var r9="__private_"+t9+++"__walletBranding";class i9 extends vH{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return e9(this,r9)[r9]??{name:"Browser Extension",icon:CH,id:"extension"}}disconnect(){console.warn("Programmatic disconnect with browser wallets is not yet supported.")}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||0===e.length||!e[0])throw new Rd("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw dH(e)}}constructor(e,t,n,r,i){super(i??"unknown",e,t,n),Object.defineProperty(this,r9,{writable:!0,value:void 0}),this.connectorType="injected",this.proxyProvider=new xH(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.proxyProvider.setWalletProvider(r),"metamask"===i?e9(this,r9)[r9]={name:"MetaMask",icon:SH,id:"io.metamask"}:"phantom"===i&&(e9(this,r9)[r9]={name:"Phantom",icon:IH,id:"phantom"})}}class s9 extends n9{disconnect(){console.warn("MetaMask does not support programmatic disconnect.")}async promptConnection(){try{si.Fr||await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||0===e.length||!e[0])throw new Rd("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw dH(e)}}}class o9 extends vc.A{get wallets(){let e=new Set;return this.walletConnectors.flatMap(e=>e.wallets).sort((e,t)=>e.connectedAt&&t.connectedAt?t.connectedAt-e.connectedAt:0).filter(t=>{let n=`${t.address}${t.walletClientType}${t.connectorType}${t.meta.id}`;return!e.has(n)&&(e.add(n),!0)})}async initialize(e){if(this.initialized&&!e||(e&&this.removeAllConnectors(),this.externalWalletConfig.disableAllExternalWallets))return;let t=async function({store:e,walletList:t,externalWalletConfig:n,walletChainType:r,timeout:i=3e3}){let s=!1,o=window;return new Promise(a=>{function c(){if(s)return;s=!0,window.removeEventListener("ethereum#initialized",c);let i=e.getProviders();console.debug("Detected injected providers:",i.map(e=>e.info));let o=[];for(let e of i)t.includes("coinbase_wallet")&&"com.coinbase.wallet"===e.info.rdns||"solana-only"===r&&"app.phantom"===e.info.rdns||o.push({type:e.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:e});if("solana-only"!==r)for(let e of function(){let e=window,t=e.ethereum;if(!t)return[];let n=[];if(t.providers?.length)for(let e of t.providers)e&&n.push(e);return n.push(e.ethereum),n}()){let t=Eq(e);if(!i.some(e=>e.info.name===t)){if(kq(e,!0)&&!o.find(e=>"metamask"===e.type)){o.push({type:"metamask",legacyInjectedProvider:e});continue}if("Phantom"===t&&!o.find(e=>"phantom"===e.type)){o.push({type:"phantom",legacyInjectedProvider:e});continue}if("Coinbase Wallet"===t&&!o.find(e=>"coinbase_wallet"===e.type&&"smartWalletOnly"!==n.coinbaseWallet?.config?.preference?.options)){o.push({type:"coinbase_wallet",legacyInjectedProvider:e});continue}o.find(e=>"unknown_browser_extension"===e.type)||o.push({type:"unknown_browser_extension",legacyInjectedProvider:e})}}a(o)}o.ethereum?c():(window.addEventListener("ethereum#initialized",c,{once:!0}),setTimeout(()=>{c()},i))})}({store:this.store,walletList:this.walletList,externalWalletConfig:this.externalWalletConfig,walletChainType:this.walletChainType}).then(e=>{e.forEach(({type:e,eip6963InjectedProvider:t,legacyInjectedProvider:n})=>{this.createEthereumWalletConnector({connectorType:"injected",walletClientType:e,providers:{eip6963InjectedProvider:t,legacyInjectedProvider:n}})})});for(let e of(this.walletList.includes("coinbase_wallet")&&this.createEthereumWalletConnector({connectorType:"coinbase_wallet",walletClientType:"coinbase_wallet"}),this.walletList.includes("base_account")&&this.createEthereumWalletConnector({connectorType:"base_account",walletClientType:"base_account"}),Object.values(TH)))!e.isInstalled&&this.walletList.includes(e.client)&&(["ethereum-only","ethereum-and-solana"].includes(this.walletChainType)&&e.chainTypes.includes("ethereum")&&this.createEthereumWalletConnector({connectorType:"null",walletClientType:e.client,walletConfig:e}),["ethereum-and-solana","solana-only"].includes(this.walletChainType)&&e.chainTypes.includes("solana")&&this.addSolanaWalletConnector(new LH({id:e.client,name:e.name})));this.externalWalletConfig.walletConnect.enabled&&(this.walletList.includes("wallet_connect_qr")||this.walletList.includes("wallet_connect"))&&"solana-only"!==this.walletChainType&&this.createEthereumWalletConnector({connectorType:"wallet_connect_v2",walletClientType:"unknown"});let n=this.walletList.includes("wallet_connect_qr_solana"),r=this.externalWalletConfig.solana.connectors?.get()||[],i=async e=>{if(!n)return;let t=e.find(e=>"walletconnect_solana"===e.walletBranding?.id);t&&t.wallet&&await t.wallet.initialize({walletConnectCloudProjectId:this.walletConnectCloudProjectId,privyAppName:this.privyAppName})};i(r),r.filter(e=>n||"walletconnect_solana"!==e.walletBranding?.id).forEach(this.addSolanaWalletConnector),this.externalWalletConfig.solana.connectors?._setOnConnectorsUpdated?.(e=>{i(e),e?.filter(e=>n||"walletconnect_solana"!==e.walletBranding?.id).forEach(this.addSolanaWalletConnector)}),await t,this.initialized=!0}findWalletConnector(e,t,n){return"wallet_connect_v2"===e?this.walletConnectors.filter(bH).find(t=>t.connectorType===e&&(!n||t.wallets.some(e=>e.address===n)))??null:this.walletConnectors.filter(bH).find(r=>r.connectorType===e&&r.walletClientType===t&&(!n||r.wallets.some(e=>e.address===n)))??null}findSolanaWalletConnector(e){return this.walletConnectors.filter(DH).find(t=>"unknown"===t.walletClientType?t.walletBranding.id===e:t.walletClientType===e)??null}findEmbeddedWalletConnectors(){return this.walletConnectors.filter(e=>"embedded"===e.connectorType)}findImportedWalletConnectors(){return this.walletConnectors.filter(e=>"embedded_imported"===e.connectorType)}onInitialized(e){e.wallets.forEach(e=>{let t=this.storedConnections.find(t=>t.address===e.address&&t.connectorType===e.connectorType&&("solana"===e.type&&"unknown"===t.walletClientType&&"unknown"===e.walletClientType?e.meta.id===t.id:t.walletClientType===e.walletClientType));t&&(e.connectedAt=t.connectedAt)}),this.emit("walletsUpdated"),this.emit("connectorInitialized")}onWalletsUpdated(e){e.initialized&&this.emit("walletsUpdated")}addEmbeddedWalletConnectors({walletProxy:e,user:t,embeddedWallets:n,defaultChain:r,appId:i,privyClient:s}){let{entropyId:o,entropyIdVerifier:a}=oH(t);for(let t of n){let n=this.findEmbeddedWalletConnectors().find(e=>e.walletIndex===t.walletIndex);if(n&&bH(n))n.proxyProvider.walletProxy=e;else{let n=new Y8({provider:new X8({walletProxy:e,address:t.address,entropyId:o,entropyIdVerifier:a,rpcConfig:this.rpcConfig,chains:this.chains,appId:i,chainId:r.id,walletIndex:t.walletIndex,privyClient:s,walletAccount:t}),chains:this.chains,defaultChain:r,rpcConfig:this.rpcConfig,imported:!1,walletIndex:t.walletIndex});this.addWalletConnector(n)}}}addImportedWalletConnector(e,t,n,r){let i=this.findWalletConnector("embedded_imported","privy",t);if(i&&bH(i))i.proxyProvider.walletProxy=e;else{let i=new Y8({provider:new X8({walletProxy:e,address:t,entropyId:t,entropyIdVerifier:"ethereum-address-verifier",walletIndex:0,rpcConfig:this.rpcConfig,chains:this.chains,appId:r,chainId:n.id}),chains:this.chains,walletIndex:0,defaultChain:n,rpcConfig:this.rpcConfig,imported:!0});this.addWalletConnector(i)}}removeEmbeddedWalletConnectors(){this.walletConnectors=this.walletConnectors.filter(e=>"embedded"!==e.connectorType),this.storedConnections=jH(),this.emit("walletsUpdated")}removeImportedWalletConnectors(){let e=this.findImportedWalletConnectors();e.length&&(e.forEach(e=>{let t=this.walletConnectors.indexOf(e);this.walletConnectors.splice(t,1)}),this.storedConnections=jH(),this.emit("walletsUpdated"))}async createEthereumWalletConnector({connectorType:e,walletClientType:t,providers:n,walletConfig:r}){let i=this.findWalletConnector(e,t);if(i&&bH(i))return i instanceof GH&&i.resetConnection(t),i;let s=(()=>"injected"!==e?"coinbase_wallet"===e?new Z8(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.coinbaseWallet.config):"base_account"===e?new K8(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.baseAccount.config,this.setBaseAccountSdk):"null"!==e?new GH({walletConnectCloudProjectId:this.walletConnectCloudProjectId,rpcConfig:this.rpcConfig,chains:this.chains,defaultChain:this.defaultChain,shouldEnforceDefaultChainOnConnect:this.shouldEnforceDefaultChainOnConnect,privyAppId:this.privyAppId,privyAppName:this.privyAppName,walletClientType:t}):r?new _H({id:r.client,name:r.name,defaultChain:this.defaultChain,walletClientType:r.client}):null:"metamask"===t&&n?.eip6963InjectedProvider?new s9(this.chains,this.defaultChain,this.rpcConfig,n?.eip6963InjectedProvider,"metamask"):"metamask"===t&&n?.legacyInjectedProvider?new i9(this.chains,this.defaultChain,this.rpcConfig,n?.legacyInjectedProvider,"metamask"):"phantom"===t&&n?.legacyInjectedProvider?new i9(this.chains,this.defaultChain,this.rpcConfig,n?.legacyInjectedProvider,"phantom"):n?.legacyInjectedProvider&&"unknown_browser_extension"===t?new i9(this.chains,this.defaultChain,this.rpcConfig,n?.legacyInjectedProvider):n?.eip6963InjectedProvider?new n9(this.chains,this.defaultChain,this.rpcConfig,n?.eip6963InjectedProvider,t):void 0)();return s&&this.addWalletConnector(s),s||null}addWalletConnector(e){this.walletConnectors.push(e),e.on("initialized",()=>this.onInitialized(e)),e.on("walletsUpdated",()=>this.onWalletsUpdated(e)),e.initialize().catch(e=>{console.debug("Failed to initialize connector",e)})}setWalletList(e){this.walletList=e,this.initialized&&this.initialize(!0).catch(console.error)}removeAllConnectors(){for(let e of this.walletConnectors)e.removeAllListeners();this.walletConnectors=[]}constructor(e,t,n,r,i,s,o,a,c,l,u,d){super(),this.addSolanaWalletConnector=async e=>{let t=this.findSolanaWalletConnector(e.walletClientType);if(!t||"null"===t.connectorType){if("null"===t?.connectorType){let e=this.walletConnectors.indexOf(t);this.walletConnectors.splice(e,1)}this.addWalletConnector(e)}},this.privyAppId=e,this.walletConnectCloudProjectId=t,this.rpcConfig=n,this.chains=r,this.defaultChain=i,this.walletConnectors=[],this.initialized=!1,this.store=s,this.walletList=o,this.shouldEnforceDefaultChainOnConnect=a,this.externalWalletConfig=c,this.privyAppName=l,this.walletChainType=d||"ethereum-only",this.setBaseAccountSdk=u,this.storedConnections=jH()}}let a9=[zd,Wd,Kd];class c9{async get(e,t){try{return await this.baseFetch(e,t)}catch(e){throw $d(e)}}async post(e,t,n){try{return await this.baseFetch(e,{method:"POST",...t?{body:t}:{},...n})}catch(e){throw $d(e)}}async delete(e,t){try{return await this.baseFetch(e,{method:"DELETE",...t})}catch(e){throw $d(e)}}constructor({appId:e,appClientId:t,client:n,defaults:r}){this.appId=e,this.appClientId=t,this.clientAnalyticsId=n.clientAnalyticsId,this.sdkVersion="3.5.1",this.client=n,this.defaults=r,this.fallbackApiUrl=n.fallbackApiUrl,this.baseFetch=vW.create({baseURL:this.defaults.baseURL,timeout:this.defaults.timeout,retry:3,retryDelay:500,retryStatusCodes:[408,409,425,500,502,503,504],credentials:"include",onRequest:async({request:e,options:t})=>{let n=new Headers(t.headers);n.set("privy-app-id",this.appId),this.appClientId&&n.set("privy-client-id",this.appClientId),n.set("privy-ca-id",this.clientAnalyticsId||""),n.set("privy-client",`react-auth:${this.sdkVersion}`);let r=a9.includes(e.toString());if(!n.has("authorization")){let e=await this.client.getAccessToken({disableAutoRefresh:r});null!==e&&n.set("authorization",`Bearer ${e}`)}t.headers=n,t.retryDelay&&"number"==typeof t.retryDelay&&(t.retryDelay=3*t.retryDelay)},onRequestError:({error:e})=>{if(e instanceof DOMException&&"AbortError"===e.name)throw new Nd}})}}let l9=/paymaster\.biconomy\.io\/api/i,u9={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}};const d9=(e,t)=>e&&l9.test(e)?u9:t&&t.policy_id?{policyId:t.policy_id}:void 0;class h9{async authenticate(){if(!this.api)throw new jd("Auth flow has no API instance");try{return await this.api.post("/api/v1/custom_jwt_account/authenticate",{token:this.meta.token})}catch(e){throw $d(e)}}async link(){if(!this.api)throw new jd("Auth flow has no API instance");try{return await this.api.post("/api/v1/custom_jwt_account/link",{token:this.meta.token})}catch(e){throw $d(e)}}constructor(e){this.meta={token:e}}}class f9{getOrCreateGuestCredential(e){let t=pf(e);if(HW()){if(VW.get(t))return VW.get(t);{let e=Wa(tq(32));return VW.put(t,e),e}}return Wa(tq(32))}async authenticate(){if(!this.api)throw new jd("Auth flow has no API instance");try{return await this.api.post("/api/v1/guest/authenticate",{guest_credential:this.meta.guestCredential})}catch(e){throw $d(e)}}async link(){throw Error("Linking is not supported for the guest flow")}constructor(e){this.meta={guestCredential:this.getOrCreateGuestCredential(e)}}}function p9(){return!(si.nr&&window.location.origin.startsWith("http://localhost"))}const g9=gw(()=>({identityToken:null}));var m9,y9=((m9={}).PRIVY="privy_access_token",m9.CUSTOMER="customer_access_token",m9);class w9{get token(){return this.privyAccessToken||this.customerAccessToken}getToken(e){return"privy_access_token"===e?this.privyAccessToken:this.customerAccessToken}get customerAccessToken(){return this._getToken(of)}get privyAccessToken(){return this._getToken(lf)}_getToken(e){try{let t=VW.get(e);return"string"==typeof t?W8.throwIfNotWellFormedJwt(t):null}catch(e){return console.error(e),this.destroyLocalState(),null}}get refreshToken(){try{let e=VW.get(cf);return"string"==typeof e?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}getProviderAccessToken(e){try{let t=VW.get(gf(e));if("string"!=typeof t)return null;{let n=new W8(t);return n.isExpired()?(VW.del(gf(e)),null):n.value}}catch(e){return console.error(e),null}}get mightHaveServerCookies(){try{let e=Jc.get(hf);return void 0!==e&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e="privy_access_token"){let t="string"==typeof this.getToken(e),n="string"==typeof this.refreshToken&&"deprecated"!==this.refreshToken;return this.mightHaveServerCookies||t&&n}hasActiveAccessToken(e){let t=W8.parse(this.getToken(e));return null!==t&&!t.isExpired(30)}authenticate(e){return this.authenticateOnce.execute(e)}link(e){return this.linkOnce.execute(e)}refresh(){return this.refreshOnce.execute()}destroy(){return this.destroyOnce.execute()}storeProviderAccessToken(e,t){"string"==typeof t?VW.put(gf(e),t):VW.del(gf(e))}updateIdentityToken(e){"string"==typeof e?this.storeIdentityToken(e):this.clearIdentityToken()}async _authenticate(e){try{let t=await e.authenticate(),{user:n,is_new_user:r,oauth_tokens:i}=t;this.handleTokenResponse(t);let s=i?{provider:i.provider,accessToken:i.access_token,accessTokenExpiresInSeconds:i.access_token_expires_in_seconds,refreshToken:i.refresh_token,refreshTokenExpiresInSeconds:i.refresh_token_expires_in_seconds,scopes:i.scopes}:void 0;return this._trackAuthenticateEvents(e,r),{user:iH(n),isNewUser:r,oAuthTokens:s}}catch(e){throw console.warn("Error authenticating session"),Md(e)}}_trackAuthenticateEvents(e,t){let n=function(e){return e instanceof I8?"email":e instanceof F8?"sms":e instanceof vq?"siwe":e instanceof f9?"guest":e instanceof h9?"custom_auth":e instanceof R8?e.meta.provider:null}(e);n&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate",payload:{method:n,isNewUser:t}}),"siwe"===n&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate_siwe",payload:{connectorType:e.meta.connectorType,walletClientType:e.meta.walletClientType}})}async _link(e){try{let t=await e.link(),n=t.oauth_tokens,r=n?{provider:n.provider,accessToken:n.access_token,accessTokenExpiresInSeconds:n.access_token_expires_in_seconds,refreshToken:n.refresh_token,refreshTokenExpiresInSeconds:n.refresh_token_expires_in_seconds,scopes:n.scopes}:void 0;return{user:iH(t),oAuthTokens:r}}catch(e){throw console.warn("Error linking account"),Md(e)}}async _refresh(){if(!this.api)throw new jd("Session has no API instance");if(!this.client)throw new jd("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let e=this.token,t=this.refreshToken;if(this.client.useServerCookies&&!this.mightHaveServerCookies&&this.token&&window.location.origin===this.client.apiUrl)return this.destroyLocalState(),null;try{let n;if(!(e&&t||this.mightHaveServerCookies))return null;{let r={};e&&(r.authorization=`Bearer ${e}`),n=await this.api.post(zd,t?{refresh_token:t}:{},{headers:r})}return this.handleTokenResponse(n),iH(n.user)}catch(e){if(e instanceof Od&&e.privyErrorCode===Ld.MISSING_OR_INVALID_TOKEN)return console.warn("Unable to refresh tokens - token is missing or no longer valid"),this.destroyLocalState(),null;throw Md(e)}}handleTokenResponse(e){e.session_update_action&&"set"!==e.session_update_action?"clear"===e.session_update_action?this.destroyLocalState():"ignore"===e.session_update_action&&(e.token&&(this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token)),e.identity_token&&this.storeIdentityToken(e.identity_token)):this._storeAllTokens(e)}_storeAllTokens(e){this.storeRefreshToken(e.refresh_token),this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),e.identity_token&&this.storeIdentityToken(e.identity_token)}async _destroy(){try{await(this.api?.post(Wd,{refresh_token:this.refreshToken}))}catch(e){console.warn("Error destroying session")}this.destroyLocalState()}destroyLocalState(){this.storeRefreshToken(null),this.storeCustomerAccessToken(null),this.storePrivyAccessToken(null),this.clearIdentityToken()}storeCustomerAccessToken(e){if("string"==typeof e){let t=VW.get(of);if(VW.put(of,e),!this.client?.useServerCookies){let t=W8.parse(e)?.expiration;Jc.set(af,e,{sameSite:"Strict",secure:p9(),expires:t?new Date(1e3*t):void 0})}t!==e&&this.client?.onStoreCustomerAccessToken?.(e)}else VW.del(of),Jc.remove(af),this.client?.onDeleteCustomerAccessToken?.()}storeRefreshToken(e){"string"==typeof e?(VW.put(cf,e),this.client?.useServerCookies||Jc.set(hf,"t",{sameSite:"Strict",secure:p9(),expires:30})):(VW.del(cf),Jc.remove("privy-refresh-token"),Jc.remove(hf))}storePrivyAccessToken(e){"string"==typeof e?VW.put(lf,e):VW.del(lf)}storeIdentityToken(e){if(g9.setState({identityToken:e}),this.client?.useServerCookies)return;VW.put(uf,e);let t=W8.parse(e)?.expiration;Jc.set(df,e,{sameSite:"Strict",secure:p9(),expires:t?new Date(1e3*t):void 0})}clearIdentityToken(){VW.del(uf),g9.setState({identityToken:null}),Jc.remove(df)}constructor(){this.authenticateOnce=new eq(async e=>this._authenticate(e)),this.linkOnce=new eq(async e=>this._link(e)),this.refreshOnce=new eq(this._refresh.bind(this)),this.destroyOnce=new eq(this._destroy.bind(this))}}let b9;var v9=0,x9="__private_"+v9+++"__getOrGenerateClientAnalyticsId";class E9{getAppId(){return this.appId}initializeConnectorManager({walletConnectCloudProjectId:e,rpcConfig:t,chains:n,defaultChain:r,store:i,walletList:s,shouldEnforceDefaultChainOnConnect:o,externalWalletConfig:a,appName:c,walletChainType:l,setBaseAccountSdk:u}){this.connectors||(this.connectors=new o9(this.appId,e,t,n,r,i,s,o,a,c,u,l))}generateApi(){let e=new c9({appId:this.appId,appClientId:this.appClientId,client:this,defaults:{baseURL:this.apiUrl,timeout:this.timeout}});return this.session.api=e,e}updateApiUrl(e){this.apiUrl=e||this.fallbackApiUrl,this.api=this.generateApi(),e&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new jd("No auth flow in progress.");return this.session.authenticate(this.authFlow)}async link(){if(!this.authFlow)throw new jd("No auth flow in progress.");let{oAuthTokens:e}=await this.session.link(this.authFlow);return{user:await this.getAuthenticatedUser(),oAuthTokens:e}}storeProviderAccessToken(e,t){this.session.storeProviderAccessToken(e,t)}getProviderAccessToken(e){return this.session.getProviderAccessToken(e)}async logout(){await this.session.destroy(),this.authFlow=void 0}clearProviderAcccessTokens(e){e.linkedAccounts.filter(e=>"cross_app"===e.type).forEach(e=>{this.storeProviderAccessToken(e.providerApp.id,null)})}startAuthFlow(e){return e.api=this.api,this.authFlow=e,this.authFlow}async initMfaSmsVerification(){try{await this.api.post("/api/v1/mfa/passwordless_sms/init",{action:"verify"})}catch(e){throw $d(e)}}async initMfaPasskeyVerification(){try{return(e=>({rpId:e.rp_id,challenge:e.challenge,allowCredentials:e.allow_credentials?.map(e=>({id:e.id,type:e.type,transports:e.transports}))||[],timeout:e.timeout,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props,hmacCreateSecret:e.extensions?.hmac_create_secret},userVerification:e.user_verification}))((await this.api.post("/api/v1/mfa/passkeys/init",{})).options)}catch(e){throw $d(e)}}async getCrossAppProviderDetails(e){try{return this._cachedProviderAppDetails[e]||(this._cachedProviderAppDetails[e]=await this.api.get(`/api/v1/apps/${e}/cross-app/details`)),this._cachedProviderAppDetails[e]}catch(e){console.error("Error fetching cross app provider details",e)}}async acceptTerms(){try{return iH(await this.api.post("/api/v1/users/me/accept_terms",{}))}catch(e){throw Md(e)}}async unlinkEmail(e){try{let t=await this.api.post("/api/v1/passwordless/unlink",{address:e});return await this.getAuthenticatedUser()??iH(t)}catch(e){throw Md(e)}}async unlinkPhone(e){try{let t=await this.api.post("/api/v1/passwordless_sms/unlink",{phoneNumber:e});return await this.getAuthenticatedUser()??iH(t)}catch(e){throw Md(e)}}async unlinkEthereumWallet(e){try{let t=await this.api.post("/api/v1/siwe/unlink",{address:e});return await this.getAuthenticatedUser()??iH(t)}catch(e){throw Md(e)}}async unlinkSolanaWallet(e){try{let t=await this.api.post("/api/v1/siws/unlink",{address:e});return await this.getAuthenticatedUser()??iH(t)}catch(e){throw Md(e)}}async unlinkOAuth(e,t){try{let n=await this.api.post("/api/v1/oauth/unlink",{provider:e,subject:t});return await this.getAuthenticatedUser()??iH(n)}catch(e){throw Md(e)}}async unlinkFarcaster(e){try{let t=await this.api.post("/api/v1/farcaster/unlink",{fid:e});return await this.getAuthenticatedUser()??iH(t)}catch(e){throw Md(e)}}async unlinkTelegram(e){try{let t=await this.api.post("/api/v1/telegram/unlink",{telegram_user_id:e});return await this.getAuthenticatedUser()??iH(t)}catch(e){throw Md(e)}}async revokeDelegatedWallet(){try{await this.api.post("/api/v1/wallets/revoke",{})}catch(e){throw Md(e)}}async createAnalyticsEvent({eventName:e,payload:t,timestamp:n,options:r}){if("undefined"!=typeof window)try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(Kd,{event_name:e,client_id:this.clientAnalyticsId,payload:{...t||{},clientTimestamp:n?n.toISOString():(new Date).toISOString()}},{retry:-1,keepalive:r?.keepAlive??!1})}catch(e){console.log("Unable to submit event. This is not an issue.")}}async signMoonpayOnRampUrl(e){try{return this.api.post("/api/v1/plugins/moonpay_on_ramp/sign",e)}catch(e){throw Md(e)}}async initCoinbaseOnRamp(e){try{return this.api.post("/api/v1/funding/coinbase_on_ramp/init",e)}catch(e){throw Md(e)}}async getCoinbaseOnRampStatus({partnerUserId:e}){try{return this.api.get(`/api/v1/funding/coinbase_on_ramp/status?partnerUserId=${e}`)}catch(e){throw Md(e)}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()?this.session.refresh():null}async getAccessToken(e){return await this.getPrivyAccessToken(e)||await this.getCustomerAccessToken(e)}async getCustomerAccessToken(e){return await this._getToken(y9.CUSTOMER,e)}async getPrivyAccessToken(e){return await this._getToken(y9.PRIVY,e)}async _getToken(e,t){return this.session.getToken(e)?this.session.hasActiveAccessToken(e)?this.session.hasRefreshCredentials(e)?q8.parse(this.session.getToken(e))?.appId!==this.appId?(await this.logout(),null):this.session.getToken(e):(this.session.destroyLocalState(),null):!t?.disableAutoRefresh&&this.session.hasRefreshCredentials(e)?(await this.session.refresh(),this.session.getToken(e)):null:null}async getSmartWalletsConfig(){try{let e={},t=this.session.token;t&&(e.authorization=`Bearer ${t}`);let n=await this.api.get(`/api/v1/apps/${this.appId}/smart_wallets`,{baseURL:this.fallbackApiUrl,headers:e});return n.enabled?{enabled:n.enabled,smartWalletVersion:n.smart_wallet_version,smartWalletType:n.smart_wallet_type,configuredNetworks:n.configured_networks.map(e=>({chainId:e.chain_id,bundlerUrl:e.bundler_url,paymasterUrl:e.paymaster_url,paymasterContext:d9(e.paymaster_url,e.paymaster_context)}))}:{enabled:n.enabled}}catch(e){throw Md(e)}}async getUsdTokenPrice(e){try{return(await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd}catch(t){return void console.error(`Unable to fetch token price for chain with id ${e.id}`)}}async getUsdPriceForSol(){try{return(await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd}catch(e){return void console.error("Unable to fetch token price for SOL")}}async getSplTokenMetadata({mintAddress:e,cluster:t}){try{return await this.api.get(`/api/v1/spl_token_info?mint_address=${e}&cluster=${t}`)}catch(n){return void console.error(`Unable to fetch token metadata for ${t}:${e}`)}}async requestFarcasterSignerStatus(e){try{return await this.api.post("/api/v1/farcaster/signer/status",{ed25519_public_key:e})}catch(e){throw console.error("Unable to fetch Farcaster signer status"),e}}async generateSiweNonce({address:e,captchaToken:t}){try{return(await this.api.post("/api/v1/siwe/init",{address:e,token:t})).nonce}catch(e){throw Md(e)}}async authenticateWithSiweInternal({message:e,signature:t,chainId:n,walletClientType:r,connectorType:i,mode:s}){return await this.api.post("/api/v1/siwe/authenticate",{message:e,signature:t,chainId:n,walletClientType:r,connectorType:i,mode:s})}async linkWithSiweInternal({message:e,signature:t,chainId:n,walletClientType:r,connectorType:i}){return await this.api.post("/api/v1/siwe/link",{message:e,signature:t,chainId:n,walletClientType:r,connectorType:i})}async linkSmartWallet({message:e,signature:t,smartWalletType:n,smartWalletVersion:r}){try{return iH(await this.api.post("/api/v1/siwe/link_smart_wallet",{message:e,signature:t,smart_wallet_type:n,smart_wallet_version:r}))}catch(e){throw Md(e)}}async linkWithSiwe({message:e,signature:t,chainId:n,walletClientType:r,connectorType:i}){try{return iH(await this.linkWithSiweInternal({message:e,signature:t,chainId:n,walletClientType:r,connectorType:i}))}catch(e){throw Md(e)}}async generateSiwsNonce({address:e,captchaToken:t}){try{return(await this.api.post("/api/v1/siws/init",{address:e,token:t})).nonce}catch(e){throw Md(e)}}async authenticateWithSiwsInternal({message:e,signature:t,walletClientType:n,connectorType:r,mode:i,messageType:s="plain"}){return await this.api.post("/api/v1/siws/authenticate",{message:e,signature:t,walletClientType:n,connectorType:r,mode:i,message_type:s})}async authenticateWithSiws({message:e,signature:t,walletClientType:n,connectorType:r,mode:i,messageType:s="plain"}){let o=await this.authenticateWithSiwsInternal({message:e,signature:t,walletClientType:n,connectorType:r,mode:i,messageType:s});this.session.handleTokenResponse(o);let a=iH(o.user);if(!a)throw Error("Authentication failed - no user returned");return{user:a,isNewUser:o.is_new_user||!1}}async sendAccountTransferRequest({nonce:e,account:t,accountType:n,externalWalletMetadata:r,telegramAuthResult:i,telegramWebAppData:s,farcasterEmbeddedAddress:o,oAuthUserInfo:a}){try{let c,l;switch(n){case"email":c="/api/v1/passwordless/transfer",l={nonce:e,email:t};break;case"sms":c="/api/v1/passwordless_sms/transfer",l={nonce:e,phoneNumber:t};break;case"siwe":if(c="/api/v1/siwe/transfer",!r)throw Error("Wallet parameters must be defined");l={nonce:e,address:t,...r};break;case"farcaster":c="/api/v1/farcaster/transfer",l={nonce:e,farcaster_id:t,farcaster_embedded_address:o};break;case"telegram":c="/api/v1/telegram/transfer",l={nonce:e,telegram_auth_result:i,telegram_web_app_data:s};break;case"siws":c="/api/v1/siws/transfer",l={nonce:e,address:t,...r};break;case"custom":case"guest":case"passkey":throw Error("Invalid transfer account type");default:c="/api/v1/oauth/transfer",l={nonce:e,userInfo:a}}let u=await this.api.post(c,l);return await this.getAuthenticatedUser()??iH(u)}catch(e){throw Md(e)}}async linkWithSiwsInternal({message:e,signature:t,walletClientType:n,connectorType:r,messageType:i="plain"}){return await this.api.post("/api/v1/siws/link",{message:e,signature:t,walletClientType:n,connectorType:r,message_type:i})}async linkWithSiws({message:e,signature:t,walletClientType:n,connectorType:r,messageType:i="plain"}){try{return iH(await this.linkWithSiwsInternal({message:e,signature:t,walletClientType:n,connectorType:r,messageType:i}))}catch(e){throw Md(e)}}async updateUserAndIdToken(){try{let e=await this.api.get("/api/v1/users/me");return this.session.updateIdentityToken(e.identity_token),iH(e.user)}catch(e){throw Md(e)}}async scanTransaction(e){try{return await this.api.post("/api/v1/scan/transaction",e)}catch(e){throw Md(e)}}constructor({apiUrl:e=tf,appId:t,appClientId:n,timeout:r=2e4}){Object.defineProperty(this,x9,{value:k9}),this._cachedProviderAppDetails={},this.apiUrl=e,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=e!==tf&&e.startsWith("https://privy."),this.timeout=r,this.appId=t,this.appClientId=n,this.clientAnalyticsId=function(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw TypeError("attempted to use private field on non-instance");return e}(this,x9)[x9](),b9||(b9=new w9),this.session=b9,this.api=this.generateApi(),this.session.client=this}}function k9(){if("undefined"==typeof window)return null;try{let e=VW.get(ff);if("string"==typeof e&&e.length>0)return e}catch(e){}let e=(0,qc.A)();try{return VW.put(ff,e),e}catch(t){return e}}const _9=({delayedExecution:e,...t})=>{let{enabled:n,siteKey:r,appId:i,setError:s,setToken:o,setExecuting:a,ref:c}=Dq(),[,l]=(0,ei.useMemo)(()=>r?.split("t:")||[],[r]);if((0,ei.useEffect)(()=>c.current?.remove,[]),!n)return null;if(!l)throw Error("Unsupported captcha site key");return(0,ri.jsx)("div",{className:"hidden h-0 w-0",children:(0,ri.jsx)(D6,{...t,ref:c,siteKey:l,options:{action:i,size:"invisible",...e?{appearance:"execute",execution:"execute"}:{appearance:"always",execution:"render"}},onUnsupported:()=>{t.onUnsupported?.(),console.warn("Browser does not support Turnstile.")},onError:e=>{t.onError?.(e),s("Captcha failed"),a(!1)},onSuccess:e=>{t.onSuccess?.(e),o(e),a(!1)},onExpire:e=>{t.onExpire?.(e);try{c.current?.reset(),s(void 0),o(void 0)}catch(e){s("expired_and_failed_reset")}}})})},C9=Ay.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-ba98f772-0"})(["display:flex;flex-direction:column;align-items:center;padding:0px 0px 30px;@media (max-width:440px){padding:10px 10px 20px;}"]),S9=Ay.div.withConfig({displayName:"Title",componentId:"sc-ba98f772-1"})(["font-size:18px;line-height:30px;text-align:center;font-weight:600;margin-bottom:10px;"]),I9=Ay.div.withConfig({displayName:"SubTitle",componentId:"sc-ba98f772-2"})(["font-size:0.875rem;text-align:center;"]),A9=Ay.div.withConfig({displayName:"Container",componentId:"sc-ba98f772-3"})(["display:flex;flex-direction:column;align-items:center;gap:10px;flex-grow:1;padding:20px 0;@media (max-width:440px){padding:10px 10px 20px;}"]),T9=Ay.div.withConfig({displayName:"List",componentId:"sc-ba98f772-4"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.75rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),P9=Ay.div.withConfig({displayName:"ListItemIcon",componentId:"sc-ba98f772-5"})(["width:25px;display:flex;align-items:center;justify-content:flex-start;> svg{z-index:2;height:25px !important;width:25px !important;color:var(--privy-color-accent);}"]),O9=Ay.div.withConfig({displayName:"ListItem",componentId:"sc-ba98f772-6"})(["display:flex;align-items:center;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;"]),j9=Ay.div.withConfig({displayName:"BottomSection",componentId:"sc-ba98f772-7"})(["display:flex;flex-direction:column;gap:10px;padding-top:20px;"]),N9=Ay.div.withConfig({displayName:"MethodList",componentId:"sc-ba98f772-8"})(["display:flex;flex-direction:column;align-items:stretch;gap:1rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),R9=Ay.div.withConfig({displayName:"MethodListItem",componentId:"sc-ba98f772-9"})(["display:flex;gap:5px;width:100%;position:relative;"]),$9=Ay.button.withConfig({displayName:"RemoveMethodButton",componentId:"sc-ba98f772-10"})(["&&{background-color:transparent;color:var(--privy-color-foreground-3);padding:0 0.75rem;display:flex;align-items:center;height:100%;> svg{z-index:2;height:20px !important;width:20px !important;}}&&:hover{color:var(--privy-color-error);}"]),M9=Ay.div.withConfig({displayName:"MethodText",componentId:"sc-ba98f772-11"})(["display:flex;align-items:center;gap:0.5rem;> svg{z-index:2;height:20px !important;width:20px !important;}"]),L9=Ay.div.withConfig({displayName:"ExtraText",componentId:"sc-ba98f772-12"})(["display:flex;align-items:center;gap:6px;font-weight:400 !important;color:",";> svg{z-index:2;height:18px !important;width:18px !important;display:flex !important;align-items:flex-end;}"],e=>e.$isAccent?"var(--privy-color-accent)":"var(--privy-color-foreground-3)"),B9=Ay.div.withConfig({displayName:"SmsInsecureText",componentId:"sc-ba98f772-13"})(["width:100%;display:flex;justify-content:space-between;"]),U9=Ay.p.withConfig({displayName:"TermsText",componentId:"sc-ba98f772-14"})(["text-align:left;width:100%;color:var(--privy-color-foreground-3) !important;"]),D9=Ay.button.withConfig({displayName:"PrimaryTextButton",componentId:"sc-ba98f772-15"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:100%;cursor:pointer;border-radius:var(--privy-border-radius-md);font-size:0.875rem;line-height:1rem;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{color:",";background-color:transparent;padding:0.5rem 0px;}&:hover{text-decoration:underline;}"],e=>"dark"===e.theme?"var(--privy-color-foreground-2)":"var(--privy-color-accent)"),F9=Ay.div.withConfig({displayName:"IconWrapper",componentId:"sc-ba98f772-16"})(["display:flex;align-items:center;justify-content:center;color:var(--privy-color-accent);width:100%;> svg{z-index:2;width:3rem;height:3rem;}"]),z9=Ay.div.withConfig({displayName:"ErrorMessage",componentId:"sc-ba98f772-17"})(["color:var(--privy-color-error);"]),W9=({handleClose:e,user:t,onSelect:n})=>(0,ri.jsxs)(bK,{title:"Verify your identity",subtitle:"Choose a verification method",icon:zW,iconVariant:"subtle",onClose:e,showClose:!0,watermark:!0,children:[(0,ri.jsxs)(N9,{children:[t.mfaMethods.includes("totp")&&(0,ri.jsxs)(aV,{onClick:()=>n("totp"),children:[(0,ri.jsx)(cV,{children:(0,ri.jsx)(H6,{})}),"Authenticator app"]},"totp"),t.mfaMethods.includes("sms")&&(0,ri.jsxs)(aV,{onClick:()=>n("sms"),children:[(0,ri.jsx)(cV,{children:(0,ri.jsx)(Wy,{})}),"SMS"]},"sms"),t.mfaMethods.includes("passkey")&&(0,ri.jsxs)(aV,{onClick:()=>n("passkey"),children:[(0,ri.jsx)(cV,{children:(0,ri.jsx)(EW,{})}),"Passkey"]},"passkey")]}),(0,ri.jsx)(yV,{})]}),q9=({pendingTransaction:e})=>{let{wallets:t}=NG(),{walletProxy:n,rpcConfig:r,chains:i,appId:s,nativeTokenSymbolForChainId:o}=Jd(),[a,c]=(0,ei.useState)(null),[l,u]=(0,ei.useState)(e),{tokenPrice:d}=OG(l.chainId),h=o(e.chainId)||"ETH",f=(0,ei.useMemo)(()=>t.find(e=>"privy"===e.walletClientType),[t]);return(0,ei.useEffect)(()=>{(async function(){if(!n||!f)return l;let e=Cq(l.chainId,i,r,{appId:s}),t=await RG(l,e,f.address);return c((0,oi.nj)(BigInt(t.gas??0))),t})().then(u).catch(console.error)},[n]),f?(0,ri.jsx)(H9,{children:(0,ri.jsx)(IG,{from:f.address,to:l.to,txn:l,gas:a??void 0,tokenPrice:d,tokenSymbol:h})}):null};let H9=Ay.div.withConfig({displayName:"TransactionInfoWrapper",componentId:"sc-8d9a2f57-0"})(["width:100%;padding:1rem 0;"]);const V9=({style:e,...t})=>(0,ri.jsx)("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...e},fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t,children:(0,ri.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.71369 17.5625V10.375C3.71369 6.44625 6.85845 3.25 10.7238 3.25H17.7953C18.6783 3.25 19.3941 2.52244 19.3941 1.625C19.3941 0.727562 18.6783 0 17.7953 0H10.7238C5.09529 0 0.516113 4.65419 0.516113 10.375V17.5625C0.516113 18.4599 1.23194 19.1875 2.1149 19.1875C2.99787 19.1875 3.71369 18.4599 3.71369 17.5625ZM17.7953 60.7501C18.6783 60.7501 19.3941 61.4777 19.3941 62.3751C19.3941 63.2726 18.6783 64.0001 17.7953 64.0001H10.7238C5.09529 64.0001 0.516113 59.3459 0.516113 53.6251V46.4376C0.516113 45.5402 1.23194 44.8126 2.1149 44.8126C2.99787 44.8126 3.71369 45.5402 3.71369 46.4376V53.6251C3.71369 57.5538 6.85845 60.7501 10.7238 60.7501H17.7953ZM63.4839 46.4376V53.6251C63.4839 59.3459 58.9048 64.0001 53.2763 64.0001H46.2047C45.3217 64.0001 44.6059 63.2726 44.6059 62.3751C44.6059 61.4777 45.3217 60.7501 46.2047 60.7501H53.2763C57.1416 60.7501 60.2864 57.5538 60.2864 53.6251V46.4376C60.2864 45.5402 61.0022 44.8126 61.8851 44.8126C62.7681 44.8126 63.4839 45.5402 63.4839 46.4376ZM63.4839 10.375V17.5625C63.4839 18.4599 62.7681 19.1875 61.8851 19.1875C61.0022 19.1875 60.2864 18.4599 60.2864 17.5625V10.375C60.2864 6.44625 57.1416 3.25 53.2763 3.25H46.2047C45.3217 3.25 44.6059 2.52244 44.6059 1.625C44.6059 0.727562 45.3217 0 46.2047 0H53.2763C58.9048 0 63.4839 4.65419 63.4839 10.375ZM43.0331 47.3022C43.7067 46.6698 43.7483 45.6022 43.1262 44.9176C42.5039 44.233 41.4536 44.1906 40.78 44.823C38.3832 47.0732 35.265 48.3125 31.9997 48.3125C28.7344 48.3125 25.6162 47.0732 23.2194 44.823C22.5457 44.1906 21.4955 44.233 20.8732 44.9176C20.251 45.6022 20.2927 46.6698 20.9663 47.3022C23.9784 50.1301 27.8968 51.6875 31.9997 51.6875C36.1026 51.6875 40.021 50.1301 43.0331 47.3022ZM35.3207 24.1249V36.1249C35.3207 38.5029 33.4173 40.4374 31.0777 40.4374H29.7249C28.8079 40.4374 28.0646 39.6819 28.0646 38.7499C28.0646 37.8179 28.8079 37.0624 29.7249 37.0624H31.0777C31.5863 37.0624 32.0001 36.6419 32.0001 36.1249V24.1249C32.0001 23.1929 32.7434 22.4374 33.6604 22.4374C34.5774 22.4374 35.3207 23.1929 35.3207 24.1249ZM46.7581 28.8437V24.0312C46.7581 23.151 46.056 22.4374 45.19 22.4374C44.324 22.4374 43.622 23.151 43.622 24.0312V28.8437C43.622 29.7239 44.324 30.4374 45.19 30.4374C46.056 30.4374 46.7581 29.7239 46.7581 28.8437ZM17.6109 28.8437C17.6109 29.7239 18.313 30.4374 19.1789 30.4374C20.0449 30.4374 20.747 29.7239 20.747 28.8437V24.0312C20.747 23.151 20.0449 22.4374 19.1789 22.4374C18.313 22.4374 17.6109 23.151 17.6109 24.0312V28.8437Z"})}),K9=({hasBlockingError:e,error:t,onClose:n,onBack:r,handleSubmit:i,account:s,submitSuccess:o})=>{let{pendingTransaction:a}=Jd();return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{onClose:n},"header"),(0,ri.jsx)($G,{children:(0,ri.jsxs)("div",{children:[(0,ri.jsx)(wV,{success:o,fail:!!t}),(0,ri.jsx)(t?Hy:V9,{style:{width:"38px",height:"38px"}})]})}),(0,ri.jsx)(S9,{style:{marginTop:"1rem"},children:"Verifying with passkey"}),(0,ri.jsxs)(T9,{children:[(0,ri.jsxs)(O9,{children:[(0,ri.jsx)(P9,{children:(0,ri.jsx)(zW,{})}),"Approve this action using your touch, face, PIN, or hardware key."]}),(0,ri.jsxs)(O9,{children:[(0,ri.jsx)(P9,{children:(0,ri.jsx)(K6,{})}),"You last added a passkey on"," ",s?.firstVerifiedAt?.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),"."]})]}),a&&(0,ri.jsx)(A9,{children:(0,ri.jsx)(q9,{pendingTransaction:a})}),t&&(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(z9,{style:{marginTop:"1.25rem"},children:t.message}),(0,ri.jsx)(IV,{disabled:e,onClick:i,style:{margin:"1.25rem auto 0"},children:"Try again"})]}),r&&(0,ri.jsx)(D9,{style:{marginTop:"1rem"},onClick:r,children:"Choose another method"}),(0,ri.jsx)(yV,{})]})};let G9=Array(6).fill("");var Z9,Y9=((Z9=Y9||{})[Z9.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",Z9[Z9.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",Z9);function J9(e){return/^[0-9]{1}$/.test(e)}function Q9(e){return 6===e.length&&e.every(J9)}const X9=({onChange:e,disabled:t,errorReasonOverride:n,success:r})=>{let[i,s]=(0,ei.useState)(G9),[o,a]=(0,ei.useState)(null),[c,l]=(0,ei.useState)(null),u=async t=>{t.preventDefault();let n=t.currentTarget.value.replace(/\s+/g,"");if(""===n)return;let r=i.reduce((e,t)=>e+Number(J9(t)),0),o=n.split(""),c=!o.every(J9),u=o.length+r>6;if(c)return a("Passcode can only be numbers"),void l(1);if(u)return a("Passcode must be exactly 6 numbers"),void l(1);a(null),l(null);let d=Number(t.currentTarget.name?.charAt(4)),h=[...n||[""]].slice(0,6-d),f=[...i.slice(0,d),...h,...i.slice(d+h.length)];s(f);let p=Math.min(Math.max(d+h.length,0),5),g=document.querySelector(`input[name=pin-${p}]`);if(g?.focus(),Q9(f))try{await e(f.join(""));let t=document.querySelector(`input[name=pin-${p}]`);t?.blur()}catch(t){l(1),a(t.message)}else try{await e(null)}catch(t){l(1),a(t.message)}},d=r?"success":n||o?"fail":"";return(0,ri.jsx)(ri.Fragment,{children:(0,ri.jsxs)(e7,{children:[(0,ri.jsx)("div",{children:i.map((n,r)=>(0,ri.jsx)("input",{name:`pin-${r}`,type:"text",value:i[r],onChange:u,onKeyUp:t=>{"Backspace"===t.key&&(t=>{1===c&&(a(null),l(null));let n=[...i.slice(0,t),"",...i.slice(t+1)];if(s(n),t>0){let e=document.querySelector(`input[name=pin-${t-1}]`);e?.focus()}Q9(n)?e(n.join("")):e(null)})(r)},inputMode:"numeric",autoFocus:0===r,pattern:"[0-9]",className:d,autoComplete:si.Fr?"one-time-code":"off",disabled:t},r))}),(0,ri.jsx)("div",{children:(0,ri.jsx)(t7,{$fail:!!n||!!o,children:n||o})})]})})};let e7=Ay.div.withConfig({displayName:"PinInputContainer",componentId:"sc-7a171f6-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;@media (max-width:440px){margin-top:8px;margin-bottom:8px;}> div:nth-child(1){display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-md);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);padding:8px 10px;height:58px;width:46px;text-align:center;font-size:18px;}> input:disabled{background:var(--privy-color-background-2);}> input:focus{border:1px solid var(--privy-color-accent);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-success);}> input.fail{border:1px solid var(--privy-color-error);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),t7=Ay.div.withConfig({displayName:"InputHelp",componentId:"sc-7a171f6-1"})(["line-height:20px;font-size:13px;display:flex;justify-content:flex-start;width:100%;color:",";"],e=>e.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)");const n7=({selectedMethod:e,submitSuccess:t,hasBlockingError:n,onClose:r,onBack:i,handleSubmitCode:s})=>{let o=Mf(),{pendingTransaction:a}=Jd();switch(e){case"sms":return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{onClose:r},"header"),(0,ri.jsx)(F9,{style:{marginBottom:"1.5rem"},children:(0,ri.jsx)(Wy,{})}),(0,ri.jsx)(S9,{children:"Enter verification code"}),(0,ri.jsxs)(A9,{children:[(0,ri.jsx)(X9,{success:t,disabled:n,onChange:s}),(0,ri.jsxs)(I9,{children:["To continue, please enter the 6-digit code sent to your ",(0,ri.jsx)("strong",{children:"mobile device"})]}),a&&(0,ri.jsx)(q9,{pendingTransaction:a})]}),i&&(0,ri.jsx)(D9,{theme:o?.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),(0,ri.jsx)(OV,{onClick:r,children:"Cancel"}),(0,ri.jsx)(yV,{})]});case"totp":return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{onClose:r},"header"),(0,ri.jsx)(F9,{style:{marginBottom:"1.5rem"},children:(0,ri.jsx)(H6,{})}),(0,ri.jsx)(S9,{children:"Enter verification code"}),(0,ri.jsxs)(A9,{children:[(0,ri.jsx)(X9,{success:t,disabled:n,onChange:s}),(0,ri.jsxs)(I9,{children:["To continue, please enter the 6-digit code generated from your"," ",(0,ri.jsx)("strong",{children:"authenticator app"})]}),a&&(0,ri.jsx)(q9,{pendingTransaction:a})]}),i&&(0,ri.jsx)(D9,{theme:o?.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),(0,ri.jsx)(OV,{onClick:r,children:"Cancel"}),(0,ri.jsx)(yV,{})]});default:return null}},r7=e=>function(e){return!!BG(e)&&"mfa_verification_max_attempts_reached"===e.type}(e)?{isBlocking:!0,error:Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds.")}:FG(e)?{isBlocking:!1,error:Error("The code you entered is not valid")}:DG(e)?{isBlocking:!0,error:Error("You have exceeded the time limit for code entry. Please try again in 30 seconds.")}:(console.error(e),{isBlocking:!1,error:Error("Something went wrong.")}),i7=()=>{let{user:e}=eV(),{data:t}=QH(),[n,r]=(0,ei.useState)(e?.mfaMethods[0]),[i,s]=(0,ei.useState)(!1),[o,a]=(0,ei.useState)(),[c,l]=(0,ei.useState)();if((0,ei.useEffect)(()=>{r(e?.mfaMethods[0])},[e?.mfaMethods]),!t?.mfaVerify)throw Error("Missing modal data for MFA verification screen.");let{onFailure:u,onSuccess:d,generateOptions:h,verifyTotpCode:f,verifyPasskey:p,verifySmsCode:g,sendSmsCode:m}=t.mfaVerify,y=async e=>{if("passkey"!==e)try{r(e),"sms"===e&&(r(e),await m()),"totp"===e&&r(e)}catch(e){console.error(e)}else try{r(e);let t=await h();if(!t)throw Error("something went wrong");a(t),await p(t),s(!0),l(void 0),d()}catch(e){l(r7(e))}},w=async e=>{l(void 0);try{if(!e||!n)return;if("passkey"===n){if(!o)throw Error("Missing passkey challenge");await p(o)}else"sms"===n?await g(e):"totp"===n&&await f(e);l(void 0),s(!0),d()}catch(e){throw r7(e).error}},b=()=>{c||!i?u(c?.error??Error("Canceled MFA verification.")):d()},v=(0,ei.useRef)(!1);return(0,ei.useEffect)(()=>{!v.current&&n&&(v.current=!0,y(n).finally(()=>{v.current=!1}))},[open]),e?"passkey"===n?(0,ri.jsx)(K9,{account:e.linkedAccounts.filter(e=>"passkey"===e.type&&e.enrolledInMfa).sort((e,t)=>t.firstVerifiedAt.valueOf()-e.firstVerifiedAt.valueOf())[0],submitSuccess:i,hasBlockingError:c?.isBlocking??!1,error:c?.error,onClose:b,onBack:()=>{r(void 0),l(void 0)},handleSubmit:()=>w(o).catch(l)}):"sms"===n||"totp"===n?(0,ri.jsx)(n7,{selectedMethod:n,submitSuccess:i,hasBlockingError:c?.isBlocking??!1,handleSubmitCode:w,onClose:b,onBack:e.mfaMethods.length>1?()=>r(void 0):void 0}):(0,ri.jsx)(W9,{user:e,onSelect:y,handleClose:b}):null};function s7(){let{promptMfa:e,init:t,submit:n,cancel:r,mfaMethods:i}=(0,ei.useContext)(XH);return{promptMfa:e,init:t,submit:n,cancel:r,mfaMethods:i}}const o7=({onClose:e})=>{let{user:t}=eV(),[n,r]=(0,ei.useState)(t?.mfaMethods[0]??null),{init:i,cancel:s,submit:o}=s7(),[a,c]=(0,ei.useState)(!1),[l,u]=(0,ei.useState)(null),[d,h]=(0,ei.useState)();(0,ei.useEffect)(()=>{r(t?.mfaMethods[0]??null)},[t?.mfaMethods]);let f=(0,ei.useRef)(!1);async function p(t){h(void 0);try{if(!t||!n)return;await o(n,t),c(!0),h(void 0),e()}catch(t){throw r7(t).error}}async function g(t){if("passkey"!==t)try{r(t),await i(t)}catch(t){console.error(t)}else try{r(t);let n=await i(t);if(!n)throw Error("something went wrong");u(n),await o(t,n),c(!0),h(void 0),e()}catch(t){h(r7(t))}}(0,ei.useEffect)(()=>{!f.current&&n&&(f.current=!0,g(n).finally(()=>{f.current=!1}))},[]);let m=()=>{r(null),h(void 0),s(),e()};return t?"passkey"===n?(0,ri.jsx)(K9,{account:t.linkedAccounts.filter(e=>"passkey"===e.type&&e.enrolledInMfa).sort((e,t)=>t.firstVerifiedAt.valueOf()-e.firstVerifiedAt.valueOf())[0],submitSuccess:a,hasBlockingError:d?.isBlocking??!1,error:d?.error,onClose:m,onBack:()=>{r(null),h(void 0)},handleSubmit:()=>p(l).catch(h)}):n?(0,ri.jsx)(n7,{submitSuccess:a,hasBlockingError:d?.isBlocking??!1,handleSubmitCode:p,selectedMethod:n,onClose:m,onBack:t.mfaMethods.length>1?()=>r(null):void 0}):(0,ri.jsx)(W9,{user:t,onSelect:g,handleClose:m}):null},a7=gw(()=>({inProgressMfaFlow:void 0})),c7=Py([":root{","};"],e=>l7(e.palette)),l7=e=>Cy(["",""],Object.entries(function(e){return{"--privy-color-background":e.background,"--privy-color-background-2":e.background2,"--privy-color-background-3":e.background3,"--privy-color-foreground":e.foreground,"--privy-color-foreground-2":e.foreground2,"--privy-color-foreground-3":e.foreground3,"--privy-color-foreground-4":e.foreground4,"--privy-color-foreground-accent":e.foregroundAccent,"--privy-color-accent":e.accent,"--privy-color-accent-light":e.accentLight,"--privy-color-accent-hover":e.accentHover,"--privy-color-accent-dark":e.accentDark,"--privy-color-accent-darkest":e.accentDarkest,"--privy-color-success":e.success,"--privy-color-success-dark":e.successDark,"--privy-color-success-light":e.successLight,"--privy-color-success-bg":e.successBg,"--privy-color-error":e.error,"--privy-color-error-light":e.errorLight,"--privy-color-error-bg":e.errorBg,"--privy-color-error-bg-hover":e.errorBgHover,"--privy-color-warn":e.warn,"--privy-color-warn-light":e.warnLight,"--privy-color-warn-bg":e.warnBg,"--privy-color-warning-dark":e.warningDark,"--privy-color-error-dark":e.errorDark,"--privy-color-info-bg":e.infoBg,"--privy-color-info-bg-hover":e.infoBgHover,"--privy-color-border-default":e.borderDefault,"--privy-color-border-hover":e.borderHover,"--privy-color-border-focus":e.borderFocus,"--privy-color-border-error":e.borderError,"--privy-color-border-success":e.borderSuccess,"--privy-color-border-warning":e.borderWarning,"--privy-color-border-info":e.borderInfo,"--privy-color-border-interactive":e.borderInteractive,"--privy-color-border-interactive-hover":e.borderInteractiveHover,"--privy-color-background-hover":e.backgroundHover,"--privy-color-background-clicked":e.backgroundClicked,"--privy-color-background-disabled":e.backgroundDisabled,"--privy-color-background-interactive":e.backgroundInteractive,"--privy-color-background-interactive-hover":e.backgroundInteractiveHover,"--privy-color-background-interactive-clicked":e.backgroundInteractiveClicked,"--privy-color-background-interactive-disabled":e.backgroundInteractiveDisabled,"--privy-color-foreground-hover":e.foregroundHover,"--privy-color-foreground-clicked":e.foregroundClicked,"--privy-color-foreground-disabled":e.foregroundDisabled,"--privy-color-foreground-interactive":e.foregroundInteractive,"--privy-color-foreground-interactive-hover":e.foregroundInteractiveHover,"--privy-link-navigation-color":e.linkNavigationColor,"--privy-link-navigation-decoration":e.linkNavigationDecoration,"--privy-accent-has-good-contrast":e.accentHasGoodContrast,"--privy-color-icon-default":e.iconDefault,"--privy-color-icon-muted":e.iconMuted,"--privy-color-icon-subtle":e.iconSubtle,"--privy-color-icon-inverse":e.iconInverse,"--privy-color-icon-success":e.iconSuccess,"--privy-color-icon-warning":e.iconWarning,"--privy-color-icon-error":e.iconError,"--privy-color-icon-interactive":e.iconInteractive,"--privy-color-icon-default-hover":e.iconDefaultHover,"--privy-color-icon-muted-hover":e.iconMutedHover,"--privy-color-icon-subtle-hover":e.iconSubtleHover,"--privy-color-icon-default-clicked":e.iconDefaultClicked,"--privy-color-icon-muted-clicked":e.iconMutedClicked,"--privy-color-icon-subtle-clicked":e.iconSubtleClicked,"--privy-color-icon-default-disabled":e.iconDefaultDisabled,"--privy-color-icon-muted-disabled":e.iconMutedDisabled,"--privy-color-icon-subtle-disabled":e.iconSubtleDisabled,"--privy-color-icon-error-hover":e.iconErrorHover,"--privy-color-icon-interactive-hover":e.iconInteractiveHover,"--privy-color-icon-error-clicked":e.iconErrorClicked,"--privy-color-icon-interactive-clicked":e.iconInteractiveClicked,"--privy-color-icon-muted-disabled-alt":e.iconMutedDisabledAlt,"--privy-color-icon-subtle-disabled-alt":e.iconSubtleDisabledAlt,"--privy-border-radius-xs":"6px","--privy-border-radius-sm":"8px","--privy-border-radius-md":"12px","--privy-border-radius-mdlg":"16px","--privy-border-radius-lg":"24px","--privy-border-radius-full":"9999px","--privy-height-modal-full":"620px","--privy-height-modal-compact":"480px"}}(e)).map(([e,t])=>`${e}: ${t};`).join("\n")),u7=Ay.div.withConfig({displayName:"StylesWrapper",componentId:"sc-188229e4-0"})([""," color:var(--privy-color-foreground-2);h3{font-size:16px;line-height:24px;font-weight:500;color:var(--privy-color-foreground-2);}h4{font-size:14px;line-height:20px;font-weight:500;color:var(--privy-color-foreground);}p{font-size:13px;line-height:20px;color:var(--privy-color-foreground-2);}button:focus,input:focus,optgroup:focus,select:focus,textarea:focus{outline:none;border-color:var(--privy-color-accent-light);box-shadow:0 0 0 3px var(--privy-color-border-focus);}.mobile-only{@media (min-width:441px){display:none;}}@keyframes fadein{0%{opacity:0;}100%{opacity:1;}}"],"\n  *,\n  ::before,\n  ::after {\n    box-sizing: border-box;\n    border-width: 0;\n    border-style: solid;\n  }\n\n  line-height: 1.15;\n  -webkit-text-size-adjust: 100%;\n  -moz-tab-size: 4;\n  tab-size: 4;\n  font-feature-settings: normal;\n\n  margin: 0;\n  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,\n    'Apple Color Emoji', 'Segoe UI Emoji';\n\n  hr {\n    height: 0;\n    color: inherit;\n    border-top-width: 1px;\n  }\n\n  abbr:where([title]) {\n    text-decoration: underline dotted;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    font-size: inherit;\n    font-weight: inherit;\n    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,\n    'Apple Color Emoji', 'Segoe UI Emoji';\n    display: inline;\n  }\n\n  a {\n    color: inherit;\n    text-decoration: inherit;\n  }\n\n  b,\n  strong {\n    font-weight: bolder;\n  }\n\n  code,\n  kbd,\n  samp,\n  pre {\n    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;\n    font-size: 1em;\n  }\n\n  small {\n    font-size: 80%;\n  }\n\n  sub,\n  sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n\n  sub {\n    bottom: -0.25em;\n  }\n\n  sup {\n    top: -0.5em;\n  }\n\n  table {\n    text-indent: 0;\n    border-color: inherit;\n    border-collapse: collapse;\n  }\n\n  button,\n  input,\n  optgroup,\n  select,\n  textarea {\n    font-family: inherit;\n    font-size: 100%;\n    font-weight: inherit;\n    line-height: inherit;\n    color: inherit;\n    margin: 0;\n    padding: 0;\n  }\n\n  button,\n  select {\n    text-transform: none;\n  }\n\n  button,\n  [type='button'],\n  [type='reset'],\n  [type='submit'] {\n    -webkit-appearance: button;\n    background-color: transparent;\n    background-image: none;\n  }\n\n  ::-moz-focus-inner {\n    border-style: none;\n    padding: 0;\n  }\n\n  :-moz-focusring {\n    outline: 1px dotted ButtonText;\n  }\n\n  :-moz-ui-invalid {\n    box-shadow: none;\n  }\n\n  legend {\n    padding: 0;\n  }\n\n  progress {\n    vertical-align: baseline;\n  }\n\n  ::-webkit-inner-spin-button,\n  ::-webkit-outer-spin-button {\n    height: auto;\n  }\n\n  [type='search'] {\n    -webkit-appearance: textfield;\n    outline-offset: -2px;\n  }\n\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n\n  ::-webkit-file-upload-button {\n    -webkit-appearance: button;\n    font: inherit;\n  }\n\n  summary {\n    display: list-item;\n  }\n\n  blockquote,\n  dl,\n  dd,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  hr,\n  figure,\n  p,\n  pre {\n    margin: 0;\n  }\n\n  fieldset {\n    margin: 0;\n    padding: 0;\n  }\n\n  legend {\n    padding: 0;\n  }\n\n  ol,\n  ul,\n  menu {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n\n  textarea {\n    resize: vertical;\n  }\n\n  input::placeholder,\n  textarea::placeholder {\n    opacity: 1;\n    color: #9ca3af;\n  }\n\n  button,\n  [role='button'] {\n    cursor: pointer;\n  }\n\n  :disabled {\n    cursor: default;\n  }\n\n  img,\n  svg,\n  video,\n  canvas,\n  audio,\n  iframe,\n  embed,\n  object {\n    display: block;\n  }\n\n  img,\n  video {\n    max-width: 100%;\n    height: auto;\n  }\n\n  [hidden] {\n    display: none;\n  }\n"),d7=({children:e,open:t,onClick:n,...r})=>(0,ri.jsx)(a4,{show:t,as:ei.Fragment,children:(0,ri.jsxs)(M4,{onClose:n,...r,as:f7,children:[(0,ri.jsx)(o4,{as:ei.Fragment,enterFrom:"entering",leaveTo:"leaving",children:(0,ri.jsx)(h7,{id:"privy-dialog-backdrop","aria-hidden":"true"})}),(0,ri.jsx)(p7,{children:(0,ri.jsx)(o4,{as:ei.Fragment,enterFrom:"entering",leaveTo:"leaving",children:(0,ri.jsx)(R4,{as:g7,children:e})})})]})});let h7=Ay.div.withConfig({displayName:"Backdrop",componentId:"sc-3cfde0b5-0"})(["position:fixed;inset:0;transition:backdrop-filter 100ms ease;backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);&.entering,&.leaving{backdrop-filter:unset;-webkit-backdrop-filter:unset;}"]),f7=Ay.div.withConfig({displayName:"DialogWrapper",componentId:"sc-3cfde0b5-1"})(["position:relative;z-index:999999;"]),p7=Ay.div.withConfig({displayName:"DialogContainer",componentId:"sc-3cfde0b5-2"})(["position:fixed;inset:0;display:flex;align-items:center;justify-content:center;width:100vw;min-height:100vh;"]);const g7=Ay.div.withConfig({displayName:"Panel",componentId:"sc-3cfde0b5-3"})(["padding:0;background:transparent;border:none;width:100%;pointer-events:auto;outline:none;display:block;@media (max-width:440px){opacity:1;transform:translate3d(0,0,0);transition:transform 200ms ease-in;position:fixed;bottom:0;&.entering,&.leaving{opacity:0;transform:translate3d(0,100%,0);transition:transform 150ms ease-in 0ms,opacity 0ms ease 150ms;}}@media (min-width:441px){opacity:1;transition:opacity 100ms ease-in;&.entering,&.leaving{opacity:0;transition-delay:5ms;}margin:auto;width:360px;box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]),m7=Ay.div.withConfig({displayName:"CenterItem",componentId:"sc-3cfde0b5-4"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;"]);let y7=()=>{let{ready:e,isModalOpen:t}=eV(),{headless:n}=Mf(),{currentScreen:r}=QH(),{status:i,execute:s,reset:o,enabled:a}=Dq(),c=a7(e=>e.inProgressMfaFlow),l=()=>a7.setState({inProgressMfaFlow:void 0}),u=t&&r&&r.isCaptchaRequired&&!n&&"ready"===i;return(0,ei.useEffect)(()=>{u&&s()},[u]),(0,ei.useEffect)(()=>{!t&&a&&o()},[t,a]),r&&!e&&r.isShownBeforeReady?(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{}),(0,ri.jsx)(tG,{}),(0,ri.jsx)(m7,{children:(0,ri.jsx)(xV,{})}),(0,ri.jsx)(nG,{}),(0,ri.jsx)(yV,{})]}):r||"txn"!==c?r?(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(lV,{$if:!!c,children:(0,ri.jsx)(r.component,{})}),"txn"===c&&(0,ri.jsx)(o7,{onClose:l}),"auth"===c&&(0,ri.jsx)(i7,{})]}):null:(0,ri.jsx)(o7,{onClose:l})},w7=()=>{let e=(0,ei.useRef)(null);return(0,ri.jsx)(x7,{style:{height:F6(e)},id:"privy-modal-content",children:(0,ri.jsx)("div",{ref:e,children:(0,ri.jsx)(y7,{})})})};const b7=({open:e})=>{let t=Mf(),{gracefulClosePrivyModal:n}=(()=>{let{closePrivyModal:e}=Jd(),{onUserCloseViaDialogOrKeybindRef:t}=QH();return{gracefulClosePrivyModal:(0,ei.useCallback)(()=>{if(!t?.current)return e({shouldCallAuthOnSuccess:!1});t.current()},[e])}})(),r=a7(e=>e.inProgressMfaFlow);return function(e){Ff("configureMfa",e)}({onMfaRequired:()=>{t.mfa.noPromptOnMfaRequired||a7.setState({inProgressMfaFlow:"txn"})}}),t.render.standalone?(0,ri.jsx)(u7,{children:(0,ri.jsx)(v7,{id:"privy-modal-content",children:(0,ri.jsx)(y7,{})})}):(0,ri.jsx)(d7,{open:!(!e&&!r),id:"privy-dialog","aria-label":"log in or sign up","aria-labelledby":"privy-dialog-title",onClick:()=>n(),children:(0,ri.jsx)(u7,{children:(0,ri.jsx)(w7,{})})})};let v7=Ay.div.withConfig({displayName:"ContentWrapper",componentId:"sc-11876fb-0"})(["display:flex;flex-direction:column;text-align:center;font-size:14px;line-height:20px;width:100%;background:var(--privy-color-background);padding:0 16px;"]),x7=Ay(v7).withConfig({displayName:"BaseModal",componentId:"sc-11876fb-1"})(["transition:height 150ms ease-out;overflow-x:hidden;overflow-y:auto;scrollbar-width:none;max-height:calc(100svh - 32px);border-radius:var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;box-shadow:0px 0px 36px rgba(55,65,81,0.15);@media (min-width:441px){box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]);function E7(e){let t=(0,ei.useRef)(null),n=(0,ei.useRef)();return(0,ei.useEffect)(()=>{n.current?.remove(),n.current=function({botUsername:e,scriptHost:t}){let n=document.createElement("script"),{origin:r}=new URL(t);return n.async=!0,n.src=`${r}/js/telegram-login.js`,n.setAttribute("data-telegram-login",e),n.setAttribute("data-request-access","write"),n.setAttribute("data-lang","en"),n}(e),t.current?.after(n.current)},[e]),(0,ri.jsx)("div",{ref:t,hidden:!0})}const k7=()=>{let{ready:e}=NG(),{client:t}=Jd();return(0,ei.useEffect)(()=>{let n=()=>{if(!t.connectors||!e)return;let n=t.connectors.wallets.map(e=>({address:e.address,connectorType:e.connectorType,walletClientType:e.walletClientType,connectedAt:e.connectedAt,id:e.meta.id}));VW.put(xf,n)};return t.connectors?.on("walletsUpdated",n),()=>{t.connectors?.off("walletsUpdated",n)}},[e,t.connectors]),null};async function _7(e,t,n,r,i,s=!1){let o=s,a=async a=>{if(o&&t&&t.length>0){a===(s?0:1)?i("configureMfa","onMfaRequired",{mfaMethods:t}):r.current?.reject(new LG("missing_or_invalid_mfa","MFA verification failed, retry."));let o=await new Promise((e,t)=>{n.current={resolve:e,reject:t},setTimeout(()=>{let e=new LG("mfa_timeout","Timed out waiting for MFA code");r.current?.reject(e),t(e)},3e5)});return await e(o)}return await e()},c=null;for(let t=0;t<4;t++)try{c=await a(t),r.current?.resolve(void 0);break}catch(e){if("missing_or_invalid_mfa"!==e.type)throw r.current?.resolve(void 0),e;o=!0}if(null===c){let e=new LG("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw r.current?.reject(e),e}return c}var C7;let S7=(C7=0,()=>"id-"+C7++);function I7(e){return void 0!==e.error}let A7=new class{enqueue(e,t){this.callbacks[e]=t}dequeue(e,t){let n=this.callbacks[t];if(!n)throw Error(`cannot dequeue ${e} event: no event found for id ${t}`);switch(delete this.callbacks[t],e){case"privy:iframe:ready":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:import":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":case"privy:auth:unlink-passkey":case"privy:farcaster:init-signer":case"privy:farcaster:sign":case"privy:solana-wallet:create":case"privy:delegated-actions:consent":return n;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}},T7=new Map,P7=(e,t)=>"bigint"==typeof t?t.toString():t;function O7(e,t,n,r){let i=n.contentWindow;if(!i)throw Error("iframe not initialized");let s=((e,t)=>`${e}${JSON.stringify(t,P7)}`)(e,t);if("privy:wallet:create"===e){let e=T7.get(s);if(e)return e}let o=new Promise((n,s)=>{let o=S7();A7.enqueue(o,{resolve:n,reject:s}),i.postMessage({id:o,event:e,data:t},r)}).finally(()=>{T7.delete(s)});return T7.set(s,o),o}function j7(e){let t=Lf(),n=(0,ei.useRef)(null),r=(0,ei.useRef)(e.mfaMethods),i=Wf(),[s,o]=(0,ei.useState)(!1);return(0,ei.useEffect)(()=>{r.current=e.mfaMethods},[e.mfaMethods]),(0,ei.useEffect)(()=>{if(!s)return;let t=n.current;if(!t)return;function o(t){var n;t&&t.origin===e.origin&&"string"==typeof(n=t.data).event&&/^privy:.+/.test(n.event)&&function(e){switch(e.event){case"privy:iframe:ready":let t=A7.dequeue(e.event,e.id);return I7(e)?t.reject(new LG(e.error.type,e.error.message)):t.resolve(e.data);case"privy:user-signer:sign":{let t=A7.dequeue(e.event,e.id);return I7(e)?t.reject(new LG(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:wallets:add":{let t=A7.dequeue(e.event,e.id);return I7(e)?t.reject(new LG(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:wallets:set-recovery":{let t=A7.dequeue(e.event,e.id);return I7(e)?t.reject(new LG(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:wallets:connect":{let t=A7.dequeue(e.event,e.id);return I7(e)?t.reject(new LG(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:wallets:recover":{let t=A7.dequeue(e.event,e.id);return I7(e)?t.reject(new LG(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:wallets:rpc":{let t=A7.dequeue(e.event,e.id);return I7(e)?t.reject(new LG(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:wallet:create":let n=A7.dequeue(e.event,e.id);return I7(e)?n.reject(new LG(e.error.type,e.error.message)):n.resolve(e.data);case"privy:wallets:import":let r=A7.dequeue(e.event,e.id);return I7(e)?r.reject(new LG(e.error.type,e.error.message)):r.resolve(e.data);case"privy:mfa:verify":let i=A7.dequeue(e.event,e.id);return I7(e)?i.reject(new LG(e.error.type,e.error.message)):i.resolve(e.data);case"privy:mfa:init-enrollment":{let t=A7.dequeue(e.event,e.id);return I7(e)?t.reject(new LG(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:mfa:submit-enrollment":{let t=A7.dequeue(e.event,e.id);return I7(e)?t.reject(new LG(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:mfa:unenroll":{let t=A7.dequeue(e.event,e.id);return I7(e)?t.reject(new LG(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:mfa:clear":{let t=A7.dequeue(e.event,e.id);return I7(e)?t.reject(new LG(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:auth:unlink-passkey":{let t=A7.dequeue(e.event,e.id);return I7(e)?t.reject(new LG(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:solana-wallet:create":let s=A7.dequeue(e.event,e.id);return I7(e)?s.reject(new LG(e.error.type,e.error.message)):s.resolve(e.data);case"privy:farcaster:init-signer":{let t=A7.dequeue(e.event,e.id);return I7(e)?t.reject(new LG(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:farcaster:sign":{let t=A7.dequeue(e.event,e.id);return I7(e)?t.reject(new LG(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:delegated-actions:consent":{let t=A7.dequeue(e.event,e.id);return I7(e)?t.reject(new LG(e.error.type,e.error.message)):t.resolve(e.data)}default:console.warn("Unsupported wallet proxy method:",e)}}(t.data)}let a={signWithUserSigner:n=>_7(r=>O7("privy:user-signer:sign",{...n,...r},t,e.origin),r.current,e.mfaPromise,e.mfaSubmitPromise,i),addWallet:n=>_7(r=>O7("privy:wallets:add",{...n,...r},t,e.origin),r.current,e.mfaPromise,e.mfaSubmitPromise,i),setRecovery:n=>_7(r=>O7("privy:wallets:set-recovery",{...n,...r},t,e.origin),r.current,e.mfaPromise,e.mfaSubmitPromise,i),connect:n=>_7(r=>O7("privy:wallets:connect",{...n,...r},t,e.origin),r.current,e.mfaPromise,e.mfaSubmitPromise,i),recover:n=>_7(r=>O7("privy:wallets:recover",{...n,...r},t,e.origin),r.current,e.mfaPromise,e.mfaSubmitPromise,i,!n.recoveryAccessToken&&!n.recoveryPassword&&!n.recoverySecretOverride),rpc:n=>_7(r=>O7("privy:wallets:rpc",{...n,...r},t,e.origin),r.current,e.mfaPromise,e.mfaSubmitPromise,i),create:n=>O7("privy:wallet:create",n,t,e.origin),importWallet:n=>O7("privy:wallets:import",n,t,e.origin),createSolana:n=>_7(r=>O7("privy:solana-wallet:create",{...n,...r},t,e.origin),r.current,e.mfaPromise,e.mfaSubmitPromise,i),createDelegatedAction:n=>O7("privy:delegated-actions:consent",n,t,e.origin),verifyMfa:n=>_7(r=>O7("privy:mfa:verify",{...n,...r},t,e.origin),r.current,e.mfaPromise,e.mfaSubmitPromise,i,!0),initEnrollMfa:n=>_7(r=>O7("privy:mfa:init-enrollment",{...n,...r},t,e.origin),r.current,e.mfaPromise,e.mfaSubmitPromise,i),submitEnrollMfa:n=>_7(r=>O7("privy:mfa:submit-enrollment",{...n,...r},t,e.origin),r.current,e.mfaPromise,e.mfaSubmitPromise,i),unenrollMfa:n=>_7(r=>O7("privy:mfa:unenroll",{...n,...r},t,e.origin),r.current,e.mfaPromise,e.mfaSubmitPromise,i),clearMfa:n=>O7("privy:mfa:clear",n,t,e.origin),unlinkPasskeyAccount:n=>_7(r=>O7("privy:auth:unlink-passkey",{...n,...r},t,e.origin),r.current,e.mfaPromise,e.mfaSubmitPromise,i),initFarcasterSigner:n=>O7("privy:farcaster:init-signer",n,t,e.origin),signFarcasterMessage:n=>O7("privy:farcaster:sign",n,t,e.origin)};window.addEventListener("message",o);let c=new AbortController;return Oq(()=>O7("privy:iframe:ready",{},t,e.origin),{abortSignal:c.signal}).then(()=>e.onLoad(a),(...t)=>{console.warn("Privy iframe failed to load: ",...t),e.onLoadFailed()}),()=>{window.removeEventListener("message",o),c.abort()}},[s]),t?(0,ri.jsx)("iframe",{ref:n,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},onLoad:()=>o(!0),src:WW({origin:e.origin,path:`/apps/${e.appId}/embedded-wallets`,query:{caid:e.clientAnalyticsId,client_id:e.appClientId}})}):null}const N7=e=>e.linkedAccounts.filter(e=>"wallet"===e.type&&"privy"===e.walletClientType&&e.delegated),R7="popup-privy-oauth",$7="PRIVY_OAUTH_USE_BROADCAST_CHANNEL";class M7{async authenticate(){if(!this.api)throw new jd("Auth flow has no API instance");try{return await this.api.post(Hd,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw $d(e)}}async link(){if(!this.api)throw new jd("Auth flow has no API instance");try{return await this.api.post(Vd,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw $d(e)}}constructor({authorizationCode:e,stateCode:t,codeVerifier:n,provider:r}){this.meta={authorizationCode:e,stateCode:t,codeVerifier:n,provider:r}}}async function L7({api:e,requesterAppId:t,providerAppId:n}){let r=(await e.get(`/api/v1/apps/${t}/cross-app/connections`)).connections.find(e=>e.provider_app_id===n);if(!r)throw new jd("Invalid connected app");return{name:r.provider_app_name,logoUrl:r.provider_app_icon_url||void 0,apiUrl:r.provider_app_custom_api_url,readOnly:r.read_only,customAuthAuthorizeUrl:r.provider_app_custom_auth_authorize_url,customAuthTransactUrl:r.provider_app_custom_auth_transact_url}}const B7=async({user:e,address:t,client:n,request:r,requesterAppId:i,reconnect:s})=>{n.createAnalyticsEvent({eventName:"cross_app_request_started",payload:{address:t,method:r.method}});let o=e?.linkedAccounts.find(e=>"cross_app"===e.type&&(e.embeddedWallets.some(e=>e.address===t)||e.smartWallets.some(e=>e.address===t)));if(!e||!o)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Cannot request a signature with this wallet address",address:t}}),new jd("Cannot request a signature with this wallet address");let a=n.getProviderAccessToken(o.providerApp.id),c=await L7({api:n.api,requesterAppId:i,providerAppId:o.providerApp.id});if(!a){if(c.readOnly)throw console.error("cannot transact against a read-only provider app"),new jd("Cannot transact against a read-only provider app");await s({appId:o.providerApp.id,action:"link"})&&(a=n.getProviderAccessToken(o.providerApp.id))}if(!a)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Transactions require a valid token",address:t}}),new jd("Transactions require a valid token");let l=qG();if(!l)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Missing token",address:t}}),new jd("Failed to initialize signature request");let u=new URL(c.customAuthTransactUrl||`${c.apiUrl}/oauth/transact`);return u.searchParams.set("token",a||""),u.searchParams.set("request",U7(r)),l.location=u.href,new Promise((e,i)=>{let s=setTimeout(()=>{u(),i(new jd("Request timeout")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Request timeout",address:t}})},12e4),a=setInterval(()=>{l.closed&&(u(),i(new jd("User rejected request")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"User rejected request",address:t}}))},300),c=s=>{s.data&&("set"===s.data.token?.action&&void 0!==s.data.token?.value?n.storeProviderAccessToken(o.providerApp.id,s.data.token.value):"clear"===s.data.token?.action&&n.storeProviderAccessToken(o.providerApp.id,null),"PRIVY_CROSS_APP_ACTION_RESPONSE"===s.data.type&&s.data.result&&(u(),e(s.data.result),n.createAnalyticsEvent({eventName:"cross_app_request_success",payload:{address:t,method:r.method}})),"PRIVY_CROSS_APP_ACTION_ERROR"===s.data.type&&s.data.error&&(u(),i(s.data.error),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:s.data.error,address:t}})))};window.addEventListener("message",c);let u=()=>{l.close(),clearInterval(a),clearTimeout(s),window.removeEventListener("message",c)}})};let U7=e=>JSON.stringify({content:{request:{request:D7(e,oi.nj)}},timestamp:Date.now(),callbackUrl:window.origin});const D7=(e,t)=>"bigint"==typeof e?t(e):Array.isArray(e)?e.map(e=>D7(e,t)):e&&"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,n])=>[e,D7(n,t)])):e,F7=({passkeys:e,isLoading:t,errorReason:n,success:r,expanded:i,onLinkPasskey:s,onUnlinkPasskey:o,onExpand:a,onBack:c,onClose:l})=>(0,ri.jsx)(bK,r?{title:"Passkeys updated",icon:rh,iconVariant:"success",primaryCta:{label:"Done",onClick:l},onClose:l,watermark:!0}:i?{icon:mh,title:"Your passkeys",onBack:c,onClose:l,watermark:!0,children:(0,ri.jsx)(W7,{passkeys:e,expanded:i,onUnlink:o,onExpand:a})}:{icon:mh,title:"Set up passkey verification",subtitle:"Verify with passkey",primaryCta:{label:"Add new passkey",onClick:s,loading:t},onClose:l,watermark:!0,helpText:n||void 0,children:0===e.length?(0,ri.jsx)(q7,{}):(0,ri.jsx)(z7,{children:(0,ri.jsx)(W7,{passkeys:e,expanded:i,onUnlink:o,onExpand:a})})});let z7=Ay.div.withConfig({displayName:"ContentContainer",componentId:"sc-d4c46a0c-0"})(["margin-bottom:12px;"]),W7=({passkeys:e,expanded:t,onUnlink:n,onExpand:r})=>{let[i,s]=(0,ei.useState)([]),o=t?e.length:2,a=e=>e.authenticatorName?e.createdWithBrowser?`${e.authenticatorName} on ${e.createdWithBrowser}`:e.authenticatorName:e.createdWithBrowser?e.createdWithOs?`${e.createdWithBrowser} on ${e.createdWithOs}`:`${e.createdWithBrowser}`:"Unknown device";return(0,ri.jsxs)("div",{children:[(0,ri.jsx)(Y7,{children:"Your passkeys"}),(0,ri.jsxs)(Z7,{children:[e.slice(0,o).map(e=>(0,ri.jsxs)(X7,{children:[(0,ri.jsxs)("div",{children:[(0,ri.jsx)(J7,{children:a(e)}),(0,ri.jsxs)(Q7,{children:["Last used:"," ",(e.latestVerifiedAt??e.firstVerifiedAt)?.toLocaleString()??"N/A"]})]}),(0,ri.jsx)(tee,{disabled:i.includes(e.credentialId),onClick:()=>(async e=>{s(t=>t.concat([e])),await n(e),s(t=>t.filter(t=>t!==e))})(e.credentialId),children:i.includes(e.credentialId)?(0,ri.jsx)(kV,{}):(0,ri.jsx)(K4,{size:16})})]},e.credentialId)),e.length>2&&!t&&(0,ri.jsx)(G7,{onClick:r,children:"View all"})]})]})},q7=()=>(0,ri.jsxs)(C0,{style:{color:"var(--privy-color-foreground)"},children:[(0,ri.jsx)(S0,{children:"Verify with Touch ID, Face ID, PIN, or hardware key"}),(0,ri.jsx)(S0,{children:"Takes seconds to set up and use"}),(0,ri.jsx)(S0,{children:"Use your passkey to verify transactions and login to your account"})]});const H7={component:()=>{let{user:e,unlinkPasskey:t}=eV(),{linkWithPasskey:n,closePrivyModal:r}=Jd(),i=e?.linkedAccounts.filter(e=>"passkey"===e.type),[s,o]=(0,ei.useState)(!1),[a,c]=(0,ei.useState)(""),[l,u]=(0,ei.useState)(!1),[d,h]=(0,ei.useState)(!1);return(0,ei.useEffect)(()=>{0===i.length&&h(!1)},[i.length]),(0,ri.jsx)(F7,{passkeys:i,isLoading:s,errorReason:a,success:l,expanded:d,onLinkPasskey:()=>{o(!0),n().then(()=>u(!0)).catch(e=>{if(e instanceof Pd){if(e.privyErrorCode===Ld.CANNOT_LINK_MORE_OF_TYPE)return void c("Cannot link more passkeys to account.");if(e.privyErrorCode===Ld.PASSKEY_NOT_ALLOWED)return void c("Passkey request timed out or rejected by user.")}c("Unknown error occurred.")}).finally(()=>{o(!1)})},onUnlinkPasskey:async e=>(o(!0),await t(e).then(()=>u(!0)).catch(e=>{e instanceof Pd&&e.privyErrorCode===Ld.MISSING_MFA_CREDENTIALS?c("Cannot unlink a passkey enrolled in MFA"):c("Unknown error occurred.")}).finally(()=>{o(!1)})),onExpand:()=>h(!0),onBack:()=>h(!1),onClose:()=>r()})}},V7=Ay.div.withConfig({displayName:"DoubleIconWrapper",componentId:"sc-d4c46a0c-1"})(["display:flex;align-items:center;justify-content:center;width:180px;height:90px;border-radius:50%;svg + svg{margin-left:12px;}> svg{z-index:2;color:var(--privy-color-accent) !important;stroke:var(--privy-color-accent) !important;fill:var(--privy-color-accent) !important;}"]);let K7=Cy(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:6px 8px;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent) !important;:focus{outline:none;box-shadow:none;}}"]);const G7=Ay.button.withConfig({displayName:"LinkButton",componentId:"sc-d4c46a0c-2"})(["",""],K7);let Z7=Ay.div.withConfig({displayName:"List",componentId:"sc-d4c46a0c-3"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.8rem;padding:0.5rem 0rem 0rem;flex-grow:1;width:100%;"]),Y7=Ay.div.withConfig({displayName:"PasskeyListTitle",componentId:"sc-d4c46a0c-4"})(["line-height:20px;height:20px;font-size:1em;font-weight:450;display:flex;justify-content:flex-beginning;width:100%;"]),J7=Ay.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-d4c46a0c-5"})(["font-size:1em;line-height:1.3em;font-weight:500;color:var(--privy-color-foreground-2);padding:0.2em 0;"]),Q7=Ay.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-d4c46a0c-6"})(["font-size:0.875rem;line-height:1rem;color:#64668b;padding:0.2em 0;"]),X7=Ay.div.withConfig({displayName:"PasskeyListItem",componentId:"sc-d4c46a0c-7"})(["display:flex;align-items:center;justify-content:space-between;padding:1em;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;border-radius:8px;border:1px solid #e2e3f0 !important;width:100%;height:5em;"]),eee=Cy([":focus,:hover,:active{outline:none;}display:flex;width:2em;height:2em;justify-content:center;align-items:center;svg{color:var(--privy-color-error);}svg:hover{color:var(--privy-color-foreground-3);}"]),tee=Ay.button.withConfig({displayName:"PasskeyItemUnlinkButton",componentId:"sc-d4c46a0c-8"})(["",""],eee);const nee=new Map([[z1,null],[x1,"external"],[y1,"external"],[m1,"external"],[b1,"external"],[FQ,"manual"],[N1,"moonpay"]]),ree=({disabled:e})=>{let{migrate:t}=(()=>{let e=Mf(),{user:t}=eV(),{client:n,refreshSessionAndUser:r,walletProxy:i}=Jd();return{migrate:(0,ei.useCallback)(async()=>{if("legacy-embedded-wallets-only"===e.embeddedWallets.mode)return{success:!0};if(!t)throw new jd("User must be authenticated before migrating wallets",Ld.MUST_BE_AUTHENTICATED);let s=rH(t);if(!s||kH(s)||!L4(s))return{success:!0};if(!i)throw new jd("Cannot connect to wallet proxy");let o=await n.getAccessToken();if(!o)throw new jd("User must be authenticated before migrating wallets",Ld.MUST_BE_AUTHENTICATED);let a=s.imported?[s]:t.linkedAccounts.filter(e=>"wallet"===e.type&&"privy"===e.walletClientType&&!e.imported).filter(L4),{entropyId:c,entropyIdVerifier:l}=oH(t,s);try{await i.connect({accessToken:o,entropyId:c,entropyIdVerifier:l})}catch(e){if(!UG(e)||"privy"!==s.recoveryMethod)throw e;await i.recover({accessToken:o,entropyId:c,entropyIdVerifier:l})}return await i.createDelegatedAction({accessToken:o,rootWallet:{address:s.address,chainType:s.chainType,imported:s.imported},delegatedWallets:a}),await r(),{success:!0}},[e.embeddedWallets.mode,t,i,n,r])}})(),{user:n}=eV(),{walletProxy:r}=Jd();return(0,ei.useEffect)(()=>{!e&&n&&r&&t().catch(e=>{console.debug("Unable to migrate wallets: ",e)})},[n,r,e,t]),null},iee=({providerApp:e,success:t,error:n,onClose:r})=>{let{title:i,subtitle:s}=(0,ei.useMemo)(()=>t?{title:`Successfully connected with ${e.name}`,subtitle:"You're good to go!"}:n?{title:"Authentication failed",subtitle:n.message}:{title:`Connecting to ${e.name}`,subtitle:`Please check the pop-up from ${e.name} to continue`},[t,n,e.name]);return(0,ri.jsx)(bK,{title:i,subtitle:s,icon:e.logoUrl,iconVariant:"loading",iconLoadingStatus:{success:t,fail:!!n},onBack:r,watermark:!0})},see={component:()=>{let e=Mf(),{data:t,navigate:n,setModalData:r,onUserCloseViaDialogOrKeybindRef:i}=QH(),{crossAppAuthFlow:s,updateWallets:o,closePrivyModal:a,createAnalyticsEvent:c}=Jd(),{logout:l}=z6(),[u,d]=(0,ei.useState)({}),h=t?.crossAppAuth,f={id:h.appId,name:h.name,logoUrl:h.logoUrl},p=new jd(`There was an issue connecting your ${f.name} account. Please try again.`),g=new eq(async e=>{if(h.popup)try{let t=await s({appId:e,popup:h.popup,action:h.action});d({data:t})}catch(e){if(e instanceof jd)d({error:e});else if(e instanceof Od){if(e.privyErrorCode===Ld.ACCOUNT_TRANSFER_REQUIRED&&e.data?.data?.nonce)return r({accountTransfer:{nonce:e.data?.data?.nonce,account:e.data?.data?.subject,displayName:e.data?.data?.account?.displayName,linkMethod:`privy:${f.id}`,embeddedWalletAddress:e.data?.data?.otherUser?.embeddedWalletAddress,oAuthUserInfo:e.data?.data?.otherUser?.oAuthUserInfo}}),void n(tJ);h.popup&&h.popup.close(),d({error:p})}else d({error:p})}else d({error:p})}),m=()=>{u.data&&(o(),h.onSuccess(u.data),a({shouldCallAuthOnSuccess:!0,isSuccess:!0})),h.onError(u.error??new jd("User canceled flow")),a({shouldCallAuthOnSuccess:!1,isSuccess:!1})};return i.current=m,(0,ei.useEffect)(()=>{f.id.length&&g.execute(f.id)},[f.id]),(0,ei.useEffect)(()=>{if(!u.data)return;let t=u.data;if(e.legal.requireUsersAcceptTerms&&!t.hasAcceptedTerms){let e=setTimeout(()=>{n(oJ)},nf);return()=>clearTimeout(e)}if(EY(t,e.embeddedWallets)){let e=setTimeout(()=>{r({createWallet:{onSuccess:()=>{},onFailure:e=>{console.error(e),c({eventName:"embedded_wallet_creation_failure_logout",payload:{error:e,provider:`privy:${f.id}`,screen:"CrossAppAuthScreen"}}),l()},callAuthOnSuccessOnClose:!0}}),n(sJ)},nf);return()=>clearTimeout(e)}let i=setTimeout(m,nf);return()=>clearTimeout(i)},[u.data]),(0,ri.jsx)(iee,{providerApp:f,success:!!u.data,error:u.error,onClose:m})}},oee=({appName:e,address:t,success:n,error:r,onAccept:i,onDecline:s,onClose:o})=>(0,ri.jsx)(bK,n||r?{title:r?"Something went wrong":"Success!",subtitle:r?"Please try again.":`You've successfully granted delegated action permissions to ${e}.`,icon:r?G4:rh,iconVariant:r?"error":"success",onBack:o,watermark:!0}:{title:"Enable offline access",subtitle:`By confirming, ${e} will be able to use your wallet for you even when you're not around. You can revoke this later.`,icon:Z4,primaryCta:{label:"Accept",onClick:i},secondaryCta:{label:"Not now",onClick:s},onBack:o,watermark:!0,children:(0,ri.jsx)(NQ,{address:t,title:"Wallet"})}),aee={component:()=>{let{data:e}=QH(),t=Mf(),{closePrivyModal:n}=Jd(),[r,i]=(0,ei.useState)(!1),[s,o]=(0,ei.useState)(),{address:a,onDelegate:c,onSuccess:l,onError:u}=e.delegatedActions.consent,d=async()=>{r?l():u(s??new jd("User declined delegating actions.")),n({shouldCallAuthOnSuccess:!1})};return(0,ei.useEffect)(()=>{if(!r&&!s)return;let e=setTimeout(d,rf);return()=>clearTimeout(e)},[r,s]),(0,ri.jsx)(oee,{appName:t.name,address:a,success:r,error:s,onAccept:async()=>{try{await c(),i(!0)}catch(e){o(e)}},onDecline:()=>{d()},onClose:d})}},cee=({appName:e,success:t,error:n,onRevoke:r,onDeny:i,onClose:s})=>(0,ri.jsx)(bK,t||n?{title:n?"Something went wrong":"Success!",subtitle:n?"Please try again.":"You've successfully revoked permissions.",icon:n?G4:rh,iconVariant:n?"error":"success",onBack:s,watermark:!0}:{title:"Revoke offline access to wallet",subtitle:`By confirming, ${e} will no longer be able to use this wallet on your behalf when you are not online.`,icon:Y4,primaryCta:{label:"Confirm",onClick:r},secondaryCta:{label:"Deny",onClick:i},onBack:s,watermark:!0}),lee={component:()=>{let{data:e}=QH(),t=Mf(),{closePrivyModal:n}=Jd(),[r,i]=(0,ei.useState)(!1),[s,o]=(0,ei.useState)(),{onRevoke:a,onSuccess:c,onError:l}=e.delegatedActions.revoke,u=async()=>{r?c():l(s??new jd("User declined revoking access to their delegated wallet.")),n({shouldCallAuthOnSuccess:!1})};return(0,ei.useEffect)(()=>{if(!r&&!s)return;let e=setTimeout(u,rf);return()=>clearTimeout(e)},[r,s]),(0,ri.jsx)(cee,{appName:t.name,success:r,error:s,onRevoke:async()=>{try{await a(),i(!0)}catch(e){o(e)}},onDeny:()=>{u()},onClose:u})}};let uee="#8a63d2";const dee=({appName:e,loading:t,success:n,errorMessage:r,connectUri:i,onBack:s,onClose:o,onOpenFarcaster:a})=>(0,ri.jsx)(bK,si.Fr||t?si.un?{title:r?r.message:"Add a signer to Farcaster",subtitle:r?r.detail:`This will allow ${e} to add casts, likes, follows, and more on your behalf.`,icon:q1,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},primaryCta:i&&a?{label:"Open Farcaster app",onClick:a}:void 0,onBack:s,onClose:o,watermark:!0}:{title:r?r.message:"Requesting signer from Farcaster",subtitle:r?r.detail:"This should only take a moment",icon:q1,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},onBack:s,onClose:o,watermark:!0,children:i&&si.Fr&&(0,ri.jsx)(hee,{children:(0,ri.jsx)(H1,{text:"Take me to Farcaster",url:i,color:uee})})}:{title:"Add a signer to Farcaster",subtitle:`This will allow ${e} to add casts, likes, follows, and more on your behalf.`,onBack:s,onClose:o,watermark:!0,children:(0,ri.jsxs)(fee,{children:[(0,ri.jsx)(pee,{children:i?(0,ri.jsx)(kJ,{url:i,size:275,squareLogoElement:q1}):(0,ri.jsx)(yee,{children:(0,ri.jsx)(xV,{})})}),(0,ri.jsxs)(gee,{children:[(0,ri.jsx)(mee,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),i&&(0,ri.jsx)(e8,{text:i,itemName:"link",color:uee})]})]})});let hee=Ay.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-75c99bb6-0"})(["margin-top:24px;"]),fee=Ay.div.withConfig({displayName:"ContentContainer",componentId:"sc-75c99bb6-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),pee=Ay.div.withConfig({displayName:"QrContainer",componentId:"sc-75c99bb6-2"})(["padding:24px;position:relative;display:flex;align-items:center;justify-content:center;min-height:275px;"]),gee=Ay.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-75c99bb6-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),mee=Ay.div.withConfig({displayName:"InstructionText",componentId:"sc-75c99bb6-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),yee=Ay.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-75c99bb6-5"})(["position:relative;width:82px;height:82px;"]);const wee={component:()=>{let{lastScreen:e,navigateBack:t,data:n}=QH(),r=Mf(),{requestFarcasterSignerStatus:i,closePrivyModal:s}=Jd(),[o,a]=(0,ei.useState)(void 0),[c,l]=(0,ei.useState)(!1),[u,d]=(0,ei.useState)(!1),h=(0,ei.useRef)([]),f=n?.farcasterSigner;(0,ei.useEffect)(()=>{let e=Date.now(),t=setInterval(async()=>{if(!f?.public_key)return clearInterval(t),void a({retryable:!0,message:"Connect failed",detail:"Something went wrong. Please try again."});"approved"===f.status&&(clearInterval(t),l(!1),d(!0),h.current.push(setTimeout(()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0}),nf)));let n=await i(f?.public_key),r=Date.now()-e;"approved"===n.status?(clearInterval(t),l(!1),d(!0),h.current.push(setTimeout(()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0}),nf))):r>3e5?(clearInterval(t),a({retryable:!0,message:"Connect failed",detail:"The request timed out. Try again."})):"revoked"===n.status&&(clearInterval(t),a({retryable:!0,message:"Request rejected",detail:"The request was rejected. Please try again."}))},2e3);return()=>{clearInterval(t),h.current.forEach(e=>clearTimeout(e))}},[]);let p="pending_approval"===f?.status?f.signer_approval_url:void 0;return(0,ri.jsx)(dee,{appName:r.name,loading:c,success:u,errorMessage:o,connectUri:p,onBack:e?t:void 0,onClose:s,onOpenFarcaster:()=>{p&&(window.location.href=p)}})}},bee=({onClose:e})=>(0,ri.jsx)(bK,{title:"Could not log in with provider",subtitle:"It looks like you're using an in-app browser. To log in, please try again using an external browser.",icon:hh,primaryCta:{label:"Close",onClick:e},watermark:!0}),vee={component:()=>{let{closePrivyModal:e}=Jd();return(0,ri.jsx)(bee,{onClose:()=>e()})}},xee=({title:e="Connect your email",subtitle:t="Add your email to your account"})=>(0,ri.jsx)(bK,{title:e,subtitle:t,icon:Fy,watermark:!0,children:(0,ri.jsx)(KK,{children:(0,ri.jsx)(X2,{stacked:!0})})}),Eee={component:()=>{let e=Mf();return(0,ri.jsx)(xee,{subtitle:`Add your email to your ${e?.name} account`})}},kee=({title:e="Connect your phone",subtitle:t="Add your number to your account",onSubmit:n,isSubmitting:r=!1})=>{let[i,s]=(0,ei.useState)(null),o=async()=>{i?.qualifiedPhoneNumber&&await n(i)};return(0,ri.jsx)(bK,{title:e,subtitle:t,icon:Wy,primaryCta:{label:r?"Submitting":"Submit",onClick:o,disabled:!i?.isValid||r},watermark:!0,children:(0,ri.jsx)(w2,{onChange:e=>{s(e)},onSubmit:o,noIncludeSubmitButton:!0,hideRecent:!0})})},_ee={component:()=>{let{currentScreen:e,data:t,navigate:n,setModalData:r}=QH(),i=Mf(),{initLoginWithSms:s}=Jd(),[o,a]=(0,ei.useState)(!1);return(0,ri.jsx)(kee,{subtitle:`Add your number to your ${i?.name} account`,onSubmit:async i=>{a(!0);try{await s({phoneNumber:i.qualifiedPhoneNumber,withPrivyUi:!0}),n(V2)}catch(i){r({errorModalData:{error:i,previousScreen:t?.errorModalData?.previousScreen||e||_ee}}),n(zY)}finally{a(!1)}},isSubmitting:o})}},Cee=({title:e="Could not connect with wallet",subtitle:t="Please check that Phantom multichain is enabled and try again.",primaryCtaText:n="Try again",secondaryCtaText:r="Cancel",onTryAgain:i,onCancel:s})=>(0,ri.jsx)(bK,{title:e,subtitle:t,icon:uh,iconVariant:"error",primaryCta:{label:n,onClick:i},secondaryCta:{label:r,onClick:s},watermark:!0}),See={component:()=>{let{closePrivyModal:e}=Jd(),{navigate:t}=QH();return(0,ri.jsx)(Cee,{onTryAgain:()=>{t(a3)},onCancel:async()=>{await e()}})}};function Iee(){let{initEnrollmentWithSms:e,initEnrollmentWithTotp:t,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenroll:o,enrollInMfa:a}=(0,ei.useContext)(XH);return{initEnrollmentWithSms:e,initEnrollmentWithTotp:t,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenrollWithSms:()=>o("sms"),unenrollWithTotp:()=>o("totp"),unenrollWithPasskey:e=>o("passkey",e),showMfaEnrollmentModal:()=>a(!0),closeMfaEnrollmentModal:()=>a(!1)}}const Aee=e=>(0,ri.jsxs)(Tee,{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"88",height:"89",viewBox:"0 0 88 89",...e,children:[(0,ri.jsx)("rect",{y:"0.666016",width:"88",height:"88",rx:"44"}),(0,ri.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.2463 20.9106C44.5473 20.2486 43.4527 20.2486 42.7537 20.9106C37.8798 25.5263 31.3034 28.3546 24.0625 28.3546C23.9473 28.3546 23.8323 28.3539 23.7174 28.3525C22.9263 28.3427 22.2202 28.8471 21.9731 29.5987C20.9761 32.6311 20.4375 35.8693 20.4375 39.2297C20.4375 53.5896 30.259 65.651 43.5482 69.0714C43.8446 69.1477 44.1554 69.1477 44.4518 69.0714C57.741 65.651 67.5625 53.5896 67.5625 39.2297C67.5625 35.8693 67.0239 32.6311 66.0269 29.5987C65.7798 28.8471 65.0737 28.3427 64.2826 28.3525C64.1677 28.3539 64.0527 28.3546 63.9375 28.3546C56.6966 28.3546 50.1202 25.5263 45.2463 20.9106ZM52.7249 40.2829C53.3067 39.4683 53.1181 38.3363 52.3035 37.7545C51.4889 37.1726 50.3569 37.3613 49.7751 38.1759L41.9562 49.1223L38.0316 45.1977C37.3238 44.4899 36.1762 44.4899 35.4684 45.1977C34.7605 45.9056 34.7605 47.0532 35.4684 47.761L40.9059 53.1985C41.2826 53.5752 41.806 53.7671 42.337 53.7232C42.868 53.6792 43.3527 53.4039 43.6624 52.9704L52.7249 40.2829Z"})]});let Tee=Ay.svg.withConfig({displayName:"StyledSvg",componentId:"sc-59fa943f-0"})(["height:90px;width:90px;> rect{","}> path{fill:white;}"],e=>"success"===e.color?"fill: var(--privy-color-success);":"fill: var(--privy-color-accent);");const Pee=({showIntro:e,userMfaMethods:t,appMfaMethods:n,userHasAuthSms:r,isTotpLoading:i,isPasskeyLoading:s,error:o,onClose:a,backFn:c,handleSelectMethod:l,setRemovingMfaMethod:u})=>{let d=t.reduce((e,t)=>({...e,[t]:!0}),{}),h=n.reduce((e,t)=>({...e,[t]:!0}),{});return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{backFn:e?c:void 0,onClose:a},"header"),(0,ri.jsx)(F9,{style:{marginBottom:"1.5rem"},children:(0,ri.jsx)(zW,{})}),(0,ri.jsx)(S9,{children:"Choose a verification method"}),t.length>0?(0,ri.jsx)(I9,{children:"To add or delete verification methods, verification is required."}):(0,ri.jsx)(I9,{children:"How would you like to verify your identity?"}),o&&(0,ri.jsx)(z9,{style:{marginTop:"1.25rem"},children:o.message}),(0,ri.jsxs)(N9,{children:[(h.passkey||d.passkey)&&(0,ri.jsxs)(R9,{children:[(0,ri.jsx)(aV,{style:{justifyContent:"center"},onClick:()=>l("passkey"),disabled:d.passkey||s,children:s?(0,ri.jsx)(xV,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):(0,ri.jsxs)(B9,{children:[(0,ri.jsxs)(M9,{children:[(0,ri.jsx)(EW,{}),"Passkey"]}),d.passkey?(0,ri.jsx)(Oee,{color:"green",children:"Enabled"}):(0,ri.jsx)(L9,{$isAccent:!0,children:(0,ri.jsx)(y8,{})})]})}),d.passkey&&(0,ri.jsx)($9,{style:{position:"absolute",right:0},onClick:()=>u("passkey"),children:(0,ri.jsx)(b8,{})})]},"passkey"),(h.totp||d.totp)&&(0,ri.jsxs)(R9,{children:[(0,ri.jsx)(aV,{style:{justifyContent:"center"},disabled:d.totp||i,onClick:()=>l("totp"),children:i?(0,ri.jsx)(xV,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):(0,ri.jsxs)(B9,{children:[(0,ri.jsxs)(M9,{children:[(0,ri.jsx)(H6,{}),"Authenticator app"]}),d.totp&&(0,ri.jsx)(Oee,{color:"green",children:"Enabled"})]})}),d.totp&&(0,ri.jsx)($9,{style:{position:"absolute",right:0},onClick:()=>u("totp"),children:(0,ri.jsx)(b8,{})})]},"totp"),(h.sms||d.sms)&&(0,ri.jsxs)(R9,{children:[(0,ri.jsx)(aV,{disabled:d.sms||r,onClick:()=>l("sms"),children:(0,ri.jsxs)(B9,{children:[(0,ri.jsxs)(M9,{children:[(0,ri.jsx)(Wy,{}),"SMS"]}),d.sms&&(0,ri.jsx)(Oee,{color:"green",children:"Enabled"}),r&&(0,ri.jsx)(L9,{children:"Disabled"})]})}),d.sms&&(0,ri.jsx)($9,{style:{position:"absolute",right:0},onClick:()=>u("sms"),children:(0,ri.jsx)(b8,{})})]},"sms")]}),(0,ri.jsx)(jee,{children:"You can always change your selection later"}),(0,ri.jsx)(yV,{})]})};let Oee=Ay(y0).withConfig({displayName:"StyledChip",componentId:"sc-5f06df7f-0"})(["margin-right:1.5rem;"]),jee=Ay(U9).withConfig({displayName:"StyledTerms",componentId:"sc-5f06df7f-1"})(["&&{margin-top:1rem;}text-align:center;"]);const Nee=({style:e,...t})=>(0,ri.jsxs)("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...e},xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,ri.jsxs)("g",{clipPath:"url(#clip0_113_33841)",children:[(0,ri.jsx)("path",{d:"M39.1193 0.943398C34.636 -0.174912 29.9185 -0.334713 25.328 0.656273C24.9732 0.732859 24.7477 1.08253 24.8243 1.43729C24.9009 1.79205 25.2506 2.01756 25.6053 1.94097C30.0015 0.991934 34.53 1.14842 38.8375 2.22802C49.1385 4.80983 57.7129 12.5548 60.9786 22.6718C62.2416 26.5843 62.7781 30.7505 62.8855 35.1167C62.8945 35.4795 63.1958 35.7664 63.5586 35.7575C63.9215 35.7485 64.2083 35.4472 64.1994 35.0843C64.0905 30.6582 63.5477 26.3849 62.2536 22.3432C58.8621 11.7515 49.9005 3.63265 39.1193 0.943398Z"}),(0,ri.jsx)("path",{d:"M21.9931 2.93163C22.343 2.83511 22.5484 2.47325 22.4518 2.12339C22.3553 1.77352 21.9935 1.56815 21.6436 1.66466C16.8429 2.98903 10.0898 7.56519 5.91628 13.6786C5.91465 13.681 5.91304 13.6834 5.91145 13.6858C2.24684 19.2083 -0.0503572 26.1484 0.591012 32.8828C0.591623 32.8892 0.592328 32.8956 0.593127 32.902C0.746837 34.1317 1.00488 35.3591 1.26323 36.5879C1.80735 39.1761 2.35282 41.7706 1.92765 44.4064C1.86986 44.7647 2.11347 45.102 2.47177 45.1598C2.83007 45.2176 3.16738 44.974 3.22518 44.6157C3.66961 41.8605 3.11776 39.173 2.56581 36.4851C2.31054 35.2419 2.05525 33.9987 1.89847 32.7486C1.29525 26.3851 3.46802 19.7466 7.00418 14.416C11.0189 8.5373 17.5201 4.16562 21.9931 2.93163Z"}),(0,ri.jsx)("path",{d:"M30.6166 4.39985C38.8671 3.89603 47.1159 7.26314 52.6556 13.7139C52.8921 13.9893 52.8605 14.4042 52.5852 14.6406C52.3099 14.8771 51.895 14.8455 51.6585 14.5702C46.3904 8.43576 38.541 5.23144 30.6927 5.71195C30.6899 5.71212 30.6871 5.71227 30.6843 5.71241C20.7592 6.19265 11.4643 12.9257 8.04547 22.3603C7.92183 22.7016 7.54498 22.8779 7.20375 22.7543C6.86253 22.6306 6.68616 22.2538 6.80981 21.9126C10.4114 11.9735 20.1717 4.90702 30.6166 4.39985Z"}),(0,ri.jsx)("path",{d:"M54.6576 16.5848C54.4553 16.2836 54.047 16.2033 53.7457 16.4057C53.4444 16.608 53.3642 17.0163 53.5665 17.3176C56.6376 21.8904 57.9074 26.8665 58.4094 32.7717C58.4401 33.1333 58.7582 33.4016 59.1199 33.3708C59.4815 33.3401 59.7497 33.022 59.719 32.6604C59.206 26.6261 57.8965 21.4076 54.6576 16.5848Z"}),(0,ri.jsx)("path",{d:"M59.2796 35.4504C59.6419 35.4277 59.9539 35.703 59.9765 36.0653C60.2242 40.0279 60.2265 44.5112 59.7881 47.8243C59.7405 48.1841 59.4102 48.4372 59.0504 48.3896C58.6906 48.342 58.4376 48.0117 58.4852 47.6519C58.9077 44.4586 58.91 40.0704 58.6648 36.1473C58.6421 35.785 58.9174 35.473 59.2796 35.4504Z"}),(0,ri.jsx)("path",{d:"M7.05311 25.5432C7.13829 25.1904 6.92135 24.8354 6.56855 24.7502C6.21576 24.665 5.86071 24.882 5.77553 25.2348C5.2932 27.2325 5.0428 29.2847 5.03288 31.3388C5.02266 33.4559 5.41742 35.5225 5.81234 37.5899C6.1354 39.2811 6.45855 40.9728 6.5602 42.6932C6.69373 44.9531 6.21839 47.2163 5.39698 49.3703C5.26766 49.7094 5.43774 50.0891 5.77685 50.2184C6.11596 50.3477 6.4957 50.1777 6.62502 49.8386C7.49325 47.5617 8.01954 45.1092 7.87221 42.6157C7.77126 40.9071 7.44813 39.2252 7.12512 37.5439C6.73099 35.4925 6.33704 33.442 6.34716 31.3451C6.35659 29.3933 6.59455 27.4425 7.05311 25.5432Z"}),(0,ri.jsx)("path",{d:"M24.2964 10.94C24.4317 11.2768 24.2683 11.6595 23.9315 11.7947C17.1187 14.5307 12.0027 20.7047 10.959 27.9852C10.523 31.0269 10.9941 34.0398 11.465 37.052C11.7303 38.7483 11.9954 40.4443 12.0985 42.1451C12.3221 45.833 11.902 49.8839 9.50192 53.5696C9.30387 53.8737 8.89677 53.9597 8.59264 53.7617C8.28851 53.5636 8.20251 53.1565 8.40056 52.8524C10.5873 49.4944 11.0012 45.7644 10.7867 42.2246C10.6821 40.499 10.4185 38.7833 10.1552 37.0686C9.68265 33.9923 9.21067 30.9195 9.65804 27.7987C10.7724 20.025 16.221 13.4748 23.4417 10.5751C23.7785 10.4399 24.1612 10.6032 24.2964 10.94Z"}),(0,ri.jsx)("path",{d:"M47.3662 14.6814C41.9915 9.64741 34.2017 7.89046 27.122 9.4433C26.7675 9.52105 26.5432 9.87147 26.6209 10.226C26.6987 10.5805 27.0491 10.8048 27.4036 10.7271C34.1075 9.25665 41.4426 10.934 46.4677 15.6406C50.7033 19.6077 53.1628 25.38 53.8066 31.6779C53.8435 32.0389 54.1661 32.3017 54.5272 32.2648C54.8883 32.2279 55.151 31.9053 55.1141 31.5442C54.4456 25.0047 51.8822 18.9111 47.3662 14.6814Z"}),(0,ri.jsx)("path",{d:"M54.9766 34.6738C55.3376 34.6368 55.6604 34.8994 55.6975 35.2604C56.3216 41.337 56.0526 47.9003 55.1104 54.2496C55.0571 54.6086 54.7229 54.8565 54.3639 54.8032C54.0049 54.7499 53.7571 54.4157 53.8103 54.0567C54.7394 47.7957 55.001 41.3439 54.39 35.3947C54.353 35.0336 54.6156 34.7109 54.9766 34.6738Z"}),(0,ri.jsx)("path",{d:"M32.0659 13.3553C21.9959 13.3553 13.814 21.3892 13.814 31.3219C13.814 32.3829 13.9081 33.4225 14.0876 34.4334C14.1511 34.7907 14.4922 35.029 14.8495 34.9655C15.2069 34.9021 15.4451 34.561 15.3817 34.2036C15.2155 33.2677 15.1283 32.305 15.1283 31.3219C15.1283 22.1352 22.7014 14.6696 32.0659 14.6696C36.2978 14.6696 40.1642 16.1949 43.1319 18.7152C43.4086 18.9501 43.8233 18.9163 44.0582 18.6396C44.2931 18.363 44.2593 17.9483 43.9827 17.7134C40.7847 14.9975 36.6188 13.3553 32.0659 13.3553Z"}),(0,ri.jsx)("path",{d:"M45.455 20.1635C45.717 19.9123 46.133 19.921 46.3842 20.183C49.2843 23.2072 50.2126 27.9605 50.8269 31.9494C51.5188 36.4426 51.6244 40.826 51.6244 42.8585C51.6244 43.2214 51.3302 43.5156 50.9673 43.5156C50.6044 43.5156 50.3101 43.2214 50.3101 42.8585C50.3101 40.8589 50.2055 36.5497 49.5279 32.1494C48.9577 28.4462 48.1356 23.9082 45.4356 21.0927C45.1844 20.8307 45.1931 20.4147 45.455 20.1635Z"}),(0,ri.jsx)("path",{d:"M51.4576 46.6219C51.4864 46.2601 51.2165 45.9435 50.8547 45.9146C50.493 45.8858 50.1763 46.1557 50.1474 46.5175C49.8247 50.5654 49.403 54.6088 48.5474 58.3439C48.4663 58.6977 48.6874 59.0502 49.0412 59.1312C49.3949 59.2123 49.7474 58.9912 49.8285 58.6374C50.7067 54.8039 51.134 50.6806 51.4576 46.6219Z"}),(0,ri.jsx)("path",{d:"M15.1454 36.852C15.5015 36.7819 15.847 37.0137 15.9171 37.3698C17.3066 44.4257 16.3467 50.8355 12.6672 56.4502C12.4682 56.7537 12.0609 56.8385 11.7573 56.6396C11.4538 56.4407 11.369 56.0333 11.5679 55.7298C15.0299 50.4469 15.9617 44.3985 14.6276 37.6238C14.5575 37.2677 14.7893 36.9221 15.1454 36.852Z"}),(0,ri.jsx)("path",{d:"M32.0659 17.631C25.5291 17.631 19.1165 22.691 18.462 29.0504C18.1754 31.8345 18.578 34.5769 18.9807 37.3204C19.3323 39.7159 19.684 42.1124 19.5772 44.5381C19.3328 50.0898 17.7039 54.6726 14.905 58.4471C14.6888 58.7386 14.7499 59.1502 15.0414 59.3663C15.333 59.5825 15.7445 59.5214 15.9607 59.2299C18.9293 55.2266 20.6354 50.386 20.8903 44.5959C20.9966 42.1811 20.6438 39.7923 20.2912 37.4051C19.888 34.6752 19.4851 31.9473 19.7694 29.1849C20.3444 23.5983 26.0946 18.9453 32.0659 18.9453C34.851 18.9453 42.057 20.4534 44.3492 27.9205C45.7856 32.5998 46.1774 38.9326 45.8295 45.0849C45.4816 51.2364 44.3994 57.12 42.9442 60.8928C42.8136 61.2314 42.9822 61.6118 43.3208 61.7424C43.6594 61.873 44.0398 61.7044 44.1704 61.3658C45.6929 57.4186 46.7895 51.386 47.1417 45.1591C47.4938 38.9329 47.1068 32.4249 45.6056 27.5348C43.0612 19.2461 35.0851 17.631 32.0659 17.631Z"}),(0,ri.jsx)("path",{d:"M21.9529 56.4512C22.2569 56.6494 22.3426 57.0566 22.1444 57.3606C21.7369 57.9854 21.3784 58.6391 21.0199 59.2928C20.6614 59.9465 20.3028 60.6004 19.8953 61.2253C19.697 61.5293 19.2898 61.615 18.9858 61.4167C18.6819 61.2184 18.5962 60.8113 18.7944 60.5073C19.2019 59.8825 19.5604 59.2288 19.9189 58.5751C20.2774 57.9213 20.636 57.2675 21.0435 56.6426C21.2418 56.3386 21.649 56.2529 21.9529 56.4512Z"}),(0,ri.jsx)("path",{d:"M27.5799 24.4525C27.8816 24.2508 27.9625 23.8426 27.7608 23.541C27.559 23.2393 27.1509 23.1583 26.8492 23.3601C24.247 25.1006 22.6505 27.494 22.6505 31.0002C22.6505 33.088 23.0203 34.7946 23.3997 36.5449C23.9674 39.1641 24.3524 41.7777 24.2832 44.468C24.1992 47.7349 23.56 50.7201 22.3313 53.564C22.1873 53.8971 22.3407 54.2839 22.6739 54.4278C23.0071 54.5718 23.3938 54.4184 23.5378 54.0852C24.8369 51.0784 25.509 47.9266 25.5971 44.5018C25.6689 41.7062 25.2732 38.9892 24.6845 36.267C24.3042 34.509 23.9648 32.9394 23.9648 31.0002C23.9648 27.9961 25.2863 25.9866 27.5799 24.4525Z"}),(0,ri.jsx)("path",{d:"M30.1447 22.1436C32.8717 21.5877 35.8061 22.2746 37.966 24.0228C41.8241 27.1455 42.3372 32.8403 42.753 37.4549L42.7742 37.69C43.3115 43.6385 42.6964 49.4163 41.4575 55.2186C41.3817 55.5736 41.0326 55.7999 40.6776 55.7241C40.3227 55.6483 40.0964 55.2991 40.1722 54.9442C41.3926 49.2288 41.9873 43.5885 41.4652 37.8082C41.4479 37.6169 41.4307 37.4228 41.4133 37.2264L41.4131 37.2235C41.0438 33.0534 40.5812 27.8304 37.1392 25.0444C35.2926 23.5498 32.7599 22.9518 30.4073 23.4314C30.0517 23.5039 29.7046 23.2744 29.6321 22.9188C29.5596 22.5632 29.7891 22.2161 30.1447 22.1436Z"}),(0,ri.jsx)("path",{d:"M40.5287 58.4885C40.6183 58.1368 40.4057 57.7791 40.054 57.6896C39.7023 57.6 39.3446 57.8126 39.2551 58.1643C38.8578 59.7247 38.2456 61.1333 37.4695 62.4301C37.2831 62.7415 37.3844 63.145 37.6958 63.3314C38.0072 63.5178 38.4108 63.4165 38.5972 63.1051C39.4336 61.7075 40.0977 60.1816 40.5287 58.4885Z"}),(0,ri.jsx)("path",{d:"M37.3152 48.9521C37.6756 48.9948 37.9332 49.3215 37.8906 49.682C37.2699 54.9267 35.8688 59.6042 33.6205 63.6613C33.4446 63.9787 33.0446 64.0934 32.7272 63.9175C32.4097 63.7416 32.295 63.3417 32.4709 63.0242C34.6226 59.1416 35.9811 54.6339 36.5854 49.5275C36.6281 49.1671 36.9548 48.9095 37.3152 48.9521Z"}),(0,ri.jsx)("path",{d:"M37.1798 30.6556C36.7242 28.2212 34.6349 26.3591 32.0985 26.3591C28.6638 26.3591 26.254 29.8212 27.1032 33.0422C28.54 38.7279 28.7759 44.2077 27.8032 49.4855L27.8025 49.4893C26.9584 54.228 25.3374 58.4908 23.1263 62.1031C22.9368 62.4127 23.0342 62.8172 23.3437 63.0067C23.6533 63.1962 24.0578 63.0988 24.2473 62.7893C26.5488 59.0292 28.2249 54.6109 29.0961 49.7218C30.106 44.2403 29.8558 38.5684 28.3765 32.7168L28.3748 32.7099C27.7378 30.3005 29.5133 27.6734 32.0985 27.6734C33.9641 27.6734 35.5393 29.0459 35.8871 30.8929C36.8436 36.4411 37.3418 41.5862 36.9871 46.016C36.9581 46.3778 37.2279 46.6945 37.5897 46.7235C37.9515 46.7525 38.2682 46.4827 38.2972 46.1209C38.6649 41.5294 38.1459 36.2576 37.1815 30.6648C37.1809 30.6617 37.1804 30.6586 37.1798 30.6556Z"}),(0,ri.jsx)("path",{d:"M30.1376 59.1171C30.4604 59.283 30.5876 59.6792 30.4217 60.002L28.6804 63.3906C28.5145 63.7134 28.1184 63.8406 27.7956 63.6747C27.4728 63.5088 27.3456 63.1127 27.5114 62.7899L29.2527 59.4013C29.4186 59.0785 29.8147 58.9513 30.1376 59.1171Z"}),(0,ri.jsx)("path",{d:"M32.5872 31.2892C32.5042 30.9359 32.1505 30.7168 31.7972 30.7998C31.4439 30.8828 31.2247 31.2365 31.3077 31.5898C33.5238 41.0232 33.2194 49.3066 30.5201 56.363C30.3905 56.702 30.5602 57.0819 30.8991 57.2115C31.2381 57.3412 31.618 57.1715 31.7477 56.8326C34.5622 49.475 34.8483 40.9141 32.5872 31.2892Z"})]}),(0,ri.jsx)("defs",{children:(0,ri.jsx)("clipPath",{id:"clip0_113_33841",children:(0,ri.jsx)("rect",{width:"64",height:"64",fill:"white",transform:"translate(0.483887)"})})})]}),Ree=({onClose:e,onReset:t,submitEnrollmentWithPasskey:n})=>{let{user:r}=eV(),{initLinkWithPasskey:i,linkWithPasskey:s}=Jd(),o=Mf(),[a,c]=(0,ei.useState)(!1),[l,u]=(0,ei.useState)(!1),[d,h]=(0,ei.useState)(null),f=(0,ei.useMemo)(()=>r?.linkedAccounts.filter(e=>"passkey"===e.type)??[],[r]),p=async e=>{c(!0);try{await n(e)}catch(e){h(e)}finally{c(!1)}},g=async()=>{u(!0),h(null);try{await i();let e=await s(),t=e?.linkedAccounts.filter(e=>"passkey"===e.type).map(e=>e.credentialId)??[];await p(t)}catch(e){h(e)}finally{u(!1)}};return 0===f.length||l?(0,ri.jsx)($ee,{onReset:t,onClose:e,onClick:g,isCreating:l}):d?(0,ri.jsx)(FY,{allowlistConfig:o.allowlistConfig,error:d,onBack:()=>h(null),onRetry:()=>h(null)}):(0,ri.jsx)(Mee,{passkeys:f,isSubmitting:a,isCreating:l,onReset:t,onClose:e,onSubmitEnrollment:()=>p(f.map(e=>e.credentialId)),onAddPasskey:g})};let $ee=({onReset:e,onClose:t,onClick:n,isCreating:r})=>(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{backFn:e,onClose:t},"header"),(0,ri.jsx)(C9,{children:(0,ri.jsxs)(V7,{children:[(0,ri.jsx)(V9,{}),(0,ri.jsx)(Nee,{})]})}),(0,ri.jsx)(S9,{children:"Set up passkey verification"}),(0,ri.jsxs)(T9,{children:[(0,ri.jsxs)(O9,{children:[(0,ri.jsx)(P9,{children:(0,ri.jsx)(zW,{})}),"Verify with Touch ID, Face ID, PIN, or hardware key"]}),(0,ri.jsxs)(O9,{children:[(0,ri.jsx)(P9,{children:(0,ri.jsx)(k8,{})}),"Takes seconds to set up and use"]}),(0,ri.jsxs)(O9,{children:[(0,ri.jsx)(P9,{children:(0,ri.jsx)(x8,{})}),"Use your passkey to verify transactions and login to your account"]})]}),(0,ri.jsx)(IV,{style:{marginTop:"2.25rem"},onClick:n,loading:r,children:"Add a new passkey"}),(0,ri.jsx)(yV,{})]}),Mee=({onReset:e,onClose:t,onAddPasskey:n,onSubmitEnrollment:r,passkeys:i,isSubmitting:s,isCreating:o})=>{let[a,c]=(0,ei.useState)(!1),l=a?i.length:i.length>3?2:3;return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{backFn:a?()=>c(!1):e,onClose:t},"header"),!a&&(0,ri.jsx)(C9,{children:(0,ri.jsxs)(V7,{children:[(0,ri.jsx)(V9,{}),(0,ri.jsx)(Nee,{})]})}),(0,ri.jsx)(S9,{children:"Enable your passkeys for verification"}),(0,ri.jsxs)(T9,{children:[i.slice(0,l).map(e=>(0,ri.jsxs)(Lee,{children:[(0,ri.jsx)(Bee,{children:Dee(e)}),(0,ri.jsxs)(Uee,{children:["Last used: ",e.latestVerifiedAt?.toLocaleString()]})]},e.credentialId)),!a&&i.length>3&&(0,ri.jsx)(Fee,{onClick:()=>c(!0),children:"View All"})]}),(0,ri.jsx)(IV,{style:{marginTop:"1.5rem"},onClick:r,loading:s,children:"Enable passkeys"}),i.length<5&&(0,ri.jsx)(Fee,{style:{marginTop:"0.5rem"},onClick:n,disabled:o,children:o?(0,ri.jsx)(xV,{style:{height:"1rem",width:"1rem",borderWidth:2}}):"Add new passkey"}),(0,ri.jsx)(yV,{})]})},Lee=Ay.div.withConfig({displayName:"PasskeyItem",componentId:"sc-23451ce2-0"})(["&&{padding:0.75rem 1rem;text-align:left;border-radius:0.5rem;border:1px solid var(--privy-color-foreground-4);width:100%;}"]),Bee=Ay.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-23451ce2-1"})(["font-size:0.875rem;line-height:1.375rem;font-weight:500;color:var(--privy-color-foreground-1);"]),Uee=Ay.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-23451ce2-2"})(["font-size:0.75rem;font-weight:400;line-height:1.125rem;color:var(--privy-color-foreground-2);"]),Dee=e=>e.authenticatorName?e.createdWithBrowser?`${e.authenticatorName} on ${e.createdWithBrowser}`:e.authenticatorName:e.createdWithBrowser?e.createdWithOs?`${e.createdWithBrowser} on ${e.createdWithOs}`:`${e.createdWithBrowser}`:"Unknown device";const Fee=Ay.button.withConfig({displayName:"StyledLink",componentId:"sc-23451ce2-3"})(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:0.75rem 1rem;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent);:focus{outline:none;box-shadow:none;}}"]),zee=({appName:e,onComplete:t,onReset:n,onClose:r})=>{let[i,s]=(0,ei.useState)(""),[o,a]=(0,ei.useState)(!1),[c,l]=(0,ei.useState)(null),[u,d]=(0,ei.useState)("enroll"),{initEnrollmentWithSms:h,submitEnrollmentWithSms:f}=Iee(),{data:p}=QH(),g=Mf();function m(){p?.mfaEnrollmentFlow?.onSuccess(),t()}return c?(0,ri.jsx)(FY,{allowlistConfig:g.allowlistConfig,error:c,onBack:()=>l(null),onRetry:()=>l(null)}):(0,ri.jsxs)(ri.Fragment,"enroll"===u?{children:[(0,ri.jsx)(DV,{backFn:n,onClose:r},"header"),(0,ri.jsx)(F9,{style:{marginBottom:"1.5rem"},children:(0,ri.jsx)(Wy,{})}),(0,ri.jsx)(S9,{children:"Set up SMS verification"}),(0,ri.jsxs)(I9,{children:["We'll text a verification code to this mobile device whenever you use your ",e," ","wallet."]}),(0,ri.jsxs)(A9,{children:[(0,ri.jsx)(w2,{onSubmit:async function({qualifiedPhoneNumber:e}){try{await h({phoneNumber:e}),s(e),d("verify")}catch(e){l(e)}},hideRecent:!0}),(0,ri.jsxs)(U9,{children:["By providing your mobile number, you agree to receive text messages from ",g?.name,". Some carrier charges may apply"]})]}),(0,ri.jsx)(yV,{})]}:o?{children:[(0,ri.jsx)(DV,{onClose:m},"header"),(0,ri.jsx)(F9,{style:{marginBottom:"1.5rem"},children:(0,ri.jsx)(iM,{})}),(0,ri.jsx)(S9,{children:"SMS verification added"}),(0,ri.jsxs)(I9,{children:["From now on, you'll enter the verification code sent to your mobile device whenever you use your ",e," wallet."]}),(0,ri.jsx)(j9,{children:(0,ri.jsx)(IV,{onClick:m,children:"Done"})}),(0,ri.jsx)(yV,{})]}:{children:[(0,ri.jsx)(DV,{backFn:function(){"verify"===u?d("enroll"):n()},onClose:r},"header"),(0,ri.jsx)(F9,{style:{marginBottom:"1.5rem"},children:(0,ri.jsx)(Wy,{})}),(0,ri.jsx)(S9,{children:"Enter enrollment code"}),(0,ri.jsxs)(A9,{children:[(0,ri.jsx)(X9,{onChange:async function(e){try{if(!e)return;await f({phoneNumber:i,mfaCode:e}),a(!0)}catch(e){if(zG(e))throw Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds.");if(FG(e))throw Error("The code you entered is not valid");if(DG(e))throw Error("You have exceeded the time limit for code entry. Please try again in 30 seconds.");throw WG(e)?Error("Verification canceled"):Error("Unknown error")}}}),(0,ri.jsxs)(I9,{children:["To continue, enter the 6-digit code sent to ",(0,ri.jsx)("strong",{children:Ma(i)})]})]}),(0,ri.jsx)(yV,{})]})},Wee=({size:e,authUrl:t})=>(0,ri.jsx)(kJ,{url:t,squareLogoElement:C8,size:e,fgColor:"#1F1F1F"}),qee=({onClose:e,onReset:t,totpInfo:n,submitEnrollmentWithTotp:r,error:i})=>{let[s,o]=(0,ei.useState)("enroll");return(0,ri.jsxs)(ri.Fragment,"enroll"===s?{children:[(0,ri.jsx)(DV,{backFn:t,onClose:e},"header"),(0,ri.jsx)(EQ,{children:"Scan QR code"}),(0,ri.jsx)(xQ,{children:"Open your authenticator app and scan this code to continue"}),(0,ri.jsx)(YK,{children:(0,ri.jsx)(Wee,{authUrl:n.authUrl,size:240})}),(0,ri.jsx)(kQ,{style:{textAlign:"left"},children:"Setup key"}),(0,ri.jsxs)(CQ,{style:{marginTop:"0.25rem"},children:[(0,ri.jsx)(W6,{children:"".repeat(16)}),(0,ri.jsx)(e8,{itemName:" ",text:n.secret})]}),(0,ri.jsx)(IV,{style:{marginTop:"1rem"},onClick:function(){o("verify")},children:"Continue"}),(0,ri.jsx)(yV,{})]}:{children:[(0,ri.jsx)(DV,{backFn:function(){"verify"===s?o("enroll"):t()},onClose:e},"header"),(0,ri.jsx)(F9,{style:{marginBottom:"1.5rem"},children:(0,ri.jsx)(H6,{})}),(0,ri.jsx)(EQ,{children:"Enter enrollment code"}),(0,ri.jsx)(xQ,{children:"To continue, enter the 6-digit code generated from your authenticator app"}),(0,ri.jsx)(A9,{children:(0,ri.jsx)(X9,{onChange:async function(e){try{if(!e)return;await r({mfaCode:e})}catch(e){if(zG(e))throw Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds.");if(FG(e))throw Error("The code you entered is not valid");if(DG(e))throw Error("You have exceeded the time limit for code entry. Please try again in 30 seconds.");throw WG(e)?Error("Verification canceled"):Error("Unknown error")}},errorReasonOverride:i?.message})}),(0,ri.jsx)(yV,{})]})},Hee={component:()=>{let{user:e,enrollInMfa:t,ready:n}=eV(),[r,i]=(0,ei.useState)(null),{unenrollWithSms:s,unenrollWithTotp:o,unenrollWithPasskey:a,submitEnrollmentWithTotp:c,initEnrollmentWithPasskey:l,submitEnrollmentWithPasskey:u,initEnrollmentWithTotp:d}=Iee(),{data:h,onUserCloseViaDialogOrKeybindRef:f}=QH(),p=Mf(),{closePrivyModal:g}=Jd(),{promptMfa:m}=s7(),[y,w]=(0,ei.useState)(!1),[b,v]=(0,ei.useState)(null),[x,E]=(0,ei.useState)(null),k=()=>{g({shouldCallAuthOnSuccess:!0}),t(!1),setTimeout(()=>{i(null),v(null)},500)},[_,C]=(0,ei.useState)(!1),[S,I]=(0,ei.useState)();f.current=k;let A=e?.mfaMethods.includes("sms"),T=!!e?.phone,P=e?.mfaMethods.includes("totp"),O=e?.mfaMethods.includes("passkey"),j=A||P||O,N=e?.linkedAccounts.filter(e=>"passkey"===e.type).map(e=>e.credentialId)??[];function R(){i(null),v(null)}async function $(e=N){C(!0);try{return await l(),await u({credentialIds:e},{removeForLogin:h?.mfaEnrollmentFlow?.shouldUnlinkOnUnenrollMfa}),h?.mfaEnrollmentFlow?.onSuccess(),k()}catch(e){I(e)}finally{C(!1)}}if((0,ei.useEffect)(()=>{j&&w(!0)},[j]),!n||!e||!p)return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{onClose:k},"header"),(0,ri.jsx)(C9,{children:(0,ri.jsx)(Aee,{})}),(0,ri.jsx)(A9,{children:(0,ri.jsx)(xV,{})}),(0,ri.jsx)(yV,{})]});if("sms"===r)return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{backFn:R,onClose:k},"header"),(0,ri.jsx)(F9,{style:{marginBottom:"1.5rem"},children:(0,ri.jsx)($y,{})}),(0,ri.jsx)(S9,{children:"Remove SMS verification?"}),(0,ri.jsxs)(I9,{children:["MFA adds an extra layer of security to your ",p?.name," account. Make sure you have other methods to secure your account."]}),(0,ri.jsx)(j9,{children:(0,ri.jsx)(IV,{$warn:!0,onClick:async function(){i(null);try{await s()}catch(e){i(null)}},children:"Remove"})}),(0,ri.jsx)(yV,{})]});if("totp"===r)return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{backFn:R,onClose:k},"header"),(0,ri.jsx)(F9,{style:{marginBottom:"1.5rem"},children:(0,ri.jsx)($y,{})}),(0,ri.jsx)(S9,{children:"Remove authenticator app verification?"}),(0,ri.jsxs)(I9,{children:["MFA adds an extra layer of security to your ",p?.name," account. Make sure you have other methods to secure your account."]}),(0,ri.jsx)(j9,{children:(0,ri.jsx)(IV,{$warn:!0,onClick:async function(){i(null);try{await o()}catch(e){i(null)}},children:"Remove"})}),(0,ri.jsx)(yV,{})]});if("passkey"===r){let e=h?.mfaEnrollmentFlow?.shouldUnlinkOnUnenrollMfa??!0;return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{backFn:R,onClose:k},"header"),(0,ri.jsx)(F9,{style:{marginBottom:"1.5rem"},children:(0,ri.jsx)($y,{})}),(0,ri.jsx)(S9,{children:"Are you sure you want to remove this passkey?"}),(0,ri.jsx)(I9,{children:e?"Removing your passkey will remove as both a verification method and a login method.":"Removing your passkey will remove as a verification method."}),(0,ri.jsx)(j9,{children:(0,ri.jsx)(IV,{$warn:!0,onClick:async function(){i(null);try{await a({removeForLogin:h?.mfaEnrollmentFlow?.shouldUnlinkOnUnenrollMfa})}catch(e){i(null)}},children:"Remove"})}),(0,ri.jsx)(yV,{})]})}if(0===h.mfaEnrollmentFlow.mfaMethods.length&&!j)return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{onClose:k},"header"),(0,ri.jsx)(F9,{style:{marginBottom:"1.5rem"},children:(0,ri.jsx)(zW,{})}),(0,ri.jsx)(S9,{children:"Add more security"}),(0,ri.jsxs)(I9,{children:[p?.name," does not have any verification methods enabled."]}),(0,ri.jsx)(j9,{children:(0,ri.jsx)(IV,{onClick:k,children:"Close"})}),(0,ri.jsx)(yV,{})]});let M=!j&&!y;return M?(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{onClose:k},"header"),(0,ri.jsx)(F9,{style:{marginBottom:"1.5rem"},children:(0,ri.jsx)(zW,{})}),(0,ri.jsx)(S9,{children:"Transaction Protection"}),(0,ri.jsx)(I9,{children:"Set up transaction protection to add an extra layer of security to your account"}),(0,ri.jsxs)(T9,{children:[(0,ri.jsxs)(O9,{children:[(0,ri.jsx)(P9,{children:(0,ri.jsx)(f8,{})}),"Enable 2-Step verification for your ",p?.name," wallet."]}),(0,ri.jsxs)(O9,{children:[(0,ri.jsx)(P9,{children:(0,ri.jsx)(g8,{})}),"You'll be prompted to authenticate to complete transactions."]})]}),(0,ri.jsxs)(j9,{children:[(0,ri.jsx)(IV,{onClick:()=>w(!0),children:"Continue"}),(0,ri.jsx)(OV,{onClick:k,children:"Not now"})]}),(0,ri.jsx)(yV,{})]}):"sms"===b?(0,ri.jsx)(zee,{appName:p?.name||"Privy",onComplete:k,onReset:R,onClose:k}):"totp"===b&&x?(0,ri.jsx)(qee,{onClose:k,onReset:R,submitEnrollmentWithTotp:({mfaCode:e})=>async function(e){try{return I(void 0),await c({mfaCode:e}),h?.mfaEnrollmentFlow?.onSuccess(),k()}catch(e){I(e)}finally{i(null)}}(e),totpInfo:{...x,appName:p?.name||"Privy"}}):"passkey"===b?(0,ri.jsx)(Ree,{onReset:R,onClose:k,submitEnrollmentWithPasskey:$}):(0,ri.jsx)(Pee,{showIntro:M,userMfaMethods:e.mfaMethods,appMfaMethods:p.mfa.methods,userHasAuthSms:T,backFn:function(){w(!1)},handleSelectMethod:async function(e){try{await m()}catch(e){return void I(e)}return"totp"===e?(v(e),E(null),void d().then(e=>{E(e)}).catch(()=>{E(null),R()})):"passkey"===e&&1===N.length?await $():void v(e)},isTotpLoading:"totp"===b&&!x,isPasskeyLoading:_,error:S,onClose:k,setRemovingMfaMethod:async e=>{try{await m()}catch(e){return void I(e)}i(e)}})}},Vee=({providerName:e,ProviderLogo:t,success:n,errorMessage:r,onRetry:i})=>{let s=n?`Successfully connected with ${e}`:r?r.message:`Verifying connection to ${e}`;return(0,ri.jsx)(bK,{title:s,subtitle:n?"You're good to go!":r?r.detail:"Just a few moments more",icon:t,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},secondaryCta:r?.retryable&&i?{label:"Retry",onClick:i}:void 0,watermark:!0})},Kee={component:()=>{let{authenticated:e,logout:t,ready:n,user:r}=eV(),{setModalData:i,navigate:s,resetNavigation:o}=QH(),a=Mf(),{getAuthMeta:c,initLoginWithOAuth:l,loginWithOAuth:u,updateWallets:d,setReadyToTrue:h,closePrivyModal:f,createAnalyticsEvent:p}=Jd(),[g,m]=(0,ei.useState)(!1),[y,w]=(0,ei.useState)(void 0),b=c()?.provider||"google",{name:v,component:x}=B8(b,a.customOAuthProviders);return(0,ei.useEffect)(()=>{u(b).then(()=>{m(!0),h(!0)}).catch(e=>{if(h(!1),e?.privyErrorCode===Ld.ALLOWLIST_REJECTED)return w(void 0),o(),void s(nQ);if(e?.privyErrorCode===Ld.USER_LIMIT_REACHED)return console.error(new Fd(e).toString()),w(void 0),o(),void s(hQ);if(e?.privyErrorCode===Ld.USER_DOES_NOT_EXIST)return w(void 0),o(),void s(_Y);if(e?.privyErrorCode===Ld.ACCOUNT_TRANSFER_REQUIRED&&e.data?.data?.nonce)return w(void 0),o(),i({accountTransfer:{nonce:e.data?.data?.nonce,account:e.data?.data?.subject,displayName:e.data?.data?.account?.displayName,linkMethod:c()?.provider,embeddedWalletAddress:e.data?.data?.otherUser?.embeddedWalletAddress,oAuthUserInfo:e.data?.data?.otherUser?.oAuthUserInfo}}),void s(tJ);let{retryable:t,detail:n}=function(e,t,n){let r={detail:"",retryable:!1},i=sq(t);if(e?.privyErrorCode===Ld.LINKED_TO_ANOTHER_USER&&(r.detail="This account has already been linked to another user."),e?.privyErrorCode===Ld.INVALID_CREDENTIALS&&(r.retryable=!0,r.detail="Something went wrong. Try again."),e.privyErrorCode===Ld.OAUTH_USER_DENIED&&(r.detail=`Retry and check ${i} to finish connecting your account.`,r.retryable=!0),e?.privyErrorCode===Ld.TOO_MANY_REQUESTS&&(r.detail="Too many requests. Please wait before trying again."),e?.privyErrorCode===Ld.TOO_MANY_REQUESTS&&e.message.includes("provider rate limit")){let e=B8(t,n).name;r.detail=`Request limit reached for ${e}. Please wait a moment and try again.`}if(e?.privyErrorCode===Ld.OAUTH_ACCOUNT_SUSPENDED){let e=B8(t,n).name;r.detail=`Your ${e} account is suspended. Please try another login method.`}return e?.privyErrorCode===Ld.CANNOT_LINK_MORE_OF_TYPE&&(r.detail="You cannot authorize more than one account for this user."),e?.privyErrorCode===Ld.OAUTH_UNEXPECTED&&t.startsWith("privy:")&&(r.detail="Something went wrong. Please try again."),r}(e,b,a.customOAuthProviders);w({retryable:t,detail:n,message:"Authentication failed"})}).finally(()=>{wq()})},[v,b]),(0,ei.useEffect)(()=>{if(n&&e&&g&&r){if(a?.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms){let e=setTimeout(()=>{s(oJ)},nf);return()=>clearTimeout(e)}if(EY(r,a.embeddedWallets)){let e=setTimeout(()=>{i({createWallet:{onSuccess:()=>{},onFailure:e=>{console.error(e),p({eventName:"embedded_wallet_creation_failure_logout",payload:{error:e,provider:b,screen:"OAuthStatusScreen"}}),t()},callAuthOnSuccessOnClose:!0}}),s(sJ)},nf);return()=>clearTimeout(e)}{let e=setTimeout(()=>f({shouldCallAuthOnSuccess:!0,isSuccess:!0}),nf);return d(),()=>clearTimeout(e)}}},[n,e,g,r]),(0,ri.jsx)(Vee,{providerName:v,ProviderLogo:x,success:g,errorMessage:y,onRetry:y?.retryable?()=>{wq(),l(b),w(void 0)}:void 0})}},Gee=(0,ei.forwardRef)((e,t)=>{let[n,r]=(0,ei.useState)(""),[i,s]=(0,ei.useState)(""),[o,a]=(0,ei.useState)(!1),{authenticated:c,user:l}=eV(),{initUpdateEmail:u}=Jd(),{navigate:d,setModalData:h,currentScreen:f}=QH(),{enabled:p,token:g}=Dq(),m=Mf(),y=Iq(n)&&(m.disablePlusEmails&&n.includes("+")?(i||s("Please enter a valid email address without a '+'."),!1):(i&&s(""),!0)),w=o||!y,b=()=>{!p||g||c?(async e=>{if(!l?.email)throw Error("User is required to have an email address to update it.");a(!0);try{await u({oldAddress:l.email.address,newAddress:n,captchaToken:e}),d(V2)}catch(e){h({errorModalData:{error:e,previousScreen:f||a3}}),d(zY)}a(!1)})(g):(h({captchaModalData:{callback:e=>{if(!l?.email)throw Error("User is required to have an email address to update it.");return u({oldAddress:l.email.address,newAddress:n,captchaToken:e})},userIntentRequired:!1,onSuccessNavigateTo:V2,onErrorNavigateTo:zY}}),d(iQ))};return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsxs)(Zee,{children:[i&&(0,ri.jsx)(_J,{style:{marginTop:"0.25rem",textAlign:"left"},children:i}),(0,ri.jsxs)(Yee,{$error:!!i,children:[(0,ri.jsx)(cV,{children:(0,ri.jsx)(bh,{})}),(0,ri.jsx)("input",{ref:t,id:"email-input",type:"email",placeholder:"your@email.com",onChange:e=>r(e.target.value),onKeyUp:e=>{"Enter"===e.key&&b()},value:n,autoComplete:"email"}),e.stacked?null:(0,ri.jsx)($V,{isSubmitting:o,onClick:b,disabled:w,children:"Submit"})]})]}),e.stacked?(0,ri.jsx)(IV,{loadingText:null,loading:o,disabled:w,onClick:b,style:{width:"100%"},children:"Submit"}):null]})});let Zee=AJ,Yee=SJ;const Jee=({title:e="Update your email",subtitle:t="Add the email address you'd like to use going forward. We'll send you a confirmation code"})=>(0,ri.jsx)(bK,{title:e,subtitle:t,icon:Fy,watermark:!0,children:(0,ri.jsx)(KK,{children:(0,ri.jsx)(Gee,{stacked:!0})})}),Qee={component:()=>(0,ri.jsx)(Jee,{})},Xee=({title:e="Update your phone number",subtitle:t="Add the phone number you'd like to use going forward. We'll send you a confirmation code",onSubmit:n,isSubmitting:r=!1})=>{let[i,s]=(0,ei.useState)(null);return(0,ri.jsx)(bK,{title:e,subtitle:t,icon:Wy,primaryCta:{label:r?"Submitting":"Update",onClick:async()=>{i?.qualifiedPhoneNumber&&await n(i)},disabled:!i?.isValid||r},watermark:!0,children:(0,ri.jsx)(w2,{onChange:e=>{s(e)},onSubmit:async()=>{},noIncludeSubmitButton:!0,hideRecent:!0})})},ete={component:()=>{let{currentScreen:e,data:t,navigate:n,setModalData:r}=QH(),{user:i}=eV(),{initUpdatePhone:s}=Jd(),[o,a]=(0,ei.useState)(!1);return(0,ri.jsx)(Xee,{onSubmit:async o=>{a(!0);try{if(!i?.phone?.number)throw Error("User is required to have an phone number to update it.");await s(i?.phone?.number,o.qualifiedPhoneNumber),n(V2)}catch(o){r({errorModalData:{error:o,previousScreen:t?.errorModalData?.previousScreen||e||_ee}}),n(zY)}finally{a(!1)}},isSubmitting:o})}},tte=gw(()=>({ethereum:[]})),nte=()=>tte.getState().ethereum;let rte=gw(()=>({jwtAuthFlowState:{status:"not-enabled"}}));function ite({customAuth:e}){let{jwtAuthFlowState:t}=function({customAuth:e}){let t=Wf(),n=(0,ei.useRef)(),r=(0,ei.useCallback)(e=>(n.current=e,()=>{n.current=void 0}),[]),i=e?.getCustomAccessToken??(()=>Promise.resolve(void 0)),{state:s}=function({subscribe:e,getExternalJwt:t,enabled:n=!0,onAuthenticated:r,onUnauthenticated:i,onError:s}){let{client:o,onCustomAuthAuthenticated:a}=Jd(),{logout:c,authenticated:l,ready:u}=V4();if(!o)throw new jd("`useSyncJwtBasedAuthState` must be used within a `PrivyProvider`");let[d,h]=(0,ei.useState)({status:"initial"}),f=(0,ei.useRef)(),p=(0,ei.useRef)(!1),g=(0,ei.useRef)(t);(0,ei.useEffect)(()=>{g.current=t},[t]);let m=(0,ei.useRef)(r);(0,ei.useEffect)(()=>{m.current=r},[r]);let y=(0,ei.useRef)(i);(0,ei.useEffect)(()=>{y.current=i},[i]);let w=(0,ei.useRef)(s);return(0,ei.useEffect)(()=>{w.current=s},[s]),(0,ei.useEffect)(()=>{if(!n||!u)return;let t=async()=>{if(!p.current){p.current=!0;try{h({status:"loading"});let e=await g.current();if(void 0!==f.current&&f.current===e)return void h({status:"done"});if(!e)return l&&(await c(),y.current?.()),f.current=e,void h({status:"done"});o.startAuthFlow(new h9(e));let{user:t,isNewUser:n=!1}=await o.authenticate();if(!t)throw new jd("Failed to sync with custom auth provider");m.current?.({user:t,isNewUser:n}),a(t,n),f.current=e,h({status:"done"})}catch(e){if(console.warn(e),await c().catch(()=>{}),y.current?.(),e instanceof Od&&e.privyErrorCode===Ld.LINKED_TO_ANOTHER_USER)return h({status:"initial"}),void setTimeout(()=>{t()},0);w.current?.(e),h({status:"error",error:e})}finally{p.current=!1}}};return t(),e(t)},[e,o,a,l,c,n,u]),n?{state:d}:{state:{status:"not-enabled"}}}({enabled:!0===e?.enabled,subscribe:r,getExternalJwt:i,onAuthenticated:({user:e,isNewUser:n})=>{t("login","onComplete",{user:e,isNewUser:n,wasAlreadyAuthenticated:!1,loginMethod:"custom",loginAccount:null}),t("customAuth","onAuthenticated",{user:e})},onUnauthenticated:()=>{t("customAuth","onUnauthenticated")},onError:e=>{t("login","onError",e.privyErrorCode||Ld.UNKNOWN_AUTH_ERROR)}});return(0,ei.useEffect)(()=>{(async()=>{e&&!e.isLoading&&n.current?.()})()},[e?.enabled,e?.getCustomAccessToken,e?.isLoading]),{jwtAuthFlowState:s}}({customAuth:e});return(0,ei.useEffect)(()=>{rte.setState({jwtAuthFlowState:t})},[t]),null}const ste=(0,ei.createContext)(!1);let ote,ate,cte,lte,ute,dte;async function hte(){return ote?ote.getAccessToken():Promise.resolve(VW.get(lf)||VW.get(of)||null)}const fte=(e,t)=>ate(e,t),pte=(e,t)=>cte(e,t),gte=(e,t)=>lte(e,t),mte=(e,t)=>ute(e,t),yte=e=>dte(e),wte=({config:e,...t})=>{var n;if((()=>{if((0,ei.useContext)(ste))throw new jd("Multiple PrivyProvider instances found","Found multiple instances of PrivyProvider, ensure there is only one mounted in your application tree.")})(),"undefined"!=typeof window&&0>["localhost","127.0.0.1"].indexOf(window.location.hostname)&&"https:"!==window.location.protocol&&"chrome-extension:"!==window.location.protocol)throw new jd("Embedded wallet is only available over HTTPS");if("string"!=typeof(n=t.appId)||25!==n.length)throw new jd("Cannot initialize the Privy provider with an invalid Privy app ID");ote||(ote=new E9({appId:t.appId,appClientId:t.clientId,apiUrl:t.apiUrl}));let r=Object.assign({},e),i=(0,ei.useMemo)(()=>new Hu({appId:t.appId,clientId:t.clientId,storage:VW,baseUrl:t.apiUrl,sdkVersion:"react-auth:3.5.1"}),[]);return(0,ri.jsx)($f,{client:i,legacyClient:ote,appClientId:t.clientId,clientConfig:r,children:(0,ri.jsx)(QJ,{children:(0,ri.jsx)(bte,{...t,client:ote,privy:i})})})};let bte=e=>{let t=e.client,n=e.privy,r=XJ(),i=Mf();qH(KH(i?.appearance.walletList??[]));let[s,a]=(0,ei.useState)(!1),c=a7(e=>e.inProgressMfaFlow),[l,u]=(0,ei.useState)(!1),[d,h]=(0,ei.useState)(!1),[f,p]=(0,ei.useState)(null),g=tte(e=>e.ethereum),[m,y]=(0,ei.useState)(void 0),[w,b]=(0,ei.useState)(!1),[v,x]=(0,ei.useState)(null),[E,k]=(0,ei.useState)(!1),[_,C]=(0,ei.useState)({status:"disconnected",connectedWallet:null,connectError:null,connector:null,connectRetry:Gd}),[S,I]=(0,ei.useState)({status:"initial"}),[A,T]=(0,ei.useState)({status:"initial"}),[P,O]=(0,ei.useState)({status:"initial"}),[j,N]=(0,ei.useState)({status:"initial"}),[R,$]=(0,ei.useState)({status:"initial"}),[M,L]=(0,ei.useState)({status:"initial"}),[B,U]=(0,ei.useState)(null),D=Lf(),[F,z]=(0,ei.useState)({}),[W,q]=(0,ei.useState)(null),H=(0,ei.useRef)(null),[V,K]=(0,ei.useState)(!1),[G,Z]=(0,ei.useState)(!1),Y=(0,ei.useRef)(null),J=(0,ei.useRef)(null),Q=(0,ei.useRef)(Bf),[X,ee]=(0,ei.useState)(!1);t.onStoreCustomerAccessToken=e=>{e&&zf(Q,"accessToken","onAccessTokenGranted",{accessToken:e})},t.onDeleteCustomerAccessToken=()=>{p(null),h(!1),zf(Q,"accessToken","onAccessTokenRemoved")};let te=(0,ei.useRef)(null),ne=(0,ei.useRef)(null),re=(0,ei.useRef)(!1),ie=({showWalletUIs:e})=>re.current?re.current:void 0!==e?!e:!i.embeddedWallets.showWalletUIs,se=e=>{x(e),setTimeout(()=>{a(!0)},15)};(0,ei.useEffect)(()=>{if(!f)return void t.connectors?.removeEmbeddedWalletConnectors();let r=Kq(f),s=Gq(f),o=Qq(f);r&&s.length||t.connectors?.removeEmbeddedWalletConnectors(),o.length||t.connectors?.removeImportedWalletConnectors(),t.connectors?B?(r&&t.connectors.addEmbeddedWalletConnectors({walletProxy:B,user:f,embeddedWallets:s,defaultChain:i.defaultChain,appId:e.appId,privyClient:n}),o.forEach(n=>t.connectors?.addImportedWalletConnector(B,n.address,i.defaultChain,e.appId))):console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized"):console.debug("Failed to add embedded wallet connector: Client connectors not initialized")},[B,f]),(0,ei.useEffect)(()=>{B&&H.current?.(B)},[B]);let oe=(0,ei.useCallback)((e,t)=>{p(e),b(t),h(!0),Z(!0)},[]);(0,ei.useEffect)(()=>{G&&B&&f&&(async()=>{let e=wY(f,i.embeddedWallets.ethereum.createOnLogin),t=vY(f,i.embeddedWallets.solana.createOnLogin),n=await hte();if(n){if(e&&t){let e=await B.create({accessToken:n});return await B.createSolana({accessToken:n,ethereumAddress:e?.address}),void Z(!1)}if(t)return await B.createSolana({accessToken:n,ethereumAddress:Kq(f)?.address}),await _e.refreshSessionAndUser(),void Z(!1);if(e)return await B.create({accessToken:n}),void Z(!1)}})().catch(console.error)},[G&&B&&f]),(0,ei.useEffect)(()=>{if(i.externalWallets.solana.connectors)return i.externalWallets.solana.connectors.onMount(),()=>i.externalWallets.solana.connectors?.onUnmount()},[i.externalWallets.solana.connectors]),(0,ei.useEffect)(()=>{!l&&D&&async function(){let e,n=ae(),r=ce(),s=ii();t.initializeConnectorManager({walletConnectCloudProjectId:i.walletConnectCloudProjectId,rpcConfig:i.rpcConfig,chains:i.chains,defaultChain:i.defaultChain,store:s,walletList:i.appearance.walletList,shouldEnforceDefaultChainOnConnect:i.shouldEnforceDefaultChainOnConnect,externalWalletConfig:i.externalWallets,appName:i.name??"Privy",walletChainType:i.appearance.walletChainType,setBaseAccountSdk:y}),t.connectors?.on("connectorInitialized",()=>{e&&clearTimeout(e);let n=t.connectors.walletConnectors.length,r=t.connectors.walletConnectors.reduce((e,t)=>e+(t.initialized?1:0),0);r===n?ee(!0):e=setTimeout(()=>{console.debug({message:"Unable to initialize all expected connectors before timeout",initialized:r,expected:n}),ee(!0)},1500)}),t.connectors?.initialize().then(()=>{fe()});let o=await t.getAuthenticatedUser(),a=!!o;i.legal.requireUsersAcceptTerms&&o&&!o.hasAcceptedTerms?(await t.logout(),_e.setReadyToTrue(!0),zf(Q,"logout","onSuccess")):(i.customAuth?.enabled||(h(!!o),o&&zf(Q,"login","onComplete",{user:o,isNewUser:!1,wasAlreadyAuthenticated:!0,loginMethod:null,loginAccount:null}),p(o)),n?ne.current=a?"link":"login":r&&!a?(ne.current="login",z({telegramAuthModalData:{seamlessAuth:!0}}),se(I2)):_e.setReadyToTrue(!!o))}()},[t,W,l,D]),(0,ei.useEffect)(()=>{if(l){if(!f||!f.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType))return void K(!!B);if([...g].some(e=>"privy"===e.walletClientType))return void K(!0);K(!!B)}},[l,f,g,B]),(0,ei.useEffect)(()=>{t.connectors?.setWalletList(i.appearance.walletList)},[i.appearance.walletList.join()]);let ae=()=>{let e=U8();return e.inProgress&&e.popupFlow?window.opener.location.origin!==window.location.origin?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Origins between parent and child windows do not match."}):"error"===e.authorizationCode?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Something went wrong. Try again."}):void window.opener.postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:e.stateCode,authorizationCode:e.authorizationCode}):(e.inProgress&&function(e){return e.startsWith("privy:")}(e.provider)&&!e.popupFlow&&(new BroadcastChannel(R7).postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:e.stateCode,authorizationCode:e.authorizationCode}),window.close()),!!e.inProgress&&!!e.withPrivyUi&&(t.startAuthFlow(new R8({...e,customOAuthRedirectUrl:i.customOAuthRedirectUrl})),se(Kee),!0))},ce=()=>{let e=function(){let e;return(e=function(){let e=new URLSearchParams(window.location.search),t=Number(e.get("id")||""),n=e.get("hash"),r=Number(e.get("auth_date")||""),i=e.get("first_name");if(t&&i&&r&&n)return Object.fromEntries(e.entries())}())?(qq(),{flowType:"login-url",authData:e}):(e=function(){let e=window.location.hash;if(!e||!e.startsWith("#tgWebAppData"))return;let t=Wq(e.replace("#tgWebAppData=","")),{user:n,auth_date:r,hash:i}=t;return n&&r&&i?t:void 0}())?(qq(),{flowType:"web-app",authData:e}):void 0}();if(!e||!i.loginMethods.telegram||!i.loginConfig.telegramAuthConfiguration?.seamlessAuthEnabled)return;let n=new Fq;return t.startAuthFlow(n),"login-url"===e.flowType&&(n.meta.telegramWebAppData=void 0,n.meta.telegramAuthResult=e.authData),"web-app"===e.flowType&&(n.meta.telegramAuthResult=void 0,n.meta.telegramWebAppData=e.authData),!0},le=async(e,n,r,i)=>{if("solana_adapter"!==e)ue(await(t.connectors?.createEthereumWalletConnector({connectorType:e,walletClientType:n}))||null,n,r,i);else{let e=t.connectors?.findSolanaWalletConnector(n);if(!e)return;ue(e,n,r,i)}};async function ue(e,t,n,r){if(!e)return C({status:"disconnected",connectedWallet:null,connectError:new Rd("Unable to connect to wallet."),connector:null,connectRetry:Gd}),r?.(null,n);C({status:"disconnected",connectedWallet:null,connectError:null,connector:e,connectRetry:Gd}),e instanceof GH&&t&&await e.resetConnection(t),C({connector:e,status:"connecting",connectedWallet:null,connectError:null,connectRetry:()=>ue(e,t,n,r)});try{let t=await e.connect({showPrompt:!0});if((!t||gH(t))&&i.shouldEnforceDefaultChainOnConnect&&!i.chains.find(e=>e.id===Number(t?.chainId.replace("eip155:","")))&&("wallet_connect_v2"!==t?.connectorType||"metamask"!==t?.walletClientType)){C(t=>({...t,connector:e,status:"switching_to_supported_chain",connectedWallet:null,connectError:null,connectRetry:Gd}));try{await(t?.switchChain(i.defaultChain.id)),t&&(t.chainId=Rq((0,oi.nj)(i.defaultChain.id)))}catch{console.warn(`Unable to switch to default chain: ${i.defaultChain.id}`)}}return C(e=>({...e,status:"connected",connectedWallet:t,connectError:null,connectRetry:Gd})),t&&zf(Q,"connectWallet","onSuccess",{wallet:t}),r?.(t,n)}catch(e){return e instanceof Pd?(console.warn(e.cause?e.cause:e.message),zf(Q,"connectWallet","onError",e.privyErrorCode||Ld.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(e),zf(Q,"connectWallet","onError",Ld.UNKNOWN_CONNECT_WALLET_ERROR)),C(t=>({...t,status:"disconnected",connectedWallet:null,connectError:e})),r?.(null,n)}}let de=async(e,n,r)=>{if(null===e||!gH(e))return;let i=new vq(t,e,n,r);t.startAuthFlow(i)},he=async(e,n,i,s="plain")=>{let o=r(eQ);if("transaction"===s&&!o)throw new jd("useSolanaLedger plugin hook must be mounted");if(null===e||!function(e){return"solana"===e.type}(e))return;let a=new xq(e,t,n,i,s,o);t.startAuthFlow(a)},fe=()=>{let e=new URLSearchParams(window.location.search),n=e.get("privy_connector"),r=e.get("privy_wallet_client"),i="true"===e.get("privy_connect_only");if(!n||!r)return;let s=PH({connectorType:n,walletClientType:r});if(!s||!s.isInstalled)return se(See);if(!t.connectors)throw new jd("Connector not initialized");se(i?_0:gQ);let o=new URL(window.location.href);o.searchParams.delete("privy_connector"),o.searchParams.delete("privy_wallet_client"),o.searchParams.delete("privy_connect_only"),window.history.pushState({},"",o),le(n,r,void 0,i?void 0:"solana_adapter"===n?he:de)};(0,ei.useEffect)(()=>{l&&d&&null===f&&t.getAuthenticatedUser().then(p)},[l,d,f,t]);let pe=e=>{if(!d)throw zf(Q,"linkAccount","onError",Ld.MUST_BE_AUTHENTICATED,{linkMethod:e}),new jd("User must be authenticated before linking an account.")},ge=e=>{if(!d||!f)return!1;if("privy"===e.walletClientType)return!0;for(let t of f.linkedAccounts)if("wallet"===t.type&&t.address===e.address&&"privy"!==t.walletClientType)return!0;return!1},me=()=>{tte.setState(e=>{let n=t.connectors?.wallets.filter(gH).map(e=>({...e,linked:ge(e),loginOrLink:async()=>{if(!await e.isConnected())throw new jd("Wallet is not connected");if("embedded"===e.connectorType&&"privy"===e.walletClientType)throw new jd("Cannot link or login with embedded wallet");(async e=>{let n;if(!t.connectors)throw new jd("Connector not initialized");n="ethereum"===e.type?t.connectors.findWalletConnector(e.connectorType,e.walletClientType)||null:t.connectors.findSolanaWalletConnector(e.walletClientType)||null,C(t=>({...t,connector:n,status:"connected",connectedWallet:e,connectError:null,connectRetry:Gd})),i.captchaEnabled&&!d?(z({captchaModalData:{callback:t=>gH(e)?de(e,t):he(e,t),userIntentRequired:!1,onSuccessNavigateTo:gQ,onErrorNavigateTo:zY}}),se(iQ)):(gH(e)?await de(e):await he(e),se(gQ))})(e)},fund:async t=>{await _e.fundWallet(e.address,t)},unlink:async()=>{if(!d)throw new jd("User is not authenticated.");if("embedded"===e.connectorType&&"privy"===e.walletClientType)throw new jd("Cannot unlink an embedded wallet");p(await t.unlinkEthereumWallet(e.address))}}))||[];return mH(e.ethereum,n)?{}:{ethereum:n}})};(0,ei.useEffect)(()=>{me()},[f?.linkedAccounts,d,l]),(0,ei.useEffect)(()=>{if(l){if(!t.connectors)throw new jd("Connector not initialized");me(),t.connectors.on("walletsUpdated",me)}},[l]),(0,ei.useEffect)(()=>{[...i.loginMethodsAndOrder?.primary??[],...i.loginMethodsAndOrder?.overflow??[]].filter(e=>e.startsWith("privy:")).forEach(e=>t.getCrossAppProviderDetails(e.replace("privy:","")))},[!!t]);let ye=({transaction:r,sponsor:s,uiOptions:o,fundWalletConfig:a,address:c,signOnly:l})=>new Promise(async(u,h)=>{let{requesterAppId:p}=o||{},g=l?"signTransaction":"sendTransaction",m=c?tH(f,c):Kq(f);if(!m&&c){let e=nH(nte(),c);if(e){if(s)throw new jd("Cannot sponsor transactions for externally connected wallet.");try{let t=await e.getEthereumProvider(),n={...r,from:c,chainId:r.chainId||Number(e.chainId.replace("eip155:","")),value:void 0!==r.value?(0,oi.nj)(r.value):void 0},i=await t.request({method:"sendTransaction"===g?"eth_sendTransaction":"eth_signTransaction",params:[n]});return zf(Q,g,"onSuccess",{hash:i}),void u({hash:i})}catch(e){return zf(Q,g,"onError",Ld.TRANSACTION_FAILURE),void h(e??new fH("Unable to "+g+e))}}}if(!m)return zf(Q,g,"onError",Ld.EMBEDDED_WALLET_NOT_FOUND),void h(new jd("No embedded or connected wallet found for address."));if(!d||!f)return zf(Q,g,"onError",Ld.MUST_BE_AUTHENTICATED),void h(Error("User must be authenticated before signing with a Privy wallet"));let y=m.address,w=m.walletIndex??0,{entropyId:b,entropyIdVerifier:v}=oH(f,m),x=Ce.wallets.find(e=>"privy"===e.walletClientType&&(0,ai.b)(e.address)===(0,ai.b)(y));if(!x)return zf(Q,g,"onError",Ld.EMBEDDED_WALLET_NOT_FOUND),void h(Error("Must have a Privy wallet before signing"));let E=await x.getEthereumProvider(),k=await E.request({method:"eth_chainId"}),_=r.chainId?Number(r.chainId):B4(k);(e=>{if(!i.chains.map(e=>e.id).includes(e))throw new Rd(`Chain ID ${e} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`,Ld.UNSUPPORTED_CHAIN_ID)})(_);let C={...r,from:r.from??y,chainId:_},S=await hte();if(!S||!B)return zf(Q,g,"onError",Ld.EMBEDDED_WALLET_NOT_FOUND),void h(Error("Must have valid access token and Privy wallet to send transaction"));let I=Cq(C.chainId,i.chains,i.rpcConfig,{appId:e.appId}),A=kH(m),T=async({transactionRequest:e})=>{try{let t;if(!await _e.recoverEmbeddedWallet({address:y}))throw zf(Q,g,"onError",Ld.UNKNOWN_CONNECT_WALLET_ERROR),h(Error("Unable to connect to wallet")),Error("Unable to connect to wallet");if(s){let t=await(async({transactionRequest:e})=>{if(!A)throw new jd("Sponsoring is only supported for wallets on the TEE stack");if(l)throw new jd("Cannot sponsor a sign transaction request");let t=e=>null==e?void 0:(0,oi.nj)(e),r=await $i(n,async({message:e})=>await B.signWithUserSigner({accessToken:S,requesterAppId:p,message:e}),{chain_type:"ethereum",method:"eth_sendTransaction",caip2:Rq((0,oi.nj)(e.chainId)),sponsor:!0,params:{transaction:{from:e.from,to:e.to,chain_id:t(e.chainId),data:(0,ci.q)(e.data)?e.data?e.data:(0,oi.nj)(Uint8Array.from(e.data)):void 0,value:t(e.value)}},wallet_id:m.id});if(r.data&&"hash"in r.data)return r.data.hash;throw new fH("Unable to sign transaction")})({transactionRequest:e});return zf(Q,"sendTransaction","onSuccess",{hash:t}),t}if(A){let r=e=>null==e?void 0:(0,oi.nj)(e),i=await $i(n,async({message:e})=>await B.signWithUserSigner({accessToken:S,requesterAppId:p,message:e}),{chain_type:"ethereum",method:"eth_signTransaction",params:{transaction:{from:e.from,to:e.to,nonce:r(e.nonce),chain_id:r(e.chainId),data:(0,ci.q)(e.data)?e.data?e.data:(0,oi.nj)(Uint8Array.from(e.data)):void 0,value:r(e.value),type:e.type,gas_limit:r(e.gasLimit??e.gas),gas_price:r(e.gasPrice??e.gas),max_fee_per_gas:r(e.maxFeePerGas),max_priority_fee_per_gas:r(e.maxPriorityFeePerGas)}},wallet_id:m.id});if(!i.data||!("signed_transaction"in i.data))throw new fH("Unable to sign transaction");t=i.data.signed_transaction}else t=await async function({accessToken:e,entropyId:t,entropyIdVerifier:n,transactingWalletIndex:r,walletProxy:i,transactionRequest:s,requesterAppId:o}){return(await i.rpc({entropyId:t,entropyIdVerifier:n,hdWalletIndex:r??0,chainType:"ethereum",accessToken:e,requesterAppId:o,request:{method:"eth_signTransaction",params:[s]}})).response.data}({accessToken:S,entropyId:b,entropyIdVerifier:v,transactingWalletIndex:w,walletProxy:B,transactionRequest:e,requesterAppId:p});if(l)return zf(Q,"signTransaction","onSuccess",{signature:t}),t;{let e=await I.sendRawTransaction({serializedTransaction:t});return zf(Q,"sendTransaction","onSuccess",{hash:e}),e}}catch(e){throw zf(Q,g,"onError",Ld.TRANSACTION_FAILURE),e}};if(ie({showWalletUIs:o?.showWalletUIs})){let e=l||s?C:await RG(C,I,C.from);try{let t=await T({transactionRequest:e});l?zf(Q,"signTransaction","onSuccess",{signature:t}):zf(Q,"sendTransaction","onSuccess",{hash:t}),u({hash:t})}catch(e){zf(Q,g,"onError",Ld.TRANSACTION_FAILURE),h(e)}}else{let e={connectingWalletAddress:y,recoveryMethod:m.recoveryMethod,entropyId:b,entropyIdVerifier:v,onCompleteNavigateTo:h0,isUnifiedWallet:A,onFailure:e=>{zf(Q,g,"onError",Ld.UNKNOWN_CONNECT_WALLET_ERROR),h(e)}},n=(e=>!!e.fundingConfig&&U4(e.fundingConfig.options).length>=1)(i)?F4({address:y,appConfig:i,fundWalletConfig:a,methodScreen:z1,chainIdOverride:C.chainId,comingFromSendTransactionScreen:!0}):void 0;z({connectWallet:e,sendTransaction:{transactionRequest:C,transactingWalletIndex:w,transactingWalletAddress:y,entropyId:b,entropyIdVerifier:v,signOnly:l,scanTransaction:async()=>{let e=await RG(C,I,C.from);return await t.scanTransaction({metadata:{domain:i.embeddedWallets.transactionScanning.domain},chain_id:e.chainId.toString(),request:{method:"eth_sendTransaction",params:[{from:e.from,to:e.to,value:e.value?.toString(),gas:e.gas?.toString(),gasPrice:e.gasPrice?.toString(),nonce:e.nonce?.toString(),data:e.data}]}})},getIsSponsored:async()=>!!s,onConfirm:({transactionRequest:e})=>T({transactionRequest:e}),onSuccess:e=>{l?zf(Q,"signTransaction","onSuccess",{signature:e.hash}):zf(Q,"sendTransaction","onSuccess",{hash:e.hash}),u(e)},onFailure:e=>{zf(Q,g,"onError",Ld.TRANSACTION_FAILURE),h(e)},uiOptions:o||{},fundWalletConfig:a,requesterAppId:p},funding:n}),se(O3)}});function we(){return new Promise(async(e,t)=>{let n=await hte();if(!n||!B)throw Error("Must have valid access token to enroll in MFA");try{await B.verifyMfa({accessToken:n}),e()}catch(e){t(e)}})}let be=e=>e?.linkedAccounts.filter(e=>null!==e.latestVerifiedAt&&!("wallet"===e.type&&"privy"===e.walletClientType)).sort((e,t)=>t.latestVerifiedAt.getTime()-e.latestVerifiedAt.getTime())[0],ve=e=>{let t=f?.linkedAccounts.filter(t=>t.type===e).length??0,{displayName:n,loginMethod:r}=iY(e);if("passkey"===e&&t>=5||"passkey"!==e&&t>=1)throw zf(Q,"linkAccount","onError",Ld.CANNOT_LINK_MORE_OF_TYPE,{linkMethod:r}),new jd(`User already has an account of type ${n} linked.`)};async function xe({showAutomaticRecovery:e=!1,legacySetWalletPasswordFlow:t=!1}){x(null);let n=t?"setWalletPassword":"setWalletRecovery";if(!d||!f)throw zf(Q,n,"onError",Ld.MUST_BE_AUTHENTICATED),Error("User must be authenticated before adding recovery method to Privy wallet");let r=rH(f);if(!r||!B)throw zf(Q,n,"onError",Ld.EMBEDDED_WALLET_NOT_FOUND),Error("Must have a Privy wallet to add a recovery method");let s=kH(r);if(s)throw zf(Q,n,"onError",Ld.UNSUPPORTED_WALLET_TYPE),new jd("User owned wallet recovery is only supported for on-device execution and this app uses TEE execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");try{await we()}catch(e){throw zf(Q,n,"onError",Ld.MISSING_MFA_CREDENTIALS),e}return new Promise((o,a)=>{let c="user-passcode"===r.recoveryMethod,l=b3({walletAction:"update",availableRecoveryMethods:i.embeddedWallets.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:t,isResettingPassword:c,showAutomaticRecovery:e}),{entropyId:u,entropyIdVerifier:d}=oH(f),h={recoveryMethod:r.recoveryMethod,connectingWalletAddress:r.address,onCompleteNavigateTo:l,shouldForceMFA:!1,entropyId:u,isUnifiedWallet:s,entropyIdVerifier:d,onFailure:e=>{zf(Q,n,"onError",Ld.UNKNOWN_CONNECT_WALLET_ERROR),a(e)}};z({setWalletPassword:{onSuccess:e=>{zf(Q,n,"onSuccess",{method:"user-passcode",wallet:e}),o(e)},onFailure:e=>{zf(Q,n,"onError",Ld.USER_EXITED_SET_PASSWORD_FLOW),a(e)},callAuthOnSuccessOnClose:!1},recoverWallet:{entropyId:u,entropyIdVerifier:d,onFailure:a},connectWallet:h,recoverySelection:{isInAccountCreateFlow:!1,isResettingPassword:c,shouldCreateEth:!1,shouldCreateSol:!1}}),se(O3)})}async function Ee({appId:e,action:n}){let r=await hte();if("link"===n&&!r)throw zf(Q,"linkAccount","onError",Ld.MUST_BE_AUTHENTICATED,{linkMethod:`privy:${e}`}),new jd("User must be authenticated before linking an account.");if("login"===n&&r)throw zf(Q,"login","onError",Ld.UNKNOWN_AUTH_ERROR),new jd("Attempted to log in, but user is already logged in. Use a `link` helper instead.");te.current=`privy:${e}`,ne.current=n;let s=qG();return t.createAnalyticsEvent({eventName:"cross_app_auth_started",payload:{providerAppId:e}}),new Promise(async(r,o)=>{let{name:a,logoUrl:c}=await L7({api:t.api,providerAppId:e,requesterAppId:i.id});z({crossAppAuth:{appId:e,name:a,logoUrl:c,action:n,popup:s,onSuccess:r,onError:o}}),se(see)})}let ke={ready:l,authenticated:d,user:f,walletConnectors:t.connectors||null,connectWallet:e=>{e&&"target"in e&&e&&(e=void 0),z({externalConnectWallet:{walletList:e?.walletList&&e?.walletList.length>0?e.walletList:void 0,walletChainType:e?.walletChainType,description:e?.description}}),se(W1)},linkWallet:e=>{e&&"target"in e&&e&&(e=void 0),pe("siwe"),te.current="siwe",ne.current="link",z({...F,externalConnectWallet:{...F.externalConnectWallet,walletList:e?.walletList,walletChainType:e?.walletChainType,description:e?.description||`Link a wallet to your ${i?.name} account`}}),se(yQ)},startCrossAppAuthFlow:Ee,linkEmail:()=>{pe("email"),ve("email"),te.current="email",ne.current="link",se(Eee)},linkPhone:()=>{pe("sms"),ve("phone"),te.current="sms",ne.current="link",se(_ee)},linkGoogle:async()=>{pe("google"),ve("google_oauth"),ne.current="link",await _e.initLoginWithOAuth("google")},linkTwitter:async()=>{pe("twitter"),ve("twitter_oauth"),ne.current="link",await _e.initLoginWithOAuth("twitter")},linkTwitch:async()=>{pe("twitch"),ve("twitch_oauth"),ne.current="link",await _e.initLoginWithOAuth("twitch")},linkDiscord:async()=>{pe("discord"),ve("discord_oauth"),ne.current="link",await _e.initLoginWithOAuth("discord")},linkGithub:async()=>{pe("github"),ve("github_oauth"),ne.current="link",await _e.initLoginWithOAuth("github")},linkSpotify:async()=>{pe("spotify"),ve("spotify_oauth"),ne.current="link",await _e.initLoginWithOAuth("spotify")},linkInstagram:async()=>{pe("instagram"),ve("instagram_oauth"),ne.current="link",await _e.initLoginWithOAuth("instagram")},linkTiktok:async()=>{pe("tiktok"),ve("tiktok_oauth"),ne.current="link",await _e.initLoginWithOAuth("tiktok")},linkLine:async()=>{pe("line"),ve("line_oauth"),ne.current="link",await _e.initLoginWithOAuth("line")},linkLinkedIn:async()=>{pe("linkedin"),ve("linkedin_oauth"),ne.current="link",await _e.initLoginWithOAuth("linkedin")},linkApple:async()=>{pe("apple"),ve("apple_oauth"),ne.current="link",await _e.initLoginWithOAuth("apple")},linkPasskey:async()=>{pe("passkey"),ve("passkey"),await _e.initLinkWithPasskey(),se(H7)},linkTelegram:async e=>{if(pe("telegram"),ve("telegram"),ne.current="link",te.current="telegram",e?.launchParams)if(e.launchParams.initDataRaw){let n=new Fq;t.startAuthFlow(n),n.meta.telegramAuthResult=void 0,n.meta.telegramWebAppData=Wq(e.launchParams.initDataRaw),z({telegramAuthModalData:{seamlessAuth:!0}}),se(I2)}else zf(Q,"linkAccount","onError",Ld.INVALID_DATA,{linkMethod:"telegram"});else await _e.initLoginWithTelegram();se(I2)},linkFarcaster:async()=>{pe("farcaster"),ve("farcaster"),await _e.initLoginWithFarcaster(),ne.current="link",te.current="farcaster",se(n2)},updateEmail:()=>{if(pe("email"),!f?.email)throw new jd("User does not have an email linked to their account.");ne.current="update",te.current="email",se(Qee)},updatePhone:()=>{if(pe("sms"),!f?.phone)throw new jd("User does not have a phone number linked to their account.");ne.current="update",te.current="sms",se(ete)},login:async e=>{e&&"target"in e&&e&&(e=void 0);let t="Attempted to log in, but user is already logged in. Use a `link` helper instead.";if(!l){let e=await new Promise(e=>{q(t=>e.bind(t))});if(q(null),e)return void console.warn(t)}!f||f.isGuest?(ne.current="login",z({login:e}),se(a3)):console.warn(t)},connectOrCreateWallet:async()=>{l||(await new Promise(e=>{q(()=>e)}),q(null)),d?console.warn("User must be unauthenticated to `connectOrCreateWallet`"):(ne.current="connect-or-create",se(B2))},logout:async()=>{if(ne.current=null,te.current=null,f&&t.clearProviderAcccessTokens(f),x(null),await t.logout(),f&&B)try{await B.clearMfa({userId:f.id})}catch(e){}p(null),h(!1),T({status:"initial"}),O({status:"initial"}),I({status:"initial"}),N({status:"initial"}),$({status:"initial"}),L({status:"initial"}),zf(Q,"logout","onSuccess"),a(!1),VW.del(ff),VW.del(pf(i.id))},getAccessToken:(0,ei.useCallback)(async()=>{let e=await t.getCustomerAccessToken();return e&&!d&&h(!0),e},[t,d]),unlinkWallet:async e=>{let n;return p(n=e.startsWith("0x")?await t.unlinkEthereumWallet(e):await t.unlinkSolanaWallet(e)),n},unlinkEmail:async e=>{let n=await t.unlinkEmail(e);return p(n),n},unlinkPhone:async e=>{let n=await t.unlinkPhone(e);return p(n),n},unlinkGoogle:async e=>{let n=await t.unlinkOAuth("google",e);return p(n),n},unlinkTwitter:async e=>{let n=await t.unlinkOAuth("twitter",e);return p(n),n},unlinkTwitch:async e=>{let n=await t.unlinkOAuth("twitch",e);return p(n),n},unlinkDiscord:async e=>{let n=await t.unlinkOAuth("discord",e);return p(n),n},unlinkGithub:async e=>{let n=await t.unlinkOAuth("github",e);return p(n),n},unlinkSpotify:async e=>{let n=await t.unlinkOAuth("spotify",e);return p(n),n},unlinkInstagram:async e=>{let n=await t.unlinkOAuth("instagram",e);return p(n),n},unlinkTiktok:async e=>{let n=await t.unlinkOAuth("tiktok",e);return p(n),n},unlinkLine:async e=>{let n=await t.unlinkOAuth("line",e);return p(n),n},unlinkLinkedIn:async e=>{let n=await t.unlinkOAuth("linkedin",e);return p(n),n},unlinkApple:async e=>{let n=await t.unlinkOAuth("apple",e);return p(n),n},unlinkFarcaster:async e=>{let n=await t.unlinkFarcaster(e);return p(n),n},unlinkTelegram:async e=>{let n=await t.unlinkTelegram(e);return p(n),n},unlinkPasskey:async e=>{let n=await hte();if(!n)throw Error("Must have valid access token to enroll in MFA");if(!B)throw Error("Wallet proxy not initialized.");let r=i.passkeys.shouldUnenrollMfaOnUnlink;await B.unlinkPasskeyAccount({credentialId:e,accessToken:n,removeAsMfa:r});let s=await t.getAuthenticatedUser();return p(s),s},unlinkCrossAppAccount:async({subject:e})=>{let n=f?.linkedAccounts.find(t=>"cross_app"===t.type&&t.subject===e)?.providerApp;if(!n)throw new jd("Invalid subject");t.storeProviderAccessToken(n.id,null);let r=await t.unlinkOAuth(`privy:${n.id}`,e);return p(r),r},setWalletRecovery:async e=>xe({legacySetWalletPasswordFlow:!1,showAutomaticRecovery:e?.showAutomaticRecovery??!1}),setWalletPassword:async()=>xe({legacySetWalletPasswordFlow:!0,showAutomaticRecovery:!1}),signMessage:(e,r)=>new Promise(async(i,s)=>{let{requesterAppId:o}=r?.uiOptions||{},a=e.message,c=r?.address?tH(f,r.address):Kq(f);if(!c&&void 0!==r?.address){let e=nH(nte(),r.address);if(e)try{let t=await e.getEthereumProvider(),n=await t.request({method:"personal_sign",params:[a,e.address]});return zf(Q,"signMessage","onSuccess",{signature:n}),void i({signature:n})}catch(e){return zf(Q,"signMessage","onError",Ld.UNABLE_TO_SIGN),void s(e??new fH("Unable to sign message"))}}if(!c)throw new jd("No embedded or connected wallet found for address.");if(!d||!f)return zf(Q,"signMessage","onError",Ld.MUST_BE_AUTHENTICATED),void s(Error("User must be authenticated before signing with a Privy wallet"));let l=c.address,u=c.walletIndex??0,{entropyId:h,entropyIdVerifier:p}=oH(f,c),g=kH(c);if("string"!=typeof a||a.length<1)return zf(Q,"signMessage","onError",Ld.INVALID_MESSAGE),void s(Error("Message must be a non-empty string"));let m=async()=>{let r;if(!d)throw Error("User must be authenticated before signing with a Privy wallet");let i=await hte();if(!B||!i||!await _e.recoverEmbeddedWallet({address:l}))throw Error("Unable to connect to wallet");if(t.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_started",payload:{walletAddress:l,requesterAppId:o}}),g){let t=(0,ci.q)(e.message,{strict:!0}),s=await $i(n,async({message:e})=>await B.signWithUserSigner({accessToken:i,requesterAppId:o,message:e}),{chain_type:"ethereum",method:"personal_sign",params:t?{message:a.slice(2),encoding:"hex"}:{message:a,encoding:"utf-8"},wallet_id:c.id});if(!s.data||!("signature"in s.data))throw new fH("Unable to sign message");r=s.data.signature}else{let{response:e}=await B.rpc({accessToken:i,entropyId:h,entropyIdVerifier:p,chainType:"ethereum",hdWalletIndex:u,requesterAppId:o,request:{method:"personal_sign",params:[a,l]}});r=e.data}return t.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_completed",payload:{walletAddress:l,requesterAppId:o}}),r};if(ie({showWalletUIs:r?.uiOptions?.showWalletUIs}))try{let e=await m();zf(Q,"signMessage","onSuccess",{signature:e}),i({signature:e})}catch(e){zf(Q,"signMessage","onError",Ld.UNABLE_TO_SIGN),s(e??new fH("Unable to sign message"))}else z({signMessage:{method:"personal_sign",data:a,confirmAndSign:m,onSuccess:e=>{zf(Q,"signMessage","onSuccess",{signature:e}),i({signature:e})},onFailure:e=>{zf(Q,"signMessage","onError",Ld.UNABLE_TO_SIGN),s(e)},uiOptions:r?.uiOptions||{}},connectWallet:{recoveryMethod:c.recoveryMethod,connectingWalletAddress:l,entropyId:h,entropyIdVerifier:p,onCompleteNavigateTo:a8,isUnifiedWallet:g,onFailure:e=>{zf(Q,"signMessage","onError",Ld.UNKNOWN_CONNECT_WALLET_ERROR),s(e)}}}),se(O3)}),signTypedData:(e,r)=>new Promise(async(i,s)=>{let{requesterAppId:o}=r?.uiOptions||{},a=r?.address?tH(f,r.address):Kq(f);if(!a&&r?.address){let t=nH(nte(),r.address);if(t)try{let n=await t.getEthereumProvider(),r=Mq(e),s=await n.request({method:"eth_signTypedData_v4",params:[t.address,r]});return zf(Q,"signTypedData","onSuccess",{signature:s}),void i({signature:s})}catch(e){return zf(Q,"signTypedData","onError",Ld.UNABLE_TO_SIGN),void s(e??new fH("Unable to sign typed data "+e))}}if(!a)throw new jd("No embedded or connected wallet found for address.");if(!d||!f)return zf(Q,"signTypedData","onError",Ld.MUST_BE_AUTHENTICATED),void s(Error("User must be authenticated before signing with a Privy wallet"));let c=a.address,l=a.walletIndex??0,{entropyId:u,entropyIdVerifier:h}=oH(f,a),p=kH(a),g=Mq(e),m=async()=>{let e;if(!d)throw Error("User must be authenticated before signing with a Privy wallet");let r=await hte();if(!B||!r||!await _e.recoverEmbeddedWallet({address:c}))throw Error("Unable to connect to wallet");if(t.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_started",payload:{walletAddress:c,requesterAppId:o}}),p){let{domain:t,types:i,primaryType:s,message:c}=g,l=await $i(n,async({message:e})=>await B.signWithUserSigner({accessToken:r,requesterAppId:o,message:e}),{chain_type:"ethereum",method:"eth_signTypedData_v4",params:{typed_data:{domain:t,types:i,primary_type:s,message:c}},wallet_id:a.id});if(!l.data||!("signature"in l.data))throw new fH("Unable to sign message");e=l.data.signature}else{let{response:t}=await B.rpc({accessToken:r,entropyId:u,entropyIdVerifier:h,chainType:"ethereum",hdWalletIndex:l,requesterAppId:o,request:{method:"eth_signTypedData_v4",params:[c,g]}});e=t.data}return t.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_completed",payload:{walletAddress:c,requesterAppId:o}}),e};if(ie({showWalletUIs:r?.uiOptions?.showWalletUIs}))try{let e=await m();zf(Q,"signTypedData","onSuccess",{signature:e}),i({signature:e})}catch(e){zf(Q,"signTypedData","onError",Ld.UNABLE_TO_SIGN),s(e??new fH("Unable to sign message"))}else z({signMessage:{method:"eth_signTypedData_v4",data:g,confirmAndSign:m,onSuccess:e=>{zf(Q,"signTypedData","onSuccess",{signature:e}),i({signature:e})},onFailure:e=>{zf(Q,"signTypedData","onError",Ld.UNABLE_TO_SIGN),s(e)},uiOptions:r?.uiOptions||{}},connectWallet:{recoveryMethod:a.recoveryMethod,connectingWalletAddress:a.address,entropyId:u,isUnifiedWallet:p,entropyIdVerifier:h,onCompleteNavigateTo:a8,onFailure:e=>{zf(Q,"signMessage","onError",Ld.UNKNOWN_CONNECT_WALLET_ERROR),s(e)}}}),se(O3)}),sendTransaction:async(e,t)=>await ye({transaction:e,sponsor:t?.sponsor,uiOptions:t?.uiOptions,fundWalletConfig:t?.fundWalletConfig,address:t?.address,signOnly:!1}),signTransaction:async(e,t)=>({signature:(await ye({transaction:e,uiOptions:t?.uiOptions,address:t?.address,signOnly:!0})).hash}),exportWallet:n=>new Promise(async(r,i)=>{if(!d||!f)return void i(Error("User must be authenticated before exporting their Privy wallet"));n&&"target"in n&&n&&(n=void 0);let s=n?.address?tH(f,n.address):Kq(f);if(!s)return void i(new jd("User must have an embedded wallet."));let o=s.address,{entropyId:a,entropyIdVerifier:c}=oH(f,s),l=kH(s);if(!o)return void i(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`."));if(!(0,li.P)(o))return void i(Error("Must provide a valid Ethereum address."));let u={recoveryMethod:s.recoveryMethod,connectingWalletAddress:s.address,isUnifiedWallet:l,entropyId:a,entropyIdVerifier:c,onCompleteNavigateTo:I3,onFailure:i,shouldForceMFA:!0};z(F),await hte()&&B?B?L4(s)?(z({keyExport:{appId:e.appId,appClientId:e.clientId,origin:t.apiUrl,address:s.address,entropyId:a,entropyIdVerifier:c,hdWalletIndex:s.walletIndex,chainType:s.chainType,walletId:s.id,isUnifiedWallet:l,imported:s.imported,onSuccess:r,onFailure:i},connectWallet:u}),se(O3)):i(Error(`Export is not supported for ${s.chainType} wallets`)):i(Error("Must have a Privy wallet before exporting")):i(Error("Must have valid access token to enroll in MFA"))}),promptMfa:we,async init(e){switch(e){case"sms":return void await t.initMfaSmsVerification();case"passkey":return await t.initMfaPasskeyVerification();case"totp":return;default:throw Error(`Unsupported MFA method: ${e}`)}},async submit(e,t){switch(e){case"totp":case"sms":if("string"!=typeof t)throw new jd("Invalid MFA code");Y.current?.resolve({mfaMethod:e,mfaCode:t,relyingParty:window.origin}),await new Promise((e,t)=>{J.current={resolve:e,reject:t}});break;case"passkey":if("string"==typeof t)throw new jd("Invalid authenticator response");let n=await o.e(4621).then(o.bind(o,4621)),r=(e=>({id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}))(await n.startAuthentication({optionsJSON:t}));Y.current?.resolve({mfaMethod:e,mfaCode:r,relyingParty:window.origin}),await new Promise((e,t)=>{J.current={resolve:e,reject:t}});break;default:throw Y.current?.reject(new jd("Unsupported MFA method")),new jd(`Unsupported MFA method: ${e}`)}},cancel(){Y.current?.reject(new jd("MFA canceled"))},async initEnrollmentWithSms(e){let t=await hte();if(!t||!B)throw Error("Must have valid access token to enroll in MFA");await B.initEnrollMfa({method:"sms",accessToken:t,phoneNumber:e.phoneNumber})},enrollInMfa:e=>new Promise((t,n)=>{if(!e)return _e.closePrivyModal(),void t();i.mfa.noPromptOnMfaRequired&&console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."),z({mfaEnrollmentFlow:{mfaMethods:i.mfa.methods,shouldUnlinkOnUnenrollMfa:i.passkeys.shouldUnlinkOnUnenrollMfa,onSuccess:t,onFailure:n}}),se(Hee)}),async initEnrollmentWithTotp(){let e=await hte();if(!e||!B)throw Error("Must have valid access token to enroll in MFA");let t=await B.initEnrollMfa({method:"totp",accessToken:e});return{secret:t.secret,authUrl:t.authUrl}},async submitEnrollmentWithSms(e){let n=await hte();if(!n||!B)throw Error("Must have valid access token to enroll in MFA");await B.submitEnrollMfa({method:"sms",accessToken:n,phoneNumber:e.phoneNumber,code:e.mfaCode}),p(await t.getAuthenticatedUser())},async submitEnrollmentWithTotp(e){let n=await hte();if(!n||!B)throw Error("Must have valid access token to enroll in MFA");await B.submitEnrollMfa({method:"totp",accessToken:n,code:e.mfaCode}),p(await t.getAuthenticatedUser())},async initEnrollmentWithPasskey(){},async submitEnrollmentWithPasskey({credentialIds:e},n={}){let r=await hte();if(!r||!B)throw Error("Must have valid access token to enroll in MFA");await B.submitEnrollMfa({method:"passkey",accessToken:r,credentialIds:e,removeForLogin:n.removeForLogin}),p(await t.getAuthenticatedUser())},async unenroll(e,n={}){let r=await hte();if(!r||!B)throw Error("Must have valid access token to remove MFA");"passkey"===e?await B.submitEnrollMfa({method:"passkey",accessToken:r,credentialIds:[],removeForLogin:n.removeForLogin}):await B.unenrollMfa({method:e,accessToken:r}),p(await t.getAuthenticatedUser())},requestFarcasterSignerFromWarpcast:async()=>{let e=await hte(),n=f?.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType);if(!e)throw Error("Must have valid access token to connect with Farcaster");if(!B||!n)throw Error("Must have an embedded wallet to use Farcaster signers");if(kH(n))throw new jd("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!f?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await _e.recoverEmbeddedWallet({address:n.address}))throw Error("Unable to connect to wallet");let r=await B.initFarcasterSigner({address:n.address,hdWalletIndex:null,accessToken:e,mfaCode:null,mfaMethod:null,relyingParty:window.origin});"approved"===r.status&&p(await t.getAuthenticatedUser()||f||null),z({farcasterSigner:r}),se(wee)},getFarcasterSignerPublicKey:async()=>{let e,t=await hte(),n=f?.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType);if(!t)throw Error("Must have valid access token to connect with Farcaster");if(!B||!n)throw Error("Must have an embedded wallet to use Farcaster signers");if(kH(n))throw new jd("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!f?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await _e.recoverEmbeddedWallet({address:n.address}))throw Error("Unable to connect to wallet");if(!f.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");return e=f.farcaster.signerPublicKey.slice(2),Uint8Array.from(e.match(/.{1,2}/g).map(e=>parseInt(e,16)))},signFarcasterMessage:async e=>{let t=await hte(),n=f?.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType);if(!t)throw Error("Must have valid access token to connect with Farcaster");if(!B||!n)throw Error("Must have an embedded wallet to use Farcaster signers");if(kH(n))throw new jd("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!f?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await _e.recoverEmbeddedWallet({address:n.address}))throw Error("Unable to connect to wallet");if(!f.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");let r=await o.e(4621).then(o.bind(o,4621)),i=await B.signFarcasterMessage({address:n.address,hdWalletIndex:null,accessToken:t,mfaCode:null,mfaMethod:null,payload:{hash:r.bufferToBase64URLString(e)},fid:BigInt(f.farcaster.fid),relyingParty:window.origin});return new Uint8Array(r.base64URLStringToBuffer(i.signature))},signMessageWithCrossAppWallet(e,{address:n,chainId:r}){let s=f?.linkedAccounts.some(e=>"cross_app"===e.type&&e.smartWallets.some(e=>e.address===n));return B7({user:f,client:t,address:n,requesterAppId:i.id,request:{method:s?"privy_signSmartWalletMessage":"personal_sign",params:[e,n],chainId:r},reconnect:Ee})},signTypedDataWithCrossAppWallet(e,{address:n,chainId:r}){let s=f?.linkedAccounts.some(e=>"cross_app"===e.type&&e.smartWallets.some(e=>e.address===n)),o=Mq(e);return B7({user:f,client:t,address:n,requesterAppId:i.id,request:{method:s?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[n,o],chainId:r},reconnect:Ee})},sendTransactionWithCrossAppWallet(e,{address:n}){let r=f?.linkedAccounts.some(e=>"cross_app"===e.type&&e.smartWallets.some(e=>e.address===n));return B7({user:f,client:t,address:n,requesterAppId:i.id,request:{method:r?"privy_sendSmartWalletTx":"eth_sendTransaction",params:[e],chainId:e.chainId},reconnect:Ee})},signTransactionWithCrossAppWallet(e,{address:n}){let r=f?.linkedAccounts.some(e=>"cross_app"===e.type&&e.smartWallets.some(e=>e.address===n));return B7({user:f,client:t,address:n,requesterAppId:i.id,request:{method:r?"privy_signSmartWalletTx":"eth_signTransaction",params:[e],chainId:e.chainId},reconnect:Ee})},isModalOpen:s||!!c,mfaMethods:i.mfa.methods};ate=ke.signMessage,cte=ke.signTypedData,ute=async(e,t)=>await ye({transaction:e,...t,signOnly:!1}),lte=async(e,t)=>({signature:(await ye({transaction:e,...t,signOnly:!0})).hash});let _e={privy:n,setAuthenticated:h,setUser:p,setIsNewUser:b,isNewUserThisSession:w,pendingTransaction:null,walletConnectionStatus:_,setWalletConnectionStatus:C,connectors:t.connectors?.walletConnectors??[],rpcConfig:i.rpcConfig,chains:i.chains,appId:e.appId,showFiatPrices:"native-token"!==i.embeddedWallets.priceDisplay.primary,clientAnalyticsId:t.clientAnalyticsId,onCustomAuthAuthenticated:oe,hideWalletUIs:re,isHeadlessSigning:(0,ei.useCallback)(ie,[i.embeddedWallets.showWalletUIs]),emailOtpState:A,setEmailOtpState:T,smsOtpState:P,setSmsOtpState:O,oAuthState:R,setOAuthState:$,telegramAuthState:M,setTelegramAuthState:L,siweState:j,setSiweState:N,isHeadlessOAuthLoading:E,baseAccountSdk:m,setBaseAccountSdk:y,nativeTokenSymbolForChainId:e=>i.chains.find(t=>t.id===Number(e))?.nativeCurrency.symbol,initializeWalletProxy:async e=>{if(B)return B;let t=new Promise(e=>{H.current=e}),n=new Promise(t=>setTimeout(()=>t(null),e)),r=await Promise.race([t,n]);return H.current=null,r},getAuthFlow:()=>t.authFlow,getAuthMeta:()=>t.authFlow?.meta,client:t,closePrivyModal:async(n={shouldCallAuthOnSuccess:!0,isSuccess:!1})=>{let s,o=l&&d&&f;if(o&&te.current&&(s=be(f)),"login"===ne.current)n.shouldCallAuthOnSuccess&&o&&te.current?zf(Q,"login","onComplete",{user:f,isNewUser:w,wasAlreadyAuthenticated:!1,loginMethod:te.current,loginAccount:s??null}):zf(Q,"login","onError",Ld.USER_EXITED_AUTH_FLOW);else if("link"===ne.current&&s)n.isSuccess&&o&&te.current?zf(Q,"linkAccount","onSuccess",{user:f,linkMethod:te.current,linkedAccount:s}):te.current&&zf(Q,"linkAccount","onError",Ld.USER_EXITED_LINK_FLOW,{linkMethod:te.current});else if("update"===ne.current&&s)n.isSuccess&&o&&te.current?zf(Q,"update","onSuccess",{user:f,updateMethod:te.current,updatedAccount:s}):te.current&&zf(Q,"update","onError",Ld.USER_EXITED_UPDATE_FLOW,{linkMethod:te.current});else if("connect-or-create"===ne.current){let e=nte();e[0]?zf(Q,"connectOrCreateWallet","onSuccess",{wallet:e[0]}):zf(Q,"connectOrCreateWallet","onError",Ld.USER_EXITED_AUTH_FLOW)}let c=v&&nee.has(v),u=v===zY&&F.errorModalData&&nee.has(F.errorModalData.previousScreen);if((c||u)&&F.funding){let t,n=nee.get(v)??null;if("solana"===F.funding.chainType){let e=i.solanaRpcs[F.funding.chain];if(!e)return void console.warn("Unable to load solana rpc, skipping balance");if(r(w1))try{t=await MQ({rpc:e.rpc,address:F.funding.address})}catch{console.error("Unable to pull wallet balance")}else console.warn("Unable to load solana plugin, skipping balance");zf(Q,"fundSolanaWallet","onUserExited",{address:F.funding.address,fundingMethod:n,chain:F.funding.chain,balance:t})}else{let r=Cq(F.funding.chain.id,i.chains,i.rpcConfig,{appId:e.appId});try{t=await r.getBalance({address:F.funding.address})}catch{console.error("Unable to pull wallet balance")}zf(Q,"fundWallet","onUserExited",{address:F.funding.address,chain:F.funding.chain,fundingMethod:n,balance:t})}}z(e=>({...e,externalConnectWallet:{}})),ne.current=null,te.current=null,b(!1),a(!1),setTimeout(()=>{t.authFlow=void 0},200)},openPrivyModal:se,connectWallet:ue,initLoginWithWallet:async(e,t,n,r)=>{gH(e)?(te.current="siwe",de(e,t,n)):(te.current="siws",he(e,t,n,r))},loginWithWallet:async()=>{let e,n,r;if(!l)throw new Bd;if(t.authFlow instanceof vq?e="siwe":t.authFlow instanceof xq&&(e="siws"),!e)throw new jd("Must initialize SIWE/SIWS flow first.");if(null!==await t.getAccessToken())try{({user:n}=await t.link()),te.current=e}catch(n){throw zf(Q,"linkAccount","onError",n.privyErrorCode||Ld.FAILED_TO_LINK_ACCOUNT,{linkMethod:e}),n}else try{({user:n,isNewUser:r}=await t.authenticate()),te.current=e}catch(e){throw zf(Q,"login","onError",e.privyErrorCode||Ld.GENERIC_CONNECT_WALLET_ERROR),e}p(n||f||null),b(r||!1),h(!0)},delegateWallet:async({address:e,chainType:t,showDelegationUIs:n})=>new Promise(async(r,i)=>{let s=await hte();if(!d||!f||!s)throw new jd("User must be authenticated and have an embedded wallet to delegate actions.");if("solana"!==t&&"ethereum"!==t)throw new jd("Only Solana and Ethereum embedded wallets are supported for delegation and revocation.");let o=_e.walletProxy??await _e.initializeWalletProxy(15e3);if(!o)throw new jd("Wallet proxy not initialized.");if((({address:e,user:t})=>!!N7(t).find(t=>t.address===e))({address:e,user:f}))return r();let a=tH(f,e);if(!a)throw new jd("Address to delegate is not associated with current user.");if(kH(a))throw new jd("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let c=(({address:e,user:t})=>{let n=t.linkedAccounts.find(t=>"wallet"===t.type&&"privy"===t.walletClientType&&t.address===e);if(!n)throw new jd("Address to delegate is not associated with current user.");if(!L4(n))throw new jd(`useDelegatedActions is not supported for ${n.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:n.address,chainType:n.chainType,walletIndex:n.walletIndex??0}})({address:e,user:f}),l=(({address:e,user:t})=>{let n=t.linkedAccounts.find(t=>"wallet"===t.type&&"privy"===t.walletClientType&&t.address===e);if(!n)throw new jd("Address to delegate is not associated with current user.");let r=n.imported?n:rH(t);if(!r)throw new jd("Unable to determine root address for delegated address.");if(!L4(r))throw new jd(`useDelegatedActions is not supported for ${r.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:r.address,chainType:r.chainType,imported:r.imported}})({address:e,user:f}),u=async()=>{await o.createDelegatedAction({accessToken:s,rootWallet:l,delegatedWallets:[c]}),await _e.refreshSessionAndUser()};if(await _e.recoverEmbeddedWallet({address:e}),n)z({delegatedActions:{consent:{address:e,onDelegate:u,onSuccess:async()=>{r()},onError:async e=>{i(e)}}}}),se(aee);else try{await u(),r()}catch(e){i(e)}}),revokeDelegatedWallets:async({showDelegationUIs:e})=>new Promise(async(n,r)=>{if(!d||!f)throw new jd("User must be authenticated and have an embedded wallet to revoke a delegated wallet.");let i=N7(f);if(0===i.length)throw new jd("User has no delegated wallets to revoke.");if(i.some(kH))throw new jd("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let s=async()=>{await t.revokeDelegatedWallet(),await _e.refreshSessionAndUser()};if(e)z({delegatedActions:{revoke:{onRevoke:s,onSuccess:async()=>{n()},onError:async e=>{r(e)}}}}),se(lee);else try{await s(),n()}catch(e){r(e)}}),initLoginWithFarcaster:async(e,n)=>{let r=new T8(e,n);t.startAuthFlow(r);try{te.current="farcaster",await r.initializeFarcasterConnect()}catch(e){throw"login"===ne.current?zf(Q,"login","onError",e.privyErrorCode||Ld.UNKNOWN_AUTH_ERROR):"link"===ne.current&&zf(Q,"linkAccount","onError",e.privyErrorCode||Ld.UNKNOWN_AUTH_ERROR,{linkMethod:"farcaster"}),e}},loginWithFarcaster:async()=>{let e,n;if(!l)throw new Bd;if(!(t.authFlow instanceof T8))throw new jd("Must initialize Farcaster flow first.");if(null!==await t.getAccessToken())try{({user:e}=await t.link()),te.current="farcaster"}catch(e){throw zf(Q,"linkAccount","onError",e.privyErrorCode||Ld.FAILED_TO_LINK_ACCOUNT,{linkMethod:"farcaster"}),e}else try{({user:e,isNewUser:n}=await t.authenticate()),te.current="farcaster"}catch(e){throw zf(Q,"login","onError",e.privyErrorCode||Ld.UNKNOWN_AUTH_ERROR),e}p(e||null),b(n||!1),h(!0)},async crossAppAuthFlow({appId:e,popup:n,action:r}){let i=`privy:${e}`;te.current=i;let{url:s,stateCode:o,codeVerifier:a}=await async function({api:e,appId:t}){let n=nq(),r=rq(),i=await iq(n);try{let{url:s}=await e.post(qd,{provider:`privy:${t}`,redirect_to:window.location.href,code_challenge:i,state_code:r});return{url:s,stateCode:r,codeVerifier:n}}catch(e){throw $d(e)}}({api:t.api,appId:e});if(!s)throw t.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:"Unable to open cross-app auth popup",appId:e}}),new jd("No authorization URL returned for cross-app auth.");try{let c=await async function({url:e,popup:t}){return t.location=e,new Promise((e,n)=>{let r,i=setTimeout(()=>{n(new jd("Authorization request timed out after 2 minutes.")),s()},12e4);function s(){t?.close(),window.removeEventListener("message",a)}let o=setInterval(()=>{t?.closed&&!r&&(s(),clearInterval(o),clearTimeout(i),n(new jd("User rejected request")))},300);function a(t){t.data&&("PRIVY_OAUTH_RESPONSE"===t.data.type&&t.data.stateCode&&t.data.authorizationCode&&(clearTimeout(i),e(t.data),s()),"PRIVY_OAUTH_ERROR"===t.data.type&&(clearTimeout(i),n(new jd(t.data.error)),s()),t.data.type===$7&&((r=new BroadcastChannel(R7)).onmessage=a))}window.addEventListener("message",a)})}({url:s,popup:n,provider:i}),l=c.stateCode,u=c.authorizationCode;if(l!==o)throw t.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:i,storedStateCode:o??"",returnedStateCode:l??""}}),new jd("Unexpected auth flow. This may be a phishing attempt.",void 0,Ld.OAUTH_UNEXPECTED);let d=await async function({appId:e,stateCode:t,codeVerifier:n,authorizationCode:r,action:i,client:s}){if(!r||!t)throw new jd("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if("undefined"===r)throw new jd("User denied confirmation during cross-app auth flow");try{let o=new M7({authorizationCode:r,stateCode:t,codeVerifier:n,provider:`privy:${e}`});s.startAuthFlow(o);let a="link"===i?await s.link():await s.authenticate(),c=a.oAuthTokens?.accessToken;return console.debug(),c}catch(e){let t=$d(e);if(t.privyErrorCode===Ld.ACCOUNT_TRANSFER_REQUIRED)throw t;if(t.privyErrorCode)throw new jd(t.message||"Invalid code during cross-app auth flow.",void 0,t.privyErrorCode);if("User denied confirmation during cross-app auth flow"===t.message)throw new jd("Invalid code during cross-app auth flow.",void 0,Ld.OAUTH_USER_DENIED);throw new jd("Invalid code during cross-app auth flow.",void 0,Ld.UNKNOWN_AUTH_ERROR)}}({appId:e,codeVerifier:a,stateCode:l,authorizationCode:u,action:r,client:t});d&&t.storeProviderAccessToken(e,d);let h=await _e.refreshSessionAndUser();if(!h)throw new jd("Unable to update user");return t.createAnalyticsEvent({eventName:"cross_app_auth_completed",payload:{providerAppId:e}}),h}catch(e){throw t.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:e.toString(),provider:i}}),e}},async initLoginWithOAuth(e,n,r){if(te.current=e,!HW())return void se(vee);if("google"===e&&E0(window.navigator.userAgent))return void se(vee);"twitter"===e&&window.opener&&window.opener.postMessage({type:$7},"*"),VW.del(wf),VW.del(bf);let s=new R8({provider:e,disableSignup:!!r,withPrivyUi:!0,customOAuthRedirectUrl:i.customOAuthRedirectUrl});n&&s.addCaptchaToken(n),t.startAuthFlow(s);let o=await t.authFlow.getAuthorizationUrl();if(o&&o.url)if("twitter"===e&&si.m0&&(o.url=o.url.replace("x.com","twitter.com")),"chrome-extension:"===window.location.protocol&&j8())try{let{privyOAuthCode:e,privyOAuthState:t}=await N8(o.url);se(Kee),s.meta.stateCode=t,s.meta.authorizationCode=e}catch(e){throw console.error("OAuth in chrome extension flow failed:",e),e}else window.location.assign(o.url)},async initLoginWithTelegram(e,n){if(!l)throw new Bd;te.current="telegram";let r=new Fq(e,n);t.startAuthFlow(r),L({status:"loading"}),r.meta.telegramWebAppData=void 0,r.meta.telegramAuthResult=await new Promise((e,t)=>i.loginConfig.telegramAuthConfiguration?window.Telegram?void window.Telegram.Login.auth({bot_id:i.loginConfig.telegramAuthConfiguration.botId,request_access:!0},n=>n?e(n):("link"===ne.current?zf(Q,"linkAccount","onError",Ld.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}):"login"===ne.current?zf(Q,"login","onError",Ld.INVALID_CREDENTIALS):"update"===ne.current&&zf(Q,"login","onError",Ld.FAILED_TO_UPDATE_ACCOUNT),t(new jd("Telegram auth failed or was canceled by the client")))):t(new jd("Telegram was not initialized")):t(new jd("Telegram Auth configuration is not loaded")))},async loginWithTelegram(e){let n,r;if(!(t.authFlow instanceof Fq))throw new jd("Must initialize Telegram flow before calling loginWithTelegram");t.authFlow.meta.captchaToken||=e?.captchaToken;let i=await hte(),s=e?.intent||ne.current;if("login"===s)try{let e=await t.authenticate();n=e.user,r=e.isNewUser,te.current="telegram"}catch(e){throw zf(Q,"login","onError",e.privyErrorCode||Ld.UNKNOWN_AUTH_ERROR),e}else{if("link"!==s)throw new jd("Unknown auth intent");try{n=(await t.link()).user,te.current="telegram"}catch(e){throw zf(Q,"linkAccount","onError",e.privyErrorCode||Ld.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}),e}}p(n),b(r||!1),h(!0),L({status:"done"});let o=n?.linkedAccounts.find(({type:e})=>"telegram"===e)||null;return{user:n,isNewUser:r||!1,wasAlreadyAuthenticated:!!i,loginAccount:o}},async loginWithOAuth(e){let n,r,i;if(!(t.authFlow instanceof R8))throw new jd("Must initialize OAuth flow before calling loginWithOAuth");let s=VW.get(mf),o=t.authFlow.meta.stateCode;if(s!==o)throw t.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:e,storedStateCode:s??"",returnedStateCode:o??""}}),new jd("Unexpected auth flow. This may be a phishing attempt.",void 0,Ld.OAUTH_UNEXPECTED);if(null!==await t.getAccessToken())try{let r=await t.link();n=r.user,i=r.oAuthTokens,te.current=e}catch(n){throw zf(Q,"linkAccount","onError",n.privyErrorCode||Ld.FAILED_TO_LINK_ACCOUNT,{linkMethod:e}),n}else try{let s=await t.authenticate();n=s.user,r=s.isNewUser,i=s.oAuthTokens,te.current=e}catch(n){throw"login"===ne.current?zf(Q,"login","onError",n.privyErrorCode||Ld.UNKNOWN_AUTH_ERROR):"link"===ne.current&&zf(Q,"linkAccount","onError",n.privyErrorCode||Ld.FAILED_TO_LINK_ACCOUNT,{linkMethod:e}),n}return p(n),b(r||!1),h(!0),i&&n&&zf(Q,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:i,user:n}),i},passkeyAuthState:S,setPasskeyAuthState:I,async initSignupWithPasskey({captchaToken:e,withPrivyUi:n}){let r=new D8({captchaToken:e,setPasskeyAuthState:I,hints:i.passkeys.registration?.hints});t.startAuthFlow(r),ne.current="login";try{te.current="passkey",I({status:"generating-challenge"}),await r.initRegisterFlow(n),I({status:"awaiting-passkey"})}catch(e){throw I({status:"error",error:e}),zf(Q,"login","onError",e.privyErrorCode||Ld.UNKNOWN_AUTH_ERROR),e}},async signupWithPasskey(){let e,n;if(!l)throw new Bd;if(!(t.authFlow instanceof D8))throw new jd("Must initialize Passkey flow first.");if("passkey"!==te.current){let e=new jd("Must init login with Passkey flow first.");throw I({status:"error",error:e}),e}let r=await hte();try{te.current="passkey",I({status:"awaiting-passkey"}),({user:e,isNewUser:n}=await t.authenticate())}catch(e){throw I({status:"error",error:e}),zf(Q,"login","onError",e.privyErrorCode||Ld.UNKNOWN_AUTH_ERROR),e}p(e),b(n||!1),h(!0),I({status:"done"});let i=e?.linkedAccounts.find(({type:e})=>"passkey"===e)||null;return{user:e,isNewUser:n||!1,wasAlreadyAuthenticated:!!r,loginAccount:i}},async initLoginWithPasskey({captchaToken:e,withPrivyUi:n}){let r=new D8({captchaToken:e,setPasskeyAuthState:I,hints:void 0});t.startAuthFlow(r),ne.current="login";try{te.current="passkey",I({status:"generating-challenge"}),await r.initAuthenticationFlow(n),I({status:"awaiting-passkey"})}catch(e){throw I({status:"error",error:e}),zf(Q,"login","onError",e.privyErrorCode||Ld.UNKNOWN_AUTH_ERROR),e}},async loginWithPasskey(e){let n,r;if(!l)throw new Bd;if(!(t.authFlow instanceof D8))throw new jd("Must initialize Passkey flow first.");if(e?.credentialIds&&(t.authFlow.meta.allowedCredentialsIds=e.credentialIds),"passkey"!==te.current){let e=new jd("Must init login with Passkey flow first.");throw I({status:"error",error:e}),e}let i=await hte();try{te.current="passkey",I({status:"awaiting-passkey"}),({user:n,isNewUser:r}=await t.authenticate())}catch(e){throw I({status:"error",error:e}),zf(Q,"login","onError",e.privyErrorCode||Ld.UNKNOWN_AUTH_ERROR),e}p(n),b(r||!1),h(!0),I({status:"done"});let s=n?.linkedAccounts.find(({type:e})=>"passkey"===e)||null;return{user:n,isNewUser:r||!1,wasAlreadyAuthenticated:!!i,loginAccount:s}},async initLinkWithPasskey(e){let n=new D8({captchaToken:e,hints:i.passkeys.registration?.hints});t.startAuthFlow(n),ne.current="link",te.current="passkey",I({status:"generating-challenge"});try{await n.initLinkFlow(),I({status:"awaiting-passkey"})}catch(e){throw zf(Q,"linkAccount","onError",e.privyErrorCode||Ld.UNKNOWN_AUTH_ERROR,{linkMethod:"passkey"}),I({status:"error",error:e}),e}},async linkWithPasskey(){let e;if(!l)throw new Bd;if(!(t.authFlow instanceof D8))throw new jd("Must initialize Passkey flow first.");if("passkey"!==te.current)throw new jd("Must init login with Passkey flow first.");try{te.current="passkey",({user:e}=await t.link())}catch(e){throw zf(Q,"linkAccount","onError",e.privyErrorCode||Ld.FAILED_TO_LINK_ACCOUNT,{linkMethod:"passkey"}),e}return p(e||f||null),I({status:"done"}),e},async initLoginWithHeadlessOAuth(e,n,r){if(!HW())throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");if("google"===e&&E0(window.navigator.userAgent))throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");let s=new R8({provider:e,withPrivyUi:!1,disableSignup:r??!1,customOAuthRedirectUrl:i.customOAuthRedirectUrl});n&&s.addCaptchaToken(n),$({status:"loading"});let o=await t.startAuthFlow(s).getAuthorizationUrl();if(o?.url)if("chrome-extension:"===window.location.protocol&&j8())try{let{privyOAuthCode:e,privyOAuthState:t}=await N8(o.url);s.meta.stateCode=t,s.meta.authorizationCode=e,await this.loginWithHeadlessOAuth(s.meta)}catch(e){throw $({status:"error",error:e}),e}else window.location.assign(o.url)},async loginWithHeadlessOAuth(e){let n,r,s;k(!0),$({status:"loading"}),t.startAuthFlow(new R8({...e,customOAuthRedirectUrl:i.customOAuthRedirectUrl}));let o=VW.get(mf),a=e.stateCode;if(o!==a)throw t.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:e.provider,storedStateCode:o??"",returnedStateCode:a??""}}),k(!1),new jd("Unexpected auth flow. This may be a phishing attempt.",void 0,Ld.OAUTH_UNEXPECTED);if(null!==await t.getAccessToken())try{({user:n,oAuthTokens:s}=await t.link()),te.current=e.provider;let r=be(n);n&&r&&zf(Q,"linkAccount","onSuccess",{user:n,linkMethod:te.current,linkedAccount:r})}catch(n){throw k(!1),zf(Q,"linkAccount","onError",n.privyErrorCode||Ld.FAILED_TO_LINK_ACCOUNT,{linkMethod:e.provider}),n}else try{({user:n,isNewUser:r,oAuthTokens:s}=await t.authenticate()),te.current=e.provider;let i=be(n);n&&i&&void 0!==r&&zf(Q,"login","onComplete",{user:n,isNewUser:r,wasAlreadyAuthenticated:!1,loginMethod:te.current,loginAccount:i})}catch(e){throw k(!1),$({status:"error",error:e}),zf(Q,"login","onError",e.privyErrorCode||Ld.UNKNOWN_AUTH_ERROR),e}return p(n),b(r||!1),h(!0),k(!1),$({status:"done"}),s&&n&&zf(Q,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:s,user:n}),n??void 0},initLoginWithEmail:async({email:e,captchaToken:n,disableSignup:r,withPrivyUi:i})=>{let s=new I8({email:e,captchaToken:n,disableSignup:r});t.startAuthFlow(s);try{te.current="email",T({status:"sending-code"});let e=await s.sendCodeEmail({withPrivyUi:i});if(e?.ssoRedirectUrl)return void(window.location.href=e.ssoRedirectUrl);T({status:"awaiting-code-input"})}catch(e){throw T({status:"error",error:e}),"login"===ne.current?zf(Q,"login","onError",e.privyErrorCode||Ld.UNKNOWN_AUTH_ERROR):"link"===ne.current&&zf(Q,"linkAccount","onError",e.privyErrorCode||Ld.FAILED_TO_LINK_ACCOUNT,{linkMethod:"email"}),e}},initUpdateEmail:async({oldAddress:e,newAddress:n,captchaToken:r})=>{let i=new A8(e,n,r);t.startAuthFlow(i);try{await i.sendCodeEmail({withPrivyUi:!0})}catch(e){throw zf(Q,"update","onError",e.privyErrorCode||Ld.UNKNOWN_AUTH_ERROR,{linkMethod:te.current}),e}},initUpdatePhone:async(e,n,r)=>{let i=new z8(e,n,r);t.startAuthFlow(i);try{await i.sendSmsCode({withPrivyUi:!0})}catch(e){zf(Q,"update","onError",e.privyErrorCode||Ld.UNKNOWN_AUTH_ERROR,{linkMethod:te.current})}},initLoginWithSms:async({phoneNumber:e,captchaToken:n,disableSignup:r,withPrivyUi:i})=>{O({status:"sending-code"});let s=new F8({phoneNumber:e,captchaToken:n,disableSignup:r});t.startAuthFlow(s);try{te.current="sms",await s.sendSmsCode({withPrivyUi:i}),O({status:"awaiting-code-input"})}catch(e){throw O({status:"error",error:e}),"login"===ne.current?zf(Q,"login","onError",e.privyErrorCode||Ld.UNKNOWN_AUTH_ERROR):"link"===ne.current&&zf(Q,"linkAccount","onError",e.privyErrorCode||Ld.FAILED_TO_LINK_ACCOUNT,{linkMethod:"sms"}),e}},resendEmailCode:async()=>{await(t.authFlow?.sendCodeEmail({withPrivyUi:!0}))},resendSmsCode:async()=>{await(t.authFlow?.sendSmsCode({withPrivyUi:!0}))},loginWithCode:async e=>{let n,r;function i(e){t.authFlow instanceof I8?T(e):t.authFlow instanceof F8&&O(e)}if(i({status:"submitting-code"}),!l){let e=new Bd;throw i({status:"error",error:e}),e}if(t.authFlow instanceof I8)t.authFlow.meta.emailCode=e.trim();else{if(!(t.authFlow instanceof F8)){let e=new jd("Must initialize a passwordless code flow first");throw i({status:"error",error:e}),e}t.authFlow.meta.smsCode=e.trim()}let s=await hte();if("link"===ne.current)try{({user:n}=await t.link())}catch(e){throw i({status:"error",error:e}),zf(Q,"linkAccount","onError",e.privyErrorCode||Ld.FAILED_TO_LINK_ACCOUNT,{linkMethod:te.current}),e}else if("update"===ne.current)try{({user:n}=await t.link())}catch(e){throw i({status:"error",error:e}),zf(Q,"update","onError",e.privyErrorCode||Ld.FAILED_TO_UPDATE_ACCOUNT,{linkMethod:te.current}),e}else try{({user:n,isNewUser:r}=await t.authenticate())}catch(e){throw i({status:"error",error:e}),zf(Q,"login","onError",e.privyErrorCode||Ld.UNKNOWN_AUTH_ERROR),e}let o=n||f;p(o||null),b(r||!1),h(!0),i({status:"done"});let a=null;return t.authFlow instanceof I8?a=o?.linkedAccounts.find(({type:e})=>"email"===e)||null:t.authFlow instanceof F8&&(a=o?.linkedAccounts.find(({type:e})=>"phone"===e)||null),{user:o,isNewUser:r||!1,wasAlreadyAuthenticated:!!s,linkedAccount:a}},generateSiweMessage:async({address:e,chainId:n,captchaToken:r})=>{ne.current=d?"link":"login",te.current="siwe",N({status:"generating-message"});let i=await t.generateSiweNonce({address:e,captchaToken:r});return N({status:"awaiting-signature"}),bq({address:e,chainId:n.replace("eip155:",""),nonce:i})},generateSiweMessageForSmartWallet:async({address:e,chainId:n})=>{let r=await t.generateSiweNonce({address:e});return bq({address:e,chainId:n.replace("eip155:",""),nonce:r})},linkSmartWallet:async({message:e,signature:n,smartWalletType:r,smartWalletVersion:i})=>{let s;s=await t.linkSmartWallet({message:e,signature:n,smartWalletType:r,smartWalletVersion:i}),p((s=await _e.refreshSessionAndUser()??s)||f||null)},loginWithSiwe:async({message:e,signature:n,captchaToken:r,disableSignup:i,walletClientType:s,connectorType:o})=>{let a,c=null;try{if(f)throw Error("User already authenticated");let l=new vq(t,void 0,r,i,{message:e,signature:n,walletClientType:s,connectorType:o});t.startAuthFlow(l),te.current="siwe",ne.current="login",N({status:"submitting-signature"});let u=await t.authenticate();if(({user:c,isNewUser:a}=u),!c)throw Error("Authentication failed - no user returned")}catch(e){throw zf(Q,"login","onError",e.privyErrorCode||Ld.UNKNOWN_AUTH_ERROR),N({status:"error",error:e}),e}return p(c),b(a||!1),h(!0),N({status:"done"}),ne.current=null,te.current=null,{user:c,isNewUser:a||!1}},linkWithSiwe:async({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s})=>{let o;pe("siwe");let a=null;try{N({status:"submitting-signature"}),o=await t.linkWithSiwe({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}),o=await _e.refreshSessionAndUser()??o,N({status:"done"}),(a=be(o)||null)&&zf(Q,"linkAccount","onSuccess",{user:o,linkMethod:"siwe",linkedAccount:a})}catch(e){throw zf(Q,"linkAccount","onError",e.privyErrorCode||Ld.FAILED_TO_LINK_ACCOUNT,{linkMethod:"siwe"}),ne.current=null,te.current=null,N({status:"error",error:e}),e}let c=o||f;return p(c||null),ne.current=null,te.current=null,{user:c,linkedAccount:a}},refreshSessionAndUser:async()=>{let e=await t.getAuthenticatedUser();return h(!!e),p(e),e},walletProxy:B,createAnalyticsEvent:({eventName:e,payload:n,timestamp:r})=>t.createAnalyticsEvent({eventName:e,payload:n,timestamp:r}),acceptTerms:async()=>{let e=await t.acceptTerms();return p(e),e},getUsdTokenPrice:e=>t.getUsdTokenPrice(e),getUsdPriceForSol:()=>t.getUsdPriceForSol(),getSplTokenMetadata:e=>t.getSplTokenMetadata(e),recoverEmbeddedWallet:async e=>new Promise(async(n,r)=>{if(!f)return void n(!0);let i=e?.address?tH(f,e.address):rH(f)||Qq(f).at(0)||Xq(f).at(0);if(!i||kH(i))return void n(!0);let s=await hte();if(!s||!B||!i)return void r(Error("Must have valid access token and Privy wallet to recover wallet"));let{entropyId:o,entropyIdVerifier:a}=oH(f,i);try{await B.connect({accessToken:s,entropyId:o,entropyIdVerifier:a}),n(!0)}catch(e){if(UG(e)&&"privy"===i.recoveryMethod){let e;t.createAnalyticsEvent({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:i.address}});try{e=await B.recover({entropyId:o,entropyIdVerifier:a,accessToken:s})}catch(e){return void r(e)}e.entropyId||r(Error("Unable to recover wallet")),t.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:i.address}}),n(!0)}else UG(e)&&"privy"!==i.recoveryMethod&&"privy-v2"!==i.recoveryMethod?(z({recoverWallet:{entropyId:o,entropyIdVerifier:a,onFailure:r,onSuccess:()=>n(!0)},recoveryOAuthStatus:{provider:i.recoveryMethod,action:"recover",shouldCreateEth:!1,shouldCreateSol:!1}}),se(v3(i.recoveryMethod))):r(e)}}),setReadyToTrue:e=>{u(!0),W?.(e)},updateWallets:()=>me(),fundWallet:async(e,t)=>{z({funding:F4({address:e,appConfig:i,fundWalletConfig:t,methodScreen:z1})}),se(z1)},openModal:se,requestFarcasterSignerStatus:async e=>{let n=await hte(),r=f?.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType);if(!n)throw Error("Must have valid access token to connect with Farcaster");if(!B||!r)throw Error("Must have an embedded wallet to use Farcaster signers");if(!f?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");let i=await t.requestFarcasterSignerStatus(e);return"approved"===i.status&&p(await t.getAuthenticatedUser()||f||null),i},connectCoinbaseSmartWallet:async()=>{i.externalWallets.coinbaseWallet.config.preference={...i.externalWallets.coinbaseWallet.config.preference,options:"smartWalletOnly"};let e=t.connectors?.findWalletConnector("coinbase_wallet","coinbase_smart_wallet")||t.connectors?.findWalletConnector("coinbase_wallet","coinbase_wallet");if(e)return e.updateConnectionPreference("smartWalletOnly"),ue(e);await le("coinbase_wallet","coinbase_smart_wallet")},connectBaseAccount:async()=>{let e=t.connectors?.findWalletConnector("base_account","base_account");if(e)return ue(e);await le("base_account","base_account")},initiateAccountTransfer:async({nonce:e,account:n,accountType:r,externalWalletMetadata:i,telegramAuthResult:s,telegramWebAppData:o,farcasterEmbeddedAddress:a,oAuthUserInfo:c})=>{let l=await t.sendAccountTransferRequest({nonce:e,account:n,accountType:r,externalWalletMetadata:i,telegramAuthResult:s,telegramWebAppData:o,farcasterEmbeddedAddress:a,oAuthUserInfo:c});return p(l),l},inProgressAuthFlowRef:ne,inProgressLoginOrLinkMethodRef:te};dte=_e.recoverEmbeddedWallet,_e.recoverEmbeddedWallet;let Ce=(0,ei.useMemo)(()=>({wallets:g,ready:V&&X}),[g,V,X]),Se=t.authFlow instanceof Fq,Ie=!i.headless&&i.captchaEnabled&&!d&&(l||Se);return(0,ri.jsx)(ste.Provider,{value:!0,children:(0,ri.jsx)(XH.Provider,{value:ke,children:(0,ri.jsx)(Uf.Provider,{value:Q,children:(0,ri.jsx)(jG.Provider,{value:Ce,children:(0,ri.jsx)(Uq,{...i,children:(0,ri.jsxs)(Yd.Provider,{value:_e,children:[(0,ri.jsx)(oY,{children:(0,ri.jsxs)(JH,{data:F,setModalData:z,setInitialScreen:x,initialScreen:v,authenticated:d,open:s,children:[e.children,(0,ri.jsx)(ite,{customAuth:i.customAuth}),Ie&&(0,ri.jsx)(_9,{delayedExecution:!1}),(0,ri.jsx)(k7,{}),(0,ri.jsx)(ree,{disabled:i.embeddedWallets.disableAutomaticMigration}),(0,ri.jsx)(c7,{palette:i.appearance.palette||{}}),!i.render.standalone&&(0,ri.jsx)(b7,{open:s})]})}),(0,ri.jsx)(j7,{appId:e.appId,appClientId:e.clientId,clientAnalyticsId:t.clientAnalyticsId,origin:t.apiUrl,mfaMethods:f?.mfaMethods,mfaPromise:Y,mfaSubmitPromise:J,onLoad:U,onLoadFailed:()=>null}),i.loginConfig.telegramAuthConfiguration&&(0,ri.jsx)(lV,{$if:!0,children:(0,ri.jsx)(E7,{scriptHost:e.apiUrl||tf,botUsername:i.loginConfig.telegramAuthConfiguration.botName})})]})})})})})})};function vte({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const xte=ei.forwardRef(vte);function Ete({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const kte=ei.forwardRef(Ete);function _te({title:e,titleId:t,...n},r){return ei.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?ei.createElement("title",{id:t},e):null,ei.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Cte=ei.forwardRef(_te),Ste=()=>{let{walletProxy:e,client:t}=Jd();return(0,ei.useMemo)(()=>({signWithUserSigner:async({message:n,targetAppId:r})=>{if(!e)throw Error("Wallet proxy not initialized");let i=await t.getAccessToken();if(!i)throw Error("User must be authenticated");let{signature:s}=await e.signWithUserSigner({accessToken:i,message:n,targetAppId:r});return{signature:s}}}),[e,t])};var Ite=-32002,Ate=2800008,Tte=5663001,Pte=8078012,Ote=81e5,jte=8190002,Nte=8190003,Rte=8190004;function $te(e){return Array.isArray(e)?"%5B"+e.map($te).join("%2C%20")+"%5D":"bigint"==typeof e?`${e}n`:encodeURIComponent(String(null!=e&&null===Object.getPrototypeOf(e)?{...e}:e))}function Mte([e,t]){return`${e}=${$te(t)}`}function Lte(e,t){return!!(e instanceof Error&&"SolanaError"===e.name)&&(void 0===t||e.context.__code===t)}var Bte=class extends Error{cause=this.cause;context;constructor(...[e,t]){let n,r;t&&Object.entries(Object.getOwnPropertyDescriptors(t)).forEach(([e,t])=>{"cause"===e?r={cause:t.value}:(void 0===n&&(n={}),Object.defineProperty(n,e,t))}),super(function(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${function(e){const t=Object.entries(e).map(Mte).join("&");return btoa(t)}(t)}'`),`${n}\``}}(e,n),r),this.context=void 0===n?{}:n,this.context.__code=e,this.name="SolanaError"}};function Ute(...e){"captureStackTrace"in Error&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(...e)}function Dte({errorCodeBaseOffset:e,getErrorContext:t,orderedErrorNames:n,rpcEnumError:r},i){let s,o;"string"==typeof r?s=r:(s=Object.keys(r)[0],o=r[s]);const a=e+n.indexOf(s),c=t(a,s,o),l=new Bte(a,c);return Ute(l,i),l}var Fte=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function zte(e,t){const n=Number(e);return Dte({errorCodeBaseOffset:4615001,getErrorContext:(e,t,r)=>4615e3===e?{errorName:t,index:n,...void 0!==r?{instructionErrorContext:r}:null}:4615026===e?{code:Number(r),index:n}:4615045===e?{encodedData:r,index:n}:{index:n},orderedErrorNames:Fte,rpcEnumError:t},zte)}var Wte=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function qte(e){return"object"==typeof e&&"InstructionError"in e?zte(...e.InstructionError):Dte({errorCodeBaseOffset:7050001,getErrorContext:(e,t,n)=>705e4===e?{errorName:t,...void 0!==n?{transactionErrorContext:n}:null}:7050030===e?{index:Number(n)}:7050031===e||7050035===e?{accountIndex:Number(n.account_index)}:void 0,orderedErrorNames:Wte,rpcEnumError:e},qte)}function Hte(e){let t;if("object"==typeof(n=e)&&null!==n&&"code"in n&&"message"in n&&("number"==typeof n.code||"bigint"==typeof n.code)&&"string"==typeof n.message){const{code:n,data:r,message:i}=e,s=Number(n);if(s===Ite){const{err:e,...n}=r,i=e?{cause:qte(e)}:null;t=new Bte(Ite,{...n,...i})}else{let e;switch(s){case-32603:case-32602:case-32600:case-32601:case-32700:case-32012:case-32001:case-32004:case-32014:case-32010:case-32009:case-32007:case-32006:case-32015:e={__serverMessage:i};break;default:"object"!=typeof r||Array.isArray(r)||(e=r)}t=new Bte(s,e)}}else{const n="object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message?e.message:"Malformed JSON-RPC error with no message attribute";t=new Bte(10,{error:e,message:n})}var n;return Ute(t,Hte),t}function Vte(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function Kte(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(Vte(t,e));return e.write(t,n,0),n}})}function Gte(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function Zte(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}function Yte(e,t,n,r=0){const i=n.length-r;if(i<t)throw new Bte(8078001,{bytesLength:i,codecDescription:e,expected:t})}function Jte(e,t,n){if(t<0||t>n)throw new Bte(8078014,{bytesLength:n,codecDescription:e,offset:t})}function Qte(e,t){const n=(n,r,i)=>{const s=e.encode(n);return i=t.write(s.length,r,i),r.set(s,i),i+s.length};if(Zte(t)&&Zte(e))return Kte({...e,fixedSize:t.fixedSize+e.fixedSize,write:n});const r=Zte(t)?t.fixedSize:t.maxSize??null,i=Zte(e)?e.fixedSize:e.maxSize??null,s=null!==r&&null!==i?r+i:null;return Kte({...e,...null!==s?{maxSize:s}:{},getSizeFromValue:n=>{const r=Vte(n,e);return Vte(r,t)+r},write:n})}function Xte(e,t){const n=(n,r)=>{const[i,s]=t.read(n,r),o=Number(i);return((r=s)>0||n.length>o)&&(n=n.slice(r,r+o)),Yte("addDecoderSizePrefix",o,n),[e.decode(n),r+o]};if(Zte(t)&&Zte(e))return Gte({...e,fixedSize:t.fixedSize+e.fixedSize,read:n});const r=Zte(t)?t.fixedSize:t.maxSize??null,i=Zte(e)?e.fixedSize:e.maxSize??null,s=null!==r&&null!==i?r+i:null;return Gte({...e,...null!==s?{maxSize:s}:{},read:n})}function ene(e,t){return Kte({fixedSize:t,write:(n,r,i)=>{const s=e.encode(n),o=s.length>t?s.slice(0,t):s;return r.set(o,i),i+t}})}function tne(e,t){return Gte({fixedSize:t,read:(n,r)=>{Yte("fixCodecSize",t,n,r),(r>0||n.length>t)&&(n=n.slice(r,r+t)),Zte(e)&&(n=((e,t)=>function(e,t){if(e.length>=t)return e;const n=new Uint8Array(t).fill(0);return n.set(e),n}(e.length<=t?e:e.slice(0,t),t))(n,e.fixedSize));const[i]=e.read(n,0);return[i,r+t]}})}function nne(e,t){return function(e,t){return Gte({...e,read:(n,r)=>{const i=e=>{return t=e,0===(r=n.length)?0:(t%r+r)%r;var t,r},s=t.preOffset?t.preOffset({bytes:n,preOffset:r,wrapBytes:i}):r;Jte("offsetDecoder",s,n.length);const[o,a]=e.read(n,s),c=t.postOffset?t.postOffset({bytes:n,newPreOffset:s,postOffset:a,preOffset:r,wrapBytes:i}):a;return Jte("offsetDecoder",c,n.length),[o,c]}})}(function(e,t){if(Zte(e)){const n=t(e.fixedSize);if(n<0)throw new Bte(8078013,{bytesLength:n,codecDescription:"resizeDecoder"});return Gte({...e,fixedSize:n})}return e}(e,e=>e+t),{postOffset:({postOffset:e})=>e+t})}function rne(e,t){return Kte({...(n=e,Zte(n)?e:{...e,getSizeFromValue:n=>e.getSizeFromValue(t(n))}),write:(n,r,i)=>e.write(t(n),r,i)});var n}function ine(e,t){return Gte({...e,read:(n,r)=>{const[i,s]=e.read(n,r);return[t(i,n,r),s]}})}var sne=e=>Kte({getSizeFromValue:t=>{const[n,r]=one(t,e[0]);if(!r)return t.length;const i=ane(r,e);return n.length+Math.ceil(i.toString(16).length/2)},write(t,n,r){if(function(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new Bte(Pte,{alphabet:e,base:e.length,value:n})}(e,t),""===t)return r;const[i,s]=one(t,e[0]);if(!s)return n.set(new Uint8Array(i.length).fill(0),r),r+i.length;let o=ane(s,e);const a=[];for(;o>0n;)a.unshift(Number(o%256n)),o/=256n;const c=[...Array(i.length).fill(0),...a];return n.set(c,r),r+c.length}});function one(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function ane(e,t){const n=BigInt(t.length);let r=0n;for(const i of e)r*=n,r+=BigInt(t.indexOf(i));return r}var cne,lne,une="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",dne=()=>sne(une),hne=()=>{return e=une,Gte({read(t,n){const r=0===n?t:t.slice(n);if(0===r.length)return["",0];let i=r.findIndex(e=>0!==e);i=-1===i?r.length:i;const s=e[0].repeat(i);if(i===r.length)return[s,t.length];const o=function(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join("")}(r.slice(i).reduce((e,t)=>256n*e+BigInt(t),0n),e);return[s+o,t.length]}});var e},fne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pne=()=>Gte({read(e,t=0){const n=e.slice(t);return[btoa(String.fromCharCode(...n)),e.length]}});function gne(){return cne||(cne=dne()),cne}function mne(e){if(e.length<32||e.length>44)throw new Bte(2800001,{actualLength:e.length});const t=gne().encode(e).byteLength;if(32!==t)throw new Bte(28e5,{actualLength:t})}function yne(e){return mne(e),e}function wne(){return rne(ene(gne(),32),e=>yne(e))}function bne(){return tne((lne||(lne=hne()),lne),32)}function vne(){return function(e,t){if(Zte(e)!==Zte(t))throw new Bte(8078004);if(Zte(e)&&Zte(t)&&e.fixedSize!==t.fixedSize)throw new Bte(8078005,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!Zte(e)&&!Zte(t)&&e.maxSize!==t.maxSize)throw new Bte(8078006,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}(wne(),bne())}function xne(){return new Intl.Collator("en",{caseFirst:"lower",ignorePunctuation:!1,localeMatcher:"best fit",numeric:!1,sensitivity:"variant",usage:"sort"}).compare}globalThis.TextDecoder,globalThis.TextEncoder;var Ene=57896044618658097711785492504343953926634992332820282019728792003956564819949n,kne=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function _ne(e){const t=e%Ene;return t>=0n?t:Ene+t}function Cne(e,t){let n=e;for(;t-- >0n;)n*=n,n%=Ene;return n}function Sne(e){if(32!==e.byteLength)return!1;const t=function(e){const t=e.reduce((e,t,n)=>`${function(e){const t=e.toString(16);return 1===t.length?`0${t}`:t}(31===n?-129&t:t)}${e}`,"");return BigInt(`0x${t}`)}(e);return function(e,t){const n=_ne(e*e),r=function(e,t){const n=_ne(t*t*t),r=function(e){const t=e*e%Ene*e%Ene,n=Cne(t,2n)*t%Ene,r=Cne(n,1n)*e%Ene,i=Cne(r,5n)*r%Ene,s=Cne(i,10n)*i%Ene,o=Cne(s,20n)*s%Ene,a=Cne(o,40n)*o%Ene,c=Cne(a,80n)*a%Ene,l=Cne(c,80n)*a%Ene,u=Cne(l,10n)*i%Ene;return Cne(u,2n)*e%Ene}(e*_ne(n*n*t));let i=_ne(e*n*r);const s=_ne(t*i*i),o=i,a=_ne(i*kne),c=s===e,l=s===_ne(-e),u=s===_ne(-e*kne);return c&&(i=o),(l||u)&&(i=a),1n==(1n&_ne(i))&&(i=_ne(-i)),c||l?i:null}(_ne(n-1n),_ne(37095705934669439343138083508754565189542113879843219016388785533085940283555n*n+1n));return!(null===r||0n===r&&128&t)}(t,e[31])}var Ine=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function Ane({programAddress:e,seeds:t}){if(function(){if(function(){if(!globalThis.isSecureContext)throw new Bte(361e4)}(),void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.subtle?.digest)throw new Bte(3610001)}(),t.length>16)throw new Bte(2800006,{actual:t.length,maxSeeds:16});let n;const r=t.reduce((e,t,r)=>{const i="string"==typeof t?(n||=new TextEncoder).encode(t):t;if(i.byteLength>32)throw new Bte(2800007,{actual:i.byteLength,index:r,maxSeedLength:32});return e.push(...i),e},[]),i=vne(),s=i.encode(e),o=await crypto.subtle.digest("SHA-256",new Uint8Array([...r,...s,...Ine])),a=new Uint8Array(o);if(Sne(a))throw new Bte(Ate);return i.decode(a)}function Tne(e,t,n,r){if(r<t||r>n)throw new Bte(8078011,{codecDescription:e,max:n,min:t,value:r})}function Pne(e){return 1!==e?.endian}function One(e){return Kte({fixedSize:e.size,write(t,n,r){e.range&&Tne(e.name,e.range[0],e.range[1],t);const i=new ArrayBuffer(e.size);return e.set(new DataView(i),t,Pne(e.config)),n.set(new Uint8Array(i),r),r+e.size}})}function jne(e){return Gte({fixedSize:e.size,read(t,n=0){!function(e,t,n=0){if(t.length-n<=0)throw new Bte(8078e3,{codecDescription:e})}(e.name,t,n),Yte(e.name,e.size,t,n);const r=new DataView(function(e,t,n){const r=e.byteOffset+(t??0),i=n??e.byteLength;return e.buffer.slice(r,r+i)}(t,n,e.size));return[e.get(r,Pne(e.config)),n+e.size]}})}var Nne=()=>Kte({getSizeFromValue:e=>e<=127?1:e<=16383?2:3,maxSize:3,write:(e,t,n)=>{Tne("shortU16",0,65535,e);const r=[0];for(let t=0;;t+=1){const n=Number(e)>>7*t;if(0===n)break;const i=127&n;r[t]=i,t>0&&(r[t-1]|=128)}return t.set(r,n),n+r.length}}),Rne=()=>Gte({maxSize:3,read:(e,t)=>{let n=0,r=0;for(;++r;){const i=r-1,s=e[t+i];if(n|=(127&s)<<7*i,!(128&s))break}return[n,t+r]}}),$ne=(e={})=>One({config:e,name:"u32",range:[0,Number("0xffffffff")],set:(e,t,n)=>e.setUint32(0,Number(t),n),size:4}),Mne=(e={})=>One({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,n)=>e.setBigUint64(0,BigInt(t),n),size:8}),Lne=()=>One({name:"u8",range:[0,Number("0xff")],set:(e,t)=>e.setUint8(0,Number(t)),size:1}),Bne=()=>jne({get:e=>e.getUint8(0),name:"u8",size:1});function Une(e){return e.reduce((e,t)=>null===e||null===t?null:e+t,0)}function Dne(e){return Zte(e)?e.fixedSize:null}function Fne(e){return Zte(e)?e.fixedSize:e.maxSize??null}function zne(e,t={}){const n=t.size??$ne(),r=qne(n,Dne(e)),i=qne(n,Fne(e))??void 0;return Kte({...null!==r?{fixedSize:r}:{getSizeFromValue:t=>("object"==typeof n?Vte(t.length,n):0)+[...t].reduce((t,n)=>t+Vte(n,e),0),maxSize:i},write:(t,r,i)=>("number"==typeof n&&function(e,t,n){if(t!==n)throw new Bte(8078007,{actual:n,codecDescription:e,expected:t})}("array",n,t.length),"object"==typeof n&&(i=n.write(t.length,r,i)),t.forEach(t=>{i=e.write(t,r,i)}),i)})}function Wne(e,t={}){const n=t.size??((e={})=>jne({config:e,get:(e,t)=>e.getUint32(0,t),name:"u32",size:4}))(),r=Dne(e),i=qne(n,r),s=qne(n,Fne(e))??void 0;return Gte({...null!==i?{fixedSize:i}:{maxSize:s},read:(t,r)=>{const i=[];if("object"==typeof n&&0===t.slice(r).length)return[i,r];if("remainder"===n){for(;r<t.length;){const[n,s]=e.read(t,r);r=s,i.push(n)}return[i,r]}const[s,o]="number"==typeof n?[n,r]:n.read(t,r);r=o;for(let n=0;n<s;n+=1){const[n,s]=e.read(t,r);r=s,i.push(n)}return[i,r]}})}function qne(e,t){return"number"!=typeof e?null:0===e?0:null===t?null:t*e}function Hne(){return Kte({getSizeFromValue:e=>e.length,write:(e,t,n)=>(t.set(e,n),n+e.length)})}function Vne(){return Gte({read:(e,t)=>{const n=e.slice(t);return[n,t+n.length]}})}function Kne(e,t){const n=function(e){if(0===e.length)return 0;if(!Zte(e[0]))return null;const t=e[0].fixedSize;return e.every(e=>Zte(e)&&e.fixedSize===t)?t:null}(e),r=(n,r,i)=>{const s=t(n);return Gne(e,s),e[s].write(n,r,i)};if(null!==n)return Kte({fixedSize:n,write:r});const i=function(e){return e.map(e=>Fne(e)).reduce((e,t)=>null===e||null===t?null:Math.max(e,t),0)}(e);return Kte({...null!==i?{maxSize:i}:{},getSizeFromValue:n=>{const r=t(n);return Gne(e,r),Vte(n,e[r])},write:r})}function Gne(e,t){if(void 0===e[t])throw new Bte(8078017,{maxRange:e.length-1,minRange:0,variant:t})}function Zne(e){const t=e.map(([,e])=>e),n=Une(t.map(Dne)),r=Une(t.map(Fne))??void 0;return Kte({...null===n?{getSizeFromValue:t=>e.map(([e,n])=>Vte(t[e],n)).reduce((e,t)=>e+t,0),maxSize:r}:{fixedSize:n},write:(t,n,r)=>(e.forEach(([e,i])=>{r=i.write(t[e],n,r)}),r)})}function Yne(e){const t=e.map(([,e])=>e),n=Une(t.map(Dne)),r=Une(t.map(Fne))??void 0;return Gte({...null===n?{maxSize:r}:{fixedSize:n},read:(t,n)=>{const r={};return e.forEach(([e,i])=>{const[s,o]=i.read(t,n);n=o,r[e]=s}),[r,n]}})}var Jne=(e=>(e[e.WRITABLE_SIGNER=3]="WRITABLE_SIGNER",e[e.READONLY_SIGNER=2]="READONLY_SIGNER",e[e.WRITABLE=1]="WRITABLE",e[e.READONLY=0]="READONLY",e))(Jne||{});function Qne(e){return e>=2}function Xne(e){return!!(1&e)}function ere(e,t){return e|t}function tre(e){return 2|e}function nre(e,...t){return t.reduce((e,t)=>t(e),e)}function rre(e){return"lifetimeConstraint"in e&&"string"==typeof e.lifetimeConstraint.blockhash&&"bigint"==typeof e.lifetimeConstraint.lastValidBlockHeight&&function(e){if(e.length<32||e.length>44)return!1;const t=gne();try{return 32===t.encode(e).byteLength}catch{return!1}}(e.lifetimeConstraint.blockhash)}function ire(e,t){return"lifetimeConstraint"in t&&t.lifetimeConstraint&&"blockhash"in t.lifetimeConstraint&&t.lifetimeConstraint.blockhash===e.blockhash&&t.lifetimeConstraint.lastValidBlockHeight===e.lastValidBlockHeight?t:Object.freeze({...t,lifetimeConstraint:Object.freeze(e)})}function sre(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function ore(e,t){const n=BigInt(t.length);let r=0n;for(const i of e)r*=n,r+=BigInt(t.indexOf(i));return r}var are,cre,lre,ure,dre,hre,fre="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";function pre(){if(!are){const e=zne(Lne(),{size:Nne()});are=Zne([["lookupTableAddress",wne()],["writableIndexes",e],["readonlyIndexes",e]])}return are}function gre(){if(!cre){const e=Wne(Bne(),{size:Rne()});cre=Yne([["lookupTableAddress",bne()],["writableIndexes",e],["readonlyIndexes",e]])}return cre}function mre(){return lre||(lre=Lne()),lre}function yre(){return ure||(ure=Bne()),ure}function wre(){return Gte({maxSize:1,read:(e,t)=>{const n=e[t];return 128&n?[128^n,t+1]:["legacy",t]}})}function bre(){return Zne(xre())}function vre(){return rne(Zne([...xre(),["addressTableLookups",zne(pre(),{size:Nne()})]]),e=>"legacy"===e.version?e:{...e,addressTableLookups:e.addressTableLookups??[]})}function xre(){const e=Kne([(n=new Uint8Array(32),Kte({fixedSize:n.length,write:(e,t,r)=>(t.set(n,r),r+n.length)})),ene((t=fre,Kte({getSizeFromValue:e=>{const[n,r]=sre(e,t[0]);if(!r)return e.length;const i=ore(r,t);return n.length+Math.ceil(i.toString(16).length/2)},write(e,n,r){if(function(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new Bte(Pte,{alphabet:e,base:e.length,value:n})}(t,e),""===e)return r;const[i,s]=sre(e,t[0]);if(!s)return n.set(new Uint8Array(i.length).fill(0),r),r+i.length;let o=ore(s,t);const a=[];for(;o>0n;)a.unshift(Number(o%256n)),o/=256n;const c=[...Array(i.length).fill(0),...a];return n.set(c,r),r+c.length}})),32)],e=>void 0===e?0:1);var t,n;return[["version",Kte({getSizeFromValue:e=>"legacy"===e?0:1,maxSize:1,write:(e,t,n)=>{if("legacy"===e)return n;if(e<0||e>127)throw new Bte(5663004,{actualVersion:e});return t.set([128|e],n),n+1}})],["header",Zne([["numSignerAccounts",mre()],["numReadonlySignerAccounts",mre()],["numReadonlyNonSignerAccounts",mre()]])],["staticAccounts",zne(wne(),{size:Nne()})],["lifetimeToken",e],["instructions",zne((dre||(dre=rne(Zne([["programAddressIndex",Lne()],["accountIndices",zne(Lne(),{size:Nne()})],["data",Qte(Hne(),Nne())]]),e=>void 0!==e.accountIndices&&void 0!==e.data?e:{...e,accountIndices:e.accountIndices??[],data:e.data??new Uint8Array(0)})),dre),{size:Nne()})]]}function Ere(){return ine(Yne([["version",wre()],["header",Yne([["numSignerAccounts",yre()],["numReadonlySignerAccounts",yre()],["numReadonlyNonSignerAccounts",yre()]])],["staticAccounts",Wne(bne(),{size:Rne()})],["lifetimeToken",tne((e=fre,Gte({read(t,n){const r=0===n?t:t.slice(n);if(0===r.length)return["",0];let i=r.findIndex(e=>0!==e);i=-1===i?r.length:i;const s=e[0].repeat(i);if(i===r.length)return[s,t.length];const o=function(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join("")}(r.slice(i).reduce((e,t)=>256n*e+BigInt(t),0n),e);return[s+o,t.length]}})),32)],["instructions",Wne((hre||(hre=ine(Yne([["programAddressIndex",Bne()],["accountIndices",Wne(Bne(),{size:Rne()})],["data",Xte(Vne(),Rne())]]),e=>{if(e.accountIndices.length&&e.data.byteLength)return e;const{accountIndices:t,data:n,...r}=e;return{...r,...t.length?{accountIndices:t}:null,...n.byteLength?{data:n}:null}})),hre),{size:Rne()})],["addressTableLookups",Wne(gre(),{size:Rne()})]]),({addressTableLookups:e,...t})=>"legacy"!==t.version&&e?.length?{...t,addressTableLookups:e}:t);var e}function kre(e,t,n){e[t]=n(e[t]??{role:Jne.READONLY})}var _re=Symbol("AddressMapTypeProperty");function Cre(e){const t={};for(const n of e){if(!("lookupTableAddress"in n))continue;const e=t[n.lookupTableAddress]||={readonlyIndexes:[],writableIndexes:[]};n.role===Jne.WRITABLE?e.writableIndexes.push(n.addressIndex):e.readonlyIndexes.push(n.addressIndex)}return Object.keys(t).sort(xne()).map(e=>({lookupTableAddress:e,...t[e]}))}function Sre(e){let t=0,n=0,r=0;for(const i of e){if("lookupTableAddress"in i)break;const e=Xne(i.role);Qne(i.role)?(r++,e||n++):e||t++}return{numReadonlyNonSignerAccounts:t,numReadonlySignerAccounts:n,numSignerAccounts:r}}function Ire(e,t){const n=function(e){const t={};for(const[n,r]of e.entries())t[r.address]=n;return t}(t);return e.map(({accounts:e,data:t,programAddress:r})=>({programAddressIndex:n[r],...e?{accountIndices:e.map(({address:e})=>n[e])}:null,...t?{data:t}:null}))}function Are(e){return"nonce"in e?e.nonce:e.blockhash}function Tre(e){const t=e.findIndex(e=>"lookupTableAddress"in e);return(-1===t?e:e.slice(0,t)).map(({address:e})=>e)}function Pre(e){return Object.freeze({instructions:Object.freeze([]),version:e.version})}var Ore="SysvarRecentB1ockHashes11111111111111111111",jre="11111111111111111111111111111111";function Nre(e,t){return{accounts:[{address:e,role:Jne.WRITABLE},{address:Ore,role:Jne.READONLY},{address:t,role:Jne.READONLY_SIGNER}],data:new Uint8Array([4,0,0,0]),programAddress:jre}}function Rre(e){return e.programAddress===jre&&null!=e.data&&4===(t=e.data).byteLength&&4===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&3===e.accounts?.length&&null!=e.accounts[0].address&&e.accounts[0].role===Jne.WRITABLE&&e.accounts[1].address===Ore&&e.accounts[1].role===Jne.READONLY&&null!=e.accounts[2].address&&Qne(e.accounts[2].role);var t}function $re(e){return"lifetimeConstraint"in e&&"string"==typeof e.lifetimeConstraint.nonce&&null!=e.instructions[0]&&Rre(e.instructions[0])}function Mre(e,t){return function(e,t){return Object.freeze({...t,instructions:Object.freeze([...t.instructions,...e])})}([e],t)}function Lre(e,t){const n=e.staticAccounts[0];if(!n)throw new Bte(5663008);const r=function(e){const{header:t}=e,n=t.numSignerAccounts-t.numReadonlySignerAccounts,r=e.staticAccounts.length-t.numSignerAccounts-t.numReadonlyNonSignerAccounts,i=[];let s=0;for(let t=0;t<n;t++)i.push({address:e.staticAccounts[s],role:Jne.WRITABLE_SIGNER}),s++;for(let n=0;n<t.numReadonlySignerAccounts;n++)i.push({address:e.staticAccounts[s],role:Jne.READONLY_SIGNER}),s++;for(let t=0;t<r;t++)i.push({address:e.staticAccounts[s],role:Jne.WRITABLE}),s++;for(let n=0;n<t.numReadonlyNonSignerAccounts;n++)i.push({address:e.staticAccounts[s],role:Jne.READONLY}),s++;return i}(e),i="addressTableLookups"in e&&void 0!==e.addressTableLookups&&e.addressTableLookups.length>0?function(e,t){const n=e.map(e=>e.lookupTableAddress).filter(e=>void 0===t[e]);if(n.length>0)throw new Bte(5663005,{lookupTableAddresses:n});const r=[],i=[];for(const n of e){const e=t[n.lookupTableAddress],s=n.readonlyIndexes,o=n.writableIndexes,a=Math.max(...s,...o);if(a>=e.length)throw new Bte(5663006,{highestKnownIndex:e.length-1,highestRequestedIndex:a,lookupTableAddress:n.lookupTableAddress});const c=s.map(t=>({address:e[t],addressIndex:t,lookupTableAddress:n.lookupTableAddress,role:Jne.READONLY}));r.push(...c);const l=o.map(t=>({address:e[t],addressIndex:t,lookupTableAddress:n.lookupTableAddress,role:Jne.WRITABLE}));i.push(...l)}return[...i,...r]}(e.addressTableLookups,t?.addressesByLookupTableAddress??{}):[],s=[...r,...i],o=e.instructions.map(e=>function(e,t){const n=t[e.programAddressIndex]?.address;if(!n)throw new Bte(5663007,{index:e.programAddressIndex});const r=e.accountIndices?.map(e=>t[e]),{data:i}=e;return Object.freeze({programAddress:n,...r&&r.length?{accounts:Object.freeze(r)}:{},...i&&i.length?{data:i}:{}})}(e,s)),a=o[0],c=function(e,t,n){if(t&&Rre(t)){const n=t.accounts[0].address;mne(n);const r=t.accounts[2].address;return mne(r),{nonce:e,nonceAccountAddress:n,nonceAuthorityAddress:r}}return{blockhash:e,lastValidBlockHeight:n??2n**64n-1n}}(e.lifetimeToken,a,t?.lastValidBlockHeight);return nre(Pre({version:e.version}),e=>function(e,t){if("feePayer"in t&&e===t.feePayer?.address&&function(e){return!!e&&"address"in e&&"string"==typeof e.address&&1===Object.keys(e).length}(t.feePayer))return t;const n={...t,feePayer:Object.freeze({address:e})};return Object.freeze(n),n}(n,e),e=>o.reduce((e,t)=>Mre(t,e),e),e=>"blockhash"in c?ire(c,e):function({nonce:e,nonceAccountAddress:t,nonceAuthorityAddress:n},r){let i;const s=r.instructions[0];if(s&&Rre(s))if(function(e,t,n){return e.accounts[0].address===t&&e.accounts[2].address===n}(s,t,n)){if($re(r)&&r.lifetimeConstraint.nonce===e)return r;i=[s,...r.instructions.slice(1)]}else i=[Object.freeze(Nre(t,n)),...r.instructions.slice(1)];else i=[Object.freeze(Nre(t,n)),...r.instructions];return Object.freeze({...r,instructions:Object.freeze(i),lifetimeConstraint:Object.freeze({nonce:e})})}(c,e))}function Bre(e){const t=Object.values(e);if(0===t.length)throw new Bte(5663016);return t.map(e=>e||new Uint8Array(64).fill(0))}function Ure(){return Zne([["signatures",rne(zne(ene(Hne(),64),{size:Nne()}),Bre)],["messageBytes",Hne()]])}function Dre(){return ine(Yne([["signatures",Wne(tne(Vne(),64),{size:Rne()})],["messageBytes",Vne()]]),Fre)}function Fre(e){const{messageBytes:t,signatures:n}=e,r=function(e){const t=Une(e.map(Dne)),n=Une(e.map(Fne))??void 0;return Gte({...null===t?{maxSize:n}:{fixedSize:t},read:(t,n)=>{const r=[];return e.forEach(e=>{const[i,s]=e.read(t,n);r.push(i),n=s}),[r,n]}})}([wre(),nne(Bne(),2),Wne(bne(),{size:Rne()})]),[i,s,o]=r.decode(t),a=o.slice(0,s);if(a.length!==n.length)throw new Bte(5663017,{numRequiredSignatures:s,signaturesLength:n.length,signerAddresses:a});const c={};return a.forEach((e,t)=>{const r=n[t];r.every(e=>0===e)?c[e]=null:c[e]=r}),{messageBytes:t,signatures:Object.freeze(c)}}function zre(e){const t=function(e){const t=function(e){let t;const n=Object.entries(e).sort(([e,n],[r,i])=>{if(n[_re]!==i[_re]){if(0===n[_re])return-1;if(0===i[_re])return 1;if(2===n[_re])return-1;if(2===i[_re])return 1}const s=Qne(n.role);if(s!==Qne(i.role))return s?-1:1;const o=Xne(n.role);return o!==Xne(i.role)?o?-1:1:(t||=xne(),1===n[_re]&&1===i[_re]&&n.lookupTableAddress!==i.lookupTableAddress?t(n.lookupTableAddress,i.lookupTableAddress):t(e,r))}).map(([e,t])=>({address:e,...t}));return n}(function(e,t){const n={[e]:{[_re]:0,role:Jne.WRITABLE_SIGNER}},r=new Set;for(const e of t){let t;if(kre(n,e.programAddress,t=>{if(r.add(e.programAddress),_re in t){if(Xne(t.role)){if(0===t[_re])throw new Bte(5663e3,{programAddress:e.programAddress});throw new Bte(Tte,{programAddress:e.programAddress})}if(2===t[_re])return t}return{[_re]:2,role:Jne.READONLY}}),e.accounts)for(const i of e.accounts)kre(n,i.address,e=>{const{address:n,...s}=i;if(_re in e)switch(e[_re]){case 0:return e;case 1:{const n=ere(e.role,s.role);if("lookupTableAddress"in s){if(e.lookupTableAddress!==s.lookupTableAddress&&(t||=xne())(s.lookupTableAddress,e.lookupTableAddress)<0)return{[_re]:1,...s,role:n}}else if(Qne(s.role))return{[_re]:2,role:n};return e.role!==n?{...e,role:n}:e}case 2:{const t=ere(e.role,s.role);if(r.has(i.address)){if(Xne(s.role))throw new Bte(Tte,{programAddress:i.address});return e.role!==t?{...e,role:t}:e}return"lookupTableAddress"in s&&!Qne(e.role)?{...s,[_re]:1,role:t}:e.role!==t?{...e,role:t}:e}}return"lookupTableAddress"in s?{...s,[_re]:1}:{...s,[_re]:2}})}return n}(e.feePayer.address,e.instructions)),n=e.lifetimeConstraint;return{..."legacy"!==e.version?{addressTableLookups:Cre(t)}:null,...n?{lifetimeToken:Are(n)}:null,header:Sre(t),instructions:Ire(e.instructions,t),staticAccounts:Tre(t),version:e.version}}(e),n=Kte({getSizeFromValue:e=>"legacy"===e.version?bre().getSizeFromValue(e):vre().getSizeFromValue(e),write:(e,t,n)=>"legacy"===e.version?bre().write(e,t,n):vre().write(e,t,n)}).encode(t),r=t.staticAccounts.slice(0,t.header.numSignerAccounts),i={};for(const e of r)i[e]=null;let s;return rre(e)?s={blockhash:e.lifetimeConstraint.blockhash,lastValidBlockHeight:e.lifetimeConstraint.lastValidBlockHeight}:$re(e)&&(s={nonce:e.lifetimeConstraint.nonce,nonceAccountAddress:e.instructions[0].accounts[0].address}),Object.freeze({...s?{lifetimeConstraint:s}:void 0,messageBytes:n,signatures:Object.freeze(i)})}function Wre(e,t){if(!t)return Object.freeze({address:e,exists:!1});const n=Kte({getSizeFromValue:e=>{try{return atob(e).length}catch{throw new Bte(Pte,{alphabet:fne,base:64,value:e})}},write(e,t,n){try{const r=atob(e).split("").map(e=>e.charCodeAt(0));return t.set(r,n),r.length+n}catch{throw new Bte(Pte,{alphabet:fne,base:64,value:e})}}}).encode(t.data[0]);return Object.freeze({...qre(t),address:e,data:n,exists:!0})}function qre(e){return Object.freeze({executable:e.executable,lamports:e.lamports,programAddress:e.owner,space:e.space})}async function Hre(e,t,n){if(0===e.length)return{};const r=await async function(e,t,n={}){const{abortSignal:r,...i}=n;return(await e.getMultipleAccounts(t,{...i,encoding:"jsonParsed"}).send({abortSignal:r})).value.map((e,n)=>e&&"object"==typeof e&&"parsed"in e.data?function(e,t){if(!t)return Object.freeze({address:e,exists:!1});const n=t.data.parsed.info;return Object.freeze({...qre(t),address:e,data:n,exists:!0})}(t[n],e):Wre(t[n],e))}(t,e,n);return function(e){const t=e.filter(e=>{return(!("exists"in(t=e))||"exists"in t&&t.exists)&&e.data instanceof Uint8Array;var t});if(t.length>0){const e=t.map(e=>e.address);throw new Bte(3230004,{addresses:e})}}(r),function(e){const t=e.filter(e=>!e.exists);if(t.length>0){const e=t.map(e=>e.address);throw new Bte(32300001,{addresses:e})}}(r),r.reduce((e,t)=>({...e,[t.address]:t.data.addresses}),{})}function Vre(e){return function(e){return"signTransactions"in e&&"function"==typeof e.signTransactions}(e)||function(e){return"modifyAndSignTransactions"in e&&"function"==typeof e.modifyAndSignTransactions}(e)||function(e){return"signAndSendTransactions"in e&&"function"==typeof e.signAndSendTransactions}(e)}function Kre(e,t){Object.freeze(e);const n={...t,feePayer:e};return Object.freeze(n),n}globalThis.TextEncoder;function Gre(e){if(!e)throw new Error("Expected a Address.");return"object"==typeof e&&"address"in e?e.address:Array.isArray(e)?e[0]:e}function Zre(e){return!!e&&"object"==typeof e&&"address"in e&&Vre(e)}function Yre(e){if(!e)throw new Error("Expected a Address.");return"object"==typeof e&&"address"in e?e.address:Array.isArray(e)?e[0]:e}function Jre(e,t){return t=>{if(!t.value)return Object.freeze({address:e,role:Jne.READONLY});const n=t.isWritable?Jne.WRITABLE:Jne.READONLY;return Object.freeze({address:Yre(t.value),role:Qre(t.value)?tre(n):n,...Qre(t.value)?{signer:t.value}:{}})}}function Qre(e){return!!e&&"object"==typeof e&&"address"in e&&Vre(e)}async function Xre(e,t={}){const{programAddress:n="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}=t;return await async function({programAddress:e,seeds:t}){let n=255;for(;n>0;)try{return[await Ane({programAddress:e,seeds:[...t,new Uint8Array([n])]}),n]}catch(e){if(!Lte(e,Ate))throw e;n--}throw new Bte(2800009)}({programAddress:n,seeds:[wne().encode(e.owner),wne().encode(e.tokenProgram),wne().encode(e.mint)]})}var eie=o(8287).Buffer;const tie=["solana:mainnet","solana:devnet","solana:testnet"];function nie({rows:e}){return(0,ri.jsx)(rX,{children:e.filter(e=>!!e).map((e,t)=>null!=e.value||e.isLoading?(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:e.label}),(0,ri.jsx)(aX,{$isLoading:e.isLoading,children:e.value})]},t):null)})}function rie(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw TypeError("attempted to use private field on non-instance");return e}var iie=0,sie="__private_"+iie+++"__implementation";function oie(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw TypeError("attempted to use private field on non-instance");return e}var aie=0;function cie(e){return"__private_"+aie+++"_"+e}var lie=cie("_address"),uie=cie("_publicKey"),die=cie("_chains"),hie=cie("_features"),fie=cie("_label"),pie=cie("_icon");class gie{get address(){return oie(this,lie)[lie]}get publicKey(){return oie(this,uie)[uie].slice()}get chains(){return oie(this,die)[die].slice()}get features(){return oie(this,hie)[hie].slice()}get label(){return oie(this,fie)[fie]}get icon(){return oie(this,pie)[pie]}constructor({address:e,publicKey:t,label:n,icon:r}){Object.defineProperty(this,lie,{writable:!0,value:void 0}),Object.defineProperty(this,uie,{writable:!0,value:void 0}),Object.defineProperty(this,die,{writable:!0,value:void 0}),Object.defineProperty(this,hie,{writable:!0,value:void 0}),Object.defineProperty(this,fie,{writable:!0,value:void 0}),Object.defineProperty(this,pie,{writable:!0,value:void 0}),oie(this,lie)[lie]=e,oie(this,uie)[uie]=t,oie(this,die)[die]=tie,oie(this,fie)[fie]=n,oie(this,pie)[pie]=r,oie(this,hie)[hie]=["solana:signAndSendTransaction","solana:signTransaction","solana:signMessage"],new.target===gie&&Object.freeze(this)}}function mie(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw TypeError("attempted to use private field on non-instance");return e}var yie=0;function wie(e){return"__private_"+yie+++"_"+e}var bie=wie("_listeners"),vie=wie("_version"),xie=wie("_name"),Eie=wie("_icon"),kie=wie("_injection"),_ie=wie("_isPrivyWallet"),Cie=wie("_accounts"),Sie=wie("_on"),Iie=wie("_emit"),Aie=wie("_off"),Tie=wie("_connected"),Pie=wie("_connect"),Oie=wie("_disconnect"),jie=wie("_signMessage"),Nie=wie("_signAndSendTransaction"),Rie=wie("_signTransaction");function $ie(e,...t){mie(this,bie)[bie][e]?.forEach(e=>e.apply(null,t))}function Mie(e,t){mie(this,bie)[bie][e]=mie(this,bie)[bie][e]?.filter(e=>t!==e)}const Lie=Ay.span.withConfig({displayName:"CircleBackground",componentId:"sc-c9f33cd-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";background-color:",";border-radius:50%;display:inline-block;box-sizing:border-box;}"],e=>e.color??"var(--privy-color-accent)",e=>e.color??"var(--privy-color-accent)"),Bie=({instruction:e,fees:t,transactionInfo:n,solPrice:r,chain:i})=>(0,ri.jsxs)(rX,{children:[n?.action&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Action"}),(0,ri.jsx)(aX,{children:n.action})]}),null!=e?.total&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Total"}),(0,ri.jsx)(aX,{children:e.total})]}),!e?.total&&null!=e?.amount&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Total"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(zK,{quantities:[e.amount,t],tokenPrice:r})})]}),(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"Fees"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(zK,{quantities:[t],tokenPrice:r})})]}),e?.to&&(0,ri.jsxs)(iX,{children:[(0,ri.jsx)(eX,{children:"To"}),(0,ri.jsx)(aX,{children:(0,ri.jsx)(CG,{walletAddress:e.to,chainId:i,chainType:"solana"})})]})]}),Uie=({fees:e,onClose:t,receiptHeader:n,receiptDescription:r,transactionInfo:i,solPrice:s,signOnly:o,instruction:a,chain:c})=>(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(DV,{onClose:t}),(0,ri.jsx)($G,{style:{marginBottom:"16px"},children:(0,ri.jsxs)("div",{children:[(0,ri.jsx)(Lie,{color:"var(--privy-color-success-light)"}),(0,ri.jsx)(iM,{height:38,width:38,strokeWidth:2,stroke:"var(--privy-color-success)"})]})}),(0,ri.jsx)(KG,{title:n??`Transaction ${o?"signed":"complete"}!`,description:r??"You're all set."}),(0,ri.jsx)(Bie,{solPrice:s,instruction:a,fees:e,transactionInfo:i,chain:c}),(0,ri.jsx)(tV,{}),(0,ri.jsx)(Die,{loading:!1,onClick:t,children:"Close"}),(0,ri.jsx)(nG,{}),(0,ri.jsx)(gV,{})]});let Die=Ay(IV).withConfig({displayName:"SubmitButton",componentId:"sc-3cb7ee42-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);function Fie(e){return new Uint8Array(Dre().decode(e).messageBytes)}async function zie(e,t){try{return await e}catch{return t}}const Wie=(...e)=>{if(void 0===eie)throw new jd("Buffer is not defined.",void 0,Ld.BUFFER_NOT_DEFINED);return eie.from(...e)};function qie(e){switch(e){case"solana:mainnet":return"mainnet-beta";case"solana:devnet":return"devnet";case"solana:testnet":return"testnet"}}async function Hie({privyClient:e,chain:t,mint:n}){let r=MK[t];if(!r[n]){let i=await e.getSplTokenMetadata({mintAddress:n,cluster:qie(t)});i&&(r[n]={address:n,symbol:i.symbol,decimals:i.decimals})}return r[n]}async function Vie({solanaClient:e,tx:t}){let n=pne().decode(Fie(t)),{value:r}=await e.rpc.getFeeForMessage(n).send();return r??0n}async function Kie({solanaClient:e,tx:t,replaceRecentBlockhash:n}){let{value:r}=await e.rpc.simulateTransaction(pne().decode(t),{commitment:"confirmed",encoding:"base64",sigVerify:!1,replaceRecentBlockhash:n}).send();if("BlockhashNotFound"===r.err&&n)throw Error("Simulation failed: Blockhash not found");return"BlockhashNotFound"===r.err?await Kie({solanaClient:e,tx:t,replaceRecentBlockhash:!0}):{logs:r.logs??[],error:r.err,hasError:!!r.err,hasFunds:r.logs?.every(e=>!/insufficient funds/gi.test(e)&&!/insufficient lamports/gi.test(e))??!0}}function Gie(e,t=0){try{return function(e,t=0){let n=0n;for(let r=0;r<8;r++)n|=BigInt(e[t+r])<<BigInt(8*r);return n}(e,t)}catch{}try{return e.readBigInt64LE(t)}catch{}let n=Wie(e);try{return((e,t=0)=>{let n=e[t],r=e[t+7];if(!n||!r)throw Error(`Buffer offset out of range: first: ${n}, last: ${r}.`);return(BigInt(e[t+4]+256*e[t+5]+65536*e[t+6]+(r<<24))<<32n)+BigInt(n+256*e[++t]+65536*e[++t]+16777216*e[++t])})(n)}catch{}try{return n.subarray(t).readBigInt64LE()}catch{}try{return n.readBigInt64LE(t)}catch{}return 0n}async function Zie(e,t,n,r,i,s){let o=e.data?.[0],a=e.accountIndices?.map(e=>t[e])??[];if(1===o){let[e,t,n]=a;return{type:"spl-init-account",program:s,account:e,mint:t,owner:n}}if(3===o){let t,o,[c,l,u]=a,d="",h=l?i[l]:void 0;if(h)t=h.owner,d=h.mint;else if(l){let e=await n.rpc.getAccountInfo(l,{commitment:"confirmed",encoding:"jsonParsed"}).send(),r=e.value?.data;t=r?.parsed?.info?.owner,d=r?.parsed?.info?.mint??"",o=r?.parsed?.info?.tokenAmount?.decimals}if(!d&&c){let e=await n.rpc.getAccountInfo(c,{commitment:"confirmed",encoding:"jsonParsed"}).send(),t=e.value?.data;d=t?.parsed?.info?.mint??""}let f=await Hie({privyClient:r,chain:n.chain,mint:d}),p=f?.symbol??"";return o??=f?.decimals??9,{type:"spl-transfer",program:s,fromAta:c,fromAccount:u,toAta:l,toAccount:t,value:Gie(e.data,1),token:{symbol:p,decimals:o,address:d}}}if(9===o){let[e,t,n]=a;return{type:"spl-close-account",program:s,source:e,destination:t,owner:n}}if(17===o)return{type:"spl-sync-native",program:s};throw Error(`Token program instruction type ${o} not supported`)}async function Yie(e,t){let n=e.data?.[0],r=e.accountIndices?.map(e=>t[e])??[];if(0===n){let[,t]=r;return{type:"create-account",program:jK,account:t?.toString(),value:Gie(e.data,4),withSeed:!1}}if(2===n){let[t,n]=r;return{type:"sol-transfer",program:jK,fromAccount:t,toAccount:n,token:{symbol:"SOL",decimals:9},value:Gie(e.data,4),withSeed:!1}}if(3===n){let[,t]=r;return{type:"create-account",program:jK,account:t,withSeed:!0,value:Gie(e.data.slice(e.data.length-32-8-8))}}if(11===n){let[t,n]=r;return{type:"sol-transfer",program:jK,fromAccount:t,toAccount:n,value:Gie(e.data,4),token:{symbol:"SOL",decimals:9},withSeed:!0}}throw Error(`System program instruction type ${n} not supported`)}async function Jie(e,t,n,r,i){let s=e.accountIndices?.map(e=>t[e])??[],o=e.data?.[0];if(143===o){let t=s[10],o=s[11];return{type:"raydium-swap-base-input",program:i,mintIn:t,mintOut:o,tokenIn:t?await Hie({privyClient:r,chain:n.chain,mint:t}):void 0,tokenOut:o?await Hie({privyClient:r,chain:n.chain,mint:o}):void 0,amountIn:Gie(e.data,8),minimumAmountOut:Gie(e.data,16)}}if(55===o){let t=s[10],o=s[11];return{type:"raydium-swap-base-output",program:i,mintIn:t,mintOut:o,tokenIn:t?await Hie({privyClient:r,chain:n.chain,mint:t}):void 0,tokenOut:o?await Hie({privyClient:r,chain:n.chain,mint:o}):void 0,maxAmountIn:Gie(e.data,8),amountOut:Gie(e.data,16)}}throw Error(`Raydium swap program instruction type ${o} not supported`)}async function Qie(e,t,n,r,i){let s=e.data?.[0],o=e.accountIndices?.map(e=>t[e])??[];if([208,51,239,151,123,43,237,92].includes(s)){let t=o[5],s=o[6];return{type:"jupiter-swap-exact-out-route",program:i,mintIn:t,mintOut:s,tokenIn:t?await Hie({privyClient:r,chain:n.chain,mint:t}):void 0,tokenOut:s?await Hie({privyClient:r,chain:n.chain,mint:s}):void 0,outAmount:Gie(e.data,e.data.length-1-2-8-8),quotedInAmount:Gie(e.data,e.data.length-1-2-8)}}if([176,209,105,168,154,125,69,62].includes(s)){let t=o[7],s=o[8];return{type:"jupiter-swap-exact-out-route",program:i,mintIn:t,mintOut:s,tokenIn:t?await Hie({privyClient:r,chain:n.chain,mint:t}):void 0,tokenOut:s?await Hie({privyClient:r,chain:n.chain,mint:s}):void 0,outAmount:Gie(e.data,e.data.length-1-2-8-8),quotedInAmount:Gie(e.data,e.data.length-1-2-8)}}if([193,32,155,51,65,214,156,129].includes(s)){let t=o[7],s=o[8];return{type:"jupiter-swap-shared-accounts-route",program:i,mintIn:t,mintOut:s,tokenIn:t?await Hie({privyClient:r,chain:n.chain,mint:t}):void 0,tokenOut:s?await Hie({privyClient:r,chain:n.chain,mint:s}):void 0,inAmount:Gie(e.data,e.data.length-1-2-8-8),quotedOutAmount:Gie(e.data,e.data.length-1-2-8)}}throw[62,198,214,193,213,159,108,210].includes(s)&&console.warn("Jupiter swap program instruction 'claim' not implemented"),[116,206,27,191,166,19,0,73].includes(s)&&console.warn("Jupiter swap program instruction 'claim_token' not implemented"),[26,74,236,151,104,64,183,249].includes(s)&&console.warn("Jupiter swap program instruction 'close_token' not implemented"),[229,194,212,172,8,10,134,147].includes(s)&&console.warn("Jupiter swap program instruction 'create_open_orders' not implemented"),[28,226,32,148,188,136,113,171].includes(s)&&console.warn("Jupiter swap program instruction 'create_program_open_orders' not implemented"),[232,242,197,253,240,143,129,52].includes(s)&&console.warn("Jupiter swap program instruction 'create_token_ledger' not implemented"),[147,241,123,100,244,132,174,118].includes(s)&&console.warn("Jupiter swap program instruction 'create_token_account' not implemented"),[229,23,203,151,122,227,173,42].includes(s)&&console.warn("Jupiter swap program instruction 'route' not implemented"),[150,86,71,116,167,93,14,104].includes(s)&&console.warn("Jupiter swap program instruction 'route_with_token_ledger' not implemented"),[228,85,185,112,78,79,77,2].includes(s)&&console.warn("Jupiter swap program instruction 'set_token_ledger' not implemented"),[230,121,143,80,119,159,106,170].includes(s)&&console.warn("Jupiter swap program instruction 'shared_accounts_route_with_token_ledger' not implemented"),Error(`Jupiter swap program instruction type ${s} not supported`)}async function Xie({rpcSubscriptions:e,signature:t,timeout:n}){let r=new AbortController,i=await e.signatureNotifications(t,{commitment:"confirmed"}).subscribe({abortSignal:r.signal}),s=await Promise.race([new Promise(e=>{setTimeout(()=>{r.abort(),e(Error("Transaction confirmation timed out"))},n)}),new Promise(async e=>{for await(let t of i){if(r.abort(),t.value.err)return e(Error("Transaction confirmation failed"));e(void 0)}})]);if(s instanceof Error)throw s}function ese({rpc:e,rpcSubscriptions:t,chain:n,blockExplorerUrl:r}){let i=function({rpc:e,rpcSubscriptions:t}){return async n=>new Promise(async(r,i)=>{try{let i=await e.sendTransaction(Wie(n).toString("base64"),{preflightCommitment:"confirmed",encoding:"base64"}).send();await Xie({rpcSubscriptions:t,signature:i,timeout:1e4}),r({signature:new Uint8Array(dne().encode(i))})}catch(e){i(e)}})}({rpc:e,rpcSubscriptions:t});return{rpc:e,rpcSubscriptions:t,chain:n,blockExplorerUrl:r,sendAndConfirmTransaction:i}}function tse(){let e=Mf(),t=(0,ei.useMemo)(()=>Object.fromEntries(["solana:mainnet","solana:devnet","solana:testnet"].map(t=>[t,e.solanaRpcs[t]?ese({chain:t,rpc:e.solanaRpcs[t].rpc,rpcSubscriptions:e.solanaRpcs[t].rpcSubscriptions,blockExplorerUrl:e.solanaRpcs[t].blockExplorerUrl??`https://explorer.solana.com?cluster=${t.replace("solana:","")}`}):null])),[e.solanaRpcs]);return(0,ei.useCallback)(e=>{if(!t[e])throw Error(`No RPC configuration found for chain ${e}`);return t[e]},[t])}const nse={component:()=>{let{data:e,onUserCloseViaDialogOrKeybindRef:t,setModalData:n,navigate:r}=QH(),{client:i,closePrivyModal:s,walletProxy:o,showFiatPrices:a}=Jd(),c=Mf(),{user:l}=eV(),u=tse()(e?.standardSignAndSendTransaction?.chain??"solana:mainnet"),[d,h]=(0,ei.useState)(e?.standardSignAndSendTransaction?.transaction),[f,p]=(0,ei.useState)(),[g,m]=(0,ei.useState)(),[y,w]=(0,ei.useState)({value:0n,isLoading:!1}),[b,v]=(0,ei.useState)(!1),[x,E]=(0,ei.useState)({}),[k,_]=(0,ei.useState)(),C=e?.standardSignAndSendTransaction?.account,S=!!e?.standardSignAndSendTransaction?.signOnly,I=C?.imported?Xq(l).find(e=>e.address===C.address):rH(l),{solPrice:A,isSolPriceLoading:T}=PG({enabled:a}),P=(0,ei.useMemo)(()=>{if(!f)return;let e=f.spender,t=UK(f.fee),n=UK(y.value,3,!0),r=f.instructions.filter(e=>["sol-transfer","spl-transfer","raydium-swap-base-input","raydium-swap-base-output","jupiter-swap-shared-accounts-route","jupiter-swap-exact-out-route"].includes(e.type)),i=r.at(0);return!i||r.length>1?{fee:t,spender:e,balance:n}:"sol-transfer"===i.type?{fee:t,spender:e,balance:n,total:UK(i.value)}:"spl-transfer"===i.type?{fee:t,spender:e,balance:n,total:`${ow({amount:i.value,decimals:i.token.decimals})} ${i.token.symbol}`}:"raydium-swap-base-input"===i.type&&i.tokenIn&&i.tokenOut?{fee:t,spender:e,balance:n,swap:`${ow({amount:i.amountIn,decimals:i.tokenIn.decimals})} ${i.tokenIn.symbol}  ${ow({amount:i.minimumAmountOut,decimals:i.tokenOut.decimals})} ${i.tokenOut.symbol}`}:"raydium-swap-base-output"===i.type&&i.tokenIn&&i.tokenOut?{fee:t,spender:e,balance:n,swap:`${ow({amount:i.maxAmountIn,decimals:i.tokenIn.decimals})} ${i.tokenIn.symbol}  ${ow({amount:i.amountOut,decimals:i.tokenOut.decimals})} ${i.tokenOut.symbol}`}:"jupiter-swap-shared-accounts-route"===i.type&&i.tokenIn&&i.tokenOut?{fee:t,spender:e,balance:n,swap:`${ow({amount:i.inAmount,decimals:i.tokenIn.decimals})} ${i.tokenIn.symbol}  ${ow({amount:i.quotedOutAmount,decimals:i.tokenOut.decimals})} ${i.tokenOut.symbol}`}:"jupiter-swap-exact-out-route"===i.type&&i.tokenIn&&i.tokenOut?{fee:t,spender:e,balance:n,swap:`${ow({amount:i.quotedInAmount,decimals:i.tokenIn.decimals})} ${i.tokenIn.symbol}  ${ow({amount:i.outAmount,decimals:i.tokenOut.decimals})} ${i.tokenOut.symbol}`}:{fee:t,spender:e,balance:n}},[f,C?.address,y]),O=(0,ei.useMemo)(()=>{let e;if(!f||!a||!A||T)return;function t(...e){return LK(e.reduce((e,t)=>e+t,0n),A??0)}C?.address===f.spender&&(e=t(f.fee));let n=t(y.value),r=f.instructions.filter(e=>"sol-transfer"===e.type||"spl-transfer"===e.type).at(0);return!r||f.instructions.length>1?{fee:e,balance:n}:"sol-transfer"===r.type?{fee:e,balance:n,total:t(r.value,C?.address===f.spender?f.fee:0n)}:"spl-transfer"===r.type?{fee:e,balance:n,total:`${ow({amount:r.value,decimals:r.token.decimals})} ${r.token.symbol}`}:{fee:e,balance:n}},[f,a,A,T,C?.address,y]);if((0,ei.useEffect)(()=>{!async function(){if(d&&i)try{m(void 0);let e=await async function({tx:e,solanaClient:t,privyClient:n,checkFunds:r}){let i=Ere().decode(Fie(e)),s=i.staticAccounts[0]??"",o=await Vie({solanaClient:t,tx:e}),a=r?await zie(Kie({solanaClient:t,tx:e})):void 0,c=a?.hasFunds??!0,l={},u=[],d=await async function({solanaClient:e,message:t}){if(!("addressTableLookups"in t)||!t.addressTableLookups)return[...t.staticAccounts];let n=t.addressTableLookups.map(e=>e.lookupTableAddress),r=await Hre(n,e.rpc),i=n.map((e,n)=>[...t.addressTableLookups[n]?.writableIndexes.map(t=>{let i=r[e]?.[t];if(i)return{key:i,isWritable:!0,altIdx:n}})??[],...t.addressTableLookups[n]?.readonlyIndexes.map(t=>{let i=r[e]?.[t];if(i)return{key:i,isWritable:!1,altIdx:n}})??[]]).flat().filter(e=>!!e).sort((e,t)=>e.isWritable!==t.isWritable?e.isWritable?-1:1:e.altIdx-t.altIdx).map(({key:e})=>e);return[...t.staticAccounts,...i]}({solanaClient:t,message:i});for(let e of i.instructions){let r=i.staticAccounts[e.programAddressIndex]||"";if(r!==NK&&"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"!==r)if(r!==jK){if("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"===r){let t=await zie(function(e,t,n){let[r,i,s,o]=e.accountIndices?.map(e=>t[e])??[];return{type:"ata-creation",program:n,payer:r,ata:i,owner:s,mint:o}}(e,d,r));if(!t){u.push({type:"unknown",program:r,discriminator:e.data?.[0]});continue}if(u.push(t),t.ata&&t.owner&&t.mint){l[t.ata]={owner:t.owner,mint:t.mint};continue}}if(RK.includes(r)){let i=await zie(Jie(e,d,t,n,r));if(!i){u.push({type:"unknown",program:r,discriminator:e.data?.[0]});continue}u.push(i)}else if($K.includes(r)){let i=await zie(Qie(e,d,t,n,r));if(!i){u.push({type:"unknown",program:r,discriminator:e.data?.[0]});continue}u.push(i)}else u.push({type:"unknown",program:r,discriminator:e.data?.[0]})}else{let t=await zie(Yie(e,d));if(!t){u.push({type:"unknown",program:r,discriminator:e.data?.[0]});continue}u.push(t)}else{let i=await zie(Zie(e,d,t,n,l,r));if(!i){u.push({type:"unknown",program:r,discriminator:e.data?.[0]});continue}u.push(i),"spl-transfer"===i.type&&(i.fromAta&&i.fromAccount&&i.token.address&&(l[i.fromAta]??={owner:i.fromAccount,mint:i.token.address}),i.toAta&&i.toAccount&&i.token.address&&(l[i.toAta]??={owner:i.toAccount,mint:i.token.address}))}}return{spender:s,fee:o,instructions:u,hasFunds:!!c}}({tx:d,solanaClient:u,privyClient:i,checkFunds:!S});p(e)}catch(e){console.error("Failed to prepare transaction",e),m(e)}}()},[d,u,i,S]),(0,ei.useEffect)(()=>{(async function(){if(!C)return;w({value:y.value,isLoading:!0});let{value:e}=await u.rpc.getBalance(C.address,{commitment:"confirmed"}).send();w({value:e??0n,isLoading:!1})})().catch(console.error)},[f]),!d||!e?.standardSignAndSendTransaction||!C){let t=Error("Invalid transaction request");return(0,ri.jsx)(FY,{error:t,allowlistConfig:c.allowlistConfig,onRetry:()=>{e?.standardSignAndSendTransaction?.onFailure(t),s({shouldCallAuthOnSuccess:!1})}})}let j=()=>{if(!b)return x.signature||x.signedTransaction?e?.standardSignAndSendTransaction?.onSuccess({signature:x.signature,signedTransaction:x.signedTransaction}):e?.standardSignAndSendTransaction?.onFailure(k??g??Error("User exited the modal before submitting the transaction")),s({shouldCallAuthOnSuccess:!1})};t.current=j;let N=e.standardSignAndSendTransaction?.uiOptions?.transactionInfo?.contractInfo?.imgUrl?(0,ri.jsx)("img",{src:e.standardSignAndSendTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:e.standardSignAndSendTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,R=!!(e.funding&&e.funding.supportedOptions.length>0),$=!f?.hasFunds&&R;if(x.signature||x.signedTransaction){let t=f?.instructions.filter(e=>"sol-transfer"===e.type||"spl-transfer"===e.type),n=1===t?.length?t?.at(0):void 0;return(0,ri.jsx)(Uie,{fees:x.fees??0n,onClose:j,transactionInfo:e.standardSignAndSendTransaction?.uiOptions.transactionInfo,solPrice:A,receiptHeader:e.standardSignAndSendTransaction?.uiOptions.successHeader,receiptDescription:e.standardSignAndSendTransaction?.uiOptions.successDescription,chain:u.chain,signOnly:S,instruction:"sol-transfer"===n?.type?{to:n.toAccount,amount:n.value}:{to:n?.toAccount||n?.toAta,total:P?.total}})}return k?(0,ri.jsx)(jX,{transactionError:k,chainId:u.chain,onClose:j,chainType:"solana",onRetry:async()=>{_(void 0);let{value:e}=await u.rpc.getLatestBlockhash().send();h(function(e,t){return nre(Ere().decode(Fie(e)),e=>Lre(e),e=>ire(t,e),e=>zre(e),e=>new Uint8Array(Ure().encode(e)))}(d,e))}}):(0,ri.jsx)(_X,{img:N,title:e.standardSignAndSendTransaction?.uiOptions?.transactionInfo?.title||"Confirm transaction",subtitle:e.standardSignAndSendTransaction?.uiOptions?.description||`${c.name} wants your permission to approve the following transaction.`,cta:$?"Add funds":e.standardSignAndSendTransaction?.uiOptions?.buttonText||"Approve",instructions:f?.instructions??[],network:"solana:mainnet"==u.chain?"Solana":u.chain.replace("solana:",""),blockExplorerUrl:u.blockExplorerUrl,total:a?O?.total:P?.total,fee:a?O?.fee:P?.fee,balance:a?O?.balance:P?.balance,swap:P?.swap,transactingWalletAddress:C.address,disabled:!f?.hasFunds&&!R,isSubmitting:b,isPreparing:!f||y.isLoading,isTokenPriceLoading:a&&T,isMissingFunds:!f?.hasFunds,submitError:k??void 0,isSponsored:!!e.standardSignAndSendTransaction?.isSponsored,parseError:g,onClick:$?async()=>{if(C){if(!R)throw Error("Funding wallet is not enabled");n({...e,funding:{...e.funding,methodScreen:z1},solanaFundingData:e?.solanaFundingData}),r(z1)}}:async()=>{try{if(v(!0),b||!C||!o||!l||!I)return;let t=await e.standardSignAndSendTransaction.onConfirm(d);if("signature"in t){let e=await async function({solanaClient:e,signature:t}){let n=hne().decode(t),r=await e.rpc.getTransaction(n,{maxSupportedTransactionVersion:0,commitment:"confirmed",encoding:"base64"}).send().catch(()=>null);return r?{fee:r.meta?.fee??0n}:null}({solanaClient:u,signature:t.signature});return void E({...t,fees:e?.fee})}E(t)}catch(e){console.warn({transaction:d,error:e}),_(e)}finally{v(!1)}},onClose:j})}};function rse(e,t,n){let r=structuredClone(Dre().decode(e)),i=yne(t);return i in r.signatures&&(r.signatures[i]=n),new Uint8Array(Ure().encode(r))}function ise(){let{isHeadlessSigning:e,walletProxy:t,initializeWalletProxy:n,recoverEmbeddedWallet:r,openModal:i,privy:s,client:o}=Jd(),{user:a}=V4(),{setModalData:c}=QH(),{signWithUserSigner:l}=Ste();return{signMessage:({message:u,address:d,options:h})=>new Promise(async(f,p)=>{let g=tH(a,d);if("privy"!==g?.walletClientType)return void p(new jd("Wallet is not a Privy wallet",void 0,Ld.EMBEDDED_WALLET_NOT_FOUND));let{entropyId:m,entropyIdVerifier:y}=oH(a,g),w=kH(g),b=Wie(u).toString("base64");if(b.length<1)return void p(new jd("Message must be a non-empty string",void 0,Ld.INVALID_MESSAGE));let v=async()=>{let e;if(!a)throw Error("User must be authenticated before signing with a Privy wallet");let i=await o.getAccessToken();if(!i)throw Error("User must be authenticated to use their embedded wallet.");let c=t??await n(15e3);if(!c)throw Error("Failed to initialize embedded wallet proxy.");if(!await r({address:g.address}))throw Error("Unable to connect to wallet");if(w){let t=await $i(s,l,{chain_type:"solana",method:"signMessage",params:{message:b,encoding:"base64"},wallet_id:g.id});if(!t.data||!("signature"in t.data))throw Error("Failed to sign message");e=t.data.signature}else{let{response:t}=await c.rpc({accessToken:i,entropyId:m,entropyIdVerifier:y,chainType:"solana",hdWalletIndex:g.walletIndex??0,requesterAppId:h?.uiOptions?.requesterAppId,request:{method:"signMessage",params:{message:b}}});e=t.data.signature}return e};if(e({showWalletUIs:h?.uiOptions?.showWalletUIs}))try{let e=await v(),t=new Uint8Array(Wie(e,"base64"));f({signature:t})}catch(e){p(e)}else c({signMessage:{method:"solana_signMessage",data:b,confirmAndSign:v,onSuccess:e=>{f({signature:new Uint8Array(Wie(e,"base64"))})},onFailure:e=>{p(e)},uiOptions:h?.uiOptions??{}},connectWallet:{recoveryMethod:g.recoveryMethod,connectingWalletAddress:g.address,entropyId:m,entropyIdVerifier:y,isUnifiedWallet:w,onCompleteNavigateTo:a8,onFailure:e=>{p(new jd("Failed to connect to wallet",e,Ld.UNKNOWN_CONNECT_WALLET_ERROR))}}}),i(O3)})}}function sse(){let{isHeadlessSigning:e,openModal:t}=Jd(),{setModalData:n}=QH(),{signMessage:r}=ise(),{user:i}=V4();return{signTransaction:async({transaction:s,options:o,chain:a="solana:mainnet",address:c})=>{async function l(e){let{signature:t}=await r({message:Fie(e),address:c,options:{...o,uiOptions:{...o?.uiOptions,showWalletUIs:!1}}});return{signedTransaction:rse(e,c,t)}}return e({showWalletUIs:o?.uiOptions?.showWalletUIs})?l(s):new Promise(async(e,r)=>{let u=tH(i,c);if("privy"!==u?.walletClientType)return void r(new jd("Wallet is not a Privy wallet",void 0,Ld.EMBEDDED_WALLET_NOT_FOUND));let{entropyId:d,entropyIdVerifier:h}=oH(i,u),f=kH(u);function p(e){return t=>{r(t instanceof jd?t:new jd("Failed to connect to wallet",t,e))}}let g={account:u,transaction:s,chain:a,signOnly:!0,uiOptions:o?.uiOptions||{},onConfirm:l,onSuccess:e,onFailure:p(Ld.TRANSACTION_FAILURE)};n({connectWallet:{recoveryMethod:u.recoveryMethod,connectingWalletAddress:u.address,entropyId:d,entropyIdVerifier:h,isUnifiedWallet:f,onCompleteNavigateTo:nse,onFailure:p(Ld.UNKNOWN_CONNECT_WALLET_ERROR)},standardSignAndSendTransaction:g}),t(O3)})}}}let ose=new class extends vc.A{setImplementation(e){rie(this,sie)[sie]=e}async signMessage(e){return rie(this,sie)[sie].signMessage(e)}async signAndSendTransaction(e){return rie(this,sie)[sie].signAndSendTransaction(e)}async signTransaction(e){return rie(this,sie)[sie].signTransaction(e)}constructor(e){super(),Object.defineProperty(this,sie,{writable:!0,value:void 0}),rie(this,sie)[sie]=e}}({signTransaction:Zd("signTransaction was not injected"),signAndSendTransaction:Zd("signAndSendTransaction was not injected"),signMessage:Zd("signMessage was not injected")}),ase=new class{get version(){return mie(this,vie)[vie]}get name(){return mie(this,xie)[xie]}get icon(){return mie(this,Eie)[Eie]}get chains(){return tie.slice()}get features(){return{"standard:connect":{version:"1.0.0",connect:mie(this,Pie)[Pie]},"standard:disconnect":{version:"1.0.0",disconnect:mie(this,Oie)[Oie]},"standard:events":{version:"1.0.0",on:mie(this,Sie)[Sie]},"solana:signAndSendTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:mie(this,Nie)[Nie]},"solana:signTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:mie(this,Rie)[Rie]},"solana:signMessage":{version:"1.0.0",signMessage:mie(this,jie)[jie]},"privy:":{privy:{signMessage:mie(this,kie)[kie].signMessage,signTransaction:mie(this,kie)[kie].signTransaction,signAndSendTransaction:mie(this,kie)[kie].signAndSendTransaction}}}}get accounts(){return mie(this,Cie)[Cie].slice()}get isPrivyWallet(){return mie(this,_ie)[_ie]}constructor({name:e,icon:t,version:n,injection:r,wallets:i}){Object.defineProperty(this,Iie,{value:$ie}),Object.defineProperty(this,Aie,{value:Mie}),Object.defineProperty(this,bie,{writable:!0,value:void 0}),Object.defineProperty(this,vie,{writable:!0,value:void 0}),Object.defineProperty(this,xie,{writable:!0,value:void 0}),Object.defineProperty(this,Eie,{writable:!0,value:void 0}),Object.defineProperty(this,kie,{writable:!0,value:void 0}),Object.defineProperty(this,_ie,{writable:!0,value:void 0}),Object.defineProperty(this,Cie,{writable:!0,value:void 0}),Object.defineProperty(this,Sie,{writable:!0,value:void 0}),Object.defineProperty(this,Tie,{writable:!0,value:void 0}),Object.defineProperty(this,Pie,{writable:!0,value:void 0}),Object.defineProperty(this,Oie,{writable:!0,value:void 0}),Object.defineProperty(this,jie,{writable:!0,value:void 0}),Object.defineProperty(this,Nie,{writable:!0,value:void 0}),Object.defineProperty(this,Rie,{writable:!0,value:void 0}),mie(this,bie)[bie]={},mie(this,Sie)[Sie]=(e,t)=>(mie(this,bie)[bie][e]?.push(t)||(mie(this,bie)[bie][e]=[t]),()=>mie(this,Aie)[Aie](e,t)),mie(this,Tie)[Tie]=e=>{null!=e&&(mie(this,Cie)[Cie]=e.map(({address:e})=>new gie({address:e,publicKey:zw.tw.decode(e)}))),mie(this,Iie)[Iie]("change",{accounts:this.accounts})},mie(this,Pie)[Pie]=async()=>(mie(this,Iie)[Iie]("change",{accounts:this.accounts}),{accounts:this.accounts}),mie(this,Oie)[Oie]=async()=>{mie(this,Iie)[Iie]("change",{accounts:this.accounts})},mie(this,jie)[jie]=async(...e)=>{let t=[];for(let{account:n,...r}of e){let{signature:e}=await mie(this,kie)[kie].signMessage({...r,address:n.address});t.push({signedMessage:r.message,signature:e})}return t},mie(this,Nie)[Nie]=async(...e)=>{let t=[];for(let n of e){let{signature:e}=await mie(this,kie)[kie].signAndSendTransaction({...n,transaction:n.transaction,address:n.account.address,chain:n.chain||"solana:mainnet",options:n.options});t.push({signature:e})}return t},mie(this,Rie)[Rie]=async(...e)=>{let t=[];for(let{transaction:n,account:r,options:i,chain:s}of e){let{signedTransaction:e}=await mie(this,kie)[kie].signTransaction({transaction:n,address:r.address,chain:s||"solana:mainnet",options:i});t.push({signedTransaction:e})}return t},mie(this,xie)[xie]=e,mie(this,Eie)[Eie]=t,mie(this,vie)[vie]=n,mie(this,kie)[kie]=r,mie(this,Cie)[Cie]=[],mie(this,_ie)[_ie]=!0,r.on("accountChanged",mie(this,Tie)[Tie],this),mie(this,Tie)[Tie](i)}}({name:"Privy",version:"1.0.0",icon:"data:image/png;base64,AAABAAEAFBQAAAAAIABlAQAAFgAAAIlQTkcNChoKAAAADUlIRFIAAAAUAAAAFAgGAAAAjYkdDQAAAAlwSFlzAAAOwwAADsMBx2+oZAAAAQVJREFUeJxiYMANZIC4E4ivAPFPIP4FxDeAuB+IlfDowwBMQFwJxF+B+D8O/AOI66Bq8QJGIF6ExyB0vAqImfEZmEeCYTDcgMswPiB+T4aB34FYApuBsWQYBsP52AycToGBK7EZuJECAw9jM3AVBQbuwWZgIwUGTsZmoDkFBnpiMxAEjpJh2FV8iVsbiD+TYBgoDVrgMgwGnID4HRGGgTKBGyHDYEAaiBdCSxh0g/5AU4Q8sYYhAzEgjoGmABBOgFo2eACowFABYn0oVgViAVINkQTiZUD8DIj/ATF6GILEXgLxCiCWIsZAbiAuBeKtQHwHiEHJ6C8UfwHie0C8E4jLoWpRAAAAAP//rcbhsQAAAAZJREFUAwBYFs3VKJ0cuQAAAABJRU5ErkJggg==",wallets:[],injection:ose});function cse(){let{ready:e,wallets:t}=function(){let{client:e}=Jd(),{ready:t,wallet:n}=function(){let{ready:e}=NG(),{user:t}=V4(),{signMessage:n}=ise(),{signTransaction:r}=sse(),{signAndSendTransaction:i}=function(){let e=Mf(),{isHeadlessSigning:t,openModal:n}=Jd(),{setModalData:r}=QH(),{signTransaction:i}=sse(),s=tse(),{user:o}=V4(),{signWithUserSigner:a}=Ste();return{signAndSendTransaction:async({transaction:c,address:l,chain:u="solana:mainnet",options:d})=>{async function h(e){if(d?.sponsor)return await g(e);let{signedTransaction:t}=await i({transaction:e,address:l,chain:u,options:{...d,uiOptions:{...d?.uiOptions,showWalletUIs:!1}}}),{signature:n}=await s(u).sendAndConfirmTransaction(t);return{signature:n}}if(t({showWalletUIs:d?.uiOptions?.showWalletUIs}))return h(c);let f=tH(o,l);if("privy"!==f?.walletClientType)throw new jd("Wallet is not a Privy wallet",void 0,Ld.EMBEDDED_WALLET_NOT_FOUND);let p=kH(f),g=async t=>{if(!p)throw new jd("Sponsoring transactions is only supported for wallets on the TEE stack",Ld.INVALID_DATA);let n=new Hu({appId:e.id,clientId:e.appClientId,storage:VW}),r=await $i(n,a,{chain_type:"solana",method:"signAndSendTransaction",sponsor:!0,params:{transaction:eie.from(t).toString("base64"),encoding:"base64"},caip2:`solana:${(await s(u).rpc.getGenesisHash().send()).substring(0,32)}`,wallet_id:f.id});if(r.data&&"hash"in r.data)return{signature:zw.tw.decode(r.data.hash)};throw Error("Failed to sign and send transaction")};return new Promise(async(t,i)=>{let s,a,{entropyId:g,entropyIdVerifier:m}=oH(o,f);function y(e){return t=>{i(t instanceof jd?t:new jd("Failed to connect to wallet",t,e))}}let w={account:f,transaction:c,chain:u,signOnly:!1,uiOptions:d?.uiOptions||{},onConfirm:h,onSuccess:t,onFailure:y(Ld.TRANSACTION_FAILURE),isSponsored:!!d?.sponsor},b={recoveryMethod:f.recoveryMethod,connectingWalletAddress:f.address,entropyId:g,entropyIdVerifier:m,isUnifiedWallet:p,onCompleteNavigateTo:nse,onFailure:y(Ld.UNKNOWN_CONNECT_WALLET_ERROR)};e.fundingConfig&&(s=z4({address:l,appConfig:e,methodScreen:z1,fundWalletConfig:{...d,asset:"native-currency",chain:u},externalSolanaFundingScreen:hse}),a={amount:e.fundingConfig.defaultRecommendedAmount,asset:"SOL",chain:u,destinationAddress:l,afterSuccessScreen:nse,sourceWalletData:void 0}),r({connectWallet:b,standardSignAndSendTransaction:w,funding:s,solanaFundingData:a}),n(O3)})}}}(),s=(0,ei.useMemo)(()=>{let e=[...Yq(t).sort((e,t)=>(e.walletIndex??0)-(t.walletIndex??0))],n=Xq(t);return n.length?[...e,...n]:e},[t]),o=(0,ei.useMemo)(()=>({signMessage:async({message:e,address:t,options:r})=>await n({message:e,address:t,options:r}),signTransaction:async({transaction:e,address:t,chain:n,options:i})=>await r({transaction:e,address:t,chain:n,options:i}),async signAndSendTransaction({transaction:e,address:t,chain:n,options:r}){let{signature:s}=await i({transaction:e,address:t,chain:n,options:r});return{signature:s}}}),[n,r,i]);return(0,ei.useEffect)(()=>{ose?.setImplementation(o)},[o]),(0,ei.useEffect)(()=>{var t;!e||(t=ase.accounts).length===s.length&&t.every((e,t)=>e.address===s[t]?.address)||ose?.emit("accountChanged",s)},[e,s]),{ready:e,wallet:ase}}(),[r,i]=(0,ei.useState)([]),[s,o]=(0,ei.useState)([]);return(0,ei.useEffect)(()=>{let e=[n,...r.filter(e=>"solana"===e.chainType&&!!e.wallet.features).map(e=>e.wallet)];o(e);let t=e.map(t=>t.features["standard:events"]?.on("change",()=>{o([...e])}));return()=>{t.forEach(e=>e?.())}},[r]),(0,ei.useEffect)(()=>{i(e.connectors?.walletConnectors.filter(e=>"solana"===e.chainType)??[]);let t=()=>{i(e.connectors?.walletConnectors.filter(e=>"solana"===e.chainType)??[])};return e.connectors?.on("connectorInitialized",t),()=>{e.connectors?.off("connectorInitialized",t)}},[t,e.connectors]),{ready:t,wallets:s}}();return{ready:e,wallets:(0,ei.useMemo)(()=>t.flatMap(e=>e.accounts.map(t=>new rw({wallet:e,account:t}))),[t])}}function lse(e){return BigInt(Math.floor(1e9*parseFloat(e)))}function use(e){return+dse.format(parseFloat(e.toString())/1e9)}let dse=Intl.NumberFormat(void 0,{maximumFractionDigits:8});const hse={component:function(){let e=Mf(),{closePrivyModal:t,createAnalyticsEvent:n}=Jd(),{data:r,setModalData:i,navigate:s}=QH(),{wallets:o}=cse(),[a,c]=(0,ei.useState)("preparing"),[l,u]=(0,ei.useState)(),[d,h]=(0,ei.useState)(),[f,p]=(0,ei.useState)();if(!r?.solanaFundingData)throw Error("Funding config is missing");if(!r.solanaFundingData.sourceWalletData)throw Error("Funding config is missing source wallet data");let{amount:g,asset:m,chain:y,sourceWalletData:w,destinationAddress:b,afterSuccessScreen:v}=r.solanaFundingData,x=o.find(e=>e.address===w.address&&RH(w.walletClientType)===RH(e.standardWallet.name)),E=tse()(y),{tokenPrice:k,isTokenPriceLoading:_}=OG("solana");return(0,ei.useEffect)(()=>{if("preparing"!==a||_||!x)return;let e="SOL"===m?lse(g):function(e){return BigInt(Math.floor(1e6*parseFloat(e)))}(g);h({amount:("SOL"===m&&k?LK(e,k):g)??g}),("SOL"===m?async function({solanaClient:e,source:t,destination:n,amountInLamports:r}){let{value:i}=await e.rpc.getLatestBlockhash().send(),s={address:t},o=nre(Pre({version:0}),e=>Kre(s,e),e=>ire(i,e),e=>Mre(function(e){const t={source:{value:e.source??null,isWritable:!0},destination:{value:e.destination??null,isWritable:!0}},n={...e},r=e=>{if(!e.value)return;const t=e.isWritable?Jne.WRITABLE:Jne.READONLY;return Object.freeze({address:Gre(e.value),role:Zre(e.value)?tre(t):t,...Zre(e.value)?{signer:e.value}:{}})};return{accounts:[r(t.source),r(t.destination)],programAddress:"11111111111111111111111111111111",data:rne(Zne([["discriminator",$ne()],["amount",Mne()]]),e=>({...e,discriminator:2})).encode(n)}}({amount:r,source:s,destination:n}),e),e=>zre(e));return new Uint8Array(Ure().encode(o))}({solanaClient:E,source:x.address,destination:b,amountInLamports:e}):async function({solanaClient:e,source:t,destination:n,amountInBaseUnits:r}){let i=BQ(e.chain),{value:s}=await e.rpc.getLatestBlockhash().send(),o={address:t},[a]=await Xre({mint:i,owner:t,tokenProgram:NK}),[c]=await Xre({mint:i,owner:n,tokenProgram:NK}),[l,u]=await Promise.all([e.rpc.getAccountInfo(a,{commitment:"confirmed",encoding:"jsonParsed"}).send().catch(()=>null),e.rpc.getAccountInfo(c,{commitment:"confirmed",encoding:"jsonParsed"}).send().catch(()=>null)]);if(!l?.value)throw Error(`Source token account does not exist for address: ${t}`);let d=function(e){const t="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",n={payer:{value:e.payer??null,isWritable:!0},ata:{value:e.ata??null,isWritable:!0},owner:{value:e.owner??null,isWritable:!1},mint:{value:e.mint??null,isWritable:!1},systemProgram:{value:e.systemProgram??null,isWritable:!1},tokenProgram:{value:e.tokenProgram??null,isWritable:!1}};n.tokenProgram.value||(n.tokenProgram.value="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n.systemProgram.value||(n.systemProgram.value="11111111111111111111111111111111");const r=Jre(t);return{accounts:[r(n.payer),r(n.ata),r(n.owner),r(n.mint),r(n.systemProgram),r(n.tokenProgram)],programAddress:t,data:rne(Zne([["discriminator",Lne()]]),e=>({...e,discriminator:1})).encode({})}}({payer:o,ata:c,owner:n,mint:i}),h=nre(Pre({version:0}),e=>Kre(o,e),e=>ire(s,e),e=>u?.value?e:Mre(d,e),e=>Mre(function(e){const t="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",n={source:{value:e.source??null,isWritable:!0},destination:{value:e.destination??null,isWritable:!0},authority:{value:e.authority??null,isWritable:!1}},r={...e},i=(r.multiSigners??[]).map(e=>({address:e.address,role:Jne.READONLY_SIGNER,signer:e})),s=Jre(t);return{accounts:[s(n.source),s(n.destination),s(n.authority),...i],programAddress:t,data:rne(Zne([["discriminator",Lne()],["amount",Mne()]]),e=>({...e,discriminator:3})).encode(r)}}({source:a,destination:c,authority:o,amount:r}),e),e=>zre(e));return new Uint8Array(Ure().encode(h))}({solanaClient:E,source:x.address,destination:b,amountInBaseUnits:e})).then(u).catch(e=>{c("error"),p(e)})},[a,g,m,y,x,b,_,k]),(0,ei.useEffect)(()=>{"preparing"===a&&l&&async function({tx:e,solanaClient:t,amount:n,asset:r,tokenPrice:i}){if(!e)return null;if("SOL"===r&&i){let r=lse(n),s=LK(r,i),o=await Vie({solanaClient:t,tx:e});return{amountInUsd:s,feeInUsd:i?LK(o,i):void 0,totalInUsd:LK(r+o,i)}}if("USDC"===r&&i){let r="$"+n,s=await Vie({solanaClient:t,tx:e}),o=function(e,t){let n=parseFloat(e.toString())/OK*t;return n<.01?0:n}(s,i);return{amountInUsd:r,feeInUsd:LK(s,i),totalInUsd:"$"+(parseFloat(n)+o).toFixed(2)}}if("SOL"===r){let r=lse(n),i=await Vie({solanaClient:t,tx:e});return{amountInSol:n+" SOL",feeInSol:use(i)+" SOL",totalInSol:use(r+i)+" SOL"}}return{amountInUsdc:n+" USDC",feeInSol:use(await Vie({solanaClient:t,tx:e}))+" SOL"}}({tx:l,solanaClient:E,amount:g,asset:m,tokenPrice:k}).then(e=>{c("loaded"),h({amount:e?.amountInUsd??e?.amountInUsdc??e?.amountInSol??g,fee:e?.feeInUsd??e?.feeInSol,total:e?.totalInUsd??e?.totalInSol})}).catch(e=>{c("error"),p(e)})},[l,g,m,a,k]),(0,ei.useEffect)(()=>{"error"===a&&f&&(i({errorModalData:{error:f,previousScreen:hse},solanaFundingData:r.solanaFundingData}),s(zY,!1))},[a,s]),(0,ei.useEffect)(()=>{if("success"!==a)return;let e=setTimeout(v?()=>s(v):t,sf);return()=>clearTimeout(e)},[a]),(0,ri.jsxs)(ri.Fragment,"success"===a?{children:[(0,ri.jsx)(f0,{}),(0,ri.jsx)(tG,{}),(0,ri.jsxs)(JK,{children:[(0,ri.jsx)(iM,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),(0,ri.jsx)(KG,{title:"Success!",description:`Youve successfully added ${g} ${m} to your ${e.name} wallet. It may take a minute before the funds are available to use.`})]}),(0,ri.jsx)(nG,{}),(0,ri.jsx)(gV,{})]}:"preparing"===a||"loaded"===a||"sending"===a?{children:[(0,ri.jsx)(f0,{}),(0,ri.jsx)(GK,{style:{marginTop:"16px"},children:(0,ri.jsx)(x0,{icon:x?.standardWallet.icon,name:x?.standardWallet.name})}),(0,ri.jsx)(KG,{style:{marginTop:"8px",marginBottom:"12px"},title:"sending"===a&&x?`Confirming with ${x.standardWallet.name}`:"Confirm transaction"}),(0,ri.jsx)(nie,{rows:[{label:"Source",value:sw(w.address)},{label:"Destination",value:sw(b)},{label:"Network",value:LQ(y)},{label:"Amount",value:d?.amount,isLoading:"preparing"===a},{label:"Estimated fee",value:d?.fee,isLoading:"preparing"===a},{label:"Total",value:d?.total,isLoading:"preparing"===a}]}),(0,ri.jsx)(IV,{style:{marginTop:"1rem"},loading:"preparing"===a||"sending"===a,onClick:function(){"loaded"===a&&l&&x&&(c("sending"),async function({transaction:e,chain:t,sourceWallet:n,solanaClient:r}){let{hasFunds:i}=await Kie({solanaClient:r,tx:e});if(!i)throw new jd(`Wallet ${sw(n.address)} does not have enough funds.`,void 0,Ld.INSUFFICIENT_BALANCE);let s=function(e){return hne().decode(e)}((await n.signAndSendTransaction({transaction:e,chain:t}).catch(e=>{throw new jd("Transaction was rejected by the user",e,Ld.TRANSACTION_FAILURE)})).signature);return await Xie({rpcSubscriptions:r.rpcSubscriptions,signature:s,timeout:2e4}),s}({solanaClient:E,transaction:l,chain:y,sourceWallet:x}).then(e=>{c("success"),n({eventName:$Q,payload:{provider:"external",status:"success",txHash:e,address:x.address,value:g,chainType:"solana",clusterName:y,token:m,destinationAddress:b,destinationValue:g,destinationChainType:"solana",destinationClusterName:y,destinationToken:m}})}).catch(e=>{c("error"),p(e)}))},children:"Confirm"}),(0,ri.jsx)(gV,{})]}:{children:[(0,ri.jsx)(f0,{}),(0,ri.jsx)(KV,{}),(0,ri.jsx)("div",{style:{marginTop:"1rem"}}),(0,ri.jsx)(gV,{})]})}},fse=Ay.button.withConfig({displayName:"PillButton",componentId:"sc-3e1103b4-0"})(["--size:",";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;align-items:center;flex-shrink:0;gap:0.5rem;justify-content:center;font-size:0.875rem;transition:color 0.2s ease-in-out,background 0.2s ease-in-out;"," ",""],({$size:e})=>`${e}px`,({$background:e})=>"secondary"===e?"\n      background: var(--privy-color-background-2);\n      color: var(--privy-color-foreground-2);\n      &:hover {\n        color: var(--privy-color-foreground-1);\n      }\n      ":"\n      background: var(--privy-color-accent);\n      color: var(--privy-color-foreground-accent);\n      &:hover {\n        background: var(--privy-color-accent-dark);\n      }\n      ",({$variant:e})=>"rounded"===e?"\n    border-radius: var(--privy-border-radius-full);\n    width: var(--size);\n    height: var(--size);\n    ":"default"===e?"\n    border-radius: var(--privy-border-radius-md);\n    padding: 0 1rem;\n    height: 44px;\n    ":void 0),pse=e=>(0,ri.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,ri.jsx)("path",{d:"M9.99999 10.8333C12.3012 10.8333 14.1667 8.96785 14.1667 6.66667C14.1667 4.36548 12.3012 2.5 9.99999 2.5C7.69881 2.5 5.83333 4.36548 5.83333 6.66667C5.83333 8.96785 7.69881 10.8333 9.99999 10.8333ZM9.99999 10.8333C11.7681 10.8333 13.4638 11.5357 14.714 12.786C15.9643 14.0362 16.6667 15.7319 16.6667 17.5M9.99999 10.8333C8.23188 10.8333 6.53619 11.5357 5.28595 12.786C4.03571 14.0362 3.33333 15.7319 3.33333 17.5",stroke:"currentColor",strokeWidth:"1.67",strokeLinecap:"round",strokeLinejoin:"round"})}),gse=({...e})=>(0,ri.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[(0,ri.jsx)("path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"}),(0,ri.jsx)("circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"})]}),mse=e=>(0,ri.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[(0,ri.jsx)("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),(0,ri.jsx)("polyline",{points:"10 17 15 12 10 7"}),(0,ri.jsx)("line",{x1:"15",x2:"3",y1:"12",y2:"12"})]}),yse=({...e})=>(0,ri.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,ri.jsx)("path",{d:"M14.6667 4.66669L8.68668 8.46669C8.48086 8.59564 8.24289 8.66403 8.00001 8.66403C7.75713 8.66403 7.51916 8.59564 7.31334 8.46669L1.33334 4.66669M2.66668 2.66669H13.3333C14.0697 2.66669 14.6667 3.26364 14.6667 4.00002V12C14.6667 12.7364 14.0697 13.3334 13.3333 13.3334H2.66668C1.9303 13.3334 1.33334 12.7364 1.33334 12V4.00002C1.33334 3.26364 1.9303 2.66669 2.66668 2.66669Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",stroke:"currentColor"})}),wse=({...e})=>(0,ri.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,ri.jsx)("g",{clipPath:"url(#clip0_57_4648)",children:(0,ri.jsx)("path",{d:"M14.6667 11.28V13.28C14.6674 13.4657 14.6294 13.6494 14.555 13.8195C14.4806 13.9897 14.3715 14.1424 14.2347 14.2679C14.0979 14.3934 13.9364 14.489 13.7605 14.5485C13.5846 14.6079 13.3983 14.63 13.2133 14.6133C11.1619 14.3904 9.19134 13.6894 7.46001 12.5667C5.84923 11.5431 4.48356 10.1774 3.46001 8.56665C2.33333 6.82745 1.63217 4.84731 1.41334 2.78665C1.39668 2.60229 1.41859 2.41649 1.47767 2.24107C1.53676 2.06564 1.63172 1.90444 1.75652 1.76773C1.88131 1.63102 2.03321 1.52179 2.20253 1.447C2.37186 1.37221 2.5549 1.33349 2.74001 1.33332H4.74001C5.06354 1.33013 5.3772 1.4447 5.62251 1.65567C5.86783 1.86664 6.02806 2.15961 6.07334 2.47998C6.15775 3.12003 6.31431 3.74847 6.54001 4.35332C6.6297 4.59193 6.64911 4.85126 6.59594 5.10057C6.54277 5.34988 6.41925 5.57872 6.24001 5.75998L5.39334 6.60665C6.34238 8.27568 7.72431 9.65761 9.39334 10.6067L10.24 9.75998C10.4213 9.58074 10.6501 9.45722 10.8994 9.40405C11.1487 9.35088 11.4081 9.37029 11.6467 9.45998C12.2515 9.68568 12.88 9.84224 13.52 9.92665C13.8439 9.97234 14.1396 10.1355 14.351 10.385C14.5624 10.6345 14.6748 10.953 14.6667 11.28Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,ri.jsx)("defs",{children:(0,ri.jsx)("clipPath",{id:"clip0_57_4648",children:(0,ri.jsx)("rect",{width:"16",height:"16",fill:"white"})})})]});function bse(e){return(0,ri.jsxs)("svg",{width:"71",height:"55",viewBox:"0 0 71 55",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...e,children:[(0,ri.jsx)("g",{clipPath:"url(#clip0)",children:(0,ri.jsx)("path",{d:"M60.1045 4.8978C55.5792 2.8214 50.7265 1.2916 45.6527 0.41542C45.5603 0.39851 45.468 0.440769 45.4204 0.525289C44.7963 1.6353 44.105 3.0834 43.6209 4.2216C38.1637 3.4046 32.7345 3.4046 27.3892 4.2216C26.905 3.0581 26.1886 1.6353 25.5617 0.525289C25.5141 0.443589 25.4218 0.40133 25.3294 0.41542C20.2584 1.2888 15.4057 2.8186 10.8776 4.8978C10.8384 4.9147 10.8048 4.9429 10.7825 4.9795C1.57795 18.7309 -0.943561 32.1443 0.293408 45.3914C0.299005 45.4562 0.335386 45.5182 0.385761 45.5576C6.45866 50.0174 12.3413 52.7249 18.1147 54.5195C18.2071 54.5477 18.305 54.5139 18.3638 54.4378C19.7295 52.5728 20.9469 50.6063 21.9907 48.5383C22.0523 48.4172 21.9935 48.2735 21.8676 48.2256C19.9366 47.4931 18.0979 46.6 16.3292 45.5858C16.1893 45.5041 16.1781 45.304 16.3068 45.2082C16.679 44.9293 17.0513 44.6391 17.4067 44.3461C17.471 44.2926 17.5606 44.2813 17.6362 44.3151C29.2558 49.6202 41.8354 49.6202 53.3179 44.3151C53.3935 44.2785 53.4831 44.2898 53.5502 44.3433C53.9057 44.6363 54.2779 44.9293 54.6529 45.2082C54.7816 45.304 54.7732 45.5041 54.6333 45.5858C52.8646 46.6197 51.0259 47.4931 49.0921 48.2228C48.9662 48.2707 48.9102 48.4172 48.9718 48.5383C50.038 50.6034 51.2554 52.5699 52.5959 54.435C52.6519 54.5139 52.7526 54.5477 52.845 54.5195C58.6464 52.7249 64.529 50.0174 70.6019 45.5576C70.6551 45.5182 70.6887 45.459 70.6943 45.3942C72.1747 30.0791 68.2147 16.7757 60.1968 4.9823C60.1772 4.9429 60.1437 4.9147 60.1045 4.8978ZM23.7259 37.3253C20.2276 37.3253 17.3451 34.1136 17.3451 30.1693C17.3451 26.225 20.1717 23.0133 23.7259 23.0133C27.308 23.0133 30.1626 26.2532 30.1066 30.1693C30.1066 34.1136 27.28 37.3253 23.7259 37.3253ZM47.3178 37.3253C43.8196 37.3253 40.9371 34.1136 40.9371 30.1693C40.9371 26.225 43.7636 23.0133 47.3178 23.0133C50.9 23.0133 53.7545 26.2532 53.6986 30.1693C53.6986 34.1136 50.9 37.3253 47.3178 37.3253Z",fill:"#5865F2"})}),(0,ri.jsx)("defs",{children:(0,ri.jsx)("clipPath",{id:"clip0",children:(0,ri.jsx)("rect",{width:"71",height:"55",fill:"white"})})})]})}function vse(e){return(0,ri.jsx)("svg",{height:"250px",preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 256 250",width:"256px",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...e,children:(0,ri.jsx)("g",{children:(0,ri.jsx)("path",{d:"M128.00106,0 C57.3172926,0 0,57.3066942 0,128.00106 C0,184.555281 36.6761997,232.535542 87.534937,249.460899 C93.9320223,250.645779 96.280588,246.684165 96.280588,243.303333 C96.280588,240.251045 96.1618878,230.167899 96.106777,219.472176 C60.4967585,227.215235 52.9826207,204.369712 52.9826207,204.369712 C47.1599584,189.574598 38.770408,185.640538 38.770408,185.640538 C27.1568785,177.696113 39.6458206,177.859325 39.6458206,177.859325 C52.4993419,178.762293 59.267365,191.04987 59.267365,191.04987 C70.6837675,210.618423 89.2115753,204.961093 96.5158685,201.690482 C97.6647155,193.417512 100.981959,187.77078 104.642583,184.574357 C76.211799,181.33766 46.324819,170.362144 46.324819,121.315702 C46.324819,107.340889 51.3250588,95.9223682 59.5132437,86.9583937 C58.1842268,83.7344152 53.8029229,70.715562 60.7532354,53.0843636 C60.7532354,53.0843636 71.5019501,49.6441813 95.9626412,66.2049595 C106.172967,63.368876 117.123047,61.9465949 128.00106,61.8978432 C138.879073,61.9465949 149.837632,63.368876 160.067033,66.2049595 C184.49805,49.6441813 195.231926,53.0843636 195.231926,53.0843636 C202.199197,70.715562 197.815773,83.7344152 196.486756,86.9583937 C204.694018,95.9223682 209.660343,107.340889 209.660343,121.315702 C209.660343,170.478725 179.716133,181.303747 151.213281,184.472614 C155.80443,188.444828 159.895342,196.234518 159.895342,208.176593 C159.895342,225.303317 159.746968,239.087361 159.746968,243.303333 C159.746968,246.709601 162.05102,250.70089 168.53925,249.443941 C219.370432,232.499507 256,184.536204 256,128.00106 C256,57.3066942 198.691187,0 128.00106,0 Z M47.9405593,182.340212 C47.6586465,182.976105 46.6581745,183.166873 45.7467277,182.730227 C44.8183235,182.312656 44.2968914,181.445722 44.5978808,180.80771 C44.8734344,180.152739 45.876026,179.97045 46.8023103,180.409216 C47.7328342,180.826786 48.2627451,181.702199 47.9405593,182.340212 Z M54.2367892,187.958254 C53.6263318,188.524199 52.4329723,188.261363 51.6232682,187.366874 C50.7860088,186.474504 50.6291553,185.281144 51.2480912,184.70672 C51.8776254,184.140775 53.0349512,184.405731 53.8743302,185.298101 C54.7115892,186.201069 54.8748019,187.38595 54.2367892,187.958254 Z M58.5562413,195.146347 C57.7719732,195.691096 56.4895886,195.180261 55.6968417,194.042013 C54.9125733,192.903764 54.9125733,191.538713 55.713799,190.991845 C56.5086651,190.444977 57.7719732,190.936735 58.5753181,192.066505 C59.3574669,193.22383 59.3574669,194.58888 58.5562413,195.146347 Z M65.8613592,203.471174 C65.1597571,204.244846 63.6654083,204.03712 62.5716717,202.981538 C61.4524999,201.94927 61.1409122,200.484596 61.8446341,199.710926 C62.5547146,198.935137 64.0575422,199.15346 65.1597571,200.200564 C66.2704506,201.230712 66.6095936,202.705984 65.8613592,203.471174 Z M75.3025151,206.281542 C74.9930474,207.284134 73.553809,207.739857 72.1039724,207.313809 C70.6562556,206.875043 69.7087748,205.700761 70.0012857,204.687571 C70.302275,203.678621 71.7478721,203.20382 73.2083069,203.659543 C74.6539041,204.09619 75.6035048,205.261994 75.3025151,206.281542 Z M86.046947,207.473627 C86.0829806,208.529209 84.8535871,209.404622 83.3316829,209.4237 C81.8013,209.457614 80.563428,208.603398 80.5464708,207.564772 C80.5464708,206.498591 81.7483088,205.631657 83.2786917,205.606221 C84.8005962,205.576546 86.046947,206.424403 86.046947,207.473627 Z M96.6021471,207.069023 C96.7844366,208.099171 95.7267341,209.156872 94.215428,209.438785 C92.7295577,209.710099 91.3539086,209.074206 91.1652603,208.052538 C90.9808515,206.996955 92.0576306,205.939253 93.5413813,205.66582 C95.054807,205.402984 96.4092596,206.021919 96.6021471,207.069023 Z",fill:"currentColor"})})})}function xse(e){return(0,ri.jsxs)("svg",{height:"250px",preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 24 24",width:"256px",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...e,children:[(0,ri.jsx)("path",{d:"M17.0722 11.6888C17.0471 8.90571 19.3263 7.56847 19.429 7.50274C18.1466 5.60938 16.153 5.35154 15.4417 5.3212C13.7461 5.14678 12.1306 6.32982 11.269 6.32982C10.4074 6.32982 9.08004 5.34648 7.67246 5.37429C5.82158 5.40209 4.11595 6.45874 3.16171 8.13218C1.24068 11.4942 2.6708 16.4817 4.54423 19.2143C5.46091 20.549 6.55041 22.0531 7.98554 21.9975C9.36803 21.9419 9.88905 21.095 11.5571 21.095C13.2251 21.095 13.696 21.9975 15.1537 21.9697C16.6389 21.9393 17.5806 20.6046 18.4897 19.2648C19.5392 17.7153 19.9725 16.2137 19.9975 16.1354C19.965 16.1228 17.1022 15.0155 17.0722 11.6888Z",fill:"#161614"}),(0,ri.jsx)("path",{d:"M14.3295 3.51373C15.0909 2.58347 15.6043 1.28921 15.4641 0C14.3671 0.0455014 13.0396 0.738135 12.2532 1.66838C11.5494 2.48994 10.9307 3.80695 11.0986 5.07089C12.3183 5.16694 13.5681 4.44145 14.3295 3.51373Z",fill:"#161614"})]})}function Ese(e){return(0,ri.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48",xmlnsXlink:"http://www.w3.org/1999/xlink",...e,children:[(0,ri.jsx)("path",{fill:"#4285F4",d:"M45.12 24.5c0-1.56-.14-3.06-.4-4.5H24v8.51h11.84c-.51 2.75-2.06 5.08-4.39 6.64v5.52h7.11c4.16-3.83 6.56-9.47 6.56-16.17z"}),(0,ri.jsx)("path",{fill:"#34A853",d:"M24 46c5.94 0 10.92-1.97 14.56-5.33l-7.11-5.52c-1.97 1.32-4.49 2.1-7.45 2.1-5.73 0-10.58-3.87-12.31-9.07H4.34v5.7C7.96 41.07 15.4 46 24 46z"}),(0,ri.jsx)("path",{fill:"#FBBC05",d:"M11.69 28.18C11.25 26.86 11 25.45 11 24s.25-2.86.69-4.18v-5.7H4.34A21.991 21.991 0 0 0 2 24c0 3.55.85 6.91 2.34 9.88l7.35-5.7z"}),(0,ri.jsx)("path",{fill:"#EA4335",d:"M24 10.75c3.23 0 6.13 1.11 8.41 3.29l6.31-6.31C34.91 4.18 29.93 2 24 2 15.4 2 7.96 6.93 4.34 14.12l7.35 5.7c1.73-5.2 6.58-9.07 12.31-9.07z"}),(0,ri.jsx)("path",{fill:"none",d:"M2 2h44v44H2z"})]})}function kse(e){return(0,ri.jsx)("svg",{version:"1.1",id:"Logo",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"-1 -1 26 26",xmlSpace:"preserve",...e,children:(0,ri.jsx)("g",{id:"Logo_1_",children:(0,ri.jsx)("path",{id:"white_background",style:{fill:"#000000"},d:"M 14.285156 10.171875 L 23.222656 0 L 21.105469 0 L 13.34375 8.832031 L 7.148438 0 L 0 0 L 9.371094 13.355469 L 0 24.019531 L 2.117188 24.019531 L 10.308594 14.691406 L 16.851562 24.019531 L 24 24.019531 M 2.878906 1.5625 L 6.132812 1.5625 L 21.101562 22.535156 L 17.851562 22.535156 "})})})}function _se(e){return(0,ri.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",imageRendering:"optimizeQuality",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",viewBox:"0 0 293768 333327",width:24,height:24,...e,children:[(0,ri.jsx)("path",{fill:"#26f4ee",d:"M204958 0c5369 45832 32829 78170 77253 81022v43471l-287 27V87593c-44424-2850-69965-30183-75333-76015l-47060-1v192819c6791 86790-60835 89368-86703 56462 30342 18977 79608 6642 73766-68039V0h58365zM78515 319644c-26591-5471-50770-21358-64969-44588-34496-56437-3401-148418 96651-157884v54345l-164 27v-40773C17274 145544 7961 245185 33650 286633c9906 15984 26169 27227 44864 33011z"}),(0,ri.jsx)("path",{fill:"#fb2c53",d:"M218434 11587c3505 29920 15609 55386 35948 70259-27522-10602-43651-34934-47791-70262l11843 3zm63489 82463c3786 804 7734 1348 11844 1611v51530c-25770 2537-48321-5946-74600-21749l4034 88251c0 28460 106 41467-15166 67648-34260 58734-95927 63376-137628 35401 54529 22502 137077-4810 136916-103049v-96320c26279 15803 48830 24286 74600 21748V94050zm-171890 37247c5390-1122 11048-1985 16998-2548v54345c-21666 3569-35427 10222-41862 22528-20267 38754 5827 69491 35017 74111-33931 5638-73721-28750-49999-74111 6434-12304 18180-18959 39846-22528v-51797zm64479-119719h1808-1808z"}),(0,ri.jsx)("path",{d:"M206590 11578c5369 45832 30910 73164 75333 76015v51528c-25770 2539-48321-5945-74600-21748v96320c206 125717-135035 135283-173673 72939-25688-41449-16376-141089 76383-155862v52323c-21666 3569-33412 10224-39846 22528-39762 76035 98926 121273 89342-1225V11577l47060 1z",fill:"#000000"})]})}function Cse(e){return(0,ri.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"20",height:"20",viewBox:"0 0 20 20",...e,children:[(0,ri.jsxs)("g",{clipPath:"url(#clip0_1580_632)",children:[(0,ri.jsx)("path",{d:"M18.5196 0H1.47622C0.661774 0 0 0.645527 0 1.4415V18.5568C0 19.3535 0.661774 20 1.47622 20H18.5196C19.3354 20 20 19.3535 20 18.5568V1.4415C20 0.645527 19.3354 0 18.5196 0Z",fill:"#0977B6"}),(0,ri.jsx)("path",{d:"M4.44936 2.75342C5.39763 2.75342 6.16829 3.52424 6.16829 4.47286C6.16829 5.42232 5.39763 6.19325 4.44936 6.19325C3.49858 6.19325 2.729 5.42232 2.729 4.47286C2.729 3.52424 3.49858 2.75342 4.44936 2.75342ZM2.96538 7.49805H5.93192V17.0426H2.96538V7.49805Z",fill:"white"}),(0,ri.jsx)("path",{d:"M7.79199 7.49809H10.6375V8.80214H10.677C11.0728 8.05177 12.0405 7.2605 13.4836 7.2605C16.4875 7.2605 17.042 9.23743 17.042 11.8072V17.0427H14.0776V12.4012C14.0776 11.2938 14.0574 9.87011 12.5362 9.87011C10.9926 9.87011 10.7562 11.076 10.7562 12.321V17.0427H7.79199L7.79199 7.49809Z",fill:"white"})]}),(0,ri.jsx)("defs",{children:(0,ri.jsx)("clipPath",{id:"clip0_1580_632",children:(0,ri.jsx)("rect",{width:"20",height:"20",fill:"white"})})})]})}function Sse(e){return(0,ri.jsxs)("svg",{width:"1000",height:"1000",viewBox:"0 0 1000 1000",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,ri.jsx)("rect",{width:"1000",height:"1000",rx:"200",fill:"#855DCD"}),(0,ri.jsx)("path",{d:"M257.778 155.556H742.222V844.444H671.111V528.889H670.414C662.554 441.677 589.258 373.333 500 373.333C410.742 373.333 337.446 441.677 329.586 528.889H328.889V844.444H257.778V155.556Z",fill:"white"}),(0,ri.jsx)("path",{d:"M128.889 253.333L157.778 351.111H182.222V746.667C169.949 746.667 160 756.616 160 768.889V795.556H155.556C143.283 795.556 133.333 805.505 133.333 817.778V844.444H382.222V817.778C382.222 805.505 372.273 795.556 360 795.556H355.556V768.889C355.556 756.616 345.606 746.667 333.333 746.667H306.667V253.333H128.889Z",fill:"white"}),(0,ri.jsx)("path",{d:"M675.556 746.667C663.283 746.667 653.333 756.616 653.333 768.889V795.556H648.889C636.616 795.556 626.667 805.505 626.667 817.778V844.444H875.556V817.778C875.556 805.505 865.606 795.556 853.333 795.556H848.889V768.889C848.889 756.616 838.94 746.667 826.667 746.667V351.111H851.111L880 253.333H702.222V746.667H675.556Z",fill:"white"})]})}function Ise(e){return(0,ri.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",...e,children:[(0,ri.jsx)("path",{fill:"#1ed760",d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8Z"}),(0,ri.jsx)("path",{d:"M406.6 231.1c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3zm-31 76.2c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm-26.9 65.6c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4z"})]})}function Ase(e){return(0,ri.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:26,height:26,viewBox:"0 0 140 140",x:"0px",y:"0px",fill:"none",...e,children:[(0,ri.jsxs)("defs",{children:[(0,ri.jsxs)("linearGradient",{id:"b",children:[(0,ri.jsx)("stop",{offset:"0",stopColor:"#3771c8"}),(0,ri.jsx)("stop",{stopColor:"#3771c8",offset:".128"}),(0,ri.jsx)("stop",{offset:"1",stopColor:"#60f",stopOpacity:"0"})]}),(0,ri.jsxs)("linearGradient",{id:"a",children:[(0,ri.jsx)("stop",{offset:"0",stopColor:"#fd5"}),(0,ri.jsx)("stop",{offset:".1",stopColor:"#fd5"}),(0,ri.jsx)("stop",{offset:".5",stopColor:"#ff543e"}),(0,ri.jsx)("stop",{offset:"1",stopColor:"#c837ab"})]}),(0,ri.jsx)("radialGradient",{id:"c",cx:"158.429",cy:"578.088",r:"65",xlinkHref:"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -1.98198 1.8439 0 -1031.402 454.004)",fx:"158.429",fy:"578.088"}),(0,ri.jsx)("radialGradient",{id:"d",cx:"147.694",cy:"473.455",r:"65",xlinkHref:"#b",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.17394 .86872 -3.5818 .71718 1648.348 -458.493)",fx:"147.694",fy:"473.455"})]}),(0,ri.jsx)("path",{fill:"url(#c)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),(0,ri.jsx)("path",{fill:"url(#d)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),(0,ri.jsx)("path",{fill:"#fff",d:"M66.004 18c-13.036 0-14.672.057-19.792.29-5.11.234-8.598 1.043-11.65 2.23-3.157 1.226-5.835 2.866-8.503 5.535-2.67 2.668-4.31 5.346-5.54 8.502-1.19 3.053-2 6.542-2.23 11.65C18.06 51.327 18 52.964 18 66s.058 14.667.29 19.787c.235 5.11 1.044 8.598 2.23 11.65 1.227 3.157 2.867 5.835 5.536 8.503 2.667 2.67 5.345 4.314 8.5 5.54 3.054 1.187 6.543 1.996 11.652 2.23 5.12.233 6.755.29 19.79.29 13.037 0 14.668-.057 19.788-.29 5.11-.234 8.602-1.043 11.656-2.23 3.156-1.226 5.83-2.87 8.497-5.54 2.67-2.668 4.31-5.346 5.54-8.502 1.18-3.053 1.99-6.542 2.23-11.65.23-5.12.29-6.752.29-19.788 0-13.036-.06-14.672-.29-19.792-.24-5.11-1.05-8.598-2.23-11.65-1.23-3.157-2.87-5.835-5.54-8.503-2.67-2.67-5.34-4.31-8.5-5.535-3.06-1.187-6.55-1.996-11.66-2.23-5.12-.233-6.75-.29-19.79-.29zm-4.306 8.65c1.278-.002 2.704 0 4.306 0 12.816 0 14.335.046 19.396.276 4.68.214 7.22.996 8.912 1.653 2.24.87 3.837 1.91 5.516 3.59 1.68 1.68 2.72 3.28 3.592 5.52.657 1.69 1.44 4.23 1.653 8.91.23 5.06.28 6.58.28 19.39s-.05 14.33-.28 19.39c-.214 4.68-.996 7.22-1.653 8.91-.87 2.24-1.912 3.835-3.592 5.514-1.68 1.68-3.275 2.72-5.516 3.59-1.69.66-4.232 1.44-8.912 1.654-5.06.23-6.58.28-19.396.28-12.817 0-14.336-.05-19.396-.28-4.68-.216-7.22-.998-8.913-1.655-2.24-.87-3.84-1.91-5.52-3.59-1.68-1.68-2.72-3.276-3.592-5.517-.657-1.69-1.44-4.23-1.653-8.91-.23-5.06-.276-6.58-.276-19.398s.046-14.33.276-19.39c.214-4.68.996-7.22 1.653-8.912.87-2.24 1.912-3.84 3.592-5.52 1.68-1.68 3.28-2.72 5.52-3.592 1.692-.66 4.233-1.44 8.913-1.655 4.428-.2 6.144-.26 15.09-.27zm29.928 7.97c-3.18 0-5.76 2.577-5.76 5.758 0 3.18 2.58 5.76 5.76 5.76 3.18 0 5.76-2.58 5.76-5.76 0-3.18-2.58-5.76-5.76-5.76zm-25.622 6.73c-13.613 0-24.65 11.037-24.65 24.65 0 13.613 11.037 24.645 24.65 24.645C79.617 90.645 90.65 79.613 90.65 66S79.616 41.35 66.003 41.35zm0 8.65c8.836 0 16 7.163 16 16 0 8.836-7.164 16-16 16-8.837 0-16-7.164-16-16 0-8.837 7.163-16 16-16z"})]})}function Tse(e){return(0,ri.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 240 240",...e,children:[(0,ri.jsx)("defs",{children:(0,ri.jsxs)("linearGradient",{x1:"120",y1:"240",x2:"120",gradientUnits:"userSpaceOnUse",id:"telegram-linear-gradient",children:[(0,ri.jsx)("stop",{offset:"0",stopColor:"#1d93d2"}),(0,ri.jsx)("stop",{offset:"1",stopColor:"#38b0e3"})]})}),(0,ri.jsx)("title",{children:"Telegram_logo"}),(0,ri.jsx)("circle",{cx:"120",cy:"120",r:"120",fill:"url(#telegram-linear-gradient)"}),(0,ri.jsx)("path",{d:"M81.229,128.772l14.237,39.406s1.78,3.687,3.686,3.687,30.255-29.492,30.255-29.492l31.525-60.89L81.737,118.6Z",fill:"#c8daea"}),(0,ri.jsx)("path",{d:"M100.106,138.878l-2.733,29.046s-1.144,8.9,7.754,0,17.415-15.763,17.415-15.763",fill:"#a9c6d8"}),(0,ri.jsx)("path",{d:"M81.486,130.178,52.2,120.636s-3.5-1.42-2.373-4.64c.232-.664.7-1.229,2.1-2.2,6.489-4.523,120.106-45.36,120.106-45.36s3.208-1.081,5.1-.362a2.766,2.766,0,0,1,1.885,2.055,9.357,9.357,0,0,1,.254,2.585c-.009.752-.1,1.449-.169,2.542-.692,11.165-21.4,94.493-21.4,94.493s-1.239,4.876-5.678,5.043A8.13,8.13,0,0,1,146.1,172.5c-8.711-7.493-38.819-27.727-45.472-32.177a1.27,1.27,0,0,1-.546-.9c-.093-.469.417-1.05.417-1.05s52.426-46.6,53.821-51.492c.108-.379-.3-.566-.848-.4-3.482,1.281-63.844,39.4-70.506,43.607A3.21,3.21,0,0,1,81.486,130.178Z",fill:"#fff"})]})}const Pse=({...e})=>(0,ri.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[(0,ri.jsx)("path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"}),(0,ri.jsx)("path",{d:"m9 12 2 2 4-4"})]}),Ose=e=>(0,ri.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",x:0,y:0,viewBox:"0 0 318.6 318.6",width:"318.6px",height:"318.6px",...e,children:[(0,ri.jsx)("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),(0,ri.jsx)("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),(0,ri.jsx)("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),(0,ri.jsx)("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),(0,ri.jsx)("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),(0,ri.jsx)("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),(0,ri.jsx)("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),(0,ri.jsx)("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),(0,ri.jsx)("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),(0,ri.jsx)("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),(0,ri.jsx)("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),(0,ri.jsx)("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),(0,ri.jsx)("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]}),jse=e=>(0,ri.jsxs)("svg",{width:"120px",height:"120px",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,ri.jsx)("g",{clipPath:"url(#clip0_5_32)",children:(0,ri.jsxs)("g",{clipPath:"url(#clip1_5_32)",children:[(0,ri.jsx)("mask",{id:"mask0_5_32",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"120",height:"120",children:(0,ri.jsx)("path",{d:"M78.163 0H41.837C29.79 0 23.767 0 17.283 2.04999C10.203 4.62701 4.627 10.203 2.05 17.283C0 23.767 0 29.791 0 41.837V78.163C0 90.21 0 96.232 2.05 102.717C4.627 109.797 10.203 115.373 17.283 117.949C23.767 120 29.79 120 41.837 120H78.163C90.21 120 96.232 120 102.717 117.949C109.797 115.373 115.373 109.797 117.95 102.717C120 96.232 120 90.21 120 78.163V41.837C120 29.791 120 23.767 117.95 17.283C115.373 10.203 109.797 4.62701 102.717 2.04999C96.232 0 90.21 0 78.163 0Z",fill:"black"})}),(0,ri.jsx)("g",{mask:"url(#mask0_5_32)",children:(0,ri.jsx)("rect",{width:"120",height:"120",fill:"url(#paint0_linear_5_32)"})}),(0,ri.jsx)("path",{d:"M20 38H26C56.9279 38 82 63.0721 82 94V100H94C97.3137 100 100 97.3137 100 94C100 53.1309 66.8691 20 26 20C22.6863 20 20 22.6863 20 26V38Z",fill:"url(#paint1_radial_5_32)"}),(0,ri.jsx)("path",{d:"M84 94H100C100 97.3137 97.3137 100 94 100H84V94Z",fill:"url(#paint2_linear_5_32)"}),(0,ri.jsx)("path",{d:"M26 20L26 36H20L20 26C20 22.6863 22.6863 20 26 20Z",fill:"url(#paint3_linear_5_32)"}),(0,ri.jsx)("path",{d:"M20 36H26C58.0325 36 84 61.9675 84 94V100H66V94C66 71.9086 48.0914 54 26 54H20V36Z",fill:"url(#paint4_radial_5_32)"}),(0,ri.jsx)("path",{d:"M68 94H84V100H68V94Z",fill:"url(#paint5_linear_5_32)"}),(0,ri.jsx)("path",{d:"M20 52L20 36L26 36L26 52H20Z",fill:"url(#paint6_linear_5_32)"}),(0,ri.jsx)("path",{d:"M20 62C20 65.3137 22.6863 68 26 68C40.3594 68 52 79.6406 52 94C52 97.3137 54.6863 100 58 100H68V94C68 70.804 49.196 52 26 52H20V62Z",fill:"url(#paint7_radial_5_32)"}),(0,ri.jsx)("path",{d:"M52 94H68V100H58C54.6863 100 52 97.3137 52 94Z",fill:"url(#paint8_radial_5_32)"}),(0,ri.jsx)("path",{d:"M26 68C22.6863 68 20 65.3137 20 62L20 52L26 52L26 68Z",fill:"url(#paint9_radial_5_32)"})]})}),(0,ri.jsxs)("defs",{children:[(0,ri.jsxs)("linearGradient",{id:"paint0_linear_5_32",x1:"60",y1:"0",x2:"60",y2:"120",gradientUnits:"userSpaceOnUse",children:[(0,ri.jsx)("stop",{stopColor:"#174299"}),(0,ri.jsx)("stop",{offset:"1",stopColor:"#001E59"})]}),(0,ri.jsxs)("radialGradient",{id:"paint1_radial_5_32",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(26 94) rotate(-90) scale(74)",children:[(0,ri.jsx)("stop",{offset:"0.770277",stopColor:"#FF4000"}),(0,ri.jsx)("stop",{offset:"1",stopColor:"#8754C9"})]}),(0,ri.jsxs)("linearGradient",{id:"paint2_linear_5_32",x1:"83",y1:"97",x2:"100",y2:"97",gradientUnits:"userSpaceOnUse",children:[(0,ri.jsx)("stop",{stopColor:"#FF4000"}),(0,ri.jsx)("stop",{offset:"1",stopColor:"#8754C9"})]}),(0,ri.jsxs)("linearGradient",{id:"paint3_linear_5_32",x1:"23",y1:"20",x2:"23",y2:"37",gradientUnits:"userSpaceOnUse",children:[(0,ri.jsx)("stop",{stopColor:"#8754C9"}),(0,ri.jsx)("stop",{offset:"1",stopColor:"#FF4000"})]}),(0,ri.jsxs)("radialGradient",{id:"paint4_radial_5_32",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(26 94) rotate(-90) scale(58)",children:[(0,ri.jsx)("stop",{offset:"0.723929",stopColor:"#FFF700"}),(0,ri.jsx)("stop",{offset:"1",stopColor:"#FF9901"})]}),(0,ri.jsxs)("linearGradient",{id:"paint5_linear_5_32",x1:"68",y1:"97",x2:"84",y2:"97",gradientUnits:"userSpaceOnUse",children:[(0,ri.jsx)("stop",{stopColor:"#FFF700"}),(0,ri.jsx)("stop",{offset:"1",stopColor:"#FF9901"})]}),(0,ri.jsxs)("linearGradient",{id:"paint6_linear_5_32",x1:"23",y1:"52",x2:"23",y2:"36",gradientUnits:"userSpaceOnUse",children:[(0,ri.jsx)("stop",{stopColor:"#FFF700"}),(0,ri.jsx)("stop",{offset:"1",stopColor:"#FF9901"})]}),(0,ri.jsxs)("radialGradient",{id:"paint7_radial_5_32",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(26 94) rotate(-90) scale(42)",children:[(0,ri.jsx)("stop",{offset:"0.59513",stopColor:"#00AAFF"}),(0,ri.jsx)("stop",{offset:"1",stopColor:"#01DA40"})]}),(0,ri.jsxs)("radialGradient",{id:"paint8_radial_5_32",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(51 97) scale(17 45.3333)",children:[(0,ri.jsx)("stop",{stopColor:"#00AAFF"}),(0,ri.jsx)("stop",{offset:"1",stopColor:"#01DA40"})]}),(0,ri.jsxs)("radialGradient",{id:"paint9_radial_5_32",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(23 69) rotate(-90) scale(17 322.37)",children:[(0,ri.jsx)("stop",{stopColor:"#00AAFF"}),(0,ri.jsx)("stop",{offset:"1",stopColor:"#01DA40"})]}),(0,ri.jsx)("clipPath",{id:"clip0_5_32",children:(0,ri.jsx)("rect",{width:"120",height:"120",fill:"white"})}),(0,ri.jsx)("clipPath",{id:"clip1_5_32",children:(0,ri.jsx)("rect",{width:"120",height:"120",fill:"white"})})]})]}),Nse=e=>(0,ri.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108px",height:"108px",viewBox:"0 0 108 108",fill:"none",...e,children:[(0,ri.jsx)("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),(0,ri.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]}),Rse=e=>(0,ri.jsxs)("svg",{width:"1024px",height:"1024px",viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,ri.jsx)("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),(0,ri.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}),$se=e=>(0,ri.jsxs)("svg",{width:"176",height:"176",viewBox:"0 0 176 176",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,ri.jsxs)("g",{clipPath:"url(#clip0_1704_1423)",children:[(0,ri.jsx)("path",{d:"M126.233 176H49.7672C22.287 176 0 153.723 0 126.233V49.7673C0 22.287 22.2769 0 49.7672 0H126.233C153.713 0 176 22.277 176 49.7673V126.233C176 153.723 153.713 176 126.233 176Z",fill:"#2461ED"}),(0,ri.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M100.667 85.6591C83.4133 76.3353 62.4196 64.2443 46.6192 54.3891C41.9573 51.0306 44.3234 43.9023 49.9578 43.9023H128.138C132.499 43.9023 135.416 48.7648 133.231 52.4442C127.977 61.5174 120.308 73.0368 113.901 82.1702C110.462 87.0727 104.858 87.9149 100.667 85.6591ZM75.5031 88.6867C92.1858 97.5795 115.566 111.104 132.178 121.33C137.311 124.498 135.266 132.098 129.271 132.098C119.46 132.098 103.518 132.1 87.6592 132.103C71.9639 132.105 56.3497 132.108 46.8398 132.108C42.0476 132.108 39.5913 127.135 41.6265 123.666C48.5041 111.946 56.2338 100.116 62.6603 91.2834C65.5176 87.3433 71.3325 86.461 75.5031 88.6867Z",fill:"white"})]}),(0,ri.jsx)("defs",{children:(0,ri.jsx)("clipPath",{id:"clip0_1704_1423",children:(0,ri.jsx)("rect",{width:"176",height:"176",fill:"white"})})})]}),Mse=e=>(0,ri.jsxs)("svg",{width:"52",height:"52",viewBox:"0 0 52 52",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,ri.jsx)("rect",{width:"52",height:"52",rx:"26",fill:"#7084FF"}),(0,ri.jsx)("path",{d:"M43.6781 28.2954C45.1053 25.0988 38.0498 16.168 31.3094 12.4472C27.0608 9.56481 22.6337 9.96081 21.737 11.2264C19.7693 14.0039 28.2527 16.3574 33.9263 19.1037C32.7067 19.6348 31.5574 20.5879 30.8816 21.8067C28.7664 19.4915 24.1239 17.4977 18.6765 19.1037C15.0056 20.186 11.9547 22.7374 10.7756 26.5911C10.4891 26.4635 10.1719 26.3925 9.83814 26.3925C8.56192 26.3925 7.52734 27.4298 7.52734 28.7094C7.52734 29.989 8.56192 31.0263 9.83814 31.0263C10.0747 31.0263 10.8143 30.8672 10.8143 30.8672L22.6337 30.953C17.9068 38.4713 14.1713 39.5704 14.1713 40.8729C14.1713 42.1754 17.7455 41.8224 19.0876 41.3369C25.5121 39.0127 32.4123 31.7692 33.5964 29.6841C38.5688 30.3061 42.7476 30.3796 43.6781 28.2954Z",fill:"url(#paint0_linear_81034_11443)"}),(0,ri.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.8741 19.076C33.8926 19.084 33.911 19.092 33.9294 19.1001C34.1923 18.9962 34.1498 18.6068 34.0776 18.301C33.9116 17.5981 31.0479 14.7629 28.3588 13.493C24.6934 11.762 21.9946 11.8518 21.5972 12.65C22.3407 14.1849 25.8031 15.6258 29.4193 17.1308C30.9407 17.7639 32.4893 18.4084 33.8741 19.076Z",fill:"url(#paint1_linear_81034_11443)"}),(0,ri.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.272 34.5374C28.5323 34.2543 27.697 33.9945 26.7477 33.7587C27.7625 31.9382 27.9754 29.2432 27.0171 27.5392C25.6721 25.1478 23.9838 23.875 20.0605 23.875C17.9027 23.875 12.093 24.6037 11.9899 29.4663C11.9791 29.9743 11.9895 30.44 12.026 30.8685L22.6335 30.9456C21.2017 33.2229 19.8609 34.9113 18.6873 36.1947C20.0979 36.5571 21.2615 36.8612 22.3297 37.1404C23.3394 37.4043 24.2638 37.646 25.2309 37.8934C26.6941 36.8249 28.0698 35.6597 29.272 34.5374Z",fill:"url(#paint2_linear_81034_11443)"}),(0,ri.jsx)("path",{d:"M10.6324 30.3712C11.0658 34.065 13.1596 35.5127 17.4381 35.9411C21.7166 36.3695 24.1708 36.0821 27.4381 36.3801C30.167 36.6291 32.6036 38.0233 33.5075 37.5415C34.321 37.1079 33.8659 35.5412 32.7774 34.5361C31.3663 33.2333 29.4135 32.3274 25.9773 32.006C26.6621 30.1261 26.4702 27.4903 25.4067 26.0562C23.8689 23.9827 21.0305 23.0453 17.4381 23.4549C13.6848 23.8828 10.0885 25.7354 10.6324 30.3712Z",fill:"url(#paint3_linear_81034_11443)"}),(0,ri.jsxs)("defs",{children:[(0,ri.jsxs)("linearGradient",{id:"paint0_linear_81034_11443",x1:"18.249",y1:"25.4646",x2:"43.3806",y2:"32.5728",gradientUnits:"userSpaceOnUse",children:[(0,ri.jsx)("stop",{stopColor:"white"}),(0,ri.jsx)("stop",{offset:"1",stopColor:"white"})]}),(0,ri.jsxs)("linearGradient",{id:"paint1_linear_81034_11443",x1:"39.1432",y1:"24.9813",x2:"20.9691",y2:"6.81008",gradientUnits:"userSpaceOnUse",children:[(0,ri.jsx)("stop",{stopColor:"#8697FF"}),(0,ri.jsx)("stop",{offset:"1",stopColor:"#8697FF","stop-opacity":"0"})]}),(0,ri.jsxs)("linearGradient",{id:"paint2_linear_81034_11443",x1:"29.7761",y1:"35.1727",x2:"12.345",y2:"25.1792",gradientUnits:"userSpaceOnUse",children:[(0,ri.jsx)("stop",{stopColor:"#8697FF"}),(0,ri.jsx)("stop",{offset:"1",stopColor:"#8697FF","stop-opacity":"0"})]}),(0,ri.jsxs)("linearGradient",{id:"paint3_linear_81034_11443",x1:"19.7472",y1:"25.2716",x2:"31.5549",y2:"40.2352",gradientUnits:"userSpaceOnUse",children:[(0,ri.jsx)("stop",{stopColor:"white"}),(0,ri.jsx)("stop",{offset:"0.983895",stopColor:"#D1D8FF"})]})]})]});function Lse({method:e,size:t=14}){let n=Mf();switch(e.toLowerCase()){case"email":return(0,ri.jsx)(yse,{width:t,height:t});case"phone":return(0,ri.jsx)(wse,{width:t,height:t});case"google":return(0,ri.jsx)(Ese,{width:t,height:t});case"apple":return(0,ri.jsx)(xse,{width:t,height:t});case"twitter":return(0,ri.jsx)(kse,{width:t,height:t});case"discord":return(0,ri.jsx)(bse,{width:t,height:t});case"github":return(0,ri.jsx)(vse,{width:t,height:t});case"spotify":return(0,ri.jsx)(Ise,{width:t,height:t});case"instagram":return(0,ri.jsx)(Ase,{width:t,height:t});case"tiktok":return(0,ri.jsx)(_se,{width:t,height:t});case"line":return(0,ri.jsx)(hq,{width:t,height:t});case"twitch":return(0,ri.jsx)(mq,{width:t,height:t});case"linkedin":return(0,ri.jsx)(Cse,{width:t,height:t});case"farcaster":return(0,ri.jsx)(Sse,{width:t,height:t});case"telegram":return(0,ri.jsx)(Tse,{width:t,height:t});case"metamask":return(0,ri.jsx)(Ose,{width:t,height:t});case"coinbase":case"coinbase_wallet":case"base_account":return(0,ri.jsx)(Rse,{width:t,height:t});case"phantom":return(0,ri.jsx)(Nse,{width:t,height:t});case"rabby":case"rabby_wallet":return(0,ri.jsx)(Mse,{width:t,height:t});case"rainbow":return(0,ri.jsx)(jse,{width:t,height:t});case"zerion":return(0,ri.jsx)($se,{width:t,height:t});case"passkey":return(0,ri.jsx)(gse,{width:t,height:t});case"custom_auth":return(0,ri.jsx)(Pse,{width:t,height:t});case"wallet":case"cross_app":case"external_wallet":case"embedded_wallet":case"smart_wallet":case"unknown":return(0,ri.jsx)(TJ,{width:t,height:t});default:if(oq(e)){let r=n.customOAuthProviders?.find(t=>t.provider===e);if(r?.provider_icon_url)return(0,ri.jsx)("img",{src:r.provider_icon_url,width:t,height:t})}return(0,ri.jsx)(mse,{width:t,height:t})}}function Bse(e){if(oq(e.type))return e.type;switch(e.type){case"email":case"phone":case"passkey":case"farcaster":case"telegram":case"custom_auth":case"smart_wallet":return e.type;case"google_oauth":case"apple_oauth":case"twitter_oauth":case"discord_oauth":case"github_oauth":case"spotify_oauth":case"instagram_oauth":case"tiktok_oauth":case"line_oauth":case"linkedin_oauth":case"twitch_oauth":return e.type.replace("_oauth","");case"wallet":switch(e.walletClientType){case"metamask":case"coinbase":case"coinbase_wallet":case"base_account":case"phantom":case"rabby":case"rabby_wallet":case"rainbow":case"zerion":return e.walletClientType;default:return"wallet"}case"cross_app":return"wallet";default:return""}}function Use({account:e,isCopyable:t}){return(0,ri.jsxs)(ri.Fragment,{children:[(0,ri.jsx)(Lse,{method:Bse(e)}),Dse(e,t)]})}function Dse(e,t){switch(e.type){case"email":return e.address;case"phone":return e.number;case"wallet":case"smart_wallet":return t?(0,ri.jsx)(pJ,{value:e.address,children:Aq(e.address)}):Aq(e.address);default:return e.email||e.username||e.subject||e.credentialId}}function Fse({isCopyable:e}){let{wallets:t}=NG(),n=zse();if(n)return(0,ri.jsx)(Use,{isCopyable:e,account:n});let r=t[0];return r?(0,ri.jsx)(Use,{isCopyable:e,account:{type:"wallet",walletClientType:r.walletClientType,address:r.address}}):null}let zse=()=>{let{user:e}=eV(),{accountType:t,walletClientType:n,chainType:r}=uY();if(e)return e.linkedAccounts.find(e=>"wallet"===t&&"wallet"===e.type?e.walletClientType===n&&e.chainType===r:e.type===t)??e.linkedAccounts[0]};const Wse=({...e})=>(0,ri.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[(0,ri.jsx)("path",{d:"m12 19-7-7 7-7"}),(0,ri.jsx)("path",{d:"M19 12H5"})]});let qse=(0,ei.createContext)({screen:"Account",setScreen:e=>{},menuData:{walletData:null},setMenuData:e=>{},history:[],goBack:()=>{},reset:()=>{}});const Hse=()=>(0,ei.useContext)(qse);function Vse({children:e}){let[t,n]=(0,ei.useState)("Account"),[r,i]=(0,ei.useState)({walletData:null}),[s,o]=(0,ei.useState)([]);return(0,ri.jsx)(qse.Provider,{value:{history:s,goBack:()=>{if(0===s.length)return;let e=[...s],t=e.pop();t&&(o(e),n(t))},screen:t,setScreen:e=>{o([...s,t]),n(e)},menuData:r,setMenuData:e=>{i(e)},reset:()=>{n("Account"),o([])}},children:e})}function Kse(){let{history:e,goBack:t}=Hse();return 0===e.length?null:(0,ri.jsx)("button",{onClick:()=>t(),children:(0,ri.jsx)(Wse,{})})}const Gse=({...e})=>(0,ri.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,ri.jsx)("path",{d:"M4 12L12 4M4 4L12 12",stroke:"black",strokeOpacity:"0.8",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})});let Zse=ei.createContext(null);const Yse=()=>{let e=ei.useContext(Zse);if(null==e)throw Error("Popover components must be wrapped in <Popover />");return e};function Jse({children:e,modal:t=!1,...n}){let r=function({initialOpen:e=!1,placement:t="bottom",modal:n,onOpenChange:r}={}){let[i,s]=ei.useState(e),[o,a]=ei.useState(),[c,l]=ei.useState(),u=e=>{s(e),r?.(e)},d=DF({placement:t,open:i,onOpenChange:u,whileElementsMounted:ID,middleware:[UD(5),FD({crossAxis:t.includes("-"),fallbackAxisSideDirection:"end",padding:5}),DD({padding:5})]}),h=d.context,f=qF([$F(h,{enabled:!0}),UF(h),VF(h)]);return ei.useMemo(()=>({open:i,setOpen:u,...f,...d,modal:n,labelId:o,descriptionId:c,setLabelId:a,setDescriptionId:l}),[i,u,f,d,n,o,c])}({modal:t,...n});return(0,ri.jsx)(Zse.Provider,{value:r,children:e})}const Qse=ei.forwardRef(function({children:e,asChild:t=!1,...n},r){let i=Yse(),s=e.ref,o=zD([i.refs.setReference,r,s]);return t&&ei.isValidElement(e)?ei.cloneElement(e,i.getReferenceProps({ref:o,...n,...e.props,"data-state":i.open?"open":"closed"})):(0,ri.jsx)("button",{ref:o,type:"button","data-state":i.open?"open":"closed",...i.getReferenceProps(n),children:e})}),Xse=ei.forwardRef(function({style:e,...t},n){let{context:r,...i}=Yse(),s=zD([i.refs.setFloating,n]),{isMounted:o,styles:a}=function(e,t){void 0===t&&(t={});const{initial:n={opacity:0},open:r,close:i,common:s,duration:o=250}=t,a=e.placement,c=a.split("-")[0],l=ei.useMemo(()=>({side:c,placement:a}),[c,a]),u="number"==typeof o,d=(u?o:o.open)||0,h=(u?o:o.close)||0,[f,p]=ei.useState(()=>({...GF(s,l),...GF(n,l)})),{isMounted:g,status:m}=function(e,t){void 0===t&&(t={});const{open:n,elements:{floating:r}}=e,{duration:i=250}=t,s=("number"==typeof i?i:i.close)||0,[o,a]=ei.useState("unmounted"),c=function(e,t){const[n,r]=ei.useState(e);return e&&!n&&r(!0),ei.useEffect(()=>{if(!e&&n){const e=setTimeout(()=>r(!1),t);return()=>clearTimeout(e)}},[e,n,t]),n}(n,s);return c||"close"!==o||a("unmounted"),VD(()=>{if(r){if(n){a("initial");const e=requestAnimationFrame(()=>{a("open")});return()=>{cancelAnimationFrame(e)}}a("close")}},[n,r]),{isMounted:c,status:o}}(e,{duration:o}),y=rF(n),w=rF(r),b=rF(i),v=rF(s);return VD(()=>{const e=GF(y.current,l),t=GF(b.current,l),n=GF(v.current,l),r=GF(w.current,l)||Object.keys(e).reduce((e,t)=>(e[t]="",e),{});if("initial"===m&&p(t=>({transitionProperty:t.transitionProperty,...n,...e})),"open"===m&&p({transitionProperty:Object.keys(r).map(KF).join(","),transitionDuration:d+"ms",...n,...r}),"close"===m){const r=t||e;p({transitionProperty:Object.keys(r).map(KF).join(","),transitionDuration:h+"ms",...n,...r})}},[h,b,y,w,v,d,m,l]),{isMounted:g,styles:f}}(r,{initial:{opacity:0,transform:"scale(0.9)",transformOrigin:"top right"}});return(0,ri.jsx)(CF,{children:(0,ri.jsx)(jF,{context:r,modal:i.modal,children:(0,ri.jsx)("div",o?{ref:s,style:{...i.floatingStyles,...e},"aria-labelledby":i.labelId,"aria-describedby":i.descriptionId,...i.getFloatingProps(t),children:(0,ri.jsx)("div",{style:a,children:t.children})}:{})})})}),eoe=ei.forwardRef(function(e,t){let{setOpen:n}=Yse();return(0,ri.jsx)("button",{type:"button",ref:t,...e,onClick:t=>{e.onClick?.(t),n(!1)}})}),toe=Ay.div.withConfig({displayName:"MenuContainer",componentId:"sc-29acee9f-0"})(["--background:var(--privy-color-background);--foreground:var(--privy-color-foreground);background:var(--background);border-radius:var(--privy-border-radius-md);box-shadow:0px 0px 20px -3px rgba(0,0,0,0.1),0px 4px 10px -3px rgba(0,0,0,0.08);color:var(--foreground);display:flex;flex-direction:column;gap:1.25rem;width:22.5rem;"]),noe=Ay.div.withConfig({displayName:"WalletItemContainer",componentId:"sc-29acee9f-1"})(["display:flex;align-items:center;justify-content:space-between;width:100%;"]),roe=Ay.div.withConfig({displayName:"AccountContainer",componentId:"sc-29acee9f-2"})(["display:flex;align-items:center;gap:0.5rem;"]),ioe=Ay.div.withConfig({displayName:"MenuHeader",componentId:"sc-29acee9f-3"})(["position:relative;display:flex;align-items:flex-end;"]),soe=Ay.div.withConfig({displayName:"MenuTitle",componentId:"sc-29acee9f-4"})(["display:flex;align-items:center;gap:0.5rem;font-size:1.125rem;font-weight:500;line-height:30px;padding-top:2.5rem;padding-left:1.5rem;padding-right:3.375rem;width:100%;"]),ooe=Ay.div.withConfig({displayName:"MenuContent",componentId:"sc-29acee9f-5"})(["display:flex;flex-direction:column;padding:0 0.5rem;gap:0.75rem;"]);let aoe=Cy(["align-items:center;display:flex;font-size:0.875rem;gap:0.5rem;padding:0 1.5rem;height:34px;width:100%;&:disabled{opacity:0.5;}"]);const coe=Ay.button.withConfig({displayName:"MenuItemButton",componentId:"sc-29acee9f-6"})(["",""],aoe),loe=Ay.span.withConfig({displayName:"MenuItem",componentId:"sc-29acee9f-7"})(["",""],aoe);let uoe=Ay.div.withConfig({displayName:"MenuCloseContainer",componentId:"sc-29acee9f-8"})(["--size:1.5rem;--offset:1rem;display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-full);background:var(--privy-color-background-2);height:var(--size);width:var(--size);position:absolute;top:var(--offset);right:var(--offset);"]);function doe(){return(0,ri.jsx)(uoe,{children:(0,ri.jsx)(eoe,{children:(0,ri.jsx)(Gse,{})})})}const hoe=({...e})=>(0,ri.jsx)("svg",{fill:"none",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",height:"16",width:"16",...e,children:(0,ri.jsx)("path",{d:"M6 14H3.33333C2.97971 14 2.64057 13.8595 2.39052 13.6095C2.14048 13.3594 2 13.0203 2 12.6667V3.33333C2 2.97971 2.14048 2.64057 2.39052 2.39052C2.64057 2.14048 2.97971 2 3.33333 2H6M10.6667 11.3333L14 8M14 8L10.6667 4.66667M14 8H6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})});let foe=Ay.button.withConfig({displayName:"Button",componentId:"sc-738ed6d0-0"})(["display:flex;align-items:center;justify-content:center;background:var(--privy-color-accent);color:var(--privy-color-background);border-radius:var(--privy-border-radius-md);height:40px;margin:0px 1rem;"]);function poe(){let{user:e}=eV(),{wallets:t}=NG(),{fundWallet:n}=(()=>{Ff("fundWallet",void 0);let{fundWallet:e}=Jd();return{fundWallet:({address:t,options:n})=>e(t,n)}})();if(!e?.wallet?.address)return null;let r=t.find(t=>t.address===e.wallet.address);return r?(0,ri.jsx)(foe,{onClick:()=>n({address:r.address}),disabled:!e.wallet,children:"Add funds"}):null}const goe=Ay.div.withConfig({displayName:"PrimaryWalletContainer",componentId:"sc-36bacb52-0"})(["margin-top:1rem;padding:0 1rem;"]);function moe(){let{user:e}=eV(),{rpcConfig:t,appId:n,chains:r}=Jd(),{wallets:i}=NG(),s=i.find(t=>t.address===e?.wallet?.address)||i[0],o=r[0],{balance:a}=RQ({rpcConfig:t,appId:n,address:s?.address,chain:o});return s&&o?(0,ri.jsx)(goe,{children:(0,ri.jsx)(NQ,{title:"Your wallet",errMsg:void 0,showCopyButton:!0,balance:void 0!==a?IK(a,o.nativeCurrency.symbol,4,!0):"",address:s.address})}):null}let yoe=Ay(ooe).withConfig({displayName:"StyledMenuContent",componentId:"sc-1d219c5-0"})(["padding-top:4px;padding-bottom:4px;"]);function woe({minimal:e}){let{user:t}=eV(),{logout:n}=z6(),{setScreen:r}=Hse(),i=function(){let e=Mf();return e.fundingConfig&&e.fundingConfig.options.length>0}();return(0,ri.jsxs)(yoe,{children:[(0,ri.jsx)(loe,{children:(0,ri.jsx)(Fse,{isCopyable:!0})}),t&&(0,ri.jsxs)(ri.Fragment,{children:[e||(0,ri.jsxs)(coe,{onClick:()=>r("Linked Accounts"),children:[(0,ri.jsx)(xte,{width:16,height:16,strokeWidth:"2"})," Linked accounts"]}),(0,ri.jsxs)(coe,{onClick:n,children:[(0,ri.jsx)(hoe,{}),"Log out"]})]}),!e&&(0,ri.jsx)(moe,{}),i&&!e&&(0,ri.jsx)(poe,{})]})}let boe=Ay.div.withConfig({displayName:"MenuTitle",componentId:"sc-5d7f3e05-0"})(["padding:0px 24px;font-size:14px;font-weight:500;line-height:22px;"]);const voe=Ay.div.withConfig({displayName:"WalletSectionContainer",componentId:"sc-5d7f3e05-1"})(["display:flex;flex-direction:column;gap:0.5rem;&:not(:last-child){padding-bottom:0.5rem;border-bottom:1px solid var(--privy-color-foreground-4);}"]);function xoe(){let{user:e}=eV(),{setScreen:t,setMenuData:n}=Hse(),r=e?.linkedAccounts.filter(e=>"wallet"===e.type&&"privy"===e.walletClientType)||[],i=e?.linkedAccounts.filter(e=>"smart_wallet"===e.type)||[],s=e?.linkedAccounts.filter(e=>"privy"!==e.walletClientType&&"smart_wallet"!==e.type)||[],o=({title:e,accounts:r})=>(0,ri.jsxs)(voe,{children:[e&&(0,ri.jsx)(boe,{children:e}),r.map((e,r)=>(0,ri.jsx)(loe,{children:(0,ri.jsxs)(noe,{children:[(0,ri.jsx)(roe,{children:(0,ri.jsx)(Use,{account:e,isCopyable:!0})}),("wallet"===e.type||"smart_wallet"===e.type)&&(0,ri.jsx)(kte,{style:{cursor:"pointer"},width:16,height:16,strokeWidth:"2",onClick:()=>{n({walletData:e}),t("Wallet Actions")}})]})},r))]});return(0,ri.jsxs)(ooe,{children:[s.length>0&&(0,ri.jsx)(ri.Fragment,{children:(0,ri.jsx)(o,{accounts:s})}),i.length>0&&(0,ri.jsx)(ri.Fragment,{children:(0,ri.jsx)(o,{title:"Smart Wallet",accounts:i})}),r.length>0&&(0,ri.jsx)(o,{title:"Embedded Wallets",accounts:r})]})}const Eoe=({...e})=>(0,ri.jsxs)("svg",{viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",...e,children:[(0,ri.jsx)("g",{clipPath:"url(#clip0_57_4036)",children:(0,ri.jsx)("path",{d:"M2.33334 9.33333C1.69167 9.33333 1.16667 8.80833 1.16667 8.16666V2.33333C1.16667 1.69166 1.69167 1.16666 2.33334 1.16666H8.16667C8.80834 1.16666 9.33334 1.69166 9.33334 2.33333M5.83334 4.66666H11.6667C12.311 4.66666 12.8333 5.189 12.8333 5.83333V11.6667C12.8333 12.311 12.311 12.8333 11.6667 12.8333H5.83334C5.18901 12.8333 4.66667 12.311 4.66667 11.6667V5.83333C4.66667 5.189 5.18901 4.66666 5.83334 4.66666Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,ri.jsx)("defs",{children:(0,ri.jsx)("clipPath",{id:"clip0_57_4036",children:(0,ri.jsx)("rect",{width:"14",height:"14",fill:"white"})})})]});function koe(){let{exportWallet:e,unlinkWallet:t}=eV(),{fundWallet:n}=Jd(),{fundWallet:r}=function(){Ff("fundSolanaWallet",void 0);let e=Mf(),{openModal:t}=Jd(),{setModalData:n}=QH();return{fundWallet:async({address:r,options:i})=>{let s=i?.amount||e.fundingConfig?.defaultRecommendedAmount||"1",o=i?.asset||e.fundingConfig?.defaultRecommendedCurrency.asset||"native-currency",a=i?.chain||"solana:mainnet";n({funding:z4({address:r,appConfig:e,methodScreen:z1,fundWalletConfig:{...i,amount:s,asset:o,chain:a},externalSolanaFundingScreen:hse}),solanaFundingData:{amount:s,asset:"native-currency"===o?"SOL":"USDC",chain:a,destinationAddress:r,sourceWalletData:void 0}}),t(z1)}}}(),i=Mf(),{exportWallet:s}=function(){let{user:e,getAccessToken:t}=eV(),{walletProxy:n,openModal:r,client:i}=Jd(),{setModalData:s}=QH(),o=Mf();return(0,ei.useMemo)(()=>({exportWallet:a=>new Promise(async(c,l)=>{if(!e)return void l(new jd("User must be authenticated before exporting their Privy wallet"));let u=a?.address?tH(e,a.address):Jq(e);if(!u)return void l(new jd("User must have an embedded wallet."));if(!L4(u))return void l(Error(`Export is not supported for ${u.chainType} wallets`));let d=kH(u),{entropyId:h,entropyIdVerifier:f}=oH(e,u);await t()?n?(s({connectWallet:{recoveryMethod:u.recoveryMethod,connectingWalletAddress:u.address,isUnifiedWallet:d,entropyId:h,entropyIdVerifier:f,onCompleteNavigateTo:I3,onFailure:l,shouldForceMFA:!0},keyExport:{appId:o.id,appClientId:o.appClientId,origin:i.apiUrl,address:u.address,entropyId:h,entropyIdVerifier:f,hdWalletIndex:u.walletIndex,chainType:u.chainType,walletId:u.id,isUnifiedWallet:d,imported:u.imported,onSuccess:c,onFailure:l}}),r(O3)):l(new jd("Wallet not ready for export")):l(new jd("Must have valid access token."))})}),[e,t,n,r,i,s,o])}(),{menuData:o}=Hse(),a=o.walletData;if(!a)return null;let c=!("solana"===i.fundingConfig?.defaultRecommendedCurrency.chain&&("smart_wallet"===a.type||"ethereum"===a.chainType)),l="smart_wallet"!==a.type&&"privy"!==a.walletClientType,u="smart_wallet"!==a.type&&"privy"===a.walletClientType;return(0,ri.jsxs)(ooe,{children:[(0,ri.jsxs)(loe,{children:[(0,ri.jsx)(Eoe,{}),(0,ri.jsx)(pJ,{hideCopyIcon:!0,value:a.address,children:"Copy wallet address"})]}),c&&(0,ri.jsxs)(coe,{onClick:()=>(async()=>{"smart_wallet"===a.type||"ethereum"===a?.chainType?await n(a.address):"solana"===a?.chainType&&await r({address:a.address})})(),children:[(0,ri.jsx)(Cte,{width:16,height:16,strokeWidth:"2"}),"Add funds"]}),l&&(0,ri.jsx)(ri.Fragment,{children:(0,ri.jsxs)(coe,{onClick:()=>(async()=>{await t(a.address)})(),children:[(0,ri.jsx)(Eoe,{}),"Unlink wallet"]})}),u&&(0,ri.jsx)(ri.Fragment,{children:(0,ri.jsxs)(coe,{onClick:()=>(async()=>{"smart_wallet"!==a.type&&("ethereum"===a?.chainType&&await e({address:a.address}),"solana"===a?.chainType&&await s({address:a.address}))})(),children:[(0,ri.jsx)(gse,{}),"Export private key"]})})]})}let _oe=Ay.div.withConfig({displayName:"Screen",componentId:"sc-588aefc2-0"})(["transition:height 0.2s ease;"]);function Coe({minimal:e}){let{screen:t}=Hse(),n=(0,ei.useRef)(null),r=F6(n),i=null;switch(t){case"Account":i=(0,ri.jsx)(woe,{minimal:e});break;case"Linked Accounts":i=(0,ri.jsx)(xoe,{});break;case"Wallet Actions":i=(0,ri.jsx)(koe,{})}return(0,ri.jsx)(_oe,{style:{height:r},children:(0,ri.jsx)("div",{ref:n,children:i})})}function Soe(e){return(0,ri.jsx)(Vse,{children:(0,ri.jsx)(Ioe,{...e})})}function Ioe({children:e,minimal:t}){let{screen:n,reset:r}=Hse();return(0,ri.jsxs)(Jse,{placement:"bottom-end",onOpenChange:e=>{e&&r()},children:[(0,ri.jsx)(Qse,{asChild:!0,children:e}),(0,ri.jsx)(Xse,{children:(0,ri.jsxs)(toe,{children:[(0,ri.jsxs)(ioe,{children:[(0,ri.jsx)(doe,{}),t||(0,ri.jsxs)(soe,{children:[(0,ri.jsx)(Kse,{}),n]})]}),(0,ri.jsx)(Coe,{minimal:t}),(0,ri.jsx)(t?"div":gV,{})]})})]})}const Aoe=({expanded:e=!0,action:t={type:"login"},label:n,size:r=44,ui:{minimal:i,background:s}={minimal:!1,background:"accent"}})=>{let{user:o,ready:a,authenticated:c}=eV(),{wallets:l}=NG(),{login:u}=function(){let{login:e}=(0,ei.useContext)(XH);return Ff("login",void 0),{login:e}}(),{connectWallet:d}=function(){let{connectWallet:e}=(0,ei.useContext)(XH);return Ff("connectWallet",void 0),{connectWallet:e}}(),h=e?"default":"rounded",f=(0,ri.jsx)(pse,{width:"100%",height:"100%",style:{margin:"6px"}});return a&&c&&(o&&!o.isGuest||l[0]&&"connectWallet"===t.type)?(0,ri.jsx)(Soe,{minimal:i,children:(0,ri.jsx)(fse,{$variant:h,$size:r,$background:s,children:n||(e?(0,ri.jsx)(Fse,{isCopyable:!1}):f)})}):(0,ri.jsx)(fse,{$size:r,$variant:h,$background:s,onClick:"login"===t.type?()=>u(t.options):()=>d(t.options),disabled:!a,children:a?n||(e?"login"===t.type?"Log in":"Connect wallet":f):(0,ri.jsx)(kV,{color:"var(--privy-color-foreground-accent)"})})};var Toe;let Poe;const Ooe=new Set,joe={};function Noe(...e){return(e=e.filter(e=>!Ooe.has(e))).length?(e.forEach(e=>function(e){Roe=void 0,Ooe.add(e)}(e)),joe.register?.forEach(t=>Loe(()=>t(...e))),function(){e.forEach(e=>function(e){Roe=void 0,Ooe.delete(e)}(e)),joe.unregister?.forEach(t=>Loe(()=>t(...e)))}):()=>{}}let Roe;function $oe(){return Roe||(Roe=[...Ooe]),Roe}function Moe(e,t){return joe[e]?.push(t)||(joe[e]=[t]),function(){joe[e]=joe[e]?.filter(e=>t!==e)}}function Loe(e){try{e()}catch(e){console.error(e)}}class Boe extends Event{get detail(){return function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}(this,Toe,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Toe.set(this,void 0),function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===r?i.call(e,n):i?i.value=n:t.set(e,n)}(this,Toe,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Toe=new WeakMap;var Uoe=o(3054),Doe=o.n(Uoe);const Foe="custom_context";var zoe=Object.defineProperty,Woe=(e,t,n)=>((e,t,n)=>t in e?zoe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class qoe{constructor(e){Woe(this,"nodeValue"),Woe(this,"sizeInBytes"),Woe(this,"next"),this.nodeValue=e,this.sizeInBytes=(new TextEncoder).encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class Hoe{constructor(e){Woe(this,"lengthInNodes"),Woe(this,"sizeInBytes"),Woe(this,"head"),Woe(this,"tail"),Woe(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new qoe(e);if(t.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}}var Voe=Object.defineProperty,Koe=(e,t,n)=>((e,t,n)=>t in e?Voe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Goe{constructor(e,t=1024e3){Koe(this,"logs"),Koe(this,"level"),Koe(this,"levelValue"),Koe(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=e??"error",this.levelValue=Uoe.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new Hoe(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===Uoe.levels.values.error?console.error(e):t===Uoe.levels.values.warn?console.warn(e):t===Uoe.levels.values.debug?console.debug(e):t===Uoe.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append((0,Ex.h)({timestamp:(new Date).toISOString(),log:e}));const t="string"==typeof e?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new Hoe(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push((0,Ex.h)({extraMetadata:e})),new Blob(t,{type:"application/json"})}}var Zoe=Object.defineProperty;class Yoe{constructor(e,t=1024e3){((e,t,n)=>{((e,t,n)=>{t in e?Zoe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"baseChunkLogger"),this.baseChunkLogger=new Goe(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=t,n.download=`walletconnect-logs-${(new Date).toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)}}var Joe=Object.defineProperty;class Qoe{constructor(e,t=1024e3){((e,t,n)=>{((e,t,n)=>{t in e?Joe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"baseChunkLogger"),this.baseChunkLogger=new Goe(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var Xoe=Object.defineProperty,eae=Object.defineProperties,tae=Object.getOwnPropertyDescriptors,nae=Object.getOwnPropertySymbols,rae=Object.prototype.hasOwnProperty,iae=Object.prototype.propertyIsEnumerable,sae=(e,t,n)=>t in e?Xoe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oae=(e,t)=>{for(var n in t||(t={}))rae.call(t,n)&&sae(e,n,t[n]);if(nae)for(var n of nae(t))iae.call(t,n)&&sae(e,n,t[n]);return e},aae=(e,t)=>eae(e,tae(t));function cae(e,t=Foe){return e[t]||""}function lae(e,t,n=Foe){const r=function(e,t,n=Foe){const r=cae(e,n);return r.trim()?`${r}/${t}`:t}(e,t,n);return function(e,t,n=Foe){return e[n]=t,e}(e.child({context:r}),r,n)}function uae(e){return typeof e.loggerOverride<"u"&&"string"!=typeof e.loggerOverride?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?function(e){var t,n;const r=new Yoe(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:Doe()(aae(oae({},e.opts),{level:"trace",browser:aae(oae({},null==(n=e.opts)?void 0:n.browser),{write:e=>r.write(e)})})),chunkLoggerController:r}}(e):function(e){var t;const n=new Qoe(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:Doe()(aae(oae({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}(e)}var dae=Object.defineProperty,hae=(e,t,n)=>((e,t,n)=>t in e?dae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class fae extends CA.H{constructor(e){super(),this.opts=e,hae(this,"protocol","wc"),hae(this,"version",2)}}var pae=Object.defineProperty;class gae extends CA.H{constructor(e,t){super(),this.core=e,this.logger=t,((e,t,n)=>{((e,t,n)=>{t in e?pae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"records",new Map)}}class mae{constructor(e,t){this.logger=e,this.core=t}}class yae extends CA.H{constructor(e,t){super(),this.relayer=e,this.logger=t}}class wae extends CA.H{constructor(e){super()}}class bae{constructor(e,t,n,r){this.core=e,this.logger=t,this.name=n}}Object.defineProperty;class vae extends CA.H{constructor(e,t){super(),this.relayer=e,this.logger=t}}class xae extends CA.H{constructor(e,t){super(),this.core=e,this.logger=t}}class Eae{constructor(e,t,n){this.core=e,this.logger=t,this.store=n}}class kae{constructor(e,t){this.projectId=e,this.logger=t}}class _ae{constructor(e,t,n){this.core=e,this.logger=t,this.telemetryEnabled=n}}var Cae=Object.defineProperty,Sae=(e,t,n)=>((e,t,n)=>t in e?Cae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);qw();class Iae{constructor(e){this.opts=e,Sae(this,"protocol","wc"),Sae(this,"version",2)}}Ww.EventEmitter;class Aae{constructor(e){this.client=e}}class Tae extends Error{constructor(e,t={}){const n=(()=>{if(t.cause instanceof Tae){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})(),r=t.cause instanceof Tae&&t.cause.docsPath||t.docsPath,i=`https://oxlib.sh${r??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...n||r?["",n?`Details: ${n}`:void 0,r?`See: ${i}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=n,this.docs=i,this.docsPath=r,this.shortMessage=e}walk(e){return Pae(this,e)}}function Pae(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e&&e.cause?Pae(e.cause,t):t?null:e}function Oae(e,t){if(Dae(e)>t)throw new qae({givenSize:Dae(e),maxSize:t})}function jae(e,t={}){const{dir:n,size:r=32}=t;if(0===r)return e;const i=e.replace("0x","");if(i.length>2*r)throw new Vae({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i["right"===n?"padEnd":"padStart"](2*r,"0")}`}function Nae(e,t,n){return JSON.stringify(e,(e,n)=>"function"==typeof t?t(e,n):"bigint"==typeof n?n.toString()+"#__bigint":n,n)}const Rae=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function $ae(e){return e instanceof Uint8Array?Mae(e):Array.isArray(e)?Mae(new Uint8Array(e)):e}function Mae(e,t={}){let n="";for(let t=0;t<e.length;t++)n+=Rae[e[t]];const r=`0x${n}`;return"number"==typeof t.size?(Oae(r,t.size),Bae(r,t.size)):r}function Lae(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let s;r?s=n?(1n<<8n*BigInt(r)-1n)-1n:2n**(8n*BigInt(r))-1n:"number"==typeof e&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o="bigint"==typeof s&&n?-s-1n:0;if(s&&i>s||i<o){const t="bigint"==typeof e?"n":"";throw new Fae({max:s?`${s}${t}`:void 0,min:`${o}${t}`,signed:n,size:r,value:`${e}${t}`})}const a=`0x${(n&&i<0?(1n<<BigInt(8*r))+BigInt(i):i).toString(16)}`;return r?function(e,t){return jae(e,{dir:"left",size:t})}(a,r):a}function Bae(e,t){return jae(e,{dir:"right",size:t})}function Uae(e,t,n,r={}){const{strict:i}=r;!function(e,t){if("number"==typeof t&&t>0&&t>Dae(e)-1)throw new Hae({offset:t,position:"start",size:Dae(e)})}(e,t);const s=`0x${e.replace("0x","").slice(2*(t??0),2*(n??e.length))}`;return i&&function(e,t,n){if("number"==typeof t&&"number"==typeof n&&Dae(e)!==n-t)throw new Hae({offset:n,position:"end",size:Dae(e)})}(s,t,n),s}function Dae(e){return Math.ceil((e.length-2)/2)}class Fae extends Tae{constructor({max:e,min:t,signed:n,size:r,value:i}){super(`Number \`${i}\` is not in safe${r?` ${8*r}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class zae extends Tae{constructor(e){super(`Value \`${"object"==typeof e?Nae(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Wae extends Tae{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class qae extends Tae{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Hae extends Tae{constructor({offset:e,position:t,size:n}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class Vae extends Tae{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Kae(e){if(130!==e.length&&132!==e.length)throw new Gae({signature:e});const t=BigInt(Uae(e,0,32)),n=BigInt(Uae(e,32,64)),r=(()=>{const t=Number(`0x${e.slice(130)}`);if(!Number.isNaN(t))try{return function(e){if(0===e||27===e)return 0;if(1===e||28===e)return 1;if(e>=35)return e%2==0?1:0;throw new Yae({value:e})}(t)}catch{throw new Zae({value:t})}})();return void 0===r?{r:t,s:n}:{r:t,s:n,yParity:r}}class Gae extends Tae{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Dae($ae(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Zae extends Tae{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class Yae extends Tae{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}const Jae=BigInt(0),Qae=BigInt(1);function Xae(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function ece(e){if(!Xae(e))throw new Error("Uint8Array expected")}function tce(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}function nce(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function rce(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?Jae:BigInt("0x"+e)}const ice="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,sce=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function oce(e){if(ece(e),ice)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=sce[e[n]];return t}function ace(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function cce(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(ice)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=ace(e.charCodeAt(i)),s=ace(e.charCodeAt(i+1));if(void 0===n||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+s}return r}function lce(e){return rce(oce(e))}function uce(e){return ece(e),rce(oce(Uint8Array.from(e).reverse()))}function dce(e,t){return cce(e.toString(16).padStart(2*t,"0"))}function hce(e,t){return dce(e,t).reverse()}function fce(e,t,n){let r;if("string"==typeof t)try{r=cce(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!Xae(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function pce(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];ece(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}const gce=e=>"bigint"==typeof e&&Jae<=e;function mce(e,t,n){return gce(e)&&gce(t)&&gce(n)&&t<=e&&e<n}function yce(e,t,n,r){if(!mce(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}const wce=e=>(Qae<<BigInt(e))-Qae,bce=e=>new Uint8Array(e),vce=e=>Uint8Array.from(e),xce={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||Xae(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function Ece(e,t,n={}){const r=(t,n,r)=>{const i=xce[n];if("function"!=typeof i)throw new Error("invalid validator function");const s=e[t];if(!(r&&void 0===s||i(s,e)))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+s)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e}function kce(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(void 0!==i)return i;const s=e(n,...r);return t.set(n,s),s}}const _ce=BigInt(0),Cce=BigInt(1),Sce=BigInt(2),Ice=BigInt(3),Ace=BigInt(4),Tce=BigInt(5),Pce=BigInt(8);function Oce(e,t){const n=e%t;return n>=_ce?n:t+n}function jce(e,t,n){let r=e;for(;t-- >_ce;)r*=r,r%=n;return r}function Nce(e,t){if(e===_ce)throw new Error("invert: expected non-zero number");if(t<=_ce)throw new Error("invert: expected positive modulus, got "+t);let n=Oce(e,t),r=t,i=_ce,s=Cce,o=Cce,a=_ce;for(;n!==_ce;){const e=r/n,t=r%n,c=i-o*e,l=s-a*e;r=n,n=t,i=o,s=a,o=c,a=l}if(r!==Cce)throw new Error("invert: does not exist");return Oce(i,t)}function Rce(e,t){const n=(e.ORDER+Cce)/Ace,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function $ce(e,t){const n=(e.ORDER-Tce)/Pce,r=e.mul(t,Sce),i=e.pow(r,n),s=e.mul(t,i),o=e.mul(e.mul(s,Sce),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}const Mce=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Lce(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),s=e.inv(i);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),s),r}function Bce(e,t){const n=(e.ORDER-Cce)/Sce,r=e.pow(t,n),i=e.eql(r,e.ONE),s=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Uce(e,t){void 0!==t&&(0,bb.Fe)(t);const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Dce(e,t,n=!1,r={}){if(e<=_ce)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=Uce(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:wce(i),ZERO:_ce,ONE:Cce,create:t=>Oce(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return _ce<=t&&t<e},is0:e=>e===_ce,isOdd:e=>(e&Cce)===Cce,neg:t=>Oce(-t,e),eql:(e,t)=>e===t,sqr:t=>Oce(t*t,e),add:(t,n)=>Oce(t+n,e),sub:(t,n)=>Oce(t-n,e),mul:(t,n)=>Oce(t*n,e),pow:(e,t)=>function(e,t,n){if(n<_ce)throw new Error("invalid exponent, negatives unsupported");if(n===_ce)return e.ONE;if(n===Cce)return t;let r=e.ONE,i=t;for(;n>_ce;)n&Cce&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Cce;return r}(a,e,t),div:(t,n)=>Oce(t*Nce(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Nce(t,e),sqrt:r.sqrt||(t=>{return o||(o=(n=e)%Ace===Ice?Rce:n%Pce===Tce?$ce:function(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-Cce,n=0;for(;t%Sce===_ce;)t/=Sce,n++;let r=Sce;const i=Dce(e);for(;1===Bce(i,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return Rce;let s=i.pow(r,t);const o=(t+Cce)/Sce;return function(e,r){if(e.is0(r))return r;if(1!==Bce(e,r))throw new Error("Cannot find square root");let i=n,a=e.mul(e.ONE,s),c=e.pow(r,t),l=e.pow(r,o);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,n=e.sqr(c);for(;!e.eql(n,e.ONE);)if(t++,n=e.sqr(n),t===i)throw new Error("Cannot find square root");const r=Cce<<BigInt(i-t-1),s=e.pow(a,r);i=t,a=e.sqr(s),c=e.mul(c,a),l=e.mul(l,s)}return l}}(n)),o(a,t);var n}),toBytes:e=>n?hce(e,s):dce(e,s),fromBytes:e=>{if(e.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return n?uce(e):lce(e)},invertBatch:e=>Lce(a,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(a)}function Fce(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function zce(e){const t=Fce(e);return t+Math.ceil(t/2)}const Wce=BigInt(0),qce=BigInt(1);function Hce(e,t){const n=t.negate();return e?n:t}function Vce(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Kce(e,t){Vce(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:wce(e),maxNumber:n,shiftBy:BigInt(e)}}function Gce(e,t,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(e&i),c=e>>o;a>r&&(a-=s,c+=qce);const l=t*r;return{nextN:c,offset:l+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:t%2!=0,offsetF:l}}const Zce=new WeakMap,Yce=new WeakMap;function Jce(e){return Yce.get(e)||1}function Qce(e,t,n,r){(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})})(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}(r,t);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=function(e){let t;for(t=0;e>Jae;e>>=Qae,t+=1);return t}(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=wce(c),u=new Array(Number(l)+1).fill(o);let d=o;for(let e=Math.floor((t.BITS-1)/c)*c;e>=0;e-=c){u.fill(o);for(let t=0;t<s;t++){const i=r[t],s=Number(i>>BigInt(e)&l);u[s]=u[s].add(n[t])}let t=o;for(let e=u.length-1,n=o;e>0;e--)n=n.add(u[e]),t=t.add(n);if(d=d.add(t),0!==e)for(let e=0;e<c;e++)d=d.double()}return d}function Xce(e){return Ece(e.Fp,Mce.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Ece(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Uce(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function ele(e){void 0!==e.lowS&&tce("lowS",e.lowS),void 0!==e.prehash&&tce("prehash",e.prehash)}class tle extends Error{constructor(e=""){super(e)}}const nle={Err:tle,_tlv:{encode:(e,t)=>{const{Err:n}=nle;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=nce(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?nce(i.length/2|128):"";return nce(e)+s+i+t},decode(e,t){const{Err:n}=nle;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let s=0;if(128&i){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const o=t.subarray(r,r+e);if(o.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===o[0])throw new n("tlv.decode(long): zero leftmost byte");for(const e of o)s=s<<8|e;if(r+=e,s<128)throw new n("tlv.decode(long): not minimal encoding")}else s=i;const o=t.subarray(r,r+s);if(o.length!==s)throw new n("tlv.decode: wrong value length");return{v:o,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=nle;if(e<ile)throw new t("integer: negative integers are not allowed");let n=nce(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=nle;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return lce(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=nle,i=fce("signature",e),{v:s,l:o}=r.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=nle,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}};function rle(e,t){return oce(dce(e,t))}const ile=BigInt(0),sle=BigInt(1),ole=(BigInt(2),BigInt(3)),ale=BigInt(4);function cle(e){const t=function(e){const t=Xce(e);return Ece(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r,nByteLength:i,nBitLength:s}=t,o=n.BYTES+1,a=2*n.BYTES+1;function c(e){return Oce(e,r)}function l(e){return Nce(e,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:h,isWithinCurveOrder:f}=function(e){const t=function(e){const t=Xce(e);Ece(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}(e),{Fp:n}=t,r=Dce(t.n,t.nBitLength),i=t.toBytes||((e,t,r)=>{const i=t.toAffine();return pce(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),s=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){const{a:r,b:i}=t,s=n.sqr(e),o=n.mul(s,e);return n.add(n.add(o,n.mul(e,r)),i)}function a(e,t){const r=n.sqr(t),i=o(e);return n.eql(r,i)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,ole),ale),l=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:s}=t;if(n&&"bigint"!=typeof e){if(Xae(e)&&(e=oce(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*r,"0")}let o;try{o="bigint"==typeof e?e:lce(fce("private key",e,r))}catch(t){throw new Error("invalid private key, expected hex or "+r+" bytes, got "+typeof e)}return i&&(o=Oce(o,s)),yce("private key",o,sle,s),o}function d(e){if(!(e instanceof p))throw new Error("ProjectivePoint expected")}const h=kce((e,t)=>{const{px:r,py:i,pz:s}=e;if(n.eql(s,n.ONE))return{x:r,y:i};const o=e.is0();null==t&&(t=o?n.ONE:n.inv(s));const a=n.mul(r,t),c=n.mul(i,t),l=n.mul(s,t);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw new Error("invZ was invalid");return{x:a,y:c}}),f=kce(e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw new Error("bad point: x or y not FE");if(!a(r,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(e,t,r){if(null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof p)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?p.ZERO:new p(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=Lce(n,e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(p.fromAffine)}static fromHex(e){const t=p.fromAffine(s(fce("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return p.BASE.multiply(u(e))}static msm(e,t){return Qce(p,r,e,t)}_setWindowSize(e){y.setWindowSize(this,e)}assertValidity(){f(this)}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){d(e);const{px:t,py:r,pz:i}=this,{px:s,py:o,pz:a}=e,c=n.eql(n.mul(t,a),n.mul(s,i)),l=n.eql(n.mul(r,a),n.mul(o,i));return c&&l}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,ole),{px:s,py:o,pz:a}=this;let c=n.ZERO,l=n.ZERO,u=n.ZERO,d=n.mul(s,s),h=n.mul(o,o),f=n.mul(a,a),g=n.mul(s,o);return g=n.add(g,g),u=n.mul(s,a),u=n.add(u,u),c=n.mul(e,u),l=n.mul(i,f),l=n.add(c,l),c=n.sub(h,l),l=n.add(h,l),l=n.mul(c,l),c=n.mul(g,c),u=n.mul(i,u),f=n.mul(e,f),g=n.sub(d,f),g=n.mul(e,g),g=n.add(g,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,f),d=n.mul(d,g),l=n.add(l,d),f=n.mul(o,a),f=n.add(f,f),d=n.mul(f,g),c=n.sub(c,d),u=n.mul(f,h),u=n.add(u,u),u=n.add(u,u),new p(c,l,u)}add(e){d(e);const{px:r,py:i,pz:s}=this,{px:o,py:a,pz:c}=e;let l=n.ZERO,u=n.ZERO,h=n.ZERO;const f=t.a,g=n.mul(t.b,ole);let m=n.mul(r,o),y=n.mul(i,a),w=n.mul(s,c),b=n.add(r,i),v=n.add(o,a);b=n.mul(b,v),v=n.add(m,y),b=n.sub(b,v),v=n.add(r,s);let x=n.add(o,c);return v=n.mul(v,x),x=n.add(m,w),v=n.sub(v,x),x=n.add(i,s),l=n.add(a,c),x=n.mul(x,l),l=n.add(y,w),x=n.sub(x,l),h=n.mul(f,v),l=n.mul(g,w),h=n.add(l,h),l=n.sub(y,h),h=n.add(y,h),u=n.mul(l,h),y=n.add(m,m),y=n.add(y,m),w=n.mul(f,w),v=n.mul(g,v),y=n.add(y,w),w=n.sub(m,w),w=n.mul(f,w),v=n.add(v,w),m=n.mul(y,v),u=n.add(u,m),m=n.mul(x,v),l=n.mul(b,l),l=n.sub(l,m),m=n.mul(b,y),h=n.mul(x,h),h=n.add(h,m),new p(l,u,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(p.ZERO)}wNAF(e){return y.wNAFCached(this,e,p.normalizeZ)}multiplyUnsafe(e){const{endo:r,n:i}=t;yce("scalar",e,ile,i);const s=p.ZERO;if(e===ile)return s;if(this.is0()||e===sle)return this;if(!r||y.hasPrecomputes(this))return y.wNAFCachedUnsafe(this,e,p.normalizeZ);let{k1neg:o,k1:a,k2neg:c,k2:l}=r.splitScalar(e),u=s,d=s,h=this;for(;a>ile||l>ile;)a&sle&&(u=u.add(h)),l&sle&&(d=d.add(h)),h=h.double(),a>>=sle,l>>=sle;return o&&(u=u.negate()),c&&(d=d.negate()),d=new p(n.mul(d.px,r.beta),d.py,d.pz),u.add(d)}multiply(e){const{endo:r,n:i}=t;let s,o;if(yce("scalar",e,sle,i),r){const{k1neg:t,k1:i,k2neg:a,k2:c}=r.splitScalar(e);let{p:l,f:u}=this.wNAF(i),{p:d,f:h}=this.wNAF(c);l=y.constTimeNegate(t,l),d=y.constTimeNegate(a,d),d=new p(n.mul(d.px,r.beta),d.py,d.pz),s=l.add(d),o=u.add(h)}else{const{p:t,f:n}=this.wNAF(e);s=t,o=n}return p.normalizeZ([s,o])[0]}multiplyAndAddUnsafe(e,t,n){const r=p.BASE,i=(e,t)=>t!==ile&&t!==sle&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,n));return s.is0()?void 0:s}toAffine(e){return h(this,e)}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===sle)return!0;if(n)return n(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===sle?this:n?n(p,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return tce("isCompressed",e),this.assertValidity(),i(p,this,e)}toHex(e=!0){return tce("isCompressed",e),oce(this.toRawBytes(e))}}p.BASE=new p(t.Gx,t.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const{endo:g,nBitLength:m}=t,y=function(e,t){return{constTimeNegate:Hce,hasPrecomputes:e=>1!==Jce(e),unsafeLadder(t,n,r=e.ZERO){let i=t;for(;n>Wce;)n&qce&&(r=r.add(i)),i=i.double(),n>>=qce;return r},precomputeWindow(e,n){const{windows:r,windowSize:i}=Kce(n,t),s=[];let o=e,a=o;for(let e=0;e<r;e++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(n,r,i){let s=e.ZERO,o=e.BASE;const a=Kce(n,t);for(let e=0;e<a.windows;e++){const{nextN:t,offset:n,isZero:c,isNeg:l,isNegF:u,offsetF:d}=Gce(i,e,a);i=t,c?o=o.add(Hce(u,r[d])):s=s.add(Hce(l,r[n]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=e.ZERO){const o=Kce(n,t);for(let e=0;e<o.windows&&i!==Wce;e++){const{nextN:t,offset:n,isZero:a,isNeg:c}=Gce(i,e,o);if(i=t,!a){const e=r[n];s=s.add(c?e.negate():e)}}return s},getPrecomputes(e,t,n){let r=Zce.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&Zce.set(t,n(r))),r},wNAFCached(e,t,n){const r=Jce(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const i=Jce(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize(e,n){Vce(n,t),Yce.set(e,n),Zce.delete(e)}}}(p,g?Math.ceil(m/2):m);return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:u,weierstrassEquation:o,isWithinCurveOrder:function(e){return mce(e,sle,t.n)}}}({...t,toBytes(e,t,r){const i=t.toAffine(),s=n.toBytes(i.x),o=pce;return tce("isCompressed",r),r?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],i=e.subarray(1);if(t!==o||2!==r&&3!==r){if(t===a&&4===r)return{x:n.fromBytes(i.subarray(0,n.BYTES)),y:n.fromBytes(i.subarray(n.BYTES,2*n.BYTES))};throw new Error("invalid Point, expected length of "+o+", or uncompressed "+a+", got "+t)}{const e=lce(i);if(!mce(e,sle,n.ORDER))throw new Error("Point is not on curve");const t=h(e);let s;try{s=n.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~r)!=((s&sle)===sle)&&(s=n.neg(s)),{x:e,y:s}}}});function p(e){return e>r>>sle}const g=(e,t,n)=>lce(e.slice(t,n));class m{constructor(e,t,n){yce("r",e,sle,r),yce("s",t,sle,r),this.r=e,this.s=t,null!=n&&(this.recovery=n),Object.freeze(this)}static fromCompact(e){const t=i;return e=fce("compactSignature",e,2*t),new m(g(e,0,t),g(e,t,2*t))}static fromDER(e){const{r:t,s:n}=nle.toSig(fce("DER",e));return new m(t,n)}assertValidity(){}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){const{r,s:i,recovery:s}=this,o=v(fce("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const a=2===s||3===s?r+t.n:r;if(a>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=1&s?"03":"02",h=u.fromHex(d+rle(a,n.BYTES)),f=l(a),p=c(-o*f),g=c(i*f),m=u.BASE.multiplyAndAddUnsafe(h,p,g);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return cce(this.toDERHex())}toDERHex(){return nle.hexFromSig(this)}toCompactRawBytes(){return cce(this.toCompactHex())}toCompactHex(){const e=i;return rle(this.r,e)+rle(this.s,e)}}const y={isValidPrivateKey(e){try{return d(e),!0}catch(e){return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const e=zce(t.n);return function(e,t,n=!1){const r=e.length,i=Fce(t),s=zce(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=Oce(n?uce(e):lce(e),t-Cce)+Cce;return n?hce(o,i):dce(o,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=u.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function w(e){if("bigint"==typeof e)return!1;if(e instanceof u)return!0;const r=fce("key",e).length,s=n.BYTES,o=s+1,a=2*s+1;return t.allowedPrivateKeyLengths||i===o?void 0:r===o||r===a}const b=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=lce(e),n=8*e.length-s;return n>0?t>>BigInt(n):t},v=t.bits2int_modN||function(e){return c(b(e))},x=wce(s);function E(e){return yce("num < 2^"+s,e,ile,x),dce(e,i)}const k={lowS:t.lowS,prehash:!1},_={lowS:t.lowS,prehash:!1};return u.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return u.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(!0===w(e))throw new Error("first arg must be private key");if(!1===w(t))throw new Error("second arg must be public key");return u.fromHex(t).multiply(d(e)).toRawBytes(n)},sign:function(e,r,i=k){const{seed:s,k2sig:o}=function(e,r,i=k){if(["recovered","canonical"].some(e=>e in i))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:o}=t;let{lowS:a,prehash:h,extraEntropy:g}=i;null==a&&(a=!0),e=fce("msgHash",e),ele(i),h&&(e=fce("prehashed msgHash",s(e)));const y=v(e),w=d(r),x=[E(w),E(y)];if(null!=g&&!1!==g){const e=!0===g?o(n.BYTES):g;x.push(fce("extraEntropy",e))}const _=pce(...x),C=y;return{seed:_,k2sig:function(e){const t=b(e);if(!f(t))return;const n=l(t),r=u.BASE.multiply(t).toAffine(),i=c(r.x);if(i===ile)return;const s=c(n*c(C+i*w));if(s===ile)return;let o=(r.x===i?0:2)|Number(r.y&sle),d=s;return a&&p(s)&&(d=function(e){return p(e)?c(-e):e}(s),o^=1),new m(i,d,o)}}}(e,r,i),a=t,h=function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=bce(e),i=bce(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...e)=>n(i,r,...e),c=(e=bce(0))=>{i=a(vce([0]),e),r=a(),0!==e.length&&(i=a(vce([1]),e),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return pce(...n)};return(e,t)=>{let n;for(o(),c(e);!(n=t(l()));)c();return o(),n}}(a.hash.outputLen,a.nByteLength,a.hmac);return h(s,o)},verify:function(e,n,r,i=_){const s=e;n=fce("msgHash",n),r=fce("publicKey",r);const{lowS:o,prehash:a,format:d}=i;if(ele(i),"strict"in i)throw new Error("options.strict was renamed to lowS");if(void 0!==d&&"compact"!==d&&"der"!==d)throw new Error("format must be compact or der");const h="string"==typeof s||Xae(s),f=!h&&!d&&"object"==typeof s&&null!==s&&"bigint"==typeof s.r&&"bigint"==typeof s.s;if(!h&&!f)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let p,g;try{if(f&&(p=new m(s.r,s.s)),h){try{"compact"!==d&&(p=m.fromDER(s))}catch(e){if(!(e instanceof nle.Err))throw e}p||"der"===d||(p=m.fromCompact(s))}g=u.fromHex(r)}catch(e){return!1}if(!p)return!1;if(o&&p.hasHighS())return!1;a&&(n=t.hash(n));const{r:y,s:w}=p,b=v(n),x=l(w),E=c(b*x),k=c(y*x),C=u.BASE.multiplyAndAddUnsafe(g,E,k)?.toAffine();return!!C&&c(C.x)===y},ProjectivePoint:u,Signature:m,utils:y}}function lle(e){return{hash:e,hmac:(t,...n)=>(0,wb.w)(e,t,(0,bb.Id)(...n)),randomBytes:bb.po}}const ule=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),dle=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),hle=BigInt(0),fle=BigInt(1),ple=BigInt(2),gle=(e,t)=>(e+t/ple)/t;const mle=Dce(ule,void 0,void 0,{sqrt:function(e){const t=ule,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=jce(u,n,t)*u%t,h=jce(d,n,t)*u%t,f=jce(h,ple,t)*l%t,p=jce(f,i,t)*f%t,g=jce(p,s,t)*p%t,m=jce(g,a,t)*g%t,y=jce(m,c,t)*m%t,w=jce(y,a,t)*g%t,b=jce(w,n,t)*u%t,v=jce(b,o,t)*p%t,x=jce(v,r,t)*l%t,E=jce(x,ple,t);if(!mle.eql(mle.sqr(E),e))throw new Error("Cannot find square root");return E}}),yle=function(e,t){const n=t=>cle({...e,...lle(t)});return{...n(t),create:n}}({a:hle,b:BigInt(7),Fp:mle,n:dle,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=dle,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-fle*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=gle(s*e,t),c=gle(-r*e,t);let l=Oce(e-a*n-c*i,t),u=Oce(-a*r-c*s,t);const d=l>o,h=u>o;if(d&&(l=t-l),h&&(u=t-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},yb.sc);function wle(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}const ble=new TextEncoder;function vle(e){return e instanceof Uint8Array?e:"string"==typeof e?function(e,t={}){const{size:n}=t;let r=e;n&&(Oae(e,n),r=Bae(e,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let e=0,t=0;e<s;e++){const n=wle(i.charCodeAt(t++)),r=wle(i.charCodeAt(t++));if(void 0===n||void 0===r)throw new Tae(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);o[e]=16*n+r}return o}(e):function(e){return e instanceof Uint8Array?e:new Uint8Array(e)}(e)}function xle(e){return e.length}class Ele extends Tae{constructor(e){super(`Value \`${"object"==typeof e?Nae(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class kle extends Tae{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class _le extends Tae{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}class Cle extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}}const Sle={checksum:new Cle(8192)}.checksum;function Ile(e,t={}){const{as:n=("string"==typeof e?"Hex":"Bytes")}=t,r=(0,Yv.lY)(vle(e));return"Bytes"===n?r:Mae(r)}function Ale(e,t={}){const{compressed:n}=t,{prefix:r,x:i,y:s}=e;if(!1===n||"bigint"==typeof i&&"bigint"==typeof s){if(4!==r)throw new jle({prefix:r,cause:new Rle})}else{if(!0!==n&&("bigint"!=typeof i||void 0!==s))throw new Ole({publicKey:e});if(3!==r&&2!==r)throw new jle({prefix:r,cause:new Nle})}}function Tle(e){const t=(()=>{if(function(e,t={}){const{strict:n=!1}=t;try{return function(e,t={}){const{strict:n=!1}=t;if(!e)throw new zae(e);if("string"!=typeof e)throw new zae(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new Wae(e);if(!e.startsWith("0x"))throw new Wae(e)}(e,{strict:n}),!0}catch{return!1}}(e))return Ple(e);if(function(e){try{return function(e){if(!(e instanceof Uint8Array)){if(!e)throw new Ele(e);if("object"!=typeof e)throw new Ele(e);if(!("BYTES_PER_ELEMENT"in e))throw new Ele(e);if(1!==e.BYTES_PER_ELEMENT||"Uint8Array"!==e.constructor.name)throw new Ele(e)}}(e),!0}catch{return!1}}(e))return function(e){return Ple(Mae(e))}(e);const{prefix:t,x:n,y:r}=e;return"bigint"==typeof n&&"bigint"==typeof r?{prefix:t??4,x:n,y:r}:{prefix:t,x:n}})();return Ale(t),t}function Ple(e){if(132!==e.length&&130!==e.length&&68!==e.length)throw new $le({publicKey:e});return 130===e.length?{prefix:4,x:BigInt(Uae(e,0,32)),y:BigInt(Uae(e,32,64))}:132===e.length?{prefix:Number(Uae(e,0,1)),x:BigInt(Uae(e,1,33)),y:BigInt(Uae(e,33,65))}:{prefix:Number(Uae(e,0,1)),x:BigInt(Uae(e,1,33))}}class Ole extends Tae{constructor({publicKey:e}){super(`Value \`${Nae(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class jle extends Tae{constructor({prefix:e,cause:t}){super(`Prefix "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class Nle extends Tae{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class Rle extends Tae{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class $le extends Tae{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${Dae($ae(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}const Mle=/^0x[a-fA-F0-9]{40}$/;function Lle(e,t={}){const{strict:n=!0}=t;if(!Mle.test(e))throw new Dle({address:e,cause:new Fle});if(n){if(e.toLowerCase()===e)return;if(Ble(e)!==e)throw new Dle({address:e,cause:new zle})}}function Ble(e){if(Sle.has(e))return Sle.get(e);Lle(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Ile(function(e,t={}){const{size:n}=t,r=ble.encode(e);return"number"==typeof n?(function(e,t){if(xle(e)>t)throw new kle({givenSize:xle(e),maxSize:t})}(r,n),function(e,t){return function(e,t={}){const{dir:n,size:r=32}=t;if(0===r)return e;if(e.length>r)throw new _le({size:e.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let t=0;t<r;t++){const s="right"===n;i[s?t:r-t-1]=e[s?t:e.length-t-1]}return i}(e,{dir:"right",size:t})}(r,n)):r}(t),{as:"Bytes"}),r=t.split("");for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&r[e]&&(r[e]=r[e].toUpperCase()),(15&n[e>>1])>=8&&r[e+1]&&(r[e+1]=r[e+1].toUpperCase());const i=`0x${r.join("")}`;return Sle.set(e,i),i}function Ule(e,t={}){return function(e,t={}){const{checksum:n=!1}=t;return Lle(e),n?Ble(e):e}(`0x${Ile(`0x${function(e,t={}){Ale(e);const{prefix:n,x:r,y:i}=e,{includePrefix:s=!0}=t,o=function(...e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}(s?Lae(n,{size:1}):"0x",Lae(r,{size:32}),"bigint"==typeof i?Lae(i,{size:32}):"0x");return o}(e).slice(4)}`).substring(26)}`,t)}class Dle extends Tae{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Fle extends Tae{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class zle extends Tae{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Wle=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let n=0;n<e.length;n++){const r=e.charAt(n),i=r.charCodeAt(0);if(255!==t[i])throw new TypeError(r+" is ambiguous");t[i]=n}const n=e.length,r=e.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;let s=0,o=0,a=0;for(;e[s]===r;)o++,s++;const c=(e.length-s)*i+1>>>0,l=new Uint8Array(c);for(;s<e.length;){const r=e.charCodeAt(s);if(r>255)return;let i=t[r];if(255===i)return;let o=0;for(let e=c-1;(0!==i||o<a)&&-1!==e;e--,o++)i+=n*l[e]>>>0,l[e]=i%256>>>0,i=i/256>>>0;if(0!==i)throw new Error("Non-zero carry");a=o,s++}let u=c-a;for(;u!==c&&0===l[u];)u++;const d=new Uint8Array(o+(c-u));let h=o;for(;u!==c;)d[h++]=l[u++];return d}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";let i=0,o=0,a=0;const c=t.length;for(;a!==c&&0===t[a];)a++,i++;const l=(c-a)*s+1>>>0,u=new Uint8Array(l);for(;a!==c;){let e=t[a],r=0;for(let t=l-1;(0!==e||r<o)&&-1!==t;t--,r++)e+=256*u[t]>>>0,u[t]=e%n>>>0,e=e/n>>>0;if(0!==e)throw new Error("Non-zero carry");o=r,a++}let d=l-o;for(;d!==l&&0===u[d];)d++;let h=r.repeat(i);for(;d<l;++d)h+=e.charAt(u[d]);return h},decodeUnsafe:o,decode:function(e){const t=o(e);if(t)return t;throw new Error("Non-base"+n+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function qle(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Hle(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?qle(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Vle(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));const n=Hle(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return qle(n)}var Kle=o(3360);function Gle(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const Zle=Gle("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),Yle=Gle("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{const t=Hle((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),Jle={utf8:Zle,"utf-8":Zle,hex:Kle.Fo.base16,latin1:Yle,ascii:Yle,binary:Yle,...Kle.Fo};function Qle(e,t="utf8"){const n=Jle[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):qle(globalThis.Buffer.from(e,"utf-8"))}function Xle(e,t="utf8"){const n=Jle[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}var eue=o(5606),tue=o(8287).Buffer;function nue(e){const[t,n]=e.split(":");return{namespace:t,reference:n}}function rue(e,t){return e.includes(":")?[e]:t.chains||[]}var iue=Object.defineProperty,sue=Object.defineProperties,oue=Object.getOwnPropertyDescriptors,aue=Object.getOwnPropertySymbols,cue=Object.prototype.hasOwnProperty,lue=Object.prototype.propertyIsEnumerable,uue=(e,t,n)=>t in e?iue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,due=(e,t)=>{for(var n in t||(t={}))cue.call(t,n)&&uue(e,n,t[n]);if(aue)for(var n of aue(t))lue.call(t,n)&&uue(e,n,t[n]);return e},hue=(e,t,n)=>uue(e,"symbol"!=typeof t?t+"":t,n);const fue="react-native",pue="browser",gue="js";function mue(){return typeof eue<"u"&&typeof eue.versions<"u"&&typeof eue.versions.node<"u"}function yue(){return!(0,Kw.getDocument)()&&!!(0,Kw.getNavigator)()&&"ReactNative"===navigator.product}function wue(){return!mue()&&!!(0,Kw.getNavigator)()&&!!(0,Kw.getDocument)()}function bue(){return yue()?fue:mue()?"node":wue()?pue:"unknown"}function vue(){var e;try{return yue()&&typeof global<"u"&&typeof(null==global?void 0:global.Application)<"u"?null==(e=global.Application)?void 0:e.applicationId:void 0}catch{return}}function xue(){return(0,Gw.g)()||{name:"",description:"",url:"",icons:[""]}}function Eue(e,t,n){const r=function(){if(bue()===fue&&typeof global<"u"&&typeof(null==global?void 0:global.Platform)<"u"){const{OS:e,Version:t}=global.Platform;return[e,t].join("-")}const e=(0,Hw.o0)();if(null===e)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),i=function(){var e;const t=bue();return t===pue?[t,(null==(e=(0,Kw.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),[gue,n].join("-"),r,i].join("/")}function kue(e,t){return e.filter(e=>t.includes(e)).length===e.length}function _ue(e){return Object.fromEntries(e.entries())}function Cue(e){return new Map(Object.entries(e))}function Sue(e=Vw.FIVE_MINUTES,t){const n=(0,Vw.toMiliseconds)(e||Vw.FIVE_MINUTES);let r,i,s,o;return{resolve:e=>{s&&r&&(clearTimeout(s),r(e),o=Promise.resolve(e))},reject:e=>{s&&i&&(clearTimeout(s),i(e))},done:()=>new Promise((e,a)=>{if(o)return e(o);s=setTimeout(()=>{const e=new Error(t);o=Promise.reject(e),a(e)},n),r=e,i=a})}}function Iue(e,t,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),t);try{r(await e)}catch(e){i(e)}clearTimeout(s)})}function Aue(e,t){if("string"==typeof t&&t.startsWith(`${e}:`))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===e.toLowerCase()){if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function Tue(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof n)r.topic=n;else{if("id"!==t||!Number.isInteger(Number(n)))throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${n}`);r.id=Number(n)}return r}function Pue(e,t){return(0,Vw.fromMiliseconds)((t||Date.now())+(0,Vw.toMiliseconds)(e))}function Oue(e){return Date.now()>=(0,Vw.toMiliseconds)(e)}function jue(e,t){return`${e}${t?`:${t}`:""}`}function Nue(e=[],t=[]){return[...new Set([...e,...t])]}function Rue(e,t){if(!e.includes(t))return null;const n=e.split(/([&,?,=])/),r=n.indexOf(t);return n[r+2]}function $ue(){return typeof crypto<"u"&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function Mue(){return typeof eue<"u"&&"true"===eue.env.IS_VITEST}function Lue(e){return tue.from(e,"base64").toString("utf-8")}class Bue{constructor({limit:e}){hue(this,"limit"),hue(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const e=this.set.values().next().value;e&&this.set.delete(e)}this.set.add(e)}}has(e){return this.set.has(e)}}const Uue=BigInt(2**32-1),Due=BigInt(32);function Fue(e,t=!1){return t?{h:Number(e&Uue),l:Number(e>>Due&Uue)}:{h:0|Number(e>>Due&Uue),l:0|Number(e&Uue)}}function zue(e,t=!1){const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:n,l:o}=Fue(e[s],t);[r[s],i[s]]=[n,o]}return[r,i]}const Wue=(e,t,n)=>e>>>n,que=(e,t,n)=>e<<32-n|t>>>n,Hue=(e,t,n)=>e>>>n|t<<32-n,Vue=(e,t,n)=>e<<32-n|t>>>n,Kue=(e,t,n)=>e<<64-n|t>>>n-32,Gue=(e,t,n)=>e>>>n-32|t<<64-n,Zue=(e,t)=>t,Yue=(e,t)=>e;function Jue(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}const Que=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),Xue=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,ede=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),tde=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,nde=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),rde=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,ide="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function sde(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function ode(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function ade(e,...t){if(!sde(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function cde(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");ode(e.outputLen),ode(e.blockLen)}function lde(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function ude(e,t){ade(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function dde(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function hde(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function fde(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function pde(e,t){return e<<32-t|e>>>t}const gde=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function mde(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const yde=gde?e=>e:e=>mde(e),wde=gde?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=mde(e[t]);return e},bde="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,vde=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function xde(e){if(ade(e),bde)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=vde[e[n]];return t}function Ede(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function kde(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(bde)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=Ede(e.charCodeAt(i)),s=Ede(e.charCodeAt(i+1));if(void 0===n||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+s}return r}function _de(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}function Cde(e){return"string"==typeof e&&(e=_de(e)),ade(e),e}function Sde(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];ade(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}class Ide{}function Ade(e){const t=t=>e().update(Cde(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Tde(e=32){if(ide&&"function"==typeof ide.getRandomValues)return ide.getRandomValues(new Uint8Array(e));if(ide&&"function"==typeof ide.randomBytes)return Uint8Array.from(ide.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const Pde=BigInt(0),Ode=BigInt(1),jde=BigInt(2),Nde=BigInt(7),Rde=BigInt(256),$de=BigInt(113),Mde=[],Lde=[],Bde=[];for(let e=0,t=Ode,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Mde.push(2*(5*r+n)),Lde.push((e+1)*(e+2)/2%64);let i=Pde;for(let e=0;e<7;e++)t=(t<<Ode^(t>>Nde)*$de)%Rde,t&jde&&(i^=Ode<<(Ode<<BigInt(e))-Ode);Bde.push(i)}const Ude=zue(Bde,!0),Dde=Ude[0],Fde=Ude[1],zde=(e,t,n)=>n>32?((e,t,n)=>t<<n-32|e>>>64-n)(e,t,n):((e,t,n)=>e<<n|t>>>32-n)(e,t,n),Wde=(e,t,n)=>n>32?((e,t,n)=>e<<n-32|t>>>64-n)(e,t,n):((e,t,n)=>t<<n|e>>>32-n)(e,t,n);class qde extends Ide{constructor(e,t,n,r=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,ode(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=dde(this.state)}clone(){return this._cloneInto()}keccak(){wde(this.state32),function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,i=(t+2)%10,s=n[i],o=n[i+1],a=zde(s,o,1)^n[r],c=Wde(s,o,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=a,e[t+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=Lde[n],s=zde(t,i,r),o=Wde(t,i,r),a=Mde[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=Dde[r],e[1]^=Fde[r]}hde(n)}(this.state32,this.rounds),wde(this.state32),this.posOut=0,this.pos=0}update(e){lde(this),ade(e=Cde(e));const{blockLen:t,state:n}=this,r=e.length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,!!(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){lde(this,!1),ade(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ode(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(ude(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,hde(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new qde(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Hde=Ade(()=>new qde(136,1,32));function Vde(e,t,n){return e&t^~e&n}function Kde(e,t,n){return e&t^e&n^t&n}class Gde extends Ide{constructor(e,t,n,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.buffer=new Uint8Array(e),this.view=fde(this.buffer)}update(e){lde(this),ade(e=Cde(e));const{view:t,buffer:n,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){const t=fde(e);for(;r<=i-s;s+=r)this.process(t,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){lde(this),ude(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,hde(this.buffer.subarray(s)),this.padOffset>r-s&&(this.process(n,0),s=0);for(let e=s;e<r;e++)t[e]=0;(function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=fde(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)o.setUint32(4*e,l[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.destroyed=s,e.finished=i,e.length=r,e.pos=o,r%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const Zde=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yde=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Jde=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Qde=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Xde=new Uint32Array(64);class ehe extends Gde{constructor(e=32){super(64,e,8,!1),this.A=0|Zde[0],this.B=0|Zde[1],this.C=0|Zde[2],this.D=0|Zde[3],this.E=0|Zde[4],this.F=0|Zde[5],this.G=0|Zde[6],this.H=0|Zde[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:s,G:o,H:a}=this;return[e,t,n,r,i,s,o,a]}set(e,t,n,r,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)Xde[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=Xde[e-15],n=Xde[e-2],r=pde(t,7)^pde(t,18)^t>>>3,i=pde(n,17)^pde(n,19)^n>>>10;Xde[e]=i+Xde[e-7]+r+Xde[e-16]|0}let{A:n,B:r,C:i,D:s,E:o,F:a,G:c,H:l}=this;for(let e=0;e<64;e++){const t=l+(pde(o,6)^pde(o,11)^pde(o,25))+Vde(o,a,c)+Qde[e]+Xde[e]|0,u=(pde(n,2)^pde(n,13)^pde(n,22))+Kde(n,r,i)|0;l=c,c=a,a=o,o=s+t|0,s=i,i=r,r=n,n=t+u|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,s,o,a,c,l)}roundClean(){hde(Xde)}destroy(){this.set(0,0,0,0,0,0,0,0),hde(this.buffer)}}const the=zue(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),nhe=the[0],rhe=the[1],ihe=new Uint32Array(80),she=new Uint32Array(80);class ohe extends Gde{constructor(e=64){super(128,e,16,!1),this.Ah=0|Jde[0],this.Al=0|Jde[1],this.Bh=0|Jde[2],this.Bl=0|Jde[3],this.Ch=0|Jde[4],this.Cl=0|Jde[5],this.Dh=0|Jde[6],this.Dl=0|Jde[7],this.Eh=0|Jde[8],this.El=0|Jde[9],this.Fh=0|Jde[10],this.Fl=0|Jde[11],this.Gh=0|Jde[12],this.Gl=0|Jde[13],this.Hh=0|Jde[14],this.Hl=0|Jde[15]}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:u,Fl:d,Gh:h,Gl:f,Hh:p,Hl:g}=this;return[e,t,n,r,i,s,o,a,c,l,u,d,h,f,p,g]}set(e,t,n,r,i,s,o,a,c,l,u,d,h,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let n=0;n<16;n++,t+=4)ihe[n]=e.getUint32(t),she[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|ihe[e-15],n=0|she[e-15],r=Hue(t,n,1)^Hue(t,n,8)^Wue(t,0,7),i=Vue(t,n,1)^Vue(t,n,8)^que(t,n,7),s=0|ihe[e-2],o=0|she[e-2],a=Hue(s,o,19)^Kue(s,o,61)^Wue(s,0,6),c=Vue(s,o,19)^Gue(s,o,61)^que(s,o,6),l=ede(i,c,she[e-7],she[e-16]),u=tde(l,r,a,ihe[e-7],ihe[e-16]);ihe[e]=0|u,she[e]=0|l}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:u,El:d,Fh:h,Fl:f,Gh:p,Gl:g,Hh:m,Hl:y}=this;for(let e=0;e<80;e++){const t=Hue(u,d,14)^Hue(u,d,18)^Kue(u,d,41),w=Vue(u,d,14)^Vue(u,d,18)^Gue(u,d,41),b=u&h^~u&p,v=nde(y,w,d&f^~d&g,rhe[e],she[e]),x=rde(v,m,t,b,nhe[e],ihe[e]),E=0|v,k=Hue(n,r,28)^Kue(n,r,34)^Kue(n,r,39),_=Vue(n,r,28)^Gue(n,r,34)^Gue(n,r,39),C=n&i^n&o^i&o,S=r&s^r&a^s&a;m=0|p,y=0|g,p=0|h,g=0|f,h=0|u,f=0|d,({h:u,l:d}=Jue(0|c,0|l,0|x,0|E)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const I=Que(E,_,S);n=Xue(I,x,k,C),r=0|I}({h:n,l:r}=Jue(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=Jue(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=Jue(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l}=Jue(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:d}=Jue(0|this.Eh,0|this.El,0|u,0|d)),({h,l:f}=Jue(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:g}=Jue(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:y}=Jue(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(n,r,i,s,o,a,c,l,u,d,h,f,p,g,m,y)}roundClean(){hde(ihe,she)}destroy(){hde(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class ahe extends ohe{constructor(){super(48),this.Ah=0|Yde[0],this.Al=0|Yde[1],this.Bh=0|Yde[2],this.Bl=0|Yde[3],this.Ch=0|Yde[4],this.Cl=0|Yde[5],this.Dh=0|Yde[6],this.Dl=0|Yde[7],this.Eh=0|Yde[8],this.El=0|Yde[9],this.Fh=0|Yde[10],this.Fl=0|Yde[11],this.Gh=0|Yde[12],this.Gl=0|Yde[13],this.Hh=0|Yde[14],this.Hl=0|Yde[15]}}const che=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class lhe extends ohe{constructor(){super(32),this.Ah=0|che[0],this.Al=0|che[1],this.Bh=0|che[2],this.Bl=0|che[3],this.Ch=0|che[4],this.Cl=0|che[5],this.Dh=0|che[6],this.Dl=0|che[7],this.Eh=0|che[8],this.El=0|che[9],this.Fh=0|che[10],this.Fl=0|che[11],this.Gh=0|che[12],this.Gl=0|che[13],this.Hh=0|che[14],this.Hl=0|che[15]}}const uhe=Ade(()=>new ehe),dhe=Ade(()=>new ohe),hhe=Ade(()=>new ahe),fhe=Ade(()=>new lhe),phe=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),ghe=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),mhe=new Uint32Array(32);function yhe(e,t,n,r,i,s){const o=i[s],a=i[s+1];let c=mhe[2*e],l=mhe[2*e+1],u=mhe[2*t],d=mhe[2*t+1],h=mhe[2*n],f=mhe[2*n+1],p=mhe[2*r],g=mhe[2*r+1],m=Que(c,u,o);l=Xue(m,l,d,a),c=0|m,({Dh:g,Dl:p}={Dh:g^l,Dl:p^c}),({Dh:g,Dl:p}={Dh:Zue(0,p),Dl:Yue(g)}),({h:f,l:h}=Jue(f,h,g,p)),({Bh:d,Bl:u}={Bh:d^f,Bl:u^h}),({Bh:d,Bl:u}={Bh:Hue(d,u,24),Bl:Vue(d,u,24)}),mhe[2*e]=c,mhe[2*e+1]=l,mhe[2*t]=u,mhe[2*t+1]=d,mhe[2*n]=h,mhe[2*n+1]=f,mhe[2*r]=p,mhe[2*r+1]=g}function whe(e,t,n,r,i,s){const o=i[s],a=i[s+1];let c=mhe[2*e],l=mhe[2*e+1],u=mhe[2*t],d=mhe[2*t+1],h=mhe[2*n],f=mhe[2*n+1],p=mhe[2*r],g=mhe[2*r+1],m=Que(c,u,o);l=Xue(m,l,d,a),c=0|m,({Dh:g,Dl:p}={Dh:g^l,Dl:p^c}),({Dh:g,Dl:p}={Dh:Hue(g,p,16),Dl:Vue(g,p,16)}),({h:f,l:h}=Jue(f,h,g,p)),({Bh:d,Bl:u}={Bh:d^f,Bl:u^h}),({Bh:d,Bl:u}={Bh:Kue(d,u,63),Bl:Gue(d,u,63)}),mhe[2*e]=c,mhe[2*e+1]=l,mhe[2*t]=u,mhe[2*t+1]=d,mhe[2*n]=h,mhe[2*n+1]=f,mhe[2*r]=p,mhe[2*r+1]=g}class bhe extends Ide{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,ode(e),ode(t),this.blockLen=e,this.outputLen=t,this.buffer=new Uint8Array(e),this.buffer32=dde(this.buffer)}update(e){lde(this),ade(e=Cde(e));const{blockLen:t,buffer:n,buffer32:r}=this,i=e.length,s=e.byteOffset,o=e.buffer;for(let a=0;a<i;){this.pos===t&&(wde(r),this.compress(r,0,!1),wde(r),this.pos=0);const c=Math.min(t-this.pos,i-a),l=s+a;if(c===t&&!(l%4)&&a+c<i){const e=new Uint32Array(o,l,Math.floor((i-a)/4));wde(e);for(let n=0;a+t<i;n+=r.length,a+=t)this.length+=t,this.compress(e,n,!1);wde(e);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,this.length+=c,a+=c}return this}digestInto(e){lde(this),ude(e,this);const{pos:t,buffer32:n}=this;this.finished=!0,hde(this.buffer.subarray(t)),wde(n),this.compress(n,0,!0),wde(n);const r=dde(e);this.get().forEach((e,t)=>r[t]=yde(e))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){const{buffer:t,length:n,finished:r,destroyed:i,outputLen:s,pos:o}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.buffer.set(t),e.destroyed=i,e.finished=r,e.length=n,e.pos=o,e.outputLen=s,e}clone(){return this._cloneInto()}}class vhe extends bhe{constructor(e={}){const t=void 0===e.dkLen?64:e.dkLen;super(128,t),this.v0l=0|ghe[0],this.v0h=0|ghe[1],this.v1l=0|ghe[2],this.v1h=0|ghe[3],this.v2l=0|ghe[4],this.v2h=0|ghe[5],this.v3l=0|ghe[6],this.v3h=0|ghe[7],this.v4l=0|ghe[8],this.v4h=0|ghe[9],this.v5l=0|ghe[10],this.v5h=0|ghe[11],this.v6l=0|ghe[12],this.v6h=0|ghe[13],this.v7l=0|ghe[14],this.v7h=0|ghe[15],function(e,t={},n,r,i){if(ode(n),e<0||e>n)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=t;if(void 0!==s&&(s.length<1||s.length>n))throw new Error("key length must be undefined or 1.."+n);if(void 0!==o&&o.length!==r)throw new Error("salt must be undefined or "+r);if(void 0!==a&&a.length!==i)throw new Error("personalization must be undefined or "+i)}(t,e,64,16,16);let{key:n,personalization:r,salt:i}=e,s=0;if(void 0!==n&&(n=Cde(n),s=n.length),this.v0l^=this.outputLen|s<<8|65536|1<<24,void 0!==i){i=Cde(i);const e=dde(i);this.v4l^=yde(e[0]),this.v4h^=yde(e[1]),this.v5l^=yde(e[2]),this.v5h^=yde(e[3])}if(void 0!==r){r=Cde(r);const e=dde(r);this.v6l^=yde(e[0]),this.v6h^=yde(e[1]),this.v7l^=yde(e[2]),this.v7h^=yde(e[3])}if(void 0!==n){const e=new Uint8Array(this.blockLen);e.set(n),this.update(e)}}get(){let{v0l:e,v0h:t,v1l:n,v1h:r,v2l:i,v2h:s,v3l:o,v3h:a,v4l:c,v4h:l,v5l:u,v5h:d,v6l:h,v6h:f,v7l:p,v7h:g}=this;return[e,t,n,r,i,s,o,a,c,l,u,d,h,f,p,g]}set(e,t,n,r,i,s,o,a,c,l,u,d,h,f,p,g){this.v0l=0|e,this.v0h=0|t,this.v1l=0|n,this.v1h=0|r,this.v2l=0|i,this.v2h=0|s,this.v3l=0|o,this.v3h=0|a,this.v4l=0|c,this.v4h=0|l,this.v5l=0|u,this.v5h=0|d,this.v6l=0|h,this.v6h=0|f,this.v7l=0|p,this.v7h=0|g}compress(e,t,n){this.get().forEach((e,t)=>mhe[t]=e),mhe.set(ghe,16);let{h:r,l:i}=Fue(BigInt(this.length));mhe[24]=ghe[8]^i,mhe[25]=ghe[9]^r,n&&(mhe[28]=~mhe[28],mhe[29]=~mhe[29]);let s=0;const o=phe;for(let n=0;n<12;n++)yhe(0,4,8,12,e,t+2*o[s++]),whe(0,4,8,12,e,t+2*o[s++]),yhe(1,5,9,13,e,t+2*o[s++]),whe(1,5,9,13,e,t+2*o[s++]),yhe(2,6,10,14,e,t+2*o[s++]),whe(2,6,10,14,e,t+2*o[s++]),yhe(3,7,11,15,e,t+2*o[s++]),whe(3,7,11,15,e,t+2*o[s++]),yhe(0,5,10,15,e,t+2*o[s++]),whe(0,5,10,15,e,t+2*o[s++]),yhe(1,6,11,12,e,t+2*o[s++]),whe(1,6,11,12,e,t+2*o[s++]),yhe(2,7,8,13,e,t+2*o[s++]),whe(2,7,8,13,e,t+2*o[s++]),yhe(3,4,9,14,e,t+2*o[s++]),whe(3,4,9,14,e,t+2*o[s++]);this.v0l^=mhe[0]^mhe[16],this.v0h^=mhe[1]^mhe[17],this.v1l^=mhe[2]^mhe[18],this.v1h^=mhe[3]^mhe[19],this.v2l^=mhe[4]^mhe[20],this.v2h^=mhe[5]^mhe[21],this.v3l^=mhe[6]^mhe[22],this.v3h^=mhe[7]^mhe[23],this.v4l^=mhe[8]^mhe[24],this.v4h^=mhe[9]^mhe[25],this.v5l^=mhe[10]^mhe[26],this.v5h^=mhe[11]^mhe[27],this.v6l^=mhe[12]^mhe[28],this.v6h^=mhe[13]^mhe[29],this.v7l^=mhe[14]^mhe[30],this.v7h^=mhe[15]^mhe[31],hde(mhe)}destroy(){this.destroyed=!0,hde(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const xhe=function(e){const t=(t,n)=>e(n).update(Cde(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}(e=>new vhe(e));function Ehe(e){const t=`Ethereum Signed Message:\n${e.length}`,n=(new TextEncoder).encode(t+e);return"0x"+tue.from(Hde(n)).toString("hex")}async function khe(e,t,n,r,i,s){switch(n.t){case"eip191":return await function(e,t,n){const r=Kae(n);return(i={payload:Ehe(t),signature:r},Ule(function(e){const{payload:t,signature:n}=e,{r,s:i,yParity:s}=n;return Tle(new yle.Signature(BigInt(r),BigInt(i)).addRecoveryBit(s).recoverPublicKey($ae(t).substring(2)))}(i))).toLowerCase()===e.toLowerCase();var i}(e,t,n.s);case"eip1271":return await async function(e,t,n,r,i,s){const o=nue(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const o="0x1626ba7e",a="0000000000000000000000000000000000000000000000000000000000000040",c=n.substring(2),l=(c.length/2).toString(16).padStart(64,"0"),u=o+(t.startsWith("0x")?t:Ehe(t)).substring(2)+a+l+c,d=await fetch(`${s||"https://rpc.walletconnect.org/v1"}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Date.now()+Math.floor(1e3*Math.random()),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:u},"latest"]})}),{result:h}=await d.json();return!!h&&h.slice(0,o.length).toLowerCase()===o.toLowerCase()}catch(e){return console.error("isValidEip1271Signature: ",e),!1}}(e,t,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}function _he(e){const t=new Uint8Array(tue.from(e,"base64")),n=Array.from("TransactionData::").map(e=>e.charCodeAt(0)),r=new Uint8Array(n.length+t.length);r.set(n),r.set(t,n.length);const i=xhe(r,{dkLen:32});return Wle.encode(i)}function Che(e){const t=new Uint8Array(uhe(function(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e))return new Uint8Array(e);if("object"==typeof e&&null!=e&&e.data)return new Uint8Array(Object.values(e.data));if("object"==typeof e&&e)return new Uint8Array(Object.values(e));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}(e)));return Wle.encode(t)}function She(e){const t=tue.from(e,"base64"),n=(0,px.D)(t).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=(0,gx.l)(n),i=tue.from("TX"),s=tue.concat([i,tue.from(r)]),o=fhe(s);return zw.RG.encode(o).replace(/=+$/,"")}function Ihe(e){const t=[];let n=BigInt(e);for(;n>=BigInt(128);)t.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return t.push(Number(n)),tue.from(t)}function Ahe(e){const t=tue.from(e.signed.bodyBytes,"base64"),n=tue.from(e.signed.authInfoBytes,"base64"),r=tue.from(e.signature.signature,"base64"),i=[];i.push(tue.from([10])),i.push(Ihe(t.length)),i.push(t),i.push(tue.from([18])),i.push(Ihe(n.length)),i.push(n),i.push(tue.from([26])),i.push(Ihe(r.length)),i.push(r);const s=tue.concat(i),o=uhe(s);return tue.from(o).toString("hex").toUpperCase()}var The=Object.defineProperty,Phe=Object.defineProperties,Ohe=Object.getOwnPropertyDescriptors,jhe=Object.getOwnPropertySymbols,Nhe=Object.prototype.hasOwnProperty,Rhe=Object.prototype.propertyIsEnumerable,$he=(e,t,n)=>t in e?The(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Mhe=e=>e?.split(":"),Lhe=e=>{const t=e&&Mhe(e);if(t)return t[2]+":"+t[3]},Bhe=e=>{const t=e&&Mhe(e);if(t)return t.pop()};async function Uhe(e){const{cacao:t,projectId:n}=e,{s:r,p:i}=t,s=Dhe(i,i.iss),o=Bhe(i.iss);return await khe(o,s,r,Lhe(i.iss),n)}const Dhe=(e,t)=>{const n=`${e.domain} wants you to sign in with your Ethereum account:`,r=Bhe(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=e.statement||void 0;const s=`URI: ${e.aud||e.uri}`,o=`Version: ${e.version}`,a=`Chain ID: ${(e=>{const t=e&&Mhe(e);if(t)return e.includes("did:pkh:")?t[3]:t[1]})(t)}`,c=`Nonce: ${e.nonce}`,l=`Issued At: ${e.iat}`,u=e.exp?`Expiration Time: ${e.exp}`:void 0,d=e.nbf?`Not Before: ${e.nbf}`:void 0,h=e.requestId?`Request ID: ${e.requestId}`:void 0,f=e.resources?`Resources:${e.resources.map(e=>`\n- ${e}`).join("")}`:void 0,p=Ghe(e.resources);return p&&(i=function(e="",t){Fhe(t);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(n))return e;const r=[];let i=0;return Object.keys(t.att).forEach(e=>{const n=Object.keys(t.att[e]).map(e=>({ability:e.split("/")[0],action:e.split("/")[1]}));n.sort((e,t)=>e.action.localeCompare(t.action));const s={};n.forEach(e=>{s[e.ability]||(s[e.ability]=[]),s[e.ability].push(e.action)});const o=Object.keys(s).map(t=>(i++,`(${i}) '${t}': '${s[t].join("', '")}' for '${e}'.`));r.push(o.join(", ").replace(".,","."))}),`${e?e+" ":""}${n}${r.join(" ")}`}(i,qhe(p))),[n,r,"",i,"",s,o,a,c,l,u,d,h,f].filter(e=>null!=e).join("\n")};function Fhe(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(null==t||!t.length)throw new Error("No resources found in `att` property");t.forEach(t=>{const n=e.att[t];if(Array.isArray(n))throw new Error(`Resource must be an object: ${t}`);if("object"!=typeof n)throw new Error(`Resource must be an object: ${t}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${t}`);Object.keys(n).forEach(e=>{const t=n[e];if(!Array.isArray(t))throw new Error(`Ability limits ${e} must be an array of objects, found: ${t}`);if(!t.length)throw new Error(`Value of ${e} is empty array, must be an array with objects`);t.forEach(t=>{if("object"!=typeof t)throw new Error(`Ability limits (${e}) must be an array of objects, found: ${t}`)})})})}function zhe(e,t,n={}){t=t?.sort((e,t)=>e.localeCompare(t));const r=t.map(t=>({[`${e}/${t}`]:[n]}));return Object.assign({},...r)}function Whe(e){return Fhe(e),`urn:recap:${function(e){return tue.from(JSON.stringify(e)).toString("base64")}(e).replace(/=/g,"")}`}function qhe(e){const t=function(e){return JSON.parse(tue.from(e,"base64").toString("utf-8"))}(e.replace("urn:recap:",""));return Fhe(t),t}function Hhe(e,t){const n=function(e,t){Fhe(e),Fhe(t);const n=Object.keys(e.att).concat(Object.keys(t.att)).sort((e,t)=>e.localeCompare(t)),r={att:{}};return n.forEach(n=>{var i,s;Object.keys((null==(i=e.att)?void 0:i[n])||{}).concat(Object.keys((null==(s=t.att)?void 0:s[n])||{})).sort((e,t)=>e.localeCompare(t)).forEach(i=>{var s,o;r.att[n]=((e,t)=>Phe(e,Ohe(t)))(((e,t)=>{for(var n in t||(t={}))Nhe.call(t,n)&&$he(e,n,t[n]);if(jhe)for(var n of jhe(t))Rhe.call(t,n)&&$he(e,n,t[n]);return e})({},r.att[n]),{[i]:(null==(s=e.att[n])?void 0:s[i])||(null==(o=t.att[n])?void 0:o[i])})})}),r}(qhe(e),qhe(t));return Whe(n)}function Vhe(e){var t;const n=qhe(e);Fhe(n);const r=null==(t=n.att)?void 0:t.eip155;return r?Object.keys(r).map(e=>e.split("/")[1]):[]}function Khe(e){const t=qhe(e);Fhe(t);const n=[];return Object.values(t.att).forEach(e=>{Object.values(e).forEach(e=>{var t;null!=(t=e?.[0])&&t.chains&&n.push(e[0].chains)})}),[...new Set(n.flat())]}function Ghe(e){if(!e)return;const t=e?.[e.length-1];return function(e){return e&&e.includes("urn:recap:")}(t)?t:void 0}function Zhe(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function Yhe(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function Jhe(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Qhe(e,...t){if(!Zhe(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Xhe(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function efe(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function tfe(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}const nfe=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function rfe(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}(e);else{if(!Zhe(e))throw new Error("Uint8Array expected, got "+typeof e);e=ofe(e)}return e}function ife(e,t,n=!0){if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!function(e){return e.byteOffset%4==0}(t))throw new Error("invalid output, must be aligned");return t}function sfe(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}function ofe(e){return Uint8Array.from(e)}const afe=e=>Uint8Array.from(e.split("").map(e=>e.charCodeAt(0))),cfe=afe("expand 16-byte k"),lfe=afe("expand 32-byte k"),ufe=efe(cfe),dfe=efe(lfe);function hfe(e,t){return e<<t|e>>>32-t}function ffe(e){return e.byteOffset%4==0}const pfe=2**32-1,gfe=new Uint32Array,mfe=(e,t)=>255&e[t++]|(255&e[t++])<<8;class yfe{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,Qhe(e=rfe(e),32);const t=mfe(e,0),n=mfe(e,2),r=mfe(e,4),i=mfe(e,6),s=mfe(e,8),o=mfe(e,10),a=mfe(e,12),c=mfe(e,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|n<<3),this.r[2]=7939&(n>>>10|r<<6),this.r[3]=8191&(r>>>7|i<<9),this.r[4]=255&(i>>>4|s<<12),this.r[5]=s>>>1&8190,this.r[6]=8191&(s>>>14|o<<2),this.r[7]=8065&(o>>>11|a<<5),this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127;for(let t=0;t<8;t++)this.pad[t]=mfe(e,16+2*t)}process(e,t,n=!1){const r=n?0:2048,{h:i,r:s}=this,o=s[0],a=s[1],c=s[2],l=s[3],u=s[4],d=s[5],h=s[6],f=s[7],p=s[8],g=s[9],m=mfe(e,t+0),y=mfe(e,t+2),w=mfe(e,t+4),b=mfe(e,t+6),v=mfe(e,t+8),x=mfe(e,t+10),E=mfe(e,t+12),k=mfe(e,t+14);let _=i[0]+(8191&m),C=i[1]+(8191&(m>>>13|y<<3)),S=i[2]+(8191&(y>>>10|w<<6)),I=i[3]+(8191&(w>>>7|b<<9)),A=i[4]+(8191&(b>>>4|v<<12)),T=i[5]+(v>>>1&8191),P=i[6]+(8191&(v>>>14|x<<2)),O=i[7]+(8191&(x>>>11|E<<5)),j=i[8]+(8191&(E>>>8|k<<8)),N=i[9]+(k>>>5|r),R=0,$=R+_*o+C*(5*g)+S*(5*p)+I*(5*f)+A*(5*h);R=$>>>13,$&=8191,$+=T*(5*d)+P*(5*u)+O*(5*l)+j*(5*c)+N*(5*a),R+=$>>>13,$&=8191;let M=R+_*a+C*o+S*(5*g)+I*(5*p)+A*(5*f);R=M>>>13,M&=8191,M+=T*(5*h)+P*(5*d)+O*(5*u)+j*(5*l)+N*(5*c),R+=M>>>13,M&=8191;let L=R+_*c+C*a+S*o+I*(5*g)+A*(5*p);R=L>>>13,L&=8191,L+=T*(5*f)+P*(5*h)+O*(5*d)+j*(5*u)+N*(5*l),R+=L>>>13,L&=8191;let B=R+_*l+C*c+S*a+I*o+A*(5*g);R=B>>>13,B&=8191,B+=T*(5*p)+P*(5*f)+O*(5*h)+j*(5*d)+N*(5*u),R+=B>>>13,B&=8191;let U=R+_*u+C*l+S*c+I*a+A*o;R=U>>>13,U&=8191,U+=T*(5*g)+P*(5*p)+O*(5*f)+j*(5*h)+N*(5*d),R+=U>>>13,U&=8191;let D=R+_*d+C*u+S*l+I*c+A*a;R=D>>>13,D&=8191,D+=T*o+P*(5*g)+O*(5*p)+j*(5*f)+N*(5*h),R+=D>>>13,D&=8191;let F=R+_*h+C*d+S*u+I*l+A*c;R=F>>>13,F&=8191,F+=T*a+P*o+O*(5*g)+j*(5*p)+N*(5*f),R+=F>>>13,F&=8191;let z=R+_*f+C*h+S*d+I*u+A*l;R=z>>>13,z&=8191,z+=T*c+P*a+O*o+j*(5*g)+N*(5*p),R+=z>>>13,z&=8191;let W=R+_*p+C*f+S*h+I*d+A*u;R=W>>>13,W&=8191,W+=T*l+P*c+O*a+j*o+N*(5*g),R+=W>>>13,W&=8191;let q=R+_*g+C*p+S*f+I*h+A*d;R=q>>>13,q&=8191,q+=T*u+P*l+O*c+j*a+N*o,R+=q>>>13,q&=8191,R=(R<<2)+R|0,R=R+$|0,$=8191&R,R>>>=13,M+=R,i[0]=$,i[1]=M,i[2]=L,i[3]=B,i[4]=U,i[5]=D,i[6]=F,i[7]=z,i[8]=W,i[9]=q}finalize(){const{h:e,pad:t}=this,n=new Uint16Array(10);let r=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=r,r=e[t]>>>13,e[t]&=8191;e[0]+=5*r,r=e[0]>>>13,e[0]&=8191,e[1]+=r,r=e[1]>>>13,e[1]&=8191,e[2]+=r,n[0]=e[0]+5,r=n[0]>>>13,n[0]&=8191;for(let t=1;t<10;t++)n[t]=e[t]+r,r=n[t]>>>13,n[t]&=8191;n[9]-=8192;let i=(1^r)-1;for(let e=0;e<10;e++)n[e]&=i;i=~i;for(let t=0;t<10;t++)e[t]=e[t]&i|n[t];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let s=e[0]+t[0];e[0]=65535&s;for(let n=1;n<8;n++)s=(e[n]+t[n]|0)+(s>>>16)|0,e[n]=65535&s;tfe(n)}update(e){Xhe(this),Qhe(e=rfe(e));const{buffer:t,blockLen:n}=this,r=e.length;for(let i=0;i<r;){const s=Math.min(n-this.pos,r-i);if(s!==n)t.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===n&&(this.process(t,0,!1),this.pos=0);else for(;n<=r-i;i+=n)this.process(e,i)}return this}destroy(){tfe(this.h,this.r,this.buffer,this.pad)}digestInto(e){Xhe(this),function(e,t){Qhe(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished=!0;const{buffer:t,h:n}=this;let{pos:r}=this;if(r){for(t[r++]=1;r<16;r++)t[r]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let t=0;t<8;t++)e[i++]=n[t]>>>0,e[i++]=n[t]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}}const wfe=function(e){const t=(t,n)=>e(n).update(rfe(t)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}(e=>new yfe(e)),bfe=function(e){const{allowShortKeys:t,extendNonceFn:n,counterLength:r,counterRight:i,rounds:s}=function(e,t){if(null==t||"object"!=typeof t)throw new Error("options must be defined");return Object.assign({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t)}(0,{counterRight:!1,counterLength:4,allowShortKeys:!1});return Jhe(r),Jhe(s),Yhe(i),Yhe(t),(o,a,c,l,u=0)=>{Qhe(o),Qhe(a),Qhe(c);const d=c.length;if(void 0===l&&(l=new Uint8Array(d)),Qhe(l),Jhe(u),u<0||u>=pfe)throw new Error("arx: counter overflow");if(l.length<d)throw new Error(`arx: output (${l.length}) is shorter than data (${d})`);const h=[];let f,p,g=o.length;if(32===g)h.push(f=ofe(o)),p=dfe;else{if(16!==g||!t)throw new Error(`arx: invalid 32-byte key, got length=${g}`);f=new Uint8Array(32),f.set(o),f.set(o,16),p=ufe,h.push(f)}ffe(a)||h.push(a=ofe(a));const m=efe(f);if(n){if(24!==a.length)throw new Error("arx: extended nonce must be 24 bytes");n(p,m,efe(a.subarray(0,16)),m),a=a.subarray(16)}const y=16-r;if(y!==a.length)throw new Error(`arx: nonce must be ${y} or 16 bytes`);if(12!==y){const e=new Uint8Array(12);e.set(a,i?0:12-a.length),a=e,h.push(a)}const w=efe(a);return function(e,t,n,r,i,s,o,a){const c=i.length,l=new Uint8Array(64),u=efe(l),d=ffe(i)&&ffe(s),h=d?efe(i):gfe,f=d?efe(s):gfe;for(let p=0;p<c;o++){if(e(t,n,r,u,o,a),o>=pfe)throw new Error("arx: counter overflow");const g=Math.min(64,c-p);if(d&&64===g){const e=p/4;if(p%4!=0)throw new Error("arx: invalid block position");for(let t,n=0;n<16;n++)t=e+n,f[t]=h[t]^u[n];p+=64;continue}for(let e,t=0;t<g;t++)e=p+t,s[e]=i[e]^l[t];p+=g}}(e,p,m,w,c,l,u,s),tfe(...h),l}}(function(e,t,n,r,i,s=20){let o=e[0],a=e[1],c=e[2],l=e[3],u=t[0],d=t[1],h=t[2],f=t[3],p=t[4],g=t[5],m=t[6],y=t[7],w=i,b=n[0],v=n[1],x=n[2],E=o,k=a,_=c,C=l,S=u,I=d,A=h,T=f,P=p,O=g,j=m,N=y,R=w,$=b,M=v,L=x;for(let e=0;e<s;e+=2)E=E+S|0,R=hfe(R^E,16),P=P+R|0,S=hfe(S^P,12),E=E+S|0,R=hfe(R^E,8),P=P+R|0,S=hfe(S^P,7),k=k+I|0,$=hfe($^k,16),O=O+$|0,I=hfe(I^O,12),k=k+I|0,$=hfe($^k,8),O=O+$|0,I=hfe(I^O,7),_=_+A|0,M=hfe(M^_,16),j=j+M|0,A=hfe(A^j,12),_=_+A|0,M=hfe(M^_,8),j=j+M|0,A=hfe(A^j,7),C=C+T|0,L=hfe(L^C,16),N=N+L|0,T=hfe(T^N,12),C=C+T|0,L=hfe(L^C,8),N=N+L|0,T=hfe(T^N,7),E=E+I|0,L=hfe(L^E,16),j=j+L|0,I=hfe(I^j,12),E=E+I|0,L=hfe(L^E,8),j=j+L|0,I=hfe(I^j,7),k=k+A|0,R=hfe(R^k,16),N=N+R|0,A=hfe(A^N,12),k=k+A|0,R=hfe(R^k,8),N=N+R|0,A=hfe(A^N,7),_=_+T|0,$=hfe($^_,16),P=P+$|0,T=hfe(T^P,12),_=_+T|0,$=hfe($^_,8),P=P+$|0,T=hfe(T^P,7),C=C+S|0,M=hfe(M^C,16),O=O+M|0,S=hfe(S^O,12),C=C+S|0,M=hfe(M^C,8),O=O+M|0,S=hfe(S^O,7);let B=0;r[B++]=o+E|0,r[B++]=a+k|0,r[B++]=c+_|0,r[B++]=l+C|0,r[B++]=u+S|0,r[B++]=d+I|0,r[B++]=h+A|0,r[B++]=f+T|0,r[B++]=p+P|0,r[B++]=g+O|0,r[B++]=m+j|0,r[B++]=y+N|0,r[B++]=w+R|0,r[B++]=b+$|0,r[B++]=v+M|0,r[B++]=x+L|0}),vfe=new Uint8Array(16),xfe=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(vfe.subarray(n))},Efe=new Uint8Array(32);function kfe(e,t,n,r,i){const s=e(t,n,Efe),o=wfe.create(s);i&&xfe(o,i),xfe(o,r);const a=function(e,t,n){Yhe(n);const r=new Uint8Array(16),i=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}(r);return sfe(i,0,BigInt(t),n),sfe(i,8,BigInt(e),n),r}(r.length,i?i.length:0,!0);o.update(a);const c=o.digest();return tfe(s,a),c}const _fe=((e,t)=>{function n(n,...r){if(Qhe(n),!nfe)throw new Error("Non little-endian hardware is not yet supported");if(void 0!==e.nonceLength){const t=r[0];if(!t)throw new Error("nonce / iv required");e.varSizeNonce?Qhe(t):Qhe(t,e.nonceLength)}const i=e.tagLength;i&&void 0!==r[1]&&Qhe(r[1]);const s=t(n,...r),o=(e,t)=>{if(void 0!==t){if(2!==e)throw new Error("cipher output not supported");Qhe(t)}};let a=!1;return{encrypt(e,t){if(a)throw new Error("cannot encrypt() twice with same key + nonce");return a=!0,Qhe(e),o(s.encrypt.length,t),s.encrypt(e,t)},decrypt(e,t){if(Qhe(e),i&&e.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return o(s.decrypt.length,t),s.decrypt(e,t)}}}return Object.assign(n,e),n})({blockSize:64,nonceLength:12,tagLength:16},(e=>(t,n,r)=>({encrypt(i,s){const o=i.length;(s=ife(o+16,s,!1)).set(i);const a=s.subarray(0,-16);e(t,n,a,a,1);const c=kfe(e,t,n,a,r);return s.set(c,o),tfe(c),s},decrypt(i,s){s=ife(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=kfe(e,t,n,o,r);if(!function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),e(t,n,s,s,1),tfe(c),s}}))(bfe));class Cfe extends Ide{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,cde(e);const n=Cde(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),hde(i)}update(e){return lde(this),this.iHash.update(e),this}digestInto(e){lde(this),ade(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=r,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Sfe=(e,t,n)=>new Cfe(e,t).update(n).digest();Sfe.create=(e,t)=>new Cfe(e,t);const Ife=Uint8Array.from([0]),Afe=Uint8Array.of(),Tfe=uhe,Pfe=BigInt(0),Ofe=BigInt(1);function jfe(e,t=""){if("boolean"!=typeof e)throw new Error((t&&`"${t}"`)+"expected boolean, got type="+typeof e);return e}function Nfe(e,t,n=""){const r=sde(e),i=e?.length,s=void 0!==t;if(!r||s&&i!==t)throw new Error((n&&`"${n}" `)+"expected Uint8Array"+(s?` of length ${t}`:"")+", got "+(r?`length=${i}`:"type="+typeof e));return e}function Rfe(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function $fe(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?Pfe:BigInt("0x"+e)}function Mfe(e){return $fe(xde(e))}function Lfe(e){return ade(e),$fe(xde(Uint8Array.from(e).reverse()))}function Bfe(e,t){return kde(e.toString(16).padStart(2*t,"0"))}function Ufe(e,t){return Bfe(e,t).reverse()}function Dfe(e,t,n){let r;if("string"==typeof t)try{r=kde(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!sde(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}const Ffe=e=>"bigint"==typeof e&&Pfe<=e;function zfe(e,t,n,r){if(!function(e,t,n){return Ffe(e)&&Ffe(t)&&Ffe(n)&&t<=e&&e<n}(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Wfe(e){let t;for(t=0;e>Pfe;e>>=Ofe,t+=1);return t}const qfe=e=>(Ofe<<BigInt(e))-Ofe;function Hfe(e,t,n={}){if(!e||"object"!=typeof e)throw new Error("expected valid options object");function r(t,n,r){const i=e[t];if(r&&void 0===i)return;const s=typeof i;if(s!==n||null===i)throw new Error(`param "${t}" is invalid: expected ${n}, got ${s}`)}Object.entries(t).forEach(([e,t])=>r(e,t,!1)),Object.entries(n).forEach(([e,t])=>r(e,t,!0))}function Vfe(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(void 0!==i)return i;const s=e(n,...r);return t.set(n,s),s}}const Kfe=BigInt(0),Gfe=BigInt(1),Zfe=BigInt(2),Yfe=BigInt(3),Jfe=BigInt(4),Qfe=BigInt(5),Xfe=BigInt(7),epe=BigInt(8),tpe=BigInt(9),npe=BigInt(16);function rpe(e,t){const n=e%t;return n>=Kfe?n:t+n}function ipe(e,t,n){let r=e;for(;t-- >Kfe;)r*=r,r%=n;return r}function spe(e,t){if(e===Kfe)throw new Error("invert: expected non-zero number");if(t<=Kfe)throw new Error("invert: expected positive modulus, got "+t);let n=rpe(e,t),r=t,i=Kfe,s=Gfe;for(;n!==Kfe;){const e=r%n,t=i-s*(r/n);r=n,n=e,i=s,s=t}if(r!==Gfe)throw new Error("invert: does not exist");return rpe(i,t)}function ope(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function ape(e,t){const n=(e.ORDER+Gfe)/Jfe,r=e.pow(t,n);return ope(e,r,t),r}function cpe(e,t){const n=(e.ORDER-Qfe)/epe,r=e.mul(t,Zfe),i=e.pow(r,n),s=e.mul(t,i),o=e.mul(e.mul(s,Zfe),i),a=e.mul(s,e.sub(o,e.ONE));return ope(e,a,t),a}function lpe(e){if(e<Yfe)throw new Error("sqrt is not defined for small field");let t=e-Gfe,n=0;for(;t%Zfe===Kfe;)t/=Zfe,n++;let r=Zfe;const i=ppe(e);for(;1===hpe(i,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return ape;let s=i.pow(r,t);const o=(t+Gfe)/Zfe;return function(e,r){if(e.is0(r))return r;if(1!==hpe(e,r))throw new Error("Cannot find square root");let i=n,a=e.mul(e.ONE,s),c=e.pow(r,t),l=e.pow(r,o);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,n=e.sqr(c);for(;!e.eql(n,e.ONE);)if(t++,n=e.sqr(n),t===i)throw new Error("Cannot find square root");const r=Gfe<<BigInt(i-t-1),s=e.pow(a,r);i=t,a=e.sqr(s),c=e.mul(c,a),l=e.mul(l,s)}return l}}const upe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function dpe(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),s=e.inv(i);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),s),r}function hpe(e,t){const n=(e.ORDER-Gfe)/Zfe,r=e.pow(t,n),i=e.eql(r,e.ONE),s=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function fpe(e,t){void 0!==t&&ode(t);const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function ppe(e,t,n=!1,r={}){if(e<=Kfe)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,s,o,a=!1;if("object"==typeof t&&null!=t){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const e=t;e.BITS&&(i=e.BITS),e.sqrt&&(s=e.sqrt),"boolean"==typeof e.isLE&&(n=e.isLE),"boolean"==typeof e.modFromBytes&&(a=e.modFromBytes),o=e.allowedLengths}else"number"==typeof t&&(i=t),r.sqrt&&(s=r.sqrt);const{nBitLength:c,nByteLength:l}=fpe(e,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const d=Object.freeze({ORDER:e,isLE:n,BITS:c,BYTES:l,MASK:qfe(c),ZERO:Kfe,ONE:Gfe,allowedLengths:o,create:t=>rpe(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return Kfe<=t&&t<e},is0:e=>e===Kfe,isValidNot0:e=>!d.is0(e)&&d.isValid(e),isOdd:e=>(e&Gfe)===Gfe,neg:t=>rpe(-t,e),eql:(e,t)=>e===t,sqr:t=>rpe(t*t,e),add:(t,n)=>rpe(t+n,e),sub:(t,n)=>rpe(t-n,e),mul:(t,n)=>rpe(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Kfe)throw new Error("invalid exponent, negatives unsupported");if(n===Kfe)return e.ONE;if(n===Gfe)return t;let r=e.ONE,i=t;for(;n>Kfe;)n&Gfe&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Gfe;return r}(d,e,t),div:(t,n)=>rpe(t*spe(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>spe(t,e),sqrt:s||(t=>(u||(u=function(e){return e%Jfe===Yfe?ape:e%epe===Qfe?cpe:e%npe===tpe?function(e){const t=ppe(e),n=lpe(e),r=n(t,t.neg(t.ONE)),i=n(t,r),s=n(t,t.neg(r)),o=(e+Xfe)/npe;return(e,t)=>{let n=e.pow(t,o),a=e.mul(n,r);const c=e.mul(n,i),l=e.mul(n,s),u=e.eql(e.sqr(a),t),d=e.eql(e.sqr(c),t);n=e.cmov(n,a,u),a=e.cmov(l,c,d);const h=e.eql(e.sqr(a),t),f=e.cmov(n,a,h);return ope(e,f,t),f}}(e):lpe(e)}(e)),u(d,t))),toBytes:e=>n?Ufe(e,l):Bfe(e,l),fromBytes:(t,r=!0)=>{if(o){if(!o.includes(t.length)||t.length>l)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+t.length);const e=new Uint8Array(l);e.set(t,n?0:e.length-t.length),t=e}if(t.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+t.length);let i=n?Lfe(t):Mfe(t);if(a&&(i=rpe(i,e)),!r&&!d.isValid(i))throw new Error("invalid field element: outside of range 0..ORDER");return i},invertBatch:e=>dpe(d,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(d)}function gpe(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function mpe(e){const t=gpe(e);return t+Math.ceil(t/2)}const ype=BigInt(0),wpe=BigInt(1);function bpe(e,t){const n=t.negate();return e?n:t}function vpe(e,t){const n=dpe(e.Fp,t.map(e=>e.Z));return t.map((t,r)=>e.fromAffine(t.toAffine(n[r])))}function xpe(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Epe(e,t){xpe(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:qfe(e),maxNumber:n,shiftBy:BigInt(e)}}function kpe(e,t,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(e&i),c=e>>o;a>r&&(a-=s,c+=wpe);const l=t*r;return{nextN:c,offset:l+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:t%2!=0,offsetF:l}}const _pe=new WeakMap,Cpe=new WeakMap;function Spe(e){return Cpe.get(e)||1}function Ipe(e){if(e!==ype)throw new Error("invalid wNAF")}class Ape{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,n=this.ZERO){let r=e;for(;t>ype;)t&wpe&&(n=n.add(r)),r=r.double(),t>>=wpe;return n}precomputeWindow(e,t){const{windows:n,windowSize:r}=Epe(t,this.bits),i=[];let s=e,o=s;for(let e=0;e<n;e++){o=s,i.push(o);for(let e=1;e<r;e++)o=o.add(s),i.push(o);s=o.double()}return i}wNAF(e,t,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let r=this.ZERO,i=this.BASE;const s=Epe(e,this.bits);for(let e=0;e<s.windows;e++){const{nextN:o,offset:a,isZero:c,isNeg:l,isNegF:u,offsetF:d}=kpe(n,e,s);n=o,c?i=i.add(bpe(u,t[d])):r=r.add(bpe(l,t[a]))}return Ipe(n),{p:r,f:i}}wNAFUnsafe(e,t,n,r=this.ZERO){const i=Epe(e,this.bits);for(let e=0;e<i.windows&&n!==ype;e++){const{nextN:s,offset:o,isZero:a,isNeg:c}=kpe(n,e,i);if(n=s,!a){const e=t[o];r=r.add(c?e.negate():e)}}return Ipe(n),r}getPrecomputes(e,t,n){let r=_pe.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&("function"==typeof n&&(r=n(r)),_pe.set(t,r))),r}cached(e,t,n){const r=Spe(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)}unsafe(e,t,n,r){const i=Spe(e);return 1===i?this._unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)}createCache(e,t){xpe(t,this.bits),Cpe.set(e,t),_pe.delete(e)}hasCache(e){return 1!==Spe(e)}}function Tpe(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return function(e){Hfe(e,upe.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"}))}(t),t}return ppe(e,{isLE:n})}BigInt(0),BigInt(1),BigInt(2),BigInt(8),_de("HashToScalar-");const Ppe=BigInt(0),Ope=BigInt(1),jpe=BigInt(2);const Npe=BigInt(1),Rpe=BigInt(2),$pe=BigInt(3),Mpe=BigInt(5),Lpe=(BigInt(8),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"));function Bpe(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const Upe=ppe([Lpe,BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")][0],{isLE:!0}),Dpe=(()=>{const e=Upe.ORDER;return function(e){const t=function(e){return Hfe(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})}(e),{P:n,type:r,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=t,a="x25519"===r;if(!a&&"x448"!==r)throw new Error("invalid type");const c=o||Tde,l=a?255:448,u=a?32:56,d=BigInt(a?9:5),h=BigInt(a?121665:39081),f=a?jpe**BigInt(254):jpe**BigInt(447),p=a?BigInt(8)*jpe**BigInt(251)-Ope:BigInt(4)*jpe**BigInt(445)-Ope,g=f+p+Ope,m=e=>rpe(e,n),y=w(d);function w(e){return Ufe(m(e),u)}function b(e,t){const r=function(e,t){zfe("u",e,Ppe,n),zfe("scalar",t,f,g);const r=t,i=e;let o=Ope,a=Ppe,c=e,u=Ope,d=Ppe;for(let e=BigInt(l-1);e>=Ppe;e--){const t=r>>e&Ope;d^=t,({x_2:o,x_3:c}=x(d,o,c)),({x_2:a,x_3:u}=x(d,a,u)),d=t;const n=o+a,s=m(n*n),l=o-a,f=m(l*l),p=s-f,g=c+u,y=m((c-u)*n),w=m(g*l),b=y+w,v=y-w;c=m(b*b),u=m(i*m(v*v)),o=m(s*f),a=m(p*(s+m(h*p)))}({x_2:o,x_3:c}=x(d,o,c)),({x_2:a,x_3:u}=x(d,a,u));const p=s(a);return m(o*p)}(function(e){const t=Dfe("u coordinate",e,u);return a&&(t[31]&=127),m(Lfe(t))}(t),function(e){return Lfe(i(Dfe("scalar",e,u)))}(e));if(r===Ppe)throw new Error("invalid private or public key received");return w(r)}function v(e){return b(e,y)}function x(e,t,n){const r=m(e*(t-n));return{x_2:t=m(t-r),x_3:n=m(n+r)}}const E={secretKey:u,publicKey:u,seed:u},k=(e=c(u))=>(ade(e,E.seed),e);return{keygen:function(e){const t=k(e);return{secretKey:t,publicKey:v(t)}},getSharedSecret:(e,t)=>b(e,t),getPublicKey:e=>v(e),scalarMult:b,scalarMultBase:v,utils:{randomSecretKey:k,randomPrivateKey:k},GuBytes:y.slice(),lengths:E}}({P:e,type:"x25519",powPminus2:t=>{const{pow_p_5_8:n,b2:r}=function(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Lpe,o=e*e%s*e%s,a=ipe(o,Rpe,s)*o%s,c=ipe(a,Npe,s)*e%s,l=ipe(c,Mpe,s)*c%s,u=ipe(l,t,s)*l%s,d=ipe(u,n,s)*u%s,h=ipe(d,r,s)*d%s,f=ipe(h,i,s)*h%s,p=ipe(f,i,s)*h%s,g=ipe(p,t,s)*l%s;return{pow_p_5_8:ipe(g,Rpe,s)*e%s,b2:o}}(t);return rpe(ipe(n,$pe,e)*r,e)},adjustScalarBytes:Bpe})})(),Fpe=(e,t)=>(e+(e>=0?t:-t)/Gpe)/t;function zpe(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function Wpe(e,t){const n={};for(let r of Object.keys(t))n[r]=void 0===e[r]?t[r]:e[r];return jfe(n.lowS,"lowS"),jfe(n.prehash,"prehash"),void 0!==n.format&&zpe(n.format),n}class qpe extends Error{constructor(e=""){super(e)}}const Hpe={Err:qpe,_tlv:{encode:(e,t)=>{const{Err:n}=Hpe;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=Rfe(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Rfe(i.length/2|128):"";return Rfe(e)+s+i+t},decode(e,t){const{Err:n}=Hpe;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let s=0;if(128&i){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const o=t.subarray(r,r+e);if(o.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===o[0])throw new n("tlv.decode(long): zero leftmost byte");for(const e of o)s=s<<8|e;if(r+=e,s<128)throw new n("tlv.decode(long): not minimal encoding")}else s=i;const o=t.subarray(r,r+s);if(o.length!==s)throw new n("tlv.decode: wrong value length");return{v:o,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=Hpe;if(e<Vpe)throw new t("integer: negative integers are not allowed");let n=Rfe(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Hpe;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return Mfe(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Hpe,i=Dfe("signature",e),{v:s,l:o}=r.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=Hpe,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}},Vpe=BigInt(0),Kpe=BigInt(1),Gpe=BigInt(2),Zpe=BigInt(3),Ype=BigInt(4);function Jpe(e,t){const{BYTES:n}=e;let r;if("bigint"==typeof t)r=t;else{let i=Dfe("private key",t);try{r=e.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function Qpe(e,t={}){const n=function(e,t,n={},r){if(void 0===r&&(r="edwards"===e),!t||"object"!=typeof t)throw new Error(`expected valid ${e} CURVE object`);for(const e of["p","n","h"]){const n=t[e];if(!("bigint"==typeof n&&n>ype))throw new Error(`CURVE.${e} must be positive bigint`)}const i=Tpe(t.p,n.Fp,r),s=Tpe(t.n,n.Fn,r),o=["Gx","Gy","a","weierstrass"===e?"b":"d"];for(const e of o)if(!i.isValid(t[e]))throw new Error(`CURVE.${e} must be valid field element of CURVE.Fp`);return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:i,Fn:s}}("weierstrass",e,t),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o,n:a}=s;Hfe(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!r.is0(s.a)||"bigint"!=typeof c.beta||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=ege(r,i);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const d=t.toBytes||function(e,t,n){const{x:i,y:s}=t.toAffine(),o=r.toBytes(i);return jfe(n,"isCompressed"),n?(u(),Sde(Xpe(!r.isOdd(s)),o)):Sde(Uint8Array.of(4),o,r.toBytes(s))},h=t.fromBytes||function(e){Nfe(e,void 0,"Point");const{publicKey:t,publicKeyUncompressed:n}=l,i=e.length,s=e[0],o=e.subarray(1);if(i!==t||2!==s&&3!==s){if(i===n&&4===s){const e=r.BYTES,t=r.fromBytes(o.subarray(0,e)),n=r.fromBytes(o.subarray(e,2*e));if(!p(t,n))throw new Error("bad point: is not on curve");return{x:t,y:n}}throw new Error(`bad point: got length ${i}, expected compressed=${t} or uncompressed=${n}`)}{const e=r.fromBytes(o);if(!r.isValid(e))throw new Error("bad point: is not on curve, wrong x");const t=f(e);let n;try{n=r.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("bad point: is not on curve, sqrt error"+t)}return u(),!(1&~s)!==r.isOdd(n)&&(n=r.neg(n)),{x:e,y:n}}};function f(e){const t=r.sqr(e),n=r.mul(t,e);return r.add(r.add(n,r.mul(e,s.a)),s.b)}function p(e,t){const n=r.sqr(t),i=f(e);return r.eql(n,i)}if(!p(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const g=r.mul(r.pow(s.a,Zpe),Ype),m=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(g,m)))throw new Error("bad curve params: a or b");function y(e,t,n=!1){if(!r.isValid(t)||n&&r.is0(t))throw new Error(`bad point coordinate ${e}`);return t}function w(e){if(!(e instanceof k))throw new Error("ProjectivePoint expected")}function b(e){if(!c||!c.basises)throw new Error("no endo");return function(e,t,n){const[[r,i],[s,o]]=t,a=Fpe(o*e,n),c=Fpe(-i*e,n);let l=e-a*r-c*s,u=-a*i-c*o;const d=l<Vpe,h=u<Vpe;d&&(l=-l),h&&(u=-u);const f=qfe(Math.ceil(Wfe(n)/2))+Kpe;if(l<Vpe||l>=f||u<Vpe||u>=f)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:d,k1:l,k2neg:h,k2:u}}(e,c.basises,i.ORDER)}const v=Vfe((e,t)=>{const{X:n,Y:i,Z:s}=e;if(r.eql(s,r.ONE))return{x:n,y:i};const o=e.is0();null==t&&(t=o?r.ONE:r.inv(s));const a=r.mul(n,t),c=r.mul(i,t),l=r.mul(s,t);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw new Error("invZ was invalid");return{x:a,y:c}}),x=Vfe(e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.Y))return;throw new Error("bad point: ZERO")}const{x:n,y:i}=e.toAffine();if(!r.isValid(n)||!r.isValid(i))throw new Error("bad point: x or y not field elements");if(!p(n,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function E(e,t,n,i,s){return n=new k(r.mul(n.X,e),n.Y,n.Z),t=bpe(i,t),n=bpe(s,n),t.add(n)}class k{constructor(e,t,n){this.X=y("x",e),this.Y=y("y",t,!0),this.Z=y("z",n),Object.freeze(this)}static CURVE(){return s}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof k)throw new Error("projective point not allowed");return r.is0(t)&&r.is0(n)?k.ZERO:new k(t,n,r.ONE)}static fromBytes(e){const t=k.fromAffine(h(Nfe(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return k.fromBytes(Dfe("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return C.createCache(this,e),t||this.multiply(Zpe),this}assertValidity(){x(this)}hasEvenY(){const{y:e}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(e)}equals(e){w(e);const{X:t,Y:n,Z:i}=this,{X:s,Y:o,Z:a}=e,c=r.eql(r.mul(t,a),r.mul(s,i)),l=r.eql(r.mul(n,a),r.mul(o,i));return c&&l}negate(){return new k(this.X,r.neg(this.Y),this.Z)}double(){const{a:e,b:t}=s,n=r.mul(t,Zpe),{X:i,Y:o,Z:a}=this;let c=r.ZERO,l=r.ZERO,u=r.ZERO,d=r.mul(i,i),h=r.mul(o,o),f=r.mul(a,a),p=r.mul(i,o);return p=r.add(p,p),u=r.mul(i,a),u=r.add(u,u),c=r.mul(e,u),l=r.mul(n,f),l=r.add(c,l),c=r.sub(h,l),l=r.add(h,l),l=r.mul(c,l),c=r.mul(p,c),u=r.mul(n,u),f=r.mul(e,f),p=r.sub(d,f),p=r.mul(e,p),p=r.add(p,u),u=r.add(d,d),d=r.add(u,d),d=r.add(d,f),d=r.mul(d,p),l=r.add(l,d),f=r.mul(o,a),f=r.add(f,f),d=r.mul(f,p),c=r.sub(c,d),u=r.mul(f,h),u=r.add(u,u),u=r.add(u,u),new k(c,l,u)}add(e){w(e);const{X:t,Y:n,Z:i}=this,{X:o,Y:a,Z:c}=e;let l=r.ZERO,u=r.ZERO,d=r.ZERO;const h=s.a,f=r.mul(s.b,Zpe);let p=r.mul(t,o),g=r.mul(n,a),m=r.mul(i,c),y=r.add(t,n),b=r.add(o,a);y=r.mul(y,b),b=r.add(p,g),y=r.sub(y,b),b=r.add(t,i);let v=r.add(o,c);return b=r.mul(b,v),v=r.add(p,m),b=r.sub(b,v),v=r.add(n,i),l=r.add(a,c),v=r.mul(v,l),l=r.add(g,m),v=r.sub(v,l),d=r.mul(h,b),l=r.mul(f,m),d=r.add(l,d),l=r.sub(g,d),d=r.add(g,d),u=r.mul(l,d),g=r.add(p,p),g=r.add(g,p),m=r.mul(h,m),b=r.mul(f,b),g=r.add(g,m),m=r.sub(p,m),m=r.mul(h,m),b=r.add(b,m),p=r.mul(g,b),u=r.add(u,p),p=r.mul(v,b),l=r.mul(y,l),l=r.sub(l,p),p=r.mul(y,g),d=r.mul(v,d),d=r.add(d,p),new k(l,u,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(k.ZERO)}multiply(e){const{endo:n}=t;if(!i.isValidNot0(e))throw new Error("invalid scalar: out of range");let r,s;const o=e=>C.cached(this,e,e=>vpe(k,e));if(n){const{k1neg:t,k1:i,k2neg:a,k2:c}=b(e),{p:l,f:u}=o(i),{p:d,f:h}=o(c);s=u.add(h),r=E(n.beta,l,d,t,a)}else{const{p:t,f:n}=o(e);r=t,s=n}return vpe(k,[r,s])[0]}multiplyUnsafe(e){const{endo:n}=t,r=this;if(!i.isValid(e))throw new Error("invalid scalar: out of range");if(e===Vpe||r.is0())return k.ZERO;if(e===Kpe)return r;if(C.hasCache(this))return this.multiply(e);if(n){const{k1neg:t,k1:i,k2neg:s,k2:o}=b(e),{p1:a,p2:c}=function(e,t,n,r){let i=t,s=e.ZERO,o=e.ZERO;for(;n>ype||r>ype;)n&wpe&&(s=s.add(i)),r&wpe&&(o=o.add(i)),i=i.double(),n>>=wpe,r>>=wpe;return{p1:s,p2:o}}(k,r,i,o);return E(n.beta,a,c,t,s)}return C.unsafe(r,e)}multiplyAndAddUnsafe(e,t,n){const r=this.multiplyUnsafe(t).add(e.multiplyUnsafe(n));return r.is0()?void 0:r}toAffine(e){return v(this,e)}isTorsionFree(){const{isTorsionFree:e}=t;return o===Kpe||(e?e(k,this):C.unsafe(this,a).is0())}clearCofactor(){const{clearCofactor:e}=t;return o===Kpe?this:e?e(k,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(e=!0){return jfe(e,"isCompressed"),this.assertValidity(),d(k,this,e)}toHex(e=!0){return xde(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(e=!0){return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return vpe(k,e)}static msm(e,t){return function(e,t,n,r){(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})})(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}(r,t);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=Wfe(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=qfe(c),u=new Array(Number(l)+1).fill(o);let d=o;for(let e=Math.floor((t.BITS-1)/c)*c;e>=0;e-=c){u.fill(o);for(let t=0;t<s;t++){const i=r[t],s=Number(i>>BigInt(e)&l);u[s]=u[s].add(n[t])}let t=o;for(let e=u.length-1,n=o;e>0;e--)n=n.add(u[e]),t=t.add(n);if(d=d.add(t),0!==e)for(let e=0;e<c;e++)d=d.double()}return d}(k,i,e,t)}static fromPrivateKey(e){return k.BASE.multiply(Jpe(i,e))}}k.BASE=new k(s.Gx,s.Gy,r.ONE),k.ZERO=new k(r.ZERO,r.ONE,r.ZERO),k.Fp=r,k.Fn=i;const _=i.BITS,C=new Ape(k,t.endo?Math.ceil(_/2):_);return k.BASE.precompute(8),k}function Xpe(e){return Uint8Array.of(e?2:3)}function ege(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function tge(e,t,n={}){cde(t),Hfe(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||Tde,i=n.hmac||((e,...n)=>Sfe(t,e,Sde(...n))),{Fp:s,Fn:o}=e,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f}=function(e,t={}){const{Fn:n}=e,r=t.randomBytes||Tde,i=Object.assign(ege(e.Fp,n),{seed:mpe(n.ORDER)});function s(e){try{return!!Jpe(n,e)}catch{return!1}}function o(e=r(i.seed)){return function(e,t,n=!1){const r=e.length,i=gpe(t),s=mpe(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=rpe(n?Lfe(e):Mfe(e),t-Gfe)+Gfe;return n?Ufe(o,i):Bfe(o,i)}(Nfe(e,i.seed,"seed"),n.ORDER)}function a(t,r=!0){return e.BASE.multiply(Jpe(n,t)).toBytes(r)}function c(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;const{secretKey:r,publicKey:s,publicKeyUncompressed:o}=i;if(n.allowedLengths||r===s)return;const a=Dfe("key",t).length;return a===s||a===o}return Object.freeze({getPublicKey:a,getSharedSecret:function(t,r,i=!0){if(!0===c(t))throw new Error("first arg must be private key");if(!1===c(r))throw new Error("second arg must be public key");const s=Jpe(n,t);return e.fromHex(r).multiply(s).toBytes(i)},keygen:function(e){const t=o(e);return{secretKey:t,publicKey:a(t)}},Point:e,utils:{isValidSecretKey:s,isValidPublicKey:function(t,n){const{publicKey:r,publicKeyUncompressed:s}=i;try{const i=t.length;return!(!0===n&&i!==r||!1===n&&i!==s||!e.fromBytes(t))}catch{return!1}},randomSecretKey:o,isValidPrivateKey:s,randomPrivateKey:o,normPrivateKeyToScalar:e=>Jpe(n,e),precompute:(t=8,n=e.BASE)=>n.precompute(t,!1)},lengths:i})}(e,n),p={prehash:!1,lowS:"boolean"==typeof n.lowS&&n.lowS,format:void 0,extraEntropy:!1},g="compact";function m(e){return e>a>>Kpe}function y(e,t){if(!o.isValidNot0(t))throw new Error(`invalid signature ${e}: out of range 1..Point.Fn.ORDER`);return t}class w{constructor(e,t,n){this.r=y("r",e),this.s=y("s",t),null!=n&&(this.recovery=n),Object.freeze(this)}static fromBytes(e,t=g){let n;if(function(e,t){zpe(t);const n=f.signature;Nfe(e,"compact"===t?n:"recovered"===t?n+1:void 0,`${t} signature`)}(e,t),"der"===t){const{r:t,s:n}=Hpe.toSig(Nfe(e));return new w(t,n)}"recovered"===t&&(n=e[0],t="compact",e=e.subarray(1));const r=o.BYTES,i=e.subarray(0,r),s=e.subarray(r,2*r);return new w(o.fromBytes(i),o.fromBytes(s),n)}static fromHex(e,t){return this.fromBytes(kde(e),t)}addRecoveryBit(e){return new w(this.r,this.s,e)}recoverPublicKey(t){const n=s.ORDER,{r,s:i,recovery:c}=this;if(null==c||![0,1,2,3].includes(c))throw new Error("recovery id invalid");if(a*Gpe<n&&c>1)throw new Error("recovery id is ambiguous for h>1 curve");const l=2===c||3===c?r+a:r;if(!s.isValid(l))throw new Error("recovery id 2 or 3 invalid");const u=s.toBytes(l),d=e.fromBytes(Sde(Xpe(!(1&c)),u)),h=o.inv(l),f=v(Dfe("msgHash",t)),p=o.create(-f*h),g=o.create(i*h),m=e.BASE.multiplyUnsafe(p).add(d.multiplyUnsafe(g));if(m.is0())throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return m(this.s)}toBytes(e=g){if(zpe(e),"der"===e)return kde(Hpe.hexFromSig(this));const t=o.toBytes(this.r),n=o.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw new Error("recovery bit must be present");return Sde(Uint8Array.of(this.recovery),t,n)}return Sde(t,n)}toHex(e){return xde(this.toBytes(e))}assertValidity(){}static fromCompact(e){return w.fromBytes(Dfe("sig",e),"compact")}static fromDER(e){return w.fromBytes(Dfe("sig",e),"der")}normalizeS(){return this.hasHighS()?new w(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return xde(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return xde(this.toBytes("compact"))}}const b=n.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=Mfe(e),n=8*e.length-c;return n>0?t>>BigInt(n):t},v=n.bits2int_modN||function(e){return o.create(b(e))},x=qfe(c);function E(e){return zfe("num < 2^"+c,e,Vpe,x),o.toBytes(e)}function k(e,n){return Nfe(e,void 0,"message"),n?Nfe(t(e),void 0,"prehashed message"):e}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f,Point:e,sign:function(n,s,a={}){n=Dfe("message",n);const{seed:c,k2sig:l}=function(t,n,i){if(["recovered","canonical"].some(e=>e in i))throw new Error("sign() legacy options not supported");const{lowS:s,prehash:a,extraEntropy:c}=Wpe(i,p);t=k(t,a);const l=v(t),u=Jpe(o,n),d=[E(u),E(l)];if(null!=c&&!1!==c){const e=!0===c?r(f.secretKey):c;d.push(Dfe("extraEntropy",e))}const h=Sde(...d),g=l;return{seed:h,k2sig:function(t){const n=b(t);if(!o.isValidNot0(n))return;const r=o.inv(n),i=e.BASE.multiply(n).toAffine(),a=o.create(i.x);if(a===Vpe)return;const c=o.create(r*o.create(g+a*u));if(c===Vpe)return;let l=(i.x===a?0:2)|Number(i.y&Kpe),d=c;return s&&m(c)&&(d=o.neg(c),l^=1),new w(a,d,l)}}}(n,s,a);return function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");const r=e=>new Uint8Array(e),i=e=>Uint8Array.of(e);let s=r(e),o=r(e),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=(...e)=>n(o,s,...e),u=(e=r(0))=>{o=l(i(0),e),s=l(),0!==e.length&&(o=l(i(1),e),s=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){s=l();const t=s.slice();n.push(t),e+=s.length}return Sde(...n)};return(e,t)=>{let n;for(c(),u(e);!(n=t(d()));)u();return c(),n}}(t.outputLen,o.BYTES,i)(c,l)},verify:function(t,n,r,i={}){const{lowS:s,prehash:a,format:c}=Wpe(i,p);if(r=Dfe("publicKey",r),n=k(Dfe("message",n),a),"strict"in i)throw new Error("options.strict was renamed to lowS");const l=void 0===c?function(e){let t;const n="string"==typeof e||sde(e),r=!n&&null!==e&&"object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!n&&!r)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(r)t=new w(e.r,e.s);else if(n){try{t=w.fromBytes(Dfe("sig",e),"der")}catch(e){if(!(e instanceof Hpe.Err))throw e}if(!t)try{t=w.fromBytes(Dfe("sig",e),"compact")}catch{return!1}}return t||!1}(t):w.fromBytes(Dfe("sig",t),c);if(!1===l)return!1;try{const t=e.fromBytes(r);if(s&&l.hasHighS())return!1;const{r:i,s:a}=l,c=v(n),u=o.inv(a),d=o.create(c*u),h=o.create(i*u),f=e.BASE.multiplyUnsafe(d).add(t.multiplyUnsafe(h));return!f.is0()&&o.create(f.x)===i}catch{return!1}},recoverPublicKey:function(e,t,n={}){const{prehash:r}=Wpe(n,p);return t=k(t,r),w.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:w,hash:t})}function nge(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:i}=function(e){const{CURVE:t,curveOpts:n}=function(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(e=>Math.ceil(e/2)))):void 0;return{CURVE:t,curveOpts:{Fp:n,Fn:ppe(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes}}}(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}(e);return function(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,fpe(n.Fn.ORDER,n.Fn.BITS))})}(e,tge(Qpe(t,n),r,i))}function rge(e,t){const n=t=>nge({...e,hash:t});return{...n(t),create:n}}const ige={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},sge={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},oge={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},age=ppe(ige.p),cge=ppe(sge.p),lge=ppe(oge.p),uge=rge({...ige,Fp:age,lowS:!1},uhe);rge({...sge,Fp:cge,lowS:!1},hhe),rge({...oge,Fp:lge,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},dhe);const dge=uge,hge="base10",fge="base16",pge="base64pad",gge="base64url",mge="utf8";function yge(){return Xle(Tde(32),fge)}function wge(e){return Xle(Tfe(Qle(e,fge)),fge)}function bge(e){return Xle(Tfe(Qle(e,mge)),fge)}function vge(e){return Qle(`${e}`,hge)}function xge(e){return Number(Xle(e,hge))}function Ege(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function kge(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4;return t+"=".repeat(n)}function _ge(e){if(2===xge(e.type))return Xle(Vle([e.type,e.sealed]),pge);if(1===xge(e.type)){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Xle(Vle([e.type,e.senderPublicKey,e.iv,e.sealed]),pge)}return Xle(Vle([e.type,e.iv,e.sealed]),pge)}function Cge(e){const t=Qle((e.encoding||pge)===gge?kge(e.encoded):e.encoded,pge),n=t.slice(0,1);if(1===xge(n)){const e=33,r=e+12,i=t.slice(1,e),s=t.slice(e,r);return{type:n,sealed:t.slice(r),iv:s,senderPublicKey:i}}if(2===xge(n))return{type:n,sealed:t.slice(1),iv:Tde(12)};const r=t.slice(1,13);return{type:n,sealed:t.slice(13),iv:r}}function Sge(e){const t=e?.type||0;if(1===t){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function Ige(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}function Age(e){return 2===e.type}function Tge(e){return e?.relay||{protocol:"irn"}}function Pge(e){const t=wx.CG[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var Oge=Object.defineProperty,jge=Object.defineProperties,Nge=Object.getOwnPropertyDescriptors,Rge=Object.getOwnPropertySymbols,$ge=Object.prototype.hasOwnProperty,Mge=Object.prototype.propertyIsEnumerable,Lge=(e,t,n)=>t in e?Oge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bge=(e,t)=>{for(var n in t||(t={}))$ge.call(t,n)&&Lge(e,n,t[n]);if(Rge)for(var n of Rge(t))Mge.call(t,n)&&Lge(e,n,t[n]);return e};function Uge(e,t="-"){const n={},r="relay"+t;return Object.keys(e).forEach(t=>{if(t.startsWith(r)){const i=t.replace(r,""),s=e[t];n[i]=s}}),n}function Dge(e){if(!e.includes("wc:")){const t=Lue(e);null!=t&&t.includes("wc:")&&(e=t)}const t=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,r=e.substring(0,t),i=e.substring(t+1,n).split("@"),s=typeof n<"u"?e.substring(n):"",o=new URLSearchParams(s),a=Object.fromEntries(o.entries()),c="string"==typeof a.methods?a.methods.split(","):void 0;return{protocol:r,topic:Fge(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:Uge(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function Fge(e){return e.startsWith("//")?e.substring(2):e}function zge(e){const t=new URLSearchParams,n=Bge(Bge(((e,t)=>jge(e,Nge(t)))(Bge({},function(e,t="-"){const n={};return Object.keys(e).forEach(r=>{const i=r,s="relay"+t+i;e[i]&&(n[s]=e[i])}),n}(e.relay)),{symKey:e.symKey}),e.expiryTimestamp&&{expiryTimestamp:e.expiryTimestamp.toString()}),e.methods&&{methods:e.methods.join(",")});return Object.entries(n).sort(([e],[t])=>e.localeCompare(t)).forEach(([e,n])=>{void 0!==n&&t.append(e,String(n))}),`${e.protocol}:${e.topic}@${e.version}?${t}`}function Wge(e,t,n){return`${e}?wc_ev=${n}&topic=${t}`}var qge=Object.defineProperty,Hge=Object.defineProperties,Vge=Object.getOwnPropertyDescriptors,Kge=Object.getOwnPropertySymbols,Gge=Object.prototype.hasOwnProperty,Zge=Object.prototype.propertyIsEnumerable,Yge=(e,t,n)=>t in e?qge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jge=(e,t)=>{for(var n in t||(t={}))Gge.call(t,n)&&Yge(e,n,t[n]);if(Kge)for(var n of Kge(t))Zge.call(t,n)&&Yge(e,n,t[n]);return e},Qge=(e,t)=>Hge(e,Vge(t));function Xge(e){const t=[];return e.forEach(e=>{const[n,r]=e.split(":");t.push(`${n}:${r}`)}),t}function eme(e){return e.includes(":")}function tme(e){return eme(e)?e.split(":")[0]:e}function nme(e){var t,n,r;const i={};if(!lme(e))return i;for(const[s,o]of Object.entries(e)){const e=eme(s)?[s]:o.chains,a=o.methods||[],c=o.events||[],l=tme(s);i[l]=Qge(Jge({},i[l]),{chains:Nue(e,null==(t=i[l])?void 0:t.chains),methods:Nue(a,null==(n=i[l])?void 0:n.methods),events:Nue(c,null==(r=i[l])?void 0:r.events)})}return i}function rme(e,t){const n=function(e){const t={};return e?.forEach(e=>{var n;const[r,i]=e.split(":");t[r]||(t[r]={accounts:[],chains:[],events:[],methods:[]}),t[r].accounts.push(e),null==(n=t[r].chains)||n.push(`${r}:${i}`)}),t}(t=t.map(e=>e.replace("did:pkh:","")));for(const[t,r]of Object.entries(n))r.methods?r.methods=Nue(r.methods,e):r.methods=e,r.events=["chainChanged","accountsChanged"];return n}const ime={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},sme={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ome(e,t){const{message:n,code:r}=sme[e];return{message:t?`${n} ${t}`:n,code:r}}function ame(e,t){const{message:n,code:r}=ime[e];return{message:t?`${n} ${t}`:n,code:r}}function cme(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}function lme(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function ume(e){return typeof e>"u"}function dme(e,t){return!(!t||!ume(e))||"string"==typeof e&&!!e.trim().length}function hme(e,t){return!(!t||!ume(e))||"number"==typeof e&&!isNaN(e)}function fme(e){return!(!dme(e,!1)||!e.includes(":"))&&2===e.split(":").length}function pme(e){let t=!0;return cme(e)?e.length&&(t=e.every(e=>dme(e,!1))):t=!1,t}function gme(e,t){let n=null;return Object.values(e).forEach(e=>{if(n)return;const r=function(e,t){let n=null;return pme(e?.methods)?pme(e?.events)||(n=ame("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):n=ame("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),n}(e,`${t}, namespace`);r&&(n=r)}),n}function mme(e,t){let n=null;if(e&&lme(e)){const r=gme(e,t);r&&(n=r);const i=function(e,t){let n=null;return Object.values(e).forEach(e=>{if(n)return;const r=function(e,t){let n=null;return cme(e)?e.forEach(e=>{n||function(e){if(dme(e,!1)&&e.includes(":")){const t=e.split(":");if(3===t.length){const e=t[0]+":"+t[1];return!!t[2]&&fme(e)}}return!1}(e)||(n=ame("UNSUPPORTED_ACCOUNTS",`${t}, account ${e} should be a string and conform to "namespace:chainId:address" format`))}):n=ame("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}(e?.accounts,`${t} namespace`);r&&(n=r)}),n}(e,t);i&&(n=i)}else n=ome("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return n}function yme(e){return dme(e.protocol,!0)}function wme(e){return typeof e<"u"&&null!==typeof e}function bme(e,t){return!(!fme(t)||!function(e){const t=[];return Object.values(e).forEach(e=>{t.push(...Xge(e.accounts))}),t}(e).includes(t))}function vme(e,t,n){let r=null;const i=function(e){const t={};return Object.keys(e).forEach(n=>{var r;n.includes(":")?t[n]=e[n]:null==(r=e[n].chains)||r.forEach(r=>{t[r]={methods:e[n].methods,events:e[n].events}})}),t}(e),s=function(e){const t={};return Object.keys(e).forEach(n=>{if(n.includes(":"))t[n]=e[n];else{const r=Xge(e[n].accounts);r?.forEach(r=>{t[r]={accounts:e[n].accounts.filter(e=>e.includes(`${r}:`)),methods:e[n].methods,events:e[n].events}})}}),t}(t),o=Object.keys(i),a=Object.keys(s),c=xme(Object.keys(e)),l=xme(Object.keys(t)),u=c.filter(e=>!l.includes(e));return u.length&&(r=ome("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${u.toString()}\n      Received: ${Object.keys(t).toString()}`)),kue(o,a)||(r=ome("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.\n      Required: ${o.toString()}\n      Approved: ${a.toString()}`)),Object.keys(t).forEach(e=>{if(!e.includes(":")||r)return;const i=Xge(t[e].accounts);i.includes(e)||(r=ome("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${e}\n        Required: ${e}\n        Approved: ${i.toString()}`))}),o.forEach(e=>{r||(kue(i[e].methods,s[e].methods)?kue(i[e].events,s[e].events)||(r=ome("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${e}`)):r=ome("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${e}`))}),r}function xme(e){return[...new Set(e.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Eme(){const e=bue();return new Promise(t=>{switch(e){case pue:t(wue()&&navigator?.onLine);break;case fue:t(async function(){if(yue()&&typeof global<"u"&&null!=global&&global.NetInfo){const e=await(null==global?void 0:global.NetInfo.fetch());return e?.isConnected}return!0}());break;default:t(!0)}})}const kme={};class _me{static get(e){return kme[e]}static set(e,t){kme[e]=t}static delete(e){delete kme[e]}}function Cme(e){return new Uint8Array(e.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function Sme(e){const t=Uint8Array.from(tue.from(e.signature,"hex")),n=function(e){const t=Wle.decode(e);if(t.length<33)throw new Error("Too short to contain a public key");return t.slice(1,33)}(e.transaction.address),r=function({publicKey:e,signature:t,payload:n}){var r;const i=Cme(n.method),s=128|parseInt((null==(r=n.version)?void 0:r.toString())||"4"),o=function(e){const t=Wle.decode(e)[0];return 42===t?0:60===t?2:1}(n.address),a="00"===n.era?new Uint8Array([0]):Cme(n.era);if(1!==a.length&&2!==a.length)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([255&c,c>>8&255]),u=BigInt(`0x${function(e){return e.startsWith("0x")?e.slice(2):e}(n.tip)}`),d=function(e){if(e<BigInt(1)<<BigInt(6))return new Uint8Array([Number(e<<BigInt(2))]);if(e<BigInt(1)<<BigInt(14)){const t=e<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}if(e<BigInt(1)<<BigInt(30)){const t=e<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}throw new Error("BigInt compact encoding not supported > 2^30")}(u),h=new Uint8Array([0,...e,o,...t,...a,...l,...d,...i]),f=function(e){if(e<64)return new Uint8Array([e<<2]);if(e<16384){const t=e<<2|1;return new Uint8Array([255&t,t>>8&255])}if(e<1<<30){const t=e<<2|2;return new Uint8Array([255&t,t>>8&255,t>>16&255,t>>24&255])}throw new Error("Compact encoding > 2^30 not supported")}(h.length+1);return new Uint8Array([...f,s,...h])}({publicKey:n,signature:t,payload:e.transaction});return function(e){const t=Cme(e),n=(0,bx.blake2b)(t,void 0,32);return"0x"+tue.from(n).toString("hex")}(tue.from(r).toString("hex"))}function Ime({logger:e,name:t}){const n="string"==typeof e?uae({opts:{level:e,name:t}}).logger:e;return n.level="string"==typeof e?e:e.level,n}var Ame=o(8287).Buffer,Tme=o(5606);const Pme="core",Ome=`wc@2:${Pme}:`,jme={database:":memory:"},Nme="client_ed25519_seed",Rme=Vw.ONE_DAY,$me=Vw.SIX_HOURS,Mme="wss://relay.walletconnect.org",Lme="relayer_message",Bme="relayer_message_ack",Ume="relayer_connection_stalled",Dme="relayer_publish",Fme="payload",zme="connect",Wme="disconnect",qme="error",Hme="2.22.4",Vme={link_mode:"link_mode",relay:"relay"},Kme="inbound",Gme="WALLETCONNECT_LINK_MODE_APPS",Zme="subscription_created",Yme="subscription_deleted",Jme=(Vw.FIVE_SECONDS,{wc_pairingDelete:{req:{ttl:Vw.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Vw.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Vw.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Vw.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Vw.ONE_DAY,prompt:!1,tag:0},res:{ttl:Vw.ONE_DAY,prompt:!1,tag:0}}}),Qme="pairing_create",Xme="pairing_delete",eye="history_created",tye="history_updated",nye="history_deleted",rye="expirer_created",iye="expirer_deleted",sye="expirer_expired",oye="https://verify.walletconnect.org",aye=oye,cye=`${aye}/v3`,lye=["https://verify.walletconnect.com",oye],uye="malformed_pairing_uri",dye="session_approve_started";var hye=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==n[o])throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var d=0,h=s-1;(0!==u||d<i)&&-1!==h;h--,d++)u+=a*o[h]>>>0,o[h]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(r+(s-f)),g=r;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,s=t.length;i!==s&&0===t[i];)i++,n++;for(var o=(s-i)*u+1>>>0,l=new Uint8Array(o);i!==s;){for(var d=t[i],h=0,f=o-1;(0!==d||h<r)&&-1!==f;f--,h++)d+=256*l[f]>>>0,l[f]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");r=h,i++}for(var p=o-r;p!==o&&0===l[p];)p++;for(var g=c.repeat(n);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:d,decode:function(e){var n=d(e);if(n)return n;throw new Error(`Non-${t} character`)}}};const fye=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class pye{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class gye{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return yye(this,e)}}class mye{constructor(e){this.decoders=e}or(e){return yye(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const yye=(e,t)=>new mye({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class wye{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new pye(e,t,n),this.decoder=new gye(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const bye=({name:e,prefix:t,encode:n,decode:r})=>new wye(e,t,n,r),vye=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=hye(n,t);return bye({prefix:e,name:t,encode:r,decode:e=>fye(i(e))})},xye=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>bye({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let s="",o=0,a=0;for(let r=0;r<e.length;++r)for(a=a<<8|e[r],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s})(e,r,n),decode:t=>((e,t,n,r)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let t=0;t<s;++t){const s=i[e[t]];if(void 0===s)throw new SyntaxError(`Non-${r} character`);c=c<<n|s,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(t,r,n,e)}),Eye=bye({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var kye=Object.freeze({__proto__:null,identity:Eye});const _ye=xye({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Cye=Object.freeze({__proto__:null,base2:_ye});const Sye=xye({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Iye=Object.freeze({__proto__:null,base8:Sye});const Aye=vye({prefix:"9",name:"base10",alphabet:"0123456789"});var Tye=Object.freeze({__proto__:null,base10:Aye});const Pye=xye({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Oye=xye({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var jye=Object.freeze({__proto__:null,base16:Pye,base16upper:Oye});const Nye=xye({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Rye=xye({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),$ye=xye({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Mye=xye({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Lye=xye({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Bye=xye({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Uye=xye({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Dye=xye({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Fye=xye({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var zye=Object.freeze({__proto__:null,base32:Nye,base32upper:Rye,base32pad:$ye,base32padupper:Mye,base32hex:Lye,base32hexupper:Bye,base32hexpad:Uye,base32hexpadupper:Dye,base32z:Fye});const Wye=vye({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),qye=vye({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Hye=Object.freeze({__proto__:null,base36:Wye,base36upper:qye});const Vye=vye({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Kye=vye({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Gye=Object.freeze({__proto__:null,base58btc:Vye,base58flickr:Kye});const Zye=xye({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Yye=xye({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Jye=xye({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Qye=xye({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Xye=Object.freeze({__proto__:null,base64:Zye,base64pad:Yye,base64url:Jye,base64urlpad:Qye});const ewe=Array.from(""),twe=ewe.reduce((e,t,n)=>(e[n]=t,e),[]),nwe=ewe.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]),rwe=bye({prefix:"",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+twe[t],"")},decode:function(e){const t=[];for(const n of e){const e=nwe[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var iwe=Object.freeze({__proto__:null,base256emoji:rwe}),swe=128,owe=-128,awe=Math.pow(2,31),cwe=Math.pow(2,7),lwe=Math.pow(2,14),uwe=Math.pow(2,21),dwe=Math.pow(2,28),hwe=Math.pow(2,35),fwe=Math.pow(2,42),pwe=Math.pow(2,49),gwe=Math.pow(2,56),mwe=Math.pow(2,63),ywe=function e(t,n,r){n=n||[];for(var i=r=r||0;t>=awe;)n[r++]=255&t|swe,t/=128;for(;t&owe;)n[r++]=255&t|swe,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},wwe=function(e){return e<cwe?1:e<lwe?2:e<uwe?3:e<dwe?4:e<hwe?5:e<fwe?6:e<pwe?7:e<gwe?8:e<mwe?9:10};const bwe=(e,t,n=0)=>(ywe(e,t,n),t),vwe=e=>wwe(e),xwe=(e,t)=>{const n=t.byteLength,r=vwe(e),i=r+vwe(n),s=new Uint8Array(i+n);return bwe(e,s,0),bwe(n,s,r),s.set(t,i),new Ewe(e,n,t,s)};class Ewe{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const kwe=({name:e,code:t,encode:n})=>new _we(e,t,n);class _we{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?xwe(this.code,t):t.then(e=>xwe(this.code,e))}throw Error("Unknown type, must be binary type")}}const Cwe=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Swe=kwe({name:"sha2-256",code:18,encode:Cwe("SHA-256")}),Iwe=kwe({name:"sha2-512",code:19,encode:Cwe("SHA-512")});Object.freeze({__proto__:null,sha256:Swe,sha512:Iwe});const Awe=fye,Twe={code:0,name:"identity",encode:Awe,digest:e=>xwe(0,Awe(e))};Object.freeze({__proto__:null,identity:Twe}),new TextEncoder,new TextDecoder;const Pwe={...kye,...Cye,...Iye,...Tye,...jye,...zye,...Hye,...Gye,...Xye,...iwe};function Owe(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function jwe(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const Nwe=jwe("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),Rwe=jwe("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{const t=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?Owe(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),$we={utf8:Nwe,"utf-8":Nwe,hex:Pwe.base16,latin1:Rwe,ascii:Rwe,binary:Rwe,...Pwe};var Mwe=Object.defineProperty,Lwe=(e,t,n)=>((e,t,n)=>t in e?Mwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Bwe{constructor(e,t){this.core=e,this.logger=t,Lwe(this,"keychain",new Map),Lwe(this,"name","keychain"),Lwe(this,"version","0.3"),Lwe(this,"initialized",!1),Lwe(this,"storagePrefix",Ome),Lwe(this,"init",async()=>{if(!this.initialized){const e=await this.getKeyChain();typeof e<"u"&&(this.keychain=e),this.initialized=!0}}),Lwe(this,"has",e=>(this.isInitialized(),this.keychain.has(e))),Lwe(this,"set",async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()}),Lwe(this,"get",e=>{this.isInitialized();const t=this.keychain.get(e);if(typeof t>"u"){const{message:t}=ome("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(t)}return t}),Lwe(this,"del",async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()}),this.core=e,this.logger=lae(t,this.name)}get context(){return cae(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,_ue(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Cue(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=ome("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Uwe=Object.defineProperty,Dwe=(e,t,n)=>((e,t,n)=>t in e?Uwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Fwe{constructor(e,t,n){this.core=e,this.logger=t,Dwe(this,"name","crypto"),Dwe(this,"keychain"),Dwe(this,"randomSessionIdentifier",yge()),Dwe(this,"initialized",!1),Dwe(this,"clientId"),Dwe(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Dwe(this,"hasKeys",e=>(this.isInitialized(),this.keychain.has(e))),Dwe(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const e=await this.getClientSeed(),t=mx.TZ(e),n=mx.UF(t.publicKey);return this.clientId=n,n}),Dwe(this,"generateKeyPair",()=>{this.isInitialized();const e=function(){const e=Dpe.utils.randomPrivateKey(),t=Dpe.getPublicKey(e);return{privateKey:Xle(e,fge),publicKey:Xle(t,fge)}}();return this.setPrivateKey(e.publicKey,e.privateKey)}),Dwe(this,"signJWT",async e=>{this.isInitialized();const t=await this.getClientSeed(),n=mx.TZ(t),r=this.randomSessionIdentifier,i=Rme;return await mx.FA(r,e,i,n)}),Dwe(this,"generateSharedKey",(e,t,n)=>{this.isInitialized();const r=function(e,t){const n=Dpe.getSharedSecret(Qle(e,fge),Qle(t,fge));return Xle(((e,t,n,r,i)=>function(e,t,n,r=32){cde(e),ode(r);const i=e.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/i);void 0===n&&(n=Afe);const o=new Uint8Array(s*i),a=Sfe.create(e,t),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let e=0;e<s;e++)Ife[0]=e+1,c.update(0===e?Afe:l).update(n).update(Ife).digestInto(l),o.set(l,i*e),a._cloneInto(c);return a.destroy(),c.destroy(),hde(l,Ife),o.slice(0,r)}(e,function(e,t,n){return cde(e),void 0===n&&(n=new Uint8Array(e.outputLen)),Sfe(e,Cde(n),Cde(t))}(e,t,n),r,i))(Tfe,n,void 0,void 0,32),fge)}(this.getPrivateKey(e),t);return this.setSymKey(r,n)}),Dwe(this,"setSymKey",async(e,t)=>{this.isInitialized();const n=t||wge(e);return await this.keychain.set(n,e),n}),Dwe(this,"deleteKeyPair",async e=>{this.isInitialized(),await this.keychain.del(e)}),Dwe(this,"deleteSymKey",async e=>{this.isInitialized(),await this.keychain.del(e)}),Dwe(this,"encode",async(e,t,n)=>{this.isInitialized();const r=Sge(n),i=(0,Ex.h)(t);if(Age(r))return function(e,t){const n=vge(2),r=Tde(12),i=_ge({type:n,sealed:Qle(e,mge),iv:r});return t===gge?Ege(i):i}(i,n?.encoding);if(Ige(r)){const t=r.senderPublicKey,n=r.receiverPublicKey;e=await this.generateSharedKey(t,n)}const s=this.getSymKey(e),{type:o,senderPublicKey:a}=r;return function(e){const t=vge(typeof e.type<"u"?e.type:0);if(1===xge(t)&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof e.senderPublicKey<"u"?Qle(e.senderPublicKey,fge):void 0,r=typeof e.iv<"u"?Qle(e.iv,fge):Tde(12),i=Qle(e.symKey,fge),s=_ge({type:t,sealed:_fe(i,r).encrypt(Qle(e.message,mge)),iv:r,senderPublicKey:n});return e.encoding===gge?Ege(s):s}({type:o,symKey:s,message:i,senderPublicKey:a,encoding:n?.encoding})}),Dwe(this,"decode",async(e,t,n)=>{this.isInitialized();const r=function(e,t){const n=Cge({encoded:e,encoding:t?.encoding});return Sge({type:xge(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Xle(n.senderPublicKey,fge):void 0,receiverPublicKey:t?.receiverPublicKey})}(t,n);if(Age(r)){const e=function(e,t){const{sealed:n}=Cge({encoded:e,encoding:t});return Xle(n,mge)}(t,n?.encoding);return(0,Ex.j)(e)}if(Ige(r)){const t=r.receiverPublicKey,n=r.senderPublicKey;e=await this.generateSharedKey(t,n)}try{const r=function(e){const t=Qle(e.symKey,fge),{sealed:n,iv:r}=Cge({encoded:e.encoded,encoding:e.encoding}),i=_fe(t,r).decrypt(n);if(null===i)throw new Error("Failed to decrypt");return Xle(i,mge)}({symKey:this.getSymKey(e),encoded:t,encoding:n?.encoding});return(0,Ex.j)(r)}catch(t){this.logger.error(`Failed to decode message from topic: '${e}', clientId: '${await this.getClientId()}'`),this.logger.error(t)}}),Dwe(this,"getPayloadType",(e,t=pge)=>xge(Cge({encoded:e,encoding:t}).type)),Dwe(this,"getPayloadSenderPublicKey",(e,t=pge)=>{const n=Cge({encoded:e,encoding:t});return n.senderPublicKey?Xle(n.senderPublicKey,fge):void 0}),this.core=e,this.logger=lae(t,this.name),this.keychain=n||new Bwe(this.core,this.logger)}get context(){return cae(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(Nme)}catch{e=yge(),await this.keychain.set(Nme,e)}return function(e,t="utf8"){const n=$we[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):Owe(globalThis.Buffer.from(e,"utf-8"))}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=ome("NOT_INITIALIZED",this.name);throw new Error(e)}}}var zwe=Object.defineProperty,Wwe=Object.defineProperties,qwe=Object.getOwnPropertyDescriptors,Hwe=Object.getOwnPropertySymbols,Vwe=Object.prototype.hasOwnProperty,Kwe=Object.prototype.propertyIsEnumerable,Gwe=(e,t,n)=>t in e?zwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zwe=(e,t,n)=>Gwe(e,"symbol"!=typeof t?t+"":t,n);class Ywe extends mae{constructor(e,t){super(e,t),this.logger=e,this.core=t,Zwe(this,"messages",new Map),Zwe(this,"messagesWithoutClientAck",new Map),Zwe(this,"name","messages"),Zwe(this,"version","0.3"),Zwe(this,"initialized",!1),Zwe(this,"storagePrefix",Ome),Zwe(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const e=await this.getRelayerMessages();typeof e<"u"&&(this.messages=e);const t=await this.getRelayerMessagesWithoutClientAck();typeof t<"u"&&(this.messagesWithoutClientAck=t),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}finally{this.initialized=!0}}}),Zwe(this,"set",async(e,t,n)=>{this.isInitialized();const r=bge(t);let i=this.messages.get(e);if(typeof i>"u"&&(i={}),typeof i[r]<"u")return r;if(i[r]=t,this.messages.set(e,i),n===Kme){const n=this.messagesWithoutClientAck.get(e)||{};this.messagesWithoutClientAck.set(e,((e,t)=>Wwe(e,qwe(t)))(((e,t)=>{for(var n in t||(t={}))Vwe.call(t,n)&&Gwe(e,n,t[n]);if(Hwe)for(var n of Hwe(t))Kwe.call(t,n)&&Gwe(e,n,t[n]);return e})({},n),{[r]:t}))}return await this.persist(),r}),Zwe(this,"get",e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t}),Zwe(this,"getWithoutAck",e=>{this.isInitialized();const t={};for(const n of e){const e=this.messagesWithoutClientAck.get(n)||{};t[n]=Object.values(e)}return t}),Zwe(this,"has",(e,t)=>(this.isInitialized(),typeof this.get(e)[bge(t)]<"u")),Zwe(this,"ack",async(e,t)=>{this.isInitialized();const n=this.messagesWithoutClientAck.get(e);typeof n>"u"||(delete n[bge(t)],0===Object.keys(n).length?this.messagesWithoutClientAck.delete(e):this.messagesWithoutClientAck.set(e,n),await this.persist())}),Zwe(this,"del",async e=>{this.isInitialized(),this.messages.delete(e),this.messagesWithoutClientAck.delete(e),await this.persist()}),this.logger=lae(e,this.name),this.core=t}get context(){return cae(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,_ue(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,_ue(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Cue(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?Cue(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=ome("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Jwe=Object.defineProperty,Qwe=Object.defineProperties,Xwe=Object.getOwnPropertyDescriptors,ebe=Object.getOwnPropertySymbols,tbe=Object.prototype.hasOwnProperty,nbe=Object.prototype.propertyIsEnumerable,rbe=(e,t,n)=>t in e?Jwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ibe=(e,t)=>{for(var n in t||(t={}))tbe.call(t,n)&&rbe(e,n,t[n]);if(ebe)for(var n of ebe(t))nbe.call(t,n)&&rbe(e,n,t[n]);return e},sbe=(e,t)=>Qwe(e,Xwe(t)),obe=(e,t,n)=>rbe(e,"symbol"!=typeof t?t+"":t,n);class abe extends yae{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,obe(this,"events",new Ww.EventEmitter),obe(this,"name","publisher"),obe(this,"queue",new Map),obe(this,"publishTimeout",(0,Vw.toMiliseconds)(Vw.ONE_MINUTE)),obe(this,"initialPublishTimeout",(0,Vw.toMiliseconds)(15*Vw.ONE_SECOND)),obe(this,"needsTransportRestart",!1),obe(this,"publish",async(e,t,n)=>{var r,i,s,o,a;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:n}});const c=n?.ttl||$me,l=n?.prompt||!1,u=n?.tag||0,d=n?.id||(0,HA.getBigIntRpcId)().toString(),h=Pge(Tge().protocol),f={id:d,method:n?.publishMethod||h.publish,params:ibe({topic:e,message:t,ttl:c,prompt:l,tag:u,attestation:n?.attestation},n?.tvf)},p=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{ume(null==(r=f.params)?void 0:r.prompt)&&(null==(i=f.params)||delete i.prompt),ume(null==(s=f.params)?void 0:s.tag)&&(null==(o=f.params)||delete o.tag);const a=new Promise(async e=>{const t=({id:n})=>{var r;(null==(r=f.id)?void 0:r.toString())===n.toString()&&(this.removeRequestFromQueue(n),this.relayer.events.removeListener(Dme,t),e())};this.relayer.events.on(Dme,t);const r=Iue(new Promise((e,t)=>{this.rpcPublish(f,n).then(e).catch(e=>{this.logger.warn(e,e?.message),t(e)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await r,this.events.removeListener(Dme,t)}catch(e){this.queue.set(d,{request:f,opts:n,attempt:1}),this.logger.warn(e,e?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:e,message:t,opts:n}}),await Iue(a,this.publishTimeout,p)}catch(e){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(e),null!=(a=n?.internal)&&a.throwOnFailedPublish)throw e}finally{this.queue.delete(d)}}),obe(this,"publishCustom",async e=>{var t,n,r,i,s;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:e});const{payload:o,opts:a={}}=e,{attestation:c,tvf:l,publishMethod:u,prompt:d,tag:h,ttl:f=Vw.FIVE_MINUTES}=a,p=a.id||(0,HA.getBigIntRpcId)().toString(),g=Pge(Tge().protocol),m=u||g.publish,y={id:p,method:m,params:ibe(sbe(ibe({},o),{ttl:f,prompt:d,tag:h,attestation:c}),l)},w=`Failed to publish custom payload, please try again. id:${p} tag:${h}`;try{ume(null==(t=y.params)?void 0:t.prompt)&&(null==(n=y.params)||delete n.prompt),ume(null==(r=y.params)?void 0:r.tag)&&(null==(i=y.params)||delete i.tag);const e=new Promise(async e=>{const t=({id:n})=>{var r;(null==(r=y.id)?void 0:r.toString())===n.toString()&&(this.removeRequestFromQueue(n),this.relayer.events.removeListener(Dme,t),e())};this.relayer.events.on(Dme,t);const n=Iue(new Promise((e,t)=>{this.rpcPublish(y,a).then(e).catch(e=>{this.logger.warn(e,e?.message),t(e)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${m} id:${p} tag:${h}`);try{await n,this.events.removeListener(Dme,t)}catch(e){this.queue.set(p,{request:y,opts:a,attempt:1}),this.logger.warn(e,e?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:p,payload:o,opts:a}}),await Iue(e,this.publishTimeout,w)}catch(e){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(e),null!=(s=a?.internal)&&s.throwOnFailedPublish)throw e}finally{this.queue.delete(p)}}),obe(this,"on",(e,t)=>{this.events.on(e,t)}),obe(this,"once",(e,t)=>{this.events.once(e,t)}),obe(this,"off",(e,t)=>{this.events.off(e,t)}),obe(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.relayer=e,this.logger=lae(t,this.name),this.registerEventListeners()}get context(){return cae(this.logger)}async rpcPublish(e,t){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const n=await this.relayer.request(e);return this.relayer.events.emit(Dme,ibe(ibe({},e),t)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{var n;const r=e.attempt+1;this.queue.set(t,sbe(ibe({},e),{attempt:r})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${null==(n=e.request.params)?void 0:n.tag}, attempt: ${r}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(kA.li.pulse,()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit(Ume);this.checkQueue()}),this.relayer.on(Bme,e=>{this.removeRequestFromQueue(e.id.toString())})}}var cbe=Object.defineProperty,lbe=(e,t,n)=>((e,t,n)=>t in e?cbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class ube{constructor(){lbe(this,"map",new Map),lbe(this,"set",(e,t)=>{const n=this.get(e);this.exists(e,t)||this.map.set(e,[...n,t])}),lbe(this,"get",e=>this.map.get(e)||[]),lbe(this,"exists",(e,t)=>this.get(e).includes(t)),lbe(this,"delete",(e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,t))return;const r=n.filter(e=>e!==t);r.length?this.map.set(e,r):this.map.delete(e)}),lbe(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var dbe=Object.defineProperty,hbe=Object.defineProperties,fbe=Object.getOwnPropertyDescriptors,pbe=Object.getOwnPropertySymbols,gbe=Object.prototype.hasOwnProperty,mbe=Object.prototype.propertyIsEnumerable,ybe=(e,t,n)=>t in e?dbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wbe=(e,t)=>{for(var n in t||(t={}))gbe.call(t,n)&&ybe(e,n,t[n]);if(pbe)for(var n of pbe(t))mbe.call(t,n)&&ybe(e,n,t[n]);return e},bbe=(e,t)=>hbe(e,fbe(t)),vbe=(e,t,n)=>ybe(e,"symbol"!=typeof t?t+"":t,n);class xbe extends vae{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,vbe(this,"subscriptions",new Map),vbe(this,"topicMap",new ube),vbe(this,"events",new Ww.EventEmitter),vbe(this,"name","subscription"),vbe(this,"version","0.3"),vbe(this,"pending",new Map),vbe(this,"cached",[]),vbe(this,"initialized",!1),vbe(this,"storagePrefix",Ome),vbe(this,"subscribeTimeout",(0,Vw.toMiliseconds)(Vw.ONE_MINUTE)),vbe(this,"initialSubscribeTimeout",(0,Vw.toMiliseconds)(15*Vw.ONE_SECOND)),vbe(this,"clientId"),vbe(this,"batchSubscribeTopicsLimit",500),vbe(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),vbe(this,"subscribe",async(e,t)=>{var n;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{const r=Tge(t),i={topic:e,relay:r,transportType:t?.transportType};null!=(n=t?.internal)&&n.skipSubscribe||this.pending.set(e,i);const s=await this.rpcSubscribe(e,r,t);return"string"==typeof s&&(this.onSubscribe(s,i),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}})),s}catch(e){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(e),e}}),vbe(this,"unsubscribe",async(e,t)=>{this.isInitialized(),typeof t?.id<"u"?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)}),vbe(this,"isSubscribed",e=>new Promise(t=>{t(this.topicMap.topics.includes(e))})),vbe(this,"isKnownTopic",e=>new Promise(t=>{t(this.topicMap.topics.includes(e)||this.pending.has(e)||this.cached.some(t=>t.topic===e))})),vbe(this,"on",(e,t)=>{this.events.on(e,t)}),vbe(this,"once",(e,t)=>{this.events.once(e,t)}),vbe(this,"off",(e,t)=>{this.events.off(e,t)}),vbe(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),vbe(this,"start",async()=>{await this.onConnect()}),vbe(this,"stop",async()=>{await this.onDisconnect()}),vbe(this,"restart",async()=>{await this.restore(),await this.onRestart()}),vbe(this,"checkPending",async()=>{if(!(0!==this.pending.size||this.initialized&&this.relayer.connected))return;const e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}),vbe(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(kA.li.pulse,async()=>{await this.checkPending()}),this.events.on(Zme,async e=>{const t=Zme;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(Yme,async e=>{const t=Yme;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}),this.relayer=e,this.logger=lae(t,this.name),this.clientId=""}get context(){return cae(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let n=!1;try{n=this.getSubscription(e).topic===t}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const n=this.topicMap.get(e);await Promise.all(n.map(async n=>await this.unsubscribeById(e,n,t)))}async unsubscribeById(e,t,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}});try{const r=Tge(n);await this.restartToComplete({topic:e,id:t,relay:r}),await this.rpcUnsubscribe(e,t,r);const i=ame("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}})}catch(e){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(e),e}}async rpcSubscribe(e,t,n){var r,i;const s=await this.getSubscriptionId(e);if(null!=(r=n?.internal)&&r.skipSubscribe)return s;(!n||n?.transportType===Vme.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const o={method:Pge(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o});const a=null==(i=n?.internal)?void 0:i.throwOnFailedPublish;try{if(n?.transportType===Vme.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(o).catch(e=>this.logger.warn(e))},(0,Vw.toMiliseconds)(Vw.ONE_SECOND)),s;const t=new Promise(async t=>{const n=r=>{r.topic===e&&(this.events.removeListener(Zme,n),t(r.id))};this.events.on(Zme,n);try{const r=await Iue(new Promise((e,t)=>{this.relayer.request(o).catch(e=>{this.logger.warn(e,e?.message),t(e)}).then(e)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Zme,n),t(r)}catch{}}),r=await Iue(t,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!r&&a)throw new Error(`Subscribing to ${e} failed, please try again`);return r?s:null}catch(e){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Ume),a)throw e}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t={method:Pge(e[0].relay.protocol).batchSubscribe,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{await await Iue(new Promise(e=>{this.relayer.request(t).catch(e=>this.logger.warn(e)).then(e)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Ume)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t={method:Pge(e[0].relay.protocol).batchFetchMessages,params:{topics:e.map(e=>e.topic)}};let n;this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{n=await await Iue(new Promise((e,n)=>{this.relayer.request(t).catch(e=>{this.logger.warn(e),n(e)}).then(e)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Ume)}return n}rpcUnsubscribe(e,t,n){const r={method:Pge(n.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r}),this.relayer.request(r)}onSubscribe(e,t){this.setSubscription(e,bbe(wbe({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(e=>{this.setSubscription(e.id,wbe({},e)),this.pending.delete(e.topic)})}async onUnsubscribe(e,t,n){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,wbe({},t)),this.topicMap.set(t.topic,e),this.events.emit(Zme,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:t}=ome("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Yme,bbe(wbe({},n),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit("subscription_sync")}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<t;n++){const t=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(t)}}this.events.emit("subscription_resubscribed")}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(e=>{var t;return e.topic===(null==(t=this.subscriptions.get(e.id))?void 0:t.topic)})){const{message:e}=ome("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async e=>bbe(wbe({},e),{id:await this.getSubscriptionId(e.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await function(e){return new Promise(t=>setTimeout(t,e))}((0,Vw.toMiliseconds)(Vw.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=ome("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return bge(e+await this.getClientId())}}var Ebe=Object.defineProperty,kbe=Object.getOwnPropertySymbols,_be=Object.prototype.hasOwnProperty,Cbe=Object.prototype.propertyIsEnumerable,Sbe=(e,t,n)=>t in e?Ebe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ibe=(e,t)=>{for(var n in t||(t={}))_be.call(t,n)&&Sbe(e,n,t[n]);if(kbe)for(var n of kbe(t))Cbe.call(t,n)&&Sbe(e,n,t[n]);return e},Abe=(e,t,n)=>Sbe(e,"symbol"!=typeof t?t+"":t,n);class Tbe extends wae{constructor(e){var t;super(e),Abe(this,"protocol","wc"),Abe(this,"version",2),Abe(this,"core"),Abe(this,"logger"),Abe(this,"events",new Ww.EventEmitter),Abe(this,"provider"),Abe(this,"messages"),Abe(this,"subscriber"),Abe(this,"publisher"),Abe(this,"name","relayer"),Abe(this,"transportExplicitlyClosed",!1),Abe(this,"initialized",!1),Abe(this,"connectionAttemptInProgress",!1),Abe(this,"relayUrl"),Abe(this,"projectId"),Abe(this,"packageName"),Abe(this,"bundleId"),Abe(this,"hasExperiencedNetworkDisruption",!1),Abe(this,"pingTimeout"),Abe(this,"heartBeatTimeout",(0,Vw.toMiliseconds)(Vw.THIRTY_SECONDS+Vw.FIVE_SECONDS)),Abe(this,"reconnectTimeout"),Abe(this,"connectPromise"),Abe(this,"reconnectInProgress",!1),Abe(this,"requestsInFlight",[]),Abe(this,"connectTimeout",(0,Vw.toMiliseconds)(15*Vw.ONE_SECOND)),Abe(this,"request",async e=>{var t,n;this.logger.debug("Publishing Request Payload");const r=e.id||(0,HA.getBigIntRpcId)().toString();await this.toEstablishConnection();try{this.logger.trace({id:r,method:e.method,topic:null==(t=e.params)?void 0:t.topic},"relayer.request - publishing...");const i=`${r}:${(null==(n=e.params)?void 0:n.tag)||""}`;this.requestsInFlight.push(i);const s=await this.provider.request(e);return this.requestsInFlight=this.requestsInFlight.filter(e=>e!==i),s}catch(e){throw this.logger.debug(`Failed to Publish Request: ${r}`),e}}),Abe(this,"resetPingTimeout",()=>{mue()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var e,t,n,r;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),null==(r=null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.terminate)||r.call(n)}catch(e){this.logger.warn(e,e?.message)}},this.heartBeatTimeout))}),Abe(this,"onPayloadHandler",e=>{this.onProviderPayload(e),this.resetPingTimeout()}),Abe(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit("relayer_connect")}),Abe(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),Abe(this,"onProviderErrorHandler",e=>{this.logger.fatal(`Fatal socket error: ${e.message}`),this.events.emit("relayer_error",e),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Abe(this,"registerProviderListeners",()=>{this.provider.on(Fme,this.onPayloadHandler),this.provider.on(zme,this.onConnectHandler),this.provider.on(Wme,this.onDisconnectHandler),this.provider.on(qme,this.onProviderErrorHandler)}),this.core=e.core,this.logger=Ime({logger:null!=(t=e.logger)?t:"error",name:this.name}),this.messages=new Ywe(this.logger,e.core),this.subscriber=new xbe(this,this.logger),this.publisher=new abe(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Mme,yue()&&typeof global<"u"&&typeof(null==global?void 0:global.Platform)<"u"&&"android"===(null==global?void 0:global.Platform.OS)?this.packageName=vue():yue()&&typeof global<"u"&&typeof(null==global?void 0:global.Platform)<"u"&&"ios"===(null==global?void 0:global.Platform.OS)&&(this.bundleId=vue()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return cae(this.logger)}get connected(){var e,t,n;return 1===(null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.readyState)||!1}get connecting(){var e,t,n;return 0===(null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.readyState)||void 0!==this.connectPromise||!1}async publish(e,t,n){this.isInitialized(),await this.publisher.publish(e,t,n),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:Vme.relay},"outbound")}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,t){var n,r,i;this.isInitialized(),(null==t||!t.transportType||"relay"===t?.transportType)&&await this.toEstablishConnection();const s=typeof(null==(n=t?.internal)?void 0:n.throwOnFailedPublish)>"u"||(null==(r=t?.internal)?void 0:r.throwOnFailedPublish);let o,a=(null==(i=this.subscriber.topicMap.get(e))?void 0:i[0])||"";const c=t=>{t.topic===e&&(this.subscriber.off(Zme,c),o())};return await Promise.all([new Promise(e=>{o=e,this.subscriber.on(Zme,c)}),new Promise(async(n,r)=>{a=await this.subscriber.subscribe(e,Ibe({internal:{throwOnFailedPublish:s}},t)).catch(e=>{s&&r(e)})||a,n()})]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Iue(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(this.subscriber.hasAnyTopics){if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(t,n)=>{await this.connect(e).then(t).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}else this.logger.info("Starting WS connection skipped because the client has no topics to work with.")}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Eme())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(0===e?.length)return void this.logger.trace("Batch message events is empty. Ignoring...");const t=e.sort((e,t)=>e.publishedAt-t.publishedAt);this.logger.debug(`Batch of ${t.length} message events sorted`);for(const e of t)try{await this.onMessageEvent(e)}catch(e){this.logger.warn(e,"Error while processing batch message event: "+e?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){const{topic:n}=e;if(!t.sessionExists){const e={topic:n,expiry:Pue(Vw.FIVE_MINUTES),relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,e)}this.events.emit(Lme,e),await this.recordMessageEvent(e,Kme)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(e,t)=>{const n=()=>{t(new Error("Connection interrupted while trying to connect"))};this.provider.once(Wme,n),await Iue(new Promise((e,t)=>{this.provider.connect().then(e).catch(t)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(e=>{t(e)}).finally(()=>{this.provider.off(Wme,n),clearTimeout(this.reconnectTimeout)}),await new Promise(async(e,n)=>{const r=()=>{t(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Wme,r),await this.subscriber.start().then(e).catch(n).finally(()=>{this.provider.off(Wme,r)})}),this.hasExperiencedNetworkDisruption=!1,e()})}catch(e){await this.subscriber.stop();const t=e;this.logger.warn({},t.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(e=>setTimeout(e,(0,Vw.toMiliseconds)(1*t))),t++}}startPingTimeout(){var e,t,n,r,i;if(mue())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(i=null==(r=null==(n=this.provider)?void 0:n.connection)?void 0:r.socket)||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(e){this.logger.warn(e,e?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new qA.F(new VA.A(function({protocol:e,version:t,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u={auth:i,ua:Eue(e,t,r),projectId:s,useOnCloseEvent:o||void 0,packageName:c||void 0,bundleId:a||void 0},d=function(e,t){const n=new URLSearchParams(e);return Object.entries(t).sort(([e],[t])=>e.localeCompare(t)).forEach(([e,t])=>{null!=t&&n.set(e,String(t))}),n.toString()}(l[1]||"",u);return l[0]+"?"+d}({sdkVersion:Hme,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){const{topic:n,message:r}=e;await this.messages.set(n,r,t)}async shouldIgnoreMessageEvent(e){const{topic:t,message:n}=e;if(!n||0===n.length)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;const r=this.messages.has(t,n);return r&&this.logger.warn(`Ignoring duplicate message: ${n}`),r}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),(0,HA.isJsonRpcRequest)(e)){if(!e.method.endsWith("_subscription"))return;const t=e.params,{topic:n,message:r,publishedAt:i,attestation:s}=t.data,o={topic:n,message:r,publishedAt:i,transportType:Vme.relay,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Ibe({type:"event",event:t.id},o)),this.events.emit(t.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else(0,HA.isJsonRpcResponse)(e)&&this.events.emit(Bme,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Kme),this.events.emit(Lme,e))}async acknowledgePayload(e){const t=(0,HA.formatJsonRpcResult)(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(Fme,this.onPayloadHandler),this.provider.off(zme,this.onConnectHandler),this.provider.off(Wme,this.onDisconnectHandler),this.provider.off(qme,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await Eme();(function(e){switch(bue()){case pue:!function(e){!yue()&&wue()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}(e);break;case fue:!function(e){yue()&&typeof global<"u"&&null!=global&&global.NetInfo&&global?.NetInfo.addEventListener(t=>e(t?.isConnected))}(e)}})(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(e=>this.logger.error(e,e?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(kA.li.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&function(){var e;return!wue()||!(0,Kw.getDocument)()||"visible"===(null==(e=(0,Kw.getDocument)())?void 0:e.visibilityState)}())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(e){this.logger.warn(e,e?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit("relayer_disconnect"),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,Vw.toMiliseconds)(.1)))))}isInitialized(){if(!this.initialized){const{message:e}=ome("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise)return void await this.connectPromise;await this.connect()}}}function Pbe(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function Obe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const jbe="[object Arguments]",Nbe="[object Object]";function Rbe(){}function $be(e){if(!e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}function Mbe(e,t,n,r,i,s,o){const a=o(e,t,n,r,i,s);if(void 0!==a)return a;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return Lbe(e,t,s,o)}return Lbe(e,t,s,o)}function Lbe(e,t,n,r){if(Object.is(e,t))return!0;let i=Obe(e),s=Obe(t);if(i===jbe&&(i=Nbe),s===jbe&&(s=Nbe),i!==s)return!1;switch(i){case"[object String]":return e.toString()===t.toString();case"[object Number]":return function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}(e.valueOf(),t.valueOf());case"[object Boolean]":case"[object Date]":case"[object Symbol]":return Object.is(e.valueOf(),t.valueOf());case"[object RegExp]":return e.source===t.source&&e.flags===t.flags;case"[object Function]":return e===t}const o=(n=n??new Map).get(e),a=n.get(t);if(null!=o&&null!=a)return o===t;n.set(e,t),n.set(t,e);try{switch(i){case"[object Map]":if(e.size!==t.size)return!1;for(const[i,s]of e.entries())if(!t.has(i)||!Mbe(s,t.get(i),i,e,t,n,r))return!1;return!0;case"[object Set]":{if(e.size!==t.size)return!1;const i=Array.from(e.values()),s=Array.from(t.values());for(let o=0;o<i.length;o++){const a=i[o],c=s.findIndex(i=>Mbe(a,i,void 0,e,t,n,r));if(-1===c)return!1;s.splice(c,1)}return!0}case"[object Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":case"[object BigUint64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object BigInt64Array]":case"[object Float32Array]":case"[object Float64Array]":if(typeof Ame<"u"&&Ame.isBuffer(e)!==Ame.isBuffer(t)||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!Mbe(e[i],t[i],i,e,t,n,r))return!1;return!0;case"[object ArrayBuffer]":return e.byteLength===t.byteLength&&Lbe(new Uint8Array(e),new Uint8Array(t),n,r);case"[object DataView]":return e.byteLength===t.byteLength&&e.byteOffset===t.byteOffset&&Lbe(new Uint8Array(e),new Uint8Array(t),n,r);case"[object Error]":return e.name===t.name&&e.message===t.message;case Nbe:{if(!(Lbe(e.constructor,t.constructor,n,r)||$be(e)&&$be(t)))return!1;const i=[...Object.keys(e),...Pbe(e)],s=[...Object.keys(t),...Pbe(t)];if(i.length!==s.length)return!1;for(let s=0;s<i.length;s++){const o=i[s],a=e[o];if(!Object.hasOwn(t,o))return!1;if(!Mbe(a,t[o],o,e,t,n,r))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}var Bbe=Object.defineProperty,Ube=Object.getOwnPropertySymbols,Dbe=Object.prototype.hasOwnProperty,Fbe=Object.prototype.propertyIsEnumerable,zbe=(e,t,n)=>t in e?Bbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wbe=(e,t)=>{for(var n in t||(t={}))Dbe.call(t,n)&&zbe(e,n,t[n]);if(Ube)for(var n of Ube(t))Fbe.call(t,n)&&zbe(e,n,t[n]);return e},qbe=(e,t,n)=>zbe(e,"symbol"!=typeof t?t+"":t,n);class Hbe extends bae{constructor(e,t,n,r=Ome,i=void 0){super(e,t,n,r),this.core=e,this.logger=t,this.name=n,qbe(this,"map",new Map),qbe(this,"version","0.3"),qbe(this,"cached",[]),qbe(this,"initialized",!1),qbe(this,"getKey"),qbe(this,"storagePrefix",Ome),qbe(this,"recentlyDeleted",[]),qbe(this,"recentlyDeletedLimit",200),qbe(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>{this.getKey&&null!==e&&!ume(e)?this.map.set(this.getKey(e),e):function(e){var t;return null==(t=e?.proposer)?void 0:t.publicKey}(e)?this.map.set(e.id,e):function(e){return e?.topic}(e)&&this.map.set(e.topic,e)}),this.cached=[],this.initialized=!0)}),qbe(this,"set",async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())}),qbe(this,"get",e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e))),qbe(this,"getAll",e=>(this.isInitialized(),e?this.values.filter(t=>Object.keys(e).every(n=>function(e,t){return function(e,t,n){return Mbe(e,t,void 0,void 0,void 0,void 0,n)}(e,t,Rbe)}(t[n],e[n]))):this.values)),qbe(this,"update",async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});const n=Wbe(Wbe({},this.getData(e)),t);this.map.set(e,n),await this.persist()}),qbe(this,"delete",async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),this.addToRecentlyDeleted(e),await this.persist())}),this.logger=lae(t,this.name),this.storagePrefix=r,this.getKey=i}get context(){return cae(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:t}=ome("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(t),new Error(t)}const{message:t}=ome("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),new Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:e}=ome("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=ome("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Vbe=Object.defineProperty,Kbe=(e,t,n)=>((e,t,n)=>t in e?Vbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Gbe{constructor(e,t){this.core=e,this.logger=t,Kbe(this,"name","pairing"),Kbe(this,"version","0.3"),Kbe(this,"events",new Ww),Kbe(this,"pairings"),Kbe(this,"initialized",!1),Kbe(this,"storagePrefix",Ome),Kbe(this,"ignoredPayloadTypes",[1]),Kbe(this,"registeredMethods",[]),Kbe(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Kbe(this,"register",({methods:e})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...e])]}),Kbe(this,"create",async e=>{this.isInitialized();const t=yge(),n=await this.core.crypto.setSymKey(t),r=Pue(Vw.FIVE_MINUTES),i={protocol:"irn"},s={topic:n,expiry:r,relay:i,active:!1,methods:e?.methods},o=zge({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:t,relay:i,expiryTimestamp:r,methods:e?.methods});return this.events.emit(Qme,s),this.core.expirer.set(n,r),await this.pairings.set(n,s),await this.core.relayer.subscribe(n,{transportType:e?.transportType,internal:e?.internal}),{topic:n,uri:o}}),Kbe(this,"pair",async e=>{this.isInitialized();const t=this.core.eventClient.createEvent({properties:{topic:e?.uri,trace:["pairing_started"]}});this.isValidPair(e,t);const{topic:n,symKey:r,relay:i,expiryTimestamp:s,methods:o}=Dge(e.uri);let a;if(t.props.properties.topic=n,t.addTrace("pairing_uri_validation_success"),t.addTrace("pairing_uri_not_expired"),this.pairings.keys.includes(n)){if(a=this.pairings.get(n),t.addTrace("existing_pairing"),a.active)throw t.setError("active_pairing_already_exists"),new Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);t.addTrace("pairing_not_expired")}const c=s||Pue(Vw.FIVE_MINUTES),l={topic:n,relay:i,expiry:c,active:!1,methods:o};this.core.expirer.set(n,c),await this.pairings.set(n,l),t.addTrace("store_new_pairing"),e.activatePairing&&await this.activate({topic:n}),this.events.emit(Qme,l),t.addTrace("emit_inactive_pairing"),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(r,n),t.addTrace("subscribing_pairing_topic");try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{t.setError("no_internet_connection")}try{await this.core.relayer.subscribe(n,{relay:i})}catch(e){throw t.setError("subscribe_pairing_topic_failure"),e}return t.addTrace("subscribe_pairing_topic_success"),l}),Kbe(this,"activate",async({topic:e})=>{this.isInitialized();const t=Pue(Vw.FIVE_MINUTES);this.core.expirer.set(e,t),await this.pairings.update(e,{active:!0,expiry:t})}),Kbe(this,"ping",async e=>{this.isInitialized(),await this.isValidPing(e),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:t}=e;if(this.pairings.keys.includes(t)){const e=await this.sendRequest(t,"wc_pairingPing",{}),{done:n,resolve:r,reject:i}=Sue();this.events.once(jue("pairing_ping",e),({error:e})=>{e?i(e):r()}),await n()}}),Kbe(this,"updateExpiry",async({topic:e,expiry:t})=>{this.isInitialized(),await this.pairings.update(e,{expiry:t})}),Kbe(this,"updateMetadata",async({topic:e,metadata:t})=>{this.isInitialized(),await this.pairings.update(e,{peerMetadata:t})}),Kbe(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Kbe(this,"disconnect",async e=>{this.isInitialized(),await this.isValidDisconnect(e);const{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",ame("USER_DISCONNECTED")),await this.deletePairing(t))}),Kbe(this,"formatUriFromPairing",e=>{this.isInitialized();const{topic:t,relay:n,expiry:r,methods:i}=e,s=this.core.crypto.keychain.get(t);return zge({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:s,relay:n,expiryTimestamp:r,methods:i})}),Kbe(this,"sendRequest",async(e,t,n)=>{const r=(0,HA.formatJsonRpcRequest)(t,n),i=await this.core.crypto.encode(e,r),s=Jme[t].req;return this.core.history.set(e,r),this.core.relayer.publish(e,i,s),r.id}),Kbe(this,"sendResult",async(e,t,n)=>{const r=(0,HA.formatJsonRpcResult)(e,n),i=await this.core.crypto.encode(t,r),s=(await this.core.history.get(t,e)).request.method,o=Jme[s].res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(r)}),Kbe(this,"sendError",async(e,t,n)=>{const r=(0,HA.formatJsonRpcError)(e,n),i=await this.core.crypto.encode(t,r),s=(await this.core.history.get(t,e)).request.method,o=Jme[s]?Jme[s].res:Jme.unregistered_method.res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(r)}),Kbe(this,"deletePairing",async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,ame("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])}),Kbe(this,"cleanup",async()=>{const e=this.pairings.getAll().filter(e=>Oue(e.expiry));await Promise.all(e.map(e=>this.deletePairing(e.topic)))}),Kbe(this,"onRelayEventRequest",async e=>{const{topic:t,payload:n}=e;switch(n.method){case"wc_pairingPing":return await this.onPairingPingRequest(t,n);case"wc_pairingDelete":return await this.onPairingDeleteRequest(t,n);default:return await this.onUnknownRpcMethodRequest(t,n)}}),Kbe(this,"onRelayEventResponse",async e=>{const{topic:t,payload:n}=e,r=(await this.core.history.get(t,n.id)).request.method;return"wc_pairingPing"===r?this.onPairingPingResponse(t,n):this.onUnknownRpcMethodResponse(r)}),Kbe(this,"onPairingPingRequest",async(e,t)=>{const{id:n}=t;try{this.isValidPing({topic:e}),await this.sendResult(n,e,!0),this.events.emit("pairing_ping",{id:n,topic:e})}catch(t){await this.sendError(n,e,t),this.logger.error(t)}}),Kbe(this,"onPairingPingResponse",(e,t)=>{const{id:n}=t;setTimeout(()=>{(0,HA.isJsonRpcResult)(t)?this.events.emit(jue("pairing_ping",n),{}):(0,HA.isJsonRpcError)(t)&&this.events.emit(jue("pairing_ping",n),{error:t.error})},500)}),Kbe(this,"onPairingDeleteRequest",async(e,t)=>{const{id:n}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(Xme,{id:n,topic:e})}catch(t){await this.sendError(n,e,t),this.logger.error(t)}}),Kbe(this,"onUnknownRpcMethodRequest",async(e,t)=>{const{id:n,method:r}=t;try{if(this.registeredMethods.includes(r))return;const t=ame("WC_METHOD_UNSUPPORTED",r);await this.sendError(n,e,t),this.logger.error(t)}catch(t){await this.sendError(n,e,t),this.logger.error(t)}}),Kbe(this,"onUnknownRpcMethodResponse",e=>{this.registeredMethods.includes(e)||this.logger.error(ame("WC_METHOD_UNSUPPORTED",e))}),Kbe(this,"isValidPair",(e,t)=>{var n;if(!wme(e)){const{message:n}=ome("MISSING_OR_INVALID",`pair() params: ${e}`);throw t.setError(uye),new Error(n)}if(!function(e){function t(e){try{return typeof new URL(e)<"u"}catch{return!1}}try{if(dme(e,!1))return!!t(e)||t(Lue(e))}catch{}return!1}(e.uri)){const{message:n}=ome("MISSING_OR_INVALID",`pair() uri: ${e.uri}`);throw t.setError(uye),new Error(n)}const r=Dge(e?.uri);if(null==(n=r?.relay)||!n.protocol){const{message:e}=ome("MISSING_OR_INVALID","pair() uri#relay-protocol");throw t.setError(uye),new Error(e)}if(null==r||!r.symKey){const{message:e}=ome("MISSING_OR_INVALID","pair() uri#symKey");throw t.setError(uye),new Error(e)}if(null!=r&&r.expiryTimestamp&&(0,Vw.toMiliseconds)(r?.expiryTimestamp)<Date.now()){t.setError("pairing_expired");const{message:e}=ome("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(e)}}),Kbe(this,"isValidPing",async e=>{if(!wme(e)){const{message:t}=ome("MISSING_OR_INVALID",`ping() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)}),Kbe(this,"isValidDisconnect",async e=>{if(!wme(e)){const{message:t}=ome("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)}),Kbe(this,"isValidPairingTopic",async e=>{if(!dme(e,!1)){const{message:t}=ome("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.pairings.keys.includes(e)){const{message:t}=ome("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(Oue(this.pairings.get(e).expiry)){await this.deletePairing(e);const{message:t}=ome("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}),this.core=e,this.logger=lae(t,this.name),this.pairings=new Hbe(this.core,this.logger,this.name,this.storagePrefix)}get context(){return cae(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=ome("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Lme,async e=>{const{topic:t,message:n,transportType:r}=e;if(this.pairings.keys.includes(t)&&r!==Vme.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const e=await this.core.crypto.decode(t,n);(0,HA.isJsonRpcRequest)(e)?(this.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e})):(0,HA.isJsonRpcResponse)(e)&&(await this.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e}),this.core.history.delete(t,e.id)),await this.core.relayer.messages.ack(t,n)}catch(e){this.logger.error(e)}})}registerExpirerEvents(){this.core.expirer.on(sye,async e=>{const{topic:t}=Tue(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit("pairing_expire",{topic:t}))})}}var Zbe=Object.defineProperty,Ybe=(e,t,n)=>((e,t,n)=>t in e?Zbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Jbe extends gae{constructor(e,t){super(e,t),this.core=e,this.logger=t,Ybe(this,"records",new Map),Ybe(this,"events",new Ww.EventEmitter),Ybe(this,"name","history"),Ybe(this,"version","0.3"),Ybe(this,"cached",[]),Ybe(this,"initialized",!1),Ybe(this,"storagePrefix",Ome),Ybe(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.records.set(e.id,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ybe(this,"set",(e,t,n)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:n}),this.records.has(t.id))return;const r={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:n,expiry:Pue(Vw.THIRTY_DAYS)};this.records.set(r.id,r),this.persist(),this.events.emit(eye,r)}),Ybe(this,"resolve",async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;const t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=(0,HA.isJsonRpcError)(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.persist(),this.events.emit(tye,t))}),Ybe(this,"get",async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t))),Ybe(this,"delete",(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach(n=>{if(n.topic===e){if(typeof t<"u"&&n.id!==t)return;this.records.delete(n.id),this.events.emit(nye,n)}}),this.persist()}),Ybe(this,"exists",async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e)),Ybe(this,"on",(e,t)=>{this.events.on(e,t)}),Ybe(this,"once",(e,t)=>{this.events.once(e,t)}),Ybe(this,"off",(e,t)=>{this.events.off(e,t)}),Ybe(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=lae(t,this.name)}get context(){return cae(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const n={topic:t.topic,request:(0,HA.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:t}=ome("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit("history_sync")}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:e}=ome("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(eye,e=>{const t=eye;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(tye,e=>{const t=tye;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(nye,e=>{const t=nye;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.core.heartbeat.on(kA.li.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,Vw.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(nye,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=ome("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Qbe=Object.defineProperty,Xbe=(e,t,n)=>((e,t,n)=>t in e?Qbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class eve extends xae{constructor(e,t){super(e,t),this.core=e,this.logger=t,Xbe(this,"expirations",new Map),Xbe(this,"events",new Ww.EventEmitter),Xbe(this,"name","expirer"),Xbe(this,"version","0.3"),Xbe(this,"cached",[]),Xbe(this,"initialized",!1),Xbe(this,"storagePrefix",Ome),Xbe(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.expirations.set(e.target,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Xbe(this,"has",e=>{try{const t=this.formatTarget(e);return typeof this.getExpiration(t)<"u"}catch{return!1}}),Xbe(this,"set",(e,t)=>{this.isInitialized();const n=this.formatTarget(e),r={target:n,expiry:t};this.expirations.set(n,r),this.checkExpiry(n,r),this.events.emit(rye,{target:n,expiration:r})}),Xbe(this,"get",e=>{this.isInitialized();const t=this.formatTarget(e);return this.getExpiration(t)}),Xbe(this,"del",e=>{if(this.isInitialized(),this.has(e)){const t=this.formatTarget(e),n=this.getExpiration(t);this.expirations.delete(t),this.events.emit(iye,{target:t,expiration:n})}}),Xbe(this,"on",(e,t)=>{this.events.on(e,t)}),Xbe(this,"once",(e,t)=>{this.events.once(e,t)}),Xbe(this,"off",(e,t)=>{this.events.off(e,t)}),Xbe(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=lae(t,this.name)}get context(){return cae(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return function(e){return Aue("topic",e)}(e);if("number"==typeof e)return function(e){return Aue("id",e)}(e);const{message:t}=ome("UNKNOWN_TYPE","Target type: "+typeof e);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit("expirer_sync")}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:e}=ome("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:t}=ome("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(t),new Error(t)}return t}checkExpiry(e,t){const{expiry:n}=t;(0,Vw.toMiliseconds)(n)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(sye,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(kA.li.pulse,()=>this.checkExpirations()),this.events.on(rye,e=>{const t=rye;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(sye,e=>{const t=sye;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(iye,e=>{const t=iye;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ome("NOT_INITIALIZED",this.name);throw new Error(e)}}}var tve=Object.defineProperty,nve=(e,t,n)=>((e,t,n)=>t in e?tve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class rve extends Eae{constructor(e,t,n){super(e,t,n),this.core=e,this.logger=t,this.store=n,nve(this,"name","verify-api"),nve(this,"abortController"),nve(this,"isDevEnv"),nve(this,"verifyUrlV3",cye),nve(this,"storagePrefix",Ome),nve(this,"version",2),nve(this,"publicKey"),nve(this,"fetchPromise"),nve(this,"init",async()=>{var e;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,Vw.toMiliseconds)(null==(e=this.publicKey)?void 0:e.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),nve(this,"register",async e=>{if(!wue()||this.isDevEnv)return;const t=window.location.origin,{id:n,decryptedId:r}=e,i=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${t}&id=${n}&decryptedId=${r}`;try{const e=(0,Kw.getDocument)(),t=this.startAbortTimer(5*Vw.ONE_SECOND),r=await new Promise((r,s)=>{const o=()=>{window.removeEventListener("message",c),e.body.removeChild(a),s("attestation aborted")};this.abortController.signal.addEventListener("abort",o);const a=e.createElement("iframe");a.src=i,a.style.display="none",a.addEventListener("error",o,{signal:this.abortController.signal});const c=i=>{if(i.data&&"string"==typeof i.data)try{const s=JSON.parse(i.data);if("verify_attestation"===s.type){if((0,mx.Cq)(s.attestation).payload.id!==n)return;clearInterval(t),e.body.removeChild(a),this.abortController.signal.removeEventListener("abort",o),window.removeEventListener("message",c),r(null===s.attestation?"":s.attestation)}}catch(e){this.logger.warn(e)}};e.body.appendChild(a),window.addEventListener("message",c,{signal:this.abortController.signal})});return this.logger.debug(r,"jwt attestation"),r}catch(e){this.logger.warn(e)}return""}),nve(this,"resolve",async e=>{if(this.isDevEnv)return"";const{attestationId:t,hash:n,encryptedId:r}=e;if(""===t)return void this.logger.debug("resolve: attestationId is empty, skipping");if(t){if((0,mx.Cq)(t).payload.id!==r)return;const e=await this.isValidJwtAttestation(t);if(e)return e.isVerified?e:void this.logger.warn("resolve: jwt attestation: origin url not verified")}if(!n)return;const i=this.getVerifyUrl(e?.verifyUrl);return this.fetchAttestation(n,i)}),nve(this,"fetchAttestation",async(e,t)=>{this.logger.debug(`resolving attestation: ${e} from url: ${t}`);const n=this.startAbortTimer(5*Vw.ONE_SECOND),r=await fetch(`${t}/attestation/${e}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(n),200===r.status?await r.json():void 0}),nve(this,"getVerifyUrl",e=>{let t=e||aye;return lye.includes(t)||(this.logger.info(`verify url: ${t}, not included in trusted list, assigning default: ${aye}`),t=aye),t}),nve(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const e=this.startAbortTimer(Vw.FIVE_SECONDS),t=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(e),await t.json()}catch(e){this.logger.warn(e)}}),nve(this,"persistPublicKey",async e=>{this.logger.debug(e,"persisting public key to local storage"),await this.store.setItem(this.storeKey,e),this.publicKey=e}),nve(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),nve(this,"isValidJwtAttestation",async e=>{const t=await this.getPublicKey();try{if(t)return this.validateAttestation(e,t)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}const n=await this.fetchAndPersistPublicKey();try{if(n)return this.validateAttestation(e,n)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}}),nve(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),nve(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async e=>{const t=await this.fetchPublicKey();t&&(await this.persistPublicKey(t),e(t))});const e=await this.fetchPromise;return this.fetchPromise=void 0,e}),nve(this,"validateAttestation",(e,t)=>{const n=function(e,t){const[n,r,i]=e.split("."),s=tue.from(kge(i),"base64");if(64!==s.length)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=Tfe(`${n}.${r}`),l=function(e){const t=tue.from(e.x,"base64"),n=tue.from(e.y,"base64");return Vle([new Uint8Array([4]),t,n])}(t);if(!dge.verify(Vle([o,a]),c,l))throw new Error("Invalid signature");return(0,mx.Cq)(e).payload}(e,t.publicKey),r={hasExpired:(0,Vw.toMiliseconds)(n.exp)<Date.now(),payload:n};if(r.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:r.payload.origin,isScam:r.payload.isScam,isVerified:r.payload.isVerified}}),this.logger=lae(t,this.name),this.abortController=new AbortController,this.isDevEnv=Mue(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return cae(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,Vw.toMiliseconds)(e))}}var ive=Object.defineProperty,sve=(e,t,n)=>((e,t,n)=>t in e?ive(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class ove extends kae{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,sve(this,"context","echo"),sve(this,"registerDeviceToken",async e=>{const{clientId:t,token:n,notificationType:r,enableEncrypted:i=!1}=e,s=`https://echo.walletconnect.com/${this.projectId}/clients`;await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:r,token:n,always_raw:i})})}),this.logger=lae(t,this.context)}}var ave=Object.defineProperty,cve=Object.getOwnPropertySymbols,lve=Object.prototype.hasOwnProperty,uve=Object.prototype.propertyIsEnumerable,dve=(e,t,n)=>t in e?ave(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hve=(e,t)=>{for(var n in t||(t={}))lve.call(t,n)&&dve(e,n,t[n]);if(cve)for(var n of cve(t))uve.call(t,n)&&dve(e,n,t[n]);return e},fve=(e,t,n)=>dve(e,"symbol"!=typeof t?t+"":t,n);class pve extends _ae{constructor(e,t,n=!0){super(e,t,n),this.core=e,this.logger=t,fve(this,"context","event-client"),fve(this,"storagePrefix",Ome),fve(this,"storageVersion",.1),fve(this,"events",new Map),fve(this,"shouldPersist",!1),fve(this,"init",async()=>{if(!Mue())try{const e={eventId:$ue(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Eue(this.core.relayer.protocol,this.core.relayer.version,Hme)}}};await this.sendEvent([e])}catch(e){this.logger.warn(e)}}),fve(this,"createEvent",e=>{const{event:t="ERROR",type:n="",properties:{topic:r,trace:i}}=e,s=$ue(),o=this.core.projectId||"",a=Date.now(),c=hve({eventId:s,timestamp:a,props:{event:t,type:n,properties:{topic:r,trace:i}},bundleId:o,domain:this.getAppDomain()},this.setMethods(s));return this.telemetryEnabled&&(this.events.set(s,c),this.shouldPersist=!0),c}),fve(this,"getEvent",e=>{const{eventId:t,topic:n}=e;if(t)return this.events.get(t);const r=Array.from(this.events.values()).find(e=>e.props.properties.topic===n);return r?hve(hve({},r),this.setMethods(r.eventId)):void 0}),fve(this,"deleteEvent",e=>{const{eventId:t}=e;this.events.delete(t),this.shouldPersist=!0}),fve(this,"setEventListeners",()=>{this.core.heartbeat.on(kA.li.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(e=>{(0,Vw.fromMiliseconds)(Date.now())-(0,Vw.fromMiliseconds)(e.timestamp)>86400&&(this.events.delete(e.eventId),this.shouldPersist=!0)})})}),fve(this,"setMethods",e=>({addTrace:t=>this.addTrace(e,t),setError:t=>this.setError(e,t)})),fve(this,"addTrace",(e,t)=>{const n=this.events.get(e);n&&(n.props.properties.trace.push(t),this.events.set(e,n),this.shouldPersist=!0)}),fve(this,"setError",(e,t)=>{const n=this.events.get(e);n&&(n.props.type=t,n.timestamp=Date.now(),this.events.set(e,n),this.shouldPersist=!0)}),fve(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),fve(this,"restore",async()=>{try{const e=await this.core.storage.getItem(this.storageKey)||[];if(!e.length)return;e.forEach(e=>{this.events.set(e.eventId,hve(hve({},e),this.setMethods(e.eventId)))})}catch(e){this.logger.warn(e)}}),fve(this,"submit",async()=>{if(!this.telemetryEnabled||0===this.events.size)return;const e=[];for(const[t,n]of this.events)n.props.type&&e.push(n);if(0!==e.length)try{if((await this.sendEvent(e)).ok)for(const t of e)this.events.delete(t.eventId),this.shouldPersist=!0}catch(e){this.logger.warn(e)}}),fve(this,"sendEvent",async e=>{const t=this.getAppDomain()?"":"&sp=desktop";return await fetch(`https://pulse.walletconnect.org/batch?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Hme}${t}`,{method:"POST",body:JSON.stringify(e)})}),fve(this,"getAppDomain",()=>xue().url),this.logger=lae(t,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var gve=Object.defineProperty,mve=Object.getOwnPropertySymbols,yve=Object.prototype.hasOwnProperty,wve=Object.prototype.propertyIsEnumerable,bve=(e,t,n)=>t in e?gve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vve=(e,t)=>{for(var n in t||(t={}))yve.call(t,n)&&bve(e,n,t[n]);if(mve)for(var n of mve(t))wve.call(t,n)&&bve(e,n,t[n]);return e},xve=(e,t,n)=>bve(e,"symbol"!=typeof t?t+"":t,n);class Eve extends fae{constructor(e){var t;super(e),xve(this,"protocol","wc"),xve(this,"version",2),xve(this,"name",Pme),xve(this,"relayUrl"),xve(this,"projectId"),xve(this,"customStoragePrefix"),xve(this,"events",new Ww.EventEmitter),xve(this,"logger"),xve(this,"heartbeat"),xve(this,"relayer"),xve(this,"crypto"),xve(this,"storage"),xve(this,"history"),xve(this,"expirer"),xve(this,"pairing"),xve(this,"verify"),xve(this,"echoClient"),xve(this,"linkModeSupportedApps"),xve(this,"eventClient"),xve(this,"initialized",!1),xve(this,"logChunkController"),xve(this,"on",(e,t)=>this.events.on(e,t)),xve(this,"once",(e,t)=>this.events.once(e,t)),xve(this,"off",(e,t)=>this.events.off(e,t)),xve(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),xve(this,"dispatchEnvelope",({topic:e,message:t,sessionExists:n})=>{if(!e||!t)return;const r={topic:e,message:t,publishedAt:Date.now(),transportType:Vme.link_mode};this.relayer.onLinkMessageEvent(r,{sessionExists:n})});const n=this.getGlobalCore(e?.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(e){console.warn("Failed to copy global core",e)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Mme,this.customStoragePrefix=null!=e&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const r=function(e){return aae(oae({},e),{level:e?.level||"info"})}({level:"string"==typeof e?.logger&&e.logger?e.logger:"error",name:Pme}),{logger:i,chunkLoggerController:s}=uae({opts:r,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=s,null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var e,t;null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(null==(t=this.logChunkController)||t.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=lae(i,this.name),this.heartbeat=new kA.VH,this.crypto=new Fwe(this,this.logger,e?.keychain),this.history=new Jbe(this,this.logger),this.expirer=new eve(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new _A.A(vve(vve({},jme),e?.storageOptions)),this.relayer=new Tbe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Gbe(this,this.logger),this.verify=new rve(this,this.logger,this.storage),this.echoClient=new ove(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new pve(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const t=new Eve(e);await t.initialize();const n=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",n),t}get context(){return cae(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return null==(e=this.logChunkController)?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(Gme,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Gme)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const t=`_walletConnectCore_${e}`,n=`${t}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[t]}catch(e){return void console.warn("Failed to get global WalletConnect core",e)}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${(null==(t=e.opts)?void 0:t.customStoragePrefix)||""}`;globalThis[n]=e}catch(e){console.warn("Failed to set global WalletConnect core",e)}}isGlobalCoreDisabled(){try{return typeof Tme<"u"&&"true"===Tme.env.DISABLE_GLOBAL_CORE}catch{return!0}}}const kve=Eve,_ve="client",Cve=`wc@2:${_ve}:`,Sve=_ve,Ive="WALLETCONNECT_DEEPLINK_CHOICE",Ave="Proposal expired",Tve=Vw.SEVEN_DAYS,Pve={wc_sessionPropose:{req:{ttl:Vw.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Vw.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Vw.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Vw.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Vw.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Vw.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Vw.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Vw.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Vw.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Vw.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Vw.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Vw.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Vw.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Vw.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Vw.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Vw.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Vw.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Vw.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Vw.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Vw.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Vw.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Vw.FIVE_MINUTES,prompt:!1,tag:1119}}},Ove={min:Vw.FIVE_MINUTES,max:Vw.SEVEN_DAYS},jve="IDLE",Nve="ACTIVE",Rve={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},$ve=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Mve="wc@1.5:auth:",Lve=`${Mve}:PUB_KEY`;var Bve=Object.defineProperty,Uve=Object.defineProperties,Dve=Object.getOwnPropertyDescriptors,Fve=Object.getOwnPropertySymbols,zve=Object.prototype.hasOwnProperty,Wve=Object.prototype.propertyIsEnumerable,qve=(e,t,n)=>t in e?Bve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hve=(e,t)=>{for(var n in t||(t={}))zve.call(t,n)&&qve(e,n,t[n]);if(Fve)for(var n of Fve(t))Wve.call(t,n)&&qve(e,n,t[n]);return e},Vve=(e,t)=>Uve(e,Dve(t)),Kve=(e,t,n)=>qve(e,"symbol"!=typeof t?t+"":t,n);class Gve extends Aae{constructor(e){super(e),Kve(this,"name","engine"),Kve(this,"events",new Ww),Kve(this,"initialized",!1),Kve(this,"requestQueue",{state:jve,queue:[]}),Kve(this,"sessionRequestQueue",{state:jve,queue:[]}),Kve(this,"emittedSessionRequests",new Bue({limit:500})),Kve(this,"requestQueueDelay",Vw.ONE_SECOND),Kve(this,"expectedPairingMethodMap",new Map),Kve(this,"recentlyDeletedMap",new Map),Kve(this,"recentlyDeletedLimit",200),Kve(this,"relayMessageCache",[]),Kve(this,"pendingSessions",new Map),Kve(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Pve)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,Vw.toMiliseconds)(this.requestQueueDelay)))}),Kve(this,"connect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const t=Vve(Hve({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t),t.optionalNamespaces=function(e,t){var n,r,i,s,o,a;const c=nme(e),l=nme(t),u={},d=Object.keys(c).concat(Object.keys(l));for(const e of d)u[e]={chains:Nue(null==(n=c[e])?void 0:n.chains,null==(r=l[e])?void 0:r.chains),methods:Nue(null==(i=c[e])?void 0:i.methods,null==(s=l[e])?void 0:s.methods),events:Nue(null==(o=c[e])?void 0:o.events,null==(a=l[e])?void 0:a.events)};return u}(t.requiredNamespaces,t.optionalNamespaces),t.requiredNamespaces={};const{pairingTopic:n,requiredNamespaces:r,optionalNamespaces:i,sessionProperties:s,scopedProperties:o,relays:a}=t;let c,l=n,u=!1;try{if(l){const e=this.client.core.pairing.pairings.get(l);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),u=e.active}}catch(e){throw this.client.logger.error(`connect() -> pairing.get(${l}) failed`),e}if(!l||!u){const{topic:e,uri:t}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});l=e,c=t}if(!l){const{message:e}=ome("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error(e)}const d=await this.client.core.crypto.generateKeyPair(),h=Pve.wc_sessionPropose.req.ttl||Vw.FIVE_MINUTES,f=Pue(h),p=Vve(Hve(Hve({requiredNamespaces:r,optionalNamespaces:i,relays:a??[{protocol:"irn"}],proposer:{publicKey:d,metadata:this.client.metadata},expiryTimestamp:f,pairingTopic:l},s&&{sessionProperties:s}),o&&{scopedProperties:o}),{id:(0,HA.payloadId)()}),g=jue("session_connect",p.id),{reject:m,resolve:y,done:w}=Sue(h,Ave),b=({id:e})=>{e===p.id&&(this.client.events.off("proposal_expire",b),this.pendingSessions.delete(p.id),this.events.emit(g,{error:{message:Ave,code:0}}))};return this.client.events.on("proposal_expire",b),this.events.once(g,({error:e,session:t})=>{this.client.events.off("proposal_expire",b),e?m(e):t&&y(t)}),await this.sendProposeSession({proposal:p,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:p.id}}}),await this.setProposal(p.id,p),{uri:c,approval:w}}),Kve(this,"pair",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(e){throw this.client.logger.error("pair() failed"),e}}),Kve(this,"approve",async e=>{var t,n,r;const i=this.client.core.eventClient.createEvent({properties:{topic:null==(t=e?.id)?void 0:t.toString(),trace:[dye]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(e){throw i.setError("no_internet_connection"),e}try{await this.isValidProposalId(e?.id)}catch(t){throw this.client.logger.error(`approve() -> proposal.get(${e?.id}) failed`),i.setError("proposal_not_found"),t}try{await this.isValidApprove(e)}catch(e){throw this.client.logger.error("approve() -> isValidApprove() failed"),i.setError("session_approve_namespace_validation_failure"),e}const{id:s,relayProtocol:o,namespaces:a,sessionProperties:c,scopedProperties:l,sessionConfig:u}=e,d=this.client.proposal.get(s);this.client.core.eventClient.deleteEvent({eventId:i.eventId});const{pairingTopic:h,proposer:f,requiredNamespaces:p,optionalNamespaces:g}=d;let m=null==(n=this.client.core.eventClient)?void 0:n.getEvent({topic:h});m||(m=null==(r=this.client.core.eventClient)?void 0:r.createEvent({type:dye,properties:{topic:h,trace:[dye,"session_namespaces_validation_success"]}}));const y=await this.client.core.crypto.generateKeyPair(),w=f.publicKey,b=await this.client.core.crypto.generateSharedKey(y,w),v=Hve(Hve(Hve({relay:{protocol:o??"irn"},namespaces:a,controller:{publicKey:y,metadata:this.client.metadata},expiry:Pue(Tve)},c&&{sessionProperties:c}),l&&{scopedProperties:l}),u&&{sessionConfig:u}),x=Vme.relay;m.addTrace("subscribing_session_topic");try{await this.client.core.relayer.subscribe(b,{transportType:x,internal:{skipSubscribe:!0}})}catch(e){throw m.setError("subscribe_session_topic_failure"),e}m.addTrace("subscribe_session_topic_success");const E=Vve(Hve({},v),{topic:b,requiredNamespaces:p,optionalNamespaces:g,pairingTopic:h,acknowledged:!1,self:v.controller,peer:{publicKey:f.publicKey,metadata:f.metadata},controller:y,transportType:Vme.relay});await this.client.session.set(b,E),m.addTrace("store_session");try{await this.sendApproveSession({sessionTopic:b,proposal:d,pairingProposalResponse:{relay:{protocol:o??"irn"},responderPublicKey:y},sessionSettleRequest:v,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:s}}}),m.addTrace("session_approve_publish_success")}catch(e){throw this.client.logger.error(e),this.client.session.delete(b,ame("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(b),e}return this.client.core.eventClient.deleteEvent({eventId:m.eventId}),await this.client.core.pairing.updateMetadata({topic:h,metadata:f.metadata}),await this.deleteProposal(s),await this.client.core.pairing.activate({topic:h}),await this.setExpiry(b,Pue(Tve)),{topic:b,acknowledged:()=>Promise.resolve(this.client.session.get(b))}}),Kve(this,"reject",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(e){throw this.client.logger.error("reject() -> isValidReject() failed"),e}const{id:t,reason:n}=e;let r;try{r=this.client.proposal.get(t).pairingTopic}catch(e){throw this.client.logger.error(`reject() -> proposal.get(${t}) failed`),e}r&&await this.sendError({id:t,topic:r,error:n,rpcOpts:Pve.wc_sessionPropose.reject}),await this.deleteProposal(t)}),Kve(this,"update",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(e){throw this.client.logger.error("update() -> isValidUpdate() failed"),e}const{topic:t,namespaces:n}=e,{done:r,resolve:i,reject:s}=Sue(),o=(0,HA.payloadId)(),a=(0,HA.getBigIntRpcId)().toString(),c=this.client.session.get(t).namespaces;return this.events.once(jue("session_update",o),({error:e})=>{e?s(e):i()}),await this.client.session.update(t,{namespaces:n}),await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:n},throwOnFailedPublish:!0,clientRpcId:o,relayRpcId:a}).catch(e=>{this.client.logger.error(e),this.client.session.update(t,{namespaces:c}),s(e)}),{acknowledged:r}}),Kve(this,"extend",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(e){throw this.client.logger.error("extend() -> isValidExtend() failed"),e}const{topic:t}=e,n=(0,HA.payloadId)(),{done:r,resolve:i,reject:s}=Sue();return this.events.once(jue("session_extend",n),({error:e})=>{e?s(e):i()}),await this.setExpiry(t,Pue(Tve)),this.sendRequest({topic:t,method:"wc_sessionExtend",params:{},clientRpcId:n,throwOnFailedPublish:!0}).catch(e=>{s(e)}),{acknowledged:r}}),Kve(this,"request",async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(e){throw this.client.logger.error("request() -> isValidRequest() failed"),e}const{chainId:t,request:n,topic:r,expiry:i=Pve.wc_sessionRequest.req.ttl}=e,s=this.client.session.get(r);s?.transportType===Vme.relay&&await this.confirmOnlineStateOrThrow();const o=(0,HA.payloadId)(),a=(0,HA.getBigIntRpcId)().toString(),{done:c,resolve:l,reject:u}=Sue(i,"Request expired. Please try again.");this.events.once(jue("session_request",o),({error:e,result:t})=>{e?u(e):l(t)});const d="wc_sessionRequest",h=this.getAppLinkIfEnabled(s.peer.metadata,s.transportType);if(h)return await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:r,method:d,params:{request:Vve(Hve({},n),{expiryTimestamp:Pue(i)}),chainId:t},expiry:i,throwOnFailedPublish:!0,appLink:h}).catch(e=>u(e)),this.client.events.emit("session_request_sent",{topic:r,request:n,chainId:t,id:o}),await c();const f={request:Vve(Hve({},n),{expiryTimestamp:Pue(i)}),chainId:t};return await Promise.all([new Promise(async e=>{await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:r,method:d,params:f,expiry:i,throwOnFailedPublish:!0,tvf:this.getTVFParams(o,f)}).catch(e=>u(e)),this.client.events.emit("session_request_sent",{topic:r,request:n,chainId:t,id:o}),e()}),new Promise(async e=>{var t;if(null==(t=s.sessionConfig)||!t.disableDeepLink){const e=await async function(e,t){let n="";try{if(wue()&&(n=localStorage.getItem(t),n))return n;n=await e.getItem(t)}catch(e){console.error(e)}return n}(this.client.core.storage,Ive);await async function({id:e,topic:t,wcDeepLink:n}){var r;try{if(!n)return;const i="string"==typeof n?JSON.parse(n):n,s=i?.href;if("string"!=typeof s)return;const o=function(e,t,n){const r=`requestId=${t}&sessionTopic=${n}`;e.endsWith("/")&&(e=e.slice(0,-1));let i=`${e}`;return i=e.startsWith("https://t.me")?`${i}${e.includes("?")?"&startapp=":"?startapp="}${function(e,t=!1){const n=tue.from(e).toString("base64");return t?n.replace(/[=]/g,""):n}(r,!0)}`:`${i}/wc?${r}`,i}(s,e,t),a=bue();if(a===pue){if(null==(r=(0,Kw.getDocument)())||!r.hasFocus())return void console.warn("Document does not have focus, skipping deeplink.");!function(e){let t="_self";!function(){try{return window.self!==window.top}catch{return!1}}()?(typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"):t="_top",window.open(e,t,"noreferrer noopener")}(o)}else a===fue&&typeof(null==global?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(e){console.error(e)}}({id:o,topic:r,wcDeepLink:e})}e()}),c()]).then(e=>e[2])}),Kve(this,"respond",async e=>{var t,n;this.isInitialized();const r=this.client.core.eventClient.createEvent({properties:{topic:e?.topic||(null==(n=null==(t=e?.response)?void 0:t.id)?void 0:n.toString()),trace:["session_request_response_started"]}});try{await this.isValidRespond(e)}catch(e){throw r.addTrace(e?.message),r.setError("session_request_response_validation_failure"),e}r.addTrace("session_request_response_validation_success");const{topic:i,response:s}=e,{id:o}=s,a=this.client.session.get(i);a.transportType===Vme.relay&&await this.confirmOnlineStateOrThrow();const c=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);try{r.addTrace("session_request_response_publish_started"),(0,HA.isJsonRpcResult)(s)?await this.sendResult({id:o,topic:i,result:s.result,throwOnFailedPublish:!0,appLink:c}):(0,HA.isJsonRpcError)(s)&&await this.sendError({id:o,topic:i,error:s.error,appLink:c}),this.cleanupAfterResponse(e)}catch(e){throw r.addTrace(e?.message),r.setError("session_request_response_publish_failure"),e}}),Kve(this,"ping",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch(e){throw this.client.logger.error("ping() -> isValidPing() failed"),e}const{topic:t}=e;if(this.client.session.keys.includes(t)){const e=(0,HA.payloadId)(),n=(0,HA.getBigIntRpcId)().toString(),{done:r,resolve:i,reject:s}=Sue();this.events.once(jue("session_ping",e),({error:e})=>{e?s(e):i()}),await Promise.all([this.sendRequest({topic:t,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:e,relayRpcId:n}),r()])}else this.client.core.pairing.pairings.keys.includes(t)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:t}))}),Kve(this,"emit",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);const{topic:t,event:n,chainId:r}=e,i=(0,HA.getBigIntRpcId)().toString(),s=(0,HA.payloadId)();await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:n,chainId:r},throwOnFailedPublish:!0,relayRpcId:i,clientRpcId:s})}),Kve(this,"disconnect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);const{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:ame("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else{if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:e}=ome("MISMATCHED_TOPIC",`Session or pairing topic not found: ${t}`);throw new Error(e)}await this.client.core.pairing.disconnect({topic:t})}}),Kve(this,"find",e=>(this.isInitialized(),this.client.session.getAll().filter(t=>function(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),i=Object.keys(n);let s=!0;return!!kue(i,r)&&(r.forEach(t=>{const{accounts:r,methods:i,events:o}=e.namespaces[t],a=Xge(r),c=n[t];kue(rue(t,c),a)&&kue(c.methods,i)&&kue(c.events,o)||(s=!1)}),s)}(t,e)))),Kve(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),Kve(this,"authenticate",async(e,t)=>{var n;this.isInitialized(),this.isValidAuthenticate(e);const r=t&&this.client.core.linkModeSupportedApps.includes(t)&&(null==(n=this.client.metadata.redirect)?void 0:n.linkMode),i=r?Vme.link_mode:Vme.relay;i===Vme.relay&&await this.confirmOnlineStateOrThrow();const{chains:s,statement:o="",uri:a,domain:c,nonce:l,type:u,exp:d,nbf:h,methods:f=[],expiry:p}=e,g=[...e.resources||[]],{topic:m,uri:y}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:i});this.client.logger.info({message:"Generated new pairing",pairing:{topic:m,uri:y}});const w=await this.client.core.crypto.generateKeyPair(),b=wge(w);if(await Promise.all([this.client.auth.authKeys.set(Lve,{responseTopic:b,publicKey:w}),this.client.auth.pairingTopics.set(b,{topic:b,pairingTopic:m})]),await this.client.core.relayer.subscribe(b,{transportType:i}),this.client.logger.info(`sending request to new pairing topic: ${m}`),f.length>0){const{namespace:e}=nue(s[0]);let t=function(e,t,n){const r=function(e,t,n,r={}){return n?.sort((e,t)=>e.localeCompare(t)),{att:{[e]:zhe(t,n,r)}}}(e,t,n);return Whe(r)}(e,"request",f);Ghe(g)&&(t=Hhe(t,g.pop())),g.push(t)}const v=p&&p>Pve.wc_sessionAuthenticate.req.ttl?p:Pve.wc_sessionAuthenticate.req.ttl,x={authPayload:{type:u??"caip122",chains:s,statement:o,aud:a,domain:c,version:"1",nonce:l,iat:(new Date).toISOString(),exp:d,nbf:h,resources:g},requester:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:Pue(v)},E={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:s,methods:[...new Set(["personal_sign",...f])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:m,proposer:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:Pue(Pve.wc_sessionPropose.req.ttl),id:(0,HA.payloadId)()},{done:k,resolve:_,reject:C}=Sue(v,"Request expired"),S=(0,HA.payloadId)(),I=jue("session_connect",E.id),A=jue("session_request",S),T=async({error:e,session:t})=>{this.events.off(A,P),e?C(e):t&&_({session:t})},P=async e=>{var n,r,s;if(await this.deletePendingAuthRequest(S,{message:"fulfilled",code:0}),e.error){const t=ame("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return e.error.code===t.code?void 0:(this.events.off(I,T),C(e.error.message))}await this.deleteProposal(E.id),this.events.off(I,T);const{cacaos:o,responder:a}=e.result,c=[],l=[];for(const e of o){await Uhe({cacao:e,projectId:this.client.core.projectId})||(this.client.logger.error(e,"Signature verification failed"),C(ame("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:t}=e,n=Ghe(t.resources),r=[Lhe(t.iss)],i=Bhe(t.iss);if(n){const e=Vhe(n),t=Khe(n);c.push(...e),r.push(...t)}for(const e of r)l.push(`${e}:${i}`)}const u=await this.client.core.crypto.generateSharedKey(w,a.publicKey);let d;c.length>0&&(d={topic:u,acknowledged:!0,self:{publicKey:w,metadata:this.client.metadata},peer:a,controller:a.publicKey,expiry:Pue(Tve),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:m,namespaces:rme([...new Set(c)],[...new Set(l)]),transportType:i},await this.client.core.relayer.subscribe(u,{transportType:i}),await this.client.session.set(u,d),m&&await this.client.core.pairing.updateMetadata({topic:m,metadata:a.metadata}),d=this.client.session.get(u)),null!=(n=this.client.metadata.redirect)&&n.linkMode&&null!=(r=a.metadata.redirect)&&r.linkMode&&null!=(s=a.metadata.redirect)&&s.universal&&t&&(this.client.core.addLinkModeSupportedApp(a.metadata.redirect.universal),this.client.session.update(u,{transportType:Vme.link_mode})),_({auths:o,session:d})};let O;this.events.once(I,T),this.events.once(A,P);try{if(r){const e=(0,HA.formatJsonRpcRequest)("wc_sessionAuthenticate",x,S);this.client.core.history.set(m,e);const n=await this.client.core.crypto.encode("",e,{type:2,encoding:gge});O=Wge(t,m,n)}else await Promise.all([this.sendRequest({topic:m,method:"wc_sessionAuthenticate",params:x,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:S}),this.sendRequest({topic:m,method:"wc_sessionPropose",params:E,expiry:Pve.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:E.id})])}catch(e){throw this.events.off(I,T),this.events.off(A,P),e}return await this.setProposal(E.id,E),await this.setAuthRequest(S,{request:Vve(Hve({},x),{verifyContext:{}}),pairingTopic:m,transportType:i}),{uri:O??y,response:k}}),Kve(this,"approveSessionAuthenticate",async e=>{const{id:t,auths:n}=e,r=this.client.core.eventClient.createEvent({properties:{topic:t.toString(),trace:["authenticated_session_approve_started"]}});try{this.isInitialized()}catch(e){throw r.setError("no_internet_connection"),e}const i=this.getPendingAuthRequest(t);if(!i)throw r.setError("authenticated_session_pending_request_not_found"),new Error(`Could not find pending auth request with id ${t}`);const s=i.transportType||Vme.relay;s===Vme.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=wge(o),l={type:1,receiverPublicKey:o,senderPublicKey:a},u=[],d=[];for(const e of n){if(!await Uhe({cacao:e,projectId:this.client.core.projectId})){r.setError("invalid_cacao");const e=ame("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:t,topic:c,error:e,encodeOpts:l}),new Error(e.message)}r.addTrace("cacaos_verified");const{p:n}=e,i=Ghe(n.resources),s=[Lhe(n.iss)],o=Bhe(n.iss);if(i){const e=Vhe(i),t=Khe(i);u.push(...e),s.push(...t)}for(const e of s)d.push(`${e}:${o}`)}const h=await this.client.core.crypto.generateSharedKey(a,o);let f;if(r.addTrace("create_authenticated_session_topic"),u?.length>0){f={topic:h,acknowledged:!0,self:{publicKey:a,metadata:this.client.metadata},peer:{publicKey:o,metadata:i.requester.metadata},controller:o,expiry:Pue(Tve),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:i.pairingTopic,namespaces:rme([...new Set(u)],[...new Set(d)]),transportType:s},r.addTrace("subscribing_authenticated_session_topic");try{await this.client.core.relayer.subscribe(h,{transportType:s})}catch(e){throw r.setError("subscribe_authenticated_session_topic_failure"),e}r.addTrace("subscribe_authenticated_session_topic_success"),await this.client.session.set(h,f),r.addTrace("store_authenticated_session"),await this.client.core.pairing.updateMetadata({topic:i.pairingTopic,metadata:i.requester.metadata})}r.addTrace("publishing_authenticated_session_approve");try{await this.sendResult({topic:c,id:t,result:{cacaos:n,responder:{publicKey:a,metadata:this.client.metadata}},encodeOpts:l,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(i.requester.metadata,s)})}catch(e){throw r.setError("authenticated_session_approve_publish_failure"),e}return await this.client.auth.requests.delete(t,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:i.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:r.eventId}),{session:f}}),Kve(this,"rejectSessionAuthenticate",async e=>{this.isInitialized();const{id:t,reason:n}=e,r=this.getPendingAuthRequest(t);if(!r)throw new Error(`Could not find pending auth request with id ${t}`);r.transportType===Vme.relay&&await this.confirmOnlineStateOrThrow();const i=r.requester.publicKey,s=await this.client.core.crypto.generateKeyPair(),o=wge(i),a={type:1,receiverPublicKey:i,senderPublicKey:s};await this.sendError({id:t,topic:o,error:n,encodeOpts:a,rpcOpts:Pve.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(r.requester.metadata,r.transportType)}),await this.client.auth.requests.delete(t,{message:"rejected",code:0}),await this.deleteProposal(t)}),Kve(this,"formatAuthMessage",e=>{this.isInitialized();const{request:t,iss:n}=e;return Dhe(t,n)}),Kve(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{const e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(e){this.client.logger.error(e)}},50)}),Kve(this,"cleanupDuplicatePairings",async e=>{if(e.pairingTopic)try{const t=this.client.core.pairing.pairings.get(e.pairingTopic),n=this.client.core.pairing.pairings.getAll().filter(n=>{var r,i;return(null==(r=n.peerMetadata)?void 0:r.url)&&(null==(i=n.peerMetadata)?void 0:i.url)===e.peer.metadata.url&&n.topic&&n.topic!==t.topic});if(0===n.length)return;this.client.logger.info(`Cleaning up ${n.length} duplicate pairing(s)`),await Promise.all(n.map(e=>this.client.core.pairing.disconnect({topic:e.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(e){this.client.logger.error(e)}}),Kve(this,"deleteSession",async e=>{var t;const{topic:n,expirerHasDeleted:r=!1,emitEvent:i=!0,id:s=0}=e,{self:o}=this.client.session.get(n);await this.client.core.relayer.unsubscribe(n),await this.client.session.delete(n,ame("USER_DISCONNECTED")),this.addToRecentlyDeleted(n,"session"),this.client.core.crypto.keychain.has(o.publicKey)&&await this.client.core.crypto.deleteKeyPair(o.publicKey),this.client.core.crypto.keychain.has(n)&&await this.client.core.crypto.deleteSymKey(n),r||this.client.core.expirer.del(n),this.client.core.storage.removeItem(Ive).catch(e=>this.client.logger.warn(e)),this.getPendingSessionRequests().forEach(e=>{e.topic===n&&this.deletePendingSessionRequest(e.id,ame("USER_DISCONNECTED"))}),n===(null==(t=this.sessionRequestQueue.queue[0])?void 0:t.topic)&&(this.sessionRequestQueue.state=jve),i&&this.client.events.emit("session_delete",{id:s,topic:n})}),Kve(this,"deleteProposal",async(e,t)=>{if(t)try{const t=this.client.proposal.get(e),n=this.client.core.eventClient.getEvent({topic:t.pairingTopic});n?.setError("proposal_expired")}catch{}await Promise.all([this.client.proposal.delete(e,ame("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"proposal")}),Kve(this,"deletePendingSessionRequest",async(e,t,n=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,t),n?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(t=>t.id!==e),n&&(this.sessionRequestQueue.state=jve,this.client.events.emit("session_request_expire",{id:e}))}),Kve(this,"deletePendingAuthRequest",async(e,t,n=!1)=>{await Promise.all([this.client.auth.requests.delete(e,t),n?Promise.resolve():this.client.core.expirer.del(e)])}),Kve(this,"setExpiry",async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))}),Kve(this,"setProposal",async(e,t)=>{this.client.core.expirer.set(e,Pue(Pve.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)}),Kve(this,"setAuthRequest",async(e,t)=>{const{request:n,pairingTopic:r,transportType:i=Vme.relay}=t;this.client.core.expirer.set(e,n.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:n.authPayload,requester:n.requester,expiryTimestamp:n.expiryTimestamp,id:e,pairingTopic:r,verifyContext:n.verifyContext,transportType:i})}),Kve(this,"setPendingSessionRequest",async e=>{const{id:t,topic:n,params:r,verifyContext:i}=e,s=r.request.expiryTimestamp||Pue(Pve.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,s),await this.client.pendingRequest.set(t,{id:t,topic:n,params:r,verifyContext:i})}),Kve(this,"sendRequest",async e=>{const{topic:t,method:n,params:r,expiry:i,relayRpcId:s,clientRpcId:o,throwOnFailedPublish:a,appLink:c,tvf:l,publishOpts:u={}}=e,d=(0,HA.formatJsonRpcRequest)(n,r,o);let h;const f=!!c;try{const e=f?gge:pge;h=await this.client.core.crypto.encode(t,d,{encoding:e})}catch(e){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${t} failed`),e}let p;if($ve.includes(n)){const e=bge(JSON.stringify(d)),t=bge(h);p=await this.client.core.verify.register({id:t,decryptedId:e})}const g=Hve(Hve({},Pve[n].req),u);if(g.attestation=p,i&&(g.ttl=i),s&&(g.id=s),this.client.core.history.set(t,d),f){const e=Wge(c,t,h);await global.Linking.openURL(e,this.client.name)}else g.tvf=Vve(Hve({},l),{correlationId:d.id}),a?(g.internal=Vve(Hve({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(t,h,g)):this.client.core.relayer.publish(t,h,g).catch(e=>this.client.logger.error(e));return d.id}),Kve(this,"sendProposeSession",async e=>{const{proposal:t,publishOpts:n}=e,r=(0,HA.formatJsonRpcRequest)("wc_sessionPropose",t,t.id);this.client.core.history.set(t.pairingTopic,r);const i=await this.client.core.crypto.encode(t.pairingTopic,r,{encoding:pge}),s=bge(JSON.stringify(r)),o=bge(i),a=await this.client.core.verify.register({id:o,decryptedId:s});await this.client.core.relayer.publishCustom({payload:{pairingTopic:t.pairingTopic,sessionProposal:i},opts:Vve(Hve({},n),{publishMethod:"wc_proposeSession",attestation:a})})}),Kve(this,"sendApproveSession",async e=>{const{sessionTopic:t,pairingProposalResponse:n,proposal:r,sessionSettleRequest:i,publishOpts:s}=e,o=(0,HA.formatJsonRpcResult)(r.id,n),a=await this.client.core.crypto.encode(r.pairingTopic,o,{encoding:pge}),c=(0,HA.formatJsonRpcRequest)("wc_sessionSettle",i,s?.id),l=await this.client.core.crypto.encode(t,c,{encoding:pge});this.client.core.history.set(t,c),await this.client.core.relayer.publishCustom({payload:{sessionTopic:t,pairingTopic:r.pairingTopic,sessionProposalResponse:a,sessionSettlementRequest:l},opts:Vve(Hve({},s),{publishMethod:"wc_approveSession"})})}),Kve(this,"sendResult",async e=>{const{id:t,topic:n,result:r,throwOnFailedPublish:i,encodeOpts:s,appLink:o}=e,a=(0,HA.formatJsonRpcResult)(t,r);let c;const l=o&&typeof(null==global?void 0:global.Linking)<"u";try{const e=l?gge:pge;c=await this.client.core.crypto.encode(n,a,Vve(Hve({},s||{}),{encoding:e}))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${n} failed`),e}let u,d;try{u=await this.client.core.history.get(n,t);const e=u.request;try{d=this.getTVFParams(t,e.params,r)}catch(e){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${e?.message}`)}}catch(e){throw this.client.logger.error(`sendResult() -> history.get(${n}, ${t}) failed`),e}if(l){const e=Wge(o,n,c);await global.Linking.openURL(e,this.client.name)}else{const e=u.request.method,r=Pve[e].res;r.tvf=Vve(Hve({},d),{correlationId:t}),i?(r.internal=Vve(Hve({},r.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,c,r)):this.client.core.relayer.publish(n,c,r).catch(e=>this.client.logger.error(e))}await this.client.core.history.resolve(a)}),Kve(this,"sendError",async e=>{const{id:t,topic:n,error:r,encodeOpts:i,rpcOpts:s,appLink:o}=e,a=(0,HA.formatJsonRpcError)(t,r);let c;const l=o&&typeof(null==global?void 0:global.Linking)<"u";try{const e=l?gge:pge;c=await this.client.core.crypto.encode(n,a,Vve(Hve({},i||{}),{encoding:e}))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${n} failed`),e}let u;try{u=await this.client.core.history.get(n,t)}catch(e){throw this.client.logger.error(`sendError() -> history.get(${n}, ${t}) failed`),e}if(l){const e=Wge(o,n,c);await global.Linking.openURL(e,this.client.name)}else{const e=u.request.method,t=s||Pve[e].res;this.client.core.relayer.publish(n,c,t)}await this.client.core.history.resolve(a)}),Kve(this,"cleanup",async()=>{const e=[],t=[];this.client.session.getAll().forEach(t=>{let n=!1;Oue(t.expiry)&&(n=!0),this.client.core.crypto.keychain.has(t.topic)||(n=!0),n&&e.push(t.topic)}),this.client.proposal.getAll().forEach(e=>{Oue(e.expiryTimestamp)&&t.push(e.id)}),await Promise.all([...e.map(e=>this.deleteSession({topic:e})),...t.map(e=>this.deleteProposal(e))])}),Kve(this,"onProviderMessageEvent",async e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):await this.onRelayMessage(e)}),Kve(this,"onRelayEventRequest",async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()}),Kve(this,"processRequestsQueue",async()=>{if(this.requestQueue.state!==Nve){for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Nve;const e=this.requestQueue.queue.shift();if(e)try{await this.processRequest(e)}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=jve}else this.client.logger.info("Request queue already active, skipping...")}),Kve(this,"processRequest",async e=>{const{topic:t,payload:n,attestation:r,transportType:i,encryptedId:s}=e,o=n.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:o}))switch(o){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:t,payload:n,attestation:r,encryptedId:s});case"wc_sessionSettle":return await this.onSessionSettleRequest(t,n);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(t,n);case"wc_sessionExtend":return await this.onSessionExtendRequest(t,n);case"wc_sessionPing":return await this.onSessionPingRequest(t,n);case"wc_sessionDelete":return await this.onSessionDeleteRequest(t,n);case"wc_sessionRequest":return await this.onSessionRequest({topic:t,payload:n,attestation:r,encryptedId:s,transportType:i});case"wc_sessionEvent":return await this.onSessionEventRequest(t,n);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:t,payload:n,attestation:r,encryptedId:s,transportType:i});default:return this.client.logger.info(`Unsupported request method ${o}`)}}),Kve(this,"onRelayEventResponse",async e=>{const{topic:t,payload:n,transportType:r}=e,i=(await this.client.core.history.get(t,n.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(t,n,r);case"wc_sessionSettle":return this.onSessionSettleResponse(t,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,n);case"wc_sessionExtend":return this.onSessionExtendResponse(t,n);case"wc_sessionPing":return this.onSessionPingResponse(t,n);case"wc_sessionRequest":return this.onSessionRequestResponse(t,n);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(t,n);default:return this.client.logger.info(`Unsupported response method ${i}`)}}),Kve(this,"onRelayEventUnknownPayload",e=>{const{topic:t}=e,{message:n}=ome("MISSING_OR_INVALID",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw new Error(n)}),Kve(this,"shouldIgnorePairingRequest",e=>{const{topic:t,requestMethod:n}=e,r=this.expectedPairingMethodMap.get(t);return!(!r||r.includes(n)||!(r.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0))}),Kve(this,"onSessionProposeRequest",async e=>{const{topic:t,payload:n,attestation:r,encryptedId:i}=e,{params:s,id:o}=n;try{const e=this.client.core.eventClient.getEvent({topic:t});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),e?.setError("proposal_listener_not_found")),this.isValidConnect(Hve({},n.params));const a=s.expiryTimestamp||Pue(Pve.wc_sessionPropose.req.ttl),c=Hve({id:o,pairingTopic:t,expiryTimestamp:a,attestation:r,encryptedId:i},s);await this.setProposal(o,c);const l=await this.getVerifyContext({attestationId:r,hash:bge(JSON.stringify(n)),encryptedId:i,metadata:c.proposer.metadata});e?.addTrace("emit_session_proposal"),this.client.events.emit("session_proposal",{id:o,params:c,verifyContext:l})}catch(e){await this.sendError({id:o,topic:t,error:e,rpcOpts:Pve.wc_sessionPropose.autoReject}),this.client.logger.error(e)}}),Kve(this,"onSessionProposeResponse",async(e,t,n)=>{const{id:r}=t;if((0,HA.isJsonRpcResult)(t)){const{result:i}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});const s=this.client.proposal.get(r);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:s});const o=s.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:o});const a=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:a});const c=await this.client.core.crypto.generateSharedKey(o,a);this.pendingSessions.set(r,{sessionTopic:c,pairingTopic:e,proposalId:r,publicKey:o});const l=await this.client.core.relayer.subscribe(c,{transportType:n});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:l}),await this.client.core.pairing.activate({topic:e})}else if((0,HA.isJsonRpcError)(t)){await this.deleteProposal(r);const e=jue("session_connect",r);if(0===this.events.listenerCount(e))throw new Error(`emitting ${e} without any listeners, 954`);this.events.emit(e,{error:t.error})}}),Kve(this,"onSessionSettleRequest",async(e,t)=>{const{id:n,params:r}=t;try{this.isValidSessionSettleRequest(r);const{relay:n,controller:i,expiry:s,namespaces:o,sessionProperties:a,scopedProperties:c,sessionConfig:l}=t.params,u=[...this.pendingSessions.values()].find(t=>t.sessionTopic===e);if(!u)return this.client.logger.error(`Pending session not found for topic ${e}`);const d=this.client.proposal.get(u.proposalId),h=Vve(Hve(Hve(Hve({topic:e,relay:n,expiry:s,namespaces:o,acknowledged:!0,pairingTopic:u.pairingTopic,requiredNamespaces:d.requiredNamespaces,optionalNamespaces:d.optionalNamespaces,controller:i.publicKey,self:{publicKey:u.publicKey,metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},a&&{sessionProperties:a}),c&&{scopedProperties:c}),l&&{sessionConfig:l}),{transportType:Vme.relay});await this.client.session.set(h.topic,h),await this.setExpiry(h.topic,h.expiry),await this.client.core.pairing.updateMetadata({topic:u.pairingTopic,metadata:h.peer.metadata}),this.client.events.emit("session_connect",{session:h}),this.events.emit(jue("session_connect",u.proposalId),{session:h}),this.pendingSessions.delete(u.proposalId),this.deleteProposal(u.proposalId,!1),this.cleanupDuplicatePairings(h),await this.sendResult({id:t.id,topic:e,result:!0})}catch(t){await this.sendError({id:n,topic:e,error:t}),this.client.logger.error(t)}}),Kve(this,"onSessionSettleResponse",async(e,t)=>{const{id:n}=t;(0,HA.isJsonRpcResult)(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit(jue("session_approve",n),{})):(0,HA.isJsonRpcError)(t)&&(await this.client.session.delete(e,ame("USER_DISCONNECTED")),this.events.emit(jue("session_approve",n),{error:t.error}))}),Kve(this,"onSessionUpdateRequest",async(e,t)=>{const{params:n,id:r}=t;try{const t=`${e}_session_update`,i=_me.get(t);if(i&&this.isRequestOutOfSync(i,r))return this.client.logger.warn(`Discarding out of sync request - ${r}`),void this.sendError({id:r,topic:e,error:ame("INVALID_UPDATE_REQUEST")});this.isValidUpdate(Hve({topic:e},n));try{_me.set(t,r),await this.client.session.update(e,{namespaces:n.namespaces}),await this.sendResult({id:r,topic:e,result:!0})}catch(e){throw _me.delete(t),e}this.client.events.emit("session_update",{id:r,topic:e,params:n})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),Kve(this,"isRequestOutOfSync",(e,t)=>t.toString().slice(0,-3)<e.toString().slice(0,-3)),Kve(this,"onSessionUpdateResponse",(e,t)=>{const{id:n}=t,r=jue("session_update",n);if(0===this.events.listenerCount(r))throw new Error(`emitting ${r} without any listeners`);(0,HA.isJsonRpcResult)(t)?this.events.emit(jue("session_update",n),{}):(0,HA.isJsonRpcError)(t)&&this.events.emit(jue("session_update",n),{error:t.error})}),Kve(this,"onSessionExtendRequest",async(e,t)=>{const{id:n}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,Pue(Tve)),await this.sendResult({id:n,topic:e,result:!0}),this.client.events.emit("session_extend",{id:n,topic:e})}catch(t){await this.sendError({id:n,topic:e,error:t}),this.client.logger.error(t)}}),Kve(this,"onSessionExtendResponse",(e,t)=>{const{id:n}=t,r=jue("session_extend",n);if(0===this.events.listenerCount(r))throw new Error(`emitting ${r} without any listeners`);(0,HA.isJsonRpcResult)(t)?this.events.emit(jue("session_extend",n),{}):(0,HA.isJsonRpcError)(t)&&this.events.emit(jue("session_extend",n),{error:t.error})}),Kve(this,"onSessionPingRequest",async(e,t)=>{const{id:n}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:n,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:n,topic:e})}catch(t){await this.sendError({id:n,topic:e,error:t}),this.client.logger.error(t)}}),Kve(this,"onSessionPingResponse",(e,t)=>{const{id:n}=t,r=jue("session_ping",n);setTimeout(()=>{if(0===this.events.listenerCount(r))throw new Error(`emitting ${r} without any listeners 2176`);(0,HA.isJsonRpcResult)(t)?this.events.emit(jue("session_ping",n),{}):(0,HA.isJsonRpcError)(t)&&this.events.emit(jue("session_ping",n),{error:t.error})},500)}),Kve(this,"onSessionDeleteRequest",async(e,t)=>{const{id:n}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),await Promise.all([new Promise(t=>{this.client.core.relayer.once(Dme,async()=>{t(await this.deleteSession({topic:e,id:n}))})}),this.sendResult({id:n,topic:e,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:ame("USER_DISCONNECTED")})]).catch(e=>this.client.logger.error(e))}catch(e){this.client.logger.error(e)}}),Kve(this,"onSessionRequest",async e=>{var t,n,r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=e,{id:l,params:u}=s;try{await this.isValidRequest(Hve({topic:i},u));const e=this.client.session.get(i),s={id:l,topic:i,params:u,verifyContext:await this.getVerifyContext({attestationId:o,hash:bge(JSON.stringify((0,HA.formatJsonRpcRequest)("wc_sessionRequest",u,l))),encryptedId:a,metadata:e.peer.metadata,transportType:c})};await this.setPendingSessionRequest(s),c===Vme.link_mode&&null!=(t=e.peer.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(null==(n=e.peer.metadata.redirect)?void 0:n.universal),null!=(r=this.client.signConfig)&&r.disableRequestQueue?this.emitSessionRequest(s):(this.addSessionRequestToSessionRequestQueue(s),this.processSessionRequestQueue())}catch(e){await this.sendError({id:l,topic:i,error:e}),this.client.logger.error(e)}}),Kve(this,"onSessionRequestResponse",(e,t)=>{const{id:n}=t,r=jue("session_request",n);if(0===this.events.listenerCount(r))throw new Error(`emitting ${r} without any listeners`);(0,HA.isJsonRpcResult)(t)?this.events.emit(jue("session_request",n),{result:t.result}):(0,HA.isJsonRpcError)(t)&&this.events.emit(jue("session_request",n),{error:t.error})}),Kve(this,"onSessionEventRequest",async(e,t)=>{const{id:n,params:r}=t;try{const t=`${e}_session_event_${r.event.name}`,i=_me.get(t);if(i&&this.isRequestOutOfSync(i,n))return void this.client.logger.info(`Discarding out of sync request - ${n}`);this.isValidEmit(Hve({topic:e},r)),this.client.events.emit("session_event",{id:n,topic:e,params:r}),_me.set(t,n)}catch(t){await this.sendError({id:n,topic:e,error:t}),this.client.logger.error(t)}}),Kve(this,"onSessionAuthenticateResponse",(e,t)=>{const{id:n}=t;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:e,payload:t}),(0,HA.isJsonRpcResult)(t)?this.events.emit(jue("session_request",n),{result:t.result}):(0,HA.isJsonRpcError)(t)&&this.events.emit(jue("session_request",n),{error:t.error})}),Kve(this,"onSessionAuthenticateRequest",async e=>{var t;const{topic:n,payload:r,attestation:i,encryptedId:s,transportType:o}=e;try{const{requester:e,authPayload:a,expiryTimestamp:c}=r.params,l=await this.getVerifyContext({attestationId:i,hash:bge(JSON.stringify(r)),encryptedId:s,metadata:e.metadata,transportType:o}),u={requester:e,pairingTopic:n,id:r.id,authPayload:a,verifyContext:l,expiryTimestamp:c};await this.setAuthRequest(r.id,{request:u,pairingTopic:n,transportType:o}),o===Vme.link_mode&&null!=(t=e.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(e.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:n,params:r.params,id:r.id,verifyContext:l})}catch(e){this.client.logger.error(e);const t=r.params.requester.publicKey,i=await this.client.core.crypto.generateKeyPair(),s=this.getAppLinkIfEnabled(r.params.requester.metadata,o),a={type:1,receiverPublicKey:t,senderPublicKey:i};await this.sendError({id:r.id,topic:n,error:e,encodeOpts:a,rpcOpts:Pve.wc_sessionAuthenticate.autoReject,appLink:s})}}),Kve(this,"addSessionRequestToSessionRequestQueue",e=>{this.sessionRequestQueue.queue.push(e)}),Kve(this,"cleanupAfterResponse",e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=jve,this.processSessionRequestQueue()},(0,Vw.toMiliseconds)(this.requestQueueDelay))}),Kve(this,"cleanupPendingSentRequestsForTopic",({topic:e,error:t})=>{const n=this.client.core.history.pending;n.length>0&&n.filter(t=>t.topic===e&&"wc_sessionRequest"===t.request.method).forEach(e=>{const n=jue("session_request",e.request.id);if(0===this.events.listenerCount(n))throw new Error(`emitting ${n} without any listeners`);this.events.emit(jue("session_request",e.request.id),{error:t})})}),Kve(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Nve)return void this.client.logger.info("session request queue is already active.");const e=this.sessionRequestQueue.queue[0];if(e)try{this.emitSessionRequest(e)}catch(e){this.client.logger.error(e)}else this.client.logger.info("session request queue is empty.")}),Kve(this,"emitSessionRequest",e=>{this.emittedSessionRequests.has(e.id)?this.client.logger.warn({id:e.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${e.id}`):(this.sessionRequestQueue.state=Nve,this.emittedSessionRequests.add(e.id),this.client.events.emit("session_request",e))}),Kve(this,"onPairingCreated",e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;const t=this.client.proposal.getAll().find(t=>t.pairingTopic===e.topic);t&&this.onSessionProposeRequest({topic:e.topic,payload:(0,HA.formatJsonRpcRequest)("wc_sessionPropose",Vve(Hve({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties,scopedProperties:t.scopedProperties}),t.id),attestation:t.attestation,encryptedId:t.encryptedId})}),Kve(this,"isValidConnect",async e=>{if(!wme(e)){const{message:t}=ome("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw new Error(t)}const{pairingTopic:t,requiredNamespaces:n,optionalNamespaces:r,sessionProperties:i,scopedProperties:s,relays:o}=e;if(ume(t)||await this.isValidPairingTopic(t),!function(e){let t=!1;return e?e&&cme(e)&&e.length&&e.forEach(e=>{t=yme(e)}):t=!0,t}(o)){const{message:e}=ome("MISSING_OR_INVALID",`connect() relays: ${o}`);throw new Error(e)}if(n&&!ume(n)&&0!==lme(n)){const e="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(e):this.client.logger.warn(e),this.validateNamespaces(n,"requiredNamespaces")}if(r&&!ume(r)&&0!==lme(r)&&this.validateNamespaces(r,"optionalNamespaces"),i&&!ume(i)&&this.validateSessionProps(i,"sessionProperties"),s&&!ume(s)){this.validateSessionProps(s,"scopedProperties");const e=Object.keys(n||{}).concat(Object.keys(r||{}));if(!Object.keys(s).every(t=>e.includes(t.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(s)}, required/optional namespaces: ${JSON.stringify(e)}`)}}),Kve(this,"validateNamespaces",(e,t)=>{const n=function(e,t,n){let r=null;if(e&&lme(e)){const i=gme(e,t);i&&(r=i);const s=function(e,t,n){let r=null;return Object.entries(e).forEach(([e,i])=>{if(r)return;const s=function(e,t,n){let r=null;return cme(t)&&t.length?t.forEach(e=>{r||fme(e)||(r=ame("UNSUPPORTED_CHAINS",`${n}, chain ${e} should be a string and conform to "namespace:chainId" format`))}):fme(e)||(r=ame("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}(e,rue(e,i),`${t} ${n}`);s&&(r=s)}),r}(e,t,n);s&&(r=s)}else r=ome("MISSING_OR_INVALID",`${t}, ${n} should be an object with data`);return r}(e,"connect()",t);if(n)throw new Error(n.message)}),Kve(this,"isValidApprove",async e=>{if(!wme(e))throw new Error(ome("MISSING_OR_INVALID",`approve() params: ${e}`).message);const{id:t,namespaces:n,relayProtocol:r,sessionProperties:i,scopedProperties:s}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);const o=this.client.proposal.get(t),a=mme(n,"approve()");if(a)throw new Error(a.message);const c=vme(o.requiredNamespaces,n,"approve()");if(c)throw new Error(c.message);if(!dme(r,!0)){const{message:e}=ome("MISSING_OR_INVALID",`approve() relayProtocol: ${r}`);throw new Error(e)}if(i&&!ume(i)&&this.validateSessionProps(i,"sessionProperties"),s&&!ume(s)){this.validateSessionProps(s,"scopedProperties");const e=new Set(Object.keys(n));if(!Object.keys(s).every(t=>e.has(t.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(s)}, approved namespaces: ${Array.from(e).join(", ")}`)}}),Kve(this,"isValidReject",async e=>{if(!wme(e)){const{message:t}=ome("MISSING_OR_INVALID",`reject() params: ${e}`);throw new Error(t)}const{id:t,reason:n}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!function(e){return!!(e&&"object"==typeof e&&e.code&&hme(e.code,!1)&&e.message&&dme(e.message,!1))}(n)){const{message:e}=ome("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(n)}`);throw new Error(e)}}),Kve(this,"isValidSessionSettleRequest",e=>{if(!wme(e)){const{message:t}=ome("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw new Error(t)}const{relay:t,controller:n,namespaces:r,expiry:i}=e;if(!yme(t)){const{message:e}=ome("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(e)}const s=function(e){let t=null;return dme(e?.publicKey,!1)||(t=ome("MISSING_OR_INVALID","onSessionSettleRequest() controller public key should be a string")),t}(n);if(s)throw new Error(s.message);const o=mme(r,"onSessionSettleRequest()");if(o)throw new Error(o.message);if(Oue(i)){const{message:e}=ome("EXPIRED","onSessionSettleRequest()");throw new Error(e)}}),Kve(this,"isValidUpdate",async e=>{if(!wme(e)){const{message:t}=ome("MISSING_OR_INVALID",`update() params: ${e}`);throw new Error(t)}const{topic:t,namespaces:n}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const r=this.client.session.get(t),i=mme(n,"update()");if(i)throw new Error(i.message);const s=vme(r.requiredNamespaces,n,"update()");if(s)throw new Error(s.message)}),Kve(this,"isValidExtend",async e=>{if(!wme(e)){const{message:t}=ome("MISSING_OR_INVALID",`extend() params: ${e}`);throw new Error(t)}const{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)}),Kve(this,"isValidRequest",async e=>{if(!wme(e)){const{message:t}=ome("MISSING_OR_INVALID",`request() params: ${e}`);throw new Error(t)}const{topic:t,request:n,chainId:r,expiry:i}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const{namespaces:s}=this.client.session.get(t);if(!bme(s,r)){const{message:e}=ome("MISSING_OR_INVALID",`request() chainId: ${r}`);throw new Error(e)}if(!function(e){return!(ume(e)||!dme(e.method,!1))}(n)){const{message:e}=ome("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw new Error(e)}if(!function(e,t,n){return!!dme(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach(e=>{Xge(e.accounts).includes(t)&&n.push(...e.methods)}),n}(e,t).includes(n)}(s,r,n.method)){const{message:e}=ome("MISSING_OR_INVALID",`request() method: ${n.method}`);throw new Error(e)}if(i&&!function(e,t){return hme(e,!1)&&e<=t.max&&e>=t.min}(i,Ove)){const{message:e}=ome("MISSING_OR_INVALID",`request() expiry: ${i}. Expiry must be a number (in seconds) between ${Ove.min} and ${Ove.max}`);throw new Error(e)}}),Kve(this,"isValidRespond",async e=>{var t;if(!wme(e)){const{message:t}=ome("MISSING_OR_INVALID",`respond() params: ${e}`);throw new Error(t)}const{topic:n,response:r}=e;try{await this.isValidSessionTopic(n)}catch(n){throw null!=(t=e?.response)&&t.id&&this.cleanupAfterResponse(e),n}if(!function(e){return!(ume(e)||ume(e.result)&&ume(e.error)||!hme(e.id,!1)||!dme(e.jsonrpc,!1))}(r)){const{message:e}=ome("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(r)}`);throw new Error(e)}const i=this.client.pendingRequest.get(r.id);if(i.topic!==n){const{message:e}=ome("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${r.id}, expected topic: ${i.topic}, received topic: ${n}`);throw new Error(e)}}),Kve(this,"isValidPing",async e=>{if(!wme(e)){const{message:t}=ome("MISSING_OR_INVALID",`ping() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),Kve(this,"isValidEmit",async e=>{if(!wme(e)){const{message:t}=ome("MISSING_OR_INVALID",`emit() params: ${e}`);throw new Error(t)}const{topic:t,event:n,chainId:r}=e;await this.isValidSessionTopic(t);const{namespaces:i}=this.client.session.get(t);if(!bme(i,r)){const{message:e}=ome("MISSING_OR_INVALID",`emit() chainId: ${r}`);throw new Error(e)}if(!function(e){return!(ume(e)||!dme(e.name,!1))}(n)){const{message:e}=ome("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(e)}if(!function(e,t,n){return!!dme(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach(e=>{Xge(e.accounts).includes(t)&&n.push(...e.events)}),n}(e,t).includes(n)}(i,r,n.name)){const{message:e}=ome("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(e)}}),Kve(this,"isValidDisconnect",async e=>{if(!wme(e)){const{message:t}=ome("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),Kve(this,"isValidAuthenticate",e=>{const{chains:t,uri:n,domain:r,nonce:i}=e;if(!Array.isArray(t)||0===t.length)throw new Error("chains is required and must be a non-empty array");if(!dme(n,!1))throw new Error("uri is required parameter");if(!dme(r,!1))throw new Error("domain is required parameter");if(!dme(i,!1))throw new Error("nonce is required parameter");if([...new Set(t.map(e=>nue(e).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:s}=nue(t[0]);if("eip155"!==s)throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),Kve(this,"getVerifyContext",async e=>{const{attestationId:t,hash:n,encryptedId:r,metadata:i,transportType:s}=e,o={verified:{verifyUrl:i.verifyUrl||aye,validation:"UNKNOWN",origin:i.url||""}};try{if(s===Vme.link_mode){const e=this.getAppLinkIfEnabled(i,s);return o.verified.validation=e&&new URL(e).origin===new URL(i.url).origin?"VALID":"INVALID",o}const e=await this.client.core.verify.resolve({attestationId:t,hash:n,encryptedId:r,verifyUrl:i.verifyUrl});e&&(o.verified.origin=e.origin,o.verified.isScam=e.isScam,o.verified.validation=e.origin===new URL(i.url).origin?"VALID":"INVALID")}catch(e){this.client.logger.warn(e)}return this.client.logger.debug(`Verify context: ${JSON.stringify(o)}`),o}),Kve(this,"validateSessionProps",(e,t)=>{Object.values(e).forEach((n,r)=>{if(null==n){const{message:i}=ome("MISSING_OR_INVALID",`${t} must contain an existing value for each key. Received: ${n} for key ${Object.keys(e)[r]}`);throw new Error(i)}})}),Kve(this,"getPendingAuthRequest",e=>{const t=this.client.auth.requests.get(e);return"object"==typeof t?t:void 0}),Kve(this,"addToRecentlyDeleted",(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let e=0;const t=this.recentlyDeletedLimit/2;for(const n of this.recentlyDeletedMap.keys()){if(e++>=t)break;this.recentlyDeletedMap.delete(n)}}}),Kve(this,"checkRecentlyDeleted",e=>{const t=this.recentlyDeletedMap.get(e);if(t){const{message:n}=ome("MISSING_OR_INVALID",`Record was recently deleted - ${t}: ${e}`);throw new Error(n)}}),Kve(this,"isLinkModeEnabled",(e,t)=>{var n,r,i,s,o,a,c,l,u;return!(!e||t!==Vme.link_mode)&&!0===(null==(r=null==(n=this.client.metadata)?void 0:n.redirect)?void 0:r.linkMode)&&void 0!==(null==(s=null==(i=this.client.metadata)?void 0:i.redirect)?void 0:s.universal)&&""!==(null==(a=null==(o=this.client.metadata)?void 0:o.redirect)?void 0:a.universal)&&void 0!==(null==(c=e?.redirect)?void 0:c.universal)&&""!==(null==(l=e?.redirect)?void 0:l.universal)&&!0===(null==(u=e?.redirect)?void 0:u.linkMode)&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&typeof(null==global?void 0:global.Linking)<"u"}),Kve(this,"getAppLinkIfEnabled",(e,t)=>{var n;return this.isLinkModeEnabled(e,t)?null==(n=e?.redirect)?void 0:n.universal:void 0}),Kve(this,"handleLinkModeMessage",({url:e})=>{if(!e||!e.includes("wc_ev")||!e.includes("topic"))return;const t=Rue(e,"topic")||"",n=decodeURIComponent(Rue(e,"wc_ev")||""),r=this.client.session.keys.includes(t);r&&this.client.session.update(t,{transportType:Vme.link_mode}),this.client.core.dispatchEnvelope({topic:t,message:n,sessionExists:r})}),Kve(this,"registerLinkModeListeners",async()=>{var e;if(Mue()||yue()&&null!=(e=this.client.metadata.redirect)&&e.linkMode){const e=null==global?void 0:global.Linking;if(typeof e<"u"){e.addEventListener("url",this.handleLinkModeMessage,this.client.name);const t=await e.getInitialURL();t&&setTimeout(()=>{this.handleLinkModeMessage({url:t})},50)}}}),Kve(this,"getTVFParams",(e,t,n)=>{var r,i,s;if(null==(r=t.request)||!r.method)return{};const o={correlationId:e,rpcMethods:[t.request.method],chainId:t.chainId};try{const e=this.extractTxHashesFromResult(t.request,n);o.txHashes=e,o.contractAddresses=this.isValidContractData(t.request.params)?[null==(s=null==(i=t.request.params)?void 0:i[0])?void 0:s.to]:[]}catch(e){this.client.logger.warn(e,"Error getting TVF params")}return o}),Kve(this,"isValidContractData",e=>{var t;if(!e)return!1;try{const n=e?.data||(null==(t=e?.[0])?void 0:t.data);if(!n.startsWith("0x"))return!1;const r=n.slice(2);return!!/^[0-9a-fA-F]*$/.test(r)&&r.length%2==0}catch{}return!1}),Kve(this,"extractTxHashesFromResult",(e,t)=>{var n;try{if(!t)return[];const r=e.method,i=Rve[r];if("sui_signTransaction"===r)return[_he(t.transactionBytes)];if("near_signTransaction"===r)return[Che(t)];if("near_signTransactions"===r)return t.map(e=>Che(e));if("xrpl_signTransactionFor"===r||"xrpl_signTransaction"===r)return[null==(n=t.tx_json)?void 0:n.hash];if("polkadot_signTransaction"===r)return[Sme({transaction:e.params.transactionPayload,signature:t.signature})];if("algo_signTxn"===r)return cme(t)?t.map(e=>She(e)):[She(t)];if("cosmos_signDirect"===r)return[Ahe(t)];if("wallet_sendCalls"===r)return function(e){var t,n;const r=[];try{if("string"==typeof e)return r.push(e),r;if("object"!=typeof e)return r;null!=e&&e.id&&r.push(e.id);const i=null==(n=null==(t=e?.capabilities)?void 0:t.caip345)?void 0:n.transactionHashes;i&&r.push(...i)}catch(e){console.warn("getWalletSendCallsHashes failed: ",e)}return r}(t);if("string"==typeof t)return[t];const s=t[i.key];if(cme(s))return"solana_signAllTransactions"===r?s.map(e=>function(e){const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);const r=n[0];if(0===r)throw new Error("No signatures found");const i=1+64*r;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=tue.from(e,"base64").slice(1,65);return Wle.encode(s)}(e)):s;if("string"==typeof s)return[s]}catch(e){this.client.logger.warn(e,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,t=this.client.core.relayer.messages.getWithoutAck(e);for(const[e,n]of Object.entries(t))for(const t of n)try{await this.onProviderMessageEvent({topic:e,message:t,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${e}, message: ${t}`)}}catch(e){this.client.logger.warn(e,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){const{message:e}=ome("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Lme,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:t,message:n,attestation:r,transportType:i}=e,{publicKey:s}=this.client.auth.authKeys.keys.includes(Lve)?this.client.auth.authKeys.get(Lve):{responseTopic:void 0,publicKey:void 0};try{const e=await this.client.core.crypto.decode(t,n,{receiverPublicKey:s,encoding:i===Vme.link_mode?gge:pge});(0,HA.isJsonRpcRequest)(e)?(this.client.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e,attestation:r,transportType:i,encryptedId:bge(n)})):(0,HA.isJsonRpcResponse)(e)?(await this.client.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e,transportType:i}),this.client.core.history.delete(t,e.id)):await this.onRelayEventUnknownPayload({topic:t,payload:e,transportType:i}),await this.client.core.relayer.messages.ack(t,n)}catch(e){this.client.logger.error(e)}}registerExpirerEvents(){this.client.core.expirer.on(sye,async e=>{const{topic:t,id:n}=Tue(e.target);return n&&this.client.pendingRequest.keys.includes(n)?await this.deletePendingSessionRequest(n,ome("EXPIRED"),!0):n&&this.client.auth.requests.keys.includes(n)?await this.deletePendingAuthRequest(n,ome("EXPIRED"),!0):void(t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n})))})}registerPairingEvents(){this.client.core.pairing.events.on(Qme,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Xme,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!dme(e,!1)){const{message:t}=ome("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=ome("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(Oue(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=ome("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!dme(e,!1)){const{message:t}=ome("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:t}=ome("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if(Oue(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:t}=ome("EXPIRED",`session topic: ${e}`);throw new Error(t)}if(!this.client.core.crypto.keychain.has(e)){const{message:t}=ome("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else{if(!this.client.core.pairing.pairings.keys.includes(e)){if(dme(e,!1)){const{message:t}=ome("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}{const{message:t}=ome("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}this.isValidPairingTopic(e)}}async isValidProposalId(e){if(!function(e){return"number"==typeof e}(e)){const{message:t}=ome("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=ome("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if(Oue(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:t}=ome("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}}class Zve extends Hbe{constructor(e,t){super(e,t,"proposal",Cve),this.core=e,this.logger=t}}class Yve extends Hbe{constructor(e,t){super(e,t,"session",Cve),this.core=e,this.logger=t}}class Jve extends Hbe{constructor(e,t){super(e,t,"request",Cve,e=>e.id),this.core=e,this.logger=t}}class Qve extends Hbe{constructor(e,t){super(e,t,"authKeys",Mve,()=>Lve),this.core=e,this.logger=t}}class Xve extends Hbe{constructor(e,t){super(e,t,"pairingTopics",Mve),this.core=e,this.logger=t}}class exe extends Hbe{constructor(e,t){super(e,t,"requests",Mve,e=>e.id),this.core=e,this.logger=t}}var txe=Object.defineProperty,nxe=(e,t,n)=>((e,t,n)=>t in e?txe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class rxe{constructor(e,t){this.core=e,this.logger=t,nxe(this,"authKeys"),nxe(this,"pairingTopics"),nxe(this,"requests"),this.authKeys=new Qve(this.core,this.logger),this.pairingTopics=new Xve(this.core,this.logger),this.requests=new exe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var ixe=Object.defineProperty,sxe=(e,t,n)=>((e,t,n)=>t in e?ixe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class oxe extends Iae{constructor(e){super(e),sxe(this,"protocol","wc"),sxe(this,"version",2),sxe(this,"name",Sve),sxe(this,"metadata"),sxe(this,"core"),sxe(this,"logger"),sxe(this,"events",new Ww.EventEmitter),sxe(this,"engine"),sxe(this,"session"),sxe(this,"proposal"),sxe(this,"pendingRequest"),sxe(this,"auth"),sxe(this,"signConfig"),sxe(this,"on",(e,t)=>this.events.on(e,t)),sxe(this,"once",(e,t)=>this.events.once(e,t)),sxe(this,"off",(e,t)=>this.events.off(e,t)),sxe(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),sxe(this,"removeAllListeners",e=>this.events.removeAllListeners(e)),sxe(this,"connect",async e=>{try{return await this.engine.connect(e)}catch(e){throw this.logger.error(e.message),e}}),sxe(this,"pair",async e=>{try{return await this.engine.pair(e)}catch(e){throw this.logger.error(e.message),e}}),sxe(this,"approve",async e=>{try{return await this.engine.approve(e)}catch(e){throw this.logger.error(e.message),e}}),sxe(this,"reject",async e=>{try{return await this.engine.reject(e)}catch(e){throw this.logger.error(e.message),e}}),sxe(this,"update",async e=>{try{return await this.engine.update(e)}catch(e){throw this.logger.error(e.message),e}}),sxe(this,"extend",async e=>{try{return await this.engine.extend(e)}catch(e){throw this.logger.error(e.message),e}}),sxe(this,"request",async e=>{try{return await this.engine.request(e)}catch(e){throw this.logger.error(e.message),e}}),sxe(this,"respond",async e=>{try{return await this.engine.respond(e)}catch(e){throw this.logger.error(e.message),e}}),sxe(this,"ping",async e=>{try{return await this.engine.ping(e)}catch(e){throw this.logger.error(e.message),e}}),sxe(this,"emit",async e=>{try{return await this.engine.emit(e)}catch(e){throw this.logger.error(e.message),e}}),sxe(this,"disconnect",async e=>{try{return await this.engine.disconnect(e)}catch(e){throw this.logger.error(e.message),e}}),sxe(this,"find",e=>{try{return this.engine.find(e)}catch(e){throw this.logger.error(e.message),e}}),sxe(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}}),sxe(this,"authenticate",async(e,t)=>{try{return await this.engine.authenticate(e,t)}catch(e){throw this.logger.error(e.message),e}}),sxe(this,"formatAuthMessage",e=>{try{return this.engine.formatAuthMessage(e)}catch(e){throw this.logger.error(e.message),e}}),sxe(this,"approveSessionAuthenticate",async e=>{try{return await this.engine.approveSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}}),sxe(this,"rejectSessionAuthenticate",async e=>{try{return await this.engine.rejectSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}}),this.name=e?.name||Sve,this.metadata=function(e){var t,n;const r=xue();try{return null!=e&&e.url&&r.url&&new URL(e.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),e.url=r.url),null!=(t=e?.icons)&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(e=>""!==e)),((e,t)=>sue(e,oue(t)))(due(due({},r),e),{url:e?.url||r.url,name:e?.name||r.name,description:e?.description||r.description,icons:null!=(n=e?.icons)&&n.length&&e.icons.length>0?e.icons:r.icons})}catch(t){return console.warn("Error populating app metadata",t),e||r}}(e?.metadata),this.signConfig=e?.signConfig;const t=Ime({logger:e?.logger||"error",name:this.name});this.logger=t,this.core=e?.core||new kve(e),this.session=new Yve(this.core,this.logger),this.proposal=new Zve(this.core,this.logger),this.pendingRequest=new Jve(this.core,this.logger),this.engine=new Gve(this),this.auth=new rxe(this.core,this.logger)}static async init(e){const t=new oxe(e);return await t.initialize(),t}get context(){return cae(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}const axe=oxe;var cxe=o(8287).Buffer;function lxe(e){return null==e||"object"!=typeof e&&"function"!=typeof e}function uxe(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function dxe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const hxe="[object String]",fxe="[object Number]",pxe="[object Boolean]",gxe="[object Arguments]";function mxe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function yxe(e,t,n,r=new Map,i=void 0){const s=i?.(e,t,n,r);if(null!=s)return s;if(lxe(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let s=0;s<e.length;s++)t[s]=yxe(e[s],s,n,r,i);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[s,o]of e)t.set(s,yxe(o,s,n,r,i));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const s of e)t.add(yxe(s,void 0,n,r,i));return t}if(typeof cxe<"u"&&cxe.isBuffer(e))return e.subarray();if(mxe(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let s=0;s<e.length;s++)t[s]=yxe(e[s],s,n,r,i);return t}if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),wxe(t,e,n,r,i),t}if(typeof File<"u"&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),wxe(t,e,n,r,i),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),wxe(t,e,n,r,i),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,wxe(t,e,n,r,i),t}if("object"==typeof e&&function(e){switch(dxe(e)){case gxe:case"[object Array]":case"[object ArrayBuffer]":case"[object DataView]":case pxe:case"[object Date]":case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Map]":case fxe:case"[object Object]":case"[object RegExp]":case"[object Set]":case hxe:case"[object Symbol]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),wxe(t,e,n,r,i),t}return e}function wxe(e,t,n=e,r,i){const s=[...Object.keys(t),...uxe(t)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(e,a);(null==c||c.writable)&&(e[a]=yxe(t[a],a,n,r,i))}}function bxe(e){return function(e,t){return function(e,t){return yxe(e,void 0,e,new Map,t)}(e,(n,r,i,s)=>{const o=t?.(n,r,i,s);if(null!=o)return o;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case fxe:case hxe:case pxe:{const t=new e.constructor(e?.valueOf());return wxe(t,e),t}case gxe:{const t={};return wxe(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}(e)}function vxe(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===dxe(e)}function xxe(e){return"object"==typeof e&&null!==e}function Exe(){}function kxe(e){return mxe(e)}function _xe(e){if("object"!=typeof e||null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){const t=e[Symbol.toStringTag];return!(null==t||!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable)&&e.toString()===`[object ${t}]`}let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Cxe(e,t,n,r){if(lxe(e)&&(e=Object(e)),null==t||"object"!=typeof t)return e;if(r.has(t))return function(e){if(lxe(e))return e;if(Array.isArray(e)||mxe(e)||e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);const t=Object.getPrototypeOf(e),n=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new n(e);if(e instanceof RegExp){const t=new n(e);return t.lastIndex=e.lastIndex,t}if(e instanceof DataView)return new n(e.buffer.slice(0));if(e instanceof Error){const t=new n(e.message);return t.stack=e.stack,t.name=e.name,t.cause=e.cause,t}if(typeof File<"u"&&e instanceof File)return new n([e],e.name,{type:e.type,lastModified:e.lastModified});if("object"==typeof e){const n=Object.create(t);return Object.assign(n,e)}return e}(r.get(t));if(r.set(t,e),Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]=t[e]??void 0}const i=[...Object.keys(t),...uxe(t)];for(let s=0;s<i.length;s++){const o=i[s];let a=t[o],c=e[o];if(vxe(a)&&(a={...a}),vxe(c)&&(c={...c}),typeof cxe<"u"&&cxe.isBuffer(a)&&(a=bxe(a)),Array.isArray(a))if("object"==typeof c&&null!=c){const e=[],t=Reflect.ownKeys(c);for(let n=0;n<t.length;n++){const r=t[n];e[r]=c[r]}c=e}else c=[];const l=n(c,a,o,e,t,r);null!=l?e[o]=l:Array.isArray(a)||xxe(c)&&xxe(a)?e[o]=Cxe(c,a,n,r):null==c&&_xe(a)?e[o]=Cxe({},a,n,r):null==c&&kxe(a)?e[o]=bxe(a):(void 0===c||void 0!==a)&&(e[o]=a)}return e}const Sxe="error",Ixe="universal_provider",Axe=`wc@2:${Ixe}:`,Txe="https://rpc.walletconnect.org/v1/",Pxe="generic",Oxe=`${Txe}bundler`,jxe="call_status",Nxe="default_chain_changed";var Rxe=Object.defineProperty,$xe=Object.defineProperties,Mxe=Object.getOwnPropertyDescriptors,Lxe=Object.getOwnPropertySymbols,Bxe=Object.prototype.hasOwnProperty,Uxe=Object.prototype.propertyIsEnumerable,Dxe=(e,t,n)=>t in e?Rxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fxe=(e,t)=>{for(var n in t||(t={}))Bxe.call(t,n)&&Dxe(e,n,t[n]);if(Lxe)for(var n of Lxe(t))Uxe.call(t,n)&&Dxe(e,n,t[n]);return e},zxe=(e,t)=>$xe(e,Mxe(t));function Wxe(e,t,n){var r;const i=nue(e);return(null==(r=t.rpcMap)?void 0:r[i.reference])||`${Txe}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function qxe(e){return e.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Hxe(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>{var n,r;return(null==(n=t?.chains)?void 0:n.length)&&(null==(r=t?.chains)?void 0:r.length)>0}))}function Vxe(e={},t={}){return function(e,...t){return function(e,...t){const n=t.slice(0,-1),r=t[t.length-1];let i=e;for(let e=0;e<n.length;e++)i=Cxe(i,n[e],r,new Map);return i}(e,...t,Exe)}(Hxe(Kxe(e)),Hxe(Kxe(t)))}function Kxe(e){var t,n,r,i,s;const o={};if(!lme(e))return o;for(const[a,c]of Object.entries(e)){const e=eme(a)?[a]:c.chains,l=c.methods||[],u=c.events||[],d=c.rpcMap||{},h=tme(a);o[h]=zxe(Fxe(Fxe({},o[h]),c),{chains:Nue(e,null==(t=o[h])?void 0:t.chains),methods:Nue(l,null==(n=o[h])?void 0:n.methods),events:Nue(u,null==(r=o[h])?void 0:r.events)}),(lme(d)||lme((null==(i=o[h])?void 0:i.rpcMap)||{}))&&(o[h].rpcMap=Fxe(Fxe({},d),null==(s=o[h])?void 0:s.rpcMap))}return o}function Gxe(e){return e.includes(":")?e.split(":")[2]:e}function Zxe(e){const t={};for(const[n,r]of Object.entries(e)){const e=r.methods||[],i=r.events||[],s=r.accounts||[],o=eme(n)?[n]:r.chains?r.chains:qxe(r.accounts);t[n]={chains:o,methods:e,events:i,accounts:s}}return t}function Yxe(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}const Jxe={},Qxe=e=>Jxe[e],Xxe=(e,t)=>{Jxe[e]=t};var eEe=Object.defineProperty,tEe=Object.getOwnPropertySymbols,nEe=Object.prototype.hasOwnProperty,rEe=Object.prototype.propertyIsEnumerable,iEe=(e,t,n)=>t in e?eEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sEe=(e,t)=>{for(var n in t||(t={}))nEe.call(t,n)&&iEe(e,n,t[n]);if(tEe)for(var n of tEe(t))rEe.call(t,n)&&iEe(e,n,t[n]);return e};const oEe="eip155",aEe=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],cEe=e=>e&&e.startsWith("0x")?BigInt(e).toString(10):e,lEe=e=>e&&e.startsWith("0x")?e:`0x${BigInt(e).toString(16)}`,uEe=e=>Object.keys(e).filter(e=>aEe.includes(e)).reduce((t,n)=>(t[n]=dEe(e[n]),t),{}),dEe=e=>"string"==typeof e&&function(e){try{const t=JSON.parse(e);return"object"==typeof t&&null!==t&&!Array.isArray(t)}catch{return!1}}(e)?JSON.parse(e):e;var hEe=Object.defineProperty;let fEe;class pEe{constructor(e){((e,t,n)=>{((e,t,n)=>{t in e?hEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n)})(this,"storage"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,t){return await this.storage.setItem(e,t)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return fEe||(fEe=new pEe(e)),fEe}}var gEe=Object.defineProperty,mEe=Object.defineProperties,yEe=Object.getOwnPropertyDescriptors,wEe=Object.getOwnPropertySymbols,bEe=Object.prototype.hasOwnProperty,vEe=Object.prototype.propertyIsEnumerable,xEe=(e,t,n)=>t in e?gEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var EEe=Object.defineProperty,kEe=Object.defineProperties,_Ee=Object.getOwnPropertyDescriptors,CEe=Object.getOwnPropertySymbols,SEe=Object.prototype.hasOwnProperty,IEe=Object.prototype.propertyIsEnumerable,AEe=(e,t,n)=>t in e?EEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TEe=(e,t)=>{for(var n in t||(t={}))SEe.call(t,n)&&AEe(e,n,t[n]);if(CEe)for(var n of CEe(t))IEe.call(t,n)&&AEe(e,n,t[n]);return e},PEe=(e,t)=>kEe(e,_Ee(t)),OEe=(e,t,n)=>AEe(e,"symbol"!=typeof t?t+"":t,n);class jEe{constructor(e){OEe(this,"name","eip155"),OEe(this,"client"),OEe(this,"chainId"),OEe(this,"namespace"),OEe(this,"httpProviders"),OEe(this,"events"),OEe(this,"storage"),this.namespace=e.namespace,this.events=Qxe("events"),this.client=Qxe("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=pEe.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e);case"wallet_sendCalls":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t);const n=this.chainId;this.chainId=parseInt(e),this.events.emit(Nxe,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${n}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const n=t||Wxe(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new qA.F(new IN.V(n,Qxe("disableProviderPing")))}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var n;const r=parseInt(function(e){return e.includes(":")?e.split(":")[1]:e}(t));e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}getHttpProvider(e){const t=e||this.chainId;return this.httpProviders[t]||(this.httpProviders=PEe(TEe({},this.httpProviders),{[t]:this.createHttpProvider(t)}),this.httpProviders[t])}async handleSwitchChain(e){var t,n;let r=e.request.params?null==(t=e.request.params[0])?void 0:t.chainId:"0x0";r=r.startsWith("0x")?r:`0x${r}`;const i=parseInt(r,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else{if(!this.namespace.methods.includes("wallet_switchEthereumChain"))throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:r}]},chainId:null==(n=this.namespace.chains)?void 0:n[0]}),this.setDefaultChain(`${i}`)}return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var t,n,r,i,s;const o=null==(n=null==(t=e.request)?void 0:t.params)?void 0:n[0],a=(null==(i=null==(r=e.request)?void 0:r.params)?void 0:i[1])||[];if(!o)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const c=this.client.session.get(e.topic),l=(null==(s=c?.sessionProperties)?void 0:s.capabilities)||{},u=`${o}${a.join(",")}`,d=l?.[u];if(d)return d;let h;try{h=((e,t,n)=>{const{sessionProperties:r={},scopedProperties:i={}}=e,s={};if(!lme(i)&&!lme(r))return;const o=uEe(r);for(const e of n){const n=cEe(e);if(!n)continue;s[lEe(n)]=o;const r=i?.[`${oEe}:${n}`];if(r){const e=r?.[`${oEe}:${n}:${t}`];s[lEe(n)]=sEe(sEe({},s[lEe(n)]),uEe(e||r))}}for(const[e,t]of Object.entries(s))0===Object.keys(t).length&&delete s[e];return Object.keys(s).length>0?s:void 0})(c,o,a)}catch(e){console.warn("Failed to extract capabilities from session",e)}if(h)return h;const f=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:PEe(TEe({},c.sessionProperties||{}),{capabilities:PEe(TEe({},l||{}),{[u]:f})})})}catch(e){console.warn("Failed to update session with capabilities",e)}return f}async getCallStatus(e){var t,n,r;const i=this.client.session.get(e.topic),s=null==(t=i.sessionProperties)?void 0:t.bundler_name;if(s){const t=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(t,e)}catch(e){console.warn("Failed to fetch call status from bundler",e,t)}}const o=null==(n=i.sessionProperties)?void 0:n.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(e){console.warn("Failed to fetch call status from custom bundler",e,o)}const a=await async function({resultId:e,storage:t}){const n=await t.getItem(jxe),r=n?.[e];if(r&&!Oue(r.expiry))return r;await async function({resultId:e,storage:t}){const n=await t.getItem(jxe);if(n){delete n[e],await t.setItem(jxe,n);for(const e in n)Oue(n[e].expiry)&&delete n[e];await t.setItem(jxe,n)}}({resultId:e,storage:t})}({resultId:null==(r=e.request.params)?void 0:r[0],storage:this.storage});if(a)try{return await async function(e,t){const n=nue(e.result.capabilities.caip345.caip2),r=e.result.capabilities.caip345.transactionHashes,i=await Promise.allSettled(r.map(e=>async function(e,t,n){return await n(parseInt(e)).request((0,HA.formatJsonRpcRequest)("eth_getTransactionReceipt",[t]))}(n.reference,e,t))),s=i.filter(e=>"fulfilled"===e.status).map(e=>e.value).filter(e=>e);i.filter(e=>"rejected"===e.status).forEach(e=>console.warn("Failed to fetch transaction receipt:",e.reason));const o=!s.length||s.some(e=>!e),a=s.every(e=>"0x1"===e?.status),c=s.every(e=>"0x0"===e?.status),l=s.some(e=>"0x0"===e?.status);let u;return o?u=100:a?u=200:c?u=500:l&&(u=600),{id:e.result.id,version:e.request.version,atomic:e.request.atomicRequired,chainId:e.request.chainId,capabilities:e.result.capabilities,receipts:s,status:u}}(a,this.getHttpProvider.bind(this))}catch(e){console.warn("Failed to fetch call status from stored send calls",e,a)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,t){var n;const r=new URL(e),i=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,HA.formatJsonRpcRequest)("eth_getUserOperationReceipt",[null==(n=t.request.params)?void 0:n[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,t){return`${Oxe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${t}`}async sendCalls(e){var t,n,r;const i=await this.client.request(e),s=null==(t=e.request.params)?void 0:t[0],o=i?.id,a=i?.capabilities||{},c=null==(n=a?.caip345)?void 0:n.caip2,l=null==(r=a?.caip345)?void 0:r.transactionHashes;return!o||!c||!(null!=l&&l.length)||await async function({sendCalls:e,storage:t}){const n=await t.getItem(jxe);await t.setItem(jxe,((e,t)=>mEe(e,yEe(t)))(((e,t)=>{for(var n in t||(t={}))bEe.call(t,n)&&xEe(e,n,t[n]);if(wEe)for(var n of wEe(t))vEe.call(t,n)&&xEe(e,n,t[n]);return e})({},n),{[e.result.id]:{request:e.request,result:e.result,expiry:Pue(86400)}}))}({sendCalls:{request:s,result:i},storage:this.storage}),i}}var NEe=Object.defineProperty,REe=(e,t,n)=>((e,t,n)=>t in e?NEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class $Ee{constructor(e){REe(this,"name",Pxe),REe(this,"client"),REe(this,"httpProviders"),REe(this,"events"),REe(this,"namespace"),REe(this,"chainId"),this.namespace=e.namespace,this.events=Qxe("events"),this.client=Qxe("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t);const n=this.chainId;this.chainId=e,this.events.emit(Nxe,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${n}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return nue(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){var e,t;const n={};return null==(t=null==(e=this.namespace)?void 0:e.accounts)||t.forEach(e=>{var t,r;const i=nue(e),s=null==(r=null==(t=this.namespace)?void 0:t.rpcMap)?void 0:r[`${i.namespace}:${i.reference}`];n[i.reference]=this.createHttpProvider(e,s)}),n}getHttpProvider(e){const t=nue(e).reference,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||Wxe(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new qA.F(new IN.A(n,Qxe("disableProviderPing")))}}var MEe=Object.defineProperty,LEe=Object.defineProperties,BEe=Object.getOwnPropertyDescriptors,UEe=Object.getOwnPropertySymbols,DEe=Object.prototype.hasOwnProperty,FEe=Object.prototype.propertyIsEnumerable,zEe=(e,t,n)=>t in e?MEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WEe=(e,t)=>{for(var n in t||(t={}))DEe.call(t,n)&&zEe(e,n,t[n]);if(UEe)for(var n of UEe(t))FEe.call(t,n)&&zEe(e,n,t[n]);return e},qEe=(e,t)=>LEe(e,BEe(t)),HEe=(e,t,n)=>zEe(e,"symbol"!=typeof t?t+"":t,n);class VEe{constructor(e){var t,n;HEe(this,"client"),HEe(this,"namespaces"),HEe(this,"optionalNamespaces"),HEe(this,"sessionProperties"),HEe(this,"scopedProperties"),HEe(this,"events",new Ww),HEe(this,"rpcProviders",{}),HEe(this,"session"),HEe(this,"providerOpts"),HEe(this,"logger"),HEe(this,"uri"),HEe(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=Ime({logger:null!=(t=e.logger)?t:Sxe,name:null!=(n=this.providerOpts.name)?n:Ixe}),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const t=new VEe(e);return await t.initialize(),t}async request(e,t,n){const[r,i]=this.validateChain(t);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(r).request({request:WEe({},e),chainId:`${r}:${i}`,topic:this.session.topic,expiry:n})}sendAsync(e,t,n,r){const i=(new Date).getTime();this.request(e,n,r).then(e=>t(null,(0,HA.formatJsonRpcResult)(i,e))).catch(e=>t(e,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(e=this.session)?void 0:e.topic,reason:ame("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,t){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:r}=await this.client.authenticate(e,t);n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();if(this.session=i.session,this.session){const e=Zxe(this.session.namespaces);this.namespaces=Vxe(this.namespaces,e),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){const{uri:t,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});t&&(this.uri=t,this.events.emit("display_uri",t));const r=await n();this.session=r;const i=Zxe(r.namespaces);return this.namespaces=Vxe(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;const[n,r]=this.validateChain(e);this.getProvider(n).setDefaultChain(r,t)}catch(e){if(!/Please call connect/.test(e.message))throw e}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const t=this.client.pairing.getAll();if(!cme(t))return;for(const n of t)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}catch(e){this.logger.warn(e,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,t;if(this.client=this.providerOpts.client||await axe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||Sxe,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.org",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error(n,"Failed to get session"),new Error(`The provided session: ${null==(t=null==(e=this.providerOpts)?void 0:e.session)?void 0:t.topic} doesn't exist in the Sign client`)}else{const e=this.client.session.getAll();this.session=e[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(e=>tme(e)))];Xxe("client",this.client),Xxe("events",this.events),Xxe("disableProviderPing",this.disableProviderPing),e.forEach(e=>{if(!this.session)return;const t=function(e,t){const n=Object.keys(t.namespaces).filter(t=>t.includes(e));if(!n.length)return[];const r=[];return n.forEach(e=>{const n=t.namespaces[e].accounts;r.push(...n)}),r}(e,this.session);if(0===t?.length)return;const n=qxe(t),r=Vxe(this.namespaces,this.optionalNamespaces),i=qEe(WEe({},r[e]),{accounts:t,chains:n});this.rpcProviders[e]="eip155"===e?new jEe({namespace:i}):new $Ee({namespace:i})})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var t;const{topic:n}=e;n===(null==(t=this.session)?void 0:t.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var t;const{params:n,topic:r}=e;if(r!==(null==(t=this.session)?void 0:t.topic))return;const{event:i}=n;if("accountsChanged"===i.name){const e=i.data;e&&cme(e)&&this.events.emit("accountsChanged",e.map(Gxe))}else if("chainChanged"===i.name){const e=n.chainId,t=n.event.data,r=tme(e),i=Yxe(e)!==Yxe(t)?`${r}:${Yxe(t)}`:e;this.onChainChanged({currentCaipChainId:i})}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var n,r;if(e!==(null==(n=this.session)?void 0:n.topic))return;const{namespaces:i}=t,s=null==(r=this.client)?void 0:r.session.get(e);this.session=qEe(WEe({},s),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{var t;e.topic===(null==(t=this.session)?void 0:t.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",qEe(WEe({},ame("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Nxe,e=>{this.onChainChanged(qEe(WEe({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Pxe]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace(null==(t=this.session)?void 0:t.namespaces[e])})}setNamespaces(e){const{namespaces:t={},optionalNamespaces:n={},sessionProperties:r,scopedProperties:i}=e;this.optionalNamespaces=Vxe(t,n),this.sessionProperties=r,this.scopedProperties=i}validateChain(e){const[t,n]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,n];if(t&&!Object.keys(this.namespaces||{}).map(e=>tme(e)).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&n)return[t,n];const r=tme(Object.keys(this.namespaces)[0]);return[r,this.rpcProviders[r].getDefaultChain()]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged({currentCaipChainId:e,previousCaipChainId:t,internal:n=!1}){if(!this.namespaces)return;const[r,i]=this.validateChain(e);i&&(this.updateNamespaceChain(r,i),n?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:r,currentCaipChainId:e,previousCaipChainId:t})):this.getProvider(r).setDefaultChain(i),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:e,currentCaipChainId:t,previousCaipChainId:n}){var r,i;try{if(n===t)return;const s=null==(i=null==(r=this.session)?void 0:r.namespaces[e])?void 0:i.accounts;if(!s)return;const o=s.filter(e=>e.includes(`${t}:`)).map(Gxe);if(!cme(o))return;this.events.emit("accountsChanged",o)}catch(e){this.logger.warn(e,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(e,t){if(!this.namespaces)return;const n=this.namespaces[e]?e:`${e}:${t}`,r={chains:[],methods:[],events:[],defaultChain:t};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=t):this.namespaces[n]=r}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,t){var n;const r=(null==(n=this.session)?void 0:n.topic)||"";await this.client.core.storage.setItem(`${Axe}/${e}${r}`,t)}async getFromStore(e){var t;const n=(null==(t=this.session)?void 0:t.topic)||"";return await this.client.core.storage.getItem(`${Axe}/${e}${n}`)}async deleteFromStore(e){var t;const n=(null==(t=this.session)?void 0:t.topic)||"";await this.client.core.storage.removeItem(`${Axe}/${e}${n}`)}async cleanupStorage(){var e;try{if((null==(e=this.client)?void 0:e.session.length)>0)return;const t=await this.client.core.storage.getKeys();for(const e of t)e.startsWith(Axe)&&await this.client.core.storage.removeItem(e)}catch(e){this.logger.warn(e,"Failed to cleanup storage")}}}const KEe=VEe;o(8287).Buffer;const GEe=e=>{let t,{get:n,on:r}=function(){if(Poe)return Poe;if(Poe=Object.freeze({register:Noe,get:$oe,on:Moe}),"undefined"==typeof window)return Poe;const e=Object.freeze({register:Noe});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(e))}catch(e){console.error("wallet-standard:register-wallet event listener could not be added\n",e)}try{window.dispatchEvent(new Boe(e))}catch(e){console.error("wallet-standard:app-ready event could not be dispatched\n",e)}return Poe}(),i=e?.shouldAutoConnect??!0,s=new $H(new Fke,i),o=new Map,a=[];function c(...e){e.forEach(e=>{!(e.features["privy:"]&&"isPrivyWallet"in e&&e.isPrivyWallet||o.has(e.name))&&e.chains.some(e=>"string"==typeof e&&e.startsWith("solana:"))&&o.set(e.name,e)}),a=Array.from(o.values()).map(e=>new $H(e,i)).concat(s),t?.(a)}function l(...e){Array.from(o.values()).forEach(t=>!e.includes(t)&&o.delete(t.name)),a=Array.from(o.values()).map(e=>new $H(e,i)).concat(s),t?.(a)}let u=[r("register",c),r("unregister",l)];return c(...n()),{_setOnConnectorsUpdated:e=>{t=e},onMount:()=>{u[0]||(u[0]=r("register",c)),u[1]||(u[1]=r("unregister",l))},onUnmount:()=>{let e=u.pop();for(;e;)e(),e=u.pop()},get:()=>a}};function ZEe(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw TypeError("attempted to use private field on non-instance");return e}var YEe=0;function JEe(e){return"__private_"+YEe+++"_"+e}var QEe=JEe("_address"),XEe=JEe("_publicKey"),eke=JEe("_chains"),tke=JEe("_features"),nke=JEe("_label"),rke=JEe("_icon");class ike{get address(){return ZEe(this,QEe)[QEe]}get publicKey(){return ZEe(this,XEe)[XEe].slice()}get chains(){return ZEe(this,eke)[eke].slice()}get features(){return ZEe(this,tke)[tke].slice()}get label(){return ZEe(this,nke)[nke]}get icon(){return ZEe(this,rke)[rke]}constructor({address:e,publicKey:t,label:n,icon:r}){Object.defineProperty(this,QEe,{writable:!0,value:void 0}),Object.defineProperty(this,XEe,{writable:!0,value:void 0}),Object.defineProperty(this,eke,{writable:!0,value:void 0}),Object.defineProperty(this,tke,{writable:!0,value:void 0}),Object.defineProperty(this,nke,{writable:!0,value:void 0}),Object.defineProperty(this,rke,{writable:!0,value:void 0}),ZEe(this,QEe)[QEe]=e,ZEe(this,XEe)[XEe]=t,ZEe(this,eke)[eke]=tie,ZEe(this,tke)[tke]=["solana:signAndSendTransaction","solana:signTransaction","solana:signMessage"],ZEe(this,nke)[nke]=n,ZEe(this,rke)[rke]=r}}function ske(e){if("string"==typeof e)return zw.tw.decode(e);if(e instanceof Uint8Array)return e;let t=e.signature;return"string"==typeof t?zw.tw.decode(t):t}function oke(e){if("string"==typeof e){try{return zw.tw.decode(e)}catch{}return zw.K3.decode(e)}if(e instanceof Uint8Array)return e;let t=e.transaction;if("string"==typeof t){try{return zw.tw.decode(t)}catch{}return zw.K3.decode(t)}return t}function ake(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw TypeError("attempted to use private field on non-instance");return e}var cke=0;function lke(e){return"__private_"+cke+++"_"+e}let uke="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",dke="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1";var hke=lke("_listeners"),fke=lke("_version"),pke=lke("_name"),gke=lke("_icon"),mke=lke("_provider"),yke=lke("_accounts"),wke=lke("_privyAppName"),bke=lke("_walletConnectCloudProjectId"),vke=lke("_walletEntry"),xke=lke("_onDisplayUriCallback"),Eke=lke("_providerEventListeners"),kke=lke("_on"),_ke=lke("_emit"),Cke=lke("_off"),Ske=lke("_connected"),Ike=lke("_disconnected"),Ake=lke("_connect"),Tke=lke("_disconnect"),Pke=lke("_signMessage"),Oke=lke("_signAndSendTransaction"),jke=lke("_signTransaction"),Nke=lke("_getOrCreateProvider"),Rke=lke("_getOrCreateSession"),$ke=lke("_restoreSession"),Mke=lke("_addProviderEventListener"),Lke=lke("_destroySession"),Bke=lke("_makeRpcRequest"),Uke=lke("_onDisplayUri"),Dke=lke("_onSessionDelete");class Fke{get version(){return ake(this,fke)[fke]}get name(){return ake(this,pke)[pke]}get icon(){return ake(this,gke)[gke]}get chains(){return tie.slice()}get features(){return{"standard:connect":{version:"1.0.0",connect:ake(this,Ake)[Ake]},"standard:disconnect":{version:"1.0.0",disconnect:ake(this,Tke)[Tke]},"standard:events":{version:"1.0.0",on:ake(this,kke)[kke]},"solana:signAndSendTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:ake(this,Oke)[Oke]},"solana:signTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:ake(this,jke)[jke]},"solana:signMessage":{version:"1.0.0",signMessage:ake(this,Pke)[Pke]}}}get accounts(){return ake(this,yke)[yke].slice()}get isWalletConnectSolana(){return!0}async initialize({walletConnectCloudProjectId:e,privyAppName:t}){ake(this,bke)[bke]=e,ake(this,wke)[wke]=t,await ake(this,Nke)[Nke](),await ake(this,$ke)[$ke]()}setWalletEntry(e,t){ake(this,vke)[vke]=e,ake(this,xke)[xke]=t}constructor(){Object.defineProperty(this,_ke,{value:zke}),Object.defineProperty(this,Cke,{value:Wke}),Object.defineProperty(this,hke,{writable:!0,value:void 0}),Object.defineProperty(this,fke,{writable:!0,value:void 0}),Object.defineProperty(this,pke,{writable:!0,value:void 0}),Object.defineProperty(this,gke,{writable:!0,value:void 0}),Object.defineProperty(this,mke,{writable:!0,value:void 0}),Object.defineProperty(this,yke,{writable:!0,value:void 0}),Object.defineProperty(this,wke,{writable:!0,value:void 0}),Object.defineProperty(this,bke,{writable:!0,value:void 0}),Object.defineProperty(this,vke,{writable:!0,value:void 0}),Object.defineProperty(this,xke,{writable:!0,value:void 0}),Object.defineProperty(this,Eke,{writable:!0,value:void 0}),Object.defineProperty(this,kke,{writable:!0,value:void 0}),Object.defineProperty(this,Ske,{writable:!0,value:void 0}),Object.defineProperty(this,Ike,{writable:!0,value:void 0}),Object.defineProperty(this,Ake,{writable:!0,value:void 0}),Object.defineProperty(this,Tke,{writable:!0,value:void 0}),Object.defineProperty(this,Pke,{writable:!0,value:void 0}),Object.defineProperty(this,Oke,{writable:!0,value:void 0}),Object.defineProperty(this,jke,{writable:!0,value:void 0}),Object.defineProperty(this,Nke,{writable:!0,value:void 0}),Object.defineProperty(this,Rke,{writable:!0,value:void 0}),Object.defineProperty(this,$ke,{writable:!0,value:void 0}),Object.defineProperty(this,Mke,{writable:!0,value:void 0}),Object.defineProperty(this,Lke,{writable:!0,value:void 0}),Object.defineProperty(this,Bke,{writable:!0,value:void 0}),Object.defineProperty(this,Uke,{writable:!0,value:void 0}),Object.defineProperty(this,Dke,{writable:!0,value:void 0}),ake(this,hke)[hke]={},ake(this,fke)[fke]="1.0.0",ake(this,pke)[pke]="WalletConnect",ake(this,gke)[gke]=UH,ake(this,mke)[mke]=null,ake(this,yke)[yke]=[],ake(this,wke)[wke]="",ake(this,bke)[bke]="",ake(this,Eke)[Eke]=new Map,ake(this,kke)[kke]=(e,t)=>(ake(this,hke)[hke][e]?.push(t)||(ake(this,hke)[hke][e]=[t]),()=>ake(this,Cke)[Cke](e,t)),ake(this,Ske)[Ske]=e=>{ake(this,pke)[pke]=ake(this,mke)[mke]?.session?.peer?.metadata?.name||ake(this,vke)[vke]?.name||"WalletConnect",ake(this,gke)[gke]=ake(this,mke)[mke]?.session?.peer?.metadata?.icons?.[0]||ake(this,vke)[vke]?.image_url?.sm||ake(this,gke)[gke],ake(this,yke)[yke]=e.map(e=>new ike({address:e,publicKey:zw.tw.decode(e),label:ake(this,pke)[pke],icon:ake(this,gke)[gke]})),ake(this,_ke)[_ke]("change",{accounts:this.accounts})},ake(this,Ike)[Ike]=()=>{ake(this,yke)[yke]=[],ake(this,_ke)[_ke]("change",{accounts:this.accounts})},ake(this,Ake)[Ake]=async()=>(this.accounts.length||await ake(this,Rke)[Rke](),{accounts:this.accounts}),ake(this,Tke)[Tke]=async()=>{await ake(this,Lke)[Lke](),ake(this,_ke)[_ke]("change",{accounts:this.accounts})},ake(this,Pke)[Pke]=async(...e)=>{let t=[];for(let{account:n,message:r}of e){let e=zw.tw.encode(r);try{let i=await ake(this,Bke)[Bke]("solana_signMessage",{message:e,pubkey:n.address},Hke("solana:mainnet"));t.push({signedMessage:r,signature:ske(i)})}catch(i){if(i?.message?.includes("Missing or invalid")){let i=await ake(this,Bke)[Bke]("solana:signMessage",{message:e,pubkey:n.address},Hke("solana:mainnet"));t.push({signedMessage:r,signature:ske(i)})}throw i}}return t},ake(this,Oke)[Oke]=async(...e)=>{let t=[];for(let{account:n,chain:r,transaction:i,options:s}of e){let e=zw.K3.encode(i);try{let i=await ake(this,Bke)[Bke]("solana_signAndSendTransaction",{transaction:e,pubkey:n.address,sendOptions:s},Hke(r));t.push({signature:ske(i)})}catch(i){if(i?.message?.includes("Missing or invalid")){let i=await ake(this,Bke)[Bke]("solana:signAndSendTransaction",{transaction:e,pubkey:n.address,sendOptions:s},Hke(r));t.push({signature:ske(i)})}}}return t},ake(this,jke)[jke]=async(...e)=>{let t=[];for(let{account:n,chain:r,transaction:i}of e){let e=zw.K3.encode(i);try{let i=await ake(this,Bke)[Bke]("solana_signTransaction",{transaction:e,pubkey:n.address},Hke(r||"solana:mainnet"));t.push({signedTransaction:oke(i)})}catch(i){if(i?.message?.includes("Missing or invalid")){let i=await ake(this,Bke)[Bke]("solana:signTransaction",{transaction:e,pubkey:n.address},Hke(r||"solana:mainnet"));t.push({signedTransaction:oke(i)})}}}return t},ake(this,Nke)[Nke]=async()=>{if(ake(this,mke)[mke])return ake(this,mke)[mke];if(!ake(this,bke)[bke])throw Error("WalletConnect Cloud Project ID is required");return ake(this,mke)[mke]=await KEe.init({projectId:ake(this,bke)[bke],metadata:{name:ake(this,wke)[wke],description:ake(this,wke)[wke],url:window.location.origin,icons:[]},relayUrl:"wss://relay.walletconnect.com",telemetryEnabled:!1}),ake(this,Mke)[Mke]("display_uri",ake(this,Uke)[Uke]),ake(this,Mke)[Mke]("session_delete",ake(this,Dke)[Dke]),ake(this,Mke)[Mke]("session_ping",()=>{}),ake(this,Mke)[Mke]("session_event",()=>{}),ake(this,Mke)[Mke]("session_update",()=>{}),ake(this,mke)[mke]},ake(this,Rke)[Rke]=async()=>{if(!ake(this,mke)[mke])throw Error("WalletConnectSolana: Failed to get or create session. Provider not initialized");if(ake(this,mke)[mke].session)return ake(this,mke)[mke].session;let e=await ake(this,mke)[mke].connect({optionalNamespaces:{solana:{chains:[uke,dke],methods:["solana_signMessage","solana_signTransaction","solana_signAndSendTransaction"],events:[]}}});if(!e)throw Error("WalletConnectSolana: Failed to create new session");return ake(this,Ske)[Ske](qke(e)),e},ake(this,$ke)[$ke]=async()=>{let e=ake(this,mke)[mke]?.session;if(e){if(!e.namespaces?.solana)return await(ake(this,mke)[mke]?.disconnect().catch(e=>console.error("WalletConnectSolana: Error disconnecting session",e))),void(ake(this,mke)[mke].session=void 0);ake(this,Ske)[Ske](qke(e))}},ake(this,Mke)[Mke]=(e,t)=>{let n=ake(this,Eke)[Eke].get(e);n&&(ake(this,mke)[mke]?.off(e,n),ake(this,Eke)[Eke].delete(e)),ake(this,mke)[mke]?.on(e,t),ake(this,Eke)[Eke].set(e,t)},ake(this,Lke)[Lke]=async()=>{try{if(ake(this,mke)[mke]?.session&&await(ake(this,mke)[mke]?.disconnect().catch(e=>console.error("WalletConnectSolana: Error disconnecting session",e))),ake(this,mke)[mke]?.client){let e=ake(this,mke)[mke].client.proposal.getAll();await Promise.allSettled(e.map(e=>ake(this,mke)[mke]?.client.proposal.delete(e.id,{code:6e3,message:"User disconnected"})));let t=ake(this,mke)[mke].client.pairing.getAll();await Promise.allSettled(t.map(e=>ake(this,mke)[mke]?.client.pairing.delete(e.topic,{code:6e3,message:"User disconnected"})))}ake(this,Ike)[Ike]()}catch(e){console.error("WalletConnectSolana: Error destroying session",e)}},ake(this,Bke)[Bke]=async(e,t,n)=>{try{return await ake(this,mke)[mke].request({method:e,params:t},n)}catch(t){if(console.error(`WalletConnectSolana: RPC Error - ${e}:`,t),t?.message?.includes("without any listeners")&&t.result)return t.result;if(t?.message?.includes("session topic does not exist in keychain"))throw Error("WalletConnectSolana: Wallet connection lost. Please reconnect.");throw t}},ake(this,Uke)[Uke]=e=>{null==ake(this,xke)[xke]||ake(this,xke)[xke].call(this,{native:e,universal:void 0})},ake(this,Dke)[Dke]=()=>{ake(this,Ike)[Ike]()}}}function zke(e,...t){ake(this,hke)[hke][e]?.forEach(e=>e.apply(null,t))}function Wke(e,t){ake(this,hke)[hke][e]=ake(this,hke)[hke][e]?.filter(e=>t!==e)}function qke(e){return e.namespaces.solana.accounts.reduce((e,t)=>{let n=t.split(":").at(-1);return e.includes(n)||e.push(n),e},[])}function Hke(e){switch(e){case"solana:mainnet":return uke;case"solana:devnet":return dke;default:return e}}function Vke(e){return JSON.parse(function(e){const t=[];let n=!1;for(let r=0;r<e.length;r++){let i=!1;if("\\"===e[r]&&(t.push(e[r++]),i=!i),'"'!==e[r]){if(!n){const n=Kke(e,r);if(n?.length){r+=n.length-1,n.match(/\.|[eE]-/)?t.push(n):t.push(Gke(n));continue}}t.push(e[r])}else t.push(e[r]),i||(n=!n)}return t.join("")}(e),(e,t)=>function(e){return!!e&&"object"==typeof e&&"$n"in e&&"string"==typeof e.$n}(t)?function({$n:e}){if(e.match(/[eE]/)){const[t,n]=e.split(/[eE]/);return BigInt(t)*BigInt(10)**BigInt(n)}return BigInt(e)}(t):t)}function Kke(e,t){if(!e[t]?.match(/[-\d]/))return null;const n=e.slice(t).match(/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/);return n?n[0]:null}function Gke(e){return`{"$n":"${e}"}`}var Zke=0n;function Yke(){const e=Zke;return Zke++,e.toString()}function Jke(e){return{id:Yke(),jsonrpc:"2.0",method:e.methodName,params:e.params}}function Qke(e,t){return function(e){return e.replace(/\{\s*"\$n"\s*:\s*"(-?\d+)"\s*\}/g,"$1")}(JSON.stringify(e,(e,t)=>"bigint"==typeof t?function(e){return{$n:`${e}`}}(t):t,t))}function Xke(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)&&"jsonrpc"in e&&"2.0"===e.jsonrpc&&"method"in e&&"string"==typeof e.method&&"params"in e}function e_e(e){return"bigint"==typeof e?Number(e):e}var t_e={};function n_e(e){return function t(n,r){if(Array.isArray(n))return n.map((e,n)=>{const i={...r,keyPath:[...r.keyPath,n]};return t(e,i)});if("object"==typeof n&&null!==n){const e={};for(const i in n){if(!Object.prototype.hasOwnProperty.call(n,i))continue;const s={...r,keyPath:[...r.keyPath,i]};e[i]=t(n[i],s)}return e}return e.reduce((e,t)=>t(e,r),n)}}function r_e(e,t){return n=>{const r=n_e(e);return Object.freeze({...n,params:r(n.params,t)})}}function i_e({commitmentPropertyName:e,params:t,optionsObjectPositionInParams:n,overrideCommitment:r}){const i=t[n];if(void 0===i||i&&"object"==typeof i&&!Array.isArray(i))if(i&&e in i){if(!i[e]||"finalized"===i[e]){const r=[...t],{[e]:s,...o}=i;return Object.keys(o).length>0?r[n]=o:n===r.length-1?r.length--:r[n]=void 0,r}}else if("finalized"!==r){const s=[...t];return s[n]={...i,[e]:r},s}return t}function s_e(e){return(t,{keyPath:n})=>("bigint"==typeof t&&e&&(t>Number.MAX_SAFE_INTEGER||t<-Number.MAX_SAFE_INTEGER)&&e(n,t),t)}var o_e={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function a_e(e){const t=e?.onIntegerOverflow;return n=>{return nre(n,t?(r=t,e=>r_e([s_e((...t)=>r(e,...t))],{keyPath:[]})(e)):e=>e,r_e([e_e],{keyPath:[]}),function({defaultCommitment:e,optionsObjectPositionByMethod:t}){return n=>{const{params:r,methodName:i}=n;if(!Array.isArray(r))return n;const s=t[i];return null==s?n:Object.freeze({methodName:i,params:i_e({commitmentPropertyName:"sendTransaction"===i?"preflightCommitment":"commitment",optionsObjectPositionInParams:s,overrideCommitment:e,params:r})})}}({defaultCommitment:e?.defaultCommitment,optionsObjectPositionByMethod:o_e}));var r}}function c_e(e){return function(t,{keyPath:n}){return"number"==typeof t&&Number.isInteger(t)||"bigint"==typeof t?function(e,t){return t.some(t=>{if(t.length!==e.length)return!1;for(let n=e.length-1;n>=0;n--){const r=e[n],i=t[n];if(i!==r&&(i!==t_e||"number"!=typeof r))return!1}return!0})}(n,e)?Number(t):BigInt(t):t}}function l_e(e){return t=[c_e(e)],n={keyPath:[]},e=>n_e(t)(e,n);var t,n}function u_e(e){return(t,n)=>{const r=n.methodName,i=e?.allowedNumericKeyPaths&&r?e.allowedNumericKeyPaths[r]:void 0;return nre(t,e=>(e=>{const t=e;if("error"in t)throw Hte(t.error);return t})(e),e=>e.result,e=>l_e(i??[])(e,n))}}var d_e,h_e=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",t_e,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",t_e,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",t_e,"state","preUpdateAverageRate"],["data","parsed","info","extensions",t_e,"state","currentRate"]],f_e=[...h_e,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",t_e,"confirmationCount"]],p_e=[["index"],["instructions",t_e,"accounts",t_e],["instructions",t_e,"programIdIndex"],["instructions",t_e,"stackHeight"]],g_e=[["addressTableLookups",t_e,"writableIndexes",t_e],["addressTableLookups",t_e,"readonlyIndexes",t_e],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",t_e,"accounts",t_e],["instructions",t_e,"programIdIndex"],["instructions",t_e,"stackHeight"]];function m_e(e){return function(e){return new Proxy({},{defineProperty:()=>!1,deleteProperty:()=>!1,get(...t){const[n,r]=t,i=r.toString();return function(...t){const n=Object.freeze({methodName:i,params:t}),r=e?.requestTransformer?e?.requestTransformer(n):n;return Object.freeze({execute:async({signal:t,transport:n})=>{const i=Jke(r),s=await n({payload:i,signal:t});return e?.responseTransformer?e.responseTransformer(s,r):s}})}}})}({requestTransformer:a_e(e),responseTransformer:u_e({allowedNumericKeyPaths:(d_e||(d_e={getAccountInfo:f_e.map(e=>["value",...e]),getBlock:[["transactions",t_e,"meta","preTokenBalances",t_e,"accountIndex"],["transactions",t_e,"meta","preTokenBalances",t_e,"uiTokenAmount","decimals"],["transactions",t_e,"meta","postTokenBalances",t_e,"accountIndex"],["transactions",t_e,"meta","postTokenBalances",t_e,"uiTokenAmount","decimals"],["transactions",t_e,"meta","rewards",t_e,"commission"],...p_e.map(e=>["transactions",t_e,"meta","innerInstructions",t_e,...e]),...g_e.map(e=>["transactions",t_e,"transaction","message",...e]),["rewards",t_e,"commission"]],getClusterNodes:[[t_e,"featureSet"],[t_e,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[t_e,"commission"]],getMultipleAccounts:f_e.map(e=>["value",t_e,...e]),getProgramAccounts:f_e.flatMap(e=>[["value",t_e,"account",...e],[t_e,"account",...e]]),getRecentPerformanceSamples:[[t_e,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:h_e.map(e=>["value",t_e,"account",...e]),getTokenAccountsByOwner:h_e.map(e=>["value",t_e,"account",...e]),getTokenLargestAccounts:[["value",t_e,"decimals"],["value",t_e,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",t_e,"accountIndex"],["meta","preTokenBalances",t_e,"uiTokenAmount","decimals"],["meta","postTokenBalances",t_e,"accountIndex"],["meta","postTokenBalances",t_e,"uiTokenAmount","decimals"],["meta","rewards",t_e,"commission"],...p_e.map(e=>["meta","innerInstructions",t_e,...e]),...g_e.map(e=>["transaction","message",...e])],getVersion:[["feature-set"]],getVoteAccounts:[["current",t_e,"commission"],["delinquent",t_e,"commission"]],simulateTransaction:[["value","loadedAccountsDataSize"],...f_e.map(e=>["value","accounts",t_e,...e]),...p_e.map(e=>["value","innerInstructions",t_e,...e])]}),d_e)})})}var y_e=["getAccountInfo","getBalance","getBlock","getBlockCommitment","getBlockHeight","getBlockProduction","getBlocks","getBlocksWithLimit","getBlockTime","getClusterNodes","getEpochInfo","getEpochSchedule","getFeeForMessage","getFirstAvailableBlock","getGenesisHash","getHealth","getHighestSnapshotSlot","getIdentity","getInflationGovernor","getInflationRate","getInflationReward","getLargestAccounts","getLatestBlockhash","getLeaderSchedule","getMaxRetransmitSlot","getMaxShredInsertSlot","getMinimumBalanceForRentExemption","getMultipleAccounts","getProgramAccounts","getRecentPerformanceSamples","getRecentPrioritizationFees","getSignaturesForAddress","getSignatureStatuses","getSlot","getSlotLeader","getSlotLeaders","getStakeMinimumDelegation","getSupply","getTokenAccountBalance","getTokenAccountsByDelegate","getTokenAccountsByOwner","getTokenLargestAccounts","getTokenSupply","getTransaction","getTransactionCount","getVersion","getVoteAccounts","index","isBlockhashValid","minimumLedgerSlot","requestAirdrop","sendTransaction","simulateTransaction"];function w_e(e){return Xke(e)&&y_e.includes(e.method)}var b_e=Object.prototype.toString,v_e=Object.keys||function(e){const t=[];for(const n in e)t.push(n);return t};function x_e(e,t){let n,r,i,s,o,a,c;if(!0===e)return"true";if(!1===e)return"false";switch(typeof e){case"object":if(null===e)return null;if("toJSON"in e&&"function"==typeof e.toJSON)return x_e(e.toJSON(),t);if(c=b_e.call(e),"[object Array]"===c){for(i="[",r=e.length-1,n=0;n<r;n++)i+=x_e(e[n],!0)+",";return r>-1&&(i+=x_e(e[n],!0)),i+"]"}if("[object Object]"===c){for(s=v_e(e).sort(),r=s.length,i="",n=0;n<r;)o=s[n],a=x_e(e[o],!1),void 0!==a&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),n++;return"{"+i+"}"}return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"bigint":return`${e.toString()}n`;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}function E_e(e){const t=x_e(e,!1);if(void 0!==t)return""+t}function k_e(e,t,n){let r="";if("number"==typeof t[0]){const e=t[0]+1,n=e%10,i=e%100;r=1==n&&11!=i?e+"st":2==n&&12!=i?e+"nd":3==n&&13!=i?e+"rd":e+"th"}else r=`\`${t[0].toString()}\``;const i=t.length>1?t.slice(1).map(e=>"number"==typeof e?`[${e}]`:e).join("."):void 0,s=new Bte(Ote,{argumentLabel:r,keyPath:t,methodName:e,optionalPathLabel:i?` at path \`${i}\``:"",value:n,...void 0!==i?{path:i}:void 0});return Ute(s,k_e),s}var __e,C_e={defaultCommitment:"confirmed",onIntegerOverflow(e,t,n){throw k_e(e.methodName,t,n)}},S_e=globalThis.AbortController;function I_e(e){return Xke(e)?E_e([e.method,e.params]):void 0}function A_e(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}function T_e(e){return nre(function(e){return function(e){const{fromJson:t,headers:n,toJson:r,url:i}=e,s=n&&function(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}(n);return async function({payload:e,signal:n}){const o=r?r(e):JSON.stringify(e),a={body:o,headers:{...s,accept:"application/json","content-length":o.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:n},c=await fetch(i,a);if(!c.ok)throw new Bte(8100002,{headers:c.headers,message:c.statusText,statusCode:c.status});return t?t(await c.text(),e):await c.json()}}({...e,fromJson:(e,t)=>w_e(t)?Vke(e):JSON.parse(e),toJson:e=>w_e(e)?Qke(e):JSON.stringify(e)})}({...e,headers:{...e.headers?A_e(e.headers):void 0,"solana-client":"js/3.0.3"}}),e=>function(e,t){let n;return async function(r){const{payload:i,signal:s}=r,o=t(i);if(void 0===o)return await e(r);if(n||(queueMicrotask(()=>{n=void 0}),n={}),null==n[o]){const t=new S_e,i=(async()=>{try{return await e({...r,signal:t.signal})}catch(e){if(e===(__e||={}))return;throw e}})();n[o]={abortController:t,numConsumers:0,responsePromise:i}}const a=n[o];if(a.numConsumers++,s){const e=a.responsePromise;return await new Promise((t,n)=>{const r=e=>{s.removeEventListener("abort",r),a.numConsumers-=1,queueMicrotask(()=>{0===a.numConsumers&&a.abortController.abort(__e||={})}),n(e.target.reason)};s.addEventListener("abort",r),e.then(t).catch(n).finally(()=>{s.removeEventListener("abort",r)})})}return await a.responsePromise}}(e,I_e))}function P_e(e,t){return n=T_e({url:e,...t}),function(e){return new Proxy(e.api,{defineProperty:()=>!1,deleteProperty:()=>!1,get(t,n,r){if("then"!==n)return function(...i){const s=n.toString(),o=Reflect.get(t,s,r);if(!o)throw new Bte(8100003,{method:s,params:i});const a=o(...i);return function({transport:e},t){return{send:async n=>await t.execute({signal:n?.abortSignal,transport:e})}}(e,a)}}})}({api:m_e(C_e),transport:n});var n}var O_e,j_e=globalThis.AbortController,N_e=globalThis.EventTarget;function R_e(){return Symbol(void 0)}var $_e=Symbol();function M_e(e){return{on(t,n,r){function i(e){if(e instanceof CustomEvent){const t=e.detail;n(t)}else n()}return e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i)}}}}function L_e(e){return null!==e&&("object"==typeof e||"function"==typeof e)}function B_e(e){const t=new Set,n={deferreds:t,settled:!1};return Promise.resolve(e).then(e=>{for(const{resolve:n}of t)n(e);t.clear(),n.settled=!0},e=>{for(const{reject:n}of t)n(e);t.clear(),n.settled=!0}),n}var U_e=new WeakMap;var D_e=globalThis.AbortController,F_e=new WeakMap;function z_e(e,t,n){if(void 0===n)return;const r=function(e){let t=F_e.get(e);return t||F_e.set(e,t={}),t}(t);!r[n]&&e>0&&(r[n]=0);const i=e+r[n];return i<=0?delete r[n]:r[n]=i,i}var W_e,q_e=new WeakMap;function H_e(e,t,n){let r=q_e.get(e);r||q_e.set(e,r=new WeakMap);const i=n??e;let s=r.get(i);return s||r.set(i,s=function(e){let r;const i=new N_e,s=M_e(i);return{...s,on(o,a,c){if(!r){const s=e.on("message",e=>{const r=(e=>{const r=e;if(!("method"in r))return;const i=n?n(r.params.result,t):r.params.result;return[`notification:${r.params.subscription}`,i]})(e);if(!r)return;const[s,o]=r;i.dispatchEvent(new CustomEvent(s,{detail:o}))});r={dispose:s,numSubscribers:0}}r.numSubscribers++;const l=s.on(o,a,c);let u=!0;function d(){u&&(u=!1,c?.signal.removeEventListener("abort",d),r.numSubscribers--,0===r.numSubscribers&&(r.dispose(),r=void 0),l())}return c?.signal.addEventListener("abort",d),d}}}(e)),s}async function V_e({channel:e,responseTransformer:t,signal:n,subscribeRequest:r,unsubscribeMethodName:i}){let s;e.on("error",()=>{s=void 0,F_e.delete(e)},{signal:n});const o=new Promise((t,r)=>{function o(){if(0===function(e,t){return z_e(-1,e,t)}(e,s)){const t=Jke({methodName:i,params:[s]});s=void 0,e.send(t).catch(()=>{})}r(this.reason)}n.aborted?o.call(n):n.addEventListener("abort",o)}),a=Jke(r);await e.send(a);const c=new Promise((t,r)=>{const i=new D_e;n.addEventListener("abort",i.abort.bind(i));const s={signal:i.signal};e.on("error",e=>{i.abort(),r(e)},s),e.on("message",e=>{e&&"object"==typeof e&&"id"in e&&e.id===a.id&&(i.abort(),"error"in e?r(Hte(e.error)):t(e.result))},s)});if(s=await async function(e){let t;const n=new Promise((n,r)=>{t={reject:r,resolve:n};for(const i of e){if(!L_e(i)){Promise.resolve(i).then(n,r);continue}let e=U_e.get(i);void 0===e?(e=B_e(i),e.deferreds.add(t),U_e.set(i,e)):e.settled?Promise.resolve(i).then(n,r):e.deferreds.add(t)}});return await n.finally(()=>{for(const n of e)L_e(n)&&U_e.get(n).deferreds.delete(t)})}([o,c]),null==s)throw new Bte(8190001);!function(e,t){z_e(1,e,t)}(e,s);const l=H_e(e,r,t),u=`notification:${s}`;return{on(t,n,r){switch(t){case"notification":return l.on(u,n,r);case"error":return e.on("error",n,r);default:throw new Bte(9900004,{channelName:t,supportedChannelNames:["notification","error"]})}}}}function K_e(e){return function(e){const t=a_e(e),n=function(e){return(t,n)=>{const r=n.methodName,i=e?.allowedNumericKeyPaths&&r?e.allowedNumericKeyPaths[r]:void 0;return nre(t,e=>l_e(i??[])(e,n))}}({allowedNumericKeyPaths:(W_e||(W_e={accountNotifications:f_e.map(e=>["value",...e]),blockNotifications:[["value","block","transactions",t_e,"meta","preTokenBalances",t_e,"accountIndex"],["value","block","transactions",t_e,"meta","preTokenBalances",t_e,"uiTokenAmount","decimals"],["value","block","transactions",t_e,"meta","postTokenBalances",t_e,"accountIndex"],["value","block","transactions",t_e,"meta","postTokenBalances",t_e,"uiTokenAmount","decimals"],["value","block","transactions",t_e,"meta","rewards",t_e,"commission"],["value","block","transactions",t_e,"meta","innerInstructions",t_e,"index"],["value","block","transactions",t_e,"meta","innerInstructions",t_e,"instructions",t_e,"programIdIndex"],["value","block","transactions",t_e,"meta","innerInstructions",t_e,"instructions",t_e,"accounts",t_e],["value","block","transactions",t_e,"transaction","message","addressTableLookups",t_e,"writableIndexes",t_e],["value","block","transactions",t_e,"transaction","message","addressTableLookups",t_e,"readonlyIndexes",t_e],["value","block","transactions",t_e,"transaction","message","instructions",t_e,"programIdIndex"],["value","block","transactions",t_e,"transaction","message","instructions",t_e,"accounts",t_e],["value","block","transactions",t_e,"transaction","message","header","numReadonlySignedAccounts"],["value","block","transactions",t_e,"transaction","message","header","numReadonlyUnsignedAccounts"],["value","block","transactions",t_e,"transaction","message","header","numRequiredSignatures"],["value","block","rewards",t_e,"commission"]],programNotifications:f_e.flatMap(e=>[["value",t_e,"account",...e],[t_e,"account",...e]])}),W_e)});return function(e){return new Proxy({},{defineProperty:()=>!1,deleteProperty:()=>!1,get(...t){const[n,r]=t,i=r.toString();return function(...t){const n={methodName:i,params:t},r=e.requestTransformer?e.requestTransformer(n):n;return{execute:t=>e.planExecutor({...t,request:r}),request:r}}}})}({planExecutor:({request:e,...t})=>V_e({...t,responseTransformer:n,subscribeRequest:{...e,methodName:e.methodName.replace(/Notifications$/,"Subscribe")},unsubscribeMethodName:e.methodName.replace(/Notifications$/,"Unsubscribe")}),requestTransformer:t})}(e)}var G_e=globalThis.EventTarget,Z_e=globalThis.WebSocket;function Y_e(e,t,n){let r="";if("number"==typeof t[0]){const e=t[0]+1,n=e%10,i=e%100;r=1==n&&11!=i?e+"st":2==n&&12!=i?e+"nd":3==n&&13!=i?e+"rd":e+"th"}else r=`\`${t[0].toString()}\``;const i=t.length>1?t.slice(1).map(e=>"number"==typeof e?`[${e}]`:e).join("."):void 0,s=new Bte(Ote,{argumentLabel:r,keyPath:t,methodName:e,optionalPathLabel:i?` at path \`${i}\``:"",value:n,...void 0!==i?{path:i}:void 0});return Ute(s,Y_e),s}var J_e={defaultCommitment:"confirmed",onIntegerOverflow(e,t,n){throw Y_e(e.methodName,t,n)}},Q_e=globalThis.AbortController,X_e={jsonrpc:"2.0",method:"ping"};function eCe(e){return nre(e,e=>function(e,t){return Object.freeze({...e,on:(n,r,i)=>"message"!==n?e.on(n,r,i):e.on("message",e=>r(t(e)),i)})}(e,Vke),e=>function(e,t){return Object.freeze({...e,send:n=>e.send(t(n))})}(e,Qke))}function tCe(e){return function(e){if(!1===/^wss?:/i.test(e.url)){const t=e.url.match(/^([^:]+):/);throw new DOMException(t?`Failed to construct 'WebSocket': The URL's scheme must be either 'ws' or 'wss'. '${t[1]}:' is not allowed.`:`Failed to construct 'WebSocket': The URL '${e.url}' is invalid.`)}const{intervalMs:t,...n}=e;return function(e,{maxSubscriptionsPerChannel:t,minChannels:n}){const r={entries:[],freeChannelIndex:-1};function i(){if(r.entries.length<n)return void(r.freeChannelIndex=-1);let e;for(let n=0;n<r.entries.length;n++){const i=(r.freeChannelIndex+n+2)%r.entries.length,s=r.entries[i];s.subscriptionCount<t&&(!e||e.subscriptionCount>=s.subscriptionCount)&&(e={poolIndex:i,subscriptionCount:s.subscriptionCount})}r.freeChannelIndex=e?.poolIndex??-1}return function({abortSignal:t}){let n;function s(){const e=r.entries.findIndex(e=>e===n);r.entries.splice(e,1),n.dispose(),i()}if(-1===r.freeChannelIndex){const t=new Q_e,i=e({abortSignal:t.signal});i.then(e=>{e.on("error",s,{signal:t.signal})}).catch(s),n={channel:i,dispose(){t.abort()},subscriptionCount:0},r.entries.push(n)}else n=r.entries[r.freeChannelIndex];return n.subscriptionCount++,t.addEventListener("abort",function(){n.subscriptionCount--,0===n.subscriptionCount?s():-1!==r.freeChannelIndex&&(r.freeChannelIndex--,i())}),i(),n.channel}}(({abortSignal:r})=>function({sendBufferHighWatermark:e,signal:t,url:n}){if(t.aborted)return Promise.reject(t.reason);let r,i=!1;const s=new Set;function o(){s.forEach(e=>{e()}),s.clear()}function a(){o(),i||p(t.reason),f.readyState!==Z_e.CLOSED&&f.readyState!==Z_e.CLOSING&&f.close(1e3)}function c(e){if(!t.aborted&&!i){const t=new Bte(Rte,{errorEvent:e});p(t),u.dispatchEvent(new CustomEvent("error",{detail:t}))}}function l(e){t.aborted||u.dispatchEvent(new CustomEvent("message",{detail:e.data}))}const u=new G_e,d=M_e(u);function h(){i=!0,g({...d,async send(t){if(f.readyState!==Z_e.OPEN)throw new Bte(Nte);if(!r&&f.bufferedAmount>e){let t;const n=new Promise((n,i)=>{const s=setInterval(()=>{f.readyState===Z_e.OPEN&&f.bufferedAmount>e||(clearInterval(s),r=void 0,n())},16);t=()=>{r=void 0,clearInterval(s),i(new Bte(jte))}});r={onCancel:t,promise:n}}r&&(!ArrayBuffer.isView(t)||t instanceof DataView||(t=new(0,t.constructor)(t)),await r.promise),f.send(t)}})}const f=new Z_e(n);let p,g;return t.addEventListener("abort",a),f.addEventListener("close",function e(n){o(),r?.onCancel(),t.removeEventListener("abort",a),f.removeEventListener("close",e),f.removeEventListener("error",c),f.removeEventListener("message",l),f.removeEventListener("open",h),t.aborted||n.wasClean&&1e3===n.code||u.dispatchEvent(new CustomEvent("error",{detail:new Bte(Nte,{cause:n})}))}),f.addEventListener("error",c),f.addEventListener("message",l),f.addEventListener("open",h),new Promise((e,t)=>{p=t,g=e})}({...n,sendBufferHighWatermark:e.sendBufferHighWatermark??131072,signal:r}).then(e.jsonSerializer).then(e=>function({abortSignal:e,channel:t,intervalMs:n}){let r;function i(){t.send(X_e).catch(e=>{Lte(e,Nte)&&o.abort()})}function s(){clearInterval(r),r=setInterval(i,n)}const o=new Q_e;return o.signal.addEventListener("abort",()=>{clearInterval(r)}),e.addEventListener("abort",()=>{o.abort()}),t.on("error",()=>{o.abort()},{signal:o.signal}),t.on("message",s,{signal:o.signal}),globalThis.navigator.onLine&&s(),globalThis.addEventListener("offline",function(){clearInterval(r)},{signal:o.signal}),globalThis.addEventListener("online",function(){i(),s()},{signal:o.signal}),{...t,send:(...e)=>(o.signal.aborted||s(),t.send(...e))}}({abortSignal:r,channel:e,intervalMs:t??5e3})),{maxSubscriptionsPerChannel:e.maxSubscriptionsPerChannel??100,minChannels:e.minChannels??1})}({...e,jsonSerializer:eCe})}function nCe(e,t){return n=function({createChannel:e}){return nre(function(e){return async({execute:t,signal:n})=>{const r=await e({abortSignal:n});return await t({channel:r,signal:n})}}(e),e=>function(e){const t=new Map;return function(n){const{request:r,signal:i}=n,s=E_e([r.methodName,r.params]);let o=t.get(s);if(!o){const r=new Q_e,i=e({...n,signal:r.signal});i.then(e=>{e.on("error",()=>{t.delete(s),r.abort()},{signal:r.signal})}).catch(()=>{}),t.set(s,o={abortController:r,dataPublisherPromise:i,numSubscribers:0})}return o.numSubscribers++,i.addEventListener("abort",()=>{o.numSubscribers--,0===o.numSubscribers&&queueMicrotask(()=>{0===o.numSubscribers&&(t.delete(s),o.abortController.abort())})},{signal:o.abortController.signal}),o.dataPublisherPromise}}(e))}({createChannel:tCe({...t,url:e})}),r={api:K_e(J_e),transport:n},new Proxy(r.api,{defineProperty:()=>!1,deleteProperty:()=>!1,get(e,t,n){if("then"!==t)return function(...i){const s=t.toString(),o=Reflect.get(e,s,n);if(!o)throw new Bte(819e4,{notificationName:s});const a=o(...i);return c=r.transport,l=a,{subscribe:async({abortSignal:e})=>function({abortSignal:e,dataChannelName:t,dataPublisher:n,errorChannelName:r}){const i=new Map;function s(e){for(const[t,n]of i.entries())n.__hasPolled?(i.delete(t),n.onError(e)):n.publishQueue.push({__type:1,err:e})}const o=new j_e;e.addEventListener("abort",()=>{o.abort(),s(O_e||=R_e())});const a={signal:o.signal};let c=$_e;return n.on(r,e=>{c===$_e&&(c=e,o.abort(),s(e))},a),n.on(t,e=>{i.forEach((t,n)=>{if(t.__hasPolled){const{onData:r}=t;i.set(n,{__hasPolled:!1,publishQueue:[]}),r(e)}else t.publishQueue.push({__type:0,data:e})})},a),{async*[Symbol.asyncIterator](){if(e.aborted)return;if(c!==$_e)throw c;const t=Symbol();i.set(t,{__hasPolled:!1,publishQueue:[]});try{for(;;){const e=i.get(t);if(!e)throw new Bte(99e5);if(e.__hasPolled)throw new Bte(9900001);const n=e.publishQueue;try{if(n.length){e.publishQueue=[];for(const e of n){if(0!==e.__type)throw e.err;yield e.data}}else yield await new Promise((e,n)=>{i.set(t,{__hasPolled:!0,onData:e,onError:n})})}catch(e){if(e===(O_e||=R_e()))return;throw e}}}finally{i.delete(t)}}}}({abortSignal:e,dataChannelName:"notification",dataPublisher:await c({signal:e,...l}),errorChannelName:"error"})};var c,l}}});var n,r}const rCe={google:{id:"google",label:"Continue with Google",hint:"Opens a Google pop-up so you can stay in the game tab."},twitter:{id:"twitter",label:"Continue with X",hint:"Opens an X (Twitter) pop-up so you never leave the game."}},iCe=e=>{const t="string"==typeof e?e.toLowerCase():"";return rCe[t]||{id:t||"oauth",label:"Continue with social login",hint:"Opens a secure pop-up so you can keep the game running."}},sCe="inline-bridge-v1",oCe="pg:privy:bridge:defined",aCe="pg-privy-root",cCe="pg-privy-bridge-styles",lCe="undefined"!=typeof window?window:void 0,uCe={container:null,stylesInjected:!1,root:null,controller:null,waiters:[],options:null,defaultChain:"solana:mainnet",lastSnapshot:null,pendingWindowRef:null,devMode:!1,devUser:null};function dCe(e){const t=(e=>{let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return Math.abs(t)})(e),n=t%1e4,r=t%100;return{id:`dev_${e}_${t}`,username:`dev_${e}`,displayName:e.charAt(0).toUpperCase()+e.slice(1),wallet:{address:`DevWallet${n.toString().padStart(44,"0")}`,chainType:"solana",connected:!0},linkedAccounts:[{type:"twitter",subject:`dev_${e}`,username:`dev_twitter_${e}${r}`}],isFakeDevUser:!0}}const hCe={google:function(){return(0,ri.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,ri.jsx)("path",{fill:"#EA4335",d:"M12 10.2v3.6h5.1c-.2 1.2-.8 2.2-1.7 2.9l2.8 2.2c1.6-1.5 2.5-3.7 2.5-6 0-.6-.1-1.2-.2-1.7H12z"}),(0,ri.jsx)("path",{fill:"#34A853",d:"M6.5 14.2c-.3-.9-.5-1.8-.5-2.8s.2-1.9.5-2.8L3.7 6.4C2.9 7.9 2.4 9.4 2.4 11c0 1.6.5 3.1 1.3 4.6l2.8-1.4z"}),(0,ri.jsx)("path",{fill:"#4A90E2",d:"M12 4.8c1.1 0 2.2.4 3 1.1l2.3-2.3C16.3 2.2 14.3 1.4 12 1.4 8.7 1.4 5.8 3.3 4.2 6.4l2.8 2.2c.7-2 2.6-3.8 5-3.8z"}),(0,ri.jsx)("path",{fill:"#FBBC05",d:"M12 21.6c2.3 0 4.3-.8 5.7-2.3l-2.8-2.2c-.7.5-1.7.8-2.9.8-2.4 0-4.3-1.6-5-3.8L4.2 15c1.6 3.1 4.5 5 7.8 5z"})]})},twitter:function(){return(0,ri.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,ri.jsx)("path",{fill:"currentColor",d:"M20.5 3h-2.9l-4 5.1L10.2 3H3.5l6.8 9.4L3.3 21h2.9l4.6-5.9 3.7 5.9h6.7l-7.2-9.9L20.5 3z"})})}},fCe=function(){const e=new Map;return{on(t,n){if("function"!=typeof n)return()=>{};e.has(t)||e.set(t,new Set);const r=e.get(t);return r.add(n),()=>{r.delete(n),0===r.size&&e.delete(t)}},off(t,n){if(!e.has(t))return;const r=e.get(t);r.delete(n),0===r.size&&e.delete(t)},emit(t,n){e.has(t)&&Array.from(e.get(t)).forEach(e=>{try{e(n)}catch(e){console.error("PG_PRIVY: listener error",e)}})}}}();function pCe(e){if(!e||"string"!=typeof e)return null;const t=e.trim().toLowerCase();return t.length?t:null}function gCe(e,t){const n=iCe(t||"").label;switch(e){case"popup-blocked":return`Enable pop-ups to continue with ${n}.`;case"user-canceled":case"user-cancelled":case"user_closed":return`You closed the ${n} window before we could finish. Try again when you're ready.`;case"timeout":case"oauth-timeout":return`${n} took too long to respond. Please try again.`;case"network-error":return`We couldn't reach ${n}. Check your connection and try again.`;default:return e?`Login failed (${e}).`:"Login failed. Please try again."}}function mCe(e,t){if("undefined"!=typeof window&&window.PG_PRIVY&&"function"==typeof window.PG_PRIVY.emit)try{window.PG_PRIVY.emit("error",{message:e,error:t})}catch(e){"undefined"!=typeof console&&console.error&&console.error("PG_PRIVY: failed to emit error event",e)}"undefined"!=typeof console&&console.error&&console.error(e,t)}function yCe(e,t){if("undefined"!=typeof document&&"function"==typeof document.dispatchEvent)try{document.dispatchEvent(new CustomEvent(e,{detail:t}))}catch(t){"undefined"!=typeof console&&console.warn&&console.warn("PG_PRIVY: failed to dispatch event",e,t)}}function wCe(){let e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}function bCe(){return uCe.controller?Promise.resolve(uCe.controller):new Promise(e=>{uCe.waiters.push(e)})}function vCe(e,t){return bCe().then(n=>{if(!n||"function"!=typeof n[e])throw new Error(`PG_PRIVY: Controller method '${e}' is unavailable.`);return n[e](...t)})}function xCe(e){if(!e||"object"!=typeof e)return null;const t=e.httpUrl||e.rpcUrl||e.url||e.rpc;if("string"!=typeof t||!t.length)return null;const n=e.wsUrl||e.websocketUrl||e.rpcSubscriptionsUrl||e.wssUrl,r={rpc:P_e(t)};return"string"==typeof n&&n.length&&(r.rpcSubscriptions=nCe(n,undefined)),r}function ECe(e){let{options:t,containerEl:n}=e;const r=(0,ei.useMemo)(()=>function(e){const t=e.defaultChain||e.solanaDefaultChain||"solana:mainnet";uCe.defaultChain=t;const n={},r=e.solana||{},i=r.chains||r.rpcs||{};i&&"object"==typeof i&&Object.keys(i).forEach(e=>{const t=xCe(i[e]);t&&(n[e]=t)});const s=(e,t)=>{const r=xCe(t);if(!r)return;if(!n[e])return void(n[e]=r);const i=n[e];!i.rpc&&r.rpc&&(i.rpc=r.rpc),!i.rpcSubscriptions&&r.rpcSubscriptions&&(i.rpcSubscriptions=r.rpcSubscriptions)};s(t,{httpUrl:e.solanaRpcProxyUrl||r.rpcUrl||r.httpUrl,wsUrl:e.solanaWsUrl||r.wsUrl}),s("solana:mainnet",{httpUrl:e.solanaMainnetRpcUrl||r.mainnetRpcUrl||r.mainnetHttpUrl||e.solanaRpcProxyUrl||r.rpcUrl,wsUrl:e.solanaMainnetWsUrl||r.mainnetWsUrl||r.mainnetWssUrl||e.solanaWsUrl}),s("solana:devnet",{httpUrl:e.solanaDevnetRpcUrl||r.devnetRpcUrl||r.devnetHttpUrl||"https://api.devnet.solana.com",wsUrl:e.solanaDevnetWsUrl||r.devnetWsUrl||r.devnetWssUrl||"wss://api.devnet.solana.com"}),0===Object.keys(n).length&&console.warn("PG_PRIVY: No Solana RPC configuration supplied. Privy may not function as expected.");const o={embeddedWallets:e.embeddedWallets||{solana:{createOnLogin:"users-without-wallets"}},externalWallets:e.externalWallets||{solana:{connectors:GEe(e.walletConnect||void 0)}},loginMethods:Array.isArray(e.loginMethods)&&e.loginMethods.length?e.loginMethods:["twitter","wallet"],appearance:{walletList:["detected_solana_wallets","phantom","solflare","backpack","binance","wallet_connect"],theme:"light",accentColor:"#676FFF",walletChainType:"solana-only",...e.appearance||{}},solana:{rpcs:n}};return uCe.options={...e,defaultChain:t},o}(t||{}),[t]);return(0,ri.jsx)(wte,{appId:t.appId,config:r,children:(0,ri.jsx)(SCe,{options:t,containerEl:n})})}function kCe(e){return e&&"object"==typeof e&&(Array.isArray(e.linkedAccounts)?e.linkedAccounts:[]).find(e=>!!e&&String(e.type||e.kind||e.provider||"").toLowerCase().includes("twitter"))||null}function _Ce(e){return e}function CCe(e){if(!e||!e.length)return"";const t=[0];for(let n=0;n<e.length;n+=1){let r=e[n];for(let e=0;e<t.length;e+=1)r+=t[e]<<8,t[e]=r%58,r=r/58|0;for(;r>0;)t.push(r%58),r=r/58|0}for(let n=0;n<e.length&&0===e[n];n+=1)t.push(0);return t.reverse().map(e=>"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"[e]).join("")}function SCe(e){let{options:t,containerEl:n}=e;const{ready:r,authenticated:i,user:s,login:o,logout:a,getAccessToken:c}=V4(),{wallets:l}=cse(),{signAndSendTransaction:u}={signAndSendTransaction:async function(...e){let t=[];for(let n of e)t.push(await n.wallet.signAndSendTransaction({...n,chain:n.chain||"solana:mainnet"}));return 1===e.length?t[0]:[...t]}},d=(0,ei.useMemo)(()=>function(){if("undefined"==typeof window||!window.location)return{isDev:!1,devUser:null};if("localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname)return{isDev:!1,devUser:null};const e=new URLSearchParams(window.location.search).get("devUser");return e&&"string"==typeof e&&e.trim().length>0?{isDev:!0,devUser:e.trim()}:{isDev:!1,devUser:null}}(),[]),[h,f]=(0,ei.useState)(d.isDev?{isDev:d.isDev,devUser:d.devUser,devUserData:dCe(d.devUser)}:null),p=t.defaultChain||uCe.defaultChain||"solana:mainnet",g=function(e){const t=(0,ei.useRef)([]),n=(0,ei.useCallback)(()=>{if(e)return Promise.resolve();const n=wCe();return t.current.push(n),n.promise},[e]);return(0,ei.useEffect)(()=>{e&&t.current.splice(0,t.current.length).forEach(e=>{try{e.resolve()}catch(e){console.error("PG_PRIVY: failed to resolve ready waiter",e)}})},[e]),n}(r||h&&h.isDev),m=function(e){let{ready:t,authenticated:n,user:r,getAccessToken:i,defaultChain:s}=e;const o=(0,ei.useRef)(null);return(0,ei.useCallback)(async()=>{if(!t)return{ready:t,authenticated:!1,user:null,accessToken:null,walletAddress:null,defaultChain:s};if(o.current)return o.current;const e=(async()=>{let e=null;if(n)try{e=await i()}catch(e){console.warn("PG_PRIVY: failed to fetch access token",e)}const o=n&&r&&r.wallet&&"string"==typeof r.wallet.address?r.wallet.address:null,a={ready:t,authenticated:Boolean(n),user:n?r:null,accessToken:e||null,walletAddress:o,defaultChain:s};return uCe.lastSnapshot=a,fCe.emit("auth:snapshot",a),a})();o.current=e;try{return await e}finally{o.current=null}},[t,n,r,i,s])}({ready:r||h&&h.isDev,authenticated:i||h&&h.isDev,user:s||(h?h.devUserData:null),getAccessToken:c,defaultChain:p}),y=(0,ei.useRef)([]),w=(0,ei.useRef)(!1),b=(0,ei.useRef)(null),v=(0,ei.useRef)(null),[x,E]=(0,ei.useState)({step:"idle",provider:null,message:null,error:null}),k=(0,ei.useCallback)(()=>{E({step:"idle",provider:null,message:null,error:null})},[]),{initOAuth:_}=(e=>{Ff("login",e);let t=Dq(),n=Lf(),{ready:r,user:i}=eV(),{initLoginWithHeadlessOAuth:s,loginWithHeadlessOAuth:o,oAuthState:a,setOAuthState:c,isHeadlessOAuthLoading:l}=Jd(),u=(0,ei.useCallback)(async e=>{try{if(t.enabled&&"success"!==t.status)throw new Bq(t.error,null,Ld.CAPTCHA_FAILURE);return await s(e.provider,t.token,e.disableSignup)}catch(e){throw c({status:"error",error:e}),e}},[s,t]),d=(0,ei.useCallback)(async()=>{let e=U8();try{if(!e.inProgress)throw Error("Cannot login with OAuth because no OAuth flow is in progress");let t=e.provider;if(oq(t)){if(i&&i.linkedAccounts.some(e=>e.type===t))return console.warn("User is already logged in with this OAuth provider"),i}else if(i&&t in i&&i[t])return console.warn("User is already logged in with this OAuth provider"),i;if(e.popupFlow)return}catch(e){throw c({status:"error",error:e}),e}try{return await o(e)}catch(e){throw c({status:"error",error:e}),e}finally{wq()}},[o]);return(0,ei.useEffect)(()=>{let e=U8();r&&n&&e.inProgress&&!e.withPrivyUi&&!e.popupFlow&&d().catch(()=>{})},[r,n]),{initOAuth:u,loading:l,state:a}})({onComplete:()=>{b.current=null,E(e=>"oauth"===e.step?{...e,message:"Finishing up..."}:e)},onError:e=>{const t=b.current;b.current=null,E({step:"error",provider:t,message:null,error:gCe(e,t)})}}),{linkTwitter:C,linkGoogle:S}=function(e){let{linkEmail:t,linkPhone:n,linkWallet:r,linkGoogle:i,linkApple:s,linkTwitter:o,linkTwitch:a,linkDiscord:c,linkGithub:l,linkLinkedIn:u,linkTiktok:d,linkLine:h,linkSpotify:f,linkInstagram:p,linkTelegram:g,linkFarcaster:m,linkPasskey:y}=(0,ei.useContext)(XH);return Ff("linkAccount",e),{linkEmail:t,linkPhone:n,linkWallet:r,linkGoogle:i,linkApple:s,linkTwitter:o,linkTwitch:a,linkDiscord:c,linkGithub:l,linkLinkedIn:u,linkTiktok:d,linkLine:h,linkSpotify:f,linkInstagram:p,linkFarcaster:m,linkTelegram:g,linkPasskey:y}}({onSuccess:e=>{let{user:t,linkMethod:n,linkedAccount:r}=e;const i=v.current,s=function(e){if(!e||"string"!=typeof e)return null;const t=e.toLowerCase();return t.includes("twitter")?"twitter":t.includes("google")?"google":null}(n)||(i?i.provider:null);if(i&&(!i.provider||i.provider===s))return v.current=null,void i.resolve({user:t,linkMethod:n,linkedAccount:r,provider:s});v.current=null},onError:e=>{const t=v.current;if(v.current=null,t){const n=e instanceof Error?e:new Error(String(e));t.reject(n)}}}),I=(0,ei.useRef)(n||uCe.container||null),[A,T]=(0,ei.useState)(null),P=(0,ei.useMemo)(()=>Array.isArray(t.oauthProviders)&&t.oauthProviders.length?t.oauthProviders.map(e=>"string"==typeof e?e.toLowerCase():"").filter(e=>e.length):["twitter","google"],[t]),O=(0,ei.useCallback)(e=>{const t=pCe(e);if(!t)return Promise.reject(new Error("OAuth provider is required."));const n=iCe(t);return b.current=t,E({step:"oauth",provider:t,message:`Complete ${n.label} in the pop-up and return to the game.`,error:null}),_({provider:t}).catch(e=>{b.current=null;const n=e instanceof Error?e.message:"Social login failed. Please try again.";throw E({step:"error",provider:t,message:null,error:n||"Social login failed. Please try again."}),e})},[_]),j=(0,ei.useCallback)(e=>{const t=pCe(e);if(!t)return Promise.reject(new Error("Link provider is required."));if(v.current)return Promise.reject(new Error("Another linking request is already in progress."));const n="twitter"===t?C:"google"===t?S:null;if("function"!=typeof n)return Promise.reject(new Error(`Linking is not supported for ${t}.`));const r=new Promise((e,n)=>{v.current={provider:t,resolve:e,reject:n}});try{n()}catch(e){return v.current=null,Promise.reject(e)}return r},[C,S]),N=(0,ei.useCallback)(()=>{y.current.length&&y.current.splice(0,y.current.length).forEach(e=>e.reject(new Error("Login cancelled."))),w.current=!1,k(),T(e=>"login"===e?null:e)},[k]),R=(0,ei.useCallback)(()=>{E({step:"wallet",provider:null,message:"Check the Privy modal to continue.",error:null}),o({force:w.current}).catch(e=>{const t=e instanceof Error?e.message:"Wallet login failed.";E({step:"error",provider:null,message:null,error:t||"Wallet login failed."})})},[o]),$=(0,ei.useCallback)(e=>{O(e).catch(t=>{const n=t instanceof Error?t.message:"Social login failed.";E({step:"error",provider:e,message:null,error:n||"Social login failed."})})},[O]);(0,ei.useEffect)(()=>{const e=I.current;e&&(A?e.classList.add("pg-privy-open"):e.classList.remove("pg-privy-open"))},[A]),(0,ei.useEffect)(()=>{r&&(async()=>{const e=await m();fCe.emit("auth:stateChanged",e),e.authenticated&&y.current.length&&y.current.splice(0,y.current.length).forEach(t=>t.resolve(e)),e.authenticated&&(w.current=!1,k(),T(e=>"login"===e?null:e))})()},[r,i,s,m,k]);const M=(0,ei.useMemo)(()=>({async login(e){await g();const t=Boolean(e&&e.force),n=await m();if(h&&h.isDev)return"undefined"!=typeof console&&console.warn&&console.warn(`[DEV MODE] Instant login as: ${h.devUser}`),n;if(n.authenticated&&!t)return n;const r=wCe();return y.current.push(r),w.current=t,k(),T("login"),r.promise},async logout(){await g(),await a();const e=await m();return fCe.emit("auth:stateChanged",e),e},getAuthState:async()=>(await g(),m()),async sendSolanaTransaction(e){if(await g(),!e||"string"!=typeof e.transactionBase64||!e.transactionBase64.length)throw new Error("PG_PRIVY: sendSolanaTransaction requires transactionBase64.");const t=e.chain||p;let n;try{n=function(e){if("string"!=typeof e)throw new Error("Expected base64 string");const t=e.replace(/\s+/g,"");if("function"==typeof atob){const e=atob(t),n=new Uint8Array(e.length);for(let t=0;t<e.length;t+=1)n[t]=e.charCodeAt(t);return n}if("undefined"!=typeof globalThis&&globalThis.Buffer){const e=globalThis.Buffer.from(t,"base64");return Uint8Array,new Uint8Array(e)}throw new Error("Base64 decoding unavailable in this environment.")}(e.transactionBase64)}catch(e){throw new Error("PG_PRIVY: Invalid transaction encoding.")}(await m()).authenticated||await this.login();const r=function(e,t){if(!Array.isArray(e)||0===e.length)return null;const n=t&&t.wallet&&"string"==typeof t.wallet.address?t.wallet.address:null,r=e.map(_Ce).filter(e=>{return!(!e||"object"!=typeof e||"solana"!==e.chainType&&(!Array.isArray(e.chains)||!e.chains.some(e=>"string"==typeof e&&e.startsWith("solana:")))&&("string"!=typeof e.walletClientType||!e.walletClientType.toLowerCase().includes("sol"))&&(!n||e.address!==n||"solana"!==t?.wallet?.chainType)&&("string"!=typeof e.address||"string"==typeof(r=e.address)&&r.startsWith("0x")));var r});if(!r.length)return null;if(n){const e=r.find(e=>e.address===n);if(e)return e}return r[0]}(l,s);if(!r)throw new Error("PG_PRIVY: No Solana wallet is available.");"function"!=typeof r.connect||!1!==r.connected&&"disconnected"!==r.status&&"disconnected"!==r.readyState&&"idle"!==r.status||await r.connect({chain:t});try{const e=await u({transaction:n,wallet:r,chain:t}),i=e&&e.signature;if("string"==typeof i&&i.length)return{signature:i,encoding:"base58"};if(i instanceof Uint8Array)return{signature:CCe(i),encoding:"base58"};throw new Error("PG_PRIVY: Signature missing from Privy response.")}catch(e){throw mCe("PG_PRIVY: sendSolanaTransaction failed",e),e}},async linkTwitter(){await g(),(await m()).authenticated||await this.login();const e=await m();if(kCe(e.user))return{user:e.user,alreadyLinked:!0};try{await j("twitter")}catch(e){const t=e instanceof Error?e.message:"Twitter linking failed.";throw new Error(t||"Twitter linking failed. Please try again.")}const t=await m();if(!kCe(t.user))throw mCe("PG_PRIVY: Twitter account not detected after linking.",null),new Error("We could not verify your Twitter handle. Please try again.");return fCe.emit("twitter:linked",{user:t.user}),{user:t.user,alreadyLinked:!1}},openUserPill(){T("userPill")},closeOverlay(){T(null)},isReady:()=>r,startOAuthLogin:e=>O(e),startOAuthLink:e=>j(e)}),[g,p,m,a,r,k,u,j,O,s,l]);(0,ei.useEffect)(()=>(h&&h.isDev&&(uCe.devMode=!0,uCe.devUser=h.devUser),function(e){uCe.controller=e,uCe.waiters.forEach(t=>{try{t(e)}catch(e){console.error("PG_PRIVY: failed to notify waiter",e)}}),uCe.waiters.length=0,fCe.emit("controller:ready",e),yCe("pg:privy:bridge:ready",e)}(M),()=>{uCe.controller===M&&(uCe.controller=null)}),[M,h]);const L=["pg-privy-overlay"];A&&(L.push("pg-privy-visible"),"userPill"===A&&L.push("pg-privy-userpill"));const B=["pg-privy-card"];return"userPill"===A&&B.push("pg-privy-card-userpill"),(0,ri.jsx)(ei.Fragment,{children:(0,ri.jsx)("div",{className:L.join(" "),"aria-hidden":!A,children:A?(0,ri.jsxs)("div",{className:B.join(" "),role:"dialog","aria-modal":"true",children:[(0,ri.jsx)("button",{className:"pg-privy-close","aria-label":"Close panel",onClick:()=>{"login"===A?N():T(null)}}),"userPill"===A?(0,ri.jsx)("div",{className:"privy-user-pill-container",children:(0,ri.jsx)(Aoe,{})}):null,"login"===A?(()=>{const e=Array.from(new Set(P)),t=x.message||"Wallet login uses this tab. Social login opens a secure pop-up so you never reload the game.",n="oauth"===x.step;return(0,ri.jsxs)("div",{children:[(0,ri.jsx)("h2",{className:"pg-privy-auth-title",children:"Sign in"}),(0,ri.jsx)("p",{className:"pg-privy-auth-description",children:"Choose how youd like to continue."}),(0,ri.jsx)("button",{className:"pg-privy-auth-btn pg-privy-wallet",type:"button",onClick:R,disabled:"wallet"===x.step,children:"wallet"===x.step?"Waiting for wallet...":"Continue with Wallet"}),e.length?(0,ri.jsxs)(ei.Fragment,{children:[(0,ri.jsx)("div",{className:"pg-privy-or-divider",children:(0,ri.jsx)("span",{children:"or"})}),e.map(e=>{const t=iCe(e),r=hCe[e]||null,i="oauth"===x.step&&x.provider===e;return(0,ri.jsxs)("button",{type:"button",className:`pg-privy-provider-btn pg-provider-${e}`,onClick:()=>$(e),disabled:n,children:[(0,ri.jsx)("span",{className:"pg-privy-provider-icon",children:r?(0,ri.jsx)(r,{}):t.label.charAt(0)}),(0,ri.jsx)("span",{children:i?`Waiting for ${t.label}`:t.label})]},e)})]}):null,x.error?(0,ri.jsx)("p",{className:"pg-privy-error",children:x.error}):null,(0,ri.jsx)("p",{className:"pg-privy-hint",children:t})]})})():null]}):null})})}if(lCe){const e=lCe.PG_PRIVY;if(e&&e._bridgeVersion===sCe)yCe(oCe,e);else{const e={_bridgeVersion:sCe,initialize:async function(e){if(!e||"string"!=typeof e.appId||!e.appId.length)throw new Error("PG_PRIVY: initialize requires appId.");return function(e){if(!lCe)throw new Error("PG_PRIVY: window is unavailable.");const t=function(e){if(uCe.container&&document.body.contains(uCe.container))return uCe.container;if("undefined"==typeof document)throw new Error("PG_PRIVY: document is unavailable.");!function(){if(uCe.stylesInjected||"undefined"==typeof document)return;if(document.getElementById(cCe))return void(uCe.stylesInjected=!0);const e=document.createElement("style");e.id=cCe,e.type="text/css",e.innerHTML=`\n        #${aCe} {\n            position: fixed;\n            inset: 0;\n            pointer-events: none;\n            z-index: 10000;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n        }\n\n        #${aCe}.pg-privy-open {\n            pointer-events: auto;\n        }\n\n        .pg-privy-overlay {\n            position: absolute;\n            inset: 0;\n            background-color: rgba(17, 24, 39, 0.65);\n            backdrop-filter: blur(4px);\n            opacity: 0;\n            visibility: hidden;\n            transition: opacity 0.2s ease, visibility 0.2s ease;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .pg-privy-overlay.pg-privy-visible {\n            opacity: 1;\n            visibility: visible;\n        }\n\n        .pg-privy-card {\n            position: relative;\n            background: #ffffff;\n            border-radius: 16px;\n            width: min(420px, 92%);\n            max-height: 85vh;\n            box-shadow: 0 24px 56px rgba(15, 23, 42, 0.35);\n            overflow: hidden;\n            display: flex;\n            flex-direction: column;\n            padding: 16px;\n        }\n\n        .pg-privy-close {\n            position: absolute;\n            top: 12px;\n            right: 12px;\n            width: 32px;\n            height: 32px;\n            border-radius: 50%;\n            border: none;\n            background: rgba(15, 23, 42, 0.08);\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            transition: background 0.2s ease;\n        }\n\n        .pg-privy-close:hover {\n            background: rgba(15, 23, 42, 0.16);\n        }\n\n        .pg-privy-close::before,\n        .pg-privy-close::after {\n            content: '';\n            position: absolute;\n            width: 16px;\n            height: 2px;\n            background: #1f2937;\n            border-radius: 2px;\n        }\n\n        .pg-privy-close::before {\n            transform: rotate(45deg);\n        }\n\n        .pg-privy-close::after {\n            transform: rotate(-45deg);\n        }\n\n        .pg-privy-overlay .privy-user-pill-container {\n            width: 100%;\n        }\n\n        .pg-privy-overlay.pg-privy-userpill {\n            background-color: rgba(17, 24, 39, 0.25);\n            backdrop-filter: none;\n        }\n\n        .pg-privy-card.pg-privy-card-userpill {\n            background: transparent;\n            box-shadow: none;\n            padding: 0;\n            width: min(520px, 96%);\n            max-height: 90vh;\n        }\n\n        .pg-privy-card.pg-privy-card-userpill .privy-user-pill-container {\n            width: 100%;\n            padding: 8px;\n        }\n\n        .pg-privy-auth-title {\n            font-size: 1.15rem;\n            font-weight: 600;\n            margin-bottom: 0.25rem;\n            color: #111827;\n        }\n\n        .pg-privy-auth-description {\n            font-size: 0.95rem;\n            color: #6b7280;\n            margin-bottom: 1rem;\n        }\n\n        .pg-privy-auth-btn {\n            width: 100%;\n            border: none;\n            border-radius: 12px;\n            padding: 0.85rem 1rem;\n            font-size: 1rem;\n            font-weight: 600;\n            cursor: pointer;\n            transition: transform 0.15s ease, box-shadow 0.15s ease;\n        }\n\n        .pg-privy-auth-btn.pg-privy-wallet {\n            background: #111827;\n            color: #ffffff;\n            margin-bottom: 1rem;\n            box-shadow: 0 8px 20px rgba(17, 24, 39, 0.15);\n        }\n\n        .pg-privy-auth-btn:disabled {\n            opacity: 0.6;\n            cursor: not-allowed;\n        }\n\n        .pg-privy-auth-btn.pg-privy-wallet:hover:not(:disabled) {\n            transform: translateY(-1px);\n        }\n\n        .pg-privy-or-divider {\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n            margin: 0.5rem 0 1rem 0;\n            color: #9ca3af;\n            font-size: 0.85rem;\n        }\n\n        .pg-privy-or-divider::before,\n        .pg-privy-or-divider::after {\n            content: '';\n            flex: 1;\n            height: 1px;\n            background: rgba(156, 163, 175, 0.4);\n        }\n\n        .pg-privy-provider-btn {\n            width: 100%;\n            border-radius: 12px;\n            padding: 0.75rem 1rem;\n            border: 1px solid #e5e7eb;\n            background: #ffffff;\n            color: #111827;\n            display: flex;\n            align-items: center;\n            gap: 0.75rem;\n            margin-bottom: 0.75rem;\n            font-weight: 600;\n            cursor: pointer;\n            transition: transform 0.15s ease, box-shadow 0.15s ease;\n        }\n\n        .pg-privy-provider-btn:last-child {\n            margin-bottom: 0;\n        }\n\n        .pg-privy-provider-btn:hover:not(:disabled) {\n            transform: translateY(-1px);\n            box-shadow: 0 6px 16px rgba(15, 23, 42, 0.1);\n        }\n\n        .pg-privy-provider-btn:disabled {\n            opacity: 0.6;\n            cursor: not-allowed;\n        }\n\n        .pg-privy-provider-btn.pg-provider-twitter {\n            background: #0f1419;\n            border-color: #0f1419;\n            color: #ffffff;\n        }\n\n        .pg-privy-provider-icon {\n            width: 36px;\n            height: 36px;\n            border-radius: 9px;\n            background: #f3f4f6;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .pg-privy-provider-btn.pg-provider-twitter .pg-privy-provider-icon {\n            background: rgba(255, 255, 255, 0.1);\n        }\n\n        .pg-privy-error {\n            margin-top: 0.75rem;\n            color: #ef4444;\n            font-size: 0.85rem;\n            text-align: center;\n        }\n\n        .pg-privy-hint {\n            margin-top: 1rem;\n            font-size: 0.8rem;\n            color: #6b7280;\n            text-align: center;\n        }\n\n        @media (prefers-color-scheme: dark) {\n            .pg-privy-card {\n                background: #0f172a;\n                color: #f8fafc;\n            }\n            .pg-privy-close {\n                background: rgba(248, 250, 252, 0.08);\n            }\n            .pg-privy-close::before,\n            .pg-privy-close::after {\n                background: #f8fafc;\n            }\n        }\n    `,document.head.appendChild(e),uCe.stylesInjected=!0}();const t="string"==typeof e&&e.length?e:aCe;let n=document.getElementById(t);return n||(n=document.createElement("div"),n.id=t,n.className="pg-privy-container",document.body.appendChild(n)),uCe.container=n,n}(e&&e.containerId);uCe.root||(uCe.root=(0,ni.createRoot)(t)),uCe.root.render((0,ri.jsx)(ECe,{options:e,containerEl:t}))}(e),await bCe(),uCe.controller},isReady:()=>Boolean(uCe.controller),whenReady:()=>bCe().then(()=>{}),login:e=>vCe("login",[e]),logout:()=>vCe("logout",[]),getAuthState:()=>vCe("getAuthState",[]),sendSolanaTransaction:e=>vCe("sendSolanaTransaction",[e]),linkTwitter:()=>vCe("linkTwitter",[]),openUserPill:()=>vCe("openUserPill",[]),closeOverlay:()=>vCe("closeOverlay",[]),on:(e,t)=>fCe.on(e,t),off:(e,t)=>fCe.off(e,t),emit:(e,t)=>fCe.emit(e,t),startOAuthLogin:e=>vCe("startOAuthLogin",[e]),startOAuthLink:e=>vCe("startOAuthLink",[e]),once(e,t){if("function"!=typeof t)return()=>{};const n=fCe.on(e,e=>{n(),t(e)});return n},debugState:()=>({defaultChain:uCe.defaultChain,options:uCe.options,lastSnapshot:uCe.lastSnapshot,devMode:uCe.devMode,devUser:uCe.devUser})};lCe.PG_PRIVY=e,yCe(oCe,e)}}lCe&&lCe.PG_PRIVY;var ICe=o(615),ACe=o(1848),TCe=o(8030);const PCe=BigInt(0),OCe=BigInt(1),jCe=BigInt(2),NCe=BigInt(8);class RCe{constructor(e){this.ep=e}static fromBytes(e){(0,ACe.SJ)()}static fromHex(e){(0,ACe.SJ)()}get x(){return this.toAffine().x}get y(){return this.toAffine().y}clearCofactor(){return this}assertValidity(){this.ep.assertValidity()}toAffine(e){return this.ep.toAffine(e)}toHex(){return(0,bb.My)(this.toBytes())}toString(){return this.toHex()}isTorsionFree(){return!0}isSmallOrder(){return!1}add(e){return this.assertSame(e),this.init(this.ep.add(e.ep))}subtract(e){return this.assertSame(e),this.init(this.ep.subtract(e.ep))}multiply(e){return this.init(this.ep.multiply(e))}multiplyUnsafe(e){return this.init(this.ep.multiplyUnsafe(e))}double(){return this.init(this.ep.double())}negate(){return this.init(this.ep.negate())}precompute(e,t){return this.init(this.ep.precompute(e,t))}toRawBytes(){return this.toBytes()}}function $Ce(e){const{CURVE:t,curveOpts:n,hash:r,eddsaOpts:i}=function(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n={Fp:e.Fp,Fn:(0,TCe.D0)(t.n,e.nBitLength,!0),uvRatio:e.uvRatio},r={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:n,hash:e.hash,eddsaOpts:r}}(e),s=function(e,t={}){const n=(0,ICe.UT)("edwards",e,t,t.FpFnLE),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o}=s;(0,ACe.DS)(t,{},{uvRatio:"function"});const a=jCe<<BigInt(8*i.BYTES)-OCe,c=e=>r.create(e),l=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(r.div(e,t))}}catch(e){return{isValid:!1,value:PCe}}});if(!function(e,t,n,r){const i=e.sqr(n),s=e.sqr(r),o=e.add(e.mul(t.a,i),s),a=e.add(e.ONE,e.mul(t.d,e.mul(i,s)));return e.eql(o,a)}(r,s,s.Gx,s.Gy))throw new Error("bad curve params: generator point");function u(e,t,n=!1){const r=n?OCe:PCe;return(0,ACe.aK)("coordinate "+e,t,r,a),t}function d(e){if(!(e instanceof p))throw new Error("ExtendedPoint expected")}const h=(0,ACe.x)((e,t)=>{const{X:n,Y:i,Z:s}=e,o=e.is0();null==t&&(t=o?NCe:r.inv(s));const a=c(n*t),l=c(i*t),u=r.mul(s,t);if(o)return{x:PCe,y:OCe};if(u!==OCe)throw new Error("invZ was invalid");return{x:a,y:l}}),f=(0,ACe.x)(e=>{const{a:t,d:n}=s;if(e.is0())throw new Error("bad point: ZERO");const{X:r,Y:i,Z:o,T:a}=e,l=c(r*r),u=c(i*i),d=c(o*o),h=c(d*d),f=c(l*t);if(c(d*c(f+u))!==c(h+c(n*c(l*u))))throw new Error("bad point: equation left != right (1)");if(c(r*i)!==c(o*a))throw new Error("bad point: equation left != right (2)");return!0});class p{constructor(e,t,n,r){this.X=u("x",e),this.Y=u("y",t),this.Z=u("z",n,!0),this.T=u("t",r),Object.freeze(this)}static CURVE(){return s}static fromAffine(e){if(e instanceof p)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};return u("x",t),u("y",n),new p(t,n,OCe,c(t*n))}static fromBytes(e,t=!1){const n=r.BYTES,{a:i,d:o}=s;e=(0,ACe.nC)((0,ACe.eV)(e,n,"point")),(0,ACe.d6)(t,"zip215");const u=(0,ACe.nC)(e),d=e[n-1];u[n-1]=-129&d;const h=(0,ACe.lX)(u),f=t?a:r.ORDER;(0,ACe.aK)("point.y",h,PCe,f);const g=c(h*h),m=c(g-OCe),y=c(o*g-i);let{isValid:w,value:b}=l(m,y);if(!w)throw new Error("bad point: invalid y coordinate");const v=(b&OCe)===OCe,x=!!(128&d);if(!t&&b===PCe&&x)throw new Error("bad point: x=0 and x_0=1");return x!==v&&(b=c(-b)),p.fromAffine({x:b,y:h})}static fromHex(e,t=!1){return p.fromBytes((0,ACe.qj)("point",e),t)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return g.createCache(this,e),t||this.multiply(jCe),this}assertValidity(){f(this)}equals(e){d(e);const{X:t,Y:n,Z:r}=this,{X:i,Y:s,Z:o}=e,a=c(t*o),l=c(i*r),u=c(n*o),h=c(s*r);return a===l&&u===h}is0(){return this.equals(p.ZERO)}negate(){return new p(c(-this.X),this.Y,this.Z,c(-this.T))}double(){const{a:e}=s,{X:t,Y:n,Z:r}=this,i=c(t*t),o=c(n*n),a=c(jCe*c(r*r)),l=c(e*i),u=t+n,d=c(c(u*u)-i-o),h=l+o,f=h-a,g=l-o,m=c(d*f),y=c(h*g),w=c(d*g),b=c(f*h);return new p(m,y,b,w)}add(e){d(e);const{a:t,d:n}=s,{X:r,Y:i,Z:o,T:a}=this,{X:l,Y:u,Z:h,T:f}=e,g=c(r*l),m=c(i*u),y=c(a*n*f),w=c(o*h),b=c((r+i)*(l+u)-g-m),v=w-y,x=w+y,E=c(m-t*g),k=c(b*v),_=c(x*E),C=c(b*E),S=c(v*x);return new p(k,_,S,C)}subtract(e){return this.add(e.negate())}multiply(e){if(!i.isValidNot0(e))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:t,f:n}=g.cached(this,e,e=>(0,ICe.Ak)(p,e));return(0,ICe.Ak)(p,[t,n])[0]}multiplyUnsafe(e,t=p.ZERO){if(!i.isValid(e))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return e===PCe?p.ZERO:this.is0()||e===OCe?this:g.unsafe(this,e,e=>(0,ICe.Ak)(p,e),t)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return g.unsafe(this,s.n).is0()}toAffine(e){return h(this,e)}clearCofactor(){return o===OCe?this:this.multiplyUnsafe(o)}toBytes(){const{x:e,y:t}=this.toAffine(),n=r.toBytes(t);return n[n.length-1]|=e&OCe?128:0,n}toHex(){return(0,bb.My)(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(e){return(0,ICe.Ak)(p,e)}static msm(e,t){return(0,ICe.Xf)(p,i,e,t)}_setWindowSize(e){this.precompute(e)}toRawBytes(){return this.toBytes()}}p.BASE=new p(s.Gx,s.Gy,OCe,c(s.Gx*s.Gy)),p.ZERO=new p(PCe,OCe,OCe,PCe),p.Fp=r,p.Fn=i;const g=new ICe.hT(p,i.BITS);return p.BASE.precompute(8),p}(t,n);return function(e,t){const n=t.Point;return Object.assign({},t,{ExtendedPoint:n,CURVE:e,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}(e,function(e,t,n={}){if("function"!=typeof t)throw new Error('"hash" function param is required');(0,ACe.DS)(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:i,Fp:s,Fn:o}=e,a=n.randomBytes||bb.po,c=n.adjustScalarBytes||(e=>e),l=n.domain||((e,t,n)=>{if((0,ACe.d6)(n,"phflag"),t.length||n)throw new Error("Contexts/pre-hash are not supported");return e});function u(e){return o.create((0,ACe.lX)(e))}function d(e){const{head:n,prefix:r,scalar:s}=function(e){const n=m.secretKey;e=(0,ACe.qj)("private key",e,n);const r=(0,ACe.qj)("hashed private key",t(e),2*n),i=c(r.slice(0,n));return{head:i,prefix:r.slice(n,2*n),scalar:u(i)}}(e),o=i.multiply(s),a=o.toBytes();return{head:n,prefix:r,scalar:s,point:o,pointBytes:a}}function h(e){return d(e).pointBytes}function f(e=Uint8Array.of(),...n){const i=(0,bb.Id)(...n);return u(t(l(i,(0,ACe.qj)("context",e),!!r)))}const p={zip215:!0},g=s.BYTES,m={secretKey:g,publicKey:g,signature:2*g,seed:g};function y(e=a(m.seed)){return(0,ACe.eV)(e,m.seed,"seed")}const w={getExtendedPublicKey:d,randomSecretKey:y,isValidSecretKey:function(e){return(0,bb.aY)(e)&&e.length===o.BYTES},isValidPublicKey:function(t,n){try{return!!e.fromBytes(t,n)}catch(e){return!1}},toMontgomery(t){const{y:n}=e.fromBytes(t),r=m.publicKey,i=32===r;if(!i&&57!==r)throw new Error("only defined for 25519 and 448");const o=i?s.div(OCe+n,OCe-n):s.div(n-OCe,n+OCe);return s.toBytes(o)},toMontgomerySecret(e){const n=m.secretKey;(0,ACe.eV)(e,n);const r=t(e.subarray(0,n));return c(r).subarray(0,n)},randomPrivateKey:y,precompute:(t=8,n=e.BASE)=>n.precompute(t,!1)};return Object.freeze({keygen:function(e){const t=w.randomSecretKey(e);return{secretKey:t,publicKey:h(t)}},getPublicKey:h,sign:function(e,t,n={}){e=(0,ACe.qj)("message",e),r&&(e=r(e));const{prefix:s,scalar:a,pointBytes:c}=d(t),l=f(n.context,s,e),u=i.multiply(l).toBytes(),h=f(n.context,u,c,e),p=o.create(l+h*a);if(!o.isValid(p))throw new Error("sign failed: invalid s");const g=(0,bb.Id)(u,o.toBytes(p));return(0,ACe.eV)(g,m.signature,"result")},verify:function(t,n,s,o=p){const{context:a,zip215:c}=o,l=m.signature;t=(0,ACe.qj)("signature",t,l),n=(0,ACe.qj)("message",n),s=(0,ACe.qj)("publicKey",s,m.publicKey),void 0!==c&&(0,ACe.d6)(c,"zip215"),r&&(n=r(n));const u=l/2,d=t.subarray(0,u),h=(0,ACe.lX)(t.subarray(u,l));let g,y,w;try{g=e.fromBytes(s,c),y=e.fromBytes(d,c),w=i.multiplyUnsafe(h)}catch(e){return!1}if(!c&&g.isSmallOrder())return!1;const b=f(a,y.toBytes(),g.toBytes(),n);return y.add(g.multiplyUnsafe(b)).subtract(w).clearCofactor().is0()},utils:w,Point:e,lengths:m})}(s,r,i))}(0,bb.AI)("HashToScalar-");const MCe=BigInt(0),LCe=BigInt(1),BCe=BigInt(2),UCe=(BigInt(3),BigInt(5)),DCe=BigInt(8),FCe=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),zCe=(()=>({p:FCe,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:DCe,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")}))();function WCe(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const qCe=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function HCe(e,t){const n=FCe,r=(0,TCe.zi)(t*t*t,n),i=function(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=FCe,o=e*e%s*e%s,a=(0,TCe.zH)(o,BCe,s)*o%s,c=(0,TCe.zH)(a,LCe,s)*e%s,l=(0,TCe.zH)(c,UCe,s)*c%s,u=(0,TCe.zH)(l,t,s)*l%s,d=(0,TCe.zH)(u,n,s)*u%s,h=(0,TCe.zH)(d,r,s)*d%s,f=(0,TCe.zH)(h,i,s)*h%s,p=(0,TCe.zH)(f,i,s)*h%s,g=(0,TCe.zH)(p,t,s)*l%s;return{pow_p_5_8:(0,TCe.zH)(g,BCe,s)*e%s,b2:o}}(e*(0,TCe.zi)(r*r*t,n)).pow_p_5_8;let s=(0,TCe.zi)(e*r*i,n);const o=(0,TCe.zi)(t*s*s,n),a=s,c=(0,TCe.zi)(s*qCe,n),l=o===e,u=o===(0,TCe.zi)(-e,n),d=o===(0,TCe.zi)(-e*qCe,n);return l&&(s=a),(u||d)&&(s=c),(0,TCe.dQ)(s,n)&&(s=(0,TCe.zi)(-s,n)),{isValid:l||u,value:s}}const VCe=(()=>(0,TCe.D0)(zCe.p,{isLE:!0}))(),KCe=(()=>(0,TCe.D0)(zCe.n,{isLE:!0}))(),GCe=(()=>({...zCe,Fp:VCe,hash:yb.Zf,adjustScalarBytes:WCe,uvRatio:HCe}))(),ZCe=(()=>$Ce(GCe))(),YCe=qCe,JCe=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),QCe=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),XCe=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),eSe=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),tSe=e=>HCe(LCe,e),nSe=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),rSe=e=>ZCe.Point.Fp.create((0,ACe.lX)(e)&nSe);function iSe(e){const{d:t}=zCe,n=FCe,r=e=>VCe.create(e),i=r(YCe*e*e),s=r((i+LCe)*XCe);let o=BigInt(-1);const a=r((o-t*i)*r(i+t));let{isValid:c,value:l}=HCe(s,a),u=r(l*e);(0,TCe.dQ)(u,n)||(u=r(-u)),c||(l=u),c||(o=i);const d=r(o*(i-LCe)*eSe-a),h=l*l,f=r((l+l)*a),p=r(d*JCe),g=r(LCe-h),m=r(LCe+h);return new ZCe.Point(r(f*m),r(g*p),r(p*m),r(f*g))}class sSe extends RCe{constructor(e){super(e)}static fromAffine(e){return new sSe(ZCe.Point.fromAffine(e))}assertSame(e){if(!(e instanceof sSe))throw new Error("RistrettoPoint expected")}init(e){return new sSe(e)}static hashToCurve(e){return function(e){(0,bb.DO)(e,64);const t=iSe(rSe(e.subarray(0,32))),n=iSe(rSe(e.subarray(32,64)));return new sSe(t.add(n))}((0,ACe.qj)("ristrettoHash",e,64))}static fromBytes(e){(0,bb.DO)(e,32);const{a:t,d:n}=zCe,r=FCe,i=e=>VCe.create(e),s=rSe(e);if(!(0,ACe.ex)(VCe.toBytes(s),e)||(0,TCe.dQ)(s,r))throw new Error("invalid ristretto255 encoding 1");const o=i(s*s),a=i(LCe+t*o),c=i(LCe-t*o),l=i(a*a),u=i(c*c),d=i(t*n*l-u),{isValid:h,value:f}=tSe(i(d*u)),p=i(f*c),g=i(f*p*d);let m=i((s+s)*p);(0,TCe.dQ)(m,r)&&(m=i(-m));const y=i(a*g),w=i(m*y);if(!h||(0,TCe.dQ)(w,r)||y===MCe)throw new Error("invalid ristretto255 encoding 2");return new sSe(new ZCe.Point(m,y,LCe,w))}static fromHex(e){return sSe.fromBytes((0,ACe.qj)("ristrettoHex",e,32))}static msm(e,t){return(0,ICe.Xf)(sSe,ZCe.Point.Fn,e,t)}toBytes(){let{X:e,Y:t,Z:n,T:r}=this.ep;const i=FCe,s=e=>VCe.create(e),o=s(s(n+t)*s(n-t)),a=s(e*t),c=s(a*a),{value:l}=tSe(s(o*c)),u=s(l*o),d=s(l*a),h=s(u*d*r);let f;if((0,TCe.dQ)(r*h,i)){let n=s(t*YCe),r=s(e*YCe);e=n,t=r,f=s(u*QCe)}else f=d;(0,TCe.dQ)(e*h,i)&&(t=s(-t));let p=s((n-t)*f);return(0,TCe.dQ)(p,i)&&(p=s(-p)),VCe.toBytes(p)}equals(e){this.assertSame(e);const{X:t,Y:n}=this.ep,{X:r,Y:i}=e.ep,s=e=>VCe.create(e),o=s(t*i)===s(n*r),a=s(n*i)===s(t*r);return o||a}is0(){return this.equals(sSe.ZERO)}}sSe.BASE=(()=>new sSe(ZCe.Point.BASE))(),sSe.ZERO=(()=>new sSe(ZCe.Point.ZERO))(),sSe.Fp=(()=>VCe)(),sSe.Fn=(()=>KCe)();var oSe=o(9404),aSe=o.n(oSe),cSe=o(6763),lSe=o.n(cSe),uSe=o(2755),dSe=o(601);function hSe(e){return Array.isArray(e)?"%5B"+e.map(hSe).join("%2C%20")+"%5D":"bigint"==typeof e?`${e}n`:encodeURIComponent(String(null!=e&&null===Object.getPrototypeOf(e)?{...e}:e))}function fSe([e,t]){return`${e}=${hSe(t)}`}var pSe=class extends Error{cause=this.cause;context;constructor(...[e,t]){let n,r;if(t){const{cause:e,...i}=t;e&&(r={cause:e}),Object.keys(i).length>0&&(n=i)}super(function(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${function(e){const t=Object.entries(e).map(fSe).join("&");return btoa(t)}(t)}'`),`${n}\``}}(e,n),r),this.context={__code:e,...n},this.name="SolanaError"}};function gSe(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}function mSe(e){return 1!==e?.endian}function ySe(e){return function(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(function(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}(t,e));return e.write(t,n,0),n}})}({fixedSize:e.size,write(t,n,r){e.range&&function(e,t,n,r){if(r<t||r>n)throw new pSe(8078011,{codecDescription:e,max:n,min:t,value:r})}(e.name,e.range[0],e.range[1],t);const i=new ArrayBuffer(e.size);return e.set(new DataView(i),t,mSe(e.config)),n.set(new Uint8Array(i),r),r+e.size}})}function wSe(e){return function(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}({fixedSize:e.size,read(t,n=0){!function(e,t,n=0){if(t.length-n<=0)throw new pSe(8078e3,{codecDescription:e})}(e.name,t,n),function(e,t,n,r=0){const i=n.length-r;if(i<t)throw new pSe(8078001,{bytesLength:i,codecDescription:e,expected:t})}(e.name,e.size,t,n);const r=new DataView(function(e,t,n){const r=e.byteOffset+(t??0),i=n??e.byteLength;return e.buffer.slice(r,r+i)}(t,n,e.size));return[e.get(r,mSe(e.config)),n+e.size]}})}var bSe=(e={})=>ySe({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,n)=>e.setBigUint64(0,BigInt(t),n),size:8}),vSe=(e={})=>function(e,t){if(gSe(e)!==gSe(t))throw new pSe(8078004);if(gSe(e)&&gSe(t)&&e.fixedSize!==t.fixedSize)throw new pSe(8078005,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!gSe(e)&&!gSe(t)&&e.maxSize!==t.maxSize)throw new pSe(8078006,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}(bSe(e),((e={})=>wSe({config:e,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}))(e));class xSe extends TypeError{constructor(e,t){let n;const{message:r,explanation:i,...s}=e,{path:o}=e,a=0===o.length?r:`At path: ${o.join(".")} -- ${r}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function ESe(e){return"object"==typeof e&&null!=e}function kSe(e){return ESe(e)&&!Array.isArray(e)}function _Se(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function CSe(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:s}=t,{type:o}=n,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${_Se(r)}\``}=e;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...e,message:c}}function*SSe(e,t,n,r){var i;ESe(i=e)&&"function"==typeof i[Symbol.iterator]||(e=[e]);for(const i of e){const e=CSe(i,t,n,r);e&&(yield e)}}function*ISe(e,t,n={}){const{path:r=[],branch:i=[e],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i,mask:o};s&&(e=t.coercer(e,a));let c="valid";for(const r of t.validator(e,a))r.explanation=n.message,c="not_valid",yield[r,void 0];for(let[l,u,d]of t.entries(e,a)){const t=ISe(u,d,{path:void 0===l?r:[...r,l],branch:void 0===l?i:[...i,u],coerce:s,mask:o,message:n.message});for(const n of t)n[0]?(c=null!=n[0].refinement?"not_refined":"not_valid",yield[n[0],void 0]):s&&(u=n[1],void 0===l?e=u:e instanceof Map?e.set(l,u):e instanceof Set?e.add(u):ESe(e)&&(void 0!==u||l in e)&&(e[l]=u))}if("not_valid"!==c)for(const r of t.refiner(e,a))r.explanation=n.message,c="not_refined",yield[r,void 0];"valid"===c&&(yield[void 0,e])}class ASe{constructor(e){const{type:t,schema:n,validator:r,refiner:i,coercer:s=e=>e,entries:o=function*(){}}=e;this.type=t,this.schema=n,this.entries=o,this.coercer=s,this.validator=r?(e,t)=>SSe(r(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>SSe(i(e,t),t,this,e):()=>[]}assert(e,t){return function(e,t,n){const r=OSe(e,t,{message:n});if(r[0])throw r[0]}(e,this,t)}create(e,t){return TSe(e,this,t)}is(e){return PSe(e,this)}mask(e,t){return function(e,t,n){const r=OSe(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return OSe(e,this,t)}}function TSe(e,t,n){const r=OSe(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function PSe(e,t){return!OSe(e,t)[0]}function OSe(e,t,n={}){const r=ISe(e,t,n),i=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);return i[0]?[new xSe(i[0],function*(){for(const e of r)e[0]&&(yield e[0])}),void 0]:[void 0,i[1]]}function jSe(e,t){return new ASe({type:e,schema:null,validator:t})}function NSe(e){return new ASe({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${_Se(e)}`})}function RSe(){return jSe("boolean",e=>"boolean"==typeof e)}function $Se(e){return jSe("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${_Se(t)}`)}function MSe(e){const t=_Se(e),n=typeof e;return new ASe({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \`${t}\`, but received: ${_Se(n)}`})}function LSe(e){return new ASe({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function BSe(){return jSe("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${_Se(e)}`)}function USe(e){return new ASe({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function DSe(e,t){return new ASe({type:"record",schema:null,*entries(n){if(ESe(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator:e=>kSe(e)||`Expected an object, but received: ${_Se(e)}`,coercer:e=>kSe(e)?{...e}:e})}function FSe(){return jSe("string",e=>"string"==typeof e||`Expected a string, but received: ${_Se(e)}`)}function zSe(e){const t=jSe("never",()=>!1);return new ASe({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${_Se(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function WSe(e){const t=Object.keys(e);return new ASe({type:"type",schema:e,*entries(n){if(ESe(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>kSe(e)||`Expected an object, but received: ${_Se(e)}`,coercer:e=>kSe(e)?{...e}:e})}function qSe(e){const t=e.map(e=>e.type).join(" | ");return new ASe({type:"union",schema:null,coercer(t,n){for(const r of e){const[e,i]=r.validate(t,{coerce:!0,mask:n.mask});if(!e)return i}return t},validator(n,r){const i=[];for(const t of e){const[...e]=ISe(n,t,r),[s]=e;if(!s[0])return[];for(const[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${_Se(n)}`,...i]}})}function HSe(){return jSe("unknown",()=>!0)}function VSe(e,t,n){return new ASe({...e,coercer:(r,i)=>PSe(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)})}var KSe=o(22),GSe=o.n(KSe),ZSe=class extends vc.b{socket;constructor(e,t,n){super(),this.socket=new window.WebSocket(e,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=e=>this.emit("message",e.data),this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>{this.emit("close",e.code,e.reason)}}send(e,t,n){const r=n||t;try{this.socket.send(e),r()}catch(e){r(e)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,n){this.socket.addEventListener(e,t,n)}};var YSe=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},JSe=class extends vc.b{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(e,t="ws://localhost:8080",{autoconnect:n=!0,reconnect:r=!0,reconnect_interval:i=1e3,max_reconnects:s=5,...o}={},a,c){super(),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=n,this.ready=!1,this.reconnect=r,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=s,this.rest_options=o,this.current_reconnects=0,this.generate_request_id=a||(()=>"number"==typeof this.rpc_id?++this.rpc_id:Number(this.rpc_id)+1),this.dataPack=c||new YSe,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,n,r){return r||"object"!=typeof n||(r=n,n=null),new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o=this.generate_request_id(e,t),a={jsonrpc:"2.0",method:e,params:t||void 0,id:o};this.socket.send(this.dataPack.encode(a),r,e=>{if(e)return s(e);this.queue[o]={promise:[i,s]},n&&(this.queue[o].timeout=setTimeout(()=>{delete this.queue[o],s(new Error("reply timeout"))},n))})})}async login(e){const t=await this.call("rpc.login",e);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise((n,r)=>{if(!this.ready)return r(new Error("socket not ready"));const i={jsonrpc:"2.0",method:e,params:t};this.socket.send(this.dataPack.encode(i),e=>{if(e)return r(e);n()})})}async subscribe(e){"string"==typeof e&&(e=[e]);const t=await this.call("rpc.on",e);if("string"==typeof e&&"ok"!==t[e])throw new Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){"string"==typeof e&&(e=[e]);const t=await this.call("rpc.off",e);if("string"==typeof e&&"ok"!==t[e])throw new Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:e})=>{e instanceof ArrayBuffer&&(e=Jr.Buffer.from(e).toString());try{e=this.dataPack.decode(e)}catch(e){return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);const t=[e.notification];if(e.params.constructor===Object)t.push(e.params);else for(let n=0;n<e.params.length;n++)t.push(e.params[n]);return Promise.resolve().then(()=>{this.emit.apply(this,t)})}if(!this.queue[e.id])return e.method?Promise.resolve().then(()=>{this.emit(e.method,e?.params)}):void 0;"error"in e=="result"in e&&this.queue[e.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id]}),this.socket.addEventListener("error",e=>this.emit("error",e)),this.socket.addEventListener("close",({code:n,reason:r})=>{this.ready&&setTimeout(()=>this.emit("close",n,r),0),this.ready=!1,this.socket=void 0,1e3!==n&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,t),this.reconnect_interval)))})}},QSe=o(4551);const XSe={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},eIe={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},tIe=BigInt(2),nIe=(0,TCe.D0)(XSe.p,{sqrt:function(e){const t=XSe.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=(0,TCe.zH)(u,n,t)*u%t,h=(0,TCe.zH)(d,n,t)*u%t,f=(0,TCe.zH)(h,tIe,t)*l%t,p=(0,TCe.zH)(f,i,t)*f%t,g=(0,TCe.zH)(p,s,t)*p%t,m=(0,TCe.zH)(g,a,t)*g%t,y=(0,TCe.zH)(m,c,t)*m%t,w=(0,TCe.zH)(y,a,t)*g%t,b=(0,TCe.zH)(w,n,t)*u%t,v=(0,TCe.zH)(b,o,t)*p%t,x=(0,TCe.zH)(v,r,t)*l%t,E=(0,TCe.zH)(x,tIe,t);if(!nIe.eql(nIe.sqr(E),e))throw new Error("Cannot find square root");return E}}),rIe=(0,QSe.s)({...XSe,Fp:nIe,lowS:!0,endo:eIe},yb.sc);ZCe.utils.randomPrivateKey;const iIe=()=>{const e=ZCe.utils.randomPrivateKey(),t=sIe(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),{publicKey:t,secretKey:n}},sIe=ZCe.getPublicKey;function oIe(e){try{return ZCe.ExtendedPoint.fromHex(e),!0}catch{return!1}}const aIe=(e,t)=>ZCe.sign(e,t.slice(0,32)),cIe=ZCe.verify,lIe=e=>Jr.Buffer.isBuffer(e)?e:e instanceof Uint8Array?Jr.Buffer.from(e.buffer,e.byteOffset,e.byteLength):Jr.Buffer.from(e);class uIe{constructor(e){Object.assign(this,e)}encode(){return Jr.Buffer.from((0,uSe.serialize)(dIe,this))}static decode(e){return(0,uSe.deserialize)(dIe,this,e)}static decodeUnchecked(e){return(0,uSe.deserializeUnchecked)(dIe,this,e)}}const dIe=new Map;var hIe;const fIe=32;let pIe=1;class gIe extends uIe{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"==typeof e){const t=lSe().decode(e);if(t.length!=fIe)throw new Error("Invalid public key input");this._bn=new(aSe())(t)}else this._bn=new(aSe())(e);if(this._bn.byteLength()>fIe)throw new Error("Invalid public key input")}}static unique(){const e=new gIe(pIe);return pIe+=1,new gIe(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return lSe().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Jr.Buffer);if(e.length===fIe)return e;const t=Jr.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,n){const r=Jr.Buffer.concat([e.toBuffer(),Jr.Buffer.from(t),n.toBuffer()]),i=(0,Z5.sc)(r);return new gIe(i)}static createProgramAddressSync(e,t){let n=Jr.Buffer.alloc(0);e.forEach(function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=Jr.Buffer.concat([n,lIe(e)])}),n=Jr.Buffer.concat([n,t.toBuffer(),Jr.Buffer.from("ProgramDerivedAddress")]);const r=(0,Z5.sc)(n);if(oIe(r))throw new Error("Invalid seeds, address must fall off the curve");return new gIe(r)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n,r=255;for(;0!=r;){try{const i=e.concat(Jr.Buffer.from([r]));n=this.createProgramAddressSync(i,t)}catch(e){if(e instanceof TypeError)throw e;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return oIe(new gIe(e).toBytes())}}hIe=gIe,gIe.default=new hIe("11111111111111111111111111111111"),dIe.set(gIe,{kind:"struct",fields:[["_bn","u256"]]}),new gIe("BPFLoader1111111111111111111111111111111111");const mIe=1232;class yIe extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(yIe.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class wIe extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(wIe.prototype,"name",{value:"TransactionExpiredTimeoutError"});class bIe extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(bIe.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class vIe{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const t=new Map;this.keySegments().flat().forEach((e,n)=>{t.set(e.toBase58(),n)});const n=e=>{const n=t.get(e.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return e.map(e=>({programIdIndex:n(e.programId),accountKeyIndexes:e.keys.map(e=>n(e.pubkey)),data:e.data}))}}const xIe=(e="publicKey")=>dSe.av(32,e),EIe=(e="string")=>{const t=dSe.w3([dSe.DH("length"),dSe.DH("lengthPadding"),dSe.av(dSe.cY(dSe.DH(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),i=t;return i.decode=(e,t)=>n(e,t).chars.toString(),i.encode=(e,t,n)=>{const i={chars:Jr.Buffer.from(e,"utf8")};return r(i,t,n)},i.alloc=e=>dSe.DH().span+dSe.DH().span+Jr.Buffer.from(e,"utf8").length,i};function kIe(e,t){const n=e=>{if(e.span>=0)return e.span;if("function"==typeof e.alloc)return e.alloc(t[e.property]);if("count"in e&&"elementLayout"in e){const r=t[e.property];if(Array.isArray(r))return r.length*n(e.elementLayout)}else if("fields"in e)return kIe({layout:e},t[e.property]);return 0};let r=0;return e.layout.fields.forEach(e=>{r+=n(e)}),r}function _Ie(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(127&r)<<7*n,n+=1,!(128&r))break}return t}function CIe(e,t){let n=t;for(;;){let t=127&n;if(n>>=7,0==n){e.push(t);break}t|=128,e.push(t)}}function SIe(e,t){if(!e)throw new Error(t||"Assertion failed")}class IIe{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const n=new Map,r=e=>{const t=e.toBase58();let r=n.get(t);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(t,r)),r},i=r(t);i.isSigner=!0,i.isWritable=!0;for(const t of e){r(t.programId).isInvoked=!0;for(const e of t.keys){const t=r(e.pubkey);t.isSigner||=e.isSigner,t.isWritable||=e.isWritable}}return new IIe(t,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];SIe(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,e])=>e.isSigner&&e.isWritable),n=e.filter(([,e])=>e.isSigner&&!e.isWritable),r=e.filter(([,e])=>!e.isSigner&&e.isWritable),i=e.filter(([,e])=>!e.isSigner&&!e.isWritable),s={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{SIe(t.length>0,"Expected at least one writable signer key");const[e]=t[0];SIe(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const o=[...t.map(([e])=>new gIe(e)),...n.map(([e])=>new gIe(e)),...r.map(([e])=>new gIe(e)),...i.map(([e])=>new gIe(e))];return[s,o]}extractTableLookup(e){const[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,e=>!e.isSigner&&!e.isInvoked&&e.isWritable),[r,i]=this.drainKeysFoundInLookupTable(e.state.addresses,e=>!e.isSigner&&!e.isInvoked&&!e.isWritable);if(0!==t.length||0!==r.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:r},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(e,t){const n=new Array,r=new Array;for(const[i,s]of this.keyMetaMap.entries())if(t(s)){const t=new gIe(i),s=e.findIndex(e=>e.equals(t));s>=0&&(SIe(s<256,"Max lookup table index exceeded"),n.push(s),r.push(t),this.keyMetaMap.delete(i))}return[n,r]}}const AIe="Reached end of buffer unexpectedly";function TIe(e){if(0===e.length)throw new Error(AIe);return e.shift()}function PIe(e,...t){const[n]=t;if(2===t.length?n+(t[1]??0)>e.length:n>=e.length)throw new Error(AIe);return e.splice(...t)}class OIe{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(e=>new gIe(e)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:lSe().decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new vIe(this.staticAccountKeys)}static compile(e){const t=IIe.compile(e.instructions,e.payerKey),[n,r]=t.getMessageComponents(),i=new vIe(r).compileInstructions(e.instructions).map(e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:lSe().encode(e.data)}));return new OIe({header:n,accountKeys:r,recentBlockhash:e.recentBlockhash,instructions:i})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;return e>=this.header.numRequiredSignatures?e-t<this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts:e<t-this.header.numReadonlySignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];CIe(t,e);const n=this.instructions.map(e=>{const{accounts:t,programIdIndex:n}=e,r=Array.from(lSe().decode(e.data));let i=[];CIe(i,t.length);let s=[];return CIe(s,r.length),{programIdIndex:n,keyIndicesCount:Jr.Buffer.from(i),keyIndices:t,dataLength:Jr.Buffer.from(s),data:r}});let r=[];CIe(r,n.length);let i=Jr.Buffer.alloc(mIe);Jr.Buffer.from(r).copy(i);let s=r.length;n.forEach(e=>{const t=dSe.w3([dSe.u8("programIdIndex"),dSe.av(e.keyIndicesCount.length,"keyIndicesCount"),dSe.O6(dSe.u8("keyIndex"),e.keyIndices.length,"keyIndices"),dSe.av(e.dataLength.length,"dataLength"),dSe.O6(dSe.u8("userdatum"),e.data.length,"data")]).encode(e,i,s);s+=t}),i=i.slice(0,s);const o=dSe.w3([dSe.av(1,"numRequiredSignatures"),dSe.av(1,"numReadonlySignedAccounts"),dSe.av(1,"numReadonlyUnsignedAccounts"),dSe.av(t.length,"keyCount"),dSe.O6(xIe("key"),e,"keys"),xIe("recentBlockhash")]),a={numRequiredSignatures:Jr.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Jr.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Jr.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Jr.Buffer.from(t),keys:this.accountKeys.map(e=>lIe(e.toBytes())),recentBlockhash:lSe().decode(this.recentBlockhash)};let c=Jr.Buffer.alloc(2048);const l=o.encode(a,c);return i.copy(c,l),c.slice(0,l+i.length)}static from(e){let t=[...e];const n=TIe(t);if(n!==(127&n))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const r=TIe(t),i=TIe(t),s=_Ie(t);let o=[];for(let e=0;e<s;e++){const e=PIe(t,0,fIe);o.push(new gIe(Jr.Buffer.from(e)))}const a=PIe(t,0,fIe),c=_Ie(t);let l=[];for(let e=0;e<c;e++){const e=TIe(t),n=PIe(t,0,_Ie(t)),r=PIe(t,0,_Ie(t)),i=lSe().encode(Jr.Buffer.from(r));l.push({programIdIndex:e,accounts:n,data:i})}const u={header:{numRequiredSignatures:n,numReadonlySignedAccounts:r,numReadonlyUnsignedAccounts:i},recentBlockhash:lSe().encode(Jr.Buffer.from(a)),accountKeys:o,instructions:l};return new OIe(u)}}class jIe{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new vIe(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const t=e-n,r=this.addressTableLookups.reduce((e,t)=>e+t.writableIndexes.length,0);return t<r}return e>=this.header.numRequiredSignatures?e-t<n-t-this.header.numReadonlyUnsignedAccounts:e<t-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const n of this.addressTableLookups){const r=e.find(e=>e.key.equals(n.accountKey));if(!r)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const e of n.writableIndexes){if(!(e<r.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);t.writable.push(r.state.addresses[e])}for(const e of n.readonlyIndexes){if(!(e<r.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);t.readonly.push(r.state.addresses[e])}}return t}static compile(e){const t=IIe.compile(e.instructions,e.payerKey),n=new Array,r={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const e of i){const i=t.extractTableLookup(e);if(void 0!==i){const[e,{writable:t,readonly:s}]=i;n.push(e),r.writable.push(...t),r.readonly.push(...s)}}const[s,o]=t.getMessageComponents(),a=new vIe(o,r).compileInstructions(e.instructions);return new jIe({header:s,staticAccountKeys:o,recentBlockhash:e.recentBlockhash,compiledInstructions:a,addressTableLookups:n})}serialize(){const e=Array();CIe(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),n=Array();CIe(n,this.compiledInstructions.length);const r=this.serializeAddressTableLookups(),i=Array();CIe(i,this.addressTableLookups.length);const s=dSe.w3([dSe.u8("prefix"),dSe.w3([dSe.u8("numRequiredSignatures"),dSe.u8("numReadonlySignedAccounts"),dSe.u8("numReadonlyUnsignedAccounts")],"header"),dSe.av(e.length,"staticAccountKeysLength"),dSe.O6(xIe(),this.staticAccountKeys.length,"staticAccountKeys"),xIe("recentBlockhash"),dSe.av(n.length,"instructionsLength"),dSe.av(t.length,"serializedInstructions"),dSe.av(i.length,"addressTableLookupsLength"),dSe.av(r.length,"serializedAddressTableLookups")]),o=new Uint8Array(mIe),a=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(e=>e.toBytes()),recentBlockhash:lSe().decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:r},o);return o.slice(0,a)}serializeInstructions(){let e=0;const t=new Uint8Array(mIe);for(const n of this.compiledInstructions){const r=Array();CIe(r,n.accountKeyIndexes.length);const i=Array();CIe(i,n.data.length),e+=dSe.w3([dSe.u8("programIdIndex"),dSe.av(r.length,"encodedAccountKeyIndexesLength"),dSe.O6(dSe.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),dSe.av(i.length,"encodedDataLength"),dSe.av(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(r),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(mIe);for(const n of this.addressTableLookups){const r=Array();CIe(r,n.writableIndexes.length);const i=Array();CIe(i,n.readonlyIndexes.length),e+=dSe.w3([xIe("accountKey"),dSe.av(r.length,"encodedWritableIndexesLength"),dSe.O6(dSe.u8(),n.writableIndexes.length,"writableIndexes"),dSe.av(i.length,"encodedReadonlyIndexesLength"),dSe.O6(dSe.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(r),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const n=TIe(t),r=127&n;SIe(n!==r,"Expected versioned message but received legacy message"),SIe(0===r,`Expected versioned message with version 0 but found version ${r}`);const i={numRequiredSignatures:TIe(t),numReadonlySignedAccounts:TIe(t),numReadonlyUnsignedAccounts:TIe(t)},s=[],o=_Ie(t);for(let e=0;e<o;e++)s.push(new gIe(PIe(t,0,fIe)));const a=lSe().encode(PIe(t,0,fIe)),c=_Ie(t),l=[];for(let e=0;e<c;e++){const e=TIe(t),n=PIe(t,0,_Ie(t)),r=_Ie(t),i=new Uint8Array(PIe(t,0,r));l.push({programIdIndex:e,accountKeyIndexes:n,data:i})}const u=_Ie(t),d=[];for(let e=0;e<u;e++){const e=new gIe(PIe(t,0,fIe)),n=PIe(t,0,_Ie(t)),r=PIe(t,0,_Ie(t));d.push({accountKey:e,writableIndexes:n,readonlyIndexes:r})}return new jIe({header:i,staticAccountKeys:s,recentBlockhash:a,compiledInstructions:l,addressTableLookups:d})}}let NIe=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const RIe=Jr.Buffer.alloc(64).fill(0);class $Ie{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Jr.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class MIe{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{const{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(0===e.length)throw new Error("No instructions");return e.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new $Ie(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let e=0;e<t.length;e++)if(void 0===t[e].programId)throw new Error(`Transaction instruction index ${e} has undefined program id`);const r=[],i=[];t.forEach(e=>{e.keys.forEach(e=>{i.push({...e})});const t=e.programId.toString();r.includes(t)||r.push(t)}),r.forEach(e=>{i.push({pubkey:new gIe(e),isSigner:!1,isWritable:!1})});const s=[];i.forEach(e=>{const t=e.pubkey.toString(),n=s.findIndex(e=>e.pubkey.toString()===t);n>-1?(s[n].isWritable=s[n].isWritable||e.isWritable,s[n].isSigner=s[n].isSigner||e.isSigner):s.push(e)}),s.sort(function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})});const o=s.findIndex(e=>e.pubkey.equals(n));if(o>-1){const[e]=s.splice(o,1);e.isSigner=!0,e.isWritable=!0,s.unshift(e)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const e of this.signatures){const t=s.findIndex(t=>t.pubkey.equals(e.publicKey));if(!(t>-1))throw new Error(`unknown signer: ${e.publicKey.toString()}`);s[t].isSigner||(s[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,c=0,l=0;const u=[],d=[];s.forEach(({pubkey:e,isSigner:t,isWritable:n})=>{t?(u.push(e.toString()),a+=1,n||(c+=1)):(d.push(e.toString()),n||(l+=1))});const h=u.concat(d),f=t.map(e=>{const{data:t,programId:n}=e;return{programIdIndex:h.indexOf(n.toString()),accounts:e.keys.map(e=>h.indexOf(e.pubkey.toString())),data:lSe().encode(t)}});return f.forEach(e=>{SIe(e.programIdIndex>=0),e.accounts.forEach(e=>SIe(e>=0))}),new OIe({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:f})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){const n=this.signatures.every((e,n)=>t[n].equals(e.publicKey));if(n)return e}return this.signatures=t.map(e=>({signature:null,publicKey:e})),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw new Error("No signers");const t=new Set;this.signatures=e.filter(e=>{const n=e.toString();return!t.has(n)&&(t.add(n),!0)}).map(e=>({signature:null,publicKey:e}))}sign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,n=[];for(const r of e){const e=r.publicKey.toString();t.has(e)||(t.add(e),n.push(r))}this.signatures=n.map(e=>({signature:null,publicKey:e.publicKey}));const r=this._compile();this._partialSign(r,...n)}partialSign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,n=[];for(const r of e){const e=r.publicKey.toString();t.has(e)||(t.add(e),n.push(r))}const r=this._compile();this._partialSign(r,...n)}_partialSign(e,...t){const n=e.serialize();t.forEach(e=>{const t=aIe(n,e.secretKey);this._addSignature(e.publicKey,lIe(t))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){SIe(64===t.length);const n=this.signatures.findIndex(t=>e.equals(t.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Jr.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const n={};for(const{signature:r,publicKey:i}of this.signatures)null===r?t&&(n.missing||=[]).push(i):cIe(r,e,i.toBytes())||(n.invalid||=[]).push(i);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=this.serializeMessage();if(n){const e=this._getMessageSignednessErrors(r,t);if(e){let t="Signature verification failed.";throw e.invalid&&(t+=`\nInvalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map(e=>e.toBase58()).join("`, `")}\`].`),e.missing&&(t+=`\nMissing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map(e=>e.toBase58()).join("`, `")}\`].`),new Error(t)}}return this._serialize(r)}_serialize(e){const{signatures:t}=this,n=[];CIe(n,t.length);const r=n.length+64*t.length+e.length,i=Jr.Buffer.alloc(r);return SIe(t.length<256),Jr.Buffer.from(n).copy(i,0),t.forEach(({signature:e},t)=>{null!==e&&(SIe(64===e.length,"signature has invalid length"),Jr.Buffer.from(e).copy(i,n.length+64*t))}),e.copy(i,n.length+64*t.length),SIe(i.length<=mIe,`Transaction too large: ${i.length} > 1232`),i}get keys(){return SIe(1===this.instructions.length),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return SIe(1===this.instructions.length),this.instructions[0].programId}get data(){return SIe(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const n=_Ie(t);let r=[];for(let e=0;e<n;e++){const e=PIe(t,0,64);r.push(lSe().encode(Jr.Buffer.from(e)))}return MIe.populate(OIe.from(t),r)}static populate(e,t=[]){const n=new MIe;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach((t,r)=>{const i={signature:t==lSe().encode(RIe)?null:lSe().decode(t),publicKey:e.accountKeys[r]};n.signatures.push(i)}),e.instructions.forEach(t=>{const r=t.accounts.map(t=>{const r=e.accountKeys[t];return{pubkey:r,isSigner:n.signatures.some(e=>e.publicKey.toString()===r.toString())||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}});n.instructions.push(new $Ie({keys:r,programId:e.accountKeys[t.programIdIndex],data:lSe().decode(t.data)}))}),n._message=e,n._json=n.toJSON(),n}}const LIe=new gIe("SysvarC1ock11111111111111111111111111111111"),BIe=(new gIe("SysvarEpochSchedu1e111111111111111111111111"),new gIe("Sysvar1nstructions1111111111111111111111111"),new gIe("SysvarRecentB1ockHashes11111111111111111111")),UIe=new gIe("SysvarRent111111111111111111111111111111111"),DIe=(new gIe("SysvarRewards111111111111111111111111111111"),new gIe("SysvarS1otHashes111111111111111111111111111"),new gIe("SysvarS1otHistory11111111111111111111111111"),new gIe("SysvarStakeHistory1111111111111111111111111"));class FIe extends Error{constructor({action:e,signature:t,transactionMessage:n,logs:r}){const i=r?`Logs: \n${JSON.stringify(r.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let o;switch(e){case"send":o=`Transaction ${t} resulted in an error. \n${n}. `+i+s;break;case"simulate":o=`Simulation failed. \nMessage: ${n}. \n`+i+s;break;default:o=`Unknown action '${e}'`}super(o),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=n,this.transactionLogs=r||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(null==e||"object"!=typeof e||!("then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,n)=>{e.getTransaction(this.signature).then(e=>{if(e&&e.meta&&e.meta.logMessages){const n=e.meta.logMessages;this.transactionLogs=n,t(n)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}}class zIe extends Error{constructor({code:e,message:t,data:n},r){super(null!=r?`${r}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}async function WIe(e,t,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},s=await e.sendTransaction(t,n,i);let o;if(null!=t.recentBlockhash&&null!=t.lastValidBlockHeight)o=(await e.confirmTransaction({abortSignal:r?.abortSignal,signature:s,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},r&&r.commitment)).value;else if(null!=t.minNonceContextSlot&&null!=t.nonceInfo){const{nonceInstruction:n}=t.nonceInfo,i=n.keys[0].pubkey;o=(await e.confirmTransaction({abortSignal:r?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:t.nonceInfo.nonce,signature:s},r&&r.commitment)).value}else null!=r?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await e.confirmTransaction(s,r&&r.commitment)).value;if(o.err){if(null!=s)throw new FIe({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`});throw new Error(`Transaction ${s} failed (${JSON.stringify(o)})`)}return s}function qIe(e){return new Promise(t=>setTimeout(t,e))}function HIe(e,t){const n=e.layout.span>=0?e.layout.span:kIe(e,t),r=Jr.Buffer.alloc(n),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,r),r}const VIe=dSe.I0("lamportsPerSignature"),KIe=dSe.w3([dSe.DH("version"),dSe.DH("state"),xIe("authorizedPubkey"),xIe("nonce"),dSe.w3([VIe],"feeCalculator")]),GIe=KIe.span;class ZIe{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=KIe.decode(lIe(e),0);return new ZIe({authorizedPubkey:new gIe(t.authorizedPubkey),nonce:new gIe(t.nonce).toString(),feeCalculator:t.feeCalculator})}}function YIe(e){const t=(0,dSe.av)(8,e),n=t.decode.bind(t),r=t.encode.bind(t),i=t,s=vSe();return i.decode=(e,t)=>{const r=n(e,t);return s.decode(r)},i.encode=(e,t,n)=>{const i=s.encode(e);return r(i,t,n)},i}const JIe=Object.freeze({Create:{index:0,layout:dSe.w3([dSe.DH("instruction"),dSe.Wg("lamports"),dSe.Wg("space"),xIe("programId")])},Assign:{index:1,layout:dSe.w3([dSe.DH("instruction"),xIe("programId")])},Transfer:{index:2,layout:dSe.w3([dSe.DH("instruction"),YIe("lamports")])},CreateWithSeed:{index:3,layout:dSe.w3([dSe.DH("instruction"),xIe("base"),EIe("seed"),dSe.Wg("lamports"),dSe.Wg("space"),xIe("programId")])},AdvanceNonceAccount:{index:4,layout:dSe.w3([dSe.DH("instruction")])},WithdrawNonceAccount:{index:5,layout:dSe.w3([dSe.DH("instruction"),dSe.Wg("lamports")])},InitializeNonceAccount:{index:6,layout:dSe.w3([dSe.DH("instruction"),xIe("authorized")])},AuthorizeNonceAccount:{index:7,layout:dSe.w3([dSe.DH("instruction"),xIe("authorized")])},Allocate:{index:8,layout:dSe.w3([dSe.DH("instruction"),dSe.Wg("space")])},AllocateWithSeed:{index:9,layout:dSe.w3([dSe.DH("instruction"),xIe("base"),EIe("seed"),dSe.Wg("space"),xIe("programId")])},AssignWithSeed:{index:10,layout:dSe.w3([dSe.DH("instruction"),xIe("base"),EIe("seed"),xIe("programId")])},TransferWithSeed:{index:11,layout:dSe.w3([dSe.DH("instruction"),YIe("lamports"),EIe("seed"),xIe("programId")])},UpgradeNonceAccount:{index:12,layout:dSe.w3([dSe.DH("instruction")])}});class QIe{constructor(){}static createAccount(e){const t=HIe(JIe.Create,{lamports:e.lamports,space:e.space,programId:lIe(e.programId.toBuffer())});return new $Ie({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,n;return"basePubkey"in e?(t=HIe(JIe.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:lIe(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]):(t=HIe(JIe.Transfer,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]),new $Ie({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;return"basePubkey"in e?(t=HIe(JIe.AssignWithSeed,{base:lIe(e.basePubkey.toBuffer()),seed:e.seed,programId:lIe(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=HIe(JIe.Assign,{programId:lIe(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]),new $Ie({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=HIe(JIe.CreateWithSeed,{base:lIe(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:lIe(e.programId.toBuffer())});let n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||n.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new $Ie({keys:n,programId:this.programId,data:t})}static createNonceAccount(e){const t=new MIe;"basePubkey"in e&&"seed"in e?t.add(QIe.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:GIe,programId:this.programId})):t.add(QIe.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:GIe,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){const t=HIe(JIe.InitializeNonceAccount,{authorized:lIe(e.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:BIe,isSigner:!1,isWritable:!1},{pubkey:UIe,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new $Ie(n)}static nonceAdvance(e){const t=HIe(JIe.AdvanceNonceAccount),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:BIe,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new $Ie(n)}static nonceWithdraw(e){const t=HIe(JIe.WithdrawNonceAccount,{lamports:e.lamports});return new $Ie({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:BIe,isSigner:!1,isWritable:!1},{pubkey:UIe,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=HIe(JIe.AuthorizeNonceAccount,{authorized:lIe(e.newAuthorizedPubkey.toBuffer())});return new $Ie({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,n;return"basePubkey"in e?(t=HIe(JIe.AllocateWithSeed,{base:lIe(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:lIe(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=HIe(JIe.Allocate,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]),new $Ie({keys:n,programId:this.programId,data:t})}}QIe.programId=new gIe("11111111111111111111111111111111");class XIe{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/XIe.chunkSize)+1+1)}static async load(e,t,n,r,i){{const s=await e.getMinimumBalanceForRentExemption(i.length),o=await e.getAccountInfo(n.publicKey,"confirmed");let a=null;if(null!==o){if(o.executable)return console.error("Program load failed, account is already executable"),!1;o.data.length!==i.length&&(a=a||new MIe,a.add(QIe.allocate({accountPubkey:n.publicKey,space:i.length}))),o.owner.equals(r)||(a=a||new MIe,a.add(QIe.assign({accountPubkey:n.publicKey,programId:r}))),o.lamports<s&&(a=a||new MIe,a.add(QIe.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:s-o.lamports})))}else a=(new MIe).add(QIe.createAccount({fromPubkey:t.publicKey,newAccountPubkey:n.publicKey,lamports:s>0?s:1,space:i.length,programId:r}));null!==a&&await WIe(e,a,[t,n],{commitment:"confirmed"})}const s=dSe.w3([dSe.DH("instruction"),dSe.DH("offset"),dSe.DH("bytesLength"),dSe.DH("bytesLengthPadding"),dSe.O6(dSe.u8("byte"),dSe.cY(dSe.DH(),-8),"bytes")]),o=XIe.chunkSize;let a=0,c=i,l=[];for(;c.length>0;){const i=c.slice(0,o),u=Jr.Buffer.alloc(o+16);s.encode({instruction:0,offset:a,bytes:i,bytesLength:0,bytesLengthPadding:0},u);const d=(new MIe).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:r,data:u});if(l.push(WIe(e,d,[t,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await qIe(1e3/e)}a+=o,c=c.slice(o)}await Promise.all(l);{const i=dSe.w3([dSe.DH("instruction")]),s=Jr.Buffer.alloc(i.span);i.encode({instruction:1},s);const o=(new MIe).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:UIe,isSigner:!1,isWritable:!1}],programId:r,data:s}),a="processed",c=await e.sendTransaction(o,[t,n],{preflightCommitment:a}),{context:l,value:u}=await e.confirmTransaction({signature:c,lastValidBlockHeight:o.lastValidBlockHeight,blockhash:o.recentBlockhash},a);if(u.err)throw new Error(`Transaction ${c} failed (${JSON.stringify(u)})`);for(;;){try{if(await e.getSlot({commitment:a})>l.slot)break}catch{}await new Promise(e=>setTimeout(e,Math.round(200)))}}return!0}}function eAe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tAe,nAe;function rAe(){if(nAe)return tAe;nAe=1;var e=Object.prototype.toString,t=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};function n(r,i){var s,o,a,c,l,u,d;if(!0===r)return"true";if(!1===r)return"false";switch(typeof r){case"object":if(null===r)return null;if(r.toJSON&&"function"==typeof r.toJSON)return n(r.toJSON(),i);if("[object Array]"===(d=e.call(r))){for(a="[",o=r.length-1,s=0;s<o;s++)a+=n(r[s],!0)+",";return o>-1&&(a+=n(r[s],!0)),a+"]"}if("[object Object]"===d){for(o=(c=t(r).sort()).length,a="",s=0;s<o;)void 0!==(u=n(r[l=c[s]],!1))&&(a&&(a+=","),a+=JSON.stringify(l)+":"+u),s++;return"{"+a+"}"}return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return tAe=function(e){var t=n(e,!1);if(void 0!==t)return""+t}}XIe.chunkSize=932,new gIe("BPFLoader2111111111111111111111111111111111");var iAe=eAe(rAe());function sAe(e){let t=0;for(;e>1;)e/=2,t++;return t}class oAe{constructor(e,t,n,r,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=n,this.firstNormalEpoch=r,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=sAe(function(e){return 0===e?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,1+(e|=e>>32))}(e+32+1))-sAe(32)-1;return[t,e-(this.getSlotsInEpoch(t)-32)]}{const t=e-this.firstNormalSlot,n=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+n,t%this.slotsPerEpoch]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+sAe(32)):this.slotsPerEpoch}}var aAe=globalThis.fetch;class cAe extends JSe{constructor(e,t,n){super(e=>{const n=function(e,t){return new ZSe(e,t)}(e,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return this.underlyingSocket="socket"in n?n.socket:n,n},e,t,n),this.underlyingSocket=void 0}call(...e){const t=this.underlyingSocket?.readyState;return 1===t?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){const t=this.underlyingSocket?.readyState;return 1===t?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}class lAe{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=function(e,t){let n;try{n=e.layout.decode(t)}catch(e){throw new Error("invalid instruction; "+e)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}(uAe,e),n=e.length-56;SIe(n>=0,"lookup table is invalid"),SIe(n%32==0,"lookup table is invalid");const r=n/32,{addresses:i}=dSe.w3([dSe.O6(xIe(),r,"addresses")]).decode(e.slice(56));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:0!==t.authority.length?new gIe(t.authority[0]):void 0,addresses:i.map(e=>new gIe(e))}}}const uAe={index:1,layout:dSe.w3([dSe.DH("typeIndex"),YIe("deactivationSlot"),dSe.I0("lastExtendedSlot"),dSe.u8("lastExtendedStartIndex"),dSe.u8(),dSe.O6(xIe(),dSe.cY(dSe.u8(),-1),"authority")])},dAe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i,hAe=VSe($Se(gIe),FSe(),e=>new gIe(e)),fAe=zSe([FSe(),MSe("base64")]),pAe=VSe($Se(Jr.Buffer),fAe,e=>Jr.Buffer.from(e[0],"base64"));function gAe(e){let t,n;if("string"==typeof e)t=e;else if(e){const{commitment:r,...i}=e;t=r,n=i}return{commitment:t,config:n}}function mAe(e){return e.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function yAe(e){return qSe([WSe({jsonrpc:MSe("2.0"),id:FSe(),result:e}),WSe({jsonrpc:MSe("2.0"),id:FSe(),error:WSe({code:HSe(),message:FSe(),data:USe(jSe("any",()=>!0))})})])}const wAe=yAe(HSe());function bAe(e){return VSe(yAe(e),wAe,t=>"error"in t?t:{...t,result:TSe(t.result,e)})}function vAe(e){return bAe(WSe({context:WSe({slot:BSe()}),value:e}))}function xAe(e){return WSe({context:WSe({slot:BSe()}),value:e})}function EAe(e,t){return 0===e?new jIe({header:t.header,staticAccountKeys:t.accountKeys.map(e=>new gIe(e)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:lSe().decode(e.data)})),addressTableLookups:t.addressTableLookups}):new OIe(t)}const kAe=WSe({foundation:BSe(),foundationTerm:BSe(),initial:BSe(),taper:BSe(),terminal:BSe()}),_Ae=bAe(NSe(LSe(WSe({epoch:BSe(),effectiveSlot:BSe(),amount:BSe(),postBalance:BSe(),commission:USe(LSe(BSe()))})))),CAe=NSe(WSe({slot:BSe(),prioritizationFee:BSe()})),SAe=WSe({total:BSe(),validator:BSe(),foundation:BSe(),epoch:BSe()}),IAe=WSe({epoch:BSe(),slotIndex:BSe(),slotsInEpoch:BSe(),absoluteSlot:BSe(),blockHeight:USe(BSe()),transactionCount:USe(BSe())}),AAe=WSe({slotsPerEpoch:BSe(),leaderScheduleSlotOffset:BSe(),warmup:RSe(),firstNormalEpoch:BSe(),firstNormalSlot:BSe()}),TAe=DSe(FSe(),NSe(BSe())),PAe=LSe(qSe([WSe({}),FSe()])),OAe=WSe({err:PAe}),jAe=MSe("receivedSignature"),NAe=WSe({"solana-core":FSe(),"feature-set":USe(BSe())}),RAe=WSe({program:FSe(),programId:hAe,parsed:HSe()}),$Ae=WSe({programId:hAe,accounts:NSe(hAe),data:FSe()}),MAe=vAe(WSe({err:LSe(qSe([WSe({}),FSe()])),logs:LSe(NSe(FSe())),accounts:USe(LSe(NSe(LSe(WSe({executable:RSe(),owner:FSe(),lamports:BSe(),data:NSe(FSe()),rentEpoch:USe(BSe())}))))),unitsConsumed:USe(BSe()),returnData:USe(LSe(WSe({programId:FSe(),data:zSe([FSe(),MSe("base64")])}))),innerInstructions:USe(LSe(NSe(WSe({index:BSe(),instructions:NSe(qSe([RAe,$Ae]))}))))})),LAe=vAe(WSe({byIdentity:DSe(FSe(),NSe(BSe())),range:WSe({firstSlot:BSe(),lastSlot:BSe()})})),BAe=bAe(kAe),UAe=bAe(SAe),DAe=bAe(CAe),FAe=bAe(IAe),zAe=bAe(AAe),WAe=bAe(TAe),qAe=bAe(BSe()),HAe=vAe(WSe({total:BSe(),circulating:BSe(),nonCirculating:BSe(),nonCirculatingAccounts:NSe(hAe)})),VAe=WSe({amount:FSe(),uiAmount:LSe(BSe()),decimals:BSe(),uiAmountString:USe(FSe())}),KAe=vAe(NSe(WSe({address:hAe,amount:FSe(),uiAmount:LSe(BSe()),decimals:BSe(),uiAmountString:USe(FSe())}))),GAe=vAe(NSe(WSe({pubkey:hAe,account:WSe({executable:RSe(),owner:hAe,lamports:BSe(),data:pAe,rentEpoch:BSe()})}))),ZAe=WSe({program:FSe(),parsed:HSe(),space:BSe()}),YAe=vAe(NSe(WSe({pubkey:hAe,account:WSe({executable:RSe(),owner:hAe,lamports:BSe(),data:ZAe,rentEpoch:BSe()})}))),JAe=vAe(NSe(WSe({lamports:BSe(),address:hAe}))),QAe=WSe({executable:RSe(),owner:hAe,lamports:BSe(),data:pAe,rentEpoch:BSe()}),XAe=WSe({pubkey:hAe,account:QAe}),eTe=VSe(qSe([$Se(Jr.Buffer),ZAe]),qSe([fAe,ZAe]),e=>Array.isArray(e)?TSe(e,pAe):e),tTe=WSe({executable:RSe(),owner:hAe,lamports:BSe(),data:eTe,rentEpoch:BSe()}),nTe=WSe({pubkey:hAe,account:tTe}),rTe=WSe({state:qSe([MSe("active"),MSe("inactive"),MSe("activating"),MSe("deactivating")]),active:BSe(),inactive:BSe()}),iTe=bAe(NSe(WSe({signature:FSe(),slot:BSe(),err:PAe,memo:LSe(FSe()),blockTime:USe(LSe(BSe()))}))),sTe=bAe(NSe(WSe({signature:FSe(),slot:BSe(),err:PAe,memo:LSe(FSe()),blockTime:USe(LSe(BSe()))}))),oTe=WSe({subscription:BSe(),result:xAe(QAe)}),aTe=WSe({pubkey:hAe,account:QAe}),cTe=WSe({subscription:BSe(),result:xAe(aTe)}),lTe=WSe({parent:BSe(),slot:BSe(),root:BSe()}),uTe=WSe({subscription:BSe(),result:lTe}),dTe=qSe([WSe({type:qSe([MSe("firstShredReceived"),MSe("completed"),MSe("optimisticConfirmation"),MSe("root")]),slot:BSe(),timestamp:BSe()}),WSe({type:MSe("createdBank"),parent:BSe(),slot:BSe(),timestamp:BSe()}),WSe({type:MSe("frozen"),slot:BSe(),timestamp:BSe(),stats:WSe({numTransactionEntries:BSe(),numSuccessfulTransactions:BSe(),numFailedTransactions:BSe(),maxTransactionsPerEntry:BSe()})}),WSe({type:MSe("dead"),slot:BSe(),timestamp:BSe(),err:FSe()})]),hTe=WSe({subscription:BSe(),result:dTe}),fTe=WSe({subscription:BSe(),result:xAe(qSe([OAe,jAe]))}),pTe=WSe({subscription:BSe(),result:BSe()}),gTe=WSe({pubkey:FSe(),gossip:LSe(FSe()),tpu:LSe(FSe()),rpc:LSe(FSe()),version:LSe(FSe())}),mTe=WSe({votePubkey:FSe(),nodePubkey:FSe(),activatedStake:BSe(),epochVoteAccount:RSe(),epochCredits:NSe(zSe([BSe(),BSe(),BSe()])),commission:BSe(),lastVote:BSe(),rootSlot:LSe(BSe())}),yTe=bAe(WSe({current:NSe(mTe),delinquent:NSe(mTe)})),wTe=qSe([MSe("processed"),MSe("confirmed"),MSe("finalized")]),bTe=WSe({slot:BSe(),confirmations:LSe(BSe()),err:PAe,confirmationStatus:USe(wTe)}),vTe=vAe(NSe(LSe(bTe))),xTe=bAe(BSe()),ETe=WSe({accountKey:hAe,writableIndexes:NSe(BSe()),readonlyIndexes:NSe(BSe())}),kTe=WSe({signatures:NSe(FSe()),message:WSe({accountKeys:NSe(FSe()),header:WSe({numRequiredSignatures:BSe(),numReadonlySignedAccounts:BSe(),numReadonlyUnsignedAccounts:BSe()}),instructions:NSe(WSe({accounts:NSe(BSe()),data:FSe(),programIdIndex:BSe()})),recentBlockhash:FSe(),addressTableLookups:USe(NSe(ETe))})}),_Te=WSe({pubkey:hAe,signer:RSe(),writable:RSe(),source:USe(qSe([MSe("transaction"),MSe("lookupTable")]))}),CTe=WSe({accountKeys:NSe(_Te),signatures:NSe(FSe())}),STe=WSe({parsed:HSe(),program:FSe(),programId:hAe}),ITe=WSe({accounts:NSe(hAe),data:FSe(),programId:hAe}),ATe=VSe(qSe([ITe,STe]),qSe([WSe({parsed:HSe(),program:FSe(),programId:FSe()}),WSe({accounts:NSe(FSe()),data:FSe(),programId:FSe()})]),e=>TSe(e,"accounts"in e?ITe:STe)),TTe=WSe({signatures:NSe(FSe()),message:WSe({accountKeys:NSe(_Te),instructions:NSe(ATe),recentBlockhash:FSe(),addressTableLookups:USe(LSe(NSe(ETe)))})}),PTe=WSe({accountIndex:BSe(),mint:FSe(),owner:USe(FSe()),programId:USe(FSe()),uiTokenAmount:VAe}),OTe=WSe({writable:NSe(hAe),readonly:NSe(hAe)}),jTe=WSe({err:PAe,fee:BSe(),innerInstructions:USe(LSe(NSe(WSe({index:BSe(),instructions:NSe(WSe({accounts:NSe(BSe()),data:FSe(),programIdIndex:BSe()}))})))),preBalances:NSe(BSe()),postBalances:NSe(BSe()),logMessages:USe(LSe(NSe(FSe()))),preTokenBalances:USe(LSe(NSe(PTe))),postTokenBalances:USe(LSe(NSe(PTe))),loadedAddresses:USe(OTe),computeUnitsConsumed:USe(BSe())}),NTe=WSe({err:PAe,fee:BSe(),innerInstructions:USe(LSe(NSe(WSe({index:BSe(),instructions:NSe(ATe)})))),preBalances:NSe(BSe()),postBalances:NSe(BSe()),logMessages:USe(LSe(NSe(FSe()))),preTokenBalances:USe(LSe(NSe(PTe))),postTokenBalances:USe(LSe(NSe(PTe))),loadedAddresses:USe(OTe),computeUnitsConsumed:USe(BSe())}),RTe=qSe([MSe(0),MSe("legacy")]),$Te=WSe({pubkey:FSe(),lamports:BSe(),postBalance:LSe(BSe()),rewardType:LSe(FSe()),commission:USe(LSe(BSe()))}),MTe=bAe(LSe(WSe({blockhash:FSe(),previousBlockhash:FSe(),parentSlot:BSe(),transactions:NSe(WSe({transaction:kTe,meta:LSe(jTe),version:USe(RTe)})),rewards:USe(NSe($Te)),blockTime:LSe(BSe()),blockHeight:LSe(BSe())}))),LTe=bAe(LSe(WSe({blockhash:FSe(),previousBlockhash:FSe(),parentSlot:BSe(),rewards:USe(NSe($Te)),blockTime:LSe(BSe()),blockHeight:LSe(BSe())}))),BTe=bAe(LSe(WSe({blockhash:FSe(),previousBlockhash:FSe(),parentSlot:BSe(),transactions:NSe(WSe({transaction:CTe,meta:LSe(jTe),version:USe(RTe)})),rewards:USe(NSe($Te)),blockTime:LSe(BSe()),blockHeight:LSe(BSe())}))),UTe=bAe(LSe(WSe({blockhash:FSe(),previousBlockhash:FSe(),parentSlot:BSe(),transactions:NSe(WSe({transaction:TTe,meta:LSe(NTe),version:USe(RTe)})),rewards:USe(NSe($Te)),blockTime:LSe(BSe()),blockHeight:LSe(BSe())}))),DTe=bAe(LSe(WSe({blockhash:FSe(),previousBlockhash:FSe(),parentSlot:BSe(),transactions:NSe(WSe({transaction:CTe,meta:LSe(NTe),version:USe(RTe)})),rewards:USe(NSe($Te)),blockTime:LSe(BSe()),blockHeight:LSe(BSe())}))),FTe=bAe(LSe(WSe({blockhash:FSe(),previousBlockhash:FSe(),parentSlot:BSe(),rewards:USe(NSe($Te)),blockTime:LSe(BSe()),blockHeight:LSe(BSe())}))),zTe=bAe(LSe(WSe({blockhash:FSe(),previousBlockhash:FSe(),parentSlot:BSe(),transactions:NSe(WSe({transaction:kTe,meta:LSe(jTe)})),rewards:USe(NSe($Te)),blockTime:LSe(BSe())}))),WTe=bAe(LSe(WSe({blockhash:FSe(),previousBlockhash:FSe(),parentSlot:BSe(),signatures:NSe(FSe()),blockTime:LSe(BSe())}))),qTe=bAe(LSe(WSe({slot:BSe(),meta:LSe(jTe),blockTime:USe(LSe(BSe())),transaction:kTe,version:USe(RTe)}))),HTe=bAe(LSe(WSe({slot:BSe(),transaction:TTe,meta:LSe(NTe),blockTime:USe(LSe(BSe())),version:USe(RTe)}))),VTe=vAe(WSe({blockhash:FSe(),lastValidBlockHeight:BSe()})),KTe=vAe(RSe()),GTe=bAe(NSe(WSe({slot:BSe(),numTransactions:BSe(),numSlots:BSe(),samplePeriodSecs:BSe()}))),ZTe=vAe(LSe(WSe({feeCalculator:WSe({lamportsPerSignature:BSe()})}))),YTe=bAe(FSe()),JTe=bAe(FSe()),QTe=WSe({err:PAe,logs:NSe(FSe()),signature:FSe()}),XTe=WSe({result:xAe(QTe),subscription:BSe()}),ePe={"solana-client":"js/1.0.0-maintenance"};class tPe{constructor(e){this._keypair=void 0,this._keypair=e??iIe()}static generate(){return new tPe(iIe())}static fromSecretKey(e,t){if(64!==e.byteLength)throw new Error("bad secret key size");const n=e.slice(32,64);if(!t||!t.skipValidation){const t=e.slice(0,32),r=sIe(t);for(let e=0;e<32;e++)if(n[e]!==r[e])throw new Error("provided secretKey is invalid")}return new tPe({publicKey:n,secretKey:e})}static fromSeed(e){const t=sIe(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),new tPe({publicKey:t,secretKey:n})}get publicKey(){return new gIe(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:dSe.w3([dSe.DH("instruction"),YIe("recentSlot"),dSe.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:dSe.w3([dSe.DH("instruction")])},ExtendLookupTable:{index:2,layout:dSe.w3([dSe.DH("instruction"),YIe(),dSe.O6(xIe(),dSe.cY(dSe.DH(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:dSe.w3([dSe.DH("instruction")])},CloseLookupTable:{index:4,layout:dSe.w3([dSe.DH("instruction")])}});new gIe("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:dSe.w3([dSe.u8("instruction"),dSe.DH("units"),dSe.DH("additionalFee")])},RequestHeapFrame:{index:1,layout:dSe.w3([dSe.u8("instruction"),dSe.DH("bytes")])},SetComputeUnitLimit:{index:2,layout:dSe.w3([dSe.u8("instruction"),dSe.DH("units")])},SetComputeUnitPrice:{index:3,layout:dSe.w3([dSe.u8("instruction"),YIe("microLamports")])}});new gIe("ComputeBudget111111111111111111111111111111");const nPe=dSe.w3([dSe.u8("numSignatures"),dSe.u8("padding"),dSe.NX("signatureOffset"),dSe.NX("signatureInstructionIndex"),dSe.NX("publicKeyOffset"),dSe.NX("publicKeyInstructionIndex"),dSe.NX("messageDataOffset"),dSe.NX("messageDataSize"),dSe.NX("messageInstructionIndex")]);class rPe{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:r,instructionIndex:i}=e;SIe(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),SIe(64===r.length,`Signature must be 64 bytes but received ${r.length} bytes`);const s=nPe.span,o=s+t.length,a=o+r.length,c=Jr.Buffer.alloc(a+n.length),l=null==i?65535:i;return nPe.encode({numSignatures:1,padding:0,signatureOffset:o,signatureInstructionIndex:l,publicKeyOffset:s,publicKeyInstructionIndex:l,messageDataOffset:a,messageDataSize:n.length,messageInstructionIndex:l},c),c.fill(t,s),c.fill(r,o),c.fill(n,a),new $Ie({keys:[],programId:rPe.programId,data:c})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:r}=e;SIe(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=tPe.fromSecretKey(t),i=e.publicKey.toBytes(),s=aIe(n,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:s,instructionIndex:r})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}rPe.programId=new gIe("Ed25519SigVerify111111111111111111111111111"),rIe.utils.isValidPrivateKey;const iPe=rIe.getPublicKey,sPe=dSe.w3([dSe.u8("numSignatures"),dSe.NX("signatureOffset"),dSe.u8("signatureInstructionIndex"),dSe.NX("ethAddressOffset"),dSe.u8("ethAddressInstructionIndex"),dSe.NX("messageDataOffset"),dSe.NX("messageDataSize"),dSe.u8("messageInstructionIndex"),dSe.av(20,"ethAddress"),dSe.av(64,"signature"),dSe.u8("recoveryId")]);class oPe{constructor(){}static publicKeyToEthAddress(e){SIe(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return Jr.Buffer.from((0,Yv.lY)(lIe(e))).slice(-20)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:r,recoveryId:i,instructionIndex:s}=e;return oPe.createInstructionWithEthAddress({ethAddress:oPe.publicKeyToEthAddress(t),message:n,signature:r,recoveryId:i,instructionIndex:s})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:n,signature:r,recoveryId:i,instructionIndex:s=0}=e;let o;o="string"==typeof t?t.startsWith("0x")?Jr.Buffer.from(t.substr(2),"hex"):Jr.Buffer.from(t,"hex"):t,SIe(20===o.length,`Address must be 20 bytes but received ${o.length} bytes`);const a=12+o.length,c=a+r.length+1,l=Jr.Buffer.alloc(sPe.span+n.length);return sPe.encode({numSignatures:1,signatureOffset:a,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:s,signature:lIe(r),ethAddress:lIe(o),recoveryId:i},l),l.fill(lIe(n),sPe.span),new $Ie({keys:[],programId:oPe.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:r}=e;SIe(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=lIe(t),i=iPe(e,!1).slice(1),s=Jr.Buffer.from((0,Yv.lY)(lIe(n))),[o,a]=((e,t)=>{const n=rIe.sign(e,t);return[n.toCompactRawBytes(),n.recovery]})(s,e);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:o,recoveryId:a,instructionIndex:r})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}var aPe;oPe.programId=new gIe("KeccakSecp256k11111111111111111111111111111");const cPe=new gIe("StakeConfig11111111111111111111111111111111");class lPe{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}}aPe=lPe,lPe.default=new aPe(0,0,gIe.default);const uPe=Object.freeze({Initialize:{index:0,layout:dSe.w3([dSe.DH("instruction"),((e="authorized")=>dSe.w3([xIe("staker"),xIe("withdrawer")],e))(),((e="lockup")=>dSe.w3([dSe.Wg("unixTimestamp"),dSe.Wg("epoch"),xIe("custodian")],e))()])},Authorize:{index:1,layout:dSe.w3([dSe.DH("instruction"),xIe("newAuthorized"),dSe.DH("stakeAuthorizationType")])},Delegate:{index:2,layout:dSe.w3([dSe.DH("instruction")])},Split:{index:3,layout:dSe.w3([dSe.DH("instruction"),dSe.Wg("lamports")])},Withdraw:{index:4,layout:dSe.w3([dSe.DH("instruction"),dSe.Wg("lamports")])},Deactivate:{index:5,layout:dSe.w3([dSe.DH("instruction")])},Merge:{index:7,layout:dSe.w3([dSe.DH("instruction")])},AuthorizeWithSeed:{index:8,layout:dSe.w3([dSe.DH("instruction"),xIe("newAuthorized"),dSe.DH("stakeAuthorizationType"),EIe("authoritySeed"),xIe("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class dPe{constructor(){}static initialize(e){const{stakePubkey:t,authorized:n,lockup:r}=e,i=r||lPe.default,s=HIe(uPe.Initialize,{authorized:{staker:lIe(n.staker.toBuffer()),withdrawer:lIe(n.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:lIe(i.custodian.toBuffer())}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:UIe,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new $Ie(o)}static createAccountWithSeed(e){const t=new MIe;t.add(QIe.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static createAccount(e){const t=new MIe;t.add(QIe.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:n,votePubkey:r}=e,i=HIe(uPe.Delegate);return(new MIe).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:LIe,isSigner:!1,isWritable:!1},{pubkey:DIe,isSigner:!1,isWritable:!1},{pubkey:cPe,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,stakeAuthorizationType:i,custodianPubkey:s}=e,o=HIe(uPe.Authorize,{newAuthorized:lIe(r.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:LIe,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!0,isWritable:!1}),(new MIe).add({keys:a,programId:this.programId,data:o})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:n,authoritySeed:r,authorityOwner:i,newAuthorizedPubkey:s,stakeAuthorizationType:o,custodianPubkey:a}=e,c=HIe(uPe.AuthorizeWithSeed,{newAuthorized:lIe(s.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:r,authorityOwner:lIe(i.toBuffer())}),l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:LIe,isSigner:!1,isWritable:!1}];return a&&l.push({pubkey:a,isSigner:!0,isWritable:!1}),(new MIe).add({keys:l,programId:this.programId,data:c})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:r,lamports:i}=e,s=HIe(uPe.Split,{lamports:i});return new $Ie({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static split(e,t){const n=new MIe;return n.add(QIe.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,basePubkey:s,seed:o,lamports:a}=e,c=new MIe;return c.add(QIe.allocate({accountPubkey:i,basePubkey:s,seed:o,space:this.space,programId:this.programId})),t&&t>0&&c.add(QIe.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),c.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,lamports:a}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:n,authorizedPubkey:r}=e,i=HIe(uPe.Merge);return(new MIe).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:LIe,isSigner:!1,isWritable:!1},{pubkey:DIe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:n,toPubkey:r,lamports:i,custodianPubkey:s}=e,o=HIe(uPe.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:LIe,isSigner:!1,isWritable:!1},{pubkey:DIe,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!0,isWritable:!1}),(new MIe).add({keys:a,programId:this.programId,data:o})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:n}=e,r=HIe(uPe.Deactivate);return(new MIe).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:LIe,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}}dPe.programId=new gIe("Stake11111111111111111111111111111111111111"),dPe.space=200;const hPe=Object.freeze({InitializeAccount:{index:0,layout:dSe.w3([dSe.DH("instruction"),((e="voteInit")=>dSe.w3([xIe("nodePubkey"),xIe("authorizedVoter"),xIe("authorizedWithdrawer"),dSe.u8("commission")],e))()])},Authorize:{index:1,layout:dSe.w3([dSe.DH("instruction"),xIe("newAuthorized"),dSe.DH("voteAuthorizationType")])},Withdraw:{index:3,layout:dSe.w3([dSe.DH("instruction"),dSe.Wg("lamports")])},UpdateValidatorIdentity:{index:4,layout:dSe.w3([dSe.DH("instruction")])},AuthorizeWithSeed:{index:10,layout:dSe.w3([dSe.DH("instruction"),((e="voteAuthorizeWithSeedArgs")=>dSe.w3([dSe.DH("voteAuthorizationType"),xIe("currentAuthorityDerivedKeyOwnerPubkey"),EIe("currentAuthorityDerivedKeySeed"),xIe("newAuthorized")],e))()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class fPe{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:n,voteInit:r}=e,i=HIe(hPe.InitializeAccount,{voteInit:{nodePubkey:lIe(r.nodePubkey.toBuffer()),authorizedVoter:lIe(r.authorizedVoter.toBuffer()),authorizedWithdrawer:lIe(r.authorizedWithdrawer.toBuffer()),commission:r.commission}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:UIe,isSigner:!1,isWritable:!1},{pubkey:LIe,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new $Ie(s)}static createAccount(e){const t=new MIe;return t.add(QIe.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,voteAuthorizationType:i}=e,s=HIe(hPe.Authorize,{newAuthorized:lIe(r.toBuffer()),voteAuthorizationType:i.index}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:LIe,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new MIe).add({keys:o,programId:this.programId,data:s})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:i,voteAuthorizationType:s,votePubkey:o}=e,a=HIe(hPe.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:lIe(n.toBuffer()),currentAuthorityDerivedKeySeed:r,newAuthorized:lIe(i.toBuffer()),voteAuthorizationType:s.index}}),c=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:LIe,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return(new MIe).add({keys:c,programId:this.programId,data:a})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,lamports:r,toPubkey:i}=e,s=HIe(hPe.Withdraw,{lamports:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return(new MIe).add({keys:o,programId:this.programId,data:s})}static safeWithdraw(e,t,n){if(e.lamports>t-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return fPe.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,nodePubkey:r}=e,i=HIe(hPe.UpdateValidatorIdentity),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new MIe).add({keys:s,programId:this.programId,data:i})}}fPe.programId=new gIe("Vote111111111111111111111111111111111111111"),fPe.space=3762,new gIe("Va1idator1nfo111111111111111111111111111111"),WSe({name:FSe(),website:USe(FSe()),details:USe(FSe()),iconUrl:USe(FSe()),keybaseUsername:USe(FSe())}),new gIe("Vote111111111111111111111111111111111111111"),dSe.w3([xIe("nodePubkey"),xIe("authorizedWithdrawer"),dSe.u8("commission"),dSe.I0(),dSe.O6(dSe.w3([dSe.I0("slot"),dSe.DH("confirmationCount")]),dSe.cY(dSe.DH(),-8),"votes"),dSe.u8("rootSlotValid"),dSe.I0("rootSlot"),dSe.I0(),dSe.O6(dSe.w3([dSe.I0("epoch"),xIe("authorizedVoter")]),dSe.cY(dSe.DH(),-8),"authorizedVoters"),dSe.w3([dSe.O6(dSe.w3([xIe("authorizedPubkey"),dSe.I0("epochOfLastAuthorizedSwitch"),dSe.I0("targetEpoch")]),32,"buf"),dSe.I0("idx"),dSe.u8("isEmpty")],"priorVoters"),dSe.I0(),dSe.O6(dSe.w3([dSe.I0("epoch"),dSe.I0("credits"),dSe.I0("prevCredits")]),dSe.cY(dSe.DH(),-8),"epochCredits"),dSe.w3([dSe.I0("slot"),dSe.I0("timestamp")],"lastTimestamp")]),console.log("Initializing PlsGive Bundle...");const pPe={colyseus:e,gsap:Zr,web3:{Transaction:MIe,Connection:class{constructor(e,t){let n,r,i,s,o,a;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const e={};return async t=>{const{commitment:n,config:r}=gAe(t),i=this._buildArgs([],n,void 0,r),s=iAe(i);return e[s]=e[s]??(async()=>{try{const e=TSe(await this._rpcRequest("getBlockHeight",i),bAe(BSe()));if("error"in e)throw new zIe(e.error,"failed to get block height information");return e.result}finally{delete e[s]}})(),await e[s]}})(),t&&"string"==typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,r=t.httpHeaders,i=t.fetch,s=t.fetchMiddleware,o=t.disableRetryOnRateLimit,a=t.httpAgent),this._rpcEndpoint=function(e){if(!1===/^https?:/.test(e))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}(e),this._rpcWsEndpoint=n||function(e){const t=e.match(dAe);if(null==t)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,r,i,s]=t,o=e.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10);return`${o}//${r}${null==a?"":`:${a+1}`}${s}`}(e),this._rpcClient=function(e,t,n,r,i,s){const o=n||aAe;let a;return null!=s&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),r&&(a=async(e,t)=>{const n=await new Promise((n,i)=>{try{r(e,t,(e,t)=>n([e,t]))}catch(e){i(e)}});return await o(...n)}),new(GSe())(async(n,r)=>{const s={method:"POST",body:n,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},t||{},ePe)};try{let t,n=5,c=500;for(;t=a?await a(e,s):await o(e,s),429===t.status&&!0!==i&&(n-=1,0!==n);)console.error(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${c}ms delay...`),await qIe(c),c*=2;const l=await t.text();t.ok?r(null,l):r(new Error(`${t.status} ${t.statusText}: ${l}`))}catch(e){e instanceof Error&&r(e)}},{})}(e,r,i,s,o,a),this._rpcRequest=function(e){return(t,n)=>new Promise((r,i)=>{e.request(t,n,(e,t)=>{e?i(e):r(t)})})}(this._rpcClient),this._rpcBatchRequest=function(e){return t=>new Promise((n,r)=>{0===t.length&&n([]);const i=t.map(t=>e.request(t.methodName,t.args));e.request(i,(e,t)=>{e?r(e):n(t)})})}(this._rpcClient),this._rpcWebSocket=new cAe(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:n,config:r}=gAe(t),i=this._buildArgs([e.toBase58()],n,void 0,r),s=TSe(await this._rpcRequest("getBalance",i),vAe(BSe()));if("error"in s)throw new zIe(s.error,`failed to get balance for ${e.toBase58()}`);return s.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(e=>e.value).catch(t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)})}async getBlockTime(e){const t=TSe(await this._rpcRequest("getBlockTime",[e]),bAe(LSe(BSe())));if("error"in t)throw new zIe(t.error,`failed to get block time for slot ${e}`);return t.result}async getMinimumLedgerSlot(){const e=TSe(await this._rpcRequest("minimumLedgerSlot",[]),bAe(BSe()));if("error"in e)throw new zIe(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){const e=TSe(await this._rpcRequest("getFirstAvailableBlock",[]),qAe);if("error"in e)throw new zIe(e.error,"failed to get first available block");return e.result}async getSupply(e){let t={};t="string"==typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const n=TSe(await this._rpcRequest("getSupply",[t]),HAe);if("error"in n)throw new zIe(n.error,"failed to get supply");return n.result}async getTokenSupply(e,t){const n=this._buildArgs([e.toBase58()],t),r=TSe(await this._rpcRequest("getTokenSupply",n),vAe(VAe));if("error"in r)throw new zIe(r.error,"failed to get token supply");return r.result}async getTokenAccountBalance(e,t){const n=this._buildArgs([e.toBase58()],t),r=TSe(await this._rpcRequest("getTokenAccountBalance",n),vAe(VAe));if("error"in r)throw new zIe(r.error,"failed to get token account balance");return r.result}async getTokenAccountsByOwner(e,t,n){const{commitment:r,config:i}=gAe(n);let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const o=this._buildArgs(s,r,"base64",i),a=TSe(await this._rpcRequest("getTokenAccountsByOwner",o),GAe);if("error"in a)throw new zIe(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getParsedTokenAccountsByOwner(e,t,n){let r=[e.toBase58()];"mint"in t?r.push({mint:t.mint.toBase58()}):r.push({programId:t.programId.toBase58()});const i=this._buildArgs(r,n,"jsonParsed"),s=TSe(await this._rpcRequest("getTokenAccountsByOwner",i),YAe);if("error"in s)throw new zIe(s.error,`failed to get token accounts owned by account ${e.toBase58()}`);return s.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},n=t.filter||t.commitment?[t]:[],r=TSe(await this._rpcRequest("getLargestAccounts",n),JAe);if("error"in r)throw new zIe(r.error,"failed to get largest accounts");return r.result}async getTokenLargestAccounts(e,t){const n=this._buildArgs([e.toBase58()],t),r=TSe(await this._rpcRequest("getTokenLargestAccounts",n),KAe);if("error"in r)throw new zIe(r.error,"failed to get token largest accounts");return r.result}async getAccountInfoAndContext(e,t){const{commitment:n,config:r}=gAe(t),i=this._buildArgs([e.toBase58()],n,"base64",r),s=TSe(await this._rpcRequest("getAccountInfo",i),vAe(LSe(QAe)));if("error"in s)throw new zIe(s.error,`failed to get info about account ${e.toBase58()}`);return s.result}async getParsedAccountInfo(e,t){const{commitment:n,config:r}=gAe(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",r),s=TSe(await this._rpcRequest("getAccountInfo",i),vAe(LSe(tTe)));if("error"in s)throw new zIe(s.error,`failed to get info about account ${e.toBase58()}`);return s.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(t){throw new Error("failed to get info about account "+e.toBase58()+": "+t)}}async getMultipleParsedAccounts(e,t){const{commitment:n,config:r}=gAe(t),i=e.map(e=>e.toBase58()),s=this._buildArgs([i],n,"jsonParsed",r),o=TSe(await this._rpcRequest("getMultipleAccounts",s),vAe(NSe(LSe(tTe))));if("error"in o)throw new zIe(o.error,`failed to get info for accounts ${i}`);return o.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:n,config:r}=gAe(t),i=e.map(e=>e.toBase58()),s=this._buildArgs([i],n,"base64",r),o=TSe(await this._rpcRequest("getMultipleAccounts",s),vAe(NSe(LSe(QAe))));if("error"in o)throw new zIe(o.error,`failed to get info for accounts ${i}`);return o.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,n){const{commitment:r,config:i}=gAe(t),s=this._buildArgs([e.toBase58()],r,void 0,{...i,epoch:null!=n?n:i?.epoch}),o=TSe(await this._rpcRequest("getStakeActivation",s),bAe(rTe));if("error"in o)throw new zIe(o.error,`failed to get Stake Activation ${e.toBase58()}`);return o.result}async getProgramAccounts(e,t){const{commitment:n,config:r}=gAe(t),{encoding:i,...s}=r||{},o=this._buildArgs([e.toBase58()],n,i||"base64",{...s,...s.filters?{filters:mAe(s.filters)}:null}),a=await this._rpcRequest("getProgramAccounts",o),c=NSe(XAe),l=!0===s.withContext?TSe(a,vAe(c)):TSe(a,bAe(c));if("error"in l)throw new zIe(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:n,config:r}=gAe(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",r),s=TSe(await this._rpcRequest("getProgramAccounts",i),bAe(NSe(nTe)));if("error"in s)throw new zIe(s.error,`failed to get accounts owned by program ${e.toBase58()}`);return s.result}async confirmTransaction(e,t){let n,r;if("string"==typeof e)n=e;else{const t=e;if(t.abortSignal?.aborted)return Promise.reject(t.abortSignal.reason);n=t.signature}try{r=lSe().decode(n)}catch(e){throw new Error("signature must be base58 encoded: "+n)}return SIe(64===r.length,"signature has invalid length"),"string"==typeof e?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,n)=>{null!=e&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let n,r,i=!1;return{abortConfirmation:()=>{r&&(r(),r=void 0),null!=n&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:new Promise((s,o)=>{try{n=this.onSignature(t,(e,t)=>{n=void 0;const r={context:t,value:e};s({__type:NIe.PROCESSED,response:r})},e);const a=new Promise(e=>{null==n?e():r=this._onSubscriptionStateChange(n,t=>{"subscribed"===t&&e()})});(async()=>{if(await a,i)return;const n=await this.getSignatureStatus(t);if(i)return;if(null==n)return;const{context:r,value:c}=n;if(null!=c)if(c?.err)o(c.err);else{switch(e){case"confirmed":case"single":case"singleGossip":if("processed"===c.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===c.confirmationStatus||"confirmed"===c.confirmationStatus)return}i=!0,s({__type:NIe.PROCESSED,response:{context:r,value:c}})}})()}catch(e){o(e)}})}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:n,signature:r}}){let i=!1;const s=new Promise(t=>{const r=async()=>{try{return await this.getBlockHeight(e)}catch(e){return-1}};(async()=>{let e=await r();if(!i){for(;e<=n;){if(await qIe(1e3),i)return;if(e=await r(),i)return}t({__type:NIe.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:o,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:e,signature:r}),c=this.getCancellationPromise(t);let l;try{const e=await Promise.race([c,a,s]);if(e.__type!==NIe.PROCESSED)throw new yIe(r);l=e.response}finally{i=!0,o()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:n,nonceAccountPubkey:r,nonceValue:i,signature:s}}){let o=!1;const a=new Promise(t=>{let s=i,a=null;const c=async()=>{try{const{context:t,value:i}=await this.getNonceAndContext(r,{commitment:e,minContextSlot:n});return a=t.slot,i?.nonce}catch(e){return s}};(async()=>{if(s=await c(),!o)for(;;){if(i!==s)return void t({__type:NIe.NONCE_INVALID,slotInWhichNonceDidAdvance:a});if(await qIe(2e3),o)return;if(s=await c(),o)return}})()}),{abortConfirmation:c,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let d;try{const t=await Promise.race([u,l,a]);if(t.__type===NIe.PROCESSED)d=t.response;else{let r;for(;;){const e=await this.getSignatureStatus(s);if(null==e)break;if(!(e.context.slot<(t.slotInWhichNonceDidAdvance??n))){r=e;break}await qIe(400)}if(!r?.value)throw new bIe(s);{const t=e||"finalized",{confirmationStatus:n}=r.value;switch(t){case"processed":case"recent":if("processed"!==n&&"confirmed"!==n&&"finalized"!==n)throw new bIe(s);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==n&&"finalized"!==n)throw new bIe(s);break;case"finalized":case"max":case"root":if("finalized"!==n)throw new bIe(s)}d={context:r.context,value:{err:r.value.err}}}}}finally{o=!0,c()}return d}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let n;const r=new Promise(t=>{let r=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":r=this._confirmTransactionInitialTimeout||3e4}n=setTimeout(()=>t({__type:NIe.TIMED_OUT,timeoutMs:r}),r)}),{abortConfirmation:i,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let o;try{const e=await Promise.race([s,r]);if(e.__type!==NIe.PROCESSED)throw new wIe(t,e.timeoutMs/1e3);o=e.response}finally{clearTimeout(n),i()}return o}async getClusterNodes(){const e=TSe(await this._rpcRequest("getClusterNodes",[]),bAe(NSe(gTe)));if("error"in e)throw new zIe(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(e){const t=this._buildArgs([],e),n=TSe(await this._rpcRequest("getVoteAccounts",t),yTe);if("error"in n)throw new zIe(n.error,"failed to get vote accounts");return n.result}async getSlot(e){const{commitment:t,config:n}=gAe(e),r=this._buildArgs([],t,void 0,n),i=TSe(await this._rpcRequest("getSlot",r),bAe(BSe()));if("error"in i)throw new zIe(i.error,"failed to get slot");return i.result}async getSlotLeader(e){const{commitment:t,config:n}=gAe(e),r=this._buildArgs([],t,void 0,n),i=TSe(await this._rpcRequest("getSlotLeader",r),bAe(FSe()));if("error"in i)throw new zIe(i.error,"failed to get slot leader");return i.result}async getSlotLeaders(e,t){const n=[e,t],r=TSe(await this._rpcRequest("getSlotLeaders",n),bAe(NSe(hAe)));if("error"in r)throw new zIe(r.error,"failed to get slot leaders");return r.result}async getSignatureStatus(e,t){const{context:n,value:r}=await this.getSignatureStatuses([e],t);return SIe(1===r.length),{context:n,value:r[0]}}async getSignatureStatuses(e,t){const n=[e];t&&n.push(t);const r=TSe(await this._rpcRequest("getSignatureStatuses",n),vTe);if("error"in r)throw new zIe(r.error,"failed to get signature status");return r.result}async getTransactionCount(e){const{commitment:t,config:n}=gAe(e),r=this._buildArgs([],t,void 0,n),i=TSe(await this._rpcRequest("getTransactionCount",r),bAe(BSe()));if("error"in i)throw new zIe(i.error,"failed to get transaction count");return i.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),n=TSe(await this._rpcRequest("getInflationGovernor",t),BAe);if("error"in n)throw new zIe(n.error,"failed to get inflation");return n.result}async getInflationReward(e,t,n){const{commitment:r,config:i}=gAe(n),s=this._buildArgs([e.map(e=>e.toBase58())],r,void 0,{...i,epoch:null!=t?t:i?.epoch}),o=TSe(await this._rpcRequest("getInflationReward",s),_Ae);if("error"in o)throw new zIe(o.error,"failed to get inflation reward");return o.result}async getInflationRate(){const e=TSe(await this._rpcRequest("getInflationRate",[]),UAe);if("error"in e)throw new zIe(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(e){const{commitment:t,config:n}=gAe(e),r=this._buildArgs([],t,void 0,n),i=TSe(await this._rpcRequest("getEpochInfo",r),FAe);if("error"in i)throw new zIe(i.error,"failed to get epoch info");return i.result}async getEpochSchedule(){const e=TSe(await this._rpcRequest("getEpochSchedule",[]),zAe);if("error"in e)throw new zIe(e.error,"failed to get epoch schedule");const t=e.result;return new oAe(t.slotsPerEpoch,t.leaderScheduleSlotOffset,t.warmup,t.firstNormalEpoch,t.firstNormalSlot)}async getLeaderSchedule(){const e=TSe(await this._rpcRequest("getLeaderSchedule",[]),WAe);if("error"in e)throw new zIe(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(e,t){const n=this._buildArgs([e],t),r=TSe(await this._rpcRequest("getMinimumBalanceForRentExemption",n),xTe);return"error"in r?(console.warn("Unable to fetch minimum balance for rent exemption"),0):r.result}async getRecentBlockhashAndContext(e){const{context:t,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(e);return{context:t,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON:()=>({})}}}}async getRecentPerformanceSamples(e){const t=TSe(await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),GTe);if("error"in t)throw new zIe(t.error,"failed to get recent performance samples");return t.result}async getFeeCalculatorForBlockhash(e,t){const n=this._buildArgs([e],t),r=TSe(await this._rpcRequest("getFeeCalculatorForBlockhash",n),ZTe);if("error"in r)throw new zIe(r.error,"failed to get fee calculator");const{context:i,value:s}=r.result;return{context:i,value:null!==s?s.feeCalculator:null}}async getFeeForMessage(e,t){const n=lIe(e.serialize()).toString("base64"),r=this._buildArgs([n],t),i=TSe(await this._rpcRequest("getFeeForMessage",r),vAe(LSe(BSe())));if("error"in i)throw new zIe(i.error,"failed to get fee for message");if(null===i.result)throw new Error("invalid blockhash");return i.result}async getRecentPrioritizationFees(e){const t=e?.lockedWritableAccounts?.map(e=>e.toBase58()),n=t?.length?[t]:[],r=TSe(await this._rpcRequest("getRecentPrioritizationFees",n),DAe);if("error"in r)throw new zIe(r.error,"failed to get recent prioritization fees");return r.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:n}=gAe(e),r=this._buildArgs([],t,void 0,n),i=TSe(await this._rpcRequest("getLatestBlockhash",r),VTe);if("error"in i)throw new zIe(i.error,"failed to get latest blockhash");return i.result}async isBlockhashValid(e,t){const{commitment:n,config:r}=gAe(t),i=this._buildArgs([e],n,void 0,r),s=TSe(await this._rpcRequest("isBlockhashValid",i),KTe);if("error"in s)throw new zIe(s.error,"failed to determine if the blockhash `"+e+"`is valid");return s.result}async getVersion(){const e=TSe(await this._rpcRequest("getVersion",[]),bAe(NAe));if("error"in e)throw new zIe(e.error,"failed to get version");return e.result}async getGenesisHash(){const e=TSe(await this._rpcRequest("getGenesisHash",[]),bAe(FSe()));if("error"in e)throw new zIe(e.error,"failed to get genesis hash");return e.result}async getBlock(e,t){const{commitment:n,config:r}=gAe(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,r),s=await this._rpcRequest("getBlock",i);try{switch(r?.transactionDetails){case"accounts":{const e=TSe(s,BTe);if("error"in e)throw e.error;return e.result}case"none":{const e=TSe(s,LTe);if("error"in e)throw e.error;return e.result}default:{const e=TSe(s,MTe);if("error"in e)throw e.error;const{result:t}=e;return t?{...t,transactions:t.transactions.map(({transaction:e,meta:t,version:n})=>({meta:t,transaction:{...e,message:EAe(n,e.message)},version:n}))}:null}}}catch(e){throw new zIe(e,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:n,config:r}=gAe(t),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r),s=await this._rpcRequest("getBlock",i);try{switch(r?.transactionDetails){case"accounts":{const e=TSe(s,DTe);if("error"in e)throw e.error;return e.result}case"none":{const e=TSe(s,FTe);if("error"in e)throw e.error;return e.result}default:{const e=TSe(s,UTe);if("error"in e)throw e.error;return e.result}}}catch(e){throw new zIe(e,"failed to get block")}}async getBlockProduction(e){let t,n;if("string"==typeof e)n=e;else if(e){const{commitment:r,...i}=e;n=r,t=i}const r=this._buildArgs([],n,"base64",t),i=TSe(await this._rpcRequest("getBlockProduction",r),LAe);if("error"in i)throw new zIe(i.error,"failed to get block production information");return i.result}async getTransaction(e,t){const{commitment:n,config:r}=gAe(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,r),s=TSe(await this._rpcRequest("getTransaction",i),qTe);if("error"in s)throw new zIe(s.error,"failed to get transaction");const o=s.result;return o?{...o,transaction:{...o.transaction,message:EAe(o.version,o.transaction.message)}}:o}async getParsedTransaction(e,t){const{commitment:n,config:r}=gAe(t),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r),s=TSe(await this._rpcRequest("getTransaction",i),HTe);if("error"in s)throw new zIe(s.error,"failed to get transaction");return s.result}async getParsedTransactions(e,t){const{commitment:n,config:r}=gAe(t),i=e.map(e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r)}));return(await this._rpcBatchRequest(i)).map(e=>{const t=TSe(e,HTe);if("error"in t)throw new zIe(t.error,"failed to get transactions");return t.result})}async getTransactions(e,t){const{commitment:n,config:r}=gAe(t),i=e.map(e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,void 0,r)}));return(await this._rpcBatchRequest(i)).map(e=>{const t=TSe(e,qTe);if("error"in t)throw new zIe(t.error,"failed to get transactions");const n=t.result;return n?{...n,transaction:{...n.transaction,message:EAe(n.version,n.transaction.message)}}:n})}async getConfirmedBlock(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=TSe(await this._rpcRequest("getBlock",n),zTe);if("error"in r)throw new zIe(r.error,"failed to get confirmed block");const i=r.result;if(!i)throw new Error("Confirmed block "+e+" not found");const s={...i,transactions:i.transactions.map(({transaction:e,meta:t})=>{const n=new OIe(e.message);return{meta:t,transaction:{...e,message:n}}})};return{...s,transactions:s.transactions.map(({transaction:e,meta:t})=>({meta:t,transaction:MIe.populate(e.message,e.signatures)}))}}async getBlocks(e,t,n){const r=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],n),i=TSe(await this._rpcRequest("getBlocks",r),bAe(NSe(BSe())));if("error"in i)throw new zIe(i.error,"failed to get blocks");return i.result}async getBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=TSe(await this._rpcRequest("getBlock",n),WTe);if("error"in r)throw new zIe(r.error,"failed to get block");const i=r.result;if(!i)throw new Error("Block "+e+" not found");return i}async getConfirmedBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=TSe(await this._rpcRequest("getBlock",n),WTe);if("error"in r)throw new zIe(r.error,"failed to get confirmed block");const i=r.result;if(!i)throw new Error("Confirmed block "+e+" not found");return i}async getConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=TSe(await this._rpcRequest("getTransaction",n),qTe);if("error"in r)throw new zIe(r.error,"failed to get transaction");const i=r.result;if(!i)return i;const s=new OIe(i.transaction.message),o=i.transaction.signatures;return{...i,transaction:MIe.populate(s,o)}}async getParsedConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),r=TSe(await this._rpcRequest("getTransaction",n),HTe);if("error"in r)throw new zIe(r.error,"failed to get confirmed transaction");return r.result}async getParsedConfirmedTransactions(e,t){const n=e.map(e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(e=>{const t=TSe(e,HTe);if("error"in t)throw new zIe(t.error,"failed to get confirmed transactions");return t.result})}async getConfirmedSignaturesForAddress(e,t,n){let r={},i=await this.getFirstAvailableBlock();for(;!("until"in r)&&!(--t<=0||t<i);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(r.until=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}let s=await this.getSlot("finalized");for(;!("before"in r||++n>s);)try{const e=await this.getConfirmedBlockSignatures(n);e.signatures.length>0&&(r.before=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}return(await this.getConfirmedSignaturesForAddress2(e,r)).map(e=>e.signature)}async getConfirmedSignaturesForAddress2(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=TSe(await this._rpcRequest("getConfirmedSignaturesForAddress2",r),iTe);if("error"in i)throw new zIe(i.error,"failed to get confirmed signatures for address");return i.result}async getSignaturesForAddress(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=TSe(await this._rpcRequest("getSignaturesForAddress",r),sTe);if("error"in i)throw new zIe(i.error,"failed to get signatures for address");return i.result}async getAddressLookupTable(e,t){const{context:n,value:r}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==r&&(i=new lAe({key:e,state:lAe.deserialize(r.data)})),{context:n,value:i}}async getNonceAndContext(e,t){const{context:n,value:r}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==r&&(i=ZIe.fromAccountData(r.data)),{context:n,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(e=>e.value).catch(t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)})}async requestAirdrop(e,t){const n=TSe(await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),YTe);if("error"in n)throw new zIe(n.error,`airdrop to ${e.toBase58()} failed`);return n.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await qIe(100);const e=Date.now()-this._blockhashInfo.lastFetch>=3e4;if(null!==this._blockhashInfo.latestBlockhash&&!e)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,n=t?t.blockhash:null;for(let e=0;e<50;e++){const e=await this.getLatestBlockhash("finalized");if(n!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await qIe(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:n}=gAe(e),r=this._buildArgs([],t,"base64",n),i=TSe(await this._rpcRequest("getStakeMinimumDelegation",r),vAe(BSe()));if("error"in i)throw new zIe(i.error,"failed to get stake minimum delegation");return i.result}async simulateTransaction(e,t,n){if("message"in e){const r=e.serialize(),i=Jr.Buffer.from(r).toString("base64");if(Array.isArray(t)||void 0!==n)throw new Error("Invalid arguments");const s=t||{};s.encoding="base64","commitment"in s||(s.commitment=this.commitment),t&&"object"==typeof t&&"innerInstructions"in t&&(s.innerInstructions=t.innerInstructions);const o=[i,s],a=TSe(await this._rpcRequest("simulateTransaction",o),MAe);if("error"in a)throw new Error("failed to simulate transaction: "+a.error.message);return a.result}let r;if(e instanceof MIe){let t=e;r=new MIe,r.feePayer=t.feePayer,r.instructions=e.instructions,r.nonceInfo=t.nonceInfo,r.signatures=t.signatures}else r=MIe.populate(e),r._message=r._json=void 0;if(void 0!==t&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(r.nonceInfo&&i)r.sign(...i);else{let e=this._disableBlockhashCaching;for(;;){const t=await this._blockhashWithExpiryBlockHeight(e);if(r.lastValidBlockHeight=t.lastValidBlockHeight,r.recentBlockhash=t.blockhash,!i)break;if(r.sign(...i),!r.signature)throw new Error("!signature");const n=r.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(n)&&!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.simulatedSignatures.push(n);break}e=!0}}const s=r._compile(),o=s.serialize(),a=r._serialize(o).toString("base64"),c={encoding:"base64",commitment:this.commitment};if(n){const e=(Array.isArray(n)?n:s.nonProgramIds()).map(e=>e.toBase58());c.accounts={encoding:"base64",addresses:e}}i&&(c.sigVerify=!0),t&&"object"==typeof t&&"innerInstructions"in t&&(c.innerInstructions=t.innerInstructions);const l=[a,c],u=TSe(await this._rpcRequest("simulateTransaction",l),MAe);if("error"in u){let e;if("data"in u.error&&(e=u.error.data.logs,e&&Array.isArray(e))){const t="\n    ",n=t+e.join(t);console.error(u.error.message,n)}throw new FIe({action:"simulate",signature:"",transactionMessage:u.error.message,logs:e})}return u.result}async sendTransaction(e,t,n){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const n=e.serialize();return await this.sendRawTransaction(n,t)}if(void 0===t||!Array.isArray(t))throw new Error("Invalid arguments");const r=t;if(e.nonceInfo)e.sign(...r);else{let t=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(t);if(e.lastValidBlockHeight=n.lastValidBlockHeight,e.recentBlockhash=n.blockhash,e.sign(...r),!e.signature)throw new Error("!signature");const i=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}t=!0}}const i=e.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(e,t){const n=lIe(e).toString("base64");return await this.sendEncodedTransaction(n,t)}async sendEncodedTransaction(e,t){const n={encoding:"base64"},r=t&&t.skipPreflight,i=!0===r?"processed":t&&t.preflightCommitment||this.commitment;t&&null!=t.maxRetries&&(n.maxRetries=t.maxRetries),t&&null!=t.minContextSlot&&(n.minContextSlot=t.minContextSlot),r&&(n.skipPreflight=r),i&&(n.preflightCommitment=i);const s=[e,n],o=TSe(await this._rpcRequest("sendTransaction",s),JTe);if("error"in o){let e;throw"data"in o.error&&(e=o.error.data.logs),new FIe({action:r?"send":"simulate",signature:"",transactionMessage:o.error.message,logs:e})}return o.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([e,t])=>{this._setSubscription(e,{...t,state:"pending"})})):this._updateSubscriptions()}_setSubscription(e,t){const n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=t,n!==t.state){const n=this._subscriptionStateChangeCallbacksByHash[e];n&&n.forEach(e=>{try{e(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const n=this._subscriptionHashByClientSubscriptionId[e];if(null==n)return()=>{};const r=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return r.add(t),()=>{r.delete(t),0===r.size&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}},500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async e=>{const n=this._subscriptionsByHash[e];if(void 0!==n)switch(n.state){case"pending":case"unsubscribed":if(0===n.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===n.state&&delete this._subscriptionCallbacksByServerSubscriptionId[n.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:r,method:i}=n;try{this._setSubscription(e,{...n,state:"subscribing"});const t=await this._rpcWebSocket.call(i,r);this._setSubscription(e,{...n,serverSubscriptionId:t,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[t]=n.callbacks,await this._updateSubscriptions()}catch(s){if(console.error(`Received ${s instanceof Error?"":"JSON-RPC "}error calling \`${i}\``,{args:r,error:s}),!t())return;this._setSubscription(e,{...n,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===n.callbacks.size&&await(async()=>{const{serverSubscriptionId:r,unsubscribeMethod:i}=n;if(this._subscriptionsAutoDisposedByRpc.has(r))this._subscriptionsAutoDisposedByRpc.delete(r);else{this._setSubscription(e,{...n,state:"unsubscribing"}),this._setSubscription(e,{...n,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[r])}catch(r){if(r instanceof Error&&console.error(`${i} error:`,r.message),!t())return;return this._setSubscription(e,{...n,state:"subscribed"}),void await this._updateSubscriptions()}}this._setSubscription(e,{...n,state:"unsubscribed"}),await this._updateSubscriptions()})()}}))}_handleServerNotification(e,t){const n=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==n&&n.forEach(e=>{try{e(...t)}catch(e){console.error(e)}})}_wsOnAccountNotification(e){const{result:t,subscription:n}=TSe(e,oTe);this._handleServerNotification(n,[t.value,t.context])}_makeSubscription(e,t){const n=this._nextClientSubscriptionId++,r=iAe([e.method,t]),i=this._subscriptionsByHash[r];return void 0===i?this._subscriptionsByHash[r]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=r,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const t=this._subscriptionsByHash[r];SIe(void 0!==t,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),t.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,t,n){const{commitment:r,config:i}=gAe(n),s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:n}=TSe(e,cTe);this._handleServerNotification(n,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,n,r){const{commitment:i,config:s}=gAe(n),o=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s||(r?{filters:mAe(r)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,n){const r=this._buildArgs(["object"==typeof e?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},r)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:n}=TSe(e,XTe);this._handleServerNotification(n,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:n}=TSe(e,uTe);this._handleServerNotification(n,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:n}=TSe(e,hTe);this._handleServerNotification(n,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,n,r){const i=t||this._commitment;if(i||n||r){let t={};n&&(t.encoding=n),i&&(t.commitment=i),r&&(t=Object.assign(t,r)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,n,r){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,n,r)}_wsOnSignatureNotification(e){const{result:t,subscription:n}=TSe(e,fTe);"receivedSignature"!==t.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===t.value?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,n){const r=this._buildArgs([e],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(e,n)=>{if("status"===e.type){t(e.result,n);try{this.removeSignatureListener(i)}catch(e){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},r);return i}onSignatureWithOptions(e,t,n){const{commitment:r,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},s=this._buildArgs([e],r,void 0,i),o=this._makeSubscription({callback:(e,n)=>{t(e,n);try{this.removeSignatureListener(o)}catch(e){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return o}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:n}=TSe(e,pTe);this._handleServerNotification(n,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},PublicKey:gIe,SystemProgram:QIe,LAMPORTS_PER_SOL:1e9,Keypair:tPe}};window.Buffer=Jr.Buffer,window.process=Xr(),window.Colyseus=e,window.gsap=Zr,window.QRCode=Yr,window.SolanaSDK=pPe,window.solanaWeb3=pPe.web3,console.log(" PlsGive Bundle Loaded Successfully. Globals (Colyseus, gsap, QRCode, SolanaSDK) are now available.",{colyseus:typeof window.Colyseus,gsap:typeof window.gsap,qr:typeof window.QRCode,sdk:typeof window.SolanaSDK})})()})();