/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={22:(t,e,n)=>{"use strict";const r=n(341).v4,i=n(289),o=function(t,e){if(!(this instanceof o))return new o(t,e);e||(e={}),this.options={reviver:void 0!==e.reviver?e.reviver:null,replacer:void 0!==e.replacer?e.replacer:null,generator:void 0!==e.generator?e.generator:function(){return r()},version:void 0!==e.version?e.version:2,notificationIdNull:"boolean"==typeof e.notificationIdNull&&e.notificationIdNull},this.callServer=t};t.exports=o,o.prototype.request=function(t,e,n,r){const o=this;let s=null;const a=Array.isArray(t)&&"function"==typeof e;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&t&&"object"==typeof t&&"function"==typeof e)r=e,s=t;else{"function"==typeof n&&(r=n,n=void 0);const o="function"==typeof r;try{s=i(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(t){if(o)return r(t);throw t}if(!o)return s}let u;try{u=JSON.stringify(s,this.options.replacer)}catch(t){return r(t)}return this.callServer(u,function(t,e){o._parseResponse(t,e,r)}),s},o.prototype._parseResponse=function(t,e,n){if(t)return void n(t);if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(t){return n(t)}if(3===n.length){if(Array.isArray(r)){const t=function(t){return void 0!==t.error},e=function(e){return!t(e)};return n(null,r.filter(t),r.filter(e))}return n(null,r.error,r.result)}n(null,r)}},33:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Connection=void 0;const r=n(611);e.Connection=class{constructor(){this.events={},this.transport=new r.WebSocketTransport(this.events)}send(t){this.transport.send(t)}connect(t,e){this.transport.connect(t,e)}close(t,e){this.transport.close(t,e)}get isOpen(){return this.transport.isOpen}}},118:function(t,e){!function(t){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},e(t,n)};function n(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function r(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function i(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var o,s=255;t.OPERATION=void 0,(o=t.OPERATION||(t.OPERATION={}))[o.ADD=128]="ADD",o[o.REPLACE=0]="REPLACE",o[o.DELETE=64]="DELETE",o[o.DELETE_AND_ADD=192]="DELETE_AND_ADD",o[o.TOUCH=1]="TOUCH",o[o.CLEAR=10]="CLEAR";var a=function(){function e(t,e,n){this.changed=!1,this.changes=new Map,this.allChanges=new Set,this.caches={},this.currentCustomOperation=0,this.ref=t,this.setParent(e,n)}return e.prototype.setParent=function(t,e,n){var r=this;if(this.indexes||(this.indexes=this.ref instanceof ct?this.ref._definition.indexes:{}),this.parent=t,this.parentIndex=n,e)if(this.root=e,this.ref instanceof ct){var i=this.ref._definition;for(var o in i.schema){var s=this.ref[o];if(s&&s.$changes){var a=i.indexes[o];s.$changes.setParent(this.ref,e,a)}}}else"object"==typeof this.ref&&this.ref.forEach(function(t,e){if(t instanceof ct){var n=t.$changes,i=r.ref.$changes.indexes[e];n.setParent(r.ref,r.root,i)}})},e.prototype.operation=function(t){this.changes.set(--this.currentCustomOperation,t)},e.prototype.change=function(e,n){void 0===n&&(n=t.OPERATION.ADD);var r="number"==typeof e?e:this.indexes[e];this.assertValidIndex(r,e);var i=this.changes.get(r);i&&i.op!==t.OPERATION.DELETE&&i.op!==t.OPERATION.TOUCH||this.changes.set(r,{op:i&&i.op===t.OPERATION.DELETE?t.OPERATION.DELETE_AND_ADD:n,index:r}),this.allChanges.add(r),this.changed=!0,this.touchParents()},e.prototype.touch=function(e){var n="number"==typeof e?e:this.indexes[e];this.assertValidIndex(n,e),this.changes.has(n)||this.changes.set(n,{op:t.OPERATION.TOUCH,index:n}),this.allChanges.add(n),this.touchParents()},e.prototype.touchParents=function(){this.parent&&this.parent.$changes.touch(this.parentIndex)},e.prototype.getType=function(t){if(this.ref._definition)return(e=this.ref._definition).schema[e.fieldsByIndex[t]];var e,n=(e=this.parent._definition).schema[e.fieldsByIndex[this.parentIndex]];return Object.values(n)[0]},e.prototype.getChildrenFilter=function(){var t=this.parent._definition.childFilters;return t&&t[this.parentIndex]},e.prototype.getValue=function(t){return this.ref.getByIndex(t)},e.prototype.delete=function(e){var n="number"==typeof e?e:this.indexes[e];if(void 0!==n){var r=this.getValue(n);this.changes.set(n,{op:t.OPERATION.DELETE,index:n}),this.allChanges.delete(n),delete this.caches[n],r&&r.$changes&&(r.$changes.parent=void 0),this.changed=!0,this.touchParents()}else console.warn("@colyseus/schema ".concat(this.ref.constructor.name,": trying to delete non-existing index: ").concat(e," (").concat(n,")"))},e.prototype.discard=function(e,n){var r=this;void 0===e&&(e=!1),void 0===n&&(n=!1),this.ref instanceof ct||this.changes.forEach(function(e){if(e.op===t.OPERATION.DELETE){var n=r.ref.getIndex(e.index);delete r.indexes[n]}}),this.changes.clear(),this.changed=e,n&&this.allChanges.clear(),this.currentCustomOperation=0},e.prototype.discardAll=function(){var t=this;this.changes.forEach(function(e){var n=t.getValue(e.index);n&&n.$changes&&n.$changes.discardAll()}),this.discard()},e.prototype.cache=function(t,e){this.caches[t]=e},e.prototype.clone=function(){return new e(this.ref,this.parent,this.root)},e.prototype.ensureRefId=function(){void 0===this.refId&&(this.refId=this.root.getNextUniqueId())},e.prototype.assertValidIndex=function(t,e){if(void 0===t)throw new Error('ChangeTree: missing index for field "'.concat(e,'"'))},e}();function u(t,e,n,r){return t[e]||(t[e]=[]),t[e].push(n),null==r||r.forEach(function(t,e){return n(t,e)}),function(){return h(t[e],t[e].indexOf(n))}}function c(e){var n=this,r="string"!=typeof this.$changes.getType();this.$items.forEach(function(i,o){e.push({refId:n.$changes.refId,op:t.OPERATION.DELETE,field:o,value:void 0,previousValue:i}),r&&n.$changes.root.removeRef(i.$changes.refId)})}function h(t,e){if(-1===e||e>=t.length)return!1;for(var n=t.length-1,r=e;r<n;r++)t[r]=t[r+1];return t.length=n,!0}var f=function(t,e){var n=t.toString(),r=e.toString();return n<r?-1:n>r?1:0};var l=function(){function e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.$changes=new a(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,this.push.apply(this,t)}return e.prototype.onAdd=function(e,n){return void 0===n&&(n=!0),u(this.$callbacks||(this.$callbacks={}),t.OPERATION.ADD,e,n?this.$items:void 0)},e.prototype.onRemove=function(e){return u(this.$callbacks||(this.$callbacks={}),t.OPERATION.DELETE,e)},e.prototype.onChange=function(e){return u(this.$callbacks||(this.$callbacks={}),t.OPERATION.REPLACE,e)},e.is=function(t){return Array.isArray(t)||void 0!==t.array},Object.defineProperty(e.prototype,"length",{get:function(){return this.$items.size},set:function(t){0===t?this.clear():this.splice(t,this.length-t)},enumerable:!1,configurable:!0}),e.prototype.push=function(){for(var t,e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach(function(n){t=e.$refId++,e.setAt(t,n)}),t},e.prototype.pop=function(){var t=Array.from(this.$indexes.values()).pop();if(void 0!==t){this.$changes.delete(t),this.$indexes.delete(t);var e=this.$items.get(t);return this.$items.delete(t),e}},e.prototype.at=function(t){if((t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length)){var e=Array.from(this.$items.keys())[t];return this.$items.get(e)}},e.prototype.setAt=function(e,n){var r,i;if(null!=n){if(this.$items.get(e)!==n){void 0!==n.$changes&&n.$changes.setParent(this,this.$changes.root,e);var o=null!==(i=null===(r=this.$changes.indexes[e])||void 0===r?void 0:r.op)&&void 0!==i?i:t.OPERATION.ADD;this.$changes.indexes[e]=e,this.$indexes.set(e,e),this.$items.set(e,n),this.$changes.change(e,o)}}else console.error("ArraySchema items cannot be null nor undefined; Use `deleteAt(index)` instead.")},e.prototype.deleteAt=function(t){var e=Array.from(this.$items.keys())[t];return void 0!==e&&this.$deleteAt(e)},e.prototype.$deleteAt=function(t){return this.$changes.delete(t),this.$indexes.delete(t),this.$items.delete(t)},e.prototype.clear=function(e){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),e&&c.call(this,e),this.$items.clear(),this.$changes.operation({index:0,op:t.OPERATION.CLEAR}),this.$changes.touchParents()},e.prototype.concat=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new(e.bind.apply(e,i([void 0],(t=Array.from(this.$items.values())).concat.apply(t,n),!1)))},e.prototype.join=function(t){return Array.from(this.$items.values()).join(t)},e.prototype.reverse=function(){var t=this,e=Array.from(this.$items.keys());return Array.from(this.$items.values()).reverse().forEach(function(n,r){t.setAt(e[r],n)}),this},e.prototype.shift=function(){var t=Array.from(this.$items.keys()).shift();if(void 0!==t){var e=this.$items.get(t);return this.$deleteAt(t),e}},e.prototype.slice=function(t,n){var r=new e;return r.push.apply(r,Array.from(this.$items.values()).slice(t,n)),r},e.prototype.sort=function(t){var e=this;void 0===t&&(t=f);var n=Array.from(this.$items.keys());return Array.from(this.$items.values()).sort(t).forEach(function(t,r){e.setAt(n[r],t)}),this},e.prototype.splice=function(t,e){void 0===e&&(e=this.length-t);for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];for(var i=Array.from(this.$items.keys()),o=[],s=t;s<t+e;s++)o.push(this.$items.get(i[s])),this.$deleteAt(i[s]);for(s=0;s<n.length;s++)this.setAt(t+s,n[s]);return o},e.prototype.unshift=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this.length,i=e.length,o=Array.from(this.$items.values());return e.forEach(function(e,n){t.setAt(n,e)}),o.forEach(function(e,n){t.setAt(i+n,e)}),r+i},e.prototype.indexOf=function(t,e){return Array.from(this.$items.values()).indexOf(t,e)},e.prototype.lastIndexOf=function(t,e){return void 0===e&&(e=this.length-1),Array.from(this.$items.values()).lastIndexOf(t,e)},e.prototype.every=function(t,e){return Array.from(this.$items.values()).every(t,e)},e.prototype.some=function(t,e){return Array.from(this.$items.values()).some(t,e)},e.prototype.forEach=function(t,e){Array.from(this.$items.values()).forEach(t,e)},e.prototype.map=function(t,e){return Array.from(this.$items.values()).map(t,e)},e.prototype.filter=function(t,e){return Array.from(this.$items.values()).filter(t,e)},e.prototype.reduce=function(t,e){return Array.prototype.reduce.apply(Array.from(this.$items.values()),arguments)},e.prototype.reduceRight=function(t,e){return Array.prototype.reduceRight.apply(Array.from(this.$items.values()),arguments)},e.prototype.find=function(t,e){return Array.from(this.$items.values()).find(t,e)},e.prototype.findIndex=function(t,e){return Array.from(this.$items.values()).findIndex(t,e)},e.prototype.fill=function(t,e,n){throw new Error("ArraySchema#fill() not implemented")},e.prototype.copyWithin=function(t,e,n){throw new Error("ArraySchema#copyWithin() not implemented")},e.prototype.toString=function(){return this.$items.toString()},e.prototype.toLocaleString=function(){return this.$items.toLocaleString()},e.prototype[Symbol.iterator]=function(){return Array.from(this.$items.values())[Symbol.iterator]()},Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.entries=function(){return this.$items.entries()},e.prototype.keys=function(){return this.$items.keys()},e.prototype.values=function(){return this.$items.values()},e.prototype.includes=function(t,e){return Array.from(this.$items.values()).includes(t,e)},e.prototype.flatMap=function(t,e){throw new Error("ArraySchema#flatMap() is not supported.")},e.prototype.flat=function(t){throw new Error("ArraySchema#flat() is not supported.")},e.prototype.findLast=function(){var t=Array.from(this.$items.values());return t.findLast.apply(t,arguments)},e.prototype.findLastIndex=function(){var t=Array.from(this.$items.values());return t.findLastIndex.apply(t,arguments)},e.prototype.with=function(t,n){var r=Array.from(this.$items.values());return r[t]=n,new(e.bind.apply(e,i([void 0],r,!1)))},e.prototype.toReversed=function(){return Array.from(this.$items.values()).reverse()},e.prototype.toSorted=function(t){return Array.from(this.$items.values()).sort(t)},e.prototype.toSpliced=function(t,e){var n=Array.from(this.$items.values());return n.toSpliced.apply(n,arguments)},e.prototype.setIndex=function(t,e){this.$indexes.set(t,e)},e.prototype.getIndex=function(t){return this.$indexes.get(t)},e.prototype.getByIndex=function(t){return this.$items.get(this.$indexes.get(t))},e.prototype.deleteByIndex=function(t){var e=this.$indexes.get(t);this.$items.delete(e),this.$indexes.delete(t)},e.prototype.toArray=function(){return Array.from(this.$items.values())},e.prototype.toJSON=function(){return this.toArray().map(function(t){return"function"==typeof t.toJSON?t.toJSON():t})},e.prototype.clone=function(t){return t?new(e.bind.apply(e,i([void 0],Array.from(this.$items.values()),!1))):new(e.bind.apply(e,i([void 0],this.map(function(t){return t.$changes?t.clone():t}),!1)))},e}();var d=function(){function e(t){var n=this;if(this.$changes=new a(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,t)if(t instanceof Map||t instanceof e)t.forEach(function(t,e){return n.set(e,t)});else for(var r in t)this.set(r,t[r])}return e.prototype.onAdd=function(e,n){return void 0===n&&(n=!0),u(this.$callbacks||(this.$callbacks={}),t.OPERATION.ADD,e,n?this.$items:void 0)},e.prototype.onRemove=function(e){return u(this.$callbacks||(this.$callbacks={}),t.OPERATION.DELETE,e)},e.prototype.onChange=function(e){return u(this.$callbacks||(this.$callbacks={}),t.OPERATION.REPLACE,e)},e.is=function(t){return void 0!==t.map},e.prototype[Symbol.iterator]=function(){return this.$items[Symbol.iterator]()},Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return this.$items[Symbol.toStringTag]},enumerable:!1,configurable:!0}),Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.set=function(e,n){if(null==n)throw new Error("MapSchema#set('".concat(e,"', ").concat(n,"): trying to set ").concat(n," value on '").concat(e,"'."));e=e.toString();var r=void 0!==this.$changes.indexes[e],i=r?this.$changes.indexes[e]:this.$refId++,o=r?t.OPERATION.REPLACE:t.OPERATION.ADD,s=void 0!==n.$changes;if(s&&n.$changes.setParent(this,this.$changes.root,i),r){if(!s&&this.$items.get(e)===n)return;s&&this.$items.get(e)!==n&&(o=t.OPERATION.ADD)}else this.$changes.indexes[e]=i,this.$indexes.set(i,e);return this.$items.set(e,n),this.$changes.change(e,o),this},e.prototype.get=function(t){return this.$items.get(t)},e.prototype.delete=function(t){return this.$changes.delete(t.toString()),this.$items.delete(t)},e.prototype.clear=function(e){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),e&&c.call(this,e),this.$items.clear(),this.$changes.operation({index:0,op:t.OPERATION.CLEAR}),this.$changes.touchParents()},e.prototype.has=function(t){return this.$items.has(t)},e.prototype.forEach=function(t){this.$items.forEach(t)},e.prototype.entries=function(){return this.$items.entries()},e.prototype.keys=function(){return this.$items.keys()},e.prototype.values=function(){return this.$items.values()},Object.defineProperty(e.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),e.prototype.setIndex=function(t,e){this.$indexes.set(t,e)},e.prototype.getIndex=function(t){return this.$indexes.get(t)},e.prototype.getByIndex=function(t){return this.$items.get(this.$indexes.get(t))},e.prototype.deleteByIndex=function(t){var e=this.$indexes.get(t);this.$items.delete(e),this.$indexes.delete(t)},e.prototype.toJSON=function(){var t={};return this.forEach(function(e,n){t[n]="function"==typeof e.toJSON?e.toJSON():e}),t},e.prototype.clone=function(t){var n;return t?n=Object.assign(new e,this):(n=new e,this.forEach(function(t,e){t.$changes?n.set(e,t.clone()):n.set(e,t)})),n},e}(),p={};function g(t,e){p[t]=e}function m(t){return p[t]}var y=function(){function t(){this.indexes={},this.fieldsByIndex={},this.deprecated={},this.descriptors={}}return t.create=function(e){var n=new t;return n.schema=Object.assign({},e&&e.schema||{}),n.indexes=Object.assign({},e&&e.indexes||{}),n.fieldsByIndex=Object.assign({},e&&e.fieldsByIndex||{}),n.descriptors=Object.assign({},e&&e.descriptors||{}),n.deprecated=Object.assign({},e&&e.deprecated||{}),n},t.prototype.addField=function(t,e){var n=this.getNextFieldIndex();this.fieldsByIndex[n]=t,this.indexes[t]=n,this.schema[t]=Array.isArray(e)?{array:e[0]}:e},t.prototype.hasField=function(t){return void 0!==this.indexes[t]},t.prototype.addFilter=function(t,e){return this.filters||(this.filters={},this.indexesWithFilters=[]),this.filters[this.indexes[t]]=e,this.indexesWithFilters.push(this.indexes[t]),!0},t.prototype.addChildrenFilter=function(t,e){var n=this.indexes[t],r=this.schema[t];if(m(Object.keys(r)[0]))return this.childFilters||(this.childFilters={}),this.childFilters[n]=e,!0;console.warn("@filterChildren: field '".concat(t,"' can't have children. Ignoring filter."))},t.prototype.getChildrenFilter=function(t){return this.childFilters&&this.childFilters[this.indexes[t]]},t.prototype.getNextFieldIndex=function(){return Object.keys(this.schema||{}).length},t}();var v=function(){function t(){this.types={},this.schemas=new Map,this.useFilters=!1}return t.prototype.has=function(t){return this.schemas.has(t)},t.prototype.get=function(t){return this.types[t]},t.prototype.add=function(t,e){void 0===e&&(e=this.schemas.size),t._definition=y.create(t._definition),t._typeid=e,this.types[e]=t,this.schemas.set(t,e)},t.create=function(e){return void 0===e&&(e={}),function(n){return e.context||(e.context=new t),b(n,e)}},t}(),w=new v;function b(t,e){return void 0===e&&(e={}),function(n,r){var o=e.context||w,s=n.constructor;if(s._context=o,!t)throw new Error("".concat(s.name,': @type() reference provided for "').concat(r,"\" is undefined. Make sure you don't have any circular dependencies."));o.has(s)||o.add(s);var a=s._definition;if(a.addField(r,t),a.descriptors[r]){if(a.deprecated[r])return;try{throw new Error("@colyseus/schema: Duplicate '".concat(r,"' definition on '").concat(s.name,"'.\nCheck @type() annotation"))}catch(t){var u=t.stack.split("\n")[4].trim();throw new Error("".concat(t.message," ").concat(u))}}var c=l.is(t),h=!c&&d.is(t);if("string"!=typeof t&&!ct.is(t)){var f=Object.values(t)[0];"string"==typeof f||o.has(f)||o.add(f)}if(e.manual)a.descriptors[r]={enumerable:!0,configurable:!0,writable:!0};else{var p="_".concat(r);a.descriptors[p]={enumerable:!1,configurable:!1,writable:!0},a.descriptors[r]={get:function(){return this[p]},set:function(t){t!==this[p]&&(null!=t?(!c||t instanceof l||(t=new(l.bind.apply(l,i([void 0],t,!1)))),!h||t instanceof d||(t=new d(t)),void 0===t.$proxy&&(h?t=function(t){return t.$proxy=!0,new Proxy(t,{get:function(t,e){return"symbol"!=typeof e&&void 0===t[e]?t.get(e):t[e]},set:function(t,e,n){return"symbol"!=typeof e&&-1===e.indexOf("$")&&"onAdd"!==e&&"onRemove"!==e&&"onChange"!==e?t.set(e,n):t[e]=n,!0},deleteProperty:function(t,e){return t.delete(e),!0}})}(t):c&&(t=function(t){return t.$proxy=!0,new Proxy(t,{get:function(t,e){return"symbol"==typeof e||isNaN(e)?t[e]:t.at(e)},set:function(t,e,n){if("symbol"==typeof e||isNaN(e))t[e]=n;else{var r=Array.from(t.$items.keys()),i=parseInt(r[e]||e);null==n?t.deleteAt(i):t.setAt(i,n)}return!0},deleteProperty:function(t,e){return"number"==typeof e?t.deleteAt(e):delete t[e],!0},has:function(t,e){return"symbol"==typeof e||isNaN(Number(e))?Reflect.has(t,e):t.$items.has(Number(e))}})}(t))),this.$changes.change(r),t.$changes&&t.$changes.setParent(this,this.$changes.root,this._definition.indexes[r])):void 0!==this[p]&&this.$changes.delete(r),this[p]=t)},enumerable:!0,configurable:!0}}}}function _(t,e,n){for(var r=0,i=0,o=n.length;i<o;i++)(r=n.charCodeAt(i))<128?t[e++]=r:r<2048?(t[e++]=192|r>>6,t[e++]=128|63&r):r<55296||r>=57344?(t[e++]=224|r>>12,t[e++]=128|r>>6&63,t[e++]=128|63&r):(i++,r=65536+((1023&r)<<10|1023&n.charCodeAt(i)),t[e++]=240|r>>18,t[e++]=128|r>>12&63,t[e++]=128|r>>6&63,t[e++]=128|63&r)}function E(t,e){t.push(255&e)}function A(t,e){t.push(255&e)}function x(t,e){t.push(255&e),t.push(e>>8&255)}function k(t,e){t.push(255&e),t.push(e>>8&255)}function I(t,e){t.push(255&e),t.push(e>>8&255),t.push(e>>16&255),t.push(e>>24&255)}function S(t,e){var n=e>>24,r=e>>16,i=e>>8,o=e;t.push(255&o),t.push(255&i),t.push(255&r),t.push(255&n)}function M(t,e){var n=Math.floor(e/Math.pow(2,32));S(t,e>>>0),S(t,n)}function O(t,e){var n=e/Math.pow(2,32)|0;S(t,e>>>0),S(t,n)}var T=new Int32Array(2),B=new Float32Array(T.buffer),P=new Float64Array(T.buffer);function R(t,e){B[0]=e,I(t,T[0])}function C(t,e){P[0]=e,I(t,T[0]),I(t,T[1])}function $(t,e){e||(e="");var n=function(t){for(var e=0,n=0,r=0,i=t.length;r<i;r++)(e=t.charCodeAt(r))<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}(e),r=0;if(n<32)t.push(160|n),r=1;else if(n<256)t.push(217),A(t,n),r=2;else if(n<65536)t.push(218),k(t,n),r=3;else{if(!(n<4294967296))throw new Error("String too long");t.push(219),S(t,n),r=5}return _(t,t.length,e),r+n}function N(t,e){return isNaN(e)?N(t,0):isFinite(e)?e!==(0|e)?(t.push(203),C(t,e),9):e>=0?e<128?(A(t,e),1):e<256?(t.push(204),A(t,e),2):e<65536?(t.push(205),k(t,e),3):e<4294967296?(t.push(206),S(t,e),5):(t.push(207),O(t,e),9):e>=-32?(t.push(224|e+32),1):e>=-128?(t.push(208),E(t,e),2):e>=-32768?(t.push(209),x(t,e),3):e>=-2147483648?(t.push(210),I(t,e),5):(t.push(211),M(t,e),9):N(t,e>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER)}var D=Object.freeze({__proto__:null,boolean:function(t,e){return A(t,e?1:0)},float32:function(t,e){R(t,e)},float64:function(t,e){C(t,e)},int16:x,int32:I,int64:M,int8:E,number:N,string:$,uint16:k,uint32:S,uint64:O,uint8:A,utf8Write:_,writeFloat32:R,writeFloat64:C});function L(t,e){return z(t,e)<<24>>24}function z(t,e){return t[e.offset++]}function U(t,e){return j(t,e)<<16>>16}function j(t,e){return t[e.offset++]|t[e.offset++]<<8}function F(t,e){return t[e.offset++]|t[e.offset++]<<8|t[e.offset++]<<16|t[e.offset++]<<24}function W(t,e){return F(t,e)>>>0}function H(t,e){var n=W(t,e);return F(t,e)*Math.pow(2,32)+n}function K(t,e){var n=W(t,e);return W(t,e)*Math.pow(2,32)+n}var V=new Int32Array(2),q=new Float32Array(V.buffer),Y=new Float64Array(V.buffer);function Z(t,e){return V[0]=F(t,e),q[0]}function G(t,e){return V[0]=F(t,e),V[1]=F(t,e),Y[0]}function J(t,e){var n,r=t[e.offset++];r<192?n=31&r:217===r?n=z(t,e):218===r?n=j(t,e):219===r&&(n=W(t,e));var i=function(t,e,n){for(var r="",i=0,o=e,s=e+n;o<s;o++){var a=t[o];128&a?192!=(224&a)?224!=(240&a)?240!=(248&a)?console.error("Invalid byte "+a.toString(16)):(i=(7&a)<<18|(63&t[++o])<<12|(63&t[++o])<<6|63&t[++o])>=65536?(i-=65536,r+=String.fromCharCode((i>>>10)+55296,56320+(1023&i))):r+=String.fromCharCode(i):r+=String.fromCharCode((15&a)<<12|(63&t[++o])<<6|63&t[++o]):r+=String.fromCharCode((31&a)<<6|63&t[++o]):r+=String.fromCharCode(a)}return r}(t,e.offset,n);return e.offset+=n,i}function X(t,e){var n=t[e.offset++];return n<128?n:202===n?Z(t,e):203===n?G(t,e):204===n?z(t,e):205===n?j(t,e):206===n?W(t,e):207===n?K(t,e):208===n?L(t,e):209===n?U(t,e):210===n?F(t,e):211===n?H(t,e):n>223?-1*(255-n+1):void 0}function Q(t,e){return t[e.offset-1]===s&&(t[e.offset]<128||t[e.offset]>=202&&t[e.offset]<=211)}var tt=Object.freeze({__proto__:null,arrayCheck:function(t,e){return t[e.offset]<160},boolean:function(t,e){return z(t,e)>0},float32:function(t,e){return Z(t,e)},float64:function(t,e){return G(t,e)},int16:U,int32:F,int64:H,int8:L,number:X,numberCheck:function(t,e){var n=t[e.offset];return n<128||n>=202&&n<=211},readFloat32:Z,readFloat64:G,string:J,stringCheck:function(t,e){var n=t[e.offset];return n<192&&n>160||217===n||218===n||219===n},switchStructureCheck:Q,uint16:j,uint32:W,uint64:K,uint8:z}),et=function(){function e(t){var e=this;this.$changes=new a(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,t&&t.forEach(function(t){return e.add(t)})}return e.prototype.onAdd=function(e,n){return void 0===n&&(n=!0),u(this.$callbacks||(this.$callbacks=[]),t.OPERATION.ADD,e,n?this.$items:void 0)},e.prototype.onRemove=function(e){return u(this.$callbacks||(this.$callbacks=[]),t.OPERATION.DELETE,e)},e.prototype.onChange=function(e){return u(this.$callbacks||(this.$callbacks=[]),t.OPERATION.REPLACE,e)},e.is=function(t){return void 0!==t.collection},e.prototype.add=function(t){var e=this.$refId++;return void 0!==t.$changes&&t.$changes.setParent(this,this.$changes.root,e),this.$changes.indexes[e]=e,this.$indexes.set(e,e),this.$items.set(e,t),this.$changes.change(e),e},e.prototype.at=function(t){var e=Array.from(this.$items.keys())[t];return this.$items.get(e)},e.prototype.entries=function(){return this.$items.entries()},e.prototype.delete=function(t){for(var e,n,r=this.$items.entries();(n=r.next())&&!n.done;)if(t===n.value[1]){e=n.value[0];break}return void 0!==e&&(this.$changes.delete(e),this.$indexes.delete(e),this.$items.delete(e))},e.prototype.clear=function(e){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),e&&c.call(this,e),this.$items.clear(),this.$changes.operation({index:0,op:t.OPERATION.CLEAR}),this.$changes.touchParents()},e.prototype.has=function(t){return Array.from(this.$items.values()).some(function(e){return e===t})},e.prototype.forEach=function(t){var e=this;this.$items.forEach(function(n,r,i){return t(n,r,e)})},e.prototype.values=function(){return this.$items.values()},Object.defineProperty(e.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),e.prototype.setIndex=function(t,e){this.$indexes.set(t,e)},e.prototype.getIndex=function(t){return this.$indexes.get(t)},e.prototype.getByIndex=function(t){return this.$items.get(this.$indexes.get(t))},e.prototype.deleteByIndex=function(t){var e=this.$indexes.get(t);this.$items.delete(e),this.$indexes.delete(t)},e.prototype.toArray=function(){return Array.from(this.$items.values())},e.prototype.toJSON=function(){var t=[];return this.forEach(function(e,n){t.push("function"==typeof e.toJSON?e.toJSON():e)}),t},e.prototype.clone=function(t){var n;return t?n=Object.assign(new e,this):(n=new e,this.forEach(function(t){t.$changes?n.add(t.clone()):n.add(t)})),n},e}(),nt=function(){function e(t){var e=this;this.$changes=new a(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,t&&t.forEach(function(t){return e.add(t)})}return e.prototype.onAdd=function(e,n){return void 0===n&&(n=!0),u(this.$callbacks||(this.$callbacks=[]),t.OPERATION.ADD,e,n?this.$items:void 0)},e.prototype.onRemove=function(e){return u(this.$callbacks||(this.$callbacks=[]),t.OPERATION.DELETE,e)},e.prototype.onChange=function(e){return u(this.$callbacks||(this.$callbacks=[]),t.OPERATION.REPLACE,e)},e.is=function(t){return void 0!==t.set},e.prototype.add=function(e){var n,r;if(this.has(e))return!1;var i=this.$refId++;void 0!==e.$changes&&e.$changes.setParent(this,this.$changes.root,i);var o=null!==(r=null===(n=this.$changes.indexes[i])||void 0===n?void 0:n.op)&&void 0!==r?r:t.OPERATION.ADD;return this.$changes.indexes[i]=i,this.$indexes.set(i,i),this.$items.set(i,e),this.$changes.change(i,o),i},e.prototype.entries=function(){return this.$items.entries()},e.prototype.delete=function(t){for(var e,n,r=this.$items.entries();(n=r.next())&&!n.done;)if(t===n.value[1]){e=n.value[0];break}return void 0!==e&&(this.$changes.delete(e),this.$indexes.delete(e),this.$items.delete(e))},e.prototype.clear=function(e){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),e&&c.call(this,e),this.$items.clear(),this.$changes.operation({index:0,op:t.OPERATION.CLEAR}),this.$changes.touchParents()},e.prototype.has=function(t){for(var e,n=this.$items.values(),r=!1;(e=n.next())&&!e.done;)if(t===e.value){r=!0;break}return r},e.prototype.forEach=function(t){var e=this;this.$items.forEach(function(n,r,i){return t(n,r,e)})},e.prototype.values=function(){return this.$items.values()},Object.defineProperty(e.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),e.prototype.setIndex=function(t,e){this.$indexes.set(t,e)},e.prototype.getIndex=function(t){return this.$indexes.get(t)},e.prototype.getByIndex=function(t){return this.$items.get(this.$indexes.get(t))},e.prototype.deleteByIndex=function(t){var e=this.$indexes.get(t);this.$items.delete(e),this.$indexes.delete(t)},e.prototype.toArray=function(){return Array.from(this.$items.values())},e.prototype.toJSON=function(){var t=[];return this.forEach(function(e,n){t.push("function"==typeof e.toJSON?e.toJSON():e)}),t},e.prototype.clone=function(t){var n;return t?n=Object.assign(new e,this):(n=new e,this.forEach(function(t){t.$changes?n.add(t.clone()):n.add(t)})),n},e}(),rt=function(){function t(){this.refIds=new WeakSet,this.containerIndexes=new WeakMap}return t.prototype.addRefId=function(t){this.refIds.has(t)||(this.refIds.add(t),this.containerIndexes.set(t,new Set))},t.get=function(e){return void 0===e.$filterState&&(e.$filterState=new t),e.$filterState},t}(),it=function(){function t(){this.refs=new Map,this.refCounts={},this.deletedRefs=new Set,this.nextUniqueId=0}return t.prototype.getNextUniqueId=function(){return this.nextUniqueId++},t.prototype.addRef=function(t,e,n){void 0===n&&(n=!0),this.refs.set(t,e),n&&(this.refCounts[t]=(this.refCounts[t]||0)+1)},t.prototype.removeRef=function(t){var e=this.refCounts[t];void 0!==e?0!==e?(this.refCounts[t]=e-1,this.deletedRefs.add(t)):console.warn("trying to remove reference ".concat(t," with 0 refCount")):console.warn("trying to remove reference ".concat(t," that doesn't exist"))},t.prototype.clearRefs=function(){this.refs.clear(),this.deletedRefs.clear(),this.refCounts={}},t.prototype.garbageCollectDeletedRefs=function(){var t=this;this.deletedRefs.forEach(function(e){if(!(t.refCounts[e]>0)){var n=t.refs.get(e);if(n instanceof ct)for(var r in n._definition.schema)"string"!=typeof n._definition.schema[r]&&n[r]&&n[r].$changes&&t.removeRef(n[r].$changes.refId);else{var i=n.$changes.parent._definition,o=i.schema[i.fieldsByIndex[n.$changes.parentIndex]];"function"==typeof Object.values(o)[0]&&Array.from(n.values()).forEach(function(e){return t.removeRef(e.$changes.refId)})}t.refs.delete(e),delete t.refCounts[e]}}),this.deletedRefs.clear()},t}(),ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(Error);function st(t,e,n,r){if(!(t instanceof e))throw new ot("a '".concat(e.name,"' was expected, but '").concat(t.constructor.name,"' was provided in ").concat(n.constructor.name,"#").concat(r))}function at(t,e,n,r,i){!function(t,e,n,r){var i,o=!1;switch(e){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":i="number",isNaN(t)&&console.log('trying to encode "NaN" in '.concat(n.constructor.name,"#").concat(r));break;case"string":i="string",o=!0;break;case"boolean":return}if(typeof t!==i&&(!o||o&&null!==t)){var s="'".concat(JSON.stringify(t),"'").concat(t&&t.constructor&&" (".concat(t.constructor.name,")")||"");throw new ot("a '".concat(i,"' was expected, but ").concat(s," was provided in ").concat(n.constructor.name,"#").concat(r))}}(n,t,r,i);var o=D[t];if(!o)throw new ot("a '".concat(t,"' was expected, but ").concat(n," was provided in ").concat(r.constructor.name,"#").concat(i));o(e,n)}function ut(t,e,n){return tt[t](e,n)}var ct=function(){function e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Object.defineProperties(this,{$changes:{value:new a(this,void 0,new it),enumerable:!1,writable:!0},$callbacks:{value:void 0,enumerable:!1,writable:!0}});var n=this._definition.descriptors;n&&Object.defineProperties(this,n),t[0]&&this.assign(t[0])}return e.onError=function(t){console.error(t)},e.is=function(t){return t._definition&&void 0!==t._definition.schema},e.prototype.onChange=function(e){return u(this.$callbacks||(this.$callbacks={}),t.OPERATION.REPLACE,e)},e.prototype.onRemove=function(e){return u(this.$callbacks||(this.$callbacks={}),t.OPERATION.DELETE,e)},e.prototype.assign=function(t){return Object.assign(this,t),this},Object.defineProperty(e.prototype,"_definition",{get:function(){return this.constructor._definition},enumerable:!1,configurable:!0}),e.prototype.setDirty=function(t,e){this.$changes.change(t,e)},e.prototype.listen=function(t,e,n){var r=this;return void 0===n&&(n=!0),this.$callbacks||(this.$callbacks={}),this.$callbacks[t]||(this.$callbacks[t]=[]),this.$callbacks[t].push(e),n&&void 0!==this[t]&&e(this[t],void 0),function(){return h(r.$callbacks[t],r.$callbacks[t].indexOf(e))}},e.prototype.decode=function(n,r,i){void 0===r&&(r={offset:0}),void 0===i&&(i=this);var o=[],a=this.$changes.root,u=n.length,c=0;for(a.refs.set(c,this);r.offset<u;){var h=n[r.offset++];if(h!=s){var f=i.$changes,p=void 0!==i._definition,g=p?h>>6<<6:h;if(g!==t.OPERATION.CLEAR){var y=p?h%(g||255):X(n,r),v=p?i._definition.fieldsByIndex[y]:"",w=f.getType(y),b=void 0,_=void 0,E=void 0;if(p?_=i["_".concat(v)]:(_=i.getByIndex(y),(g&t.OPERATION.ADD)===t.OPERATION.ADD?(E=i instanceof d?J(n,r):y,i.setIndex(y,E)):E=i.getIndex(y)),(g&t.OPERATION.DELETE)===t.OPERATION.DELETE&&(g!==t.OPERATION.DELETE_AND_ADD&&i.deleteByIndex(y),_&&_.$changes&&a.removeRef(_.$changes.refId),b=null),void 0!==v){if(g===t.OPERATION.DELETE);else if(e.is(w)){var A=X(n,r);if(b=a.refs.get(A),g!==t.OPERATION.REPLACE){var x=this.getSchemaType(n,r,w);b||((b=this.createTypeInstance(x)).$changes.refId=A,_&&(b.$callbacks=_.$callbacks,_.$changes.refId&&A!==_.$changes.refId&&a.removeRef(_.$changes.refId))),a.addRef(A,b,b!==_)}}else if("string"==typeof w)b=ut(w,n,r);else{var k=m(Object.keys(w)[0]),I=X(n,r),S=a.refs.has(I)?_||a.refs.get(I):new k.constructor;if((b=S.clone(!0)).$changes.refId=I,_&&(b.$callbacks=_.$callbacks,_.$changes.refId&&I!==_.$changes.refId)){a.removeRef(_.$changes.refId);for(var M=_.entries(),O=void 0;(O=M.next())&&!O.done;){var T=O.value,B=T[0],P=T[1];o.push({refId:I,op:t.OPERATION.DELETE,field:B,value:void 0,previousValue:P})}}a.addRef(I,b,S!==_)}if(null!=b)if(b.$changes&&b.$changes.setParent(f.ref,f.root,y),i instanceof e)i[v]=b;else if(i instanceof d)B=E,i.$items.set(B,b),i.$changes.allChanges.add(y);else if(i instanceof l)i.setAt(y,b);else if(i instanceof et){var R=i.add(b);i.setIndex(y,R)}else i instanceof nt&&!1!==(R=i.add(b))&&i.setIndex(y,R);_!==b&&o.push({refId:c,op:g,field:v,dynamicIndex:E,value:b,previousValue:_})}else{console.warn("@colyseus/schema: definition mismatch");for(var C={offset:r.offset};r.offset<u&&(!Q(n,r)||(C.offset=r.offset+1,!a.refs.has(X(n,C))));)r.offset++}}else i.clear(o)}else{c=X(n,r);var $=a.refs.get(c);if(!$)throw new Error('"refId" not found: '.concat(c));i=$}}return this._triggerChanges(o),a.garbageCollectDeletedRefs(),o},e.prototype.encode=function(n,r,i){void 0===n&&(n=!1),void 0===r&&(r=[]),void 0===i&&(i=!1);for(var o=this.$changes,a=new WeakSet,u=[o],c=1,h=0;h<c;h++){var f=u[h],l=f.ref,p=l instanceof e;f.ensureRefId(),a.add(f),f!==o&&(f.changed||n)&&(A(r,s),N(r,f.refId));for(var g=n?Array.from(f.allChanges):Array.from(f.changes.values()),y=0,v=g.length;y<v;y++){var w=n?{op:t.OPERATION.ADD,index:g[y]}:g[y],b=w.index,_=p?l._definition.fieldsByIndex&&l._definition.fieldsByIndex[b]:b,E=r.length;if(w.op!==t.OPERATION.TOUCH)if(p)A(r,b|w.op);else{if(A(r,w.op),w.op===t.OPERATION.CLEAR)continue;N(r,b)}if(p||(w.op&t.OPERATION.ADD)!=t.OPERATION.ADD||l instanceof d&&$(r,f.ref.$indexes.get(b)),w.op!==t.OPERATION.DELETE){var x=f.getType(b),k=f.getValue(b);if(k&&k.$changes&&!a.has(k.$changes)&&(u.push(k.$changes),k.$changes.ensureRefId(),c++),w.op!==t.OPERATION.TOUCH){if(e.is(x))st(k,x,l,_),N(r,k.$changes.refId),(w.op&t.OPERATION.ADD)===t.OPERATION.ADD&&this.tryEncodeTypeId(r,x,k.constructor);else if("string"==typeof x)at(x,r,k,l,_);else{var I=m(Object.keys(x)[0]);st(l["_".concat(_)],I.constructor,l,_),N(r,k.$changes.refId)}i&&f.cache(b,r.slice(E))}}}n||i||f.discard()}return r},e.prototype.encodeAll=function(t){return this.encode(!0,[],t)},e.prototype.applyFilters=function(n,r){var i,o;void 0===r&&(r=!1);for(var a=this,u=new Set,c=rt.get(n),h=[this.$changes],f=1,l=[],p=function(p){var g=h[p];if(u.has(g.refId))return"continue";var m=g.ref,y=m instanceof e;A(l,s),N(l,g.refId);var v=c.refIds.has(g),w=r||!v;c.addRefId(g);var b=c.containerIndexes.get(g),_=w?Array.from(g.allChanges):Array.from(g.changes.values());!r&&y&&m._definition.indexesWithFilters&&m._definition.indexesWithFilters.forEach(function(e){!b.has(e)&&g.allChanges.has(e)&&(w?_.push(e):_.push({op:t.OPERATION.ADD,index:e}))});for(var E=0,x=_.length;E<x;E++){var k=w?{op:t.OPERATION.ADD,index:_[E]}:_[E];if(k.op!==t.OPERATION.CLEAR){var I=k.index;if(k.op!==t.OPERATION.DELETE){var S=g.getValue(I),M=g.getType(I);if(y){if((O=m._definition.filters&&m._definition.filters[I])&&!O.call(m,n,S,a)){S&&S.$changes&&u.add(S.$changes.refId);continue}}else{var O,T=g.parent;if((O=g.getChildrenFilter())&&!O.call(T,n,m.$indexes.get(I),S,a)){S&&S.$changes&&u.add(S.$changes.refId);continue}}if(S.$changes&&(h.push(S.$changes),f++),k.op!==t.OPERATION.TOUCH)if(k.op===t.OPERATION.ADD||y)l.push.apply(l,null!==(i=g.caches[I])&&void 0!==i?i:[]),b.add(I);else if(b.has(I))l.push.apply(l,null!==(o=g.caches[I])&&void 0!==o?o:[]);else{if(b.add(I),A(l,t.OPERATION.ADD),N(l,I),m instanceof d){var B=g.ref.$indexes.get(I);$(l,B)}S.$changes?N(l,S.$changes.refId):D[M](l,S)}else S.$changes&&!y&&(A(l,t.OPERATION.ADD),N(l,I),m instanceof d&&(B=g.ref.$indexes.get(I),$(l,B)),N(l,S.$changes.refId))}else y?A(l,k.op|I):(A(l,k.op),N(l,I))}else A(l,k.op)}},g=0;g<f;g++)p(g);return l},e.prototype.clone=function(){var t,e=new this.constructor,n=this._definition.schema;for(var r in n)"object"==typeof this[r]&&"function"==typeof(null===(t=this[r])||void 0===t?void 0:t.clone)?e[r]=this[r].clone():e[r]=this[r];return e},e.prototype.toJSON=function(){var t=this._definition.schema,e=this._definition.deprecated,n={};for(var r in t)e[r]||null===this[r]||void 0===this[r]||(n[r]="function"==typeof this[r].toJSON?this[r].toJSON():this["_".concat(r)]);return n},e.prototype.discardAllChanges=function(){this.$changes.discardAll()},e.prototype.getByIndex=function(t){return this[this._definition.fieldsByIndex[t]]},e.prototype.deleteByIndex=function(t){this[this._definition.fieldsByIndex[t]]=void 0},e.prototype.tryEncodeTypeId=function(t,e,n){e._typeid!==n._typeid&&(A(t,213),N(t,n._typeid))},e.prototype.getSchemaType=function(t,e,n){var r;return 213===t[e.offset]&&(e.offset++,r=this.constructor._context.get(X(t,e))),r||n},e.prototype.createTypeInstance=function(t){var e=new t;return e.$changes.root=this.$changes.root,e},e.prototype._triggerChanges=function(n){for(var r,i,o,s,a,u,c,h,f,l=new Set,d=this.$changes.root.refs,p=function(p){var g=n[p],m=g.refId,y=d.get(m),v=y.$callbacks;if((g.op&t.OPERATION.DELETE)===t.OPERATION.DELETE&&g.previousValue instanceof e&&(null===(i=null===(r=g.previousValue.$callbacks)||void 0===r?void 0:r[t.OPERATION.DELETE])||void 0===i||i.forEach(function(t){return t()})),!v)return"continue";if(y instanceof e){if(!l.has(m))try{null===(o=null==v?void 0:v[t.OPERATION.REPLACE])||void 0===o||o.forEach(function(t){return t()})}catch(t){e.onError(t)}try{v.hasOwnProperty(g.field)&&(null===(s=v[g.field])||void 0===s||s.forEach(function(t){return t(g.value,g.previousValue)}))}catch(t){e.onError(t)}}else g.op===t.OPERATION.ADD&&void 0===g.previousValue?null===(a=v[t.OPERATION.ADD])||void 0===a||a.forEach(function(t){var e;return t(g.value,null!==(e=g.dynamicIndex)&&void 0!==e?e:g.field)}):g.op===t.OPERATION.DELETE?void 0!==g.previousValue&&(null===(u=v[t.OPERATION.DELETE])||void 0===u||u.forEach(function(t){var e;return t(g.previousValue,null!==(e=g.dynamicIndex)&&void 0!==e?e:g.field)})):g.op===t.OPERATION.DELETE_AND_ADD&&(void 0!==g.previousValue&&(null===(c=v[t.OPERATION.DELETE])||void 0===c||c.forEach(function(t){var e;return t(g.previousValue,null!==(e=g.dynamicIndex)&&void 0!==e?e:g.field)})),null===(h=v[t.OPERATION.ADD])||void 0===h||h.forEach(function(t){var e;return t(g.value,null!==(e=g.dynamicIndex)&&void 0!==e?e:g.field)})),g.value!==g.previousValue&&(null===(f=v[t.OPERATION.REPLACE])||void 0===f||f.forEach(function(t){var e;return t(g.value,null!==(e=g.dynamicIndex)&&void 0!==e?e:g.field)}));l.add(m)},g=0;g<n.length;g++)p(g)},e._definition=y.create(),e}();var ht={context:new v},ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),r([b("string",ht)],e.prototype,"name",void 0),r([b("string",ht)],e.prototype,"type",void 0),r([b("number",ht)],e.prototype,"referencedType",void 0),e}(ct),lt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fields=new l,e}return n(e,t),r([b("number",ht)],e.prototype,"id",void 0),r([b([ft],ht)],e.prototype,"fields",void 0),e}(ct),dt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.types=new l,e}return n(e,t),e.encode=function(t){var n,r=t.constructor,i=new e;i.rootType=r._typeid;var o=function(t,e){for(var n in e){var r=new ft;r.name=n;var o=void 0;if("string"==typeof e[n])o=e[n];else{var s=e[n],a=void 0;ct.is(s)?(o="ref",a=e[n]):"string"==typeof s[o=Object.keys(s)[0]]?o+=":"+s[o]:a=s[o],r.referencedType=a?a._typeid:-1}r.type=o,t.fields.push(r)}i.types.push(t)},s=null===(n=r._context)||void 0===n?void 0:n.types;for(var a in s){var u=new lt;u.id=Number(a),o(u,s[a]._definition.schema)}return i.encodeAll()},e.decode=function(t,r){var i=new v,o=new e;o.decode(t,r);var s=o.types.reduce(function(t,e){var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(ct),o=e.id;return t[o]=r,i.add(r,o),t},{});o.types.forEach(function(t){var e=s[t.id];t.fields.forEach(function(t){var n;if(void 0!==t.referencedType){var r=t.type,o=s[t.referencedType];if(!o){var a=t.type.split(":");r=a[0],o=a[1]}"ref"===r?b(o,{context:i})(e.prototype,t.name):b(((n={})[r]=o,n),{context:i})(e.prototype,t.name)}else b(t.type,{context:i})(e.prototype,t.name)})});var a=s[o.rootType],u=new a;for(var c in a._definition.schema){var h=a._definition.schema[c];"string"!=typeof h&&(u[c]="function"==typeof h?new h:new(m(Object.keys(h)[0]).constructor))}return u},r([b([lt],ht)],e.prototype,"types",void 0),r([b("number",ht)],e.prototype,"rootType",void 0),e}(ct);g("map",{constructor:d}),g("array",{constructor:l}),g("set",{constructor:nt}),g("collection",{constructor:et}),t.ArraySchema=l,t.CollectionSchema=et,t.Context=v,t.MapSchema=d,t.Reflection=dt,t.ReflectionField=ft,t.ReflectionType=lt,t.Schema=ct,t.SchemaDefinition=y,t.SetSchema=nt,t.decode=tt,t.defineTypes=function(t,e,n){for(var r in void 0===n&&(n={}),n.context||(n.context=t._context||n.context||w),e)b(e[r],n)(t.prototype,r);return t},t.deprecated=function(t){return void 0===t&&(t=!0),function(e,n){var r=e.constructor._definition;r.deprecated[n]=!0,t&&(r.descriptors[n]={get:function(){throw new Error("".concat(n," is deprecated."))},set:function(t){},enumerable:!1,configurable:!0})}},t.dumpChanges=function(t){for(var e=[t.$changes],n={},r=n,i=function(t){var n=e[t];n.changes.forEach(function(t){var e=n.ref,i=t.index,o=e._definition?e._definition.fieldsByIndex[i]:e.$indexes.get(i);r[o]=n.getValue(i)})},o=0;o<1;o++)i(o);return n},t.encode=D,t.filter=function(t){return function(e,n){var r=e.constructor;r._definition.addFilter(n,t)&&(r._context.useFilters=!0)}},t.filterChildren=function(t){return function(e,n){var r=e.constructor;r._definition.addChildrenFilter(n,t)&&(r._context.useFilters=!0)}},t.hasFilter=function(t){return t._context&&t._context.useFilters},t.registerType=g,t.type=b}(e)},127:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SchemaSerializer=void 0;const r=n(118);e.SchemaSerializer=class{setState(t){return this.state.decode(t)}getState(){return this.state}patch(t){return this.state.decode(t)}teardown(){var t,e;null===(e=null===(t=this.state)||void 0===t?void 0:t.$changes)||void 0===e||e.root.clearRefs()}handshake(t,e){this.state?(new r.Reflection).decode(t,e):this.state=r.Reflection.decode(t,e)}}},194:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoneSerializer=void 0,e.NoneSerializer=class{setState(t){}getState(){return null}patch(t){}teardown(){}handshake(t){}}},204:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSerializer=e.registerSerializer=void 0;const n={};e.registerSerializer=function(t,e){n[t]=e},e.getSerializer=function(t){const e=n[t];if(!e)throw new Error("missing serializer: "+t);return e}},218:function(t,e,n){"use strict";var r,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.Client=e.MatchMakeError=void 0;const o=n(438),s=n(650),a=n(477),u=n(831),c=n(998);class h extends Error{constructor(t,e){super(t),this.code=e,Object.setPrototypeOf(this,h.prototype)}}e.MatchMakeError=h;const f="undefined"!=typeof window&&void 0!==(null===(r=null===window||void 0===window?void 0:window.location)||void 0===r?void 0:r.hostname)?`${window.location.protocol.replace("http","ws")}//${window.location.hostname}${window.location.port&&`:${window.location.port}`}`:"ws://127.0.0.1:2567";e.Client=class{constructor(t=f,e){var n,r;if("string"==typeof t){const e=t.startsWith("/")?new URL(t,f):new URL(t),n="https:"===e.protocol||"wss:"===e.protocol,r=Number(e.port||(n?443:80));this.settings={hostname:e.hostname,pathname:e.pathname,port:r,secure:n}}else void 0===t.port&&(t.port=t.secure?443:80),void 0===t.pathname&&(t.pathname=""),this.settings=t;this.settings.pathname.endsWith("/")&&(this.settings.pathname=this.settings.pathname.slice(0,-1)),this.http=new a.HTTP(this,(null==e?void 0:e.headers)||{}),this.auth=new u.Auth(this.http),this.urlBuilder=null==e?void 0:e.urlBuilder,!this.urlBuilder&&"undefined"!=typeof window&&(null===(r=null===(n=null===window||void 0===window?void 0:window.location)||void 0===n?void 0:n.hostname)||void 0===r?void 0:r.includes("discordsays.com"))&&(this.urlBuilder=c.discordURLBuilder,console.log("Colyseus SDK: Discord Embedded SDK detected. Using custom URL builder."))}joinOrCreate(t,e={},n){return i(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("joinOrCreate",t,e,n)})}create(t,e={},n){return i(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("create",t,e,n)})}join(t,e={},n){return i(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("join",t,e,n)})}joinById(t,e={},n){return i(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("joinById",t,e,n)})}reconnect(t,e){return i(this,void 0,void 0,function*(){if("string"==typeof t&&"string"==typeof e)throw new Error("DEPRECATED: .reconnect() now only accepts 'reconnectionToken' as argument.\nYou can get this token from previously connected `room.reconnectionToken`");const[n,r]=t.split(":");if(!n||!r)throw new Error("Invalid reconnection token format.\nThe format should be roomId:reconnectionToken");return yield this.createMatchMakeRequest("reconnect",n,{reconnectionToken:r},e)})}getAvailableRooms(t=""){return i(this,void 0,void 0,function*(){return(yield this.http.get(`matchmake/${t}`,{headers:{Accept:"application/json"}})).data})}consumeSeatReservation(t,e,n){return i(this,void 0,void 0,function*(){const r=this.createRoom(t.room.name,e);r.roomId=t.room.roomId,r.sessionId=t.sessionId;const s={sessionId:r.sessionId};t.reconnectionToken&&(s.reconnectionToken=t.reconnectionToken);const a=n||r;return r.connect(this.buildEndpoint(t.room,s),t.devMode&&(()=>i(this,void 0,void 0,function*(){console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} Re-establishing connection with room id '${r.roomId}'...`);let n=0;const o=()=>i(this,void 0,void 0,function*(){n++;try{yield this.consumeSeatReservation(t,e,a),console.info(`[Colyseus devMode]: ${String.fromCodePoint(9989)} Successfully re-established connection with room '${r.roomId}'`)}catch(t){n<8?(console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} retrying... (${n} out of 8)`),setTimeout(o,2e3)):console.info(`[Colyseus devMode]: ${String.fromCodePoint(10060)} Failed to reconnect. Is your server running? Please check server logs.`)}});setTimeout(o,2e3)})),a,this.http.headers),new Promise((t,e)=>{const n=(t,n)=>e(new o.ServerError(t,n));a.onError.once(n),a.onJoin.once(()=>{a.onError.remove(n),t(a)})})})}createMatchMakeRequest(t,e,n={},r,o){return i(this,void 0,void 0,function*(){const i=(yield this.http.post(`matchmake/${t}/${e}`,{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)})).data;if(i.error)throw new h(i.error,i.code);return"reconnect"===t&&(i.reconnectionToken=n.reconnectionToken),yield this.consumeSeatReservation(i,r,o)})}createRoom(t,e){return new s.Room(t,e)}buildEndpoint(t,e={}){const n=[];for(const t in e)e.hasOwnProperty(t)&&n.push(`${t}=${e[t]}`);let r=this.settings.secure?"wss://":"ws://";t.publicAddress?r+=`${t.publicAddress}`:r+=`${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}`;const i=`${r}/${t.processId}/${t.roomId}?${n.join("&")}`;return this.urlBuilder?this.urlBuilder(new URL(i)):i}getHttpEndpoint(t=""){const e=t.startsWith("/")?t:`/${t}`,n=`${this.settings.secure?"https":"http"}://${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}${e}`;return this.urlBuilder?this.urlBuilder(new URL(n)):n}getEndpointPort(){return 80!==this.settings.port&&443!==this.settings.port?`:${this.settings.port}`:""}}},228:t=>{"use strict";var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||t,s),u=n?n+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function s(t,e){0===--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,i,o,s){var a=n?n+t:t;if(!this._events[a])return!1;var u,c,h=this._events[a],f=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),f){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,r),!0;case 4:return h.fn.call(h.context,e,r,i),!0;case 5:return h.fn.call(h.context,e,r,i,o),!0;case 6:return h.fn.call(h.context,e,r,i,o,s),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];h.fn.apply(h.context,u)}else{var l,d=h.length;for(c=0;c<d;c++)switch(h[c].once&&this.removeListener(t,h[c].fn,void 0,!0),f){case 1:h[c].fn.call(h[c].context);break;case 2:h[c].fn.call(h[c].context,e);break;case 3:h[c].fn.call(h[c].context,e,r);break;case 4:h[c].fn.call(h[c].context,e,r,i);break;default:if(!u)for(l=1,u=new Array(f-1);l<f;l++)u[l-1]=arguments[l];h[c].fn.apply(h[c].context,u)}}return!0},a.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var u=0,c=[],h=a.length;u<h;u++)(a[u].fn!==e||i&&!a[u].once||r&&a[u].context!==r)&&c.push(a[u]);c.length?this._events[o]=1===c.length?c[0]:c:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&s(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a},249:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SchemaSerializer=e.registerSerializer=e.Auth=e.Room=e.ErrorCode=e.Protocol=e.MatchMakeError=e.Client=void 0,n(554);var r=n(218);Object.defineProperty(e,"Client",{enumerable:!0,get:function(){return r.Client}}),Object.defineProperty(e,"MatchMakeError",{enumerable:!0,get:function(){return r.MatchMakeError}});var i=n(837);Object.defineProperty(e,"Protocol",{enumerable:!0,get:function(){return i.Protocol}}),Object.defineProperty(e,"ErrorCode",{enumerable:!0,get:function(){return i.ErrorCode}});var o=n(650);Object.defineProperty(e,"Room",{enumerable:!0,get:function(){return o.Room}});var s=n(831);Object.defineProperty(e,"Auth",{enumerable:!0,get:function(){return s.Auth}});const a=n(127);Object.defineProperty(e,"SchemaSerializer",{enumerable:!0,get:function(){return a.SchemaSerializer}});const u=n(194),c=n(204);Object.defineProperty(e,"registerSerializer",{enumerable:!0,get:function(){return c.registerSerializer}}),(0,c.registerSerializer)("schema",a.SchemaSerializer),(0,c.registerSerializer)("none",u.NoneSerializer)},251:(t,e)=>{e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,h=-7,f=n?i-1:0,l=n?-1:1,d=t[e+f];for(f+=l,o=d&(1<<-h)-1,d>>=-h,h+=a;h>0;o=256*o+t[e+f],f+=l,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=r;h>0;s=256*s+t[e+f],f+=l,h-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,h=(1<<c)-1,f=h>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+f>=1?l/u:l*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=h?(a=0,s=h):s+f>=1?(a=(e*u-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+d]=255&s,d+=p,s/=256,c-=8);t[n+d-p]|=128*g}},281:(t,e)=>{"use strict";function n(t,e,n){return e<=t&&t<=n}function r(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function i(t){this.tokens=[].slice.call(t)}i.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var o=-1;function s(t,e){if(t)throw TypeError("Decoder error");return e||65533}var a="utf-8";function u(t,e){if(!(this instanceof u))return new u(t,e);if((t=void 0!==t?String(t).toLowerCase():a)!==a)throw new Error("Encoding not supported. Only utf-8 is supported");e=r(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function c(t,e){if(!(this instanceof c))return new c(t,e);if((t=void 0!==t?String(t).toLowerCase():a)!==a)throw new Error("Encoding not supported. Only utf-8 is supported");e=r(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function h(t){var e=t.fatal,r=0,i=0,a=0,u=128,c=191;this.handler=function(t,h){if(-1===h&&0!==a)return a=0,s(e);if(-1===h)return o;if(0===a){if(n(h,0,127))return h;if(n(h,194,223))a=1,r=h-192;else if(n(h,224,239))224===h&&(u=160),237===h&&(c=159),a=2,r=h-224;else{if(!n(h,240,244))return s(e);240===h&&(u=144),244===h&&(c=143),a=3,r=h-240}return r<<=6*a,null}if(!n(h,u,c))return r=a=i=0,u=128,c=191,t.prepend(h),s(e);if(u=128,c=191,r+=h-128<<6*(a-(i+=1)),i!==a)return null;var f=r;return r=a=i=0,f}}function f(t){t.fatal,this.handler=function(t,e){if(-1===e)return o;if(n(e,0,127))return e;var r,i;n(e,128,2047)?(r=1,i=192):n(e,2048,65535)?(r=2,i=224):n(e,65536,1114111)&&(r=3,i=240);for(var s=[(e>>6*r)+i];r>0;){var a=e>>6*(r-1);s.push(128|63&a),r-=1}return s}}u.prototype={decode:function(t,e){var n;n="object"==typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"==typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=r(e),this._streaming||(this._decoder=new h({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var s,a=new i(n),u=[];!a.endOfStream()&&(s=this._decoder.handler(a,a.read()))!==o;)null!==s&&(Array.isArray(s)?u.push.apply(u,s):u.push(s));if(!this._streaming){do{if((s=this._decoder.handler(a,a.read()))===o)break;null!==s&&(Array.isArray(s)?u.push.apply(u,s):u.push(s))}while(!a.endOfStream());this._decoder=null}return u.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===u[0]?(this._BOMseen=!0,u.shift()):this._BOMseen=!0)),function(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return e}(u)}},c.prototype={encode:function(t,e){t=t?String(t):"",e=r(e),this._streaming||(this._encoder=new f(this._options)),this._streaming=Boolean(e.stream);for(var n,s=[],a=new i(function(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var o=e.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var s=t.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=1023&o,u=1023&s;i.push(65536+(a<<10)+u),r+=1}else i.push(65533)}r+=1}return i}(t));!a.endOfStream()&&(n=this._encoder.handler(a,a.read()))!==o;)Array.isArray(n)?s.push.apply(s,n):s.push(n);if(!this._streaming){for(;(n=this._encoder.handler(a,a.read()))!==o;)Array.isArray(n)?s.push.apply(s,n):s.push(n);this._encoder=null}return new Uint8Array(s)}},e.TextEncoder=c,e.TextDecoder=u},287:(t,e,n)=>{"use strict";const r=n(526),i=n(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return c(t,e,n)}function c(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|g(t,e);let r=a(n);const i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Z(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return l(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Z(t,ArrayBuffer)||t&&Z(t.buffer,ArrayBuffer))return d(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(Z(t,SharedArrayBuffer)||t&&Z(t.buffer,SharedArrayBuffer)))return d(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return u.from(r,e,n);const i=function(t){if(u.isBuffer(t)){const e=0|p(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||G(t.length)?a(0):l(t):"Buffer"===t.type&&Array.isArray(t.data)?l(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return h(t),a(t<0?0:0|p(t))}function l(t){const e=t.length<0?0:0|p(t.length),n=a(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function d(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,u.prototype),r}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function g(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Z(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(t).length;default:if(i)return r?-1:V(t).length;e=(""+e).toLowerCase(),i=!0}}function m(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return I(this,e,n);case"ascii":return M(this,e,n);case"latin1":case"binary":return O(this,e,n);case"base64":return k(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),G(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:w(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):w(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,n,r,i){let o,s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let r=-1;for(o=n;o<a;o++)if(c(t,o)===c(e,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===u)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){let n=!0;for(let r=0;r<u;r++)if(c(t,o+r)!==c(e,r)){n=!1;break}if(n)return o}return-1}function b(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=e.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if(G(r))return s;t[n+s]=r}return s}function _(t,e,n,r){return Y(V(e,t.length-n),t,n,r)}function E(t,e,n,r){return Y(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function A(t,e,n,r){return Y(q(e),t,n,r)}function x(t,e,n,r){return Y(function(t,e){let n,r,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function k(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function I(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;for(;i<n;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=n){let n,r,a,u;switch(s){case 1:e<128&&(o=e);break;case 2:n=t[i+1],128==(192&n)&&(u=(31&e)<<6|63&n,u>127&&(o=u));break;case 3:n=t[i+1],r=t[i+2],128==(192&n)&&128==(192&r)&&(u=(15&e)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:n=t[i+1],r=t[i+2],a=t[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(u=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(t){const e=t.length;if(e<=S)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=S));return n}(r)}e.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,n){return c(t,e,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,n){return function(t,e,n){return h(t),t<=0?a(t):void 0!==e?"string"==typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},u.allocUnsafe=function(t){return f(t)},u.allocUnsafeSlow=function(t){return f(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(Z(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),Z(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=u.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(Z(e,Uint8Array))i+e.length>r.length?(u.isBuffer(e)||(e=u.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!u.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?I(this,0,t):m.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(t,e,n,r,i){if(Z(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0);const a=Math.min(o,s),c=this.slice(r,i),h=t.slice(e,n);for(let t=0;t<a;++t)if(c[t]!==h[t]){o=c[t],s=h[t];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":case"latin1":case"binary":return E(this,t,e,n);case"base64":return A(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const S=4096;function M(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function O(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function T(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=e;r<n;++r)i+=J[t[r]];return i}function B(t,e,n){const r=t.slice(e,n);let i="";for(let t=0;t<r.length-1;t+=2)i+=String.fromCharCode(r[t]+256*r[t+1]);return i}function P(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function C(t,e,n,r,i){F(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function $(t,e,n,r,i){F(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function N(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(t,e,n,r,o){return e=+e,n>>>=0,o||N(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function L(t,e,n,r,o){return e=+e,n>>>=0,o||N(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readBigUInt64LE=X(function(t){W(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||H(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))}),u.prototype.readBigUInt64BE=X(function(t){W(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||H(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)}),u.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);let r=e,i=1,o=this[t+--r];for(;r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||P(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){t>>>=0,e||P(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readBigInt64LE=X(function(t){W(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||H(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)}),u.prototype.readBigInt64BE=X(function(t){W(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||H(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)}),u.prototype.readFloatLE=function(t,e){return t>>>=0,e||P(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||P(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||P(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||P(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||R(this,t,e,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||R(this,t,e,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigUInt64LE=X(function(t,e=0){return C(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=X(function(t,e=0){return $(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,t,e,n,r-1,-r)}let i=0,o=1,s=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o|0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,t,e,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o|0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigInt64LE=X(function(t,e=0){return C(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=X(function(t,e=0){return $(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeFloatLE=function(t,e,n){return D(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return D(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return L(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return L(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{const o=u.isBuffer(t)?t:u.from(t,r),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=o[i%s]}return this};const z={};function U(t,e,n){z[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function j(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function F(t,e,n,r,i,o){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new z.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,n){W(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||H(e,t.length-(n+1))}(r,i,o)}function W(t,e){if("number"!=typeof t)throw new z.ERR_INVALID_ARG_TYPE(e,"number",t)}function H(t,e,n){if(Math.floor(t)!==t)throw W(t,n),new z.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new z.ERR_BUFFER_OUT_OF_BOUNDS;throw new z.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}U("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),U("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError),U("ERR_OUT_OF_RANGE",function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=j(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=j(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r},RangeError);const K=/[^+/0-9A-Za-z-_]/g;function V(t,e){let n;e=e||1/0;const r=t.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Y(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function Z(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function G(t){return t!=t}const J=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function X(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},289:(t,e,n)=>{"use strict";const r=n(341).v4;t.exports=function(t,e,n,i){if("string"!=typeof t)throw new TypeError(t+" must be a string");const o="number"==typeof(i=i||{}).version?i.version:2;if(1!==o&&2!==o)throw new TypeError(o+" must be 1 or 2");const s={method:t};if(2===o&&(s.jsonrpc="2.0"),e){if("object"!=typeof e&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(void 0===n){const t="function"==typeof i.generator?i.generator:function(){return r()};s.id=t(s,i)}else 2===o&&null===n?i.notificationIdNull&&(s.id=null):s.id=n;return s}},341:(t,e,n)=>{"use strict";var r;n.d(e,{v4:()=>h});var i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var a=[],u=0;u<256;++u)a.push((u+256).toString(16).substr(1));const c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(a[t[e+0]]+a[t[e+1]]+a[t[e+2]]+a[t[e+3]]+"-"+a[t[e+4]]+a[t[e+5]]+"-"+a[t[e+6]]+a[t[e+7]]+"-"+a[t[e+8]]+a[t[e+9]]+"-"+a[t[e+10]]+a[t[e+11]]+a[t[e+12]]+a[t[e+13]]+a[t[e+14]]+a[t[e+15]]).toLowerCase();if(!function(t){return"string"==typeof t&&s.test(t)}(n))throw TypeError("Stringified UUID is invalid");return n},h=function(t,e,n){var r=(t=t||{}).random||(t.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return c(r)}},364:(t,e,n)=>{"use strict";var r=n(861).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(255!==e[s])throw new TypeError(o+" is ambiguous");e[s]=i}var a=t.length,u=t.charAt(0),c=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function f(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return r.alloc(0);for(var n=0,i=0,o=0;t[n]===u;)i++,n++;for(var s=(t.length-n)*c+1>>>0,h=new Uint8Array(s);n<t.length;){var f=t.charCodeAt(n);if(f>255)return;var l=e[f];if(255===l)return;for(var d=0,p=s-1;(0!==l||d<o)&&-1!==p;p--,d++)l+=a*h[p]>>>0,h[p]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=d,n++}for(var g=s-o;g!==s&&0===h[g];)g++;var m=r.allocUnsafe(i+(s-g));m.fill(0,0,i);for(var y=i;g!==s;)m[y++]=h[g++];return m}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=r.from(e)),!r.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var n=0,i=0,o=0,s=e.length;o!==s&&0===e[o];)o++,n++;for(var c=(s-o)*h+1>>>0,f=new Uint8Array(c);o!==s;){for(var l=e[o],d=0,p=c-1;(0!==l||d<i)&&-1!==p;p--,d++)l+=256*f[p]>>>0,f[p]=l%a>>>0,l=l/a>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,o++}for(var g=c-i;g!==c&&0===f[g];)g++;for(var m=u.repeat(n);g<c;++g)m+=t.charAt(f[g]);return m},decodeUnsafe:f,decode:function(t){var e=f(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},404:function(t,e,n){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(790).Buffer}catch(t){}function a(t,e){var n=t.charCodeAt(e);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+t)}function u(t,e,n){var r=a(t,n);return n-1>=e&&(r|=a(t,n-1)<<4),r}function c(t,e,n,i){for(var o=0,s=0,a=Math.min(t.length,n),u=e;u<a;u++){var c=t.charCodeAt(u)-48;o*=i,s=c>=49?c-49+10:c>=17?c-17+10:c,r(c>=0&&s<i,"Invalid character"),o+=s}return o}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,s=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=u(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)i=u(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,s=o%r,a=Math.min(o,o-s)+n,u=0,h=n;h<a;h+=r)u=c(t,h,h+r,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=c(t,h,t.length,e),h=0;h<s;h++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){h(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch(t){o.prototype.inspect=f}else o.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function g(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;n.words[0]=a;for(var c=1;c<r;c++){for(var h=u>>>26,f=67108863&u,l=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=l;d++){var p=c-d|0;h+=(s=(i=0|t.words[p])*(o=0|e.words[d])+f)/67108864|0,f=67108863&s}n.words[c]=0|f,u=0|h}return 0!==u?n.words[c]=0|u:n.length--,n._strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),n=0!==o||s!==this.length-1?l[6-u.length]+u+n:u+n}for(0!==o&&(n=o.toString(16)+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var c=d[t],h=p[t];n="";var f=this.clone();for(f.negative=0;!f.isZero();){var g=f.modrn(h).toString(t);n=(f=f.idivn(h)).isZero()?g+n:l[c-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;t[n++]=255&s,n<t.length&&(t[n++]=s>>8&255),n<t.length&&(t[n++]=s>>16&255),6===o?(n<t.length&&(t[n++]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n<t.length)for(t[n++]=r;n<t.length;)t[n++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var n=t.length-1,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;t[n--]=255&s,n>=0&&(t[n--]=s>>8&255),n>=0&&(t[n--]=s>>16&255),6===o?(n>=0&&(t[n--]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n>=0)for(t[n--]=r;n>=0;)t[n--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 8191&e||(n+=13,e>>>=13),127&e||(n+=7,e>>>=7),15&e||(n+=4,e>>>=4),3&e||(n+=2,e>>>=2),1&e||n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return r(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return r(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return r(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,s=0;s<r.length;s++)o=(e=(0|n.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<n.length;s++)o=(e=(0|n.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var m=function(t,e,n){var r,i,o,s=t.words,a=e.words,u=n.words,c=0,h=0|s[0],f=8191&h,l=h>>>13,d=0|s[1],p=8191&d,g=d>>>13,m=0|s[2],y=8191&m,v=m>>>13,w=0|s[3],b=8191&w,_=w>>>13,E=0|s[4],A=8191&E,x=E>>>13,k=0|s[5],I=8191&k,S=k>>>13,M=0|s[6],O=8191&M,T=M>>>13,B=0|s[7],P=8191&B,R=B>>>13,C=0|s[8],$=8191&C,N=C>>>13,D=0|s[9],L=8191&D,z=D>>>13,U=0|a[0],j=8191&U,F=U>>>13,W=0|a[1],H=8191&W,K=W>>>13,V=0|a[2],q=8191&V,Y=V>>>13,Z=0|a[3],G=8191&Z,J=Z>>>13,X=0|a[4],Q=8191&X,tt=X>>>13,et=0|a[5],nt=8191&et,rt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,ht=0|a[8],ft=8191&ht,lt=ht>>>13,dt=0|a[9],pt=8191&dt,gt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var mt=(c+(r=Math.imul(f,j))|0)+((8191&(i=(i=Math.imul(f,F))+Math.imul(l,j)|0))<<13)|0;c=((o=Math.imul(l,F))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(p,j),i=(i=Math.imul(p,F))+Math.imul(g,j)|0,o=Math.imul(g,F);var yt=(c+(r=r+Math.imul(f,H)|0)|0)+((8191&(i=(i=i+Math.imul(f,K)|0)+Math.imul(l,H)|0))<<13)|0;c=((o=o+Math.imul(l,K)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(y,j),i=(i=Math.imul(y,F))+Math.imul(v,j)|0,o=Math.imul(v,F),r=r+Math.imul(p,H)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(g,H)|0,o=o+Math.imul(g,K)|0;var vt=(c+(r=r+Math.imul(f,q)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(l,q)|0))<<13)|0;c=((o=o+Math.imul(l,Y)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(b,j),i=(i=Math.imul(b,F))+Math.imul(_,j)|0,o=Math.imul(_,F),r=r+Math.imul(y,H)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(v,H)|0,o=o+Math.imul(v,K)|0,r=r+Math.imul(p,q)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(g,q)|0,o=o+Math.imul(g,Y)|0;var wt=(c+(r=r+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,J)|0)+Math.imul(l,G)|0))<<13)|0;c=((o=o+Math.imul(l,J)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(A,j),i=(i=Math.imul(A,F))+Math.imul(x,j)|0,o=Math.imul(x,F),r=r+Math.imul(b,H)|0,i=(i=i+Math.imul(b,K)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,K)|0,r=r+Math.imul(y,q)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(v,q)|0,o=o+Math.imul(v,Y)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(g,G)|0,o=o+Math.imul(g,J)|0;var bt=(c+(r=r+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(l,Q)|0))<<13)|0;c=((o=o+Math.imul(l,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(I,j),i=(i=Math.imul(I,F))+Math.imul(S,j)|0,o=Math.imul(S,F),r=r+Math.imul(A,H)|0,i=(i=i+Math.imul(A,K)|0)+Math.imul(x,H)|0,o=o+Math.imul(x,K)|0,r=r+Math.imul(b,q)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,Y)|0,r=r+Math.imul(y,G)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,J)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,tt)|0;var _t=(c+(r=r+Math.imul(f,nt)|0)|0)+((8191&(i=(i=i+Math.imul(f,rt)|0)+Math.imul(l,nt)|0))<<13)|0;c=((o=o+Math.imul(l,rt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(O,j),i=(i=Math.imul(O,F))+Math.imul(T,j)|0,o=Math.imul(T,F),r=r+Math.imul(I,H)|0,i=(i=i+Math.imul(I,K)|0)+Math.imul(S,H)|0,o=o+Math.imul(S,K)|0,r=r+Math.imul(A,q)|0,i=(i=i+Math.imul(A,Y)|0)+Math.imul(x,q)|0,o=o+Math.imul(x,Y)|0,r=r+Math.imul(b,G)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,J)|0,r=r+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(g,nt)|0,o=o+Math.imul(g,rt)|0;var Et=(c+(r=r+Math.imul(f,ot)|0)|0)+((8191&(i=(i=i+Math.imul(f,st)|0)+Math.imul(l,ot)|0))<<13)|0;c=((o=o+Math.imul(l,st)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(P,j),i=(i=Math.imul(P,F))+Math.imul(R,j)|0,o=Math.imul(R,F),r=r+Math.imul(O,H)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(T,H)|0,o=o+Math.imul(T,K)|0,r=r+Math.imul(I,q)|0,i=(i=i+Math.imul(I,Y)|0)+Math.imul(S,q)|0,o=o+Math.imul(S,Y)|0,r=r+Math.imul(A,G)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,J)|0,r=r+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,r=r+Math.imul(y,nt)|0,i=(i=i+Math.imul(y,rt)|0)+Math.imul(v,nt)|0,o=o+Math.imul(v,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,st)|0;var At=(c+(r=r+Math.imul(f,ut)|0)|0)+((8191&(i=(i=i+Math.imul(f,ct)|0)+Math.imul(l,ut)|0))<<13)|0;c=((o=o+Math.imul(l,ct)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul($,j),i=(i=Math.imul($,F))+Math.imul(N,j)|0,o=Math.imul(N,F),r=r+Math.imul(P,H)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(R,H)|0,o=o+Math.imul(R,K)|0,r=r+Math.imul(O,q)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(T,q)|0,o=o+Math.imul(T,Y)|0,r=r+Math.imul(I,G)|0,i=(i=i+Math.imul(I,J)|0)+Math.imul(S,G)|0,o=o+Math.imul(S,J)|0,r=r+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,tt)|0,r=r+Math.imul(b,nt)|0,i=(i=i+Math.imul(b,rt)|0)+Math.imul(_,nt)|0,o=o+Math.imul(_,rt)|0,r=r+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,st)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,st)|0,r=r+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(g,ut)|0,o=o+Math.imul(g,ct)|0;var xt=(c+(r=r+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,lt)|0)+Math.imul(l,ft)|0))<<13)|0;c=((o=o+Math.imul(l,lt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(L,j),i=(i=Math.imul(L,F))+Math.imul(z,j)|0,o=Math.imul(z,F),r=r+Math.imul($,H)|0,i=(i=i+Math.imul($,K)|0)+Math.imul(N,H)|0,o=o+Math.imul(N,K)|0,r=r+Math.imul(P,q)|0,i=(i=i+Math.imul(P,Y)|0)+Math.imul(R,q)|0,o=o+Math.imul(R,Y)|0,r=r+Math.imul(O,G)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,J)|0,r=r+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,tt)|0,r=r+Math.imul(A,nt)|0,i=(i=i+Math.imul(A,rt)|0)+Math.imul(x,nt)|0,o=o+Math.imul(x,rt)|0,r=r+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,r=r+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ct)|0)+Math.imul(v,ut)|0,o=o+Math.imul(v,ct)|0,r=r+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(g,ft)|0,o=o+Math.imul(g,lt)|0;var kt=(c+(r=r+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,gt)|0)+Math.imul(l,pt)|0))<<13)|0;c=((o=o+Math.imul(l,gt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(L,H),i=(i=Math.imul(L,K))+Math.imul(z,H)|0,o=Math.imul(z,K),r=r+Math.imul($,q)|0,i=(i=i+Math.imul($,Y)|0)+Math.imul(N,q)|0,o=o+Math.imul(N,Y)|0,r=r+Math.imul(P,G)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,J)|0,r=r+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,r=r+Math.imul(I,nt)|0,i=(i=i+Math.imul(I,rt)|0)+Math.imul(S,nt)|0,o=o+Math.imul(S,rt)|0,r=r+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,st)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,r=r+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,ct)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ct)|0,r=r+Math.imul(y,ft)|0,i=(i=i+Math.imul(y,lt)|0)+Math.imul(v,ft)|0,o=o+Math.imul(v,lt)|0;var It=(c+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;c=((o=o+Math.imul(g,gt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(L,q),i=(i=Math.imul(L,Y))+Math.imul(z,q)|0,o=Math.imul(z,Y),r=r+Math.imul($,G)|0,i=(i=i+Math.imul($,J)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,J)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,tt)|0,r=r+Math.imul(O,nt)|0,i=(i=i+Math.imul(O,rt)|0)+Math.imul(T,nt)|0,o=o+Math.imul(T,rt)|0,r=r+Math.imul(I,ot)|0,i=(i=i+Math.imul(I,st)|0)+Math.imul(S,ot)|0,o=o+Math.imul(S,st)|0,r=r+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,r=r+Math.imul(b,ft)|0,i=(i=i+Math.imul(b,lt)|0)+Math.imul(_,ft)|0,o=o+Math.imul(_,lt)|0;var St=(c+(r=r+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,gt)|0)+Math.imul(v,pt)|0))<<13)|0;c=((o=o+Math.imul(v,gt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(L,G),i=(i=Math.imul(L,J))+Math.imul(z,G)|0,o=Math.imul(z,J),r=r+Math.imul($,Q)|0,i=(i=i+Math.imul($,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,r=r+Math.imul(P,nt)|0,i=(i=i+Math.imul(P,rt)|0)+Math.imul(R,nt)|0,o=o+Math.imul(R,rt)|0,r=r+Math.imul(O,ot)|0,i=(i=i+Math.imul(O,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,r=r+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ct)|0)+Math.imul(S,ut)|0,o=o+Math.imul(S,ct)|0,r=r+Math.imul(A,ft)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(x,ft)|0,o=o+Math.imul(x,lt)|0;var Mt=(c+(r=r+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,gt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((o=o+Math.imul(_,gt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(L,Q),i=(i=Math.imul(L,tt))+Math.imul(z,Q)|0,o=Math.imul(z,tt),r=r+Math.imul($,nt)|0,i=(i=i+Math.imul($,rt)|0)+Math.imul(N,nt)|0,o=o+Math.imul(N,rt)|0,r=r+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,st)|0,r=r+Math.imul(O,ut)|0,i=(i=i+Math.imul(O,ct)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,ct)|0,r=r+Math.imul(I,ft)|0,i=(i=i+Math.imul(I,lt)|0)+Math.imul(S,ft)|0,o=o+Math.imul(S,lt)|0;var Ot=(c+(r=r+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,gt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((o=o+Math.imul(x,gt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(L,nt),i=(i=Math.imul(L,rt))+Math.imul(z,nt)|0,o=Math.imul(z,rt),r=r+Math.imul($,ot)|0,i=(i=i+Math.imul($,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,r=r+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ct)|0)+Math.imul(R,ut)|0,o=o+Math.imul(R,ct)|0,r=r+Math.imul(O,ft)|0,i=(i=i+Math.imul(O,lt)|0)+Math.imul(T,ft)|0,o=o+Math.imul(T,lt)|0;var Tt=(c+(r=r+Math.imul(I,pt)|0)|0)+((8191&(i=(i=i+Math.imul(I,gt)|0)+Math.imul(S,pt)|0))<<13)|0;c=((o=o+Math.imul(S,gt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(L,ot),i=(i=Math.imul(L,st))+Math.imul(z,ot)|0,o=Math.imul(z,st),r=r+Math.imul($,ut)|0,i=(i=i+Math.imul($,ct)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,ct)|0,r=r+Math.imul(P,ft)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(R,ft)|0,o=o+Math.imul(R,lt)|0;var Bt=(c+(r=r+Math.imul(O,pt)|0)|0)+((8191&(i=(i=i+Math.imul(O,gt)|0)+Math.imul(T,pt)|0))<<13)|0;c=((o=o+Math.imul(T,gt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,r=Math.imul(L,ut),i=(i=Math.imul(L,ct))+Math.imul(z,ut)|0,o=Math.imul(z,ct),r=r+Math.imul($,ft)|0,i=(i=i+Math.imul($,lt)|0)+Math.imul(N,ft)|0,o=o+Math.imul(N,lt)|0;var Pt=(c+(r=r+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,gt)|0)+Math.imul(R,pt)|0))<<13)|0;c=((o=o+Math.imul(R,gt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,r=Math.imul(L,ft),i=(i=Math.imul(L,lt))+Math.imul(z,ft)|0,o=Math.imul(z,lt);var Rt=(c+(r=r+Math.imul($,pt)|0)|0)+((8191&(i=(i=i+Math.imul($,gt)|0)+Math.imul(N,pt)|0))<<13)|0;c=((o=o+Math.imul(N,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863;var Ct=(c+(r=Math.imul(L,pt))|0)+((8191&(i=(i=Math.imul(L,gt))+Math.imul(z,pt)|0))<<13)|0;return c=((o=Math.imul(z,gt))+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,u[0]=mt,u[1]=yt,u[2]=vt,u[3]=wt,u[4]=bt,u[5]=_t,u[6]=Et,u[7]=At,u[8]=xt,u[9]=kt,u[10]=It,u[11]=St,u[12]=Mt,u[13]=Ot,u[14]=Tt,u[15]=Bt,u[16]=Pt,u[17]=Rt,u[18]=Ct,0!==c&&(u[19]=c,n.length++),n};function y(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var s=i;i=0;for(var a=67108863&r,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var h=o-c,f=(0|t.words[h])*(0|e.words[c]),l=67108863&f;a=67108863&(l=l+a|0),i+=(s=(s=s+(f/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}n.words[o]=a,r=s,s=i}return 0!==r?n.words[o]=r:n.length--,n._strip()}function v(t,e,n){return y(t,e,n)}function w(t,e){this.x=t,this.y=e}Math.imul||(m=g),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?m(this,t,e):n<63?g(this,t,e):n<1024?y(this,t,e):v(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},w.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},w.prototype.permute=function(t,e,n,r,i,o){for(var s=0;s<o;s++)r[s]=e[t[s]],i[s]=n[t[s]]},w.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var f=u,l=c,d=0;d<s;d++){var p=n[h+d],g=r[h+d],m=n[h+d+s],y=r[h+d+s],v=f*m-l*y;y=f*y+l*m,m=v,n[h+d]=p+m,r[h+d]=g+y,n[h+d+s]=p-m,r[h+d+s]=g-y,d!==a&&(v=u*f-c*l,l=u*l+c*f,f=v)}},w.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},w.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},w.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},w.prototype.convert13b=function(t,e,n,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)n[s]=0;r(0===o),r(!(-8192&o))},w.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},w.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),s=new Array(r),a=new Array(r),u=new Array(r),c=new Array(r),h=new Array(r),f=new Array(r),l=n.words;l.length=r,this.convert13b(t.words,t.length,s,r),this.convert13b(e.words,e.length,c,r),this.transform(s,o,a,u,r,i),this.transform(c,o,h,f,r,i);for(var d=0;d<r;d++){var p=a[d]*h[d]-u[d]*f[d];u[d]=a[d]*f[d]+u[d]*h[d],a[d]=p}return this.conjugate(a,u,r),this.transform(a,u,l,o,r,i),this.conjugate(l,o,r),this.normalize13b(l,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),v(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=s>>>26,this.words[i]=67108863&s}return 0!==n&&(this.words[i]=n,this.length++),this.length=0===t?1:this.length,e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=t.words[r]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<n;this.words[e]=u|s,s=a>>>26-n}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=n;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var h=0;for(c=this.length-1;c>=0&&(0!==h||c>=i);c--){var f=0|this.words[c];this.words[c]=h<<26-o|f>>>o,h=f&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n||!(this.words[n]&i))},o.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,s=t.length+n;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,s=0|i.words[i.length-1];0!=(n=26-this._countBits(s))&&(i=i.ushln(n),r.iushln(n),s=0|i.words[i.length-1]);var a,u=r.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var h=r.clone()._ishlnsubmul(i,1,u);0===h.negative&&(r=h,a&&(a.words[u]=1));for(var f=u-1;f>=0;f--){var l=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(l=Math.min(l/s|0,67108863),r._ishlnsubmul(i,l,f);0!==r.negative;)l--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);a&&(a.words[f]=l)}return a&&a._strip(),r._strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/t|0,n=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++c;for(var h=n.clone(),f=e.clone();!e.isZero();){for(var l=0,d=1;0===(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(h),s.isub(f)),i.iushrn(1),s.iushrn(1);for(var p=0,g=1;0===(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(f)),a.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(a),s.isub(u)):(n.isub(e),a.isub(i),u.isub(s))}return{a,b:u,gcd:n.iushln(c)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,h=1;0===(e.words[0]&h)&&c<26;++c,h<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var f=0,l=1;0===(n.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(n.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return!(1&this.words[0])},o.prototype.isOdd=function(){return!(1&~this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new I(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function x(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function S(t){I.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(E,_),E.prototype.split=function(t,e){for(var n=4194303,r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&n,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&n)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},E.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(A,_),i(x,_),i(k,_),k.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new E;else if("p224"===t)e=new A;else if("p192"===t)e=new x;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new k}return b[t]=e,e},I.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},I.prototype._verify2=function(t,e){r(0===(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},I.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},I.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},I.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},I.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},I.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},I.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},I.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},I.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},I.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},I.prototype.isqr=function(t){return this.imul(t,t.clone())},I.prototype.sqr=function(t){return this.mul(t,t)},I.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);r(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,c).cmp(u);)h.redIAdd(u);for(var f=this.pow(h,i),l=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var g=d,m=0;0!==g.cmp(a);m++)g=g.redSqr();r(m<p);var y=this.pow(f,new o(1).iushln(p-m-1));l=l.redMul(y),f=y.redSqr(),d=d.redMul(f),p=m}return l},I.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},I.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;r>=0;r--){for(var c=e.words[r],h=u-1;h>=0;h--){var f=c>>h&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==s?(s<<=1,s|=f,(4===++a||0===r&&0===h)&&(i=this.mul(i,n[s]),a=0,s=0)):a=0}u=26}return i},I.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},I.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new S(t)},i(S,I),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},S.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=n.nmd(t),this)},409:(t,e,n)=>{"use strict";function r(t,e){e.headers=t.headers||{},e.statusMessage=t.statusText,e.statusCode=t.status,e.data=t.response}function i(t,e,n){return new Promise(function(i,o){n=n||{};var s,a,u,c=new XMLHttpRequest,h=n.body,f=n.headers||{};for(s in n.timeout&&(c.timeout=n.timeout),c.ontimeout=c.onerror=function(t){t.timeout="timeout"==t.type,o(t)},c.open(t,e.href||e),c.onload=function(){for(u=c.getAllResponseHeaders().trim().split(/[\r\n]+/),r(c,c);a=u.shift();)a=a.split(": "),c.headers[a.shift().toLowerCase()]=a.join(": ");if((a=c.headers["content-type"])&&~a.indexOf("application/json"))try{c.data=JSON.parse(c.data,n.reviver)}catch(t){return r(c,t),o(t)}(c.status>=400?o:i)(c)},typeof FormData<"u"&&h instanceof FormData||h&&"object"==typeof h&&(f["content-type"]="application/json",h=JSON.stringify(h)),c.withCredentials=!!n.withCredentials,f)c.setRequestHeader(s,f[s]);c.send(h)})}n.r(e),n.d(e,{del:()=>u,get:()=>o,patch:()=>a,post:()=>s,put:()=>c,send:()=>i});var o=i.bind(i,"GET"),s=i.bind(i,"POST"),a=i.bind(i,"PATCH"),u=i.bind(i,"DELETE"),c=i.bind(i,"PUT")},438:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.ServerError=e.CloseCode=void 0,(n=e.CloseCode||(e.CloseCode={}))[n.CONSENTED=4e3]="CONSENTED",n[n.DEVMODE_RESTART=4010]="DEVMODE_RESTART";class r extends Error{constructor(t,e){super(e),this.name="ServerError",this.code=t}}e.ServerError=r},477:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.HTTP=void 0;const s=n(438),a=o(n(409));e.HTTP=class{constructor(t,e={}){this.client=t,this.headers=e}get(t,e={}){return this.request("get",t,e)}post(t,e={}){return this.request("post",t,e)}del(t,e={}){return this.request("del",t,e)}put(t,e={}){return this.request("put",t,e)}request(t,e,n={}){return a[t](this.client.getHttpEndpoint(e),this.getOptions(n)).catch(t=>{var e;const n=t.statusCode,r=(null===(e=t.data)||void 0===e?void 0:e.error)||t.statusMessage||t.message;if(!n&&!r)throw t;throw new s.ServerError(n,r)})}getOptions(t){return t.headers=Object.assign({},this.headers,t.headers),this.authToken&&(t.headers.Authorization=`Bearer ${this.authToken}`),"undefined"!=typeof cc&&cc.sys&&cc.sys.isNative||(t.withCredentials=!0),t}}},513:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSignal=e.EventEmitter=void 0;class n{constructor(){this.handlers=[]}register(t,e=!1){return this.handlers.push(t),this}invoke(...t){this.handlers.forEach(e=>e.apply(this,t))}invokeAsync(...t){return Promise.all(this.handlers.map(e=>e.apply(this,t)))}remove(t){const e=this.handlers.indexOf(t);this.handlers[e]=this.handlers[this.handlers.length-1],this.handlers.pop()}clear(){this.handlers=[]}}e.EventEmitter=n,e.createSignal=function(){const t=new n;function e(e){return t.register(e,null===this)}return e.once=e=>{const n=function(...r){e.apply(this,r),t.remove(n)};t.register(n)},e.remove=e=>t.remove(e),e.invoke=(...e)=>t.invoke(...e),e.invokeAsync=(...e)=>t.invokeAsync(...e),e.clear=()=>t.clear(),e}},526:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,o=a(t),s=o[0],u=o[1],c=new i(function(t,e,n){return 3*(e+n)/4-n}(0,s,u)),h=0,f=u>0?s-4:s;for(n=0;n<f;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],c[h++]=e>>16&255,c[h++]=e>>8&255,c[h++]=255&e;return 2===u&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,c[h++]=255&e),1===u&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,c[h++]=e>>8&255,c[h++]=255&e),c},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],s=16383,a=0,u=r-i;a<u;a+=s)o.push(c(t,a,a+s>u?u:a+s));return 1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}function c(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(u(r));return i.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},554:()=>{ArrayBuffer.isView||(ArrayBuffer.isView=t=>null!==t&&"object"==typeof t&&t.buffer instanceof ArrayBuffer),"undefined"==typeof globalThis&&"undefined"!=typeof window&&(window.globalThis=window)},591:t=>{"use strict";t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},601:(t,e,n)=>{"use strict";e.I0=e.DH=e.NX=e.u8=e.cY=void 0,e.av=e.O6=e.w3=e.Wg=void 0;const r=n(287);function i(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function o(t){return i(t),r.Buffer.from(t.buffer,t.byteOffset,t.length)}class s{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function a(t,e){return e.property?t+"["+e.property+"]":t}class u extends s{isCount(){throw new Error("ExternalLayout is abstract")}}class c extends u{constructor(t,e=0,n){if(!(t instanceof s))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof h||this.layout instanceof f}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}}class h extends s{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return o(t).readUIntLE(e,this.span)}encode(t,e,n=0){return o(e).writeUIntLE(t,n,this.span),this.span}}class f extends s{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return o(t).readUIntBE(e,this.span)}encode(t,e,n=0){return o(e).writeUIntBE(t,n,this.span),this.span}}const l=Math.pow(2,32);function d(t){const e=Math.floor(t/l);return{hi32:e,lo32:t-e*l}}function p(t,e){return t*l+e}class g extends s{constructor(t){super(8,t)}decode(t,e=0){const n=o(t),r=n.readUInt32LE(e);return p(n.readUInt32LE(e+4),r)}encode(t,e,n=0){const r=d(t),i=o(e);return i.writeUInt32LE(r.lo32,n),i.writeUInt32LE(r.hi32,n+4),8}}class m extends s{constructor(t){super(8,t)}decode(t,e=0){const n=o(t),r=n.readUInt32LE(e);return p(n.readInt32LE(e+4),r)}encode(t,e,n=0){const r=d(t),i=o(e);return i.writeUInt32LE(r.lo32,n),i.writeInt32LE(r.hi32,n+4),8}}class y extends s{constructor(t,e,n){if(!(t instanceof s))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof u&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(e instanceof u)&&0<t.span&&(r=e*t.span),super(r,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,r=this.count;if(r instanceof u&&(r=r.decode(t,e)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(t,e+n),++i}return n}decode(t,e=0){const n=[];let r=0,i=this.count;for(i instanceof u&&(i=i.decode(t,e));r<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),r+=1;return n}encode(t,e,n=0){const r=this.elementLayout,i=t.reduce((t,i)=>t+r.encode(i,e,n+t),0);return this.count instanceof u&&this.count.encode(t.length,e,n),i}}class v extends s{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce((t,e)=>t&&e instanceof s,!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce((t,e)=>t+e.getSpan(),0)}catch(t){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((n,r)=>{const i=r.getSpan(t,e);return e+=i,n+i},0)}catch(t){throw new RangeError("indeterminate span")}return n}decode(t,e=0){i(t);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n=0){const r=n;let i=0,o=0;for(const r of this.fields){let s=r.span;if(o=0<s?s:0,void 0!==r.property){const i=t[r.property];void 0!==i&&(o=r.encode(i,e,n),0>s&&(s=r.getSpan(e,n)))}i=n,n+=s}return i+o-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class w extends s{constructor(t,e){if(!(t instanceof u&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof u||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),o(t).slice(e,e+n)}encode(t,e,n){let r=this.length;if(this.length instanceof u&&(r=t.length),!(t instanceof Uint8Array&&r===t.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+r+") Uint8Array as src");if(n+r>e.length)throw new RangeError("encoding overruns Uint8Array");const i=o(t);return o(e).write(i.toString("hex"),n,r,"hex"),this.length instanceof u&&this.length.encode(r,e,n),r}}e.cY=(t,e,n)=>new c(t,e,n),e.u8=t=>new h(1,t),e.NX=t=>new h(2,t),e.DH=t=>new h(4,t),e.I0=t=>new g(t),e.Wg=t=>new m(t),e.w3=(t,e,n)=>new v(t,e,n),e.O6=(t,e,n)=>new y(t,e,n),e.av=(t,e)=>new w(t,e)},606:t=>{var e,n,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var a,u=[],c=!1,h=-1;function f(){c&&a&&(c=!1,a.length?u=a.concat(u):h=-1,u.length&&l())}function l(){if(!c){var t=s(f);c=!0;for(var e=u.length;e;){for(a=u,u=[];++h<e;)a&&a[h].run();h=-1,e=u.length}a=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||c||s(l)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},611:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.WebSocketTransport=void 0;const i=r(n(591)),o=globalThis.WebSocket||i.default;e.WebSocketTransport=class{constructor(t){this.events=t}send(t){t instanceof ArrayBuffer?this.ws.send(t):Array.isArray(t)&&this.ws.send(new Uint8Array(t).buffer)}connect(t,e){try{this.ws=new o(t,{headers:e,protocols:this.protocols})}catch(e){this.ws=new o(t,this.protocols)}this.ws.binaryType="arraybuffer",this.ws.onopen=this.events.onopen,this.ws.onmessage=this.events.onmessage,this.ws.onclose=this.events.onclose,this.ws.onerror=this.events.onerror}close(t,e){this.ws.close(t,e)}get isOpen(){return this.ws.readyState===o.OPEN}}},650:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Room=void 0;const s=o(n(654)),a=n(33),u=n(837),c=n(204),h=n(850),f=n(513),l=n(118),d=n(438);class p{constructor(t,e){this.onStateChange=(0,f.createSignal)(),this.onError=(0,f.createSignal)(),this.onLeave=(0,f.createSignal)(),this.onJoin=(0,f.createSignal)(),this.hasJoined=!1,this.onMessageHandlers=(0,h.createNanoEvents)(),this.roomId=null,this.name=t,e&&(this.serializer=new((0,c.getSerializer)("schema")),this.rootSchema=e,this.serializer.state=new e),this.onError((t,e)=>{var n;return null===(n=console.warn)||void 0===n?void 0:n.call(console,`colyseus.js - onError => (${t}) ${e}`)}),this.onLeave(()=>this.removeAllListeners())}get id(){return this.roomId}connect(t,e,n=this,r){const i=new a.Connection;n.connection=i,i.events.onmessage=p.prototype.onMessageCallback.bind(n),i.events.onclose=function(t){var r;if(!n.hasJoined)return null===(r=console.warn)||void 0===r||r.call(console,`Room connection was closed unexpectedly (${t.code}): ${t.reason}`),void n.onError.invoke(t.code,t.reason);t.code===d.CloseCode.DEVMODE_RESTART&&e?e():(n.onLeave.invoke(t.code,t.reason),n.destroy())},i.events.onerror=function(t){var e;null===(e=console.warn)||void 0===e||e.call(console,`Room, onError (${t.code}): ${t.reason}`),n.onError.invoke(t.code,t.reason)},i.connect(t,r)}leave(t=!0){return new Promise(e=>{this.onLeave(t=>e(t)),this.connection?t?this.connection.send([u.Protocol.LEAVE_ROOM]):this.connection.close():this.onLeave.invoke(d.CloseCode.CONSENTED)})}onMessage(t,e){return this.onMessageHandlers.on(this.getMessageHandlerKey(t),e)}send(t,e){const n=[u.Protocol.ROOM_DATA];let r;if("string"==typeof t?l.encode.string(n,t):l.encode.number(n,t),void 0!==e){const t=s.encode(e);r=new Uint8Array(n.length+t.byteLength),r.set(new Uint8Array(n),0),r.set(new Uint8Array(t),n.length)}else r=new Uint8Array(n);this.connection.send(r.buffer)}sendBytes(t,e){const n=[u.Protocol.ROOM_DATA_BYTES];let r;"string"==typeof t?l.encode.string(n,t):l.encode.number(n,t),r=new Uint8Array(n.length+(e.byteLength||e.length)),r.set(new Uint8Array(n),0),r.set(new Uint8Array(e),n.length),this.connection.send(r.buffer)}get state(){return this.serializer.getState()}removeAllListeners(){this.onJoin.clear(),this.onStateChange.clear(),this.onError.clear(),this.onLeave.clear(),this.onMessageHandlers.events={}}onMessageCallback(t){const e=Array.from(new Uint8Array(t.data)),n=e[0];if(n===u.Protocol.JOIN_ROOM){let t=1;const n=(0,u.utf8Read)(e,t);if(t+=(0,u.utf8Length)(n),this.serializerId=(0,u.utf8Read)(e,t),t+=(0,u.utf8Length)(this.serializerId),!this.serializer){const t=(0,c.getSerializer)(this.serializerId);this.serializer=new t}e.length>t&&this.serializer.handshake&&this.serializer.handshake(e,{offset:t}),this.reconnectionToken=`${this.roomId}:${n}`,this.hasJoined=!0,this.onJoin.invoke(),this.connection.send([u.Protocol.JOIN_ROOM])}else if(n===u.Protocol.ERROR){const t={offset:1},n=l.decode.number(e,t),r=l.decode.string(e,t);this.onError.invoke(n,r)}else if(n===u.Protocol.LEAVE_ROOM)this.leave();else if(n===u.Protocol.ROOM_DATA_SCHEMA){const t={offset:1},n=this.serializer.getState().constructor._context.get(l.decode.number(e,t)),r=new n;r.decode(e,t),this.dispatchMessage(n,r)}else if(n===u.Protocol.ROOM_STATE)e.shift(),this.setState(e);else if(n===u.Protocol.ROOM_STATE_PATCH)e.shift(),this.patch(e);else if(n===u.Protocol.ROOM_DATA){const n={offset:1},r=l.decode.stringCheck(e,n)?l.decode.string(e,n):l.decode.number(e,n),i=e.length>n.offset?s.decode(t.data,n.offset):void 0;this.dispatchMessage(r,i)}else if(n===u.Protocol.ROOM_DATA_BYTES){const t={offset:1},n=l.decode.stringCheck(e,t)?l.decode.string(e,t):l.decode.number(e,t);this.dispatchMessage(n,new Uint8Array(e.slice(t.offset)))}}setState(t){this.serializer.setState(t),this.onStateChange.invoke(this.serializer.getState())}patch(t){this.serializer.patch(t),this.onStateChange.invoke(this.serializer.getState())}dispatchMessage(t,e){var n;const r=this.getMessageHandlerKey(t);this.onMessageHandlers.events[r]?this.onMessageHandlers.emit(r,e):this.onMessageHandlers.events["*"]?this.onMessageHandlers.emit("*",t,e):null===(n=console.warn)||void 0===n||n.call(console,`colyseus.js: onMessage() not registered for type '${t}'.`)}destroy(){this.serializer&&this.serializer.teardown()}getMessageHandlerKey(t){switch(typeof t){case"function":return`$${t._typeid}`;case"string":return t;case"number":return`i${t}`;default:throw new Error("invalid message type.")}}}e.Room=p},654:(t,e)=>{"use strict";function n(t,e){if(this._offset=e,t instanceof ArrayBuffer)this._buffer=t,this._view=new DataView(this._buffer);else{if(!ArrayBuffer.isView(t))throw new Error("Invalid argument");this._buffer=t.buffer,this._view=new DataView(this._buffer,t.byteOffset,t.byteLength)}}function r(t,e,n){for(var r=0,i=0,o=n.length;i<o;i++)(r=n.charCodeAt(i))<128?t.setUint8(e++,r):r<2048?(t.setUint8(e++,192|r>>6),t.setUint8(e++,128|63&r)):r<55296||r>=57344?(t.setUint8(e++,224|r>>12),t.setUint8(e++,128|r>>6&63),t.setUint8(e++,128|63&r)):(i++,r=65536+((1023&r)<<10|1023&n.charCodeAt(i)),t.setUint8(e++,240|r>>18),t.setUint8(e++,128|r>>12&63),t.setUint8(e++,128|r>>6&63),t.setUint8(e++,128|63&r))}function i(t,e,n){var r=typeof n,o=0,s=0,a=0,u=0,c=0,h=0;if("string"===r){if(c=function(t){for(var e=0,n=0,r=0,i=t.length;r<i;r++)(e=t.charCodeAt(r))<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}(n),c<32)t.push(160|c),h=1;else if(c<256)t.push(217,c),h=2;else if(c<65536)t.push(218,c>>8,c),h=3;else{if(!(c<4294967296))throw new Error("String too long");t.push(219,c>>24,c>>16,c>>8,c),h=5}return e.push({_str:n,_length:c,_offset:t.length}),h+c}if("number"===r)return Math.floor(n)===n&&isFinite(n)?n>=0?n<128?(t.push(n),1):n<256?(t.push(204,n),2):n<65536?(t.push(205,n>>8,n),3):n<4294967296?(t.push(206,n>>24,n>>16,n>>8,n),5):(a=n/Math.pow(2,32)|0,u=n>>>0,t.push(207,a>>24,a>>16,a>>8,a,u>>24,u>>16,u>>8,u),9):n>=-32?(t.push(n),1):n>=-128?(t.push(208,n),2):n>=-32768?(t.push(209,n>>8,n),3):n>=-2147483648?(t.push(210,n>>24,n>>16,n>>8,n),5):(a=Math.floor(n/Math.pow(2,32)),u=n>>>0,t.push(211,a>>24,a>>16,a>>8,a,u>>24,u>>16,u>>8,u),9):(t.push(203),e.push({_float:n,_length:8,_offset:t.length}),9);if("object"===r){if(null===n)return t.push(192),1;if(Array.isArray(n)){if((c=n.length)<16)t.push(144|c),h=1;else if(c<65536)t.push(220,c>>8,c),h=3;else{if(!(c<4294967296))throw new Error("Array too large");t.push(221,c>>24,c>>16,c>>8,c),h=5}for(o=0;o<c;o++)h+=i(t,e,n[o]);return h}if(n instanceof Date){var f=n.getTime(),l=Math.floor(f/1e3),d=1e6*(f-1e3*l);return l>=0&&d>=0&&l<=17179869183?0===d&&l<=4294967295?(t.push(214,255,l>>24,l>>16,l>>8,l),6):(a=l/4294967296,u=4294967295&l,t.push(215,255,d>>22,d>>14,d>>6,a,u>>24,u>>16,u>>8,u),10):(a=Math.floor(l/4294967296),u=l>>>0,t.push(199,12,255,d>>24,d>>16,d>>8,d,a>>24,a>>16,a>>8,a,u>>24,u>>16,u>>8,u),15)}if(n instanceof ArrayBuffer){if((c=n.byteLength)<256)t.push(196,c),h=2;else if(c<65536)t.push(197,c>>8,c),h=3;else{if(!(c<4294967296))throw new Error("Buffer too large");t.push(198,c>>24,c>>16,c>>8,c),h=5}return e.push({_bin:n,_length:c,_offset:t.length}),h+c}if("function"==typeof n.toJSON)return i(t,e,n.toJSON());var p=[],g="",m=Object.keys(n);for(o=0,s=m.length;o<s;o++)void 0!==n[g=m[o]]&&"function"!=typeof n[g]&&p.push(g);if((c=p.length)<16)t.push(128|c),h=1;else if(c<65536)t.push(222,c>>8,c),h=3;else{if(!(c<4294967296))throw new Error("Object too large");t.push(223,c>>24,c>>16,c>>8,c),h=5}for(o=0;o<c;o++)h+=i(t,e,g=p[o]),h+=i(t,e,n[g]);return h}if("boolean"===r)return t.push(n?195:194),1;if("undefined"===r)return t.push(192),1;if("function"==typeof n.toJSON)return i(t,e,n.toJSON());throw new Error("Could not encode")}Object.defineProperty(e,"__esModule",{value:!0}),e.decode=e.encode=void 0,n.prototype._array=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=this._parse();return e},n.prototype._map=function(t){for(var e={},n=0;n<t;n++)e[this._parse()]=this._parse();return e},n.prototype._str=function(t){var e=function(t,e,n){for(var r="",i=0,o=e,s=e+n;o<s;o++){var a=t.getUint8(o);if(128&a)if(192!=(224&a))if(224!=(240&a)){if(240!=(248&a))throw new Error("Invalid byte "+a.toString(16));(i=(7&a)<<18|(63&t.getUint8(++o))<<12|(63&t.getUint8(++o))<<6|63&t.getUint8(++o))>=65536?(i-=65536,r+=String.fromCharCode((i>>>10)+55296,56320+(1023&i))):r+=String.fromCharCode(i)}else r+=String.fromCharCode((15&a)<<12|(63&t.getUint8(++o))<<6|63&t.getUint8(++o));else r+=String.fromCharCode((31&a)<<6|63&t.getUint8(++o));else r+=String.fromCharCode(a)}return r}(this._view,this._offset,t);return this._offset+=t,e},n.prototype._bin=function(t){var e=this._buffer.slice(this._offset,this._offset+t);return this._offset+=t,e},n.prototype._parse=function(){var t,e=this._view.getUint8(this._offset++),n=0,r=0,i=0,o=0;if(e<192)return e<128?e:e<144?this._map(15&e):e<160?this._array(15&e):this._str(31&e);if(e>223)return-1*(255-e+1);switch(e){case 192:return null;case 194:return!1;case 195:return!0;case 196:return n=this._view.getUint8(this._offset),this._offset+=1,this._bin(n);case 197:return n=this._view.getUint16(this._offset),this._offset+=2,this._bin(n);case 198:return n=this._view.getUint32(this._offset),this._offset+=4,this._bin(n);case 199:if(n=this._view.getUint8(this._offset),r=this._view.getInt8(this._offset+1),this._offset+=2,-1===r){var s=this._view.getUint32(this._offset);return i=this._view.getInt32(this._offset+4),o=this._view.getUint32(this._offset+8),this._offset+=12,new Date(1e3*(4294967296*i+o)+s/1e6)}return[r,this._bin(n)];case 200:return n=this._view.getUint16(this._offset),r=this._view.getInt8(this._offset+2),this._offset+=3,[r,this._bin(n)];case 201:return n=this._view.getUint32(this._offset),r=this._view.getInt8(this._offset+4),this._offset+=5,[r,this._bin(n)];case 202:return t=this._view.getFloat32(this._offset),this._offset+=4,t;case 203:return t=this._view.getFloat64(this._offset),this._offset+=8,t;case 204:return t=this._view.getUint8(this._offset),this._offset+=1,t;case 205:return t=this._view.getUint16(this._offset),this._offset+=2,t;case 206:return t=this._view.getUint32(this._offset),this._offset+=4,t;case 207:return i=this._view.getUint32(this._offset)*Math.pow(2,32),o=this._view.getUint32(this._offset+4),this._offset+=8,i+o;case 208:return t=this._view.getInt8(this._offset),this._offset+=1,t;case 209:return t=this._view.getInt16(this._offset),this._offset+=2,t;case 210:return t=this._view.getInt32(this._offset),this._offset+=4,t;case 211:return i=this._view.getInt32(this._offset)*Math.pow(2,32),o=this._view.getUint32(this._offset+4),this._offset+=8,i+o;case 212:return r=this._view.getInt8(this._offset),this._offset+=1,0===r?void(this._offset+=1):[r,this._bin(1)];case 213:return r=this._view.getInt8(this._offset),this._offset+=1,[r,this._bin(2)];case 214:return r=this._view.getInt8(this._offset),this._offset+=1,-1===r?(t=this._view.getUint32(this._offset),this._offset+=4,new Date(1e3*t)):[r,this._bin(4)];case 215:return r=this._view.getInt8(this._offset),this._offset+=1,0===r?(i=this._view.getInt32(this._offset)*Math.pow(2,32),o=this._view.getUint32(this._offset+4),this._offset+=8,new Date(i+o)):-1===r?(i=this._view.getUint32(this._offset),o=this._view.getUint32(this._offset+4),this._offset+=8,new Date(1e3*(4294967296*(3&i)+o)+(i>>>2)/1e6)):[r,this._bin(8)];case 216:return r=this._view.getInt8(this._offset),this._offset+=1,[r,this._bin(16)];case 217:return n=this._view.getUint8(this._offset),this._offset+=1,this._str(n);case 218:return n=this._view.getUint16(this._offset),this._offset+=2,this._str(n);case 219:return n=this._view.getUint32(this._offset),this._offset+=4,this._str(n);case 220:return n=this._view.getUint16(this._offset),this._offset+=2,this._array(n);case 221:return n=this._view.getUint32(this._offset),this._offset+=4,this._array(n);case 222:return n=this._view.getUint16(this._offset),this._offset+=2,this._map(n);case 223:return n=this._view.getUint32(this._offset),this._offset+=4,this._map(n)}throw new Error("Could not parse")},e.decode=function(t,e=0){var r=new n(t,e),i=r._parse();if(r._offset!==t.byteLength)throw new Error(t.byteLength-r._offset+" trailing bytes");return i},e.encode=function(t){var e=[],n=[],o=i(e,n,t),s=new ArrayBuffer(o),a=new DataView(s),u=0,c=0,h=-1;n.length>0&&(h=n[0]._offset);for(var f,l=0,d=0,p=0,g=e.length;p<g;p++)if(a.setUint8(c+p,e[p]),p+1===h){if(l=(f=n[u])._length,d=c+h,f._bin)for(var m=new Uint8Array(f._bin),y=0;y<l;y++)a.setUint8(d+y,m[y]);else f._str?r(a,d,f._str):void 0!==f._float&&a.setFloat64(d,f._float);c+=l,n[++u]&&(h=n[u]._offset)}return s}},724:(t,e)=>{"use strict";let n;function r(){if(!n)try{n="undefined"!=typeof cc&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:window.localStorage}catch(t){}return n||(n={cache:{},setItem:function(t,e){this.cache[t]=e},getItem:function(t){this.cache[t]},removeItem:function(t){delete this.cache[t]}}),n}Object.defineProperty(e,"__esModule",{value:!0}),e.getItem=e.removeItem=e.setItem=void 0,e.setItem=function(t,e){r().setItem(t,e)},e.removeItem=function(t){r().removeItem(t)},e.getItem=function(t,e){const n=r().getItem(t);"undefined"!=typeof Promise&&n instanceof Promise?n.then(t=>e(t)):e(n)}},755:function(t,e,n){"use strict";var r=n(287).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeUnchecked=e.deserialize=e.serialize=e.BinaryReader=e.BinaryWriter=e.BorshError=e.baseDecode=e.baseEncode=void 0;const c=u(n(404)),h=u(n(763)),f=a(n(281)),l=new("function"!=typeof TextDecoder?f.TextDecoder:TextDecoder)("utf-8",{fatal:!0});e.baseEncode=function(t){return"string"==typeof t&&(t=r.from(t,"utf8")),h.default.encode(r.from(t))},e.baseDecode=function(t){return r.from(h.default.decode(t))};const d=1024;class p extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}e.BorshError=p;class g{constructor(){this.buf=r.alloc(d),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=r.concat([this.buf,r.alloc(d)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(r.from(new c.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(r.from(new c.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(r.from(new c.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(r.from(new c.default(t).toArray("le",64)))}writeBuffer(t){this.buf=r.concat([r.from(this.buf.subarray(0,this.length)),t,r.alloc(d)]),this.length+=t.length}writeString(t){this.maybeResize();const e=r.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(r.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}}function m(t,e,n){const r=n.value;n.value=function(...t){try{return r.apply(this,t)}catch(t){if(t instanceof RangeError){const e=t.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new p("Reached the end of buffer when deserializing")}throw t}}}e.BinaryWriter=g;class y{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new c.default(t,"le")}readU128(){const t=this.readBuffer(16);return new c.default(t,"le")}readU256(){const t=this.readBuffer(32);return new c.default(t,"le")}readU512(){const t=this.readBuffer(64);return new c.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new p(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return l.decode(e)}catch(t){throw new p(`Error decoding UTF-8 string: ${t}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),n=Array();for(let r=0;r<e;++r)n.push(t());return n}}function v(t){return t.charAt(0).toUpperCase()+t.slice(1)}function w(t,e,n,r,i){try{if("string"==typeof r)i[`write${v(r)}`](n);else if(r instanceof Array)if("number"==typeof r[0]){if(n.length!==r[0])throw new p(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(2===r.length&&"number"==typeof r[1]){if(n.length!==r[1])throw new p(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let e=0;e<r[1];e++)w(t,null,n[e],r[0],i)}else i.writeArray(n,n=>{w(t,e,n,r[0],i)});else if(void 0!==r.kind)switch(r.kind){case"option":null==n?i.writeU8(0):(i.writeU8(1),w(t,e,n,r.type,i));break;case"map":i.writeU32(n.size),n.forEach((n,o)=>{w(t,e,o,r.key,i),w(t,e,n,r.value,i)});break;default:throw new p(`FieldType ${r} unrecognized`)}else b(t,n,i)}catch(t){throw t instanceof p&&t.addToFieldPath(e),t}}function b(t,e,n){if("function"==typeof e.borshSerialize)return void e.borshSerialize(n);const r=t.get(e.constructor);if(!r)throw new p(`Class ${e.constructor.name} is missing in schema`);if("struct"===r.kind)r.fields.map(([r,i])=>{w(t,r,e[r],i,n)});else{if("enum"!==r.kind)throw new p(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`);{const i=e[r.field];for(let o=0;o<r.values.length;++o){const[s,a]=r.values[o];if(s===i){n.writeU8(o),w(t,s,e[s],a,n);break}}}}}function _(t,e,n,r){try{if("string"==typeof n)return r[`read${v(n)}`]();if(n instanceof Array){if("number"==typeof n[0])return r.readFixedArray(n[0]);if("number"==typeof n[1]){const e=[];for(let i=0;i<n[1];i++)e.push(_(t,null,n[0],r));return e}return r.readArray(()=>_(t,e,n[0],r))}if("option"===n.kind)return r.readU8()?_(t,e,n.type,r):void 0;if("map"===n.kind){let i=new Map;const o=r.readU32();for(let s=0;s<o;s++){const o=_(t,e,n.key,r),s=_(t,e,n.value,r);i.set(o,s)}return i}return E(t,n,r)}catch(t){throw t instanceof p&&t.addToFieldPath(e),t}}function E(t,e,n){if("function"==typeof e.borshDeserialize)return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new p(`Class ${e.name} is missing in schema`);if("struct"===r.kind){const r={};for(const[i,o]of t.get(e).fields)r[i]=_(t,i,o,n);return new e(r)}if("enum"===r.kind){const i=n.readU8();if(i>=r.values.length)throw new p(`Enum index: ${i} is out of range`);const[o,s]=r.values[i],a=_(t,o,s,n);return new e({[o]:a})}throw new p(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}s([m],y.prototype,"readU8",null),s([m],y.prototype,"readU16",null),s([m],y.prototype,"readU32",null),s([m],y.prototype,"readU64",null),s([m],y.prototype,"readU128",null),s([m],y.prototype,"readU256",null),s([m],y.prototype,"readU512",null),s([m],y.prototype,"readString",null),s([m],y.prototype,"readFixedArray",null),s([m],y.prototype,"readArray",null),e.BinaryReader=y,e.serialize=function(t,e,n=g){const r=new n;return b(t,e,r),r.toArray()},e.deserialize=function(t,e,n,r=y){const i=new r(n),o=E(t,e,i);if(i.offset<n.length)throw new p(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return o},e.deserializeUnchecked=function(t,e,n,r=y){return E(t,e,new r(n))}},763:(t,e,n)=>{var r=n(364);t.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},790:()=>{},831:function(t,e,n){"use strict";var r,i,o,s,a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})},u=this&&this.__classPrivateFieldGet||function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)},c=this&&this.__classPrivateFieldSet||function(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n};Object.defineProperty(e,"__esModule",{value:!0}),e.Auth=void 0;const h=n(724),f=n(850);e.Auth=class{constructor(t){this.http=t,this.settings={path:"/auth",key:"colyseus-auth-token"},r.set(this,!1),i.set(this,void 0),o.set(this,void 0),s.set(this,(0,f.createNanoEvents)()),(0,h.getItem)(this.settings.key,t=>this.token=t)}set token(t){this.http.authToken=t}get token(){return this.http.authToken}onChange(t){const e=u(this,s,"f").on("change",t);return u(this,r,"f")||c(this,i,new Promise((t,e)=>{this.getUserData().then(t=>{this.emitChange(Object.assign(Object.assign({},t),{token:this.token}))}).catch(t=>{this.emitChange({user:null,token:void 0})}).finally(()=>{t()})}),"f"),c(this,r,!0,"f"),e}getUserData(){return a(this,void 0,void 0,function*(){if(this.token)return(yield this.http.get(`${this.settings.path}/userdata`)).data;throw new Error("missing auth.token")})}registerWithEmailAndPassword(t,e,n){return a(this,void 0,void 0,function*(){const r=(yield this.http.post(`${this.settings.path}/register`,{body:{email:t,password:e,options:n}})).data;return this.emitChange(r),r})}signInWithEmailAndPassword(t,e){return a(this,void 0,void 0,function*(){const n=(yield this.http.post(`${this.settings.path}/login`,{body:{email:t,password:e}})).data;return this.emitChange(n),n})}signInAnonymously(t){return a(this,void 0,void 0,function*(){const e=(yield this.http.post(`${this.settings.path}/anonymous`,{body:{options:t}})).data;return this.emitChange(e),e})}sendPasswordResetEmail(t){return a(this,void 0,void 0,function*(){return(yield this.http.post(`${this.settings.path}/forgot-password`,{body:{email:t}})).data})}signInWithProvider(t,e={}){return a(this,void 0,void 0,function*(){return new Promise((n,r)=>{const i=e.width||480,s=e.height||768,a=this.token?`?token=${this.token}`:"",h=`Login with ${t[0].toUpperCase()+t.substring(1)}`,f=this.http.client.getHttpEndpoint(`${e.prefix||`${this.settings.path}/provider`}/${t}${a}`),l=screen.width/2-i/2,d=screen.height/2-s/2;c(this,o,window.open(f,h,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+i+", height="+s+", top="+d+", left="+l),"f");const p=t=>{void 0===t.data.user&&void 0===t.data.token||(clearInterval(g),u(this,o,"f").close(),c(this,o,void 0,"f"),window.removeEventListener("message",p),void 0!==t.data.error?r(t.data.error):(n(t.data),this.emitChange(t.data)))},g=setInterval(()=>{u(this,o,"f")&&!u(this,o,"f").closed||(c(this,o,void 0,"f"),r("cancelled"),window.removeEventListener("message",p))},200);window.addEventListener("message",p)})})}signOut(){return a(this,void 0,void 0,function*(){this.emitChange({user:null,token:null})})}emitChange(t){void 0!==t.token&&(this.token=t.token,null===t.token?(0,h.removeItem)(this.settings.key):(0,h.setItem)(this.settings.key,t.token)),u(this,s,"f").emit("change",t)}},r=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap},837:(t,e)=>{"use strict";var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.utf8Length=e.utf8Read=e.ErrorCode=e.Protocol=void 0,(r=e.Protocol||(e.Protocol={}))[r.HANDSHAKE=9]="HANDSHAKE",r[r.JOIN_ROOM=10]="JOIN_ROOM",r[r.ERROR=11]="ERROR",r[r.LEAVE_ROOM=12]="LEAVE_ROOM",r[r.ROOM_DATA=13]="ROOM_DATA",r[r.ROOM_STATE=14]="ROOM_STATE",r[r.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH",r[r.ROOM_DATA_SCHEMA=16]="ROOM_DATA_SCHEMA",r[r.ROOM_DATA_BYTES=17]="ROOM_DATA_BYTES",(n=e.ErrorCode||(e.ErrorCode={}))[n.MATCHMAKE_NO_HANDLER=4210]="MATCHMAKE_NO_HANDLER",n[n.MATCHMAKE_INVALID_CRITERIA=4211]="MATCHMAKE_INVALID_CRITERIA",n[n.MATCHMAKE_INVALID_ROOM_ID=4212]="MATCHMAKE_INVALID_ROOM_ID",n[n.MATCHMAKE_UNHANDLED=4213]="MATCHMAKE_UNHANDLED",n[n.MATCHMAKE_EXPIRED=4214]="MATCHMAKE_EXPIRED",n[n.AUTH_FAILED=4215]="AUTH_FAILED",n[n.APPLICATION_ERROR=4216]="APPLICATION_ERROR",e.utf8Read=function(t,e){const n=t[e++];for(var r="",i=0,o=e,s=e+n;o<s;o++){var a=t[o];if(128&a)if(192!=(224&a))if(224!=(240&a)){if(240!=(248&a))throw new Error("Invalid byte "+a.toString(16));(i=(7&a)<<18|(63&t[++o])<<12|(63&t[++o])<<6|63&t[++o])>=65536?(i-=65536,r+=String.fromCharCode((i>>>10)+55296,56320+(1023&i))):r+=String.fromCharCode(i)}else r+=String.fromCharCode((15&a)<<12|(63&t[++o])<<6|63&t[++o]);else r+=String.fromCharCode((31&a)<<6|63&t[++o]);else r+=String.fromCharCode(a)}return r},e.utf8Length=function(t=""){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n+1}},850:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createNanoEvents=void 0,e.createNanoEvents=()=>({emit(t,...e){let n=this.events[t]||[];for(let t=0,r=n.length;t<r;t++)n[t](...e)},events:{},on(t,e){var n;return(null===(n=this.events[t])||void 0===n?void 0:n.push(e))||(this.events[t]=[e]),()=>{var n;this.events[t]=null===(n=this.events[t])||void 0===n?void 0:n.filter(t=>e!==t)}}})},861:(t,e,n)=>{var r=n(287),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},998:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.discordURLBuilder=void 0,e.discordURLBuilder=function(t){var e;const n=(null===(e=null===window||void 0===window?void 0:window.location)||void 0===e?void 0:e.hostname)||"localhost",r=t.hostname.split("."),i=!t.hostname.includes("trycloudflare.com")&&!t.hostname.includes("discordsays.com")&&r.length>2?`/${r[0]}`:"";return t.pathname.startsWith("/.proxy")?`${t.protocol}//${n}${i}${t.pathname}${t.search}`:`${t.protocol}//${n}/.proxy/colyseus${i}${t.pathname}${t.search}`}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t;!function(t){t.Mainnet="mainnet-beta",t.Testnet="testnet",t.Devnet="devnet"}(t||(t={}));const e=n(228);class r extends Error{constructor(t,e){super(t),this.error=e}}class i extends r{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class o extends r{constructor(){super(...arguments),this.name="WalletConnectionError"}}class s extends r{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class a extends r{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class u extends r{constructor(){super(...arguments),this.name="WalletAccountError"}}class c extends r{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class h extends r{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class f extends r{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class l extends r{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class d extends r{constructor(){super(...arguments),this.name="WalletSignMessageError"}}var p;!function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"}(p||(p={}));class g extends e{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,e,n={}){const r=this.publicKey;if(!r)throw new h;return t.feePayer=t.feePayer||r,t.recentBlockhash=t.recentBlockhash||(await e.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,t}}function m(t){return"version"in t}class y extends g{async sendTransaction(t,e,n={}){let r=!0;try{if(m(t)){if(!this.supportedTransactionVersions)throw new f("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new f(`Sending transaction version ${t.version} isn't supported by this wallet`);try{const r=(t=await this.signTransaction(t)).serialize();return await e.sendRawTransaction(r,n)}catch(t){if(t instanceof l)throw r=!1,t;throw new f(t?.message,t)}}else try{const{signers:r,...i}=n;t=await this.prepareTransaction(t,e,i),r?.length&&t.partialSign(...r);const o=(t=await this.signTransaction(t)).serialize();return await e.sendRawTransaction(o,i)}catch(t){if(t instanceof l)throw r=!1,t;throw new f(t?.message,t)}}catch(t){throw r&&this.emit("error",t),t}}async signAllTransactions(t){for(const e of t)if(m(e)){if(!this.supportedTransactionVersions)throw new l("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new l(`Signing transaction version ${e.version} isn't supported by this wallet`)}const e=[];for(const n of t)e.push(await this.signTransaction(n));return e}}class v extends y{}var w=n(287);const b="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function _(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}function E(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function A(t,...e){if(!_(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function x(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.createHasher");E(t.outputLen),E(t.blockLen)}function k(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function I(t,e){A(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function S(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function M(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function O(t,e){return t<<32-e|t>>>e}function T(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const B=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])()?t=>t:function(t){for(let e=0;e<t.length;e++)t[e]=T(t[e]);return t},P=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),R=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function C(t){if(A(t),P)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=R[t[n]];return e}function $(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:void 0}function N(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);if(P)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let e=0,i=0;e<n;e++,i+=2){const n=$(t.charCodeAt(i)),o=$(t.charCodeAt(i+1));if(void 0===n||void 0===o){const e=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+e+'" at index '+i)}r[e]=16*n+o}return r}function D(t){if("string"!=typeof t)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(t))}function L(t){return"string"==typeof t&&(t=D(t)),A(t),t}function z(...t){let e=0;for(let n=0;n<t.length;n++){const r=t[n];A(r),e+=r.length}const n=new Uint8Array(e);for(let e=0,r=0;e<t.length;e++){const i=t[e];n.set(i,r),r+=i.length}return n}class U{}function j(t){const e=e=>t().update(L(e)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function F(t=32){if(b&&"function"==typeof b.getRandomValues)return b.getRandomValues(new Uint8Array(t));if(b&&"function"==typeof b.randomBytes)return Uint8Array.from(b.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function W(t,e,n){return t&e^~t&n}function H(t,e,n){return t&e^t&n^e&n}class K extends U{constructor(t,e,n,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.buffer=new Uint8Array(t),this.view=M(this.buffer)}update(t){k(this),A(t=L(t));const{view:e,buffer:n,blockLen:r}=this,i=t.length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s===r){const e=M(t);for(;r<=i-o;o+=r)this.process(e,o);continue}n.set(t.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){k(this),I(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;e[o++]=128,S(this.buffer.subarray(o)),this.padOffset>r-o&&(this.process(n,0),o=0);for(let t=o;t<r;t++)e[t]=0;!function(t,e,n,r){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),u=r?4:0,c=r?0:4;t.setUint32(e+u,s,r),t.setUint32(e+c,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=M(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=a/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<u;t++)s.setUint32(4*t,c[t],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return t.destroyed=o,t.finished=i,t.length=r,t.pos=s,r%e&&t.buffer.set(n),t}clone(){return this._cloneInto()}}const V=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),q=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Y=BigInt(2**32-1),Z=BigInt(32);function G(t,e=!1){return e?{h:Number(t&Y),l:Number(t>>Z&Y)}:{h:0|Number(t>>Z&Y),l:0|Number(t&Y)}}function J(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:n,l:s}=G(t[o],e);[r[o],i[o]]=[n,s]}return[r,i]}const X=(t,e,n)=>t>>>n,Q=(t,e,n)=>t<<32-n|e>>>n,tt=(t,e,n)=>t>>>n|e<<32-n,et=(t,e,n)=>t<<32-n|e>>>n,nt=(t,e,n)=>t<<64-n|e>>>n-32,rt=(t,e,n)=>t>>>n-32|e<<64-n;function it(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:0|i}}const ot=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),st=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,at=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),ut=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,ct=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),ht=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,ft=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),lt=new Uint32Array(64);class dt extends K{constructor(t=32){super(64,t,8,!1),this.A=0|V[0],this.B=0|V[1],this.C=0|V[2],this.D=0|V[3],this.E=0|V[4],this.F=0|V[5],this.G=0|V[6],this.H=0|V[7]}get(){const{A:t,B:e,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[t,e,n,r,i,o,s,a]}set(t,e,n,r,i,o,s,a){this.A=0|t,this.B=0|e,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(t,e){for(let n=0;n<16;n++,e+=4)lt[n]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=lt[t-15],n=lt[t-2],r=O(e,7)^O(e,18)^e>>>3,i=O(n,17)^O(n,19)^n>>>10;lt[t]=i+lt[t-7]+r+lt[t-16]|0}let{A:n,B:r,C:i,D:o,E:s,F:a,G:u,H:c}=this;for(let t=0;t<64;t++){const e=c+(O(s,6)^O(s,11)^O(s,25))+W(s,a,u)+ft[t]+lt[t]|0,h=(O(n,2)^O(n,13)^O(n,22))+H(n,r,i)|0;c=u,u=a,a=s,s=o+e|0,o=i,i=r,r=n,n=e+h|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(n,r,i,o,s,a,u,c)}roundClean(){S(lt)}destroy(){this.set(0,0,0,0,0,0,0,0),S(this.buffer)}}const pt=(()=>J(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),gt=(()=>pt[0])(),mt=(()=>pt[1])(),yt=new Uint32Array(80),vt=new Uint32Array(80);class wt extends K{constructor(t=64){super(128,t,16,!1),this.Ah=0|q[0],this.Al=0|q[1],this.Bh=0|q[2],this.Bl=0|q[3],this.Ch=0|q[4],this.Cl=0|q[5],this.Dh=0|q[6],this.Dl=0|q[7],this.Eh=0|q[8],this.El=0|q[9],this.Fh=0|q[10],this.Fl=0|q[11],this.Gh=0|q[12],this.Gl=0|q[13],this.Hh=0|q[14],this.Hl=0|q[15]}get(){const{Ah:t,Al:e,Bh:n,Bl:r,Ch:i,Cl:o,Dh:s,Dl:a,Eh:u,El:c,Fh:h,Fl:f,Gh:l,Gl:d,Hh:p,Hl:g}=this;return[t,e,n,r,i,o,s,a,u,c,h,f,l,d,p,g]}set(t,e,n,r,i,o,s,a,u,c,h,f,l,d,p,g){this.Ah=0|t,this.Al=0|e,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|u,this.El=0|c,this.Fh=0|h,this.Fl=0|f,this.Gh=0|l,this.Gl=0|d,this.Hh=0|p,this.Hl=0|g}process(t,e){for(let n=0;n<16;n++,e+=4)yt[n]=t.getUint32(e),vt[n]=t.getUint32(e+=4);for(let t=16;t<80;t++){const e=0|yt[t-15],n=0|vt[t-15],r=tt(e,n,1)^tt(e,n,8)^X(e,0,7),i=et(e,n,1)^et(e,n,8)^Q(e,n,7),o=0|yt[t-2],s=0|vt[t-2],a=tt(o,s,19)^nt(o,s,61)^X(o,0,6),u=et(o,s,19)^rt(o,s,61)^Q(o,s,6),c=at(i,u,vt[t-7],vt[t-16]),h=ut(c,r,a,yt[t-7],yt[t-16]);yt[t]=0|h,vt[t]=0|c}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:s,Cl:a,Dh:u,Dl:c,Eh:h,El:f,Fh:l,Fl:d,Gh:p,Gl:g,Hh:m,Hl:y}=this;for(let t=0;t<80;t++){const e=tt(h,f,14)^tt(h,f,18)^nt(h,f,41),v=et(h,f,14)^et(h,f,18)^rt(h,f,41),w=h&l^~h&p,b=ct(y,v,f&d^~f&g,mt[t],vt[t]),_=ht(b,m,e,w,gt[t],yt[t]),E=0|b,A=tt(n,r,28)^nt(n,r,34)^nt(n,r,39),x=et(n,r,28)^rt(n,r,34)^rt(n,r,39),k=n&i^n&s^i&s,I=r&o^r&a^o&a;m=0|p,y=0|g,p=0|l,g=0|d,l=0|h,d=0|f,({h,l:f}=it(0|u,0|c,0|_,0|E)),u=0|s,c=0|a,s=0|i,a=0|o,i=0|n,o=0|r;const S=ot(E,x,I);n=st(S,_,A,k),r=0|S}({h:n,l:r}=it(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:o}=it(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=it(0|this.Ch,0|this.Cl,0|s,0|a)),({h:u,l:c}=it(0|this.Dh,0|this.Dl,0|u,0|c)),({h,l:f}=it(0|this.Eh,0|this.El,0|h,0|f)),({h:l,l:d}=it(0|this.Fh,0|this.Fl,0|l,0|d)),({h:p,l:g}=it(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:y}=it(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(n,r,i,o,s,a,u,c,h,f,l,d,p,g,m,y)}roundClean(){S(yt,vt)}destroy(){S(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const bt=j(()=>new dt),_t=j(()=>new wt),Et=BigInt(0),At=BigInt(1);function xt(t,e=""){if("boolean"!=typeof t)throw new Error((e&&`"${e}"`)+"expected boolean, got type="+typeof t);return t}function kt(t,e,n=""){const r=_(t),i=t?.length,o=void 0!==e;if(!r||o&&i!==e)throw new Error((n&&`"${n}" `)+"expected Uint8Array"+(o?` of length ${e}`:"")+", got "+(r?`length=${i}`:"type="+typeof t));return t}function It(t){const e=t.toString(16);return 1&e.length?"0"+e:e}function St(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return""===t?Et:BigInt("0x"+t)}function Mt(t){return St(C(t))}function Ot(t){return A(t),St(C(Uint8Array.from(t).reverse()))}function Tt(t,e){return N(t.toString(16).padStart(2*e,"0"))}function Bt(t,e){return Tt(t,e).reverse()}function Pt(t,e,n){let r;if("string"==typeof e)try{r=N(e)}catch(e){throw new Error(t+" must be hex string or Uint8Array, cause: "+e)}else{if(!_(e))throw new Error(t+" must be hex string or Uint8Array");r=Uint8Array.from(e)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function Rt(t){return Uint8Array.from(t)}const Ct=t=>"bigint"==typeof t&&Et<=t;function $t(t,e,n,r){if(!function(t,e,n){return Ct(t)&&Ct(e)&&Ct(n)&&e<=t&&t<n}(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Nt(t){let e;for(e=0;t>Et;t>>=At,e+=1);return e}const Dt=t=>(At<<BigInt(t))-At;function Lt(t,e,n={}){if(!t||"object"!=typeof t)throw new Error("expected valid options object");function r(e,n,r){const i=t[e];if(r&&void 0===i)return;const o=typeof i;if(o!==n||null===i)throw new Error(`param "${e}" is invalid: expected ${n}, got ${o}`)}Object.entries(e).forEach(([t,e])=>r(t,e,!1)),Object.entries(n).forEach(([t,e])=>r(t,e,!0))}const zt=()=>{throw new Error("not implemented")};function Ut(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(void 0!==i)return i;const o=t(n,...r);return e.set(n,o),o}}const jt=BigInt(0),Ft=BigInt(1),Wt=BigInt(2),Ht=BigInt(3),Kt=BigInt(4),Vt=BigInt(5),qt=BigInt(7),Yt=BigInt(8),Zt=BigInt(9),Gt=BigInt(16);function Jt(t,e){const n=t%e;return n>=jt?n:e+n}function Xt(t,e,n){let r=t;for(;e-- >jt;)r*=r,r%=n;return r}function Qt(t,e){if(t===jt)throw new Error("invert: expected non-zero number");if(e<=jt)throw new Error("invert: expected positive modulus, got "+e);let n=Jt(t,e),r=e,i=jt,o=Ft,s=Ft,a=jt;for(;n!==jt;){const t=r/n,e=r%n,u=i-s*t,c=o-a*t;r=n,n=e,i=s,o=a,s=u,a=c}if(r!==Ft)throw new Error("invert: does not exist");return Jt(i,e)}function te(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function ee(t,e){const n=(t.ORDER+Ft)/Kt,r=t.pow(e,n);return te(t,r,e),r}function ne(t,e){const n=(t.ORDER-Vt)/Yt,r=t.mul(e,Wt),i=t.pow(r,n),o=t.mul(e,i),s=t.mul(t.mul(o,Wt),i),a=t.mul(o,t.sub(s,t.ONE));return te(t,a,e),a}function re(t){if(t<Ht)throw new Error("sqrt is not defined for small field");let e=t-Ft,n=0;for(;e%Wt===jt;)e/=Wt,n++;let r=Wt;const i=ce(t);for(;1===ae(i,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return ee;let o=i.pow(r,e);const s=(e+Ft)/Wt;return function(t,r){if(t.is0(r))return r;if(1!==ae(t,r))throw new Error("Cannot find square root");let i=n,a=t.mul(t.ONE,o),u=t.pow(r,e),c=t.pow(r,s);for(;!t.eql(u,t.ONE);){if(t.is0(u))return t.ZERO;let e=1,n=t.sqr(u);for(;!t.eql(n,t.ONE);)if(e++,n=t.sqr(n),e===i)throw new Error("Cannot find square root");const r=Ft<<BigInt(i-e-1),o=t.pow(a,r);i=e,a=t.sqr(o),u=t.mul(u,a),c=t.mul(c,o)}return c}}const ie=(t,e)=>(Jt(t,e)&Ft)===Ft,oe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function se(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((e,n,i)=>t.is0(n)?e:(r[i]=e,t.mul(e,n)),t.ONE),o=t.inv(i);return e.reduceRight((e,n,i)=>t.is0(n)?e:(r[i]=t.mul(e,r[i]),t.mul(e,n)),o),r}function ae(t,e){const n=(t.ORDER-Ft)/Wt,r=t.pow(e,n),i=t.eql(r,t.ONE),o=t.eql(r,t.ZERO),s=t.eql(r,t.neg(t.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function ue(t,e){void 0!==e&&E(e);const n=void 0!==e?e:t.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function ce(t,e,n=!1,r={}){if(t<=jt)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o,s,a=!1;if("object"==typeof e&&null!=e){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const t=e;t.BITS&&(i=t.BITS),t.sqrt&&(o=t.sqrt),"boolean"==typeof t.isLE&&(n=t.isLE),"boolean"==typeof t.modFromBytes&&(a=t.modFromBytes),s=t.allowedLengths}else"number"==typeof e&&(i=e),r.sqrt&&(o=r.sqrt);const{nBitLength:u,nByteLength:c}=ue(t,i);if(c>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let h;const f=Object.freeze({ORDER:t,isLE:n,BITS:u,BYTES:c,MASK:Dt(u),ZERO:jt,ONE:Ft,allowedLengths:s,create:e=>Jt(e,t),isValid:e=>{if("bigint"!=typeof e)throw new Error("invalid field element: expected bigint, got "+typeof e);return jt<=e&&e<t},is0:t=>t===jt,isValidNot0:t=>!f.is0(t)&&f.isValid(t),isOdd:t=>(t&Ft)===Ft,neg:e=>Jt(-e,t),eql:(t,e)=>t===e,sqr:e=>Jt(e*e,t),add:(e,n)=>Jt(e+n,t),sub:(e,n)=>Jt(e-n,t),mul:(e,n)=>Jt(e*n,t),pow:(t,e)=>function(t,e,n){if(n<jt)throw new Error("invalid exponent, negatives unsupported");if(n===jt)return t.ONE;if(n===Ft)return e;let r=t.ONE,i=e;for(;n>jt;)n&Ft&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Ft;return r}(f,t,e),div:(e,n)=>Jt(e*Qt(n,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>Qt(e,t),sqrt:o||(e=>{return h||(h=(n=t)%Kt===Ht?ee:n%Yt===Vt?ne:n%Gt===Zt?function(t){const e=ce(t),n=re(t),r=n(e,e.neg(e.ONE)),i=n(e,r),o=n(e,e.neg(r)),s=(t+qt)/Gt;return(t,e)=>{let n=t.pow(e,s),a=t.mul(n,r);const u=t.mul(n,i),c=t.mul(n,o),h=t.eql(t.sqr(a),e),f=t.eql(t.sqr(u),e);n=t.cmov(n,a,h),a=t.cmov(c,u,f);const l=t.eql(t.sqr(a),e),d=t.cmov(n,a,l);return te(t,d,e),d}}(n):re(n)),h(f,e);var n}),toBytes:t=>n?Bt(t,c):Tt(t,c),fromBytes:(e,r=!0)=>{if(s){if(!s.includes(e.length)||e.length>c)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);const t=new Uint8Array(c);t.set(e,n?0:t.length-e.length),e=t}if(e.length!==c)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+e.length);let i=n?Ot(e):Mt(e);if(a&&(i=Jt(i,t)),!r&&!f.isValid(i))throw new Error("invalid field element: outside of range 0..ORDER");return i},invertBatch:t=>se(f,t),cmov:(t,e,n)=>n?e:t});return Object.freeze(f)}function he(t){if("bigint"!=typeof t)throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function fe(t){const e=he(t);return e+Math.ceil(e/2)}const le=BigInt(0),de=BigInt(1);function pe(t,e){const n=e.negate();return t?n:e}function ge(t,e){const n=se(t.Fp,e.map(t=>t.Z));return e.map((e,r)=>t.fromAffine(e.toAffine(n[r])))}function me(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function ye(t,e){me(t,e);const n=2**t;return{windows:Math.ceil(e/t)+1,windowSize:2**(t-1),mask:Dt(t),maxNumber:n,shiftBy:BigInt(t)}}function ve(t,e,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(t&i),u=t>>s;a>r&&(a-=o,u+=de);const c=e*r;return{nextN:u,offset:c+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:e%2!=0,offsetF:c}}const we=new WeakMap,be=new WeakMap;function _e(t){return be.get(t)||1}function Ee(t){if(t!==le)throw new Error("invalid wNAF")}class Ae{constructor(t,e){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=e}_unsafeLadder(t,e,n=this.ZERO){let r=t;for(;e>le;)e&de&&(n=n.add(r)),r=r.double(),e>>=de;return n}precomputeWindow(t,e){const{windows:n,windowSize:r}=ye(e,this.bits),i=[];let o=t,s=o;for(let t=0;t<n;t++){s=o,i.push(s);for(let t=1;t<r;t++)s=s.add(o),i.push(s);o=s.double()}return i}wNAF(t,e,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let r=this.ZERO,i=this.BASE;const o=ye(t,this.bits);for(let t=0;t<o.windows;t++){const{nextN:s,offset:a,isZero:u,isNeg:c,isNegF:h,offsetF:f}=ve(n,t,o);n=s,u?i=i.add(pe(h,e[f])):r=r.add(pe(c,e[a]))}return Ee(n),{p:r,f:i}}wNAFUnsafe(t,e,n,r=this.ZERO){const i=ye(t,this.bits);for(let t=0;t<i.windows&&n!==le;t++){const{nextN:o,offset:s,isZero:a,isNeg:u}=ve(n,t,i);if(n=o,!a){const t=e[s];r=r.add(u?t.negate():t)}}return Ee(n),r}getPrecomputes(t,e,n){let r=we.get(e);return r||(r=this.precomputeWindow(e,t),1!==t&&("function"==typeof n&&(r=n(r)),we.set(e,r))),r}cached(t,e,n){const r=_e(t);return this.wNAF(r,this.getPrecomputes(r,t,n),e)}unsafe(t,e,n,r){const i=_e(t);return 1===i?this._unsafeLadder(t,e,r):this.wNAFUnsafe(i,this.getPrecomputes(i,t,n),e,r)}createCache(t,e){me(e,this.bits),be.set(t,e),we.delete(t)}hasCache(t){return 1!==_e(t)}}function xe(t,e,n,r){(function(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((t,n)=>{if(!(t instanceof e))throw new Error("invalid point at index "+n)})})(n,t),function(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((t,n)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+n)})}(r,e);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=Nt(BigInt(i));let u=1;a>12?u=a-3:a>4?u=a-2:a>0&&(u=2);const c=Dt(u),h=new Array(Number(c)+1).fill(s);let f=s;for(let t=Math.floor((e.BITS-1)/u)*u;t>=0;t-=u){h.fill(s);for(let e=0;e<o;e++){const i=r[e],o=Number(i>>BigInt(t)&c);h[o]=h[o].add(n[e])}let e=s;for(let t=h.length-1,n=s;t>0;t--)n=n.add(h[t]),e=e.add(n);if(f=f.add(e),0!==t)for(let t=0;t<u;t++)f=f.double()}return f}function ke(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return function(t){Lt(t,oe.reduce((t,e)=>(t[e]="function",t),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"}))}(e),e}return ce(t,{isLE:n})}function Ie(t,e,n={},r){if(void 0===r&&(r="edwards"===t),!e||"object"!=typeof e)throw new Error(`expected valid ${t} CURVE object`);for(const t of["p","n","h"]){const n=e[t];if(!("bigint"==typeof n&&n>le))throw new Error(`CURVE.${t} must be positive bigint`)}const i=ke(e.p,n.Fp,r),o=ke(e.n,n.Fn,r),s=["Gx","Gy","a","weierstrass"===t?"b":"d"];for(const t of s)if(!i.isValid(e[t]))throw new Error(`CURVE.${t} must be valid field element of CURVE.Fp`);return{CURVE:e=Object.freeze(Object.assign({},e)),Fp:i,Fn:o}}const Se=BigInt(0),Me=BigInt(1),Oe=BigInt(2),Te=BigInt(8);class Be{constructor(t){this.ep=t}static fromBytes(t){zt()}static fromHex(t){zt()}get x(){return this.toAffine().x}get y(){return this.toAffine().y}clearCofactor(){return this}assertValidity(){this.ep.assertValidity()}toAffine(t){return this.ep.toAffine(t)}toHex(){return C(this.toBytes())}toString(){return this.toHex()}isTorsionFree(){return!0}isSmallOrder(){return!1}add(t){return this.assertSame(t),this.init(this.ep.add(t.ep))}subtract(t){return this.assertSame(t),this.init(this.ep.subtract(t.ep))}multiply(t){return this.init(this.ep.multiply(t))}multiplyUnsafe(t){return this.init(this.ep.multiplyUnsafe(t))}double(){return this.init(this.ep.double())}negate(){return this.init(this.ep.negate())}precompute(t,e){return this.init(this.ep.precompute(t,e))}toRawBytes(){return this.toBytes()}}function Pe(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:i}=function(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n={Fp:t.Fp,Fn:ce(e.n,t.nBitLength,!0),uvRatio:t.uvRatio},r={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:n,hash:t.hash,eddsaOpts:r}}(t),o=function(t,e={}){const n=Ie("edwards",t,e,e.FpFnLE),{Fp:r,Fn:i}=n;let o=n.CURVE;const{h:s}=o;Lt(e,{},{uvRatio:"function"});const a=Oe<<BigInt(8*i.BYTES)-Me,u=t=>r.create(t),c=e.uvRatio||((t,e)=>{try{return{isValid:!0,value:r.sqrt(r.div(t,e))}}catch(t){return{isValid:!1,value:Se}}});if(!function(t,e,n,r){const i=t.sqr(n),o=t.sqr(r),s=t.add(t.mul(e.a,i),o),a=t.add(t.ONE,t.mul(e.d,t.mul(i,o)));return t.eql(s,a)}(r,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function h(t,e,n=!1){return $t("coordinate "+t,e,n?Me:Se,a),e}function f(t){if(!(t instanceof p))throw new Error("ExtendedPoint expected")}const l=Ut((t,e)=>{const{X:n,Y:i,Z:o}=t,s=t.is0();null==e&&(e=s?Te:r.inv(o));const a=u(n*e),c=u(i*e),h=r.mul(o,e);if(s)return{x:Se,y:Me};if(h!==Me)throw new Error("invZ was invalid");return{x:a,y:c}}),d=Ut(t=>{const{a:e,d:n}=o;if(t.is0())throw new Error("bad point: ZERO");const{X:r,Y:i,Z:s,T:a}=t,c=u(r*r),h=u(i*i),f=u(s*s),l=u(f*f),d=u(c*e);if(u(f*u(d+h))!==u(l+u(n*u(c*h))))throw new Error("bad point: equation left != right (1)");if(u(r*i)!==u(s*a))throw new Error("bad point: equation left != right (2)");return!0});class p{constructor(t,e,n,r){this.X=h("x",t),this.Y=h("y",e),this.Z=h("z",n,!0),this.T=h("t",r),Object.freeze(this)}static CURVE(){return o}static fromAffine(t){if(t instanceof p)throw new Error("extended point not allowed");const{x:e,y:n}=t||{};return h("x",e),h("y",n),new p(e,n,Me,u(e*n))}static fromBytes(t,e=!1){const n=r.BYTES,{a:i,d:s}=o;t=Rt(kt(t,n,"point")),xt(e,"zip215");const h=Rt(t),f=t[n-1];h[n-1]=-129&f;const l=Ot(h),d=e?a:r.ORDER;$t("point.y",l,Se,d);const g=u(l*l),m=u(g-Me),y=u(s*g-i);let{isValid:v,value:w}=c(m,y);if(!v)throw new Error("bad point: invalid y coordinate");const b=(w&Me)===Me,_=!!(128&f);if(!e&&w===Se&&_)throw new Error("bad point: x=0 and x_0=1");return _!==b&&(w=u(-w)),p.fromAffine({x:w,y:l})}static fromHex(t,e=!1){return p.fromBytes(Pt("point",t),e)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(t=8,e=!0){return g.createCache(this,t),e||this.multiply(Oe),this}assertValidity(){d(this)}equals(t){f(t);const{X:e,Y:n,Z:r}=this,{X:i,Y:o,Z:s}=t,a=u(e*s),c=u(i*r),h=u(n*s),l=u(o*r);return a===c&&h===l}is0(){return this.equals(p.ZERO)}negate(){return new p(u(-this.X),this.Y,this.Z,u(-this.T))}double(){const{a:t}=o,{X:e,Y:n,Z:r}=this,i=u(e*e),s=u(n*n),a=u(Oe*u(r*r)),c=u(t*i),h=e+n,f=u(u(h*h)-i-s),l=c+s,d=l-a,g=c-s,m=u(f*d),y=u(l*g),v=u(f*g),w=u(d*l);return new p(m,y,w,v)}add(t){f(t);const{a:e,d:n}=o,{X:r,Y:i,Z:s,T:a}=this,{X:c,Y:h,Z:l,T:d}=t,g=u(r*c),m=u(i*h),y=u(a*n*d),v=u(s*l),w=u((r+i)*(c+h)-g-m),b=v-y,_=v+y,E=u(m-e*g),A=u(w*b),x=u(_*E),k=u(w*E),I=u(b*_);return new p(A,x,I,k)}subtract(t){return this.add(t.negate())}multiply(t){if(!i.isValidNot0(t))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:e,f:n}=g.cached(this,t,t=>ge(p,t));return ge(p,[e,n])[0]}multiplyUnsafe(t,e=p.ZERO){if(!i.isValid(t))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return t===Se?p.ZERO:this.is0()||t===Me?this:g.unsafe(this,t,t=>ge(p,t),e)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return g.unsafe(this,o.n).is0()}toAffine(t){return l(this,t)}clearCofactor(){return s===Me?this:this.multiplyUnsafe(s)}toBytes(){const{x:t,y:e}=this.toAffine(),n=r.toBytes(e);return n[n.length-1]|=t&Me?128:0,n}toHex(){return C(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(t){return ge(p,t)}static msm(t,e){return xe(p,i,t,e)}_setWindowSize(t){this.precompute(t)}toRawBytes(){return this.toBytes()}}p.BASE=new p(o.Gx,o.Gy,Me,u(o.Gx*o.Gy)),p.ZERO=new p(Se,Me,Me,Se),p.Fp=r,p.Fn=i;const g=new Ae(p,i.BITS);return p.BASE.precompute(8),p}(e,n);return function(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}(t,function(t,e,n={}){if("function"!=typeof e)throw new Error('"hash" function param is required');Lt(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:i,Fp:o,Fn:s}=t,a=n.randomBytes||F,u=n.adjustScalarBytes||(t=>t),c=n.domain||((t,e,n)=>{if(xt(n,"phflag"),e.length||n)throw new Error("Contexts/pre-hash are not supported");return t});function h(t){return s.create(Ot(t))}function f(t){const{head:n,prefix:r,scalar:o}=function(t){const n=m.secretKey;t=Pt("private key",t,n);const r=Pt("hashed private key",e(t),2*n),i=u(r.slice(0,n));return{head:i,prefix:r.slice(n,2*n),scalar:h(i)}}(t),s=i.multiply(o),a=s.toBytes();return{head:n,prefix:r,scalar:o,point:s,pointBytes:a}}function l(t){return f(t).pointBytes}function d(t=Uint8Array.of(),...n){const i=z(...n);return h(e(c(i,Pt("context",t),!!r)))}const p={zip215:!0},g=o.BYTES,m={secretKey:g,publicKey:g,signature:2*g,seed:g};function y(t=a(m.seed)){return kt(t,m.seed,"seed")}const v={getExtendedPublicKey:f,randomSecretKey:y,isValidSecretKey:function(t){return _(t)&&t.length===s.BYTES},isValidPublicKey:function(e,n){try{return!!t.fromBytes(e,n)}catch(t){return!1}},toMontgomery(e){const{y:n}=t.fromBytes(e),r=m.publicKey,i=32===r;if(!i&&57!==r)throw new Error("only defined for 25519 and 448");const s=i?o.div(Me+n,Me-n):o.div(n-Me,n+Me);return o.toBytes(s)},toMontgomeryPriv(t){const n=m.secretKey;kt(t,n);const r=e(t.subarray(0,n));return u(r).subarray(0,n)},randomPrivateKey:y,precompute:(e=8,n=t.BASE)=>n.precompute(e,!1)};return Object.freeze({keygen:function(t){const e=v.randomSecretKey(t);return{secretKey:e,publicKey:l(e)}},getPublicKey:l,sign:function(t,e,n={}){t=Pt("message",t),r&&(t=r(t));const{prefix:o,scalar:a,pointBytes:u}=f(e),c=d(n.context,o,t),h=i.multiply(c).toBytes(),l=d(n.context,h,u,t),p=s.create(c+l*a);if(!s.isValid(p))throw new Error("sign failed: invalid s");return kt(z(h,s.toBytes(p)),m.signature,"result")},verify:function(e,n,o,s=p){const{context:a,zip215:u}=s,c=m.signature;e=Pt("signature",e,c),n=Pt("message",n),o=Pt("publicKey",o,m.publicKey),void 0!==u&&xt(u,"zip215"),r&&(n=r(n));const h=c/2,f=e.subarray(0,h),l=Ot(e.subarray(h,c));let g,y,v;try{g=t.fromBytes(o,u),y=t.fromBytes(f,u),v=i.multiplyUnsafe(l)}catch(t){return!1}if(!u&&g.isSmallOrder())return!1;const w=d(a,y.toBytes(),g.toBytes(),n);return y.add(g.multiplyUnsafe(w)).subtract(v).clearCofactor().is0()},utils:v,Point:t,lengths:m})}(o,r,i))}D("HashToScalar-");const Re=BigInt(0),Ce=BigInt(1),$e=BigInt(2),Ne=(BigInt(3),BigInt(5)),De=BigInt(8),Le=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),ze=(()=>({p:Le,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:De,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")}))();function Ue(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const je=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function Fe(t,e){const n=Le,r=Jt(e*e*e,n),i=Jt(r*r*e,n);let o=Jt(t*r*function(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=Le,s=t*t%o*t%o,a=Xt(s,$e,o)*s%o,u=Xt(a,Ce,o)*t%o,c=Xt(u,Ne,o)*u%o,h=Xt(c,e,o)*c%o,f=Xt(h,n,o)*h%o,l=Xt(f,r,o)*f%o,d=Xt(l,i,o)*l%o,p=Xt(d,i,o)*l%o,g=Xt(p,e,o)*c%o;return{pow_p_5_8:Xt(g,$e,o)*t%o,b2:s}}(t*i).pow_p_5_8,n);const s=Jt(e*o*o,n),a=o,u=Jt(o*je,n),c=s===t,h=s===Jt(-t,n),f=s===Jt(-t*je,n);return c&&(o=a),(h||f)&&(o=u),ie(o,n)&&(o=Jt(-o,n)),{isValid:c||h,value:o}}const We=(()=>ce(ze.p,{isLE:!0}))(),He=(()=>ce(ze.n,{isLE:!0}))(),Ke=(()=>({...ze,Fp:We,hash:_t,adjustScalarBytes:Ue,uvRatio:Fe}))(),Ve=(()=>Pe(Ke))(),qe=je,Ye=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Ze=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Ge=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Je=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Xe=t=>Fe(Ce,t),Qe=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),tn=t=>Ve.Point.Fp.create(Ot(t)&Qe);function en(t){const{d:e}=ze,n=Le,r=t=>We.create(t),i=r(qe*t*t),o=r((i+Ce)*Ge);let s=BigInt(-1);const a=r((s-e*i)*r(i+e));let{isValid:u,value:c}=Fe(o,a),h=r(c*t);ie(h,n)||(h=r(-h)),u||(c=h),u||(s=i);const f=r(s*(i-Ce)*Je-a),l=c*c,d=r((c+c)*a),p=r(f*Ye),g=r(Ce-l),m=r(Ce+l);return new Ve.Point(r(d*m),r(g*p),r(p*m),r(d*g))}class nn extends Be{constructor(t){super(t)}static fromAffine(t){return new nn(Ve.Point.fromAffine(t))}assertSame(t){if(!(t instanceof nn))throw new Error("RistrettoPoint expected")}init(t){return new nn(t)}static hashToCurve(t){return function(t){A(t,64);const e=en(tn(t.subarray(0,32))),n=en(tn(t.subarray(32,64)));return new nn(e.add(n))}(Pt("ristrettoHash",t,64))}static fromBytes(t){A(t,32);const{a:e,d:n}=ze,r=Le,i=t=>We.create(t),o=tn(t);if(!function(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return 0===n}(We.toBytes(o),t)||ie(o,r))throw new Error("invalid ristretto255 encoding 1");const s=i(o*o),a=i(Ce+e*s),u=i(Ce-e*s),c=i(a*a),h=i(u*u),f=i(e*n*c-h),{isValid:l,value:d}=Xe(i(f*h)),p=i(d*u),g=i(d*p*f);let m=i((o+o)*p);ie(m,r)&&(m=i(-m));const y=i(a*g),v=i(m*y);if(!l||ie(v,r)||y===Re)throw new Error("invalid ristretto255 encoding 2");return new nn(new Ve.Point(m,y,Ce,v))}static fromHex(t){return nn.fromBytes(Pt("ristrettoHex",t,32))}static msm(t,e){return xe(nn,Ve.Point.Fn,t,e)}toBytes(){let{X:t,Y:e,Z:n,T:r}=this.ep;const i=Le,o=t=>We.create(t),s=o(o(n+e)*o(n-e)),a=o(t*e),u=o(a*a),{value:c}=Xe(o(s*u)),h=o(c*s),f=o(c*a),l=o(h*f*r);let d;if(ie(r*l,i)){let n=o(e*qe),r=o(t*qe);t=n,e=r,d=o(h*Ze)}else d=f;ie(t*l,i)&&(e=o(-e));let p=o((n-e)*d);return ie(p,i)&&(p=o(-p)),We.toBytes(p)}equals(t){this.assertSame(t);const{X:e,Y:n}=this.ep,{X:r,Y:i}=t.ep,o=t=>We.create(t),s=o(e*i)===o(n*r),a=o(n*i)===o(e*r);return s||a}is0(){return this.equals(nn.ZERO)}}nn.BASE=(()=>new nn(Ve.Point.BASE))(),nn.ZERO=(()=>new nn(Ve.Point.ZERO))(),nn.Fp=(()=>We)(),nn.Fn=(()=>He)();var rn=n(404),on=n.n(rn),sn=n(763),an=n.n(sn);const un=bt;var cn=n(755),hn=n(601),fn=-32002;function ln(t){return Array.isArray(t)?"%5B"+t.map(ln).join("%2C%20")+"%5D":"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}function dn([t,e]){return`${t}=${ln(e)}`}var pn=class extends Error{cause=this.cause;context;constructor(...[t,e]){let n,r;if(e){const{cause:t,...i}=e;t&&(r={cause:t}),Object.keys(i).length>0&&(n=i)}super(function(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${function(t){const e=Object.entries(t).map(dn).join("&");return btoa(e)}(e)}'`),`${n}\``}}(t,n),r),this.context={__code:t,...n},this.name="SolanaError"}};function gn(...t){"captureStackTrace"in Error&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(...t)}function mn({errorCodeBaseOffset:t,getErrorContext:e,orderedErrorNames:n,rpcEnumError:r},i){let o,s;"string"==typeof r?o=r:(o=Object.keys(r)[0],s=r[o]);const a=t+n.indexOf(o),u=e(a,o,s),c=new pn(a,u);return gn(c,i),c}var yn=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function vn(t,e){const n=Number(t);return mn({errorCodeBaseOffset:4615001,getErrorContext:(t,e,r)=>4615e3===t?{errorName:e,index:n,...void 0!==r?{instructionErrorContext:r}:null}:4615026===t?{code:Number(r),index:n}:4615045===t?{encodedData:r,index:n}:{index:n},orderedErrorNames:yn,rpcEnumError:e},vn)}var wn=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function bn(t){return"object"==typeof t&&"InstructionError"in t?vn(...t.InstructionError):mn({errorCodeBaseOffset:7050001,getErrorContext:(t,e,n)=>705e4===t?{errorName:e,...void 0!==n?{transactionErrorContext:n}:null}:7050030===t?{index:Number(n)}:7050031===t||7050035===t?{accountIndex:Number(n.account_index)}:void 0,orderedErrorNames:wn,rpcEnumError:t},bn)}function _n(t){let e;if("object"==typeof(n=t)&&null!==n&&"code"in n&&"message"in n&&("number"==typeof n.code||"bigint"==typeof n.code)&&"string"==typeof n.message){const{code:n,data:r,message:i}=t,o=Number(n);if(o===fn){const{err:t,...n}=r,i=t?{cause:bn(t)}:null;e=new pn(fn,{...n,...i})}else{let t;switch(o){case-32603:case-32602:case-32600:case-32601:case-32700:case-32012:case-32001:case-32004:case-32014:case-32010:case-32009:case-32007:case-32006:case-32015:t={__serverMessage:i};break;default:"object"!=typeof r||Array.isArray(r)||(t=r)}e=new pn(o,t)}}else{const n="object"==typeof t&&null!==t&&"message"in t&&"string"==typeof t.message?t.message:"Malformed JSON-RPC error with no message attribute";e=new pn(10,{error:t,message:n})}var n;return gn(e,_n),e}function En(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(function(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}(e,t));return t.write(e,n,0),n}})}function An(t){return"fixedSize"in t&&"number"==typeof t.fixedSize}function xn(t){return 1!==t?.endian}function kn(t){return En({fixedSize:t.size,write(e,n,r){t.range&&function(t,e,n,r){if(r<e||r>n)throw new pn(8078011,{codecDescription:t,max:n,min:e,value:r})}(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,xn(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function In(t){return e={fixedSize:t.size,read(e,n=0){!function(t,e,n=0){if(e.length-n<=0)throw new pn(8078e3,{codecDescription:t})}(t.name,e,n),function(t,e,n,r=0){const i=n.length-r;if(i<e)throw new pn(8078001,{bytesLength:i,codecDescription:t,expected:e})}(t.name,t.size,e,n);const r=new DataView(function(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}(e,n,t.size));return[t.get(r,xn(t.config)),n+t.size]}},Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]});var e}var Sn=(t={})=>kn({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,e,n)=>t.setBigUint64(0,BigInt(e),n),size:8}),Mn=(t={})=>function(t,e){if(An(t)!==An(e))throw new pn(8078004);if(An(t)&&An(e)&&t.fixedSize!==e.fixedSize)throw new pn(8078005,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!An(t)&&!An(e)&&t.maxSize!==e.maxSize)throw new pn(8078006,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}(Sn(t),((t={})=>In({config:t,get:(t,e)=>t.getBigUint64(0,e),name:"u64",size:8}))(t));class On extends TypeError{constructor(t,e){let n;const{message:r,explanation:i,...o}=t,{path:s}=t,a=0===s.length?r:`At path: ${s.join(".")} -- ${r}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...e()])}}function Tn(t){return"object"==typeof t&&null!=t}function Bn(t){return Tn(t)&&!Array.isArray(t)}function Pn(t){return"symbol"==typeof t?t.toString():"string"==typeof t?JSON.stringify(t):`${t}`}function Rn(t,e,n,r){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:u=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${Pn(r)}\``}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:u}}function*Cn(t,e,n,r){var i;Tn(i=t)&&"function"==typeof i[Symbol.iterator]||(t=[t]);for(const i of t){const t=Rn(i,e,n,r);t&&(yield t)}}function*$n(t,e,n={}){const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i,mask:s};o&&(t=e.coercer(t,a));let u="valid";for(const r of e.validator(t,a))r.explanation=n.message,u="not_valid",yield[r,void 0];for(let[c,h,f]of e.entries(t,a)){const e=$n(h,f,{path:void 0===c?r:[...r,c],branch:void 0===c?i:[...i,h],coerce:o,mask:s,message:n.message});for(const n of e)n[0]?(u=null!=n[0].refinement?"not_refined":"not_valid",yield[n[0],void 0]):o&&(h=n[1],void 0===c?t=h:t instanceof Map?t.set(c,h):t instanceof Set?t.add(h):Tn(t)&&(void 0!==h||c in t)&&(t[c]=h))}if("not_valid"!==u)for(const r of e.refiner(t,a))r.explanation=n.message,u="not_refined",yield[r,void 0];"valid"===u&&(yield[void 0,t])}class Nn{constructor(t){const{type:e,schema:n,validator:r,refiner:i,coercer:o=t=>t,entries:s=function*(){}}=t;this.type=e,this.schema=n,this.entries=s,this.coercer=o,this.validator=r?(t,e)=>Cn(r(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>Cn(i(t,e),e,this,t):()=>[]}assert(t,e){return function(t,e,n){const r=zn(t,e,{message:n});if(r[0])throw r[0]}(t,this,e)}create(t,e){return Dn(t,this,e)}is(t){return Ln(t,this)}mask(t,e){return function(t,e,n){const r=zn(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(t,this,e)}validate(t,e={}){return zn(t,this,e)}}function Dn(t,e,n){const r=zn(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Ln(t,e){return!zn(t,e)[0]}function zn(t,e,n={}){const r=$n(t,e,n),i=function(t){const{done:e,value:n}=t.next();return e?void 0:n}(r);return i[0]?[new On(i[0],function*(){for(const t of r)t[0]&&(yield t[0])}),void 0]:[void 0,i[1]]}function Un(t,e){return new Nn({type:t,schema:null,validator:e})}function jn(t){return new Nn({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||`Expected an array value, but received: ${Pn(t)}`})}function Fn(){return Un("boolean",t=>"boolean"==typeof t)}function Wn(t){return Un("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Pn(e)}`)}function Hn(t){const e=Pn(t),n=typeof t;return new Nn({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?t:null,validator:n=>n===t||`Expected the literal \`${e}\`, but received: ${Pn(n)}`})}function Kn(t){return new Nn({...t,validator:(e,n)=>null===e||t.validator(e,n),refiner:(e,n)=>null===e||t.refiner(e,n)})}function Vn(){return Un("number",t=>"number"==typeof t&&!isNaN(t)||`Expected a number, but received: ${Pn(t)}`)}function qn(t){return new Nn({...t,validator:(e,n)=>void 0===e||t.validator(e,n),refiner:(e,n)=>void 0===e||t.refiner(e,n)})}function Yn(t,e){return new Nn({type:"record",schema:null,*entries(n){if(Tn(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator:t=>Bn(t)||`Expected an object, but received: ${Pn(t)}`,coercer:t=>Bn(t)?{...t}:t})}function Zn(){return Un("string",t=>"string"==typeof t||`Expected a string, but received: ${Pn(t)}`)}function Gn(t){const e=Un("never",()=>!1);return new Nn({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator:t=>Array.isArray(t)||`Expected an array, but received: ${Pn(t)}`,coercer:t=>Array.isArray(t)?t.slice():t})}function Jn(t){const e=Object.keys(t);return new Nn({type:"type",schema:t,*entries(n){if(Tn(n))for(const r of e)yield[r,n[r],t[r]]},validator:t=>Bn(t)||`Expected an object, but received: ${Pn(t)}`,coercer:t=>Bn(t)?{...t}:t})}function Xn(t){const e=t.map(t=>t.type).join(" | ");return new Nn({type:"union",schema:null,coercer(e,n){for(const r of t){const[t,i]=r.validate(e,{coerce:!0,mask:n.mask});if(!t)return i}return e},validator(n,r){const i=[];for(const e of t){const[...t]=$n(n,e,r),[o]=t;if(!o[0])return[];for(const[e]of t)e&&i.push(e)}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Pn(n)}`,...i]}})}function Qn(){return Un("unknown",()=>!0)}function tr(t,e,n){return new Nn({...t,coercer:(r,i)=>Ln(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}n(22);const er=BigInt(0),nr=BigInt(1),rr=BigInt(2),ir=BigInt(7),or=BigInt(256),sr=BigInt(113),ar=[],ur=[],cr=[];for(let t=0,e=nr,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],ar.push(2*(5*r+n)),ur.push((t+1)*(t+2)/2%64);let i=er;for(let t=0;t<7;t++)e=(e<<nr^(e>>ir)*sr)%or,e&rr&&(i^=nr<<(nr<<BigInt(t))-nr);cr.push(i)}const hr=J(cr,!0),fr=hr[0],lr=hr[1],dr=(t,e,n)=>n>32?((t,e,n)=>e<<n-32|t>>>64-n)(t,e,n):((t,e,n)=>t<<n|e>>>32-n)(t,e,n),pr=(t,e,n)=>n>32?((t,e,n)=>t<<n-32|e>>>64-n)(t,e,n):((t,e,n)=>e<<n|t>>>32-n)(t,e,n);class gr extends U{constructor(t,e,n,r=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=e,this.outputLen=n,this.enableXOF=r,this.rounds=i,E(n),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");var o;this.state=new Uint8Array(200),this.state32=(o=this.state,new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4)))}clone(){return this._cloneInto()}keccak(){B(this.state32),function(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let e=0;e<10;e++)n[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){const r=(e+8)%10,i=(e+2)%10,o=n[i],s=n[i+1],a=dr(o,s,1)^n[r],u=pr(o,s,1)^n[r+1];for(let n=0;n<50;n+=10)t[e+n]^=a,t[e+n+1]^=u}let e=t[2],i=t[3];for(let n=0;n<24;n++){const r=ur[n],o=dr(e,i,r),s=pr(e,i,r),a=ar[n];e=t[a],i=t[a+1],t[a]=o,t[a+1]=s}for(let e=0;e<50;e+=10){for(let r=0;r<10;r++)n[r]=t[e+r];for(let r=0;r<10;r++)t[e+r]^=~n[(r+2)%10]&n[(r+4)%10]}t[0]^=fr[r],t[1]^=lr[r]}S(n)}(this.state32,this.rounds),B(this.state32),this.posOut=0,this.pos=0}update(t){k(this),A(t=L(t));const{blockLen:e,state:n}=this,r=t.length;for(let i=0;i<r;){const o=Math.min(e-this.pos,r-i);for(let e=0;e<o;e++)n[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:n,blockLen:r}=this;t[n]^=e,128&e&&n===r-1&&this.keccak(),t[r-1]^=128,this.keccak()}writeInto(t){k(this,!1),A(t),this.finish();const e=this.state,{blockLen:n}=this;for(let r=0,i=t.length;r<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-r);t.set(e.subarray(this.posOut,this.posOut+o),r),this.posOut+=o,r+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return E(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(I(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,S(this.state)}_cloneInto(t){const{blockLen:e,suffix:n,outputLen:r,rounds:i,enableXOF:o}=this;return t||(t=new gr(e,n,r,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=n,t.outputLen=r,t.enableXOF=o,t.destroyed=this.destroyed,t}}const mr=(()=>{return t=1,e=136,n=32,j(()=>new gr(e,t,n));var t,e,n})();class yr extends U{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,x(t);const n=L(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?t.create().update(n).digest():n);for(let t=0;t<i.length;t++)i[t]^=54;this.iHash.update(i),this.oHash=t.create();for(let t=0;t<i.length;t++)i[t]^=106;this.oHash.update(i),S(i)}update(t){return k(this),this.iHash.update(t),this}digestInto(t){k(this),A(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return t.finished=r,t.destroyed=i,t.blockLen=o,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const vr=(t,e,n)=>new yr(t,e).update(n).digest();vr.create=(t,e)=>new yr(t,e);const wr=(t,e)=>(t+(t>=0?e:-e)/Ir)/e;function br(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function _r(t,e){const n={};for(let r of Object.keys(e))n[r]=void 0===t[r]?e[r]:t[r];return xt(n.lowS,"lowS"),xt(n.prehash,"prehash"),void 0!==n.format&&br(n.format),n}class Er extends Error{constructor(t=""){super(t)}}const Ar={Err:Er,_tlv:{encode:(t,e)=>{const{Err:n}=Ar;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(1&e.length)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=It(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?It(i.length/2|128):"";return It(t)+o+i+e},decode(t,e){const{Err:n}=Ar;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++];let o=0;if(128&i){const t=127&i;if(!t)throw new n("tlv.decode(long): indefinite length not supported");if(t>4)throw new n("tlv.decode(long): byte length is too big");const s=e.subarray(r,r+t);if(s.length!==t)throw new n("tlv.decode: length bytes not complete");if(0===s[0])throw new n("tlv.decode(long): zero leftmost byte");for(const t of s)o=o<<8|t;if(r+=t,o<128)throw new n("tlv.decode(long): not minimal encoding")}else o=i;const s=e.subarray(r,r+o);if(s.length!==o)throw new n("tlv.decode: wrong value length");return{v:s,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Ar;if(t<xr)throw new e("integer: negative integers are not allowed");let n=It(t);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Ar;if(128&t[0])throw new e("invalid signature integer: negative");if(0===t[0]&&!(128&t[1]))throw new e("invalid signature integer: unnecessary leading zero");return Mt(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Ar,i=Pt("signature",t),{v:o,l:s}=r.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:u}=r.decode(2,o),{v:c,l:h}=r.decode(2,u);if(h.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=Ar,r=e.encode(2,n.encode(t.r))+e.encode(2,n.encode(t.s));return e.encode(48,r)}},xr=BigInt(0),kr=BigInt(1),Ir=BigInt(2),Sr=BigInt(3),Mr=BigInt(4);function Or(t,e){const{BYTES:n}=t;let r;if("bigint"==typeof e)r=e;else{let i=Pt("private key",e);try{r=t.fromBytes(i)}catch(t){throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function Tr(t){return Uint8Array.of(t?2:3)}function Br(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function Pr(t,e,n={}){x(e),Lt(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||F,i=n.hmac||((t,...n)=>vr(e,t,z(...n))),{Fp:o,Fn:s}=t,{ORDER:a,BITS:u}=s,{keygen:c,getPublicKey:h,getSharedSecret:f,utils:l,lengths:d}=function(t,e={}){const{Fn:n}=t,r=e.randomBytes||F,i=Object.assign(Br(t.Fp,n),{seed:fe(n.ORDER)});function o(t){try{return!!Or(n,t)}catch(t){return!1}}function s(t=r(i.seed)){return function(t,e,n=!1){const r=t.length,i=he(e),o=fe(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=Jt(n?Ot(t):Mt(t),e-Ft)+Ft;return n?Bt(s,i):Tt(s,i)}(kt(t,i.seed,"seed"),n.ORDER)}function a(e,r=!0){return t.BASE.multiply(Or(n,e)).toBytes(r)}function u(e){if("bigint"==typeof e)return!1;if(e instanceof t)return!0;const{secretKey:r,publicKey:o,publicKeyUncompressed:s}=i;if(n.allowedLengths||r===o)return;const a=Pt("key",e).length;return a===o||a===s}const c={isValidSecretKey:o,isValidPublicKey:function(e,n){const{publicKey:r,publicKeyUncompressed:o}=i;try{const i=e.length;return!(!0===n&&i!==r||!1===n&&i!==o||!t.fromBytes(e))}catch(t){return!1}},randomSecretKey:s,isValidPrivateKey:o,randomPrivateKey:s,normPrivateKeyToScalar:t=>Or(n,t),precompute:(e=8,n=t.BASE)=>n.precompute(e,!1)};return Object.freeze({getPublicKey:a,getSharedSecret:function(e,r,i=!0){if(!0===u(e))throw new Error("first arg must be private key");if(!1===u(r))throw new Error("second arg must be public key");const o=Or(n,e);return t.fromHex(r).multiply(o).toBytes(i)},keygen:function(t){const e=s(t);return{secretKey:e,publicKey:a(e)}},Point:t,utils:c,lengths:i})}(t,n),p={prehash:!1,lowS:"boolean"==typeof n.lowS&&n.lowS,format:void 0,extraEntropy:!1},g="compact";function m(t){return t>a>>kr}function y(t,e){if(!s.isValidNot0(e))throw new Error(`invalid signature ${t}: out of range 1..Point.Fn.ORDER`);return e}class v{constructor(t,e,n){this.r=y("r",t),this.s=y("s",e),null!=n&&(this.recovery=n),Object.freeze(this)}static fromBytes(t,e=g){let n;if(function(t,e){br(e);const n=d.signature;kt(t,"compact"===e?n:"recovered"===e?n+1:void 0,`${e} signature`)}(t,e),"der"===e){const{r:e,s:n}=Ar.toSig(kt(t));return new v(e,n)}"recovered"===e&&(n=t[0],e="compact",t=t.subarray(1));const r=s.BYTES,i=t.subarray(0,r),o=t.subarray(r,2*r);return new v(s.fromBytes(i),s.fromBytes(o),n)}static fromHex(t,e){return this.fromBytes(N(t),e)}addRecoveryBit(t){return new v(this.r,this.s,t)}recoverPublicKey(e){const n=o.ORDER,{r,s:i,recovery:u}=this;if(null==u||![0,1,2,3].includes(u))throw new Error("recovery id invalid");if(a*Ir<n&&u>1)throw new Error("recovery id is ambiguous for h>1 curve");const c=2===u||3===u?r+a:r;if(!o.isValid(c))throw new Error("recovery id 2 or 3 invalid");const h=o.toBytes(c),f=t.fromBytes(z(Tr(!(1&u)),h)),l=s.inv(c),d=b(Pt("msgHash",e)),p=s.create(-d*l),g=s.create(i*l),m=t.BASE.multiplyUnsafe(p).add(f.multiplyUnsafe(g));if(m.is0())throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return m(this.s)}toBytes(t=g){if(br(t),"der"===t)return N(Ar.hexFromSig(this));const e=s.toBytes(this.r),n=s.toBytes(this.s);if("recovered"===t){if(null==this.recovery)throw new Error("recovery bit must be present");return z(Uint8Array.of(this.recovery),e,n)}return z(e,n)}toHex(t){return C(this.toBytes(t))}assertValidity(){}static fromCompact(t){return v.fromBytes(Pt("sig",t),"compact")}static fromDER(t){return v.fromBytes(Pt("sig",t),"der")}normalizeS(){return this.hasHighS()?new v(this.r,s.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return C(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return C(this.toBytes("compact"))}}const w=n.bits2int||function(t){if(t.length>8192)throw new Error("input is too large");const e=Mt(t),n=8*t.length-u;return n>0?e>>BigInt(n):e},b=n.bits2int_modN||function(t){return s.create(w(t))},E=Dt(u);function A(t){return $t("num < 2^"+u,t,xr,E),s.toBytes(t)}function k(t,n){return kt(t,void 0,"message"),n?kt(e(t),void 0,"prehashed message"):t}return Object.freeze({keygen:c,getPublicKey:h,getSharedSecret:f,utils:l,lengths:d,Point:t,sign:function(n,o,a={}){n=Pt("message",n);const{seed:u,k2sig:c}=function(e,n,i){if(["recovered","canonical"].some(t=>t in i))throw new Error("sign() legacy options not supported");const{lowS:o,prehash:a,extraEntropy:u}=_r(i,p);e=k(e,a);const c=b(e),h=Or(s,n),f=[A(h),A(c)];if(null!=u&&!1!==u){const t=!0===u?r(d.secretKey):u;f.push(Pt("extraEntropy",t))}const l=z(...f),g=c;return{seed:l,k2sig:function(e){const n=w(e);if(!s.isValidNot0(n))return;const r=s.inv(n),i=t.BASE.multiply(n).toAffine(),a=s.create(i.x);if(a===xr)return;const u=s.create(r*s.create(g+a*h));if(u===xr)return;let c=(i.x===a?0:2)|Number(i.y&kr),f=u;return o&&m(u)&&(f=s.neg(u),c^=1),new v(a,f,c)}}}(n,o,a),h=function(t,e,n){if("number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");const r=t=>new Uint8Array(t),i=t=>Uint8Array.of(t);let o=r(t),s=r(t),a=0;const u=()=>{o.fill(1),s.fill(0),a=0},c=(...t)=>n(s,o,...t),h=(t=r(0))=>{s=c(i(0),t),o=c(),0!==t.length&&(s=c(i(1),t),o=c())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let t=0;const n=[];for(;t<e;){o=c();const e=o.slice();n.push(e),t+=o.length}return z(...n)};return(t,e)=>{let n;for(u(),h(t);!(n=e(f()));)h();return u(),n}}(e.outputLen,s.BYTES,i);return h(u,c)},verify:function(e,n,r,i={}){const{lowS:o,prehash:a,format:u}=_r(i,p);if(r=Pt("publicKey",r),n=k(Pt("message",n),a),"strict"in i)throw new Error("options.strict was renamed to lowS");const c=void 0===u?function(t){let e;const n="string"==typeof t||_(t),r=!n&&null!==t&&"object"==typeof t&&"bigint"==typeof t.r&&"bigint"==typeof t.s;if(!n&&!r)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(r)e=new v(t.r,t.s);else if(n){try{e=v.fromBytes(Pt("sig",t),"der")}catch(t){if(!(t instanceof Ar.Err))throw t}if(!e)try{e=v.fromBytes(Pt("sig",t),"compact")}catch(t){return!1}}return e||!1}(e):v.fromBytes(Pt("sig",e),u);if(!1===c)return!1;try{const e=t.fromBytes(r);if(o&&c.hasHighS())return!1;const{r:i,s:a}=c,u=b(n),h=s.inv(a),f=s.create(u*h),l=s.create(i*h),d=t.BASE.multiplyUnsafe(f).add(e.multiplyUnsafe(l));return!d.is0()&&s.create(d.x)===i}catch(t){return!1}},recoverPublicKey:function(t,e,n={}){const{prehash:r}=_r(n,p);return e=k(e,r),v.fromBytes(t,"recovered").recoverPublicKey(e).toBytes()},Signature:v,hash:e})}function Rr(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=function(t){const{CURVE:e,curveOpts:n}=function(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(t=>Math.ceil(t/2)))):void 0;return{CURVE:e,curveOpts:{Fp:n,Fn:ce(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes}}}(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}(t);return function(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,ue(n.Fn.ORDER,n.Fn.BITS))})}(t,Pr(function(t,e={}){const n=Ie("weierstrass",t,e),{Fp:r,Fn:i}=n;let o=n.CURVE;const{h:s,n:a}=o;Lt(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:u}=e;if(u&&(!r.is0(o.a)||"bigint"!=typeof u.beta||!Array.isArray(u.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const c=Br(r,i);function h(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const f=e.toBytes||function(t,e,n){const{x:i,y:o}=e.toAffine(),s=r.toBytes(i);return xt(n,"isCompressed"),n?(h(),z(Tr(!r.isOdd(o)),s)):z(Uint8Array.of(4),s,r.toBytes(o))},l=e.fromBytes||function(t){kt(t,void 0,"Point");const{publicKey:e,publicKeyUncompressed:n}=c,i=t.length,o=t[0],s=t.subarray(1);if(i!==e||2!==o&&3!==o){if(i===n&&4===o){const t=r.BYTES,e=r.fromBytes(s.subarray(0,t)),n=r.fromBytes(s.subarray(t,2*t));if(!p(e,n))throw new Error("bad point: is not on curve");return{x:e,y:n}}throw new Error(`bad point: got length ${i}, expected compressed=${e} or uncompressed=${n}`)}{const t=r.fromBytes(s);if(!r.isValid(t))throw new Error("bad point: is not on curve, wrong x");const e=d(t);let n;try{n=r.sqrt(e)}catch(t){const e=t instanceof Error?": "+t.message:"";throw new Error("bad point: is not on curve, sqrt error"+e)}return h(),!(1&~o)!==r.isOdd(n)&&(n=r.neg(n)),{x:t,y:n}}};function d(t){const e=r.sqr(t),n=r.mul(e,t);return r.add(r.add(n,r.mul(t,o.a)),o.b)}function p(t,e){const n=r.sqr(e),i=d(t);return r.eql(n,i)}if(!p(o.Gx,o.Gy))throw new Error("bad curve params: generator point");const g=r.mul(r.pow(o.a,Sr),Mr),m=r.mul(r.sqr(o.b),BigInt(27));if(r.is0(r.add(g,m)))throw new Error("bad curve params: a or b");function y(t,e,n=!1){if(!r.isValid(e)||n&&r.is0(e))throw new Error(`bad point coordinate ${t}`);return e}function v(t){if(!(t instanceof A))throw new Error("ProjectivePoint expected")}function w(t){if(!u||!u.basises)throw new Error("no endo");return function(t,e,n){const[[r,i],[o,s]]=e,a=wr(s*t,n),u=wr(-i*t,n);let c=t-a*r-u*o,h=-a*i-u*s;const f=c<xr,l=h<xr;f&&(c=-c),l&&(h=-h);const d=Dt(Math.ceil(Nt(n)/2))+kr;if(c<xr||c>=d||h<xr||h>=d)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:f,k1:c,k2neg:l,k2:h}}(t,u.basises,i.ORDER)}const b=Ut((t,e)=>{const{X:n,Y:i,Z:o}=t;if(r.eql(o,r.ONE))return{x:n,y:i};const s=t.is0();null==e&&(e=s?r.ONE:r.inv(o));const a=r.mul(n,e),u=r.mul(i,e),c=r.mul(o,e);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:a,y:u}}),_=Ut(t=>{if(t.is0()){if(e.allowInfinityPoint&&!r.is0(t.Y))return;throw new Error("bad point: ZERO")}const{x:n,y:i}=t.toAffine();if(!r.isValid(n)||!r.isValid(i))throw new Error("bad point: x or y not field elements");if(!p(n,i))throw new Error("bad point: equation left != right");if(!t.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function E(t,e,n,i,o){return n=new A(r.mul(n.X,t),n.Y,n.Z),e=pe(i,e),n=pe(o,n),e.add(n)}class A{constructor(t,e,n){this.X=y("x",t),this.Y=y("y",e,!0),this.Z=y("z",n),Object.freeze(this)}static CURVE(){return o}static fromAffine(t){const{x:e,y:n}=t||{};if(!t||!r.isValid(e)||!r.isValid(n))throw new Error("invalid affine point");if(t instanceof A)throw new Error("projective point not allowed");return r.is0(e)&&r.is0(n)?A.ZERO:new A(e,n,r.ONE)}static fromBytes(t){const e=A.fromAffine(l(kt(t,void 0,"point")));return e.assertValidity(),e}static fromHex(t){return A.fromBytes(Pt("pointHex",t))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(t=8,e=!0){return k.createCache(this,t),e||this.multiply(Sr),this}assertValidity(){_(this)}hasEvenY(){const{y:t}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(t)}equals(t){v(t);const{X:e,Y:n,Z:i}=this,{X:o,Y:s,Z:a}=t,u=r.eql(r.mul(e,a),r.mul(o,i)),c=r.eql(r.mul(n,a),r.mul(s,i));return u&&c}negate(){return new A(this.X,r.neg(this.Y),this.Z)}double(){const{a:t,b:e}=o,n=r.mul(e,Sr),{X:i,Y:s,Z:a}=this;let u=r.ZERO,c=r.ZERO,h=r.ZERO,f=r.mul(i,i),l=r.mul(s,s),d=r.mul(a,a),p=r.mul(i,s);return p=r.add(p,p),h=r.mul(i,a),h=r.add(h,h),u=r.mul(t,h),c=r.mul(n,d),c=r.add(u,c),u=r.sub(l,c),c=r.add(l,c),c=r.mul(u,c),u=r.mul(p,u),h=r.mul(n,h),d=r.mul(t,d),p=r.sub(f,d),p=r.mul(t,p),p=r.add(p,h),h=r.add(f,f),f=r.add(h,f),f=r.add(f,d),f=r.mul(f,p),c=r.add(c,f),d=r.mul(s,a),d=r.add(d,d),f=r.mul(d,p),u=r.sub(u,f),h=r.mul(d,l),h=r.add(h,h),h=r.add(h,h),new A(u,c,h)}add(t){v(t);const{X:e,Y:n,Z:i}=this,{X:s,Y:a,Z:u}=t;let c=r.ZERO,h=r.ZERO,f=r.ZERO;const l=o.a,d=r.mul(o.b,Sr);let p=r.mul(e,s),g=r.mul(n,a),m=r.mul(i,u),y=r.add(e,n),w=r.add(s,a);y=r.mul(y,w),w=r.add(p,g),y=r.sub(y,w),w=r.add(e,i);let b=r.add(s,u);return w=r.mul(w,b),b=r.add(p,m),w=r.sub(w,b),b=r.add(n,i),c=r.add(a,u),b=r.mul(b,c),c=r.add(g,m),b=r.sub(b,c),f=r.mul(l,w),c=r.mul(d,m),f=r.add(c,f),c=r.sub(g,f),f=r.add(g,f),h=r.mul(c,f),g=r.add(p,p),g=r.add(g,p),m=r.mul(l,m),w=r.mul(d,w),g=r.add(g,m),m=r.sub(p,m),m=r.mul(l,m),w=r.add(w,m),p=r.mul(g,w),h=r.add(h,p),p=r.mul(b,w),c=r.mul(y,c),c=r.sub(c,p),p=r.mul(y,g),f=r.mul(b,f),f=r.add(f,p),new A(c,h,f)}subtract(t){return this.add(t.negate())}is0(){return this.equals(A.ZERO)}multiply(t){const{endo:n}=e;if(!i.isValidNot0(t))throw new Error("invalid scalar: out of range");let r,o;const s=t=>k.cached(this,t,t=>ge(A,t));if(n){const{k1neg:e,k1:i,k2neg:a,k2:u}=w(t),{p:c,f:h}=s(i),{p:f,f:l}=s(u);o=h.add(l),r=E(n.beta,c,f,e,a)}else{const{p:e,f:n}=s(t);r=e,o=n}return ge(A,[r,o])[0]}multiplyUnsafe(t){const{endo:n}=e,r=this;if(!i.isValid(t))throw new Error("invalid scalar: out of range");if(t===xr||r.is0())return A.ZERO;if(t===kr)return r;if(k.hasCache(this))return this.multiply(t);if(n){const{k1neg:e,k1:i,k2neg:o,k2:s}=w(t),{p1:a,p2:u}=function(t,e,n,r){let i=e,o=t.ZERO,s=t.ZERO;for(;n>le||r>le;)n&de&&(o=o.add(i)),r&de&&(s=s.add(i)),i=i.double(),n>>=de,r>>=de;return{p1:o,p2:s}}(A,r,i,s);return E(n.beta,a,u,e,o)}return k.unsafe(r,t)}multiplyAndAddUnsafe(t,e,n){const r=this.multiplyUnsafe(e).add(t.multiplyUnsafe(n));return r.is0()?void 0:r}toAffine(t){return b(this,t)}isTorsionFree(){const{isTorsionFree:t}=e;return s===kr||(t?t(A,this):k.unsafe(this,a).is0())}clearCofactor(){const{clearCofactor:t}=e;return s===kr?this:t?t(A,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(t=!0){return xt(t,"isCompressed"),this.assertValidity(),f(A,this,t)}toHex(t=!0){return C(this.toBytes(t))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(t=!0){return this.toBytes(t)}_setWindowSize(t){this.precompute(t)}static normalizeZ(t){return ge(A,t)}static msm(t,e){return xe(A,i,t,e)}static fromPrivateKey(t){return A.BASE.multiply(Or(i,t))}}A.BASE=new A(o.Gx,o.Gy,r.ONE),A.ZERO=new A(r.ZERO,r.ONE,r.ZERO),A.Fp=r,A.Fn=i;const x=i.BITS,k=new Ae(A,e.endo?Math.ceil(x/2):x);return A.BASE.precompute(8),A}(e,n),r,i))}const Cr={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},$r={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},Nr=BigInt(2),Dr=ce(Cr.p,{sqrt:function(t){const e=Cr.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),u=BigInt(88),c=t*t*t%e,h=c*c*t%e,f=Xt(h,n,e)*h%e,l=Xt(f,n,e)*h%e,d=Xt(l,Nr,e)*c%e,p=Xt(d,i,e)*d%e,g=Xt(p,o,e)*p%e,m=Xt(g,a,e)*g%e,y=Xt(m,u,e)*m%e,v=Xt(y,a,e)*g%e,w=Xt(v,n,e)*h%e,b=Xt(w,s,e)*p%e,_=Xt(b,r,e)*c%e,E=Xt(_,Nr,e);if(!Dr.eql(Dr.sqr(E),t))throw new Error("Cannot find square root");return E}}),Lr=function(t,e){const n=e=>Rr({...t,hash:e});return{...n(e),create:n}}({...Cr,Fp:Dr,lowS:!0,endo:$r},bt);Ve.utils.randomPrivateKey;const zr=()=>{const t=Ve.utils.randomPrivateKey(),e=Ur(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},Ur=Ve.getPublicKey;function jr(t){try{return Ve.ExtendedPoint.fromHex(t),!0}catch{return!1}}const Fr=(t,e)=>Ve.sign(t,e.slice(0,32)),Wr=Ve.verify,Hr=t=>w.Buffer.isBuffer(t)?t:t instanceof Uint8Array?w.Buffer.from(t.buffer,t.byteOffset,t.byteLength):w.Buffer.from(t);class Kr{constructor(t){Object.assign(this,t)}encode(){return w.Buffer.from((0,cn.serialize)(Vr,this))}static decode(t){return(0,cn.deserialize)(Vr,this,t)}static decodeUnchecked(t){return(0,cn.deserializeUnchecked)(Vr,this,t)}}const Vr=new Map;var qr;let Yr=1;class Zr extends Kr{constructor(t){if(super({}),this._bn=void 0,function(t){return void 0!==t._bn}(t))this._bn=t._bn;else{if("string"==typeof t){const e=an().decode(t);if(32!=e.length)throw new Error("Invalid public key input");this._bn=new(on())(e)}else this._bn=new(on())(t);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}static unique(){const t=new Zr(Yr);return Yr+=1,new Zr(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return an().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(w.Buffer);if(32===t.length)return t;const e=w.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,n){const r=w.Buffer.concat([t.toBuffer(),w.Buffer.from(e),n.toBuffer()]),i=un(r);return new Zr(i)}static createProgramAddressSync(t,e){let n=w.Buffer.alloc(0);t.forEach(function(t){if(t.length>32)throw new TypeError("Max seed length exceeded");n=w.Buffer.concat([n,Hr(t)])}),n=w.Buffer.concat([n,e.toBuffer(),w.Buffer.from("ProgramDerivedAddress")]);const r=un(n);if(jr(r))throw new Error("Invalid seeds, address must fall off the curve");return new Zr(r)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let n,r=255;for(;0!=r;){try{const i=t.concat(w.Buffer.from([r]));n=this.createProgramAddressSync(i,e)}catch(t){if(t instanceof TypeError)throw t;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){return jr(new Zr(t).toBytes())}}qr=Zr,Zr.default=new qr("11111111111111111111111111111111"),Vr.set(Zr,{kind:"struct",fields:[["_bn","u256"]]}),new Zr("BPFLoader1111111111111111111111111111111111");class Gr extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Gr.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Jr extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Jr.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Xr extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Xr.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Qr{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const e=new Map;this.keySegments().flat().forEach((t,n)=>{e.set(t.toBase58(),n)});const n=t=>{const n=e.get(t.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return t.map(t=>({programIdIndex:n(t.programId),accountKeyIndexes:t.keys.map(t=>n(t.pubkey)),data:t.data}))}}const ti=(t="publicKey")=>hn.av(32,t),ei=(t="string")=>{const e=hn.w3([hn.DH("length"),hn.DH("lengthPadding"),hn.av(hn.cY(hn.DH(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(t,e)=>n(t,e).chars.toString(),i.encode=(t,e,n)=>{const i={chars:w.Buffer.from(t,"utf8")};return r(i,e,n)},i.alloc=t=>hn.DH().span+hn.DH().span+w.Buffer.from(t,"utf8").length,i};function ni(t,e){const n=t=>{if(t.span>=0)return t.span;if("function"==typeof t.alloc)return t.alloc(e[t.property]);if("count"in t&&"elementLayout"in t){const r=e[t.property];if(Array.isArray(r))return r.length*n(t.elementLayout)}else if("fields"in t)return ni({layout:t},e[t.property]);return 0};let r=0;return t.layout.fields.forEach(t=>{r+=n(t)}),r}function ri(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(127&r)<<7*n,n+=1,!(128&r))break}return e}function ii(t,e){let n=e;for(;;){let e=127&n;if(n>>=7,0==n){t.push(e);break}e|=128,t.push(e)}}function oi(t,e){if(!t)throw new Error(e||"Assertion failed")}class si{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const n=new Map,r=t=>{const e=t.toBase58();let r=n.get(e);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(e,r)),r},i=r(e);i.isSigner=!0,i.isWritable=!0;for(const e of t){r(e.programId).isInvoked=!0;for(const t of e.keys){const e=r(t.pubkey);e.isSigner||=t.isSigner,e.isWritable||=t.isWritable}}return new si(e,n)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];oi(t.length<=256,"Max static account keys length exceeded");const e=t.filter(([,t])=>t.isSigner&&t.isWritable),n=t.filter(([,t])=>t.isSigner&&!t.isWritable),r=t.filter(([,t])=>!t.isSigner&&t.isWritable),i=t.filter(([,t])=>!t.isSigner&&!t.isWritable),o={numRequiredSignatures:e.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{oi(e.length>0,"Expected at least one writable signer key");const[t]=e[0];oi(t===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const s=[...e.map(([t])=>new Zr(t)),...n.map(([t])=>new Zr(t)),...r.map(([t])=>new Zr(t)),...i.map(([t])=>new Zr(t))];return[o,s]}extractTableLookup(t){const[e,n]=this.drainKeysFoundInLookupTable(t.state.addresses,t=>!t.isSigner&&!t.isInvoked&&t.isWritable),[r,i]=this.drainKeysFoundInLookupTable(t.state.addresses,t=>!t.isSigner&&!t.isInvoked&&!t.isWritable);if(0!==e.length||0!==r.length)return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:r},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(t,e){const n=new Array,r=new Array;for(const[i,o]of this.keyMetaMap.entries())if(e(o)){const e=new Zr(i),o=t.findIndex(t=>t.equals(e));o>=0&&(oi(o<256,"Max lookup table index exceeded"),n.push(o),r.push(e),this.keyMetaMap.delete(i))}return[n,r]}}const ai="Reached end of buffer unexpectedly";function ui(t){if(0===t.length)throw new Error(ai);return t.shift()}function ci(t,...e){const[n]=e;if(2===e.length?n+(e[1]??0)>t.length:n>=t.length)throw new Error(ai);return t.splice(...e)}class hi{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(t=>new Zr(t)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:an().decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Qr(this.staticAccountKeys)}static compile(t){const e=si.compile(t.instructions,t.payerKey),[n,r]=e.getMessageComponents(),i=new Qr(r).compileInstructions(t.instructions).map(t=>({programIdIndex:t.programIdIndex,accounts:t.accountKeyIndexes,data:an().encode(t.data)}));return new hi({header:n,accountKeys:r,recentBlockhash:t.recentBlockhash,instructions:i})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;return t>=this.header.numRequiredSignatures?t-e<this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts:t<e-this.header.numReadonlySignedAccounts}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){const t=this.accountKeys.length;let e=[];ii(e,t);const n=this.instructions.map(t=>{const{accounts:e,programIdIndex:n}=t,r=Array.from(an().decode(t.data));let i=[];ii(i,e.length);let o=[];return ii(o,r.length),{programIdIndex:n,keyIndicesCount:w.Buffer.from(i),keyIndices:e,dataLength:w.Buffer.from(o),data:r}});let r=[];ii(r,n.length);let i=w.Buffer.alloc(1232);w.Buffer.from(r).copy(i);let o=r.length;n.forEach(t=>{const e=hn.w3([hn.u8("programIdIndex"),hn.av(t.keyIndicesCount.length,"keyIndicesCount"),hn.O6(hn.u8("keyIndex"),t.keyIndices.length,"keyIndices"),hn.av(t.dataLength.length,"dataLength"),hn.O6(hn.u8("userdatum"),t.data.length,"data")]).encode(t,i,o);o+=e}),i=i.slice(0,o);const s=hn.w3([hn.av(1,"numRequiredSignatures"),hn.av(1,"numReadonlySignedAccounts"),hn.av(1,"numReadonlyUnsignedAccounts"),hn.av(e.length,"keyCount"),hn.O6(ti("key"),t,"keys"),ti("recentBlockhash")]),a={numRequiredSignatures:w.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:w.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:w.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:w.Buffer.from(e),keys:this.accountKeys.map(t=>Hr(t.toBytes())),recentBlockhash:an().decode(this.recentBlockhash)};let u=w.Buffer.alloc(2048);const c=s.encode(a,u);return i.copy(u,c),u.slice(0,c+i.length)}static from(t){let e=[...t];const n=ui(e);if(n!==(127&n))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const r=ui(e),i=ui(e),o=ri(e);let s=[];for(let t=0;t<o;t++){const t=ci(e,0,32);s.push(new Zr(w.Buffer.from(t)))}const a=ci(e,0,32),u=ri(e);let c=[];for(let t=0;t<u;t++){const t=ui(e),n=ci(e,0,ri(e)),r=ci(e,0,ri(e)),i=an().encode(w.Buffer.from(r));c.push({programIdIndex:t,accounts:n,data:i})}const h={header:{numRequiredSignatures:n,numReadonlySignedAccounts:r,numReadonlyUnsignedAccounts:i},recentBlockhash:an().encode(w.Buffer.from(a)),accountKeys:s,instructions:c};return new hi(h)}}const fi=w.Buffer.alloc(64).fill(0);class li{constructor(t){this.keys=void 0,this.programId=void 0,this.data=w.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:n})=>({pubkey:t.toJSON(),isSigner:e,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class di{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:n}=t;this.minNonceContextSlot=e,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:n}=t;this.recentBlockhash=e,this.lastValidBlockHeight=n}else{const{recentBlockhash:e,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(0===t.length)throw new Error("No instructions");return t.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new li(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,e=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");if(e.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let t=0;t<e.length;t++)if(void 0===e[t].programId)throw new Error(`Transaction instruction index ${t} has undefined program id`);const r=[],i=[];e.forEach(t=>{t.keys.forEach(t=>{i.push({...t})});const e=t.programId.toString();r.includes(e)||r.push(e)}),r.forEach(t=>{i.push({pubkey:new Zr(t),isSigner:!1,isWritable:!1})});const o=[];i.forEach(t=>{const e=t.pubkey.toString(),n=o.findIndex(t=>t.pubkey.toString()===e);n>-1?(o[n].isWritable=o[n].isWritable||t.isWritable,o[n].isSigner=o[n].isSigner||t.isSigner):o.push(t)}),o.sort(function(t,e){return t.isSigner!==e.isSigner?t.isSigner?-1:1:t.isWritable!==e.isWritable?t.isWritable?-1:1:t.pubkey.toBase58().localeCompare(e.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})});const s=o.findIndex(t=>t.pubkey.equals(n));if(s>-1){const[t]=o.splice(s,1);t.isSigner=!0,t.isWritable=!0,o.unshift(t)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const t of this.signatures){const e=o.findIndex(e=>e.pubkey.equals(t.publicKey));if(!(e>-1))throw new Error(`unknown signer: ${t.publicKey.toString()}`);o[e].isSigner||(o[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,u=0,c=0;const h=[],f=[];o.forEach(({pubkey:t,isSigner:e,isWritable:n})=>{e?(h.push(t.toString()),a+=1,n||(u+=1)):(f.push(t.toString()),n||(c+=1))});const l=h.concat(f),d=e.map(t=>{const{data:e,programId:n}=t;return{programIdIndex:l.indexOf(n.toString()),accounts:t.keys.map(t=>l.indexOf(t.pubkey.toString())),data:an().encode(e)}});return d.forEach(t=>{oi(t.programIdIndex>=0),t.accounts.forEach(t=>oi(t>=0))}),new hi({header:{numRequiredSignatures:a,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:c},accountKeys:l,recentBlockhash:t,instructions:d})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((t,n)=>e[n].equals(t.publicKey))||(this.signatures=e.map(t=>({signature:null,publicKey:t}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(0===t.length)throw new Error("No signers");const e=new Set;this.signatures=t.filter(t=>{const n=t.toString();return!e.has(n)&&(e.add(n),!0)}).map(t=>({signature:null,publicKey:t}))}sign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,n=[];for(const r of t){const t=r.publicKey.toString();e.has(t)||(e.add(t),n.push(r))}this.signatures=n.map(t=>({signature:null,publicKey:t.publicKey}));const r=this._compile();this._partialSign(r,...n)}partialSign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,n=[];for(const r of t){const t=r.publicKey.toString();e.has(t)||(e.add(t),n.push(r))}const r=this._compile();this._partialSign(r,...n)}_partialSign(t,...e){const n=t.serialize();e.forEach(t=>{const e=Fr(n,t.secretKey);this._addSignature(t.publicKey,Hr(e))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){oi(64===e.length);const n=this.signatures.findIndex(e=>t.equals(e.publicKey));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=w.Buffer.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){const n={};for(const{signature:r,publicKey:i}of this.signatures)null===r?e&&(n.missing||=[]).push(i):Wr(r,t,i.toBytes())||(n.invalid||=[]).push(i);return n.invalid||n.missing?n:void 0}serialize(t){const{requireAllSignatures:e,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),r=this.serializeMessage();if(n){const t=this._getMessageSignednessErrors(r,e);if(t){let e="Signature verification failed.";throw t.invalid&&(e+=`\nInvalid signature for public key${1===t.invalid.length?"":"(s)"} [\`${t.invalid.map(t=>t.toBase58()).join("`, `")}\`].`),t.missing&&(e+=`\nMissing signature for public key${1===t.missing.length?"":"(s)"} [\`${t.missing.map(t=>t.toBase58()).join("`, `")}\`].`),new Error(e)}}return this._serialize(r)}_serialize(t){const{signatures:e}=this,n=[];ii(n,e.length);const r=n.length+64*e.length+t.length,i=w.Buffer.alloc(r);return oi(e.length<256),w.Buffer.from(n).copy(i,0),e.forEach(({signature:t},e)=>{null!==t&&(oi(64===t.length,"signature has invalid length"),w.Buffer.from(t).copy(i,n.length+64*e))}),t.copy(i,n.length+64*e.length),oi(i.length<=1232,`Transaction too large: ${i.length} > 1232`),i}get keys(){return oi(1===this.instructions.length),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return oi(1===this.instructions.length),this.instructions[0].programId}get data(){return oi(1===this.instructions.length),this.instructions[0].data}static from(t){let e=[...t];const n=ri(e);let r=[];for(let t=0;t<n;t++){const t=ci(e,0,64);r.push(an().encode(w.Buffer.from(t)))}return di.populate(hi.from(e),r)}static populate(t,e=[]){const n=new di;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),e.forEach((e,r)=>{const i={signature:e==an().encode(fi)?null:an().decode(e),publicKey:t.accountKeys[r]};n.signatures.push(i)}),t.instructions.forEach(e=>{const r=e.accounts.map(e=>{const r=t.accountKeys[e];return{pubkey:r,isSigner:n.signatures.some(t=>t.publicKey.toString()===r.toString())||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}});n.instructions.push(new li({keys:r,programId:t.accountKeys[e.programIdIndex],data:an().decode(e.data)}))}),n._message=t,n._json=n.toJSON(),n}}const pi=new Zr("SysvarC1ock11111111111111111111111111111111"),gi=(new Zr("SysvarEpochSchedu1e111111111111111111111111"),new Zr("Sysvar1nstructions1111111111111111111111111"),new Zr("SysvarRecentB1ockHashes11111111111111111111")),mi=new Zr("SysvarRent111111111111111111111111111111111"),yi=(new Zr("SysvarRewards111111111111111111111111111111"),new Zr("SysvarS1otHashes111111111111111111111111111"),new Zr("SysvarS1otHistory11111111111111111111111111"),new Zr("SysvarStakeHistory1111111111111111111111111"));class vi extends Error{constructor({action:t,signature:e,transactionMessage:n,logs:r}){const i=r?`Logs: \n${JSON.stringify(r.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let s;switch(t){case"send":s=`Transaction ${e} resulted in an error. \n${n}. `+i+o;break;case"simulate":s=`Simulation failed. \nMessage: ${n}. \n`+i+o;break;default:s=`Unknown action '${t}'`}super(s),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=e,this.transactionMessage=n,this.transactionLogs=r||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(null==t||"object"!=typeof t||!("then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((e,n)=>{t.getTransaction(this.signature).then(t=>{if(t&&t.meta&&t.meta.logMessages){const n=t.meta.logMessages;this.transactionLogs=n,e(n)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}}async function wi(t,e,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},o=await t.sendTransaction(e,n,i);let s;if(null!=e.recentBlockhash&&null!=e.lastValidBlockHeight)s=(await t.confirmTransaction({abortSignal:r?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(null!=e.minNonceContextSlot&&null!=e.nonceInfo){const{nonceInstruction:n}=e.nonceInfo,i=n.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:r?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:e.nonceInfo.nonce,signature:o},r&&r.commitment)).value}else null!=r?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,r&&r.commitment)).value;if(s.err){if(null!=o)throw new vi({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(s)})`});throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`)}return o}function bi(t){return new Promise(e=>setTimeout(e,t))}function _i(t,e){const n=t.layout.span>=0?t.layout.span:ni(t,e),r=w.Buffer.alloc(n),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,r),r}Error;const Ei=hn.I0("lamportsPerSignature"),Ai=hn.w3([hn.DH("version"),hn.DH("state"),ti("authorizedPubkey"),ti("nonce"),hn.w3([Ei],"feeCalculator")]).span;function xi(t){const e=(0,hn.av)(8,t),n=e.decode.bind(e),r=e.encode.bind(e),i=e,o=Mn();return i.decode=(t,e)=>{const r=n(t,e);return o.decode(r)},i.encode=(t,e,n)=>{const i=o.encode(t);return r(i,e,n)},i}const ki=Object.freeze({Create:{index:0,layout:hn.w3([hn.DH("instruction"),hn.Wg("lamports"),hn.Wg("space"),ti("programId")])},Assign:{index:1,layout:hn.w3([hn.DH("instruction"),ti("programId")])},Transfer:{index:2,layout:hn.w3([hn.DH("instruction"),xi("lamports")])},CreateWithSeed:{index:3,layout:hn.w3([hn.DH("instruction"),ti("base"),ei("seed"),hn.Wg("lamports"),hn.Wg("space"),ti("programId")])},AdvanceNonceAccount:{index:4,layout:hn.w3([hn.DH("instruction")])},WithdrawNonceAccount:{index:5,layout:hn.w3([hn.DH("instruction"),hn.Wg("lamports")])},InitializeNonceAccount:{index:6,layout:hn.w3([hn.DH("instruction"),ti("authorized")])},AuthorizeNonceAccount:{index:7,layout:hn.w3([hn.DH("instruction"),ti("authorized")])},Allocate:{index:8,layout:hn.w3([hn.DH("instruction"),hn.Wg("space")])},AllocateWithSeed:{index:9,layout:hn.w3([hn.DH("instruction"),ti("base"),ei("seed"),hn.Wg("space"),ti("programId")])},AssignWithSeed:{index:10,layout:hn.w3([hn.DH("instruction"),ti("base"),ei("seed"),ti("programId")])},TransferWithSeed:{index:11,layout:hn.w3([hn.DH("instruction"),xi("lamports"),ei("seed"),ti("programId")])},UpgradeNonceAccount:{index:12,layout:hn.w3([hn.DH("instruction")])}});class Ii{constructor(){}static createAccount(t){const e=_i(ki.Create,{lamports:t.lamports,space:t.space,programId:Hr(t.programId.toBuffer())});return new li({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:e})}static transfer(t){let e,n;return"basePubkey"in t?(e=_i(ki.TransferWithSeed,{lamports:BigInt(t.lamports),seed:t.seed,programId:Hr(t.programId.toBuffer())}),n=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]):(e=_i(ki.Transfer,{lamports:BigInt(t.lamports)}),n=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]),new li({keys:n,programId:this.programId,data:e})}static assign(t){let e,n;return"basePubkey"in t?(e=_i(ki.AssignWithSeed,{base:Hr(t.basePubkey.toBuffer()),seed:t.seed,programId:Hr(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]):(e=_i(ki.Assign,{programId:Hr(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]),new li({keys:n,programId:this.programId,data:e})}static createAccountWithSeed(t){const e=_i(ki.CreateWithSeed,{base:Hr(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:Hr(t.programId.toBuffer())});let n=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey.equals(t.fromPubkey)||n.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new li({keys:n,programId:this.programId,data:e})}static createNonceAccount(t){const e=new di;"basePubkey"in t&&"seed"in t?e.add(Ii.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:Ai,programId:this.programId})):e.add(Ii.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:Ai,programId:this.programId}));const n={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(n)),e}static nonceInitialize(t){const e=_i(ki.InitializeNonceAccount,{authorized:Hr(t.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:gi,isSigner:!1,isWritable:!1},{pubkey:mi,isSigner:!1,isWritable:!1}],programId:this.programId,data:e};return new li(n)}static nonceAdvance(t){const e=_i(ki.AdvanceNonceAccount),n={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:gi,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e};return new li(n)}static nonceWithdraw(t){const e=_i(ki.WithdrawNonceAccount,{lamports:t.lamports});return new li({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:gi,isSigner:!1,isWritable:!1},{pubkey:mi,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static nonceAuthorize(t){const e=_i(ki.AuthorizeNonceAccount,{authorized:Hr(t.newAuthorizedPubkey.toBuffer())});return new li({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static allocate(t){let e,n;return"basePubkey"in t?(e=_i(ki.AllocateWithSeed,{base:Hr(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:Hr(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]):(e=_i(ki.Allocate,{space:t.space}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]),new li({keys:n,programId:this.programId,data:e})}}Ii.programId=new Zr("11111111111111111111111111111111");class Si{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/Si.chunkSize)+1+1)}static async load(t,e,n,r,i){{const o=await t.getMinimumBalanceForRentExemption(i.length),s=await t.getAccountInfo(n.publicKey,"confirmed");let a=null;if(null!==s){if(s.executable)return console.error("Program load failed, account is already executable"),!1;s.data.length!==i.length&&(a=a||new di,a.add(Ii.allocate({accountPubkey:n.publicKey,space:i.length}))),s.owner.equals(r)||(a=a||new di,a.add(Ii.assign({accountPubkey:n.publicKey,programId:r}))),s.lamports<o&&(a=a||new di,a.add(Ii.transfer({fromPubkey:e.publicKey,toPubkey:n.publicKey,lamports:o-s.lamports})))}else a=(new di).add(Ii.createAccount({fromPubkey:e.publicKey,newAccountPubkey:n.publicKey,lamports:o>0?o:1,space:i.length,programId:r}));null!==a&&await wi(t,a,[e,n],{commitment:"confirmed"})}const o=hn.w3([hn.DH("instruction"),hn.DH("offset"),hn.DH("bytesLength"),hn.DH("bytesLengthPadding"),hn.O6(hn.u8("byte"),hn.cY(hn.DH(),-8),"bytes")]),s=Si.chunkSize;let a=0,u=i,c=[];for(;u.length>0;){const i=u.slice(0,s),h=w.Buffer.alloc(s+16);o.encode({instruction:0,offset:a,bytes:i,bytesLength:0,bytesLengthPadding:0},h);const f=(new di).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:r,data:h});if(c.push(wi(t,f,[e,n],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")){const t=4;await bi(1e3/t)}a+=s,u=u.slice(s)}await Promise.all(c);{const i=hn.w3([hn.DH("instruction")]),o=w.Buffer.alloc(i.span);i.encode({instruction:1},o);const s=(new di).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:mi,isSigner:!1,isWritable:!1}],programId:r,data:o}),a="processed",u=await t.sendTransaction(s,[e,n],{preflightCommitment:a}),{context:c,value:h}=await t.confirmTransaction({signature:u,lastValidBlockHeight:s.lastValidBlockHeight,blockhash:s.recentBlockhash},a);if(h.err)throw new Error(`Transaction ${u} failed (${JSON.stringify(h)})`);for(;;){try{if(await t.getSlot({commitment:a})>c.slot)break}catch{}await new Promise(t=>setTimeout(t,Math.round(200)))}}return!0}}Si.chunkSize=932,new Zr("BPFLoader2111111111111111111111111111111111"),globalThis.fetch,hn.w3([hn.DH("typeIndex"),xi("deactivationSlot"),hn.I0("lastExtendedSlot"),hn.u8("lastExtendedStartIndex"),hn.u8(),hn.O6(ti(),hn.cY(hn.u8(),-1),"authority")]);const Mi=tr(Wn(Zr),Zn(),t=>new Zr(t)),Oi=Gn([Zn(),Hn("base64")]),Ti=tr(Wn(w.Buffer),Oi,t=>w.Buffer.from(t[0],"base64"));function Bi(t){return Xn([Jn({jsonrpc:Hn("2.0"),id:Zn(),result:t}),Jn({jsonrpc:Hn("2.0"),id:Zn(),error:Jn({code:Qn(),message:Zn(),data:qn(Un("any",()=>!0))})})])}const Pi=Bi(Qn());function Ri(t){return tr(Bi(t),Pi,e=>"error"in e?e:{...e,result:Dn(e.result,t)})}function Ci(t){return Ri(Jn({context:Jn({slot:Vn()}),value:t}))}function $i(t){return Jn({context:Jn({slot:Vn()}),value:t})}const Ni=Jn({foundation:Vn(),foundationTerm:Vn(),initial:Vn(),taper:Vn(),terminal:Vn()}),Di=(Ri(jn(Kn(Jn({epoch:Vn(),effectiveSlot:Vn(),amount:Vn(),postBalance:Vn(),commission:qn(Kn(Vn()))})))),jn(Jn({slot:Vn(),prioritizationFee:Vn()}))),Li=Jn({total:Vn(),validator:Vn(),foundation:Vn(),epoch:Vn()}),zi=Jn({epoch:Vn(),slotIndex:Vn(),slotsInEpoch:Vn(),absoluteSlot:Vn(),blockHeight:qn(Vn()),transactionCount:qn(Vn())}),Ui=Jn({slotsPerEpoch:Vn(),leaderScheduleSlotOffset:Vn(),warmup:Fn(),firstNormalEpoch:Vn(),firstNormalSlot:Vn()}),ji=Yn(Zn(),jn(Vn())),Fi=Kn(Xn([Jn({}),Zn()])),Wi=Jn({err:Fi}),Hi=Hn("receivedSignature"),Ki=(Jn({"solana-core":Zn(),"feature-set":qn(Vn())}),Jn({program:Zn(),programId:Mi,parsed:Qn()})),Vi=Jn({programId:Mi,accounts:jn(Mi),data:Zn()});Ci(Jn({err:Kn(Xn([Jn({}),Zn()])),logs:Kn(jn(Zn())),accounts:qn(Kn(jn(Kn(Jn({executable:Fn(),owner:Zn(),lamports:Vn(),data:jn(Zn()),rentEpoch:qn(Vn())}))))),unitsConsumed:qn(Vn()),returnData:qn(Kn(Jn({programId:Zn(),data:Gn([Zn(),Hn("base64")])}))),innerInstructions:qn(Kn(jn(Jn({index:Vn(),instructions:jn(Xn([Ki,Vi]))}))))})),Ci(Jn({byIdentity:Yn(Zn(),jn(Vn())),range:Jn({firstSlot:Vn(),lastSlot:Vn()})})),Ri(Ni),Ri(Li),Ri(Di),Ri(zi),Ri(Ui),Ri(ji),Ri(Vn()),Ci(Jn({total:Vn(),circulating:Vn(),nonCirculating:Vn(),nonCirculatingAccounts:jn(Mi)}));const qi=Jn({amount:Zn(),uiAmount:Kn(Vn()),decimals:Vn(),uiAmountString:qn(Zn())}),Yi=(Ci(jn(Jn({address:Mi,amount:Zn(),uiAmount:Kn(Vn()),decimals:Vn(),uiAmountString:qn(Zn())}))),Ci(jn(Jn({pubkey:Mi,account:Jn({executable:Fn(),owner:Mi,lamports:Vn(),data:Ti,rentEpoch:Vn()})}))),Jn({program:Zn(),parsed:Qn(),space:Vn()})),Zi=(Ci(jn(Jn({pubkey:Mi,account:Jn({executable:Fn(),owner:Mi,lamports:Vn(),data:Yi,rentEpoch:Vn()})}))),Ci(jn(Jn({lamports:Vn(),address:Mi}))),Jn({executable:Fn(),owner:Mi,lamports:Vn(),data:Ti,rentEpoch:Vn()})),Gi=(Jn({pubkey:Mi,account:Zi}),tr(Xn([Wn(w.Buffer),Yi]),Xn([Oi,Yi]),t=>Array.isArray(t)?Dn(t,Ti):t)),Ji=Jn({executable:Fn(),owner:Mi,lamports:Vn(),data:Gi,rentEpoch:Vn()}),Xi=(Jn({pubkey:Mi,account:Ji}),Jn({state:Xn([Hn("active"),Hn("inactive"),Hn("activating"),Hn("deactivating")]),active:Vn(),inactive:Vn()}),Ri(jn(Jn({signature:Zn(),slot:Vn(),err:Fi,memo:Kn(Zn()),blockTime:qn(Kn(Vn()))}))),Ri(jn(Jn({signature:Zn(),slot:Vn(),err:Fi,memo:Kn(Zn()),blockTime:qn(Kn(Vn()))}))),Jn({subscription:Vn(),result:$i(Zi)}),Jn({pubkey:Mi,account:Zi})),Qi=(Jn({subscription:Vn(),result:$i(Xi)}),Jn({parent:Vn(),slot:Vn(),root:Vn()})),to=(Jn({subscription:Vn(),result:Qi}),Xn([Jn({type:Xn([Hn("firstShredReceived"),Hn("completed"),Hn("optimisticConfirmation"),Hn("root")]),slot:Vn(),timestamp:Vn()}),Jn({type:Hn("createdBank"),parent:Vn(),slot:Vn(),timestamp:Vn()}),Jn({type:Hn("frozen"),slot:Vn(),timestamp:Vn(),stats:Jn({numTransactionEntries:Vn(),numSuccessfulTransactions:Vn(),numFailedTransactions:Vn(),maxTransactionsPerEntry:Vn()})}),Jn({type:Hn("dead"),slot:Vn(),timestamp:Vn(),err:Zn()})])),eo=(Jn({subscription:Vn(),result:to}),Jn({subscription:Vn(),result:$i(Xn([Wi,Hi]))}),Jn({subscription:Vn(),result:Vn()}),Jn({pubkey:Zn(),gossip:Kn(Zn()),tpu:Kn(Zn()),rpc:Kn(Zn()),version:Kn(Zn())}),Jn({votePubkey:Zn(),nodePubkey:Zn(),activatedStake:Vn(),epochVoteAccount:Fn(),epochCredits:jn(Gn([Vn(),Vn(),Vn()])),commission:Vn(),lastVote:Vn(),rootSlot:Kn(Vn())})),no=(Ri(Jn({current:jn(eo),delinquent:jn(eo)})),Xn([Hn("processed"),Hn("confirmed"),Hn("finalized")])),ro=Jn({slot:Vn(),confirmations:Kn(Vn()),err:Fi,confirmationStatus:qn(no)}),io=(Ci(jn(Kn(ro))),Ri(Vn()),Jn({accountKey:Mi,writableIndexes:jn(Vn()),readonlyIndexes:jn(Vn())})),oo=Jn({signatures:jn(Zn()),message:Jn({accountKeys:jn(Zn()),header:Jn({numRequiredSignatures:Vn(),numReadonlySignedAccounts:Vn(),numReadonlyUnsignedAccounts:Vn()}),instructions:jn(Jn({accounts:jn(Vn()),data:Zn(),programIdIndex:Vn()})),recentBlockhash:Zn(),addressTableLookups:qn(jn(io))})}),so=Jn({pubkey:Mi,signer:Fn(),writable:Fn(),source:qn(Xn([Hn("transaction"),Hn("lookupTable")]))}),ao=Jn({accountKeys:jn(so),signatures:jn(Zn())}),uo=Jn({parsed:Qn(),program:Zn(),programId:Mi}),co=Jn({accounts:jn(Mi),data:Zn(),programId:Mi}),ho=tr(Xn([co,uo]),Xn([Jn({parsed:Qn(),program:Zn(),programId:Zn()}),Jn({accounts:jn(Zn()),data:Zn(),programId:Zn()})]),t=>Dn(t,"accounts"in t?co:uo)),fo=Jn({signatures:jn(Zn()),message:Jn({accountKeys:jn(so),instructions:jn(ho),recentBlockhash:Zn(),addressTableLookups:qn(Kn(jn(io)))})}),lo=Jn({accountIndex:Vn(),mint:Zn(),owner:qn(Zn()),programId:qn(Zn()),uiTokenAmount:qi}),po=Jn({writable:jn(Mi),readonly:jn(Mi)}),go=Jn({err:Fi,fee:Vn(),innerInstructions:qn(Kn(jn(Jn({index:Vn(),instructions:jn(Jn({accounts:jn(Vn()),data:Zn(),programIdIndex:Vn()}))})))),preBalances:jn(Vn()),postBalances:jn(Vn()),logMessages:qn(Kn(jn(Zn()))),preTokenBalances:qn(Kn(jn(lo))),postTokenBalances:qn(Kn(jn(lo))),loadedAddresses:qn(po),computeUnitsConsumed:qn(Vn())}),mo=Jn({err:Fi,fee:Vn(),innerInstructions:qn(Kn(jn(Jn({index:Vn(),instructions:jn(ho)})))),preBalances:jn(Vn()),postBalances:jn(Vn()),logMessages:qn(Kn(jn(Zn()))),preTokenBalances:qn(Kn(jn(lo))),postTokenBalances:qn(Kn(jn(lo))),loadedAddresses:qn(po),computeUnitsConsumed:qn(Vn())}),yo=Xn([Hn(0),Hn("legacy")]),vo=Jn({pubkey:Zn(),lamports:Vn(),postBalance:Kn(Vn()),rewardType:Kn(Zn()),commission:qn(Kn(Vn()))}),wo=(Ri(Kn(Jn({blockhash:Zn(),previousBlockhash:Zn(),parentSlot:Vn(),transactions:jn(Jn({transaction:oo,meta:Kn(go),version:qn(yo)})),rewards:qn(jn(vo)),blockTime:Kn(Vn()),blockHeight:Kn(Vn())}))),Ri(Kn(Jn({blockhash:Zn(),previousBlockhash:Zn(),parentSlot:Vn(),rewards:qn(jn(vo)),blockTime:Kn(Vn()),blockHeight:Kn(Vn())}))),Ri(Kn(Jn({blockhash:Zn(),previousBlockhash:Zn(),parentSlot:Vn(),transactions:jn(Jn({transaction:ao,meta:Kn(go),version:qn(yo)})),rewards:qn(jn(vo)),blockTime:Kn(Vn()),blockHeight:Kn(Vn())}))),Ri(Kn(Jn({blockhash:Zn(),previousBlockhash:Zn(),parentSlot:Vn(),transactions:jn(Jn({transaction:fo,meta:Kn(mo),version:qn(yo)})),rewards:qn(jn(vo)),blockTime:Kn(Vn()),blockHeight:Kn(Vn())}))),Ri(Kn(Jn({blockhash:Zn(),previousBlockhash:Zn(),parentSlot:Vn(),transactions:jn(Jn({transaction:ao,meta:Kn(mo),version:qn(yo)})),rewards:qn(jn(vo)),blockTime:Kn(Vn()),blockHeight:Kn(Vn())}))),Ri(Kn(Jn({blockhash:Zn(),previousBlockhash:Zn(),parentSlot:Vn(),rewards:qn(jn(vo)),blockTime:Kn(Vn()),blockHeight:Kn(Vn())}))),Ri(Kn(Jn({blockhash:Zn(),previousBlockhash:Zn(),parentSlot:Vn(),transactions:jn(Jn({transaction:oo,meta:Kn(go)})),rewards:qn(jn(vo)),blockTime:Kn(Vn())}))),Ri(Kn(Jn({blockhash:Zn(),previousBlockhash:Zn(),parentSlot:Vn(),signatures:jn(Zn()),blockTime:Kn(Vn())}))),Ri(Kn(Jn({slot:Vn(),meta:Kn(go),blockTime:qn(Kn(Vn())),transaction:oo,version:qn(yo)}))),Ri(Kn(Jn({slot:Vn(),transaction:fo,meta:Kn(mo),blockTime:qn(Kn(Vn())),version:qn(yo)}))),Ci(Jn({blockhash:Zn(),lastValidBlockHeight:Vn()})),Ci(Fn()),Ri(jn(Jn({slot:Vn(),numTransactions:Vn(),numSlots:Vn(),samplePeriodSecs:Vn()}))),Ci(Kn(Jn({feeCalculator:Jn({lamportsPerSignature:Vn()})}))),Ri(Zn()),Ri(Zn()),Jn({err:Fi,logs:jn(Zn()),signature:Zn()}));Jn({result:$i(wo),subscription:Vn()});class bo{constructor(t){this._keypair=void 0,this._keypair=t??zr()}static generate(){return new bo(zr())}static fromSecretKey(t,e){if(64!==t.byteLength)throw new Error("bad secret key size");const n=t.slice(32,64);if(!e||!e.skipValidation){const e=t.slice(0,32),r=Ur(e);for(let t=0;t<32;t++)if(n[t]!==r[t])throw new Error("provided secretKey is invalid")}return new bo({publicKey:n,secretKey:t})}static fromSeed(t){const e=Ur(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),new bo({publicKey:e,secretKey:n})}get publicKey(){return new Zr(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:hn.w3([hn.DH("instruction"),xi("recentSlot"),hn.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:hn.w3([hn.DH("instruction")])},ExtendLookupTable:{index:2,layout:hn.w3([hn.DH("instruction"),xi(),hn.O6(ti(),hn.cY(hn.DH(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:hn.w3([hn.DH("instruction")])},CloseLookupTable:{index:4,layout:hn.w3([hn.DH("instruction")])}});new Zr("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:hn.w3([hn.u8("instruction"),hn.DH("units"),hn.DH("additionalFee")])},RequestHeapFrame:{index:1,layout:hn.w3([hn.u8("instruction"),hn.DH("bytes")])},SetComputeUnitLimit:{index:2,layout:hn.w3([hn.u8("instruction"),hn.DH("units")])},SetComputeUnitPrice:{index:3,layout:hn.w3([hn.u8("instruction"),xi("microLamports")])}});new Zr("ComputeBudget111111111111111111111111111111");const _o=hn.w3([hn.u8("numSignatures"),hn.u8("padding"),hn.NX("signatureOffset"),hn.NX("signatureInstructionIndex"),hn.NX("publicKeyOffset"),hn.NX("publicKeyInstructionIndex"),hn.NX("messageDataOffset"),hn.NX("messageDataSize"),hn.NX("messageInstructionIndex")]);class Eo{constructor(){}static createInstructionWithPublicKey(t){const{publicKey:e,message:n,signature:r,instructionIndex:i}=t;oi(32===e.length,`Public Key must be 32 bytes but received ${e.length} bytes`),oi(64===r.length,`Signature must be 64 bytes but received ${r.length} bytes`);const o=_o.span,s=o+e.length,a=s+r.length,u=w.Buffer.alloc(a+n.length),c=null==i?65535:i;return _o.encode({numSignatures:1,padding:0,signatureOffset:s,signatureInstructionIndex:c,publicKeyOffset:o,publicKeyInstructionIndex:c,messageDataOffset:a,messageDataSize:n.length,messageInstructionIndex:c},u),u.fill(e,o),u.fill(r,s),u.fill(n,a),new li({keys:[],programId:Eo.programId,data:u})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:n,instructionIndex:r}=t;oi(64===e.length,`Private key must be 64 bytes but received ${e.length} bytes`);try{const t=bo.fromSecretKey(e),i=t.publicKey.toBytes(),o=Fr(n,t.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:o,instructionIndex:r})}catch(t){throw new Error(`Error creating instruction; ${t}`)}}}Eo.programId=new Zr("Ed25519SigVerify111111111111111111111111111"),Lr.utils.isValidPrivateKey;const Ao=Lr.getPublicKey,xo=hn.w3([hn.u8("numSignatures"),hn.NX("signatureOffset"),hn.u8("signatureInstructionIndex"),hn.NX("ethAddressOffset"),hn.u8("ethAddressInstructionIndex"),hn.NX("messageDataOffset"),hn.NX("messageDataSize"),hn.u8("messageInstructionIndex"),hn.av(20,"ethAddress"),hn.av(64,"signature"),hn.u8("recoveryId")]);class ko{constructor(){}static publicKeyToEthAddress(t){oi(64===t.length,`Public key must be 64 bytes but received ${t.length} bytes`);try{return w.Buffer.from(mr(Hr(t))).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(t){const{publicKey:e,message:n,signature:r,recoveryId:i,instructionIndex:o}=t;return ko.createInstructionWithEthAddress({ethAddress:ko.publicKeyToEthAddress(e),message:n,signature:r,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(t){const{ethAddress:e,message:n,signature:r,recoveryId:i,instructionIndex:o=0}=t;let s;s="string"==typeof e?e.startsWith("0x")?w.Buffer.from(e.substr(2),"hex"):w.Buffer.from(e,"hex"):e,oi(20===s.length,`Address must be 20 bytes but received ${s.length} bytes`);const a=12+s.length,u=a+r.length+1,c=w.Buffer.alloc(xo.span+n.length);return xo.encode({numSignatures:1,signatureOffset:a,signatureInstructionIndex:o,ethAddressOffset:12,ethAddressInstructionIndex:o,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:o,signature:Hr(r),ethAddress:Hr(s),recoveryId:i},c),c.fill(Hr(n),xo.span),new li({keys:[],programId:ko.programId,data:c})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:n,instructionIndex:r}=t;oi(32===e.length,`Private key must be 32 bytes but received ${e.length} bytes`);try{const t=Hr(e),i=Ao(t,!1).slice(1),o=w.Buffer.from(mr(Hr(n))),[s,a]=((t,e)=>{const n=Lr.sign(t,e);return[n.toCompactRawBytes(),n.recovery]})(o,t);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:s,recoveryId:a,instructionIndex:r})}catch(t){throw new Error(`Error creating instruction; ${t}`)}}}var Io;ko.programId=new Zr("KeccakSecp256k11111111111111111111111111111");const So=new Zr("StakeConfig11111111111111111111111111111111");class Mo{constructor(t,e,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=n}}Io=Mo,Mo.default=new Io(0,0,Zr.default);const Oo=Object.freeze({Initialize:{index:0,layout:hn.w3([hn.DH("instruction"),((t="authorized")=>hn.w3([ti("staker"),ti("withdrawer")],t))(),((t="lockup")=>hn.w3([hn.Wg("unixTimestamp"),hn.Wg("epoch"),ti("custodian")],t))()])},Authorize:{index:1,layout:hn.w3([hn.DH("instruction"),ti("newAuthorized"),hn.DH("stakeAuthorizationType")])},Delegate:{index:2,layout:hn.w3([hn.DH("instruction")])},Split:{index:3,layout:hn.w3([hn.DH("instruction"),hn.Wg("lamports")])},Withdraw:{index:4,layout:hn.w3([hn.DH("instruction"),hn.Wg("lamports")])},Deactivate:{index:5,layout:hn.w3([hn.DH("instruction")])},Merge:{index:7,layout:hn.w3([hn.DH("instruction")])},AuthorizeWithSeed:{index:8,layout:hn.w3([hn.DH("instruction"),ti("newAuthorized"),hn.DH("stakeAuthorizationType"),ei("authoritySeed"),ti("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class To{constructor(){}static initialize(t){const{stakePubkey:e,authorized:n,lockup:r}=t,i=r||Mo.default,o=_i(Oo.Initialize,{authorized:{staker:Hr(n.staker.toBuffer()),withdrawer:Hr(n.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Hr(i.custodian.toBuffer())}}),s={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:mi,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new li(s)}static createAccountWithSeed(t){const e=new di;e.add(Ii.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=t;return e.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static createAccount(t){const e=new di;e.add(Ii.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=t;return e.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static delegate(t){const{stakePubkey:e,authorizedPubkey:n,votePubkey:r}=t,i=_i(Oo.Delegate);return(new di).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:pi,isSigner:!1,isWritable:!1},{pubkey:yi,isSigner:!1,isWritable:!1},{pubkey:So,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(t){const{stakePubkey:e,authorizedPubkey:n,newAuthorizedPubkey:r,stakeAuthorizationType:i,custodianPubkey:o}=t,s=_i(Oo.Authorize,{newAuthorized:Hr(r.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:pi,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!0,isWritable:!1}),(new di).add({keys:a,programId:this.programId,data:s})}static authorizeWithSeed(t){const{stakePubkey:e,authorityBase:n,authoritySeed:r,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=t,u=_i(Oo.AuthorizeWithSeed,{newAuthorized:Hr(o.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:r,authorityOwner:Hr(i.toBuffer())}),c=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:pi,isSigner:!1,isWritable:!1}];return a&&c.push({pubkey:a,isSigner:!0,isWritable:!1}),(new di).add({keys:c,programId:this.programId,data:u})}static splitInstruction(t){const{stakePubkey:e,authorizedPubkey:n,splitStakePubkey:r,lamports:i}=t,o=_i(Oo.Split,{lamports:i});return new li({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static split(t,e){const n=new di;return n.add(Ii.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:e,space:this.space,programId:this.programId})),n.add(this.splitInstruction(t))}static splitWithSeed(t,e){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,basePubkey:o,seed:s,lamports:a}=t,u=new di;return u.add(Ii.allocate({accountPubkey:i,basePubkey:o,seed:s,space:this.space,programId:this.programId})),e&&e>0&&u.add(Ii.transfer({fromPubkey:t.authorizedPubkey,toPubkey:i,lamports:e})),u.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,lamports:a}))}static merge(t){const{stakePubkey:e,sourceStakePubKey:n,authorizedPubkey:r}=t,i=_i(Oo.Merge);return(new di).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:pi,isSigner:!1,isWritable:!1},{pubkey:yi,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(t){const{stakePubkey:e,authorizedPubkey:n,toPubkey:r,lamports:i,custodianPubkey:o}=t,s=_i(Oo.Withdraw,{lamports:i}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:pi,isSigner:!1,isWritable:!1},{pubkey:yi,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!0,isWritable:!1}),(new di).add({keys:a,programId:this.programId,data:s})}static deactivate(t){const{stakePubkey:e,authorizedPubkey:n}=t,r=_i(Oo.Deactivate);return(new di).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:pi,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}}To.programId=new Zr("Stake11111111111111111111111111111111111111"),To.space=200;const Bo=Object.freeze({InitializeAccount:{index:0,layout:hn.w3([hn.DH("instruction"),((t="voteInit")=>hn.w3([ti("nodePubkey"),ti("authorizedVoter"),ti("authorizedWithdrawer"),hn.u8("commission")],t))()])},Authorize:{index:1,layout:hn.w3([hn.DH("instruction"),ti("newAuthorized"),hn.DH("voteAuthorizationType")])},Withdraw:{index:3,layout:hn.w3([hn.DH("instruction"),hn.Wg("lamports")])},UpdateValidatorIdentity:{index:4,layout:hn.w3([hn.DH("instruction")])},AuthorizeWithSeed:{index:10,layout:hn.w3([hn.DH("instruction"),((t="voteAuthorizeWithSeedArgs")=>hn.w3([hn.DH("voteAuthorizationType"),ti("currentAuthorityDerivedKeyOwnerPubkey"),ei("currentAuthorityDerivedKeySeed"),ti("newAuthorized")],t))()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Po{constructor(){}static initializeAccount(t){const{votePubkey:e,nodePubkey:n,voteInit:r}=t,i=_i(Bo.InitializeAccount,{voteInit:{nodePubkey:Hr(r.nodePubkey.toBuffer()),authorizedVoter:Hr(r.authorizedVoter.toBuffer()),authorizedWithdrawer:Hr(r.authorizedWithdrawer.toBuffer()),commission:r.commission}}),o={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:mi,isSigner:!1,isWritable:!1},{pubkey:pi,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new li(o)}static createAccount(t){const e=new di;return e.add(Ii.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){const{votePubkey:e,authorizedPubkey:n,newAuthorizedPubkey:r,voteAuthorizationType:i}=t,o=_i(Bo.Authorize,{newAuthorized:Hr(r.toBuffer()),voteAuthorizationType:i.index}),s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:pi,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new di).add({keys:s,programId:this.programId,data:o})}static authorizeWithSeed(t){const{currentAuthorityDerivedKeyBasePubkey:e,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:s}=t,a=_i(Bo.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Hr(n.toBuffer()),currentAuthorityDerivedKeySeed:r,newAuthorized:Hr(i.toBuffer()),voteAuthorizationType:o.index}}),u=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:pi,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}];return(new di).add({keys:u,programId:this.programId,data:a})}static withdraw(t){const{votePubkey:e,authorizedWithdrawerPubkey:n,lamports:r,toPubkey:i}=t,o=_i(Bo.Withdraw,{lamports:r}),s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return(new di).add({keys:s,programId:this.programId,data:o})}static safeWithdraw(t,e,n){if(t.lamports>e-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return Po.withdraw(t)}static updateValidatorIdentity(t){const{votePubkey:e,authorizedWithdrawerPubkey:n,nodePubkey:r}=t,i=_i(Bo.UpdateValidatorIdentity),o=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new di).add({keys:o,programId:this.programId,data:i})}}Po.programId=new Zr("Vote111111111111111111111111111111111111111"),Po.space=3762,new Zr("Va1idator1nfo111111111111111111111111111111"),Jn({name:Zn(),website:qn(Zn()),details:qn(Zn()),iconUrl:qn(Zn()),keybaseUsername:qn(Zn())}),new Zr("Vote111111111111111111111111111111111111111"),hn.w3([ti("nodePubkey"),ti("authorizedWithdrawer"),hn.u8("commission"),hn.I0(),hn.O6(hn.w3([hn.I0("slot"),hn.DH("confirmationCount")]),hn.cY(hn.DH(),-8),"votes"),hn.u8("rootSlotValid"),hn.I0("rootSlot"),hn.I0(),hn.O6(hn.w3([hn.I0("epoch"),ti("authorizedVoter")]),hn.cY(hn.DH(),-8),"authorizedVoters"),hn.w3([hn.O6(hn.w3([ti("authorizedPubkey"),hn.I0("epochOfLastAuthorizedSwitch"),hn.I0("targetEpoch")]),32,"buf"),hn.I0("idx"),hn.u8("isEmpty")],"priorVoters"),hn.I0(),hn.O6(hn.w3([hn.I0("epoch"),hn.I0("credits"),hn.I0("prevCredits")]),hn.cY(hn.DH(),-8),"epochCredits"),hn.w3([hn.I0("slot"),hn.I0("timestamp")],"lastTimestamp")]);class Ro extends v{constructor(t={}){super(),this.name="Phantom",this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState="undefined"==typeof window||"undefined"==typeof document?p.Unsupported:p.NotDetected,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new s),this.emit("disconnect"))},this._accountChanged=t=>{const e=this._publicKey;if(e){try{t=new Zr(t.toBytes())}catch(t){return void this.emit("error",new c(t?.message,t))}e.equals(t)||(this._publicKey=t,this.emit("connect",t))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==p.Unsupported&&(function(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),n=t.includes("safari");return e&&n}()?(this._readyState=p.Loadable,this.emit("readyStateChange",this._readyState)):function(t){if("undefined"==typeof window||"undefined"==typeof document)return;const e=[];function n(){if(t())for(const t of e)t()}const r=setInterval(n,1e3);e.push(()=>clearInterval(r)),"loading"===document.readyState&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),"complete"!==document.readyState&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}(()=>!(!window.phantom?.solana?.isPhantom&&!window.solana?.isPhantom||(this._readyState=p.Installed,this.emit("readyStateChange",this._readyState),0))))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===p.Installed&&await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this.readyState===p.Loadable){const t=encodeURIComponent(window.location.href),e=encodeURIComponent(window.location.origin);return void(window.location.href=`https://phantom.app/ul/browse/${t}?ref=${e}`)}if(this.readyState!==p.Installed)throw new i;this._connecting=!0;const t=window.phantom?.solana||window.solana;if(!t.isConnected)try{await t.connect()}catch(t){throw new o(t?.message,t)}if(!t.publicKey)throw new u;let e;try{e=new Zr(t.publicKey.toBytes())}catch(t){throw new c(t?.message,t)}t.on("disconnect",this._disconnected),t.on("accountChanged",this._accountChanged),this._wallet=t,this._publicKey=e,this.emit("connect",e)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(t){this.emit("error",new a(t?.message,t))}}this.emit("disconnect")}async sendTransaction(t,e,n={}){try{const i=this._wallet;if(!i)throw new h;try{const{signers:r,...o}=n;m(t)?r?.length&&t.sign(r):(t=await this.prepareTransaction(t,e,o),r?.length&&t.partialSign(...r)),o.preflightCommitment=o.preflightCommitment||e.commitment;const{signature:s}=await i.signAndSendTransaction(t,o);return s}catch(t){if(t instanceof r)throw t;throw new f(t?.message,t)}}catch(t){throw this.emit("error",t),t}}async signTransaction(t){try{const e=this._wallet;if(!e)throw new h;try{return await e.signTransaction(t)||t}catch(t){throw new l(t?.message,t)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(t){try{const e=this._wallet;if(!e)throw new h;try{return await e.signAllTransactions(t)||t}catch(t){throw new l(t?.message,t)}}catch(t){throw this.emit("error",t),t}}async signMessage(t){try{const e=this._wallet;if(!e)throw new h;try{const{signature:n}=await e.signMessage(t);return n}catch(t){throw new d(t?.message,t)}}catch(t){throw this.emit("error",t),t}}}function Co(t){let e=`${t.domain} wants you to sign in with your Solana account:\n`;e+=`${t.address}`,t.statement&&(e+=`\n\n${t.statement}`);const n=[];if(t.uri&&n.push(`URI: ${t.uri}`),t.version&&n.push(`Version: ${t.version}`),t.chainId&&n.push(`Chain ID: ${t.chainId}`),t.nonce&&n.push(`Nonce: ${t.nonce}`),t.issuedAt&&n.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&n.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&n.push(`Not Before: ${t.notBefore}`),t.requestId&&n.push(`Request ID: ${t.requestId}`),t.resources){n.push("Resources:");for(const e of t.resources)n.push(`- ${e}`)}return n.length&&(e+=`\n\n${n.join("\n")}`),e}new RegExp("^(?<domain>[^\\n]+?) wants you to sign in with your Solana account:\\n(?<address>[^\\n]+)(?:\\n|$)(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))??(?:\\nURI: (?<uri>[^\\n]+))?(?:\\nVersion: (?<version>[^\\n]+))?(?:\\nChain ID: (?<chainId>[^\\n]+))?(?:\\nNonce: (?<nonce>[^\\n]+))?(?:\\nIssued At: (?<issuedAt>[^\\n]+))?(?:\\nExpiration Time: (?<expirationTime>[^\\n]+))?(?:\\nNot Before: (?<notBefore>[^\\n]+))?(?:\\nRequest ID: (?<requestId>[^\\n]+))?(?:\\nResources:(?<resources>(?:\\n- [^\\n]+)*))?\\n*$");var $o=n(287).Buffer;function No(t){return No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},No(t)}function Do(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var u=r&&r.prototype instanceof a?r:a,c=Object.create(u.prototype);return Lo(c,"_invoke",function(n,r,i){var o,a,u,c=0,h=i||[],f=!1,l={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,a=0,u=t,l.n=n,s}};function d(n,r){for(a=n,u=r,e=0;!f&&c&&!i&&e<h.length;e++){var i,o=h[e],d=l.p,p=o[2];n>3?(i=p===r)&&(u=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=n<2&&d<o[1])?(a=0,l.v=r,l.n=o[1]):d<p&&(i=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,l.n=p,a=0))}if(i||n>1)return s;throw f=!0,r}return function(i,h,p){if(c>1)throw TypeError("Generator is already running");for(f&&1===h&&d(h,p),a=h,u=p;(e=a<2?t:u)||!f;){o||(a?a<3?(a>1&&(l.n=-1),d(a,u)):l.n=u:l.v=u);try{if(c=2,o){if(a||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,a<2&&(a=0)}else 1===a&&(e=o.return)&&e.call(o),a<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=t}else if((e=(f=l.n<0)?u:n.call(r,l))!==s)break}catch(e){o=t,a=1,u=e}finally{c=1}}return{value:e,done:f}}}(n,i,o),!0),c}var s={};function a(){}function u(){}function c(){}e=Object.getPrototypeOf;var h=[][r]?e(e([][r]())):(Lo(e={},r,function(){return this}),e),f=c.prototype=a.prototype=Object.create(h);function l(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,Lo(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,Lo(f,"constructor",c),Lo(c,"constructor",u),u.displayName="GeneratorFunction",Lo(c,i,"GeneratorFunction"),Lo(f),Lo(f,i,"Generator"),Lo(f,r,function(){return this}),Lo(f,"toString",function(){return"[object Generator]"}),(Do=function(){return{w:o,m:l}})()}function Lo(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}Lo=function(t,e,n,r){if(e)i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var o=function(e,n){Lo(t,e,function(t){return this._invoke(e,n,t)})};o("next",0),o("throw",1),o("return",2)}},Lo(t,e,n,r)}function zo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Uo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zo(Object(n),!0).forEach(function(e){jo(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zo(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function jo(t,e,n){return(e=Ho(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fo(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,i)}function Wo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ho(r.key),r)}}function Ho(t){var e=function(t){if("object"!=No(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=No(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==No(e)?e:e+""}function Ko(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ko=function(){return!!t})()}function Vo(t){return Vo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vo(t)}function qo(t,e){return qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qo(t,e)}function Yo(t){return $o.from(t).toString("base64")}var Zo=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Vo(e),function(t,e){if(e&&("object"==No(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ko()?Reflect.construct(e,n||[],Vo(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qo(t,e)}(e,t),n=e,r=[{key:"signIn",value:(i=Do().m(function t(e){var n,r,i,o,s,a,u,c,h;return Do().w(function(t){for(;;)switch(t.n){case 0:if(this.connected){t.n=4;break}return t.p=1,t.n=2,this.connect();case 2:t.n=4;break;case 3:throw t.p=3,c=t.v,console.error("SIWS: Wallet connection failed during signIn:",c),new Error("Wallet connection required for sign-in: ".concat(c.message));case 4:if((n=Uo({},e)).address||!this.publicKey){t.n=5;break}n.address=this.publicKey.toBase58(),console.log("SIWS: Added wallet address to signIn input:",n.address),t.n=6;break;case 5:if(this.publicKey){t.n=6;break}throw console.error("SIWS: Wallet connected but publicKey is missing."),new Error("Wallet public key is unavailable after connection.");case 6:return console.log("SIWS Final Input for Signing:",n),r=Co(n),console.log("Constructed SIWS message text:",r),i=(new TextEncoder).encode(r),console.log("Encoded message Uint8Array:",i),t.p=7,t.n=8,this.signMessage(i);case 8:o=t.v,t.n=10;break;case 9:throw t.p=9,h=t.v,console.error("SIWS: Error during wallet signMessage:",h),a=(null===(s=h.message)||void 0===s?void 0:s.includes("User rejected"))||4001===h.code,new Error(a?"Sign-in request cancelled in wallet.":"Failed to sign message: ".concat(h.message));case 10:return console.log("Obtained signature Uint8Array:",o),u={account:{publicKey:Yo(this.publicKey.toBytes())},signedMessage:Yo(i),signature:Yo(o),signatureType:"ed25519"},t.a(2,{input:n,output:u})}},t,this,[[7,9],[1,3]])}),o=function(){var t=this,e=arguments;return new Promise(function(n,r){var o=i.apply(t,e);function s(t){Fo(o,n,r,s,a,"next",t)}function a(t){Fo(o,n,r,s,a,"throw",t)}s(void 0)})},function(t){return o.apply(this,arguments)})}],r&&Wo(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i,o}(Ro),Go=n(249);function Jo(t,e){if(!t[e]?.match(/[-\d]/))return null;const n=t.slice(e).match(/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/);return n?n[0]:null}function Xo(t){return`{"$n":"${t}"}`}var Qo=0n;function ts(){const t=Qo;return Qo++,t.toString()}function es(t){return null!=t&&"object"==typeof t&&!Array.isArray(t)&&"jsonrpc"in t&&"2.0"===t.jsonrpc&&"method"in t&&"string"==typeof t.method&&"params"in t}function ns(t,...e){return e.reduce((t,e)=>e(t),t)}function rs(t){return"bigint"==typeof t?Number(t):t}var is={};function os(t){return function e(n,r){if(Array.isArray(n))return n.map((t,n)=>{const i={...r,keyPath:[...r.keyPath,n]};return e(t,i)});if("object"==typeof n&&null!==n){const t={};for(const i in n){if(!Object.prototype.hasOwnProperty.call(n,i))continue;const o={...r,keyPath:[...r.keyPath,i]};t[i]=e(n[i],o)}return t}return t.reduce((t,e)=>e(t,r),n)}}function ss(t,e){return n=>{const r=os(t);return Object.freeze({...n,params:r(n.params,e)})}}function as({commitmentPropertyName:t,params:e,optionsObjectPositionInParams:n,overrideCommitment:r}){const i=e[n];if(void 0===i||i&&"object"==typeof i&&!Array.isArray(i))if(i&&t in i){if(!i[t]||"finalized"===i[t]){const r=[...e],{[t]:o,...s}=i;return Object.keys(s).length>0?r[n]=s:n===r.length-1?r.length--:r[n]=void 0,r}}else if("finalized"!==r){const o=[...e];return o[n]={...i,[t]:r},o}return e}function us(t){return(e,{keyPath:n})=>("bigint"==typeof e&&t&&(e>Number.MAX_SAFE_INTEGER||e<-Number.MAX_SAFE_INTEGER)&&t(n,e),e)}var cs={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function hs(t){const e=t?.onIntegerOverflow;return n=>{return ns(n,e?(r=e,t=>ss([us((...e)=>r(t,...e))],{keyPath:[]})(t)):t=>t,ss([rs],{keyPath:[]}),function({defaultCommitment:t,optionsObjectPositionByMethod:e}){return n=>{const{params:r,methodName:i}=n;if(!Array.isArray(r))return n;const o=e[i];return null==o?n:Object.freeze({methodName:i,params:as({commitmentPropertyName:"sendTransaction"===i?"preflightCommitment":"commitment",optionsObjectPositionInParams:o,overrideCommitment:t,params:r})})}}({defaultCommitment:t?.defaultCommitment,optionsObjectPositionByMethod:cs}));var r}}function fs(t){return function(e,{keyPath:n}){return"number"==typeof e&&Number.isInteger(e)||"bigint"==typeof e?function(t,e){return e.some(e=>{if(e.length!==t.length)return!1;for(let n=t.length-1;n>=0;n--){const r=t[n],i=e[n];if(i!==r&&(i!==is||"number"!=typeof r))return!1}return!0})}(n,t)?Number(e):BigInt(e):e}}function ls(t){return(e,n)=>{const r=n.methodName,i=t?.allowedNumericKeyPaths&&r?t.allowedNumericKeyPaths[r]:void 0;return ns(e,t=>(t=>{const e=t;if("error"in e)throw _n(e.error);return e})(t),t=>t.result,t=>{return(e=[fs(i??[])],r={keyPath:[]},t=>os(e)(t,r))(t,n);var e,r})}}var ds,ps=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",is,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",is,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",is,"state","preUpdateAverageRate"],["data","parsed","info","extensions",is,"state","currentRate"]],gs=[...ps,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",is,"confirmationCount"]],ms=[["index"],["instructions",is,"accounts",is],["instructions",is,"programIdIndex"],["instructions",is,"stackHeight"]],ys=[["addressTableLookups",is,"writableIndexes",is],["addressTableLookups",is,"readonlyIndexes",is],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",is,"accounts",is],["instructions",is,"programIdIndex"],["instructions",is,"stackHeight"]];function vs(t){return function(t){return new Proxy({},{defineProperty:()=>!1,deleteProperty:()=>!1,get(...e){const[n,r]=e,i=r.toString();return function(...e){const n=Object.freeze({methodName:i,params:e}),r=t?.requestTransformer?t?.requestTransformer(n):n;return Object.freeze({execute:async({signal:e,transport:n})=>{const i=function(t){return{id:ts(),jsonrpc:"2.0",method:t.methodName,params:t.params}}(r),o=await n({payload:i,signal:e});return t?.responseTransformer?t.responseTransformer(o,r):o}})}}})}({requestTransformer:hs(t),responseTransformer:ls({allowedNumericKeyPaths:(ds||(ds={getAccountInfo:gs.map(t=>["value",...t]),getBlock:[["transactions",is,"meta","preTokenBalances",is,"accountIndex"],["transactions",is,"meta","preTokenBalances",is,"uiTokenAmount","decimals"],["transactions",is,"meta","postTokenBalances",is,"accountIndex"],["transactions",is,"meta","postTokenBalances",is,"uiTokenAmount","decimals"],["transactions",is,"meta","rewards",is,"commission"],...ms.map(t=>["transactions",is,"meta","innerInstructions",is,...t]),...ys.map(t=>["transactions",is,"transaction","message",...t]),["rewards",is,"commission"]],getClusterNodes:[[is,"featureSet"],[is,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[is,"commission"]],getMultipleAccounts:gs.map(t=>["value",is,...t]),getProgramAccounts:gs.flatMap(t=>[["value",is,"account",...t],[is,"account",...t]]),getRecentPerformanceSamples:[[is,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:ps.map(t=>["value",is,"account",...t]),getTokenAccountsByOwner:ps.map(t=>["value",is,"account",...t]),getTokenLargestAccounts:[["value",is,"decimals"],["value",is,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",is,"accountIndex"],["meta","preTokenBalances",is,"uiTokenAmount","decimals"],["meta","postTokenBalances",is,"accountIndex"],["meta","postTokenBalances",is,"uiTokenAmount","decimals"],["meta","rewards",is,"commission"],...ms.map(t=>["meta","innerInstructions",is,...t]),...ys.map(t=>["transaction","message",...t])],getVersion:[["feature-set"]],getVoteAccounts:[["current",is,"commission"],["delinquent",is,"commission"]],simulateTransaction:[...gs.map(t=>["value","accounts",is,...t]),...ms.map(t=>["value","innerInstructions",is,...t])]}),ds)})})}var ws=["getAccountInfo","getBalance","getBlock","getBlockCommitment","getBlockHeight","getBlockProduction","getBlocks","getBlocksWithLimit","getBlockTime","getClusterNodes","getEpochInfo","getEpochSchedule","getFeeForMessage","getFirstAvailableBlock","getGenesisHash","getHealth","getHighestSnapshotSlot","getIdentity","getInflationGovernor","getInflationRate","getInflationReward","getLargestAccounts","getLatestBlockhash","getLeaderSchedule","getMaxRetransmitSlot","getMaxShredInsertSlot","getMinimumBalanceForRentExemption","getMultipleAccounts","getProgramAccounts","getRecentPerformanceSamples","getRecentPrioritizationFees","getSignaturesForAddress","getSignatureStatuses","getSlot","getSlotLeader","getSlotLeaders","getStakeMinimumDelegation","getSupply","getTokenAccountBalance","getTokenAccountsByDelegate","getTokenAccountsByOwner","getTokenLargestAccounts","getTokenSupply","getTransaction","getTransactionCount","getVersion","getVoteAccounts","index","isBlockhashValid","minimumLedgerSlot","requestAirdrop","sendTransaction","simulateTransaction"];function bs(t){return es(t)&&ws.includes(t.method)}function _s(t){return function(t){const{fromJson:e,headers:n,toJson:r,url:i}=t,o=n&&function(t){const e={};for(const n in t)e[n.toLowerCase()]=t[n];return e}(n);return async function({payload:t,signal:n}){const s=r?r(t):JSON.stringify(t),a={body:s,headers:{...o,accept:"application/json","content-length":s.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:n},u=await fetch(i,a);if(!u.ok)throw new pn(8100002,{headers:u.headers,message:u.statusText,statusCode:u.status});return e?e(await u.text(),t):await u.json()}}({...t,fromJson:(t,e)=>{return bs(e)?(n=t,JSON.parse(function(t){const e=[];let n=!1;for(let r=0;r<t.length;r++){let i=!1;if("\\"===t[r]&&(e.push(t[r++]),i=!i),'"'!==t[r]){if(!n){const n=Jo(t,r);if(n?.length){r+=n.length-1,n.match(/\.|[eE]-/)?e.push(n):e.push(Xo(n));continue}}e.push(t[r])}else e.push(t[r]),i||(n=!n)}return e.join("")}(n),(t,e)=>function(t){return!!t&&"object"==typeof t&&"$n"in t&&"string"==typeof t.$n}(e)?function({$n:t}){if(t.match(/[eE]/)){const[e,n]=t.split(/[eE]/);return BigInt(e)*BigInt(10)**BigInt(n)}return BigInt(t)}(e):e)):JSON.parse(t);var n},toJson:t=>{return bs(t)?(e=t,function(t){return t.replace(/\{\s*"\$n"\s*:\s*"(-?\d+)"\s*\}/g,"$1")}(JSON.stringify(e,(t,e)=>"bigint"==typeof e?function(t){return{$n:`${t}`}}(e):e,undefined))):JSON.stringify(t);var e}})}var Es=Object.prototype.toString,As=Object.keys||function(t){const e=[];for(const n in t)e.push(n);return e};function xs(t,e){let n,r,i,o,s,a,u;if(!0===t)return"true";if(!1===t)return"false";switch(typeof t){case"object":if(null===t)return null;if("toJSON"in t&&"function"==typeof t.toJSON)return xs(t.toJSON(),e);if(u=Es.call(t),"[object Array]"===u){for(i="[",r=t.length-1,n=0;n<r;n++)i+=xs(t[n],!0)+",";return r>-1&&(i+=xs(t[n],!0)),i+"]"}if("[object Object]"===u){for(o=As(t).sort(),r=o.length,i="",n=0;n<r;)s=o[n],a=xs(t[s],!1),void 0!==a&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),n++;return"{"+i+"}"}return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"bigint":return`${t.toString()}n`;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}function ks(t){const e=xs(t,!1);if(void 0!==e)return""+e}function Is(t,e,n){let r="";if("number"==typeof e[0]){const t=e[0]+1,n=t%10,i=t%100;r=1==n&&11!=i?t+"st":2==n&&12!=i?t+"nd":3==n&&13!=i?t+"rd":t+"th"}else r=`\`${e[0].toString()}\``;const i=e.length>1?e.slice(1).map(t=>"number"==typeof t?`[${t}]`:t).join("."):void 0,o=new pn(81e5,{argumentLabel:r,keyPath:e,methodName:t,optionalPathLabel:i?` at path \`${i}\``:"",value:n,...void 0!==i?{path:i}:void 0});return gn(o,Is),o}var Ss,Ms={defaultCommitment:"confirmed",onIntegerOverflow(t,e,n){throw Is(t.methodName,e,n)}},Os=globalThis.AbortController;function Ts(t){return es(t)?ks([t.method,t.params]):void 0}function Bs(t){const e={};for(const n in t)e[n.toLowerCase()]=t[n];return e}function Ps(t,e){return n=function(t){return ns(_s({...t,headers:{...t.headers?Bs(t.headers):void 0,"solana-client":"js/2.1.1"}}),t=>function(t,e){let n;return async function(r){const{payload:i,signal:o}=r,s=e(i);if(void 0===s)return await t(r);if(n||(queueMicrotask(()=>{n=void 0}),n={}),null==n[s]){const e=new Os,i=(async()=>{try{return await t({...r,signal:e.signal})}catch(t){if(t===(Ss||={}))return;throw t}})();n[s]={abortController:e,numConsumers:0,responsePromise:i}}const a=n[s];if(a.numConsumers++,o){const t=a.responsePromise;return await new Promise((e,n)=>{const r=t=>{o.removeEventListener("abort",r),a.numConsumers-=1,queueMicrotask(()=>{0===a.numConsumers&&a.abortController.abort(Ss||={})}),n(t.target.reason)};o.addEventListener("abort",r),t.then(e).catch(n).finally(()=>{o.removeEventListener("abort",r)})})}return await a.responsePromise}}(t,Ts))}({url:t,...e}),function(t){return new Proxy(t.api,{defineProperty:()=>!1,deleteProperty:()=>!1,get:(e,n,r)=>function(...i){const o=n.toString(),s=Reflect.get(e,o,r);if(!s)throw new pn(8100003,{method:o,params:i});const a=s(...i);return function({transport:t},e){return{send:async n=>await e.execute({signal:n?.abortSignal,transport:t})}}(t,a)}})}({api:vs(Ms),transport:n});var n}function Rs(t){return function(t){if(t<0||t>18446744073709551615n)throw new pn(6)}(t),t}var Cs=t=>En({getSizeFromValue:e=>{const[n,r]=$s(e,t[0]);if(!r)return e.length;const i=Ns(r,t);return n.length+Math.ceil(i.toString(16).length/2)},write(e,n,r){if(function(t,e,n=e){if(!e.match(new RegExp(`^[${t}]*$`)))throw new pn(8078012,{alphabet:t,base:t.length,value:n})}(t,e),""===e)return r;const[i,o]=$s(e,t[0]);if(!o)return n.set(new Uint8Array(i.length).fill(0),r),r+i.length;let s=Ns(o,t);const a=[];for(;s>0n;)a.unshift(Number(s%256n)),s/=256n;const u=[...Array(i.length).fill(0),...a];return n.set(u,r),r+u.length}});function $s(t,e){const[n,r]=t.split(new RegExp(`((?!${e}).*)`));return[n,r]}function Ns(t,e){const n=BigInt(e.length);let r=0n;for(const i of t)r*=n,r+=BigInt(e.indexOf(i));return r}var Ds;function Ls(t){if(t.length<32||t.length>44)throw new pn(2800001,{actualLength:t.length});const e=(Ds||(Ds=Cs("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),Ds).encode(t).byteLength;if(32!==e)throw new pn(28e5,{actualLength:e})}function zs(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Us(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}globalThis.TextDecoder,globalThis.TextEncoder;var js,Fs,Ws,Hs,Ks,Vs,qs,Ys,Zs,Gs,Js,Xs,Qs,ta,ea,na,ra,ia={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},oa={duration:.5,overwrite:!1,delay:0},sa=1e8,aa=1e-8,ua=2*Math.PI,ca=ua/4,ha=0,fa=Math.sqrt,la=Math.cos,da=Math.sin,pa=function(t){return"string"==typeof t},ga=function(t){return"function"==typeof t},ma=function(t){return"number"==typeof t},ya=function(t){return void 0===t},va=function(t){return"object"==typeof t},wa=function(t){return!1!==t},ba=function(){return"undefined"!=typeof window},_a=function(t){return ga(t)||pa(t)},Ea="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Aa=Array.isArray,xa=/(?:-?\.?\d|\.)+/gi,ka=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ia=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Sa=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Ma=/[+-]=-?[.\d]+/,Oa=/[^,'"\[\]\s]+/gi,Ta=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ba={},Pa={},Ra=function(t){return(Pa=cu(t,Ba))&&ch},Ca=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},$a=function(t,e){return!e&&console.warn(t)},Na=function(t,e){return t&&(Ba[t]=e)&&Pa&&(Pa[t]=e)||Ba},Da=function(){return 0},La={suppressEvents:!0,isStart:!0,kill:!1},za={suppressEvents:!0,kill:!1},Ua={suppressEvents:!0},ja={},Fa=[],Wa={},Ha={},Ka={},Va=30,qa=[],Ya="",Za=function(t){var e,n,r=t[0];if(va(r)||ga(r)||(t=[t]),!(e=(r._gsap||{}).harness)){for(n=qa.length;n--&&!qa[n].targetTest(r););e=qa[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new Ac(t[n],e)))||t.splice(n,1);return t},Ga=function(t){return t._gsap||Za(Uu(t))[0]._gsap},Ja=function(t,e,n){return(n=t[e])&&ga(n)?t[e]():ya(n)&&t.getAttribute&&t.getAttribute(e)||n},Xa=function(t,e){return(t=t.split(",")).forEach(e)||t},Qa=function(t){return Math.round(1e5*t)/1e5||0},tu=function(t){return Math.round(1e7*t)/1e7||0},eu=function(t,e){var n=e.charAt(0),r=parseFloat(e.substr(2));return t=parseFloat(t),"+"===n?t+r:"-"===n?t-r:"*"===n?t*r:t/r},nu=function(t,e){for(var n=e.length,r=0;t.indexOf(e[r])<0&&++r<n;);return r<n},ru=function(){var t,e,n=Fa.length,r=Fa.slice(0);for(Wa={},Fa.length=0,t=0;t<n;t++)(e=r[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},iu=function(t){return!!(t._initted||t._startAt||t.add)},ou=function(t,e,n,r){Fa.length&&!Fs&&ru(),t.render(e,n,r||!!(Fs&&e<0&&iu(t))),Fa.length&&!Fs&&ru()},su=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(Oa).length<2?e:pa(t)?t.trim():t},au=function(t){return t},uu=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},cu=function(t,e){for(var n in e)t[n]=e[n];return t},hu=function t(e,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(e[r]=va(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},fu=function(t,e){var n,r={};for(n in t)n in e||(r[n]=t[n]);return r},lu=function(t){var e,n=t.parent||Hs,r=t.keyframes?(e=Aa(t.keyframes),function(t,n){for(var r in n)r in t||"duration"===r&&e||"ease"===r||(t[r]=n[r])}):uu;if(wa(t.inherit))for(;n;)r(t,n.vars.defaults),n=n.parent||n._dp;return t},du=function(t,e,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var o,s=t[r];if(i)for(o=e[i];s&&s[i]>o;)s=s._prev;return s?(e._next=s._next,s._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[r]=e,e._prev=s,e.parent=e._dp=t,e},pu=function(t,e,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=e._prev,o=e._next;i?i._next=o:t[n]===e&&(t[n]=o),o?o._prev=i:t[r]===e&&(t[r]=i),e._next=e._prev=e.parent=null},gu=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},mu=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},yu=function(t,e,n,r){return t._startAt&&(Fs?t._startAt.revert(za):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,r))},vu=function t(e){return!e||e._ts&&t(e.parent)},wu=function(t){return t._repeat?bu(t._tTime,t=t.duration()+t._rDelay)*t:0},bu=function(t,e){var n=Math.floor(t=tu(t/e));return t&&n===t?n-1:n},_u=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Eu=function(t){return t._end=tu(t._start+(t._tDur/Math.abs(t._ts||t._rts||aa)||0))},Au=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=tu(n._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Eu(t),n._dirty||mu(n,t)),t},xu=function(t,e){var n;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(n=_u(t.rawTime(),e),(!e._dur||Nu(0,e.totalDuration(),n)-e._tTime>aa)&&e.render(n,!0)),mu(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-1e-8}},ku=function(t,e,n,r){return e.parent&&gu(e),e._start=tu((ma(n)?n:n||t!==Hs?Ru(t,n,e):t._time)+e._delay),e._end=tu(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),du(t,e,"_first","_last",t._sort?"_start":0),Ou(e)||(t._recent=e),r||xu(t,e),t._ts<0&&Au(t,t._tTime),t},Iu=function(t,e){return(Ba.ScrollTrigger||Ca("scrollTrigger",e))&&Ba.ScrollTrigger.create(e,t)},Su=function(t,e,n,r,i){return Bc(t,e,i),t._initted?!n&&t._pt&&!Fs&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&Zs!==hc.frame?(Fa.push(t),t._lazy=[i,r],1):void 0:1},Mu=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},Ou=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},Tu=function(t,e,n,r){var i=t._repeat,o=tu(e)||0,s=t._tTime/t._tDur;return s&&!r&&(t._time*=o/t._dur),t._dur=o,t._tDur=i?i<0?1e10:tu(o*(i+1)+t._rDelay*i):o,s>0&&!r&&Au(t,t._tTime=t._tDur*s),t.parent&&Eu(t),n||mu(t.parent,t),t},Bu=function(t){return t instanceof kc?mu(t):Tu(t,t._dur)},Pu={_start:0,endTime:Da,totalDuration:Da},Ru=function t(e,n,r){var i,o,s,a=e.labels,u=e._recent||Pu,c=e.duration()>=sa?u.endTime(!1):e._dur;return pa(n)&&(isNaN(n)||n in a)?(o=n.charAt(0),s="%"===n.substr(-1),i=n.indexOf("="),"<"===o||">"===o?(i>=0&&(n=n.replace(/=/,"")),("<"===o?u._start:u.endTime(u._repeat>=0))+(parseFloat(n.substr(1))||0)*(s?(i<0?u:r).totalDuration()/100:1)):i<0?(n in a||(a[n]=c),a[n]):(o=parseFloat(n.charAt(i-1)+n.substr(i+1)),s&&r&&(o=o/100*(Aa(r)?r[0]:r).totalDuration()),i>1?t(e,n.substr(0,i-1),r)+o:c+o)):null==n?c:+n},Cu=function(t,e,n){var r,i,o=ma(e[1]),s=(o?2:1)+(t<2?0:1),a=e[s];if(o&&(a.duration=e[1]),a.parent=n,t){for(r=a,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=wa(i.vars.inherit)&&i.parent;a.immediateRender=wa(r.immediateRender),t<2?a.runBackwards=1:a.startAt=e[s-1]}return new Nc(e[0],a,e[s+1])},$u=function(t,e){return t||0===t?e(t):e},Nu=function(t,e,n){return n<t?t:n>e?e:n},Du=function(t,e){return pa(t)&&(e=Ta.exec(t))?e[1]:""},Lu=[].slice,zu=function(t,e){return t&&va(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&va(t[0]))&&!t.nodeType&&t!==Ks},Uu=function(t,e,n){return Ws&&!e&&Ws.selector?Ws.selector(t):!pa(t)||n||!Vs&&fc()?Aa(t)?function(t,e,n){return void 0===n&&(n=[]),t.forEach(function(t){var r;return pa(t)&&!e||zu(t,1)?(r=n).push.apply(r,Uu(t)):n.push(t)})||n}(t,n):zu(t)?Lu.call(t,0):t?[t]:[]:Lu.call((e||qs).querySelectorAll(t),0)},ju=function(t){return t=Uu(t)[0]||$a("Invalid scope")||{},function(e){var n=t.current||t.nativeElement||t;return Uu(e,n.querySelectorAll?n:n===t?$a("Invalid scope")||qs.createElement("div"):t)}},Fu=function(t){return t.sort(function(){return.5-Math.random()})},Wu=function(t){if(ga(t))return t;var e=va(t)?t:{each:t},n=vc(e.ease),r=e.from||0,i=parseFloat(e.base)||0,o={},s=r>0&&r<1,a=isNaN(r)||s,u=e.axis,c=r,h=r;return pa(r)?c=h={center:.5,edges:.5,end:1}[r]||0:!s&&a&&(c=r[0],h=r[1]),function(t,s,f){var l,d,p,g,m,y,v,w,b,_=(f||e).length,E=o[_];if(!E){if(!(b="auto"===e.grid?0:(e.grid||[1,sa])[1])){for(v=-sa;v<(v=f[b++].getBoundingClientRect().left)&&b<_;);b<_&&b--}for(E=o[_]=[],l=a?Math.min(b,_)*c-.5:r%b,d=b===sa?0:a?_*h/b-.5:r/b|0,v=0,w=sa,y=0;y<_;y++)p=y%b-l,g=d-(y/b|0),E[y]=m=u?Math.abs("y"===u?g:p):fa(p*p+g*g),m>v&&(v=m),m<w&&(w=m);"random"===r&&Fu(E),E.max=v-w,E.min=w,E.v=_=(parseFloat(e.amount)||parseFloat(e.each)*(b>_?_-1:u?"y"===u?_/b:b:Math.max(b,_/b))||0)*("edges"===r?-1:1),E.b=_<0?i-_:i,E.u=Du(e.amount||e.each)||0,n=n&&_<0?mc(n):n}return _=(E[t]-E.min)/E.max||0,tu(E.b+(n?n(_):_)*E.v)+E.u}},Hu=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var r=tu(Math.round(parseFloat(n)/t)*t*e);return(r-r%1)/e+(ma(n)?0:Du(n))}},Ku=function(t,e){var n,r,i=Aa(t);return!i&&va(t)&&(n=i=t.radius||sa,t.values?(t=Uu(t.values),(r=!ma(t[0]))&&(n*=n)):t=Hu(t.increment)),$u(e,i?ga(t)?function(e){return r=t(e),Math.abs(r-e)<=n?r:e}:function(e){for(var i,o,s=parseFloat(r?e.x:e),a=parseFloat(r?e.y:0),u=sa,c=0,h=t.length;h--;)(i=r?(i=t[h].x-s)*i+(o=t[h].y-a)*o:Math.abs(t[h]-s))<u&&(u=i,c=h);return c=!n||u<=n?t[c]:e,r||c===e||ma(e)?c:c+Du(e)}:Hu(t))},Vu=function(t,e,n,r){return $u(Aa(t)?!e:!0===n?!!(n=0):!r,function(){return Aa(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+.99*n))/n)*n*r)/r})},qu=function(t,e,n){return $u(n,function(n){return t[~~e(n)]})},Yu=function(t){for(var e,n,r,i,o=0,s="";~(e=t.indexOf("random(",o));)r=t.indexOf(")",e),i="["===t.charAt(e+7),n=t.substr(e+7,r-e-7).match(i?Oa:xa),s+=t.substr(o,e-o)+Vu(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),o=r+1;return s+t.substr(o,t.length-o)},Zu=function(t,e,n,r,i){var o=e-t,s=r-n;return $u(i,function(e){return n+((e-t)/o*s||0)})},Gu=function(t,e,n){var r,i,o,s=t.labels,a=sa;for(r in s)(i=s[r]-e)<0==!!n&&i&&a>(i=Math.abs(i))&&(o=r,a=i);return o},Ju=function(t,e,n){var r,i,o,s=t.vars,a=s[e],u=Ws,c=t._ctx;if(a)return r=s[e+"Params"],i=s.callbackScope||t,n&&Fa.length&&ru(),c&&(Ws=c),o=r?a.apply(i,r):a.call(i),Ws=u,o},Xu=function(t){return gu(t),t.scrollTrigger&&t.scrollTrigger.kill(!!Fs),t.progress()<1&&Ju(t,"onInterrupt"),t},Qu=[],tc=function(t){if(t)if(t=!t.name&&t.default||t,ba()||t.headless){var e=t.name,n=ga(t),r=e&&!n&&t.init?function(){this._props=[]}:t,i={init:Da,render:Kc,add:Oc,kill:qc,modifier:Vc,rawVars:0},o={targetTest:0,get:0,getSetter:jc,aliases:{},register:0};if(fc(),t!==r){if(Ha[e])return;uu(r,uu(fu(t,i),o)),cu(r.prototype,cu(i,fu(t,o))),Ha[r.prop=e]=r,t.targetTest&&(qa.push(r),ja[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}Na(e,r),t.register&&t.register(ch,r,Gc)}else Qu.push(t)},ec=255,nc={aqua:[0,ec,ec],lime:[0,ec,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,ec],navy:[0,0,128],white:[ec,ec,ec],olive:[128,128,0],yellow:[ec,ec,0],orange:[ec,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[ec,0,0],pink:[ec,192,203],cyan:[0,ec,ec],transparent:[ec,ec,ec,0]},rc=function(t,e,n){return(6*(t+=t<0?1:t>1?-1:0)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)*ec+.5|0},ic=function(t,e,n){var r,i,o,s,a,u,c,h,f,l,d=t?ma(t)?[t>>16,t>>8&ec,t&ec]:0:nc.black;if(!d){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),nc[t])d=nc[t];else if("#"===t.charAt(0)){if(t.length<6&&(r=t.charAt(1),i=t.charAt(2),o=t.charAt(3),t="#"+r+r+i+i+o+o+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(d=parseInt(t.substr(1,6),16))>>16,d>>8&ec,d&ec,parseInt(t.substr(7),16)/255];d=[(t=parseInt(t.substr(1),16))>>16,t>>8&ec,t&ec]}else if("hsl"===t.substr(0,3))if(d=l=t.match(xa),e){if(~t.indexOf("="))return d=t.match(ka),n&&d.length<4&&(d[3]=1),d}else s=+d[0]%360/360,a=+d[1]/100,r=2*(u=+d[2]/100)-(i=u<=.5?u*(a+1):u+a-u*a),d.length>3&&(d[3]*=1),d[0]=rc(s+1/3,r,i),d[1]=rc(s,r,i),d[2]=rc(s-1/3,r,i);else d=t.match(xa)||nc.transparent;d=d.map(Number)}return e&&!l&&(r=d[0]/ec,i=d[1]/ec,o=d[2]/ec,u=((c=Math.max(r,i,o))+(h=Math.min(r,i,o)))/2,c===h?s=a=0:(f=c-h,a=u>.5?f/(2-c-h):f/(c+h),s=c===r?(i-o)/f+(i<o?6:0):c===i?(o-r)/f+2:(r-i)/f+4,s*=60),d[0]=~~(s+.5),d[1]=~~(100*a+.5),d[2]=~~(100*u+.5)),n&&d.length<4&&(d[3]=1),d},oc=function(t){var e=[],n=[],r=-1;return t.split(ac).forEach(function(t){var i=t.match(Ia)||[];e.push.apply(e,i),n.push(r+=i.length+1)}),e.c=n,e},sc=function(t,e,n){var r,i,o,s,a="",u=(t+a).match(ac),c=e?"hsla(":"rgba(",h=0;if(!u)return t;if(u=u.map(function(t){return(t=ic(t,e,1))&&c+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"}),n&&(o=oc(t),(r=n.c).join(a)!==o.c.join(a)))for(s=(i=t.replace(ac,"1").split(Ia)).length-1;h<s;h++)a+=i[h]+(~r.indexOf(h)?u.shift()||c+"0,0,0,0)":(o.length?o:u.length?u:n).shift());if(!i)for(s=(i=t.split(ac)).length-1;h<s;h++)a+=i[h]+u[h];return a+i[s]},ac=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in nc)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),uc=/hsl[a]?\(/,cc=function(t){var e,n=t.join(" ");if(ac.lastIndex=0,ac.test(n))return e=uc.test(n),t[1]=sc(t[1],e),t[0]=sc(t[0],e,oc(t[1])),!0},hc=function(){var t,e,n,r,i,o,s=Date.now,a=500,u=33,c=s(),h=c,f=1e3/240,l=f,d=[],p=function n(p){var g,m,y,v,w=s()-h,b=!0===p;if((w>a||w<0)&&(c+=w-u),((g=(y=(h+=w)-c)-l)>0||b)&&(v=++r.frame,i=y-1e3*r.time,r.time=y/=1e3,l+=g+(g>=f?4:f-g),m=1),b||(t=e(n)),m)for(o=0;o<d.length;o++)d[o](y,i,v,p)};return r={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(t){return i/(1e3/(t||60))},wake:function(){Ys&&(!Vs&&ba()&&(Ks=Vs=window,qs=Ks.document||{},Ba.gsap=ch,(Ks.gsapVersions||(Ks.gsapVersions=[])).push(ch.version),Ra(Pa||Ks.GreenSockGlobals||!Ks.gsap&&Ks||{}),Qu.forEach(tc)),n="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame,t&&r.sleep(),e=n||function(t){return setTimeout(t,l-1e3*r.time+1|0)},Js=1,p(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(t),Js=0,e=Da},lagSmoothing:function(t,e){a=t||1/0,u=Math.min(e||33,a)},fps:function(t){f=1e3/(t||240),l=1e3*r.time+f},add:function(t,e,n){var i=e?function(e,n,o,s){t(e,n,o,s),r.remove(i)}:t;return r.remove(t),d[n?"unshift":"push"](i),fc(),i},remove:function(t,e){~(e=d.indexOf(t))&&d.splice(e,1)&&o>=e&&o--},_listeners:d}}(),fc=function(){return!Js&&hc.wake()},lc={},dc=/^[\d.\-M][\d.\-,\s]/,pc=/["']/g,gc=function(t){for(var e,n,r,i={},o=t.substr(1,t.length-3).split(":"),s=o[0],a=1,u=o.length;a<u;a++)n=o[a],e=a!==u-1?n.lastIndexOf(","):n.length,r=n.substr(0,e),i[s]=isNaN(r)?r.replace(pc,"").trim():+r,s=n.substr(e+1).trim();return i},mc=function(t){return function(e){return 1-t(1-e)}},yc=function t(e,n){for(var r,i=e._first;i;)i instanceof kc?t(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?t(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},vc=function(t,e){return t&&(ga(t)?t:lc[t]||function(t){var e,n,r,i,o=(t+"").split("("),s=lc[o[0]];return s&&o.length>1&&s.config?s.config.apply(null,~t.indexOf("{")?[gc(o[1])]:(e=t,n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n),e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)).split(",").map(su)):lc._CE&&dc.test(t)?lc._CE("",t):s}(t))||e},wc=function(t,e,n,r){void 0===n&&(n=function(t){return 1-e(1-t)}),void 0===r&&(r=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var i,o={easeIn:e,easeOut:n,easeInOut:r};return Xa(t,function(t){for(var e in lc[t]=Ba[t]=o,lc[i=t.toLowerCase()]=n,o)lc[i+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=lc[t+"."+e]=o[e]}),o},bc=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},_c=function t(e,n,r){var i=n>=1?n:1,o=(r||(e?.3:.45))/(n<1?n:1),s=o/ua*(Math.asin(1/i)||0),a=function(t){return 1===t?1:i*Math.pow(2,-10*t)*da((t-s)*o)+1},u="out"===e?a:"in"===e?function(t){return 1-a(1-t)}:bc(a);return o=ua/o,u.config=function(n,r){return t(e,n,r)},u},Ec=function t(e,n){void 0===n&&(n=1.70158);var r=function(t){return t?--t*t*((n+1)*t+n)+1:0},i="out"===e?r:"in"===e?function(t){return 1-r(1-t)}:bc(r);return i.config=function(n){return t(e,n)},i};Xa("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;wc(t+",Power"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},function(t){return 1-Math.pow(1-t,n)},function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2})}),lc.Linear.easeNone=lc.none=lc.Linear.easeIn,wc("Elastic",_c("in"),_c("out"),_c()),Xs=7.5625,ea=2*(ta=1/(Qs=2.75)),na=2.5*ta,wc("Bounce",function(t){return 1-ra(1-t)},ra=function(t){return t<ta?Xs*t*t:t<ea?Xs*Math.pow(t-1.5/Qs,2)+.75:t<na?Xs*(t-=2.25/Qs)*t+.9375:Xs*Math.pow(t-2.625/Qs,2)+.984375}),wc("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)}),wc("Circ",function(t){return-(fa(1-t*t)-1)}),wc("Sine",function(t){return 1===t?1:1-la(t*ca)}),wc("Back",Ec("in"),Ec("out"),Ec()),lc.SteppedEase=lc.steps=Ba.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,r=t+(e?0:1),i=e?1:0;return function(t){return((r*Nu(0,.99999999,t)|0)+i)*n}}},oa.ease=lc["quad.out"],Xa("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return Ya+=t+","+t+"Params,"});var Ac=function(t,e){this.id=ha++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:Ja,this.set=e?e.getSetter:jc},xc=function(){function t(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Tu(this,+t.duration,1,1),this.data=t.data,Ws&&(this._ctx=Ws,Ws.data.push(this)),Js||hc.wake()}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,Tu(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(fc(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Au(this,t),!n._dp||n.parent||xu(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&ku(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===aa||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),ou(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+wu(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+wu(this),e):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?bu(this._tTime,n)+1:1},e.timeScale=function(t,e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var n=this.parent&&this._ts?_u(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,this.totalTime(Nu(-Math.abs(this._delay),this.totalDuration(),n),!1!==e),Eu(this),function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(fc(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==aa&&(this._tTime-=aa)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&ku(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(wa(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?_u(e.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){void 0===t&&(t=Ua);var e=Fs;return Fs=t,iu(this)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),"nested"!==this.data&&!1!==t.kill&&this.kill(),Fs=e,this},e.globalTime=function(t){for(var e=this,n=arguments.length?t:e.rawTime();e;)n=e._start+n/(Math.abs(e._ts)||1),e=e._dp;return!this.parent&&this._sat?this._sat.globalTime(t):n},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,Bu(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,Bu(this),e?this.time(e):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(Ru(this,t),wa(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,wa(e)),this._dur||(this._zTime=-1e-8),this},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,n=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<this.endTime(!0)-aa))},e.eventCallback=function(t,e,n){var r=this.vars;return arguments.length>1?(e?(r[t]=e,n&&(r[t+"Params"]=n),"onUpdate"===t&&(this._onUpdate=e)):delete r[t],this):r[t]},e.then=function(t){var e=this;return new Promise(function(n){var r=ga(t)?t:au,i=function(){var t=e.then;e.then=null,ga(r)&&(r=r(e))&&(r.then||r===e)&&(e.then=t),n(r),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?i():e._prom=i})},e.kill=function(){Xu(this)},t}();uu(xc.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var kc=function(t){function e(e,n){var r;return void 0===e&&(e={}),(r=t.call(this,e)||this).labels={},r.smoothChildTiming=!!e.smoothChildTiming,r.autoRemoveChildren=!!e.autoRemoveChildren,r._sort=wa(e.sortChildren),Hs&&ku(e.parent||Hs,zs(r),n),e.reversed&&r.reverse(),e.paused&&r.paused(!0),e.scrollTrigger&&Iu(zs(r),e.scrollTrigger),r}Us(e,t);var n=e.prototype;return n.to=function(t,e,n){return Cu(0,arguments,this),this},n.from=function(t,e,n){return Cu(1,arguments,this),this},n.fromTo=function(t,e,n,r){return Cu(2,arguments,this),this},n.set=function(t,e,n){return e.duration=0,e.parent=this,lu(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new Nc(t,e,Ru(this,n),1),this},n.call=function(t,e,n){return ku(this,Nc.delayedCall(0,t,e),n)},n.staggerTo=function(t,e,n,r,i,o,s){return n.duration=e,n.stagger=n.stagger||r,n.onComplete=o,n.onCompleteParams=s,n.parent=this,new Nc(t,n,Ru(this,i)),this},n.staggerFrom=function(t,e,n,r,i,o,s){return n.runBackwards=1,lu(n).immediateRender=wa(n.immediateRender),this.staggerTo(t,e,n,r,i,o,s)},n.staggerFromTo=function(t,e,n,r,i,o,s,a){return r.startAt=n,lu(r).immediateRender=wa(r.immediateRender),this.staggerTo(t,e,r,i,o,s,a)},n.render=function(t,e,n){var r,i,o,s,a,u,c,h,f,l,d,p,g=this._time,m=this._dirty?this.totalDuration():this._tDur,y=this._dur,v=t<=0?0:tu(t),w=this._zTime<0!=t<0&&(this._initted||!y);if(this!==Hs&&v>m&&t>=0&&(v=m),v!==this._tTime||n||w){if(g!==this._time&&y&&(v+=this._time-g,t+=this._time-g),r=v,f=this._start,u=!(h=this._ts),w&&(y||(g=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(d=this._yoyo,a=y+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*a+t,e,n);if(r=tu(v%a),v===m?(s=this._repeat,r=y):((s=~~(l=tu(v/a)))&&s===l&&(r=y,s--),r>y&&(r=y)),l=bu(this._tTime,a),!g&&this._tTime&&l!==s&&this._tTime-l*a-this._dur<=0&&(l=s),d&&1&s&&(r=y-r,p=1),s!==l&&!this._lock){var b=d&&1&l,_=b===(d&&1&s);if(s<l&&(b=!b),g=b?0:v%y?y:v,this._lock=1,this.render(g||(p?0:tu(s*a)),e,!y)._lock=0,this._tTime=v,!e&&this.parent&&Ju(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1),g&&g!==this._time||u!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(y=this._dur,m=this._tDur,_&&(this._lock=2,g=b?y:-1e-4,this.render(g,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!u)return this;yc(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(t,e,n){var r;if(n>e)for(r=t._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<e)return r;r=r._prev}}(this,tu(g),tu(r)),c&&(v-=r-(r=c._start))),this._tTime=v,this._time=r,this._act=!h,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,g=0),!g&&v&&!e&&!l&&(Ju(this,"onStart"),this._tTime!==v))return this;if(r>=g&&t>=0)for(i=this._first;i;){if(o=i._next,(i._act||r>=i._start)&&i._ts&&c!==i){if(i.parent!==this)return this.render(t,e,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,e,n),r!==this._time||!this._ts&&!u){c=0,o&&(v+=this._zTime=-1e-8);break}}i=o}else{i=this._last;for(var E=t<0?t:r;i;){if(o=i._prev,(i._act||E<=i._end)&&i._ts&&c!==i){if(i.parent!==this)return this.render(t,e,n);if(i.render(i._ts>0?(E-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(E-i._start)*i._ts,e,n||Fs&&iu(i)),r!==this._time||!this._ts&&!u){c=0,o&&(v+=this._zTime=E?-1e-8:aa);break}}i=o}}if(c&&!e&&(this.pause(),c.render(r>=g?0:-1e-8)._zTime=r>=g?1:-1,this._ts))return this._start=f,Eu(this),this.render(t,e,n);this._onUpdate&&!e&&Ju(this,"onUpdate",!0),(v===m&&this._tTime>=this.totalDuration()||!v&&g)&&(f!==this._start&&Math.abs(h)===Math.abs(this._ts)||this._lock||((t||!y)&&(v===m&&this._ts>0||!v&&this._ts<0)&&gu(this,1),e||t<0&&!g||!v&&!g&&m||(Ju(this,v===m&&t>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(v<m&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(t,e){var n=this;if(ma(e)||(e=Ru(this,e,t)),!(t instanceof xc)){if(Aa(t))return t.forEach(function(t){return n.add(t,e)}),this;if(pa(t))return this.addLabel(t,e);if(!ga(t))return this;t=Nc.delayedCall(0,t)}return this!==t?ku(this,t,e):this},n.getChildren=function(t,e,n,r){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===r&&(r=-sa);for(var i=[],o=this._first;o;)o._start>=r&&(o instanceof Nc?e&&i.push(o):(n&&i.push(o),t&&i.push.apply(i,o.getChildren(!0,e,n)))),o=o._next;return i},n.getById=function(t){for(var e=this.getChildren(1,1,1),n=e.length;n--;)if(e[n].vars.id===t)return e[n]},n.remove=function(t){return pa(t)?this.removeLabel(t):ga(t)?this.killTweensOf(t):(t.parent===this&&pu(this,t),t===this._recent&&(this._recent=this._last),mu(this))},n.totalTime=function(e,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=tu(hc.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},n.addLabel=function(t,e){return this.labels[t]=Ru(this,e),this},n.removeLabel=function(t){return delete this.labels[t],this},n.addPause=function(t,e,n){var r=Nc.delayedCall(0,e||Da,n);return r.data="isPause",this._hasPause=1,ku(this,r,Ru(this,t))},n.removePause=function(t){var e=this._first;for(t=Ru(this,t);e;)e._start===t&&"isPause"===e.data&&gu(e),e=e._next},n.killTweensOf=function(t,e,n){for(var r=this.getTweensOf(t,n),i=r.length;i--;)Ic!==r[i]&&r[i].kill(t,e);return this},n.getTweensOf=function(t,e){for(var n,r=[],i=Uu(t),o=this._first,s=ma(e);o;)o instanceof Nc?nu(o._targets,i)&&(s?(!Ic||o._initted&&o._ts)&&o.globalTime(0)<=e&&o.globalTime(o.totalDuration())>e:!e||o.isActive())&&r.push(o):(n=o.getTweensOf(i,e)).length&&r.push.apply(r,n),o=o._next;return r},n.tweenTo=function(t,e){e=e||{};var n,r=this,i=Ru(r,t),o=e,s=o.startAt,a=o.onStart,u=o.onStartParams,c=o.immediateRender,h=Nc.to(r,uu({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:e.duration||Math.abs((i-(s&&"time"in s?s.time:r._time))/r.timeScale())||aa,onStart:function(){if(r.pause(),!n){var t=e.duration||Math.abs((i-(s&&"time"in s?s.time:r._time))/r.timeScale());h._dur!==t&&Tu(h,t,0,1).render(h._time,!0,!0),n=1}a&&a.apply(h,u||[])}},e));return c?h.render(0):h},n.tweenFromTo=function(t,e,n){return this.tweenTo(e,uu({startAt:{time:Ru(this,t)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(t){return void 0===t&&(t=this._time),Gu(this,Ru(this,t))},n.previousLabel=function(t){return void 0===t&&(t=this._time),Gu(this,Ru(this,t),1)},n.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+aa)},n.shiftChildren=function(t,e,n){void 0===n&&(n=0);for(var r,i=this._first,o=this.labels;i;)i._start>=n&&(i._start+=t,i._end+=t),i=i._next;if(e)for(r in o)o[r]>=n&&(o[r]+=t);return mu(this)},n.invalidate=function(e){var n=this._first;for(this._lock=0;n;)n.invalidate(e),n=n._next;return t.prototype.invalidate.call(this,e)},n.clear=function(t){void 0===t&&(t=!0);for(var e,n=this._first;n;)e=n._next,this.remove(n),n=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),mu(this)},n.totalDuration=function(t){var e,n,r,i=0,o=this,s=o._last,a=sa;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-t:t));if(o._dirty){for(r=o.parent;s;)e=s._prev,s._dirty&&s.totalDuration(),(n=s._start)>a&&o._sort&&s._ts&&!o._lock?(o._lock=1,ku(o,s,n-s._delay,1)._lock=0):a=n,n<0&&s._ts&&(i-=n,(!r&&!o._dp||r&&r.smoothChildTiming)&&(o._start+=n/o._ts,o._time-=n,o._tTime-=n),o.shiftChildren(-n,!1,-Infinity),a=0),s._end>i&&s._ts&&(i=s._end),s=e;Tu(o,o===Hs&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(t){if(Hs._ts&&(ou(Hs,_u(t,Hs)),Zs=hc.frame),hc.frame>=Va){Va+=ia.autoSleep||120;var e=Hs._first;if((!e||!e._ts)&&ia.autoSleep&&hc._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||hc.sleep()}}},e}(xc);uu(kc.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ic,Sc,Mc=function(t,e,n,r,i,o,s){var a,u,c,h,f,l,d,p,g=new Gc(this._pt,t,e,0,1,Hc,null,i),m=0,y=0;for(g.b=n,g.e=r,n+="",(d=~(r+="").indexOf("random("))&&(r=Yu(r)),o&&(o(p=[n,r],t,e),n=p[0],r=p[1]),u=n.match(Sa)||[];a=Sa.exec(r);)h=a[0],f=r.substring(m,a.index),c?c=(c+1)%5:"rgba("===f.substr(-5)&&(c=1),h!==u[y++]&&(l=parseFloat(u[y-1])||0,g._pt={_next:g._pt,p:f||1===y?f:",",s:l,c:"="===h.charAt(1)?eu(l,h)-l:parseFloat(h)-l,m:c&&c<4?Math.round:0},m=Sa.lastIndex);return g.c=m<r.length?r.substring(m,r.length):"",g.fp=s,(Ma.test(r)||d)&&(g.e=0),this._pt=g,g},Oc=function(t,e,n,r,i,o,s,a,u,c){ga(r)&&(r=r(i||0,t,o));var h,f=t[e],l="get"!==n?n:ga(f)?u?t[e.indexOf("set")||!ga(t["get"+e.substr(3)])?e:"get"+e.substr(3)](u):t[e]():f,d=ga(f)?u?zc:Lc:Dc;if(pa(r)&&(~r.indexOf("random(")&&(r=Yu(r)),"="===r.charAt(1)&&((h=eu(l,r)+(Du(l)||0))||0===h)&&(r=h)),!c||l!==r||Sc)return isNaN(l*r)||""===r?(!f&&!(e in t)&&Ca(e,r),Mc.call(this,t,e,l,r,d,a||ia.stringFilter,u)):(h=new Gc(this._pt,t,e,+l||0,r-(l||0),"boolean"==typeof f?Wc:Fc,0,d),u&&(h.fp=u),s&&h.modifier(s,this,t),this._pt=h)},Tc=function(t,e,n,r,i,o){var s,a,u,c;if(Ha[t]&&!1!==(s=new Ha[t]).init(i,s.rawVars?e[t]:function(t,e,n,r,i){if(ga(t)&&(t=Rc(t,i,e,n,r)),!va(t)||t.style&&t.nodeType||Aa(t)||Ea(t))return pa(t)?Rc(t,i,e,n,r):t;var o,s={};for(o in t)s[o]=Rc(t[o],i,e,n,r);return s}(e[t],r,i,o,n),n,r,o)&&(n._pt=a=new Gc(n._pt,i,t,0,1,s.render,s,0,s.priority),n!==Gs))for(u=n._ptLookup[n._targets.indexOf(i)],c=s._props.length;c--;)u[s._props[c]]=a;return s},Bc=function t(e,n,r){var i,o,s,a,u,c,h,f,l,d,p,g,m,y=e.vars,v=y.ease,w=y.startAt,b=y.immediateRender,_=y.lazy,E=y.onUpdate,A=y.runBackwards,x=y.yoyoEase,k=y.keyframes,I=y.autoRevert,S=e._dur,M=e._startAt,O=e._targets,T=e.parent,B=T&&"nested"===T.data?T.vars.targets:O,P="auto"===e._overwrite&&!js,R=e.timeline;if(R&&(!k||!v)&&(v="none"),e._ease=vc(v,oa.ease),e._yEase=x?mc(vc(!0===x?v:x,oa.ease)):0,x&&e._yoyo&&!e._repeat&&(x=e._yEase,e._yEase=e._ease,e._ease=x),e._from=!R&&!!y.runBackwards,!R||k&&!y.stagger){if(g=(f=O[0]?Ga(O[0]).harness:0)&&y[f.prop],i=fu(y,ja),M&&(M._zTime<0&&M.progress(1),n<0&&A&&b&&!I?M.render(-1,!0):M.revert(A&&S?za:La),M._lazy=0),w){if(gu(e._startAt=Nc.set(O,uu({data:"isStart",overwrite:!1,parent:T,immediateRender:!0,lazy:!M&&wa(_),startAt:null,delay:0,onUpdate:E&&function(){return Ju(e,"onUpdate")},stagger:0},w))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Fs||!b&&!I)&&e._startAt.revert(za),b&&S&&n<=0&&r<=0)return void(n&&(e._zTime=n))}else if(A&&S&&!M)if(n&&(b=!1),s=uu({overwrite:!1,data:"isFromStart",lazy:b&&!M&&wa(_),immediateRender:b,stagger:0,parent:T},i),g&&(s[f.prop]=g),gu(e._startAt=Nc.set(O,s)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Fs?e._startAt.revert(za):e._startAt.render(-1,!0)),e._zTime=n,b){if(!n)return}else t(e._startAt,aa,aa);for(e._pt=e._ptCache=0,_=S&&wa(_)||_&&!S,o=0;o<O.length;o++){if(h=(u=O[o])._gsap||Za(O)[o]._gsap,e._ptLookup[o]=d={},Wa[h.id]&&Fa.length&&ru(),p=B===O?o:B.indexOf(u),f&&!1!==(l=new f).init(u,g||i,e,p,B)&&(e._pt=a=new Gc(e._pt,u,l.name,0,1,l.render,l,0,l.priority),l._props.forEach(function(t){d[t]=a}),l.priority&&(c=1)),!f||g)for(s in i)Ha[s]&&(l=Tc(s,i,e,p,u,B))?l.priority&&(c=1):d[s]=a=Oc.call(e,u,s,"get",i[s],p,B,0,y.stringFilter);e._op&&e._op[o]&&e.kill(u,e._op[o]),P&&e._pt&&(Ic=e,Hs.killTweensOf(u,d,e.globalTime(n)),m=!e.parent,Ic=0),e._pt&&_&&(Wa[h.id]=1)}c&&Zc(e),e._onInit&&e._onInit(e)}e._onUpdate=E,e._initted=(!e._op||e._pt)&&!m,k&&n<=0&&R.render(sa,!0,!0)},Pc=function(t,e,n,r){var i,o,s=e.ease||r||"power1.inOut";if(Aa(e))o=n[t]||(n[t]=[]),e.forEach(function(t,n){return o.push({t:n/(e.length-1)*100,v:t,e:s})});else for(i in e)o=n[i]||(n[i]=[]),"ease"===i||o.push({t:parseFloat(t),v:e[i],e:s})},Rc=function(t,e,n,r,i){return ga(t)?t.call(e,n,r,i):pa(t)&&~t.indexOf("random(")?Yu(t):t},Cc=Ya+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",$c={};Xa(Cc+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return $c[t]=1});var Nc=function(t){function e(e,n,r,i){var o;"number"==typeof n&&(r.duration=n,n=r,r=null);var s,a,u,c,h,f,l,d,p=(o=t.call(this,i?n:lu(n))||this).vars,g=p.duration,m=p.delay,y=p.immediateRender,v=p.stagger,w=p.overwrite,b=p.keyframes,_=p.defaults,E=p.scrollTrigger,A=p.yoyoEase,x=n.parent||Hs,k=(Aa(e)||Ea(e)?ma(e[0]):"length"in n)?[e]:Uu(e);if(o._targets=k.length?Za(k):$a("GSAP target "+e+" not found. https://gsap.com",!ia.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=w,b||v||_a(g)||_a(m)){if(n=o.vars,(s=o.timeline=new kc({data:"nested",defaults:_||{},targets:x&&"nested"===x.data?x.vars.targets:k})).kill(),s.parent=s._dp=zs(o),s._start=0,v||_a(g)||_a(m)){if(c=k.length,l=v&&Wu(v),va(v))for(h in v)~Cc.indexOf(h)&&(d||(d={}),d[h]=v[h]);for(a=0;a<c;a++)(u=fu(n,$c)).stagger=0,A&&(u.yoyoEase=A),d&&cu(u,d),f=k[a],u.duration=+Rc(g,zs(o),a,f,k),u.delay=(+Rc(m,zs(o),a,f,k)||0)-o._delay,!v&&1===c&&u.delay&&(o._delay=m=u.delay,o._start+=m,u.delay=0),s.to(f,u,l?l(a,f,k):0),s._ease=lc.none;s.duration()?g=m=0:o.timeline=0}else if(b){lu(uu(s.vars.defaults,{ease:"none"})),s._ease=vc(b.ease||n.ease||"none");var I,S,M,O=0;if(Aa(b))b.forEach(function(t){return s.to(k,t,">")}),s.duration();else{for(h in u={},b)"ease"===h||"easeEach"===h||Pc(h,b[h],u,b.easeEach);for(h in u)for(I=u[h].sort(function(t,e){return t.t-e.t}),O=0,a=0;a<I.length;a++)(M={ease:(S=I[a]).e,duration:(S.t-(a?I[a-1].t:0))/100*g})[h]=S.v,s.to(k,M,O),O+=M.duration;s.duration()<g&&s.to({},{duration:g-s.duration()})}}g||o.duration(g=s.duration())}else o.timeline=0;return!0!==w||js||(Ic=zs(o),Hs.killTweensOf(k),Ic=0),ku(x,zs(o),r),n.reversed&&o.reverse(),n.paused&&o.paused(!0),(y||!g&&!b&&o._start===tu(x._time)&&wa(y)&&vu(zs(o))&&"nested"!==x.data)&&(o._tTime=-1e-8,o.render(Math.max(0,-m)||0)),E&&Iu(zs(o),E),o}Us(e,t);var n=e.prototype;return n.render=function(t,e,n){var r,i,o,s,a,u,c,h,f,l=this._time,d=this._tDur,p=this._dur,g=t<0,m=t>d-aa&&!g?d:t<aa?0:t;if(p){if(m!==this._tTime||!t||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==g||this._lazy){if(r=m,h=this.timeline,this._repeat){if(s=p+this._rDelay,this._repeat<-1&&g)return this.totalTime(100*s+t,e,n);if(r=tu(m%s),m===d?(o=this._repeat,r=p):(o=~~(a=tu(m/s)))&&o===a?(r=p,o--):r>p&&(r=p),(u=this._yoyo&&1&o)&&(f=this._yEase,r=p-r),a=bu(this._tTime,s),r===l&&!n&&this._initted&&o===a)return this._tTime=m,this;o!==a&&(h&&this._yEase&&yc(h,u),this.vars.repeatRefresh&&!u&&!this._lock&&r!==s&&this._initted&&(this._lock=n=1,this.render(tu(s*o),!0).invalidate()._lock=0))}if(!this._initted){if(Su(this,g?t:r,n,e,m))return this._tTime=0,this;if(!(l===this._time||n&&this.vars.repeatRefresh&&o!==a))return this;if(p!==this._dur)return this.render(t,e,n)}if(this._tTime=m,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(f||this._ease)(r/p),this._from&&(this.ratio=c=1-c),!l&&m&&!e&&!a&&(Ju(this,"onStart"),this._tTime!==m))return this;for(i=this._pt;i;)i.r(c,i.d),i=i._next;h&&h.render(t<0?t:h._dur*h._ease(r/this._dur),e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(g&&yu(this,t,0,n),Ju(this,"onUpdate")),this._repeat&&o!==a&&this.vars.onRepeat&&!e&&this.parent&&Ju(this,"onRepeat"),m!==this._tDur&&m||this._tTime!==m||(g&&!this._onUpdate&&yu(this,t,0,!0),(t||!p)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&gu(this,1),e||g&&!l||!(m||l||u)||(Ju(this,m===d?"onComplete":"onReverseComplete",!0),this._prom&&!(m<d&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,n,r){var i,o,s,a=t.ratio,u=e<0||!e&&(!t._start&&Mu(t)&&(t._initted||!Ou(t))||(t._ts<0||t._dp._ts<0)&&!Ou(t))?0:1,c=t._rDelay,h=0;if(c&&t._repeat&&(h=Nu(0,t._tDur,e),o=bu(h,c),t._yoyo&&1&o&&(u=1-u),o!==bu(t._tTime,c)&&(a=1-u,t.vars.repeatRefresh&&t._initted&&t.invalidate())),u!==a||Fs||r||t._zTime===aa||!e&&t._zTime){if(!t._initted&&Su(t,e,r,n,h))return;for(s=t._zTime,t._zTime=e||(n?aa:0),n||(n=e&&!s),t.ratio=u,t._from&&(u=1-u),t._time=0,t._tTime=h,i=t._pt;i;)i.r(u,i.d),i=i._next;e<0&&yu(t,e,0,!0),t._onUpdate&&!n&&Ju(t,"onUpdate"),h&&t._repeat&&!n&&t.parent&&Ju(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===u&&(u&&gu(t,1),n||Fs||(Ju(t,u?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,n);return this},n.targets=function(){return this._targets},n.invalidate=function(e){return(!e||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(e),t.prototype.invalidate.call(this,e)},n.resetTo=function(t,e,n,r,i){Js||hc.wake(),this._ts||this.play();var o=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||Bc(this,o),function(t,e,n,r,i,o,s,a){var u,c,h,f,l=(t._pt&&t._ptCache||(t._ptCache={}))[e];if(!l)for(l=t._ptCache[e]=[],h=t._ptLookup,f=t._targets.length;f--;){if((u=h[f][e])&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==e&&u.fp!==e;)u=u._next;if(!u)return Sc=1,t.vars[e]="+=0",Bc(t,s),Sc=0,a?$a(e+" not eligible for reset"):1;l.push(u)}for(f=l.length;f--;)(u=(c=l[f])._pt||c).s=!r&&0!==r||i?u.s+(r||0)+o*u.c:r,u.c=n-u.s,c.e&&(c.e=Qa(n)+Du(c.e)),c.b&&(c.b=u.s+Du(c.b))}(this,t,e,n,r,this._ease(o/this._dur),o,i)?this.resetTo(t,e,n,r,1):(Au(this,0),this.parent||du(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?Xu(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Fs),this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,Ic&&!0!==Ic.vars.overwrite)._first||Xu(this),this.parent&&n!==this.timeline.totalDuration()&&Tu(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,o,s,a,u,c,h=this._targets,f=t?Uu(t):h,l=this._ptLookup,d=this._pt;if((!e||"all"===e)&&function(t,e){for(var n=t.length,r=n===e.length;r&&n--&&t[n]===e[n];);return n<0}(h,f))return"all"===e&&(this._pt=0),Xu(this);for(r=this._op=this._op||[],"all"!==e&&(pa(e)&&(a={},Xa(e,function(t){return a[t]=1}),e=a),e=function(t,e){var n,r,i,o,s=t[0]?Ga(t[0]).harness:0,a=s&&s.aliases;if(!a)return e;for(r in n=cu({},e),a)if(r in n)for(i=(o=a[r].split(",")).length;i--;)n[o[i]]=n[r];return n}(h,e)),c=h.length;c--;)if(~f.indexOf(h[c]))for(a in i=l[c],"all"===e?(r[c]=e,s=i,o={}):(o=r[c]=r[c]||{},s=e),s)(u=i&&i[a])&&("kill"in u.d&&!0!==u.d.kill(a)||pu(this,u,"_pt"),delete i[a]),"all"!==o&&(o[a]=1);return this._initted&&!this._pt&&d&&Xu(this),this},e.to=function(t,n){return new e(t,n,arguments[2])},e.from=function(t,e){return Cu(1,arguments)},e.delayedCall=function(t,n,r,i){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},e.fromTo=function(t,e,n){return Cu(2,arguments)},e.set=function(t,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(t,n)},e.killTweensOf=function(t,e,n){return Hs.killTweensOf(t,e,n)},e}(xc);uu(Nc.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Xa("staggerTo,staggerFrom,staggerFromTo",function(t){Nc[t]=function(){var e=new kc,n=Lu.call(arguments,0);return n.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,n)}});var Dc=function(t,e,n){return t[e]=n},Lc=function(t,e,n){return t[e](n)},zc=function(t,e,n,r){return t[e](r.fp,n)},Uc=function(t,e,n){return t.setAttribute(e,n)},jc=function(t,e){return ga(t[e])?Lc:ya(t[e])&&t.setAttribute?Uc:Dc},Fc=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},Wc=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},Hc=function(t,e){var n=e._pt,r="";if(!t&&e.b)r=e.b;else if(1===t&&e.e)r=e.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*t):Math.round(1e4*(n.s+n.c*t))/1e4)+r,n=n._next;r+=e.c}e.set(e.t,e.p,r,e)},Kc=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},Vc=function(t,e,n,r){for(var i,o=this._pt;o;)i=o._next,o.p===r&&o.modifier(t,e,n),o=i},qc=function(t){for(var e,n,r=this._pt;r;)n=r._next,r.p===t&&!r.op||r.op===t?pu(this,r,"_pt"):r.dep||(e=1),r=n;return!e},Yc=function(t,e,n,r){r.mSet(t,e,r.m.call(r.tween,n,r.mt),r)},Zc=function(t){for(var e,n,r,i,o=t._pt;o;){for(e=o._next,n=r;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:i)?o._prev._next=o:r=o,(o._next=n)?n._prev=o:i=o,o=e}t._pt=r},Gc=function(){function t(t,e,n,r,i,o,s,a,u){this.t=e,this.s=r,this.c=i,this.p=n,this.r=o||Fc,this.d=s||this,this.set=a||Dc,this.pr=u||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=Yc,this.m=t,this.mt=n,this.tween=e},t}();Xa(Ya+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return ja[t]=1}),Ba.TweenMax=Ba.TweenLite=Nc,Ba.TimelineLite=Ba.TimelineMax=kc,Hs=new kc({sortChildren:!1,defaults:oa,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),ia.stringFilter=cc;var Jc=[],Xc={},Qc=[],th=0,eh=0,nh=function(t){return(Xc[t]||Qc).map(function(t){return t()})},rh=function(){var t=Date.now(),e=[];t-th>2&&(nh("matchMediaInit"),Jc.forEach(function(t){var n,r,i,o,s=t.queries,a=t.conditions;for(r in s)(n=Ks.matchMedia(s[r]).matches)&&(i=1),n!==a[r]&&(a[r]=n,o=1);o&&(t.revert(),i&&e.push(t))}),nh("matchMediaRevert"),e.forEach(function(t){return t.onMatch(t,function(e){return t.add(null,e)})}),th=t,nh("matchMedia"))},ih=function(){function t(t,e){this.selector=e&&ju(e),this.data=[],this._r=[],this.isReverted=!1,this.id=eh++,t&&this.add(t)}var e=t.prototype;return e.add=function(t,e,n){ga(t)&&(n=e,e=t,t=ga);var r=this,i=function(){var t,i=Ws,o=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=ju(n)),Ws=r,t=e.apply(r,arguments),ga(t)&&r._r.push(t),Ws=i,r.selector=o,r.isReverted=!1,t};return r.last=i,t===ga?i(r,function(t){return r.add(null,t)}):t?r[t]=i:i},e.ignore=function(t){var e=Ws;Ws=null,t(this),Ws=e},e.getTweens=function(){var e=[];return this.data.forEach(function(n){return n instanceof t?e.push.apply(e,n.getTweens()):n instanceof Nc&&!(n.parent&&"nested"===n.parent.data)&&e.push(n)}),e},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,e){var n=this;if(t?function(){for(var e,r=n.getTweens(),i=n.data.length;i--;)"isFlip"===(e=n.data[i]).data&&(e.revert(),e.getChildren(!0,!0,!1).forEach(function(t){return r.splice(r.indexOf(t),1)}));for(r.map(function(t){return{g:t._dur||t._delay||t._sat&&!t._sat.vars.immediateRender?t.globalTime(0):-1/0,t}}).sort(function(t,e){return e.g-t.g||-1/0}).forEach(function(e){return e.t.revert(t)}),i=n.data.length;i--;)(e=n.data[i])instanceof kc?"nested"!==e.data&&(e.scrollTrigger&&e.scrollTrigger.revert(),e.kill()):!(e instanceof Nc)&&e.revert&&e.revert(t);n._r.forEach(function(e){return e(t,n)}),n.isReverted=!0}():this.data.forEach(function(t){return t.kill&&t.kill()}),this.clear(),e)for(var r=Jc.length;r--;)Jc[r].id===this.id&&Jc.splice(r,1)},e.revert=function(t){this.kill(t||{})},t}(),oh=function(){function t(t){this.contexts=[],this.scope=t,Ws&&Ws.data.push(this)}var e=t.prototype;return e.add=function(t,e,n){va(t)||(t={matches:t});var r,i,o,s=new ih(0,n||this.scope),a=s.conditions={};for(i in Ws&&!s.selector&&(s.selector=Ws.selector),this.contexts.push(s),e=s.add("onMatch",e),s.queries=t,t)"all"===i?o=1:(r=Ks.matchMedia(t[i]))&&(Jc.indexOf(s)<0&&Jc.push(s),(a[i]=r.matches)&&(o=1),r.addListener?r.addListener(rh):r.addEventListener("change",rh));return o&&e(s,function(t){return s.add(null,t)}),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach(function(e){return e.kill(t,!0)})},t}(),sh={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach(function(t){return tc(t)})},timeline:function(t){return new kc(t)},getTweensOf:function(t,e){return Hs.getTweensOf(t,e)},getProperty:function(t,e,n,r){pa(t)&&(t=Uu(t)[0]);var i=Ga(t||{}).get,o=n?au:su;return"native"===n&&(n=""),t?e?o((Ha[e]&&Ha[e].get||i)(t,e,n,r)):function(e,n,r){return o((Ha[e]&&Ha[e].get||i)(t,e,n,r))}:t},quickSetter:function(t,e,n){if((t=Uu(t)).length>1){var r=t.map(function(t){return ch.quickSetter(t,e,n)}),i=r.length;return function(t){for(var e=i;e--;)r[e](t)}}t=t[0]||{};var o=Ha[e],s=Ga(t),a=s.harness&&(s.harness.aliases||{})[e]||e,u=o?function(e){var r=new o;Gs._pt=0,r.init(t,n?e+n:e,Gs,0,[t]),r.render(1,r),Gs._pt&&Kc(1,Gs)}:s.set(t,a);return o?u:function(e){return u(t,a,n?e+n:e,s,1)}},quickTo:function(t,e,n){var r,i=ch.to(t,uu(((r={})[e]="+=0.1",r.paused=!0,r.stagger=0,r),n||{})),o=function(t,n,r){return i.resetTo(e,t,n,r)};return o.tween=i,o},isTweening:function(t){return Hs.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=vc(t.ease,oa.ease)),hu(oa,t||{})},config:function(t){return hu(ia,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,r=t.plugins,i=t.defaults,o=t.extendTimeline;(r||"").split(",").forEach(function(t){return t&&!Ha[t]&&!Ba[t]&&$a(e+" effect requires "+t+" plugin.")}),Ka[e]=function(t,e,r){return n(Uu(t),uu(e||{},i),r)},o&&(kc.prototype[e]=function(t,n,r){return this.add(Ka[e](t,va(n)?n:(r=n)&&{},this),r)})},registerEase:function(t,e){lc[t]=vc(e)},parseEase:function(t,e){return arguments.length?vc(t,e):lc},getById:function(t){return Hs.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,r,i=new kc(t);for(i.smoothChildTiming=wa(t.smoothChildTiming),Hs.remove(i),i._dp=0,i._time=i._tTime=Hs._time,n=Hs._first;n;)r=n._next,!e&&!n._dur&&n instanceof Nc&&n.vars.onComplete===n._targets[0]||ku(i,n,n._start-n._delay),n=r;return ku(Hs,i,0),i},context:function(t,e){return t?new ih(t,e):Ws},matchMedia:function(t){return new oh(t)},matchMediaRefresh:function(){return Jc.forEach(function(t){var e,n,r=t.conditions;for(n in r)r[n]&&(r[n]=!1,e=1);e&&t.revert()})||rh()},addEventListener:function(t,e){var n=Xc[t]||(Xc[t]=[]);~n.indexOf(e)||n.push(e)},removeEventListener:function(t,e){var n=Xc[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)},utils:{wrap:function t(e,n,r){var i=n-e;return Aa(e)?qu(e,t(0,e.length),n):$u(r,function(t){return(i+(t-e)%i)%i+e})},wrapYoyo:function t(e,n,r){var i=n-e,o=2*i;return Aa(e)?qu(e,t(0,e.length-1),n):$u(r,function(t){return e+((t=(o+(t-e)%o)%o||0)>i?o-t:t)})},distribute:Wu,random:Vu,snap:Ku,normalize:function(t,e,n){return Zu(t,e,0,1,n)},getUnit:Du,clamp:function(t,e,n){return $u(n,function(n){return Nu(t,e,n)})},splitColor:ic,toArray:Uu,selector:ju,mapRange:Zu,pipe:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce(function(t,e){return e(t)},t)}},unitize:function(t,e){return function(n){return t(parseFloat(n))+(e||Du(n))}},interpolate:function t(e,n,r,i){var o=isNaN(e+n)?0:function(t){return(1-t)*e+t*n};if(!o){var s,a,u,c,h,f=pa(e),l={};if(!0===r&&(i=1)&&(r=null),f)e={p:e},n={p:n};else if(Aa(e)&&!Aa(n)){for(u=[],c=e.length,h=c-2,a=1;a<c;a++)u.push(t(e[a-1],e[a]));c--,o=function(t){t*=c;var e=Math.min(h,~~t);return u[e](t-e)},r=n}else i||(e=cu(Aa(e)?[]:{},e));if(!u){for(s in n)Oc.call(l,e,s,"get",n[s]);o=function(t){return Kc(t,l)||(f?e.p:e)}}}return $u(r,o)},shuffle:Fu},install:Ra,effects:Ka,ticker:hc,updateRoot:kc.updateRoot,plugins:Ha,globalTimeline:Hs,core:{PropTween:Gc,globals:Na,Tween:Nc,Timeline:kc,Animation:xc,getCache:Ga,_removeLinkedListItem:pu,reverting:function(){return Fs},context:function(t){return t&&Ws&&(Ws.data.push(t),t._ctx=Ws),Ws},suppressOverwrites:function(t){return js=t}}};Xa("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return sh[t]=Nc[t]}),hc.add(kc.updateRoot),Gs=sh.to({},{duration:0});var ah=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},uh=function(t,e){return{name:t,headless:1,rawVars:1,init:function(t,n,r){r._onInit=function(t){var r,i;if(pa(n)&&(r={},Xa(n,function(t){return r[t]=1}),n=r),e){for(i in r={},n)r[i]=e(n[i]);n=r}!function(t,e){var n,r,i,o=t._targets;for(n in e)for(r=o.length;r--;)(i=t._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=ah(i,n)),i&&i.modifier&&i.modifier(e[n],t,o[r],n))}(t,n)}}}},ch=sh.registerPlugin({name:"attr",init:function(t,e,n,r,i){var o,s,a;for(o in this.tween=n,e)a=t.getAttribute(o)||"",(s=this.add(t,"setAttribute",(a||0)+"",e[o],r,i,0,0,o)).op=o,s.b=a,this._props.push(o)},render:function(t,e){for(var n=e._pt;n;)Fs?n.set(n.t,n.p,n.b,n):n.r(t,n.d),n=n._next}},{name:"endArray",headless:1,init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n],0,0,0,0,0,1)}},uh("roundProps",Hu),uh("modifiers"),uh("snap",Ku))||sh;Nc.version=kc.version=ch.version="3.13.0",Ys=1,ba()&&fc(),lc.Power0,lc.Power1,lc.Power2,lc.Power3,lc.Power4,lc.Linear,lc.Quad,lc.Cubic,lc.Quart,lc.Quint,lc.Strong,lc.Elastic,lc.Back,lc.SteppedEase,lc.Bounce,lc.Sine,lc.Expo,lc.Circ;var hh,fh,lh,dh,ph,gh,mh,yh,vh={},wh=180/Math.PI,bh=Math.PI/180,_h=Math.atan2,Eh=/([A-Z])/g,Ah=/(left|right|width|margin|padding|x)/i,xh=/[\s,\(]\S/,kh={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Ih=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Sh=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Mh=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},Oh=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},Th=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},Bh=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},Ph=function(t,e,n){return t.style[e]=n},Rh=function(t,e,n){return t.style.setProperty(e,n)},Ch=function(t,e,n){return t._gsap[e]=n},$h=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},Nh=function(t,e,n,r,i){var o=t._gsap;o.scaleX=o.scaleY=n,o.renderTransform(i,o)},Dh=function(t,e,n,r,i){var o=t._gsap;o[e]=n,o.renderTransform(i,o)},Lh="transform",zh=Lh+"Origin",Uh=function t(e,n){var r=this,i=this.target,o=i.style,s=i._gsap;if(e in vh&&o){if(this.tfm=this.tfm||{},"transform"===e)return kh.transform.split(",").forEach(function(e){return t.call(r,e,n)});if(~(e=kh[e]||e).indexOf(",")?e.split(",").forEach(function(t){return r.tfm[t]=of(i,t)}):this.tfm[e]=s.x?s[e]:of(i,e),e===zh&&(this.tfm.zOrigin=s.zOrigin),this.props.indexOf(Lh)>=0)return;s.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(zh,n,"")),e=Lh}(o||n)&&this.props.push(e,n,o[e])},jh=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},Fh=function(){var t,e,n=this.props,r=this.target,i=r.style,o=r._gsap;for(t=0;t<n.length;t+=3)n[t+1]?2===n[t+1]?r[n[t]](n[t+2]):r[n[t]]=n[t+2]:n[t+2]?i[n[t]]=n[t+2]:i.removeProperty("--"===n[t].substr(0,2)?n[t]:n[t].replace(Eh,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)o[e]=this.tfm[e];o.svg&&(o.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(t=mh())&&t.isStart||i[Lh]||(jh(i),o.zOrigin&&i[zh]&&(i[zh]+=" "+o.zOrigin+"px",o.zOrigin=0,o.renderTransform()),o.uncache=1)}},Wh=function(t,e){var n={target:t,props:[],revert:Fh,save:Uh};return t._gsap||ch.core.getCache(t),e&&t.style&&t.nodeType&&e.split(",").forEach(function(t){return n.save(t)}),n},Hh=function(t,e){var n=fh.createElementNS?fh.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):fh.createElement(t);return n&&n.style?n:fh.createElement(t)},Kh=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(Eh,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,qh(n)||n,1)||""},Vh="O,Moz,ms,Ms,Webkit".split(","),qh=function(t,e,n){var r=(e||ph).style,i=5;if(t in r&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);i--&&!(Vh[i]+t in r););return i<0?null:(3===i?"ms":i>=0?Vh[i]:"")+t},Yh=function(){"undefined"!=typeof window&&window.document&&(hh=window,fh=hh.document,lh=fh.documentElement,ph=Hh("div")||{style:{}},Hh("div"),Lh=qh(Lh),zh=Lh+"Origin",ph.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",yh=!!qh("perspective"),mh=ch.core.reverting,dh=1)},Zh=function(t){var e,n=t.ownerSVGElement,r=Hh("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=t.cloneNode(!0);i.style.display="block",r.appendChild(i),lh.appendChild(r);try{e=i.getBBox()}catch(t){}return r.removeChild(i),lh.removeChild(r),e},Gh=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},Jh=function(t){var e,n;try{e=t.getBBox()}catch(r){e=Zh(t),n=1}return e&&(e.width||e.height)||n||(e=Zh(t)),!e||e.width||e.x||e.y?e:{x:+Gh(t,["x","cx","x1"])||0,y:+Gh(t,["y","cy","y1"])||0,width:0,height:0}},Xh=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!Jh(t))},Qh=function(t,e){if(e){var n,r=t.style;e in vh&&e!==zh&&(e=Lh),r.removeProperty?("ms"!==(n=e.substr(0,2))&&"webkit"!==e.substr(0,6)||(e="-"+e),r.removeProperty("--"===n?e:e.replace(Eh,"-$1").toLowerCase())):r.removeAttribute(e)}},tf=function(t,e,n,r,i,o){var s=new Gc(t._pt,e,n,0,1,o?Bh:Th);return t._pt=s,s.b=r,s.e=i,t._props.push(n),s},ef={deg:1,rad:1,turn:1},nf={grid:1,flex:1},rf=function t(e,n,r,i){var o,s,a,u,c=parseFloat(r)||0,h=(r+"").trim().substr((c+"").length)||"px",f=ph.style,l=Ah.test(n),d="svg"===e.tagName.toLowerCase(),p=(d?"client":"offset")+(l?"Width":"Height"),g=100,m="px"===i,y="%"===i;if(i===h||!c||ef[i]||ef[h])return c;if("px"!==h&&!m&&(c=t(e,n,r,"px")),u=e.getCTM&&Xh(e),(y||"%"===h)&&(vh[n]||~n.indexOf("adius")))return o=u?e.getBBox()[l?"width":"height"]:e[p],Qa(y?c/o*g:c/100*o);if(f[l?"width":"height"]=g+(m?h:i),s="rem"!==i&&~n.indexOf("adius")||"em"===i&&e.appendChild&&!d?e:e.parentNode,u&&(s=(e.ownerSVGElement||{}).parentNode),s&&s!==fh&&s.appendChild||(s=fh.body),(a=s._gsap)&&y&&a.width&&l&&a.time===hc.time&&!a.uncache)return Qa(c/a.width*g);if(!y||"height"!==n&&"width"!==n)(y||"%"===h)&&!nf[Kh(s,"display")]&&(f.position=Kh(e,"position")),s===e&&(f.position="static"),s.appendChild(ph),o=ph[p],s.removeChild(ph),f.position="absolute";else{var v=e.style[n];e.style[n]=g+i,o=e[p],v?e.style[n]=v:Qh(e,n)}return l&&y&&((a=Ga(s)).time=hc.time,a.width=s[p]),Qa(m?o*c/g:o&&c?g/o*c:0)},of=function(t,e,n,r){var i;return dh||Yh(),e in kh&&"transform"!==e&&~(e=kh[e]).indexOf(",")&&(e=e.split(",")[0]),vh[e]&&"transform"!==e?(i=yf(t,r),i="transformOrigin"!==e?i[e]:i.svg?i.origin:vf(Kh(t,zh))+" "+i.zOrigin+"px"):(!(i=t.style[e])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=hf[e]&&hf[e](t,e,n)||Kh(t,e)||Ja(t,e)||("opacity"===e?1:0)),n&&!~(i+"").trim().indexOf(" ")?rf(t,e,i,n)+n:i},sf=function(t,e,n,r){if(!n||"none"===n){var i=qh(e,t,1),o=i&&Kh(t,i,1);o&&o!==n?(e=i,n=o):"borderColor"===e&&(n=Kh(t,"borderTopColor"))}var s,a,u,c,h,f,l,d,p,g,m,y=new Gc(this._pt,t.style,e,0,1,Hc),v=0,w=0;if(y.b=n,y.e=r,n+="","var(--"===(r+="").substring(0,6)&&(r=Kh(t,r.substring(4,r.indexOf(")")))),"auto"===r&&(f=t.style[e],t.style[e]=r,r=Kh(t,e)||r,f?t.style[e]=f:Qh(t,e)),cc(s=[n,r]),r=s[1],u=(n=s[0]).match(Ia)||[],(r.match(Ia)||[]).length){for(;a=Ia.exec(r);)l=a[0],p=r.substring(v,a.index),h?h=(h+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(h=1),l!==(f=u[w++]||"")&&(c=parseFloat(f)||0,m=f.substr((c+"").length),"="===l.charAt(1)&&(l=eu(c,l)+m),d=parseFloat(l),g=l.substr((d+"").length),v=Ia.lastIndex-g.length,g||(g=g||ia.units[e]||m,v===r.length&&(r+=g,y.e+=g)),m!==g&&(c=rf(t,e,f,g)||0),y._pt={_next:y._pt,p:p||1===w?p:",",s:c,c:d-c,m:h&&h<4||"zIndex"===e?Math.round:0});y.c=v<r.length?r.substring(v,r.length):""}else y.r="display"===e&&"none"===r?Bh:Th;return Ma.test(r)&&(y.e=0),this._pt=y,y},af={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},uf=function(t){var e=t.split(" "),n=e[0],r=e[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(t=n,n=r,r=t),e[0]=af[n]||n,e[1]=af[r]||r,e.join(" ")},cf=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,r,i,o=e.t,s=o.style,a=e.u,u=o._gsap;if("all"===a||!0===a)s.cssText="",r=1;else for(i=(a=a.split(",")).length;--i>-1;)n=a[i],vh[n]&&(r=1,n="transformOrigin"===n?zh:Lh),Qh(o,n);r&&(Qh(o,Lh),u&&(u.svg&&o.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",yf(o,1),u.uncache=1,jh(s)))}},hf={clearProps:function(t,e,n,r,i){if("isFromStart"!==i.data){var o=t._pt=new Gc(t._pt,e,n,0,0,cf);return o.u=r,o.pr=-10,o.tween=i,t._props.push(n),1}}},ff=[1,0,0,1,0,0],lf={},df=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},pf=function(t){var e=Kh(t,Lh);return df(e)?ff:e.substr(7).match(ka).map(Qa)},gf=function(t,e){var n,r,i,o,s=t._gsap||Ga(t),a=t.style,u=pf(t);return s.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(u=[(i=t.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?ff:u:(u!==ff||t.offsetParent||t===lh||s.svg||(i=a.display,a.display="block",(n=t.parentNode)&&(t.offsetParent||t.getBoundingClientRect().width)||(o=1,r=t.nextElementSibling,lh.appendChild(t)),u=pf(t),i?a.display=i:Qh(t,"display"),o&&(r?n.insertBefore(t,r):n?n.appendChild(t):lh.removeChild(t))),e&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},mf=function(t,e,n,r,i,o){var s,a,u,c=t._gsap,h=i||gf(t,!0),f=c.xOrigin||0,l=c.yOrigin||0,d=c.xOffset||0,p=c.yOffset||0,g=h[0],m=h[1],y=h[2],v=h[3],w=h[4],b=h[5],_=e.split(" "),E=parseFloat(_[0])||0,A=parseFloat(_[1])||0;n?h!==ff&&(a=g*v-m*y)&&(u=E*(-m/a)+A*(g/a)-(g*b-m*w)/a,E=E*(v/a)+A*(-y/a)+(y*b-v*w)/a,A=u):(E=(s=Jh(t)).x+(~_[0].indexOf("%")?E/100*s.width:E),A=s.y+(~(_[1]||_[0]).indexOf("%")?A/100*s.height:A)),r||!1!==r&&c.smooth?(w=E-f,b=A-l,c.xOffset=d+(w*g+b*y)-w,c.yOffset=p+(w*m+b*v)-b):c.xOffset=c.yOffset=0,c.xOrigin=E,c.yOrigin=A,c.smooth=!!r,c.origin=e,c.originIsAbsolute=!!n,t.style[zh]="0px 0px",o&&(tf(o,c,"xOrigin",f,E),tf(o,c,"yOrigin",l,A),tf(o,c,"xOffset",d,c.xOffset),tf(o,c,"yOffset",p,c.yOffset)),t.setAttribute("data-svg-origin",E+" "+A)},yf=function(t,e){var n=t._gsap||new Ac(t);if("x"in n&&!e&&!n.uncache)return n;var r,i,o,s,a,u,c,h,f,l,d,p,g,m,y,v,w,b,_,E,A,x,k,I,S,M,O,T,B,P,R,C,$=t.style,N=n.scaleX<0,D="px",L="deg",z=getComputedStyle(t),U=Kh(t,zh)||"0";return r=i=o=u=c=h=f=l=d=0,s=a=1,n.svg=!(!t.getCTM||!Xh(t)),z.translate&&("none"===z.translate&&"none"===z.scale&&"none"===z.rotate||($[Lh]=("none"!==z.translate?"translate3d("+(z.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==z.rotate?"rotate("+z.rotate+") ":"")+("none"!==z.scale?"scale("+z.scale.split(" ").join(",")+") ":"")+("none"!==z[Lh]?z[Lh]:"")),$.scale=$.rotate=$.translate="none"),m=gf(t,n.svg),n.svg&&(n.uncache?(S=t.getBBox(),U=n.xOrigin-S.x+"px "+(n.yOrigin-S.y)+"px",I=""):I=!e&&t.getAttribute("data-svg-origin"),mf(t,I||U,!!I||n.originIsAbsolute,!1!==n.smooth,m)),p=n.xOrigin||0,g=n.yOrigin||0,m!==ff&&(b=m[0],_=m[1],E=m[2],A=m[3],r=x=m[4],i=k=m[5],6===m.length?(s=Math.sqrt(b*b+_*_),a=Math.sqrt(A*A+E*E),u=b||_?_h(_,b)*wh:0,(f=E||A?_h(E,A)*wh+u:0)&&(a*=Math.abs(Math.cos(f*bh))),n.svg&&(r-=p-(p*b+g*E),i-=g-(p*_+g*A))):(C=m[6],P=m[7],O=m[8],T=m[9],B=m[10],R=m[11],r=m[12],i=m[13],o=m[14],c=(y=_h(C,B))*wh,y&&(I=x*(v=Math.cos(-y))+O*(w=Math.sin(-y)),S=k*v+T*w,M=C*v+B*w,O=x*-w+O*v,T=k*-w+T*v,B=C*-w+B*v,R=P*-w+R*v,x=I,k=S,C=M),h=(y=_h(-E,B))*wh,y&&(v=Math.cos(-y),R=A*(w=Math.sin(-y))+R*v,b=I=b*v-O*w,_=S=_*v-T*w,E=M=E*v-B*w),u=(y=_h(_,b))*wh,y&&(I=b*(v=Math.cos(y))+_*(w=Math.sin(y)),S=x*v+k*w,_=_*v-b*w,k=k*v-x*w,b=I,x=S),c&&Math.abs(c)+Math.abs(u)>359.9&&(c=u=0,h=180-h),s=Qa(Math.sqrt(b*b+_*_+E*E)),a=Qa(Math.sqrt(k*k+C*C)),y=_h(x,k),f=Math.abs(y)>2e-4?y*wh:0,d=R?1/(R<0?-R:R):0),n.svg&&(I=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!df(Kh(t,Lh)),I&&t.setAttribute("transform",I))),Math.abs(f)>90&&Math.abs(f)<270&&(N?(s*=-1,f+=u<=0?180:-180,u+=u<=0?180:-180):(a*=-1,f+=f<=0?180:-180)),e=e||n.uncache,n.x=r-((n.xPercent=r&&(!e&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-r)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+D,n.y=i-((n.yPercent=i&&(!e&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-i)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+D,n.z=o+D,n.scaleX=Qa(s),n.scaleY=Qa(a),n.rotation=Qa(u)+L,n.rotationX=Qa(c)+L,n.rotationY=Qa(h)+L,n.skewX=f+L,n.skewY=l+L,n.transformPerspective=d+D,(n.zOrigin=parseFloat(U.split(" ")[2])||!e&&n.zOrigin||0)&&($[zh]=vf(U)),n.xOffset=n.yOffset=0,n.force3D=ia.force3D,n.renderTransform=n.svg?kf:yh?xf:bf,n.uncache=0,n},vf=function(t){return(t=t.split(" "))[0]+" "+t[1]},wf=function(t,e,n){var r=Du(e);return Qa(parseFloat(e)+parseFloat(rf(t,"x",n+"px",r)))+r},bf=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,xf(t,e)},_f="0deg",Ef="0px",Af=") ",xf=function(t,e){var n=e||this,r=n.xPercent,i=n.yPercent,o=n.x,s=n.y,a=n.z,u=n.rotation,c=n.rotationY,h=n.rotationX,f=n.skewX,l=n.skewY,d=n.scaleX,p=n.scaleY,g=n.transformPerspective,m=n.force3D,y=n.target,v=n.zOrigin,w="",b="auto"===m&&t&&1!==t||!0===m;if(v&&(h!==_f||c!==_f)){var _,E=parseFloat(c)*bh,A=Math.sin(E),x=Math.cos(E);E=parseFloat(h)*bh,_=Math.cos(E),o=wf(y,o,A*_*-v),s=wf(y,s,-Math.sin(E)*-v),a=wf(y,a,x*_*-v+v)}g!==Ef&&(w+="perspective("+g+Af),(r||i)&&(w+="translate("+r+"%, "+i+"%) "),(b||o!==Ef||s!==Ef||a!==Ef)&&(w+=a!==Ef||b?"translate3d("+o+", "+s+", "+a+") ":"translate("+o+", "+s+Af),u!==_f&&(w+="rotate("+u+Af),c!==_f&&(w+="rotateY("+c+Af),h!==_f&&(w+="rotateX("+h+Af),f===_f&&l===_f||(w+="skew("+f+", "+l+Af),1===d&&1===p||(w+="scale("+d+", "+p+Af),y.style[Lh]=w||"translate(0, 0)"},kf=function(t,e){var n,r,i,o,s,a=e||this,u=a.xPercent,c=a.yPercent,h=a.x,f=a.y,l=a.rotation,d=a.skewX,p=a.skewY,g=a.scaleX,m=a.scaleY,y=a.target,v=a.xOrigin,w=a.yOrigin,b=a.xOffset,_=a.yOffset,E=a.forceCSS,A=parseFloat(h),x=parseFloat(f);l=parseFloat(l),d=parseFloat(d),(p=parseFloat(p))&&(d+=p=parseFloat(p),l+=p),l||d?(l*=bh,d*=bh,n=Math.cos(l)*g,r=Math.sin(l)*g,i=Math.sin(l-d)*-m,o=Math.cos(l-d)*m,d&&(p*=bh,s=Math.tan(d-p),i*=s=Math.sqrt(1+s*s),o*=s,p&&(s=Math.tan(p),n*=s=Math.sqrt(1+s*s),r*=s)),n=Qa(n),r=Qa(r),i=Qa(i),o=Qa(o)):(n=g,o=m,r=i=0),(A&&!~(h+"").indexOf("px")||x&&!~(f+"").indexOf("px"))&&(A=rf(y,"x",h,"px"),x=rf(y,"y",f,"px")),(v||w||b||_)&&(A=Qa(A+v-(v*n+w*i)+b),x=Qa(x+w-(v*r+w*o)+_)),(u||c)&&(s=y.getBBox(),A=Qa(A+u/100*s.width),x=Qa(x+c/100*s.height)),s="matrix("+n+","+r+","+i+","+o+","+A+","+x+")",y.setAttribute("transform",s),E&&(y.style[Lh]=s)},If=function(t,e,n,r,i){var o,s,a=360,u=pa(i),c=parseFloat(i)*(u&&~i.indexOf("rad")?wh:1)-r,h=r+c+"deg";return u&&("short"===(o=i.split("_")[1])&&(c%=a)!==c%180&&(c+=c<0?a:-360),"cw"===o&&c<0?c=(c+36e9)%a-~~(c/a)*a:"ccw"===o&&c>0&&(c=(c-36e9)%a-~~(c/a)*a)),t._pt=s=new Gc(t._pt,e,n,r,c,Sh),s.e=h,s.u="deg",t._props.push(n),s},Sf=function(t,e){for(var n in e)t[n]=e[n];return t},Mf=function(t,e,n){var r,i,o,s,a,u,c,h=Sf({},n._gsap),f=n.style;for(i in h.svg?(o=n.getAttribute("transform"),n.setAttribute("transform",""),f[Lh]=e,r=yf(n,1),Qh(n,Lh),n.setAttribute("transform",o)):(o=getComputedStyle(n)[Lh],f[Lh]=e,r=yf(n,1),f[Lh]=o),vh)(o=h[i])!==(s=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(a=Du(o)!==(c=Du(s))?rf(n,i,o,c):parseFloat(o),u=parseFloat(s),t._pt=new Gc(t._pt,r,i,a,u-a,Ih),t._pt.u=c||0,t._props.push(i));Sf(r,h)};Xa("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",i="Bottom",o="Left",s=(e<3?[n,r,i,o]:[n+o,n+r,i+r,i+o]).map(function(n){return e<2?t+n:"border"+n+t});hf[e>1?"border"+t:t]=function(t,e,n,r,i){var o,a;if(arguments.length<4)return o=s.map(function(e){return of(t,e,n)}),5===(a=o.join(" ")).split(o[0]).length?o[0]:a;o=(r+"").split(" "),a={},s.forEach(function(t,e){return a[t]=o[e]=o[e]||o[(e-1)/2|0]}),t.init(e,a,i)}});var Of,Tf,Bf={name:"css",register:Yh,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,r,i){var o,s,a,u,c,h,f,l,d,p,g,m,y,v,w,b,_=this._props,E=t.style,A=n.vars.startAt;for(f in dh||Yh(),this.styles=this.styles||Wh(t),b=this.styles.props,this.tween=n,e)if("autoRound"!==f&&(s=e[f],!Ha[f]||!Tc(f,e,n,r,t,i)))if(c=typeof s,h=hf[f],"function"===c&&(c=typeof(s=s.call(n,r,t,i))),"string"===c&&~s.indexOf("random(")&&(s=Yu(s)),h)h(this,t,f,s,n)&&(w=1);else if("--"===f.substr(0,2))o=(getComputedStyle(t).getPropertyValue(f)+"").trim(),s+="",ac.lastIndex=0,ac.test(o)||(l=Du(o),d=Du(s)),d?l!==d&&(o=rf(t,f,o,d)+d):l&&(s+=l),this.add(E,"setProperty",o,s,r,i,0,0,f),_.push(f),b.push(f,0,E[f]);else if("undefined"!==c){if(A&&f in A?(o="function"==typeof A[f]?A[f].call(n,r,t,i):A[f],pa(o)&&~o.indexOf("random(")&&(o=Yu(o)),Du(o+"")||"auto"===o||(o+=ia.units[f]||Du(of(t,f))||""),"="===(o+"").charAt(1)&&(o=of(t,f))):o=of(t,f),u=parseFloat(o),(p="string"===c&&"="===s.charAt(1)&&s.substr(0,2))&&(s=s.substr(2)),a=parseFloat(s),f in kh&&("autoAlpha"===f&&(1===u&&"hidden"===of(t,"visibility")&&a&&(u=0),b.push("visibility",0,E.visibility),tf(this,E,"visibility",u?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==f&&"transform"!==f&&~(f=kh[f]).indexOf(",")&&(f=f.split(",")[0])),g=f in vh)if(this.styles.save(f),"string"===c&&"var(--"===s.substring(0,6)&&(s=Kh(t,s.substring(4,s.indexOf(")"))),a=parseFloat(s)),m||((y=t._gsap).renderTransform&&!e.parseTransform||yf(t,e.parseTransform),v=!1!==e.smoothOrigin&&y.smooth,(m=this._pt=new Gc(this._pt,E,Lh,0,1,y.renderTransform,y,0,-1)).dep=1),"scale"===f)this._pt=new Gc(this._pt,y,"scaleY",y.scaleY,(p?eu(y.scaleY,p+a):a)-y.scaleY||0,Ih),this._pt.u=0,_.push("scaleY",f),f+="X";else{if("transformOrigin"===f){b.push(zh,0,E[zh]),s=uf(s),y.svg?mf(t,s,0,v,0,this):((d=parseFloat(s.split(" ")[2])||0)!==y.zOrigin&&tf(this,y,"zOrigin",y.zOrigin,d),tf(this,E,f,vf(o),vf(s)));continue}if("svgOrigin"===f){mf(t,s,1,v,0,this);continue}if(f in lf){If(this,y,f,u,p?eu(u,p+s):s);continue}if("smoothOrigin"===f){tf(this,y,"smooth",y.smooth,s);continue}if("force3D"===f){y[f]=s;continue}if("transform"===f){Mf(this,s,t);continue}}else f in E||(f=qh(f)||f);if(g||(a||0===a)&&(u||0===u)&&!xh.test(s)&&f in E)a||(a=0),(l=(o+"").substr((u+"").length))!==(d=Du(s)||(f in ia.units?ia.units[f]:l))&&(u=rf(t,f,o,d)),this._pt=new Gc(this._pt,g?y:E,f,u,(p?eu(u,p+a):a)-u,g||"px"!==d&&"zIndex"!==f||!1===e.autoRound?Ih:Oh),this._pt.u=d||0,l!==d&&"%"!==d&&(this._pt.b=o,this._pt.r=Mh);else if(f in E)sf.call(this,t,f,o,p?p+s:s);else if(f in t)this.add(t,f,o||t[f],p?p+s:s,r,i);else if("parseTransform"!==f){Ca(f,s);continue}g||(f in E?b.push(f,0,E[f]):"function"==typeof t[f]?b.push(f,2,t[f]()):b.push(f,1,o||t[f])),_.push(f)}w&&Zc(this)},render:function(t,e){if(e.tween._time||!mh())for(var n=e._pt;n;)n.r(t,n.d),n=n._next;else e.styles.revert()},get:of,aliases:kh,getSetter:function(t,e,n){var r=kh[e];return r&&r.indexOf(",")<0&&(e=r),e in vh&&e!==zh&&(t._gsap.x||of(t,"x"))?n&&gh===n?"scale"===e?$h:Ch:(gh=n||{})&&("scale"===e?Nh:Dh):t.style&&!ya(t.style[e])?Ph:~e.indexOf("-")?Rh:jc(t,e)},core:{_removeProperty:Qh,_getMatrix:gf}};ch.utils.checkPrefix=qh,ch.core.getStyleSaver=Wh,Tf=Xa("x,y,z,scale,scaleX,scaleY,xPercent,yPercent"+","+(Of="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(t){vh[t]=1}),Xa(Of,function(t){ia.units[t]="deg",lf[t]=1}),kh[Tf[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+Of,Xa("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(t){var e=t.split(":");kh[e[1]]=Tf[e[0]]}),Xa("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){ia.units[t]="px"}),ch.registerPlugin(Bf);var Pf=ch.registerPlugin(Bf)||ch,Rf=(Pf.core.Tween,n(606)),Cf=n.n(Rf),$f=(t.Devnet,Ps("https://api.devnet.solana.com").rpc),Nf={wallet:new Zo,rpc:$f,colyseus:Go,gill:{createSolanaRpc:Ps,lamports:Rs,address:function(t){return Ls(t),t}},gsap:Pf,web3:{Transaction:di,Message:hi}};window.lamports=Rs,window.Buffer=w.Buffer,window.WalletAdapterNetwork=t,window.PhantomWalletAdapter=Zo,window.gsap=Pf,window.Colyseus=Go,window.process=Cf(),window.SolanaSDK=Nf,console.log("Solana SDK (Gill with web3 compat) bundle loaded.",window.SolanaSDK)})()})();